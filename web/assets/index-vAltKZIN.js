var mB=Object.defineProperty;var hB=(e,t,n)=>t in e?mB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tv=(e,t,n)=>hB(e,typeof t!="symbol"?t+"":t,n);function pB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ws(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var AE={exports:{}},y0={},PE={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=Symbol.for("react.element"),gB=Symbol.for("react.portal"),xB=Symbol.for("react.fragment"),vB=Symbol.for("react.strict_mode"),yB=Symbol.for("react.profiler"),bB=Symbol.for("react.provider"),wB=Symbol.for("react.context"),kB=Symbol.for("react.forward_ref"),SB=Symbol.for("react.suspense"),NB=Symbol.for("react.memo"),CB=Symbol.for("react.lazy"),uC=Symbol.iterator;function jB(e){return e===null||typeof e!="object"?null:(e=uC&&e[uC]||e["@@iterator"],typeof e=="function"?e:null)}var DE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TE=Object.assign,EE={};function ud(e,t,n){this.props=e,this.context=t,this.refs=EE,this.updater=n||DE}ud.prototype.isReactComponent={};ud.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ud.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ME(){}ME.prototype=ud.prototype;function Jw(e,t,n){this.props=e,this.context=t,this.refs=EE,this.updater=n||DE}var e1=Jw.prototype=new ME;e1.constructor=Jw;TE(e1,ud.prototype);e1.isPureReactComponent=!0;var dC=Array.isArray,OE=Object.prototype.hasOwnProperty,t1={current:null},IE={key:!0,ref:!0,__self:!0,__source:!0};function _E(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)OE.call(t,r)&&!IE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:bm,type:e,key:a,ref:s,props:i,_owner:t1.current}}function AB(e,t){return{$$typeof:bm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function n1(e){return typeof e=="object"&&e!==null&&e.$$typeof===bm}function PB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fC=/\/+/g;function nv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PB(""+e.key):t.toString(36)}function mp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bm:case gB:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+nv(s,0):r,dC(i)?(n="",e!=null&&(n=e.replace(fC,"$&/")+"/"),mp(i,t,n,"",function(c){return c})):i!=null&&(n1(i)&&(i=AB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",dC(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+nv(a,o);s+=mp(a,t,n,l,i)}else if(l=jB(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+nv(a,o++),s+=mp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Sh(e,t,n){if(e==null)return e;var r=[],i=0;return mp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function DB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ui={current:null},hp={transition:null},TB={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:hp,ReactCurrentOwner:t1};function LE(){throw Error("act(...) is not supported in production builds of React.")}bn.Children={map:Sh,forEach:function(e,t,n){Sh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sh(e,function(){t++}),t},toArray:function(e){return Sh(e,function(t){return t})||[]},only:function(e){if(!n1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bn.Component=ud;bn.Fragment=xB;bn.Profiler=yB;bn.PureComponent=Jw;bn.StrictMode=vB;bn.Suspense=SB;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TB;bn.act=LE;bn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=t1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)OE.call(t,l)&&!IE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:bm,type:e.type,key:i,ref:a,props:r,_owner:s}};bn.createContext=function(e){return e={$$typeof:wB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bB,_context:e},e.Consumer=e};bn.createElement=_E;bn.createFactory=function(e){var t=_E.bind(null,e);return t.type=e,t};bn.createRef=function(){return{current:null}};bn.forwardRef=function(e){return{$$typeof:kB,render:e}};bn.isValidElement=n1;bn.lazy=function(e){return{$$typeof:CB,_payload:{_status:-1,_result:e},_init:DB}};bn.memo=function(e,t){return{$$typeof:NB,type:e,compare:t===void 0?null:t}};bn.startTransition=function(e){var t=hp.transition;hp.transition={};try{e()}finally{hp.transition=t}};bn.unstable_act=LE;bn.useCallback=function(e,t){return Ui.current.useCallback(e,t)};bn.useContext=function(e){return Ui.current.useContext(e)};bn.useDebugValue=function(){};bn.useDeferredValue=function(e){return Ui.current.useDeferredValue(e)};bn.useEffect=function(e,t){return Ui.current.useEffect(e,t)};bn.useId=function(){return Ui.current.useId()};bn.useImperativeHandle=function(e,t,n){return Ui.current.useImperativeHandle(e,t,n)};bn.useInsertionEffect=function(e,t){return Ui.current.useInsertionEffect(e,t)};bn.useLayoutEffect=function(e,t){return Ui.current.useLayoutEffect(e,t)};bn.useMemo=function(e,t){return Ui.current.useMemo(e,t)};bn.useReducer=function(e,t,n){return Ui.current.useReducer(e,t,n)};bn.useRef=function(e){return Ui.current.useRef(e)};bn.useState=function(e){return Ui.current.useState(e)};bn.useSyncExternalStore=function(e,t,n){return Ui.current.useSyncExternalStore(e,t,n)};bn.useTransition=function(){return Ui.current.useTransition()};bn.version="18.3.1";PE.exports=bn;var v=PE.exports;const b0=ws(v),EB=pB({__proto__:null,default:b0},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MB=v,OB=Symbol.for("react.element"),IB=Symbol.for("react.fragment"),_B=Object.prototype.hasOwnProperty,LB=MB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$B={key:!0,ref:!0,__self:!0,__source:!0};function $E(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)_B.call(t,r)&&!$B.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:OB,type:e,key:a,ref:s,props:i,_owner:LB.current}}y0.Fragment=IB;y0.jsx=$E;y0.jsxs=$E;AE.exports=y0;var u=AE.exports,Ey={},FE={exports:{}},Da={},RE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,ue){var M=W.length;W.push(ue);e:for(;0<M;){var A=M-1>>>1,ae=W[A];if(0<i(ae,ue))W[A]=ue,W[M]=ae,M=A;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ue=W[0],M=W.pop();if(M!==ue){W[0]=M;e:for(var A=0,ae=W.length,k=ae>>>1;A<k;){var z=2*(A+1)-1,U=W[z],J=z+1,Z=W[J];if(0>i(U,M))J<ae&&0>i(Z,U)?(W[A]=Z,W[J]=M,A=J):(W[A]=U,W[z]=M,A=z);else if(J<ae&&0>i(Z,M))W[A]=Z,W[J]=M,A=J;else break e}}return ue}function i(W,ue){var M=W.sortIndex-ue.sortIndex;return M!==0?M:W.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var ue=n(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=W)r(c),ue.sortIndex=ue.expirationTime,t(l,ue);else break;ue=n(c)}}function N(W){if(g=!1,b(W),!p)if(n(l)!==null)p=!0,pe(C);else{var ue=n(c);ue!==null&&X(N,ue.startTime-W)}}function C(W,ue){p=!1,g&&(g=!1,x(E),E=-1),m=!0;var M=h;try{for(b(ue),f=n(l);f!==null&&(!(f.expirationTime>ue)||W&&!_());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var ae=A(f.expirationTime<=ue);ue=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(l)&&r(l),b(ue)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var z=n(c);z!==null&&X(N,z.startTime-ue),k=!1}return k}finally{f=null,h=M,m=!1}}var S=!1,j=null,E=-1,$=5,D=-1;function _(){return!(e.unstable_now()-D<$)}function O(){if(j!==null){var W=e.unstable_now();D=W;var ue=!0;try{ue=j(!0,W)}finally{ue?G():(S=!1,j=null)}}else S=!1}var G;if(typeof w=="function")G=function(){w(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ce=Q.port2;Q.port1.onmessage=O,G=function(){ce.postMessage(null)}}else G=function(){y(O,0)};function pe(W){j=W,S||(S=!0,G())}function X(W,ue){E=y(function(){W(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,pe(C))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(h){case 1:case 2:case 3:var ue=3;break;default:ue=h}var M=h;h=ue;try{return W()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var M=h;h=W;try{return ue()}finally{h=M}},e.unstable_scheduleCallback=function(W,ue,M){var A=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?A+M:A):M=A,W){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=M+ae,W={id:d++,callback:ue,priorityLevel:W,startTime:M,expirationTime:ae,sortIndex:-1},M>A?(W.sortIndex=M,t(c,W),n(l)===null&&W===n(c)&&(g?(x(E),E=-1):g=!0,X(N,M-A))):(W.sortIndex=ae,t(l,W),p||m||(p=!0,pe(C))),W},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(W){var ue=h;return function(){var M=h;h=ue;try{return W.apply(this,arguments)}finally{h=M}}}})(BE);RE.exports=BE;var FB=RE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB=v,ja=FB;function et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zE=new Set,Tf={};function Bc(e,t){Vu(e,t),Vu(e+"Capture",t)}function Vu(e,t){for(Tf[e]=t,e=0;e<t.length;e++)zE.add(t[e])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),My=Object.prototype.hasOwnProperty,BB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mC={},hC={};function zB(e){return My.call(hC,e)?!0:My.call(mC,e)?!1:BB.test(e)?hC[e]=!0:(mC[e]=!0,!1)}function UB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VB(e,t,n,r){if(t===null||typeof t>"u"||UB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hi[e]=new Vi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hi[t]=new Vi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hi[e]=new Vi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hi[e]=new Vi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hi[e]=new Vi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hi[e]=new Vi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hi[e]=new Vi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hi[e]=new Vi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hi[e]=new Vi(e,5,!1,e.toLowerCase(),null,!1,!1)});var r1=/[\-:]([a-z])/g;function i1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(r1,i1);hi[t]=new Vi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(r1,i1);hi[t]=new Vi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(r1,i1);hi[t]=new Vi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hi[e]=new Vi(e,1,!1,e.toLowerCase(),null,!1,!1)});hi.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hi[e]=new Vi(e,1,!1,e.toLowerCase(),null,!0,!0)});function a1(e,t,n,r){var i=hi.hasOwnProperty(t)?hi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VB(t,n,i,r)&&(n=null),r||i===null?zB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Oo=RB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),pu=Symbol.for("react.portal"),gu=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),Oy=Symbol.for("react.profiler"),UE=Symbol.for("react.provider"),VE=Symbol.for("react.context"),o1=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),l1=Symbol.for("react.memo"),il=Symbol.for("react.lazy"),WE=Symbol.for("react.offscreen"),pC=Symbol.iterator;function Id(e){return e===null||typeof e!="object"?null:(e=pC&&e[pC]||e["@@iterator"],typeof e=="function"?e:null)}var xr=Object.assign,rv;function ef(e){if(rv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rv=t&&t[1]||""}return`
`+rv+e}var iv=!1;function av(e,t){if(!e||iv)return"";iv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{iv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ef(e):""}function WB(e){switch(e.tag){case 5:return ef(e.type);case 16:return ef("Lazy");case 13:return ef("Suspense");case 19:return ef("SuspenseList");case 0:case 2:case 15:return e=av(e.type,!1),e;case 11:return e=av(e.type.render,!1),e;case 1:return e=av(e.type,!0),e;default:return""}}function Ly(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gu:return"Fragment";case pu:return"Portal";case Oy:return"Profiler";case s1:return"StrictMode";case Iy:return"Suspense";case _y:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VE:return(e.displayName||"Context")+".Consumer";case UE:return(e._context.displayName||"Context")+".Provider";case o1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case l1:return t=e.displayName||null,t!==null?t:Ly(e.type)||"Memo";case il:t=e._payload,e=e._init;try{return Ly(e(t))}catch{}}return null}function HB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ly(t);case 8:return t===s1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qB(e){var t=HE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ch(e){e._valueTracker||(e._valueTracker=qB(e))}function qE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=HE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $p(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $y(e,t){var n=t.checked;return xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Al(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KE(e,t){t=t.checked,t!=null&&a1(e,"checked",t,!1)}function Fy(e,t){KE(e,t);var n=Al(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ry(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ry(e,t.type,Al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ry(e,t,n){(t!=="number"||$p(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tf=Array.isArray;function Ou(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Al(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function By(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(et(91));return xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(et(92));if(tf(n)){if(1<n.length)throw Error(et(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Al(n)}}function GE(e,t){var n=Al(t.value),r=Al(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jh,XE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jh=jh||document.createElement("div"),jh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ef(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KB=["Webkit","ms","Moz","O"];Object.keys(df).forEach(function(e){KB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),df[t]=df[e]})});function QE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||df.hasOwnProperty(e)&&df[e]?(""+t).trim():t+"px"}function ZE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GB=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uy(e,t){if(t){if(GB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(et(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(et(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(et(61))}if(t.style!=null&&typeof t.style!="object")throw Error(et(62))}}function Vy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=null;function c1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hy=null,Iu=null,_u=null;function bC(e){if(e=Sm(e)){if(typeof Hy!="function")throw Error(et(280));var t=e.stateNode;t&&(t=C0(t),Hy(e.stateNode,e.type,t))}}function JE(e){Iu?_u?_u.push(e):_u=[e]:Iu=e}function eM(){if(Iu){var e=Iu,t=_u;if(_u=Iu=null,bC(e),t)for(e=0;e<t.length;e++)bC(t[e])}}function tM(e,t){return e(t)}function nM(){}var sv=!1;function rM(e,t,n){if(sv)return e(t,n);sv=!0;try{return tM(e,t,n)}finally{sv=!1,(Iu!==null||_u!==null)&&(nM(),eM())}}function Mf(e,t){var n=e.stateNode;if(n===null)return null;var r=C0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(et(231,t,typeof n));return n}var qy=!1;if(ko)try{var _d={};Object.defineProperty(_d,"passive",{get:function(){qy=!0}}),window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{qy=!1}function YB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ff=!1,Fp=null,Rp=!1,Ky=null,XB={onError:function(e){ff=!0,Fp=e}};function QB(e,t,n,r,i,a,s,o,l){ff=!1,Fp=null,YB.apply(XB,arguments)}function ZB(e,t,n,r,i,a,s,o,l){if(QB.apply(this,arguments),ff){if(ff){var c=Fp;ff=!1,Fp=null}else throw Error(et(198));Rp||(Rp=!0,Ky=c)}}function zc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wC(e){if(zc(e)!==e)throw Error(et(188))}function JB(e){var t=e.alternate;if(!t){if(t=zc(e),t===null)throw Error(et(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return wC(i),e;if(a===r)return wC(i),t;a=a.sibling}throw Error(et(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(n.tag!==3)throw Error(et(188));return n.stateNode.current===n?e:t}function aM(e){return e=JB(e),e!==null?sM(e):null}function sM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sM(e);if(t!==null)return t;e=e.sibling}return null}var oM=ja.unstable_scheduleCallback,kC=ja.unstable_cancelCallback,ez=ja.unstable_shouldYield,tz=ja.unstable_requestPaint,Or=ja.unstable_now,nz=ja.unstable_getCurrentPriorityLevel,u1=ja.unstable_ImmediatePriority,lM=ja.unstable_UserBlockingPriority,Bp=ja.unstable_NormalPriority,rz=ja.unstable_LowPriority,cM=ja.unstable_IdlePriority,w0=null,Us=null;function iz(e){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(w0,e,void 0,(e.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:oz,az=Math.log,sz=Math.LN2;function oz(e){return e>>>=0,e===0?32:31-(az(e)/sz|0)|0}var Ah=64,Ph=4194304;function nf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=nf(o):(a&=s,a!==0&&(r=nf(a)))}else s=n&~i,s!==0?r=nf(s):a!==0&&(r=nf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ds(t),i=1<<n,r|=e[n],t&=~i;return r}function lz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ds(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=lz(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Gy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uM(){var e=Ah;return Ah<<=1,!(Ah&4194240)&&(Ah=64),e}function ov(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ds(t),e[t]=n}function uz(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ds(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function d1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ds(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function dM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fM,f1,mM,hM,pM,Yy=!1,Dh=[],gl=null,xl=null,vl=null,Of=new Map,If=new Map,cl=[],dz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SC(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Of.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(t.pointerId)}}function Ld(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Sm(t),t!==null&&f1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fz(e,t,n,r,i){switch(t){case"focusin":return gl=Ld(gl,e,t,n,r,i),!0;case"dragenter":return xl=Ld(xl,e,t,n,r,i),!0;case"mouseover":return vl=Ld(vl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Of.set(a,Ld(Of.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,If.set(a,Ld(If.get(a)||null,e,t,n,r,i)),!0}return!1}function gM(e){var t=sc(e.target);if(t!==null){var n=zc(t);if(n!==null){if(t=n.tag,t===13){if(t=iM(n),t!==null){e.blockedOn=t,pM(e.priority,function(){mM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Wy=r,n.target.dispatchEvent(r),Wy=null}else return t=Sm(n),t!==null&&f1(t),e.blockedOn=n,!1;t.shift()}return!0}function NC(e,t,n){pp(e)&&n.delete(t)}function mz(){Yy=!1,gl!==null&&pp(gl)&&(gl=null),xl!==null&&pp(xl)&&(xl=null),vl!==null&&pp(vl)&&(vl=null),Of.forEach(NC),If.forEach(NC)}function $d(e,t){e.blockedOn===t&&(e.blockedOn=null,Yy||(Yy=!0,ja.unstable_scheduleCallback(ja.unstable_NormalPriority,mz)))}function _f(e){function t(i){return $d(i,e)}if(0<Dh.length){$d(Dh[0],e);for(var n=1;n<Dh.length;n++){var r=Dh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gl!==null&&$d(gl,e),xl!==null&&$d(xl,e),vl!==null&&$d(vl,e),Of.forEach(t),If.forEach(t),n=0;n<cl.length;n++)r=cl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cl.length&&(n=cl[0],n.blockedOn===null);)gM(n),n.blockedOn===null&&cl.shift()}var Lu=Oo.ReactCurrentBatchConfig,Up=!0;function hz(e,t,n,r){var i=Rn,a=Lu.transition;Lu.transition=null;try{Rn=1,m1(e,t,n,r)}finally{Rn=i,Lu.transition=a}}function pz(e,t,n,r){var i=Rn,a=Lu.transition;Lu.transition=null;try{Rn=4,m1(e,t,n,r)}finally{Rn=i,Lu.transition=a}}function m1(e,t,n,r){if(Up){var i=Xy(e,t,n,r);if(i===null)xv(e,t,r,Vp,n),SC(e,r);else if(fz(i,e,t,n,r))r.stopPropagation();else if(SC(e,r),t&4&&-1<dz.indexOf(e)){for(;i!==null;){var a=Sm(i);if(a!==null&&fM(a),a=Xy(e,t,n,r),a===null&&xv(e,t,r,Vp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else xv(e,t,r,null,n)}}var Vp=null;function Xy(e,t,n,r){if(Vp=null,e=c1(r),e=sc(e),e!==null)if(t=zc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iM(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vp=e,null}function xM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nz()){case u1:return 1;case lM:return 4;case Bp:case rz:return 16;case cM:return 536870912;default:return 16}default:return 16}}var fl=null,h1=null,gp=null;function vM(){if(gp)return gp;var e,t=h1,n=t.length,r,i="value"in fl?fl.value:fl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return gp=i.slice(e,1<r?1-r:void 0)}function xp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Th(){return!0}function CC(){return!1}function Ta(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Th:CC,this.isPropagationStopped=CC,this}return xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),t}var dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p1=Ta(dd),km=xr({},dd,{view:0,detail:0}),gz=Ta(km),lv,cv,Fd,k0=xr({},km,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fd&&(Fd&&e.type==="mousemove"?(lv=e.screenX-Fd.screenX,cv=e.screenY-Fd.screenY):cv=lv=0,Fd=e),lv)},movementY:function(e){return"movementY"in e?e.movementY:cv}}),jC=Ta(k0),xz=xr({},k0,{dataTransfer:0}),vz=Ta(xz),yz=xr({},km,{relatedTarget:0}),uv=Ta(yz),bz=xr({},dd,{animationName:0,elapsedTime:0,pseudoElement:0}),wz=Ta(bz),kz=xr({},dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sz=Ta(kz),Nz=xr({},dd,{data:0}),AC=Ta(Nz),Cz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Az={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Az[e])?!!t[e]:!1}function g1(){return Pz}var Dz=xr({},km,{key:function(e){if(e.key){var t=Cz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g1,charCode:function(e){return e.type==="keypress"?xp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tz=Ta(Dz),Ez=xr({},k0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PC=Ta(Ez),Mz=xr({},km,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g1}),Oz=Ta(Mz),Iz=xr({},dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),_z=Ta(Iz),Lz=xr({},k0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$z=Ta(Lz),Fz=[9,13,27,32],x1=ko&&"CompositionEvent"in window,mf=null;ko&&"documentMode"in document&&(mf=document.documentMode);var Rz=ko&&"TextEvent"in window&&!mf,yM=ko&&(!x1||mf&&8<mf&&11>=mf),DC=" ",TC=!1;function bM(e,t){switch(e){case"keyup":return Fz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xu=!1;function Bz(e,t){switch(e){case"compositionend":return wM(t);case"keypress":return t.which!==32?null:(TC=!0,DC);case"textInput":return e=t.data,e===DC&&TC?null:e;default:return null}}function zz(e,t){if(xu)return e==="compositionend"||!x1&&bM(e,t)?(e=vM(),gp=h1=fl=null,xu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yM&&t.locale!=="ko"?null:t.data;default:return null}}var Uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Uz[e.type]:t==="textarea"}function kM(e,t,n,r){JE(r),t=Wp(t,"onChange"),0<t.length&&(n=new p1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hf=null,Lf=null;function Vz(e){OM(e,0)}function S0(e){var t=bu(e);if(qE(t))return e}function Wz(e,t){if(e==="change")return t}var SM=!1;if(ko){var dv;if(ko){var fv="oninput"in document;if(!fv){var MC=document.createElement("div");MC.setAttribute("oninput","return;"),fv=typeof MC.oninput=="function"}dv=fv}else dv=!1;SM=dv&&(!document.documentMode||9<document.documentMode)}function OC(){hf&&(hf.detachEvent("onpropertychange",NM),Lf=hf=null)}function NM(e){if(e.propertyName==="value"&&S0(Lf)){var t=[];kM(t,Lf,e,c1(e)),rM(Vz,t)}}function Hz(e,t,n){e==="focusin"?(OC(),hf=t,Lf=n,hf.attachEvent("onpropertychange",NM)):e==="focusout"&&OC()}function qz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return S0(Lf)}function Kz(e,t){if(e==="click")return S0(t)}function Gz(e,t){if(e==="input"||e==="change")return S0(t)}function Yz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ps=typeof Object.is=="function"?Object.is:Yz;function $f(e,t){if(ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!My.call(t,i)||!ps(e[i],t[i]))return!1}return!0}function IC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _C(e,t){var n=IC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IC(n)}}function CM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jM(){for(var e=window,t=$p();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$p(e.document)}return t}function v1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xz(e){var t=jM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&CM(n.ownerDocument.documentElement,n)){if(r!==null&&v1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=_C(n,a);var s=_C(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qz=ko&&"documentMode"in document&&11>=document.documentMode,vu=null,Qy=null,pf=null,Zy=!1;function LC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zy||vu==null||vu!==$p(r)||(r=vu,"selectionStart"in r&&v1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pf&&$f(pf,r)||(pf=r,r=Wp(Qy,"onSelect"),0<r.length&&(t=new p1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vu)))}function Eh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yu={animationend:Eh("Animation","AnimationEnd"),animationiteration:Eh("Animation","AnimationIteration"),animationstart:Eh("Animation","AnimationStart"),transitionend:Eh("Transition","TransitionEnd")},mv={},AM={};ko&&(AM=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function N0(e){if(mv[e])return mv[e];if(!yu[e])return e;var t=yu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in AM)return mv[e]=t[n];return e}var PM=N0("animationend"),DM=N0("animationiteration"),TM=N0("animationstart"),EM=N0("transitionend"),MM=new Map,$C="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ol(e,t){MM.set(e,t),Bc(t,[e])}for(var hv=0;hv<$C.length;hv++){var pv=$C[hv],Zz=pv.toLowerCase(),Jz=pv[0].toUpperCase()+pv.slice(1);Ol(Zz,"on"+Jz)}Ol(PM,"onAnimationEnd");Ol(DM,"onAnimationIteration");Ol(TM,"onAnimationStart");Ol("dblclick","onDoubleClick");Ol("focusin","onFocus");Ol("focusout","onBlur");Ol(EM,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);Bc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e6=new Set("cancel close invalid load scroll toggle".split(" ").concat(rf));function FC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZB(r,t,void 0,e),e.currentTarget=null}function OM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;FC(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;FC(i,o,c),a=l}}}if(Rp)throw e=Ky,Rp=!1,Ky=null,e}function nr(e,t){var n=t[rb];n===void 0&&(n=t[rb]=new Set);var r=e+"__bubble";n.has(r)||(IM(t,e,2,!1),n.add(r))}function gv(e,t,n){var r=0;t&&(r|=4),IM(n,e,r,t)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Mh]){e[Mh]=!0,zE.forEach(function(n){n!=="selectionchange"&&(e6.has(n)||gv(n,!1,e),gv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mh]||(t[Mh]=!0,gv("selectionchange",!1,t))}}function IM(e,t,n,r){switch(xM(t)){case 1:var i=hz;break;case 4:i=pz;break;default:i=m1}n=i.bind(null,t,n,e),i=void 0,!qy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=sc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}rM(function(){var c=a,d=c1(n),f=[];e:{var h=MM.get(e);if(h!==void 0){var m=p1,p=e;switch(e){case"keypress":if(xp(n)===0)break e;case"keydown":case"keyup":m=Tz;break;case"focusin":p="focus",m=uv;break;case"focusout":p="blur",m=uv;break;case"beforeblur":case"afterblur":m=uv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=jC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Oz;break;case PM:case DM:case TM:m=wz;break;case EM:m=_z;break;case"scroll":m=gz;break;case"wheel":m=$z;break;case"copy":case"cut":case"paste":m=Sz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=PC}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,x!==null&&(N=Mf(w,x),N!=null&&g.push(Rf(w,N,b)))),y)break;w=w.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Wy&&(p=n.relatedTarget||n.fromElement)&&(sc(p)||p[So]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?sc(p):null,p!==null&&(y=zc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=jC,N="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=PC,N="onPointerLeave",x="onPointerEnter",w="pointer"),y=m==null?h:bu(m),b=p==null?h:bu(p),h=new g(N,w+"leave",m,n,d),h.target=y,h.relatedTarget=b,N=null,sc(d)===c&&(g=new g(x,w+"enter",p,n,d),g.target=b,g.relatedTarget=y,N=g),y=N,m&&p)t:{for(g=m,x=p,w=0,b=g;b;b=au(b))w++;for(b=0,N=x;N;N=au(N))b++;for(;0<w-b;)g=au(g),w--;for(;0<b-w;)x=au(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=au(g),x=au(x)}g=null}else g=null;m!==null&&RC(f,h,m,g,!1),p!==null&&y!==null&&RC(f,y,p,g,!0)}}e:{if(h=c?bu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=Wz;else if(EC(h))if(SM)C=Gz;else{C=qz;var S=Hz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=Kz);if(C&&(C=C(e,c))){kM(f,C,n,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Ry(h,"number",h.value)}switch(S=c?bu(c):window,e){case"focusin":(EC(S)||S.contentEditable==="true")&&(vu=S,Qy=c,pf=null);break;case"focusout":pf=Qy=vu=null;break;case"mousedown":Zy=!0;break;case"contextmenu":case"mouseup":case"dragend":Zy=!1,LC(f,n,d);break;case"selectionchange":if(Qz)break;case"keydown":case"keyup":LC(f,n,d)}var j;if(x1)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xu?bM(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(yM&&n.locale!=="ko"&&(xu||E!=="onCompositionStart"?E==="onCompositionEnd"&&xu&&(j=vM()):(fl=d,h1="value"in fl?fl.value:fl.textContent,xu=!0)),S=Wp(c,E),0<S.length&&(E=new AC(E,e,null,n,d),f.push({event:E,listeners:S}),j?E.data=j:(j=wM(n),j!==null&&(E.data=j)))),(j=Rz?Bz(e,n):zz(e,n))&&(c=Wp(c,"onBeforeInput"),0<c.length&&(d=new AC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=j))}OM(f,t)})}function Rf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Mf(e,n),a!=null&&r.unshift(Rf(e,a,i)),a=Mf(e,t),a!=null&&r.push(Rf(e,a,i))),e=e.return}return r}function au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function RC(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Mf(n,a),l!=null&&s.unshift(Rf(n,l,o))):i||(l=Mf(n,a),l!=null&&s.push(Rf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var t6=/\r\n?/g,n6=/\u0000|\uFFFD/g;function BC(e){return(typeof e=="string"?e:""+e).replace(t6,`
`).replace(n6,"")}function Oh(e,t,n){if(t=BC(t),BC(e)!==t&&n)throw Error(et(425))}function Hp(){}var Jy=null,eb=null;function tb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nb=typeof setTimeout=="function"?setTimeout:void 0,r6=typeof clearTimeout=="function"?clearTimeout:void 0,zC=typeof Promise=="function"?Promise:void 0,i6=typeof queueMicrotask=="function"?queueMicrotask:typeof zC<"u"?function(e){return zC.resolve(null).then(e).catch(a6)}:nb;function a6(e){setTimeout(function(){throw e})}function vv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),_f(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_f(t)}function yl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function UC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fd=Math.random().toString(36).slice(2),Bs="__reactFiber$"+fd,Bf="__reactProps$"+fd,So="__reactContainer$"+fd,rb="__reactEvents$"+fd,s6="__reactListeners$"+fd,o6="__reactHandles$"+fd;function sc(e){var t=e[Bs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[So]||n[Bs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=UC(e);e!==null;){if(n=e[Bs])return n;e=UC(e)}return t}e=n,n=e.parentNode}return null}function Sm(e){return e=e[Bs]||e[So],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(et(33))}function C0(e){return e[Bf]||null}var ib=[],wu=-1;function Il(e){return{current:e}}function ir(e){0>wu||(e.current=ib[wu],ib[wu]=null,wu--)}function Jn(e,t){wu++,ib[wu]=e.current,e.current=t}var Pl={},Di=Il(Pl),na=Il(!1),Sc=Pl;function Wu(e,t){var n=e.type.contextTypes;if(!n)return Pl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ra(e){return e=e.childContextTypes,e!=null}function qp(){ir(na),ir(Di)}function VC(e,t,n){if(Di.current!==Pl)throw Error(et(168));Jn(Di,t),Jn(na,n)}function _M(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(et(108,HB(e)||"Unknown",i));return xr({},n,r)}function Kp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pl,Sc=Di.current,Jn(Di,e),Jn(na,na.current),!0}function WC(e,t,n){var r=e.stateNode;if(!r)throw Error(et(169));n?(e=_M(e,t,Sc),r.__reactInternalMemoizedMergedChildContext=e,ir(na),ir(Di),Jn(Di,e)):ir(na),Jn(na,n)}var so=null,j0=!1,yv=!1;function LM(e){so===null?so=[e]:so.push(e)}function l6(e){j0=!0,LM(e)}function _l(){if(!yv&&so!==null){yv=!0;var e=0,t=Rn;try{var n=so;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}so=null,j0=!1}catch(i){throw so!==null&&(so=so.slice(e+1)),oM(u1,_l),i}finally{Rn=t,yv=!1}}return null}var ku=[],Su=0,Gp=null,Yp=0,Ra=[],Ba=0,Nc=null,fo=1,mo="";function Zl(e,t){ku[Su++]=Yp,ku[Su++]=Gp,Gp=e,Yp=t}function $M(e,t,n){Ra[Ba++]=fo,Ra[Ba++]=mo,Ra[Ba++]=Nc,Nc=e;var r=fo;e=mo;var i=32-ds(r)-1;r&=~(1<<i),n+=1;var a=32-ds(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,fo=1<<32-ds(t)+i|n<<i|r,mo=a+e}else fo=1<<a|n<<i|r,mo=e}function y1(e){e.return!==null&&(Zl(e,1),$M(e,1,0))}function b1(e){for(;e===Gp;)Gp=ku[--Su],ku[Su]=null,Yp=ku[--Su],ku[Su]=null;for(;e===Nc;)Nc=Ra[--Ba],Ra[Ba]=null,mo=Ra[--Ba],Ra[Ba]=null,fo=Ra[--Ba],Ra[Ba]=null}var ka=null,ba=null,cr=!1,os=null;function FM(e,t){var n=Ua(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function HC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ka=e,ba=yl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ka=e,ba=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nc!==null?{id:fo,overflow:mo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ua(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ka=e,ba=null,!0):!1;default:return!1}}function ab(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sb(e){if(cr){var t=ba;if(t){var n=t;if(!HC(e,t)){if(ab(e))throw Error(et(418));t=yl(n.nextSibling);var r=ka;t&&HC(e,t)?FM(r,n):(e.flags=e.flags&-4097|2,cr=!1,ka=e)}}else{if(ab(e))throw Error(et(418));e.flags=e.flags&-4097|2,cr=!1,ka=e}}}function qC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ka=e}function Ih(e){if(e!==ka)return!1;if(!cr)return qC(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tb(e.type,e.memoizedProps)),t&&(t=ba)){if(ab(e))throw RM(),Error(et(418));for(;t;)FM(e,t),t=yl(t.nextSibling)}if(qC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(et(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ba=yl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ba=null}}else ba=ka?yl(e.stateNode.nextSibling):null;return!0}function RM(){for(var e=ba;e;)e=yl(e.nextSibling)}function Hu(){ba=ka=null,cr=!1}function w1(e){os===null?os=[e]:os.push(e)}var c6=Oo.ReactCurrentBatchConfig;function Rd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(et(284));if(!n._owner)throw Error(et(290,e))}return e}function _h(e,t){throw e=Object.prototype.toString.call(t),Error(et(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KC(e){var t=e._init;return t(e._payload)}function BM(e){function t(x,w){if(e){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Sl(x,w),x.index=0,x.sibling=null,x}function a(x,w,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,b,N){return w===null||w.tag!==6?(w=jv(b,x.mode,N),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,N){var C=b.type;return C===gu?d(x,w,b.props.children,N,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===il&&KC(C)===w.type)?(N=i(w,b.props),N.ref=Rd(x,w,b),N.return=x,N):(N=Np(b.type,b.key,b.props,null,x.mode,N),N.ref=Rd(x,w,b),N.return=x,N)}function c(x,w,b,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Av(b,x.mode,N),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function d(x,w,b,N,C){return w===null||w.tag!==7?(w=gc(b,x.mode,N,C),w.return=x,w):(w=i(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=jv(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nh:return b=Np(w.type,w.key,w.props,null,x.mode,b),b.ref=Rd(x,null,w),b.return=x,b;case pu:return w=Av(w,x.mode,b),w.return=x,w;case il:var N=w._init;return f(x,N(w._payload),b)}if(tf(w)||Id(w))return w=gc(w,x.mode,b,null),w.return=x,w;_h(x,w)}return null}function h(x,w,b,N){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(x,w,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nh:return b.key===C?l(x,w,b,N):null;case pu:return b.key===C?c(x,w,b,N):null;case il:return C=b._init,h(x,w,C(b._payload),N)}if(tf(b)||Id(b))return C!==null?null:d(x,w,b,N,null);_h(x,b)}return null}function m(x,w,b,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(b)||null,o(w,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Nh:return x=x.get(N.key===null?b:N.key)||null,l(w,x,N,C);case pu:return x=x.get(N.key===null?b:N.key)||null,c(w,x,N,C);case il:var S=N._init;return m(x,w,b,S(N._payload),C)}if(tf(N)||Id(N))return x=x.get(b)||null,d(w,x,N,C,null);_h(w,N)}return null}function p(x,w,b,N){for(var C=null,S=null,j=w,E=w=0,$=null;j!==null&&E<b.length;E++){j.index>E?($=j,j=null):$=j.sibling;var D=h(x,j,b[E],N);if(D===null){j===null&&(j=$);break}e&&j&&D.alternate===null&&t(x,j),w=a(D,w,E),S===null?C=D:S.sibling=D,S=D,j=$}if(E===b.length)return n(x,j),cr&&Zl(x,E),C;if(j===null){for(;E<b.length;E++)j=f(x,b[E],N),j!==null&&(w=a(j,w,E),S===null?C=j:S.sibling=j,S=j);return cr&&Zl(x,E),C}for(j=r(x,j);E<b.length;E++)$=m(j,x,E,b[E],N),$!==null&&(e&&$.alternate!==null&&j.delete($.key===null?E:$.key),w=a($,w,E),S===null?C=$:S.sibling=$,S=$);return e&&j.forEach(function(_){return t(x,_)}),cr&&Zl(x,E),C}function g(x,w,b,N){var C=Id(b);if(typeof C!="function")throw Error(et(150));if(b=C.call(b),b==null)throw Error(et(151));for(var S=C=null,j=w,E=w=0,$=null,D=b.next();j!==null&&!D.done;E++,D=b.next()){j.index>E?($=j,j=null):$=j.sibling;var _=h(x,j,D.value,N);if(_===null){j===null&&(j=$);break}e&&j&&_.alternate===null&&t(x,j),w=a(_,w,E),S===null?C=_:S.sibling=_,S=_,j=$}if(D.done)return n(x,j),cr&&Zl(x,E),C;if(j===null){for(;!D.done;E++,D=b.next())D=f(x,D.value,N),D!==null&&(w=a(D,w,E),S===null?C=D:S.sibling=D,S=D);return cr&&Zl(x,E),C}for(j=r(x,j);!D.done;E++,D=b.next())D=m(j,x,E,D.value,N),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?E:D.key),w=a(D,w,E),S===null?C=D:S.sibling=D,S=D);return e&&j.forEach(function(O){return t(x,O)}),cr&&Zl(x,E),C}function y(x,w,b,N){if(typeof b=="object"&&b!==null&&b.type===gu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Nh:e:{for(var C=b.key,S=w;S!==null;){if(S.key===C){if(C=b.type,C===gu){if(S.tag===7){n(x,S.sibling),w=i(S,b.props.children),w.return=x,x=w;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===il&&KC(C)===S.type){n(x,S.sibling),w=i(S,b.props),w.ref=Rd(x,S,b),w.return=x,x=w;break e}n(x,S);break}else t(x,S);S=S.sibling}b.type===gu?(w=gc(b.props.children,x.mode,N,b.key),w.return=x,x=w):(N=Np(b.type,b.key,b.props,null,x.mode,N),N.ref=Rd(x,w,b),N.return=x,x=N)}return s(x);case pu:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=Av(b,x.mode,N),w.return=x,x=w}return s(x);case il:return S=b._init,y(x,w,S(b._payload),N)}if(tf(b))return p(x,w,b,N);if(Id(b))return g(x,w,b,N);_h(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,b),w.return=x,x=w):(n(x,w),w=jv(b,x.mode,N),w.return=x,x=w),s(x)):n(x,w)}return y}var qu=BM(!0),zM=BM(!1),Xp=Il(null),Qp=null,Nu=null,k1=null;function S1(){k1=Nu=Qp=null}function N1(e){var t=Xp.current;ir(Xp),e._currentValue=t}function ob(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $u(e,t){Qp=e,k1=Nu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function Ha(e){var t=e._currentValue;if(k1!==e)if(e={context:e,memoizedValue:t,next:null},Nu===null){if(Qp===null)throw Error(et(308));Nu=e,Qp.dependencies={lanes:0,firstContext:e}}else Nu=Nu.next=e;return t}var oc=null;function C1(e){oc===null?oc=[e]:oc.push(e)}function UM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,C1(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var al=!1;function j1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return i=r.interleaved,i===null?(t.next=t,C1(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function vp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,d1(e,n)}}function GC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zp(e,t,n,r){var i=e.updateQueue;al=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=xr({},f,h);break e;case 2:al=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);jc|=s,e.lanes=s,e.memoizedState=f}}function YC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(et(191,i));i.call(r)}}}var Nm={},Vs=Il(Nm),zf=Il(Nm),Uf=Il(Nm);function lc(e){if(e===Nm)throw Error(et(174));return e}function A1(e,t){switch(Jn(Uf,t),Jn(zf,e),Jn(Vs,Nm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zy(t,e)}ir(Vs),Jn(Vs,t)}function Ku(){ir(Vs),ir(zf),ir(Uf)}function WM(e){lc(Uf.current);var t=lc(Vs.current),n=zy(t,e.type);t!==n&&(Jn(zf,e),Jn(Vs,n))}function P1(e){zf.current===e&&(ir(Vs),ir(zf))}var fr=Il(0);function Jp(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bv=[];function D1(){for(var e=0;e<bv.length;e++)bv[e]._workInProgressVersionPrimary=null;bv.length=0}var yp=Oo.ReactCurrentDispatcher,wv=Oo.ReactCurrentBatchConfig,Cc=0,gr=null,Wr=null,ii=null,eg=!1,gf=!1,Vf=0,u6=0;function yi(){throw Error(et(321))}function T1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ps(e[n],t[n]))return!1;return!0}function E1(e,t,n,r,i,a){if(Cc=a,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yp.current=e===null||e.memoizedState===null?h6:p6,e=n(r,i),gf){a=0;do{if(gf=!1,Vf=0,25<=a)throw Error(et(301));a+=1,ii=Wr=null,t.updateQueue=null,yp.current=g6,e=n(r,i)}while(gf)}if(yp.current=tg,t=Wr!==null&&Wr.next!==null,Cc=0,ii=Wr=gr=null,eg=!1,t)throw Error(et(300));return e}function M1(){var e=Vf!==0;return Vf=0,e}function $s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?gr.memoizedState=ii=e:ii=ii.next=e,ii}function qa(){if(Wr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=ii===null?gr.memoizedState:ii.next;if(t!==null)ii=t,Wr=e;else{if(e===null)throw Error(et(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},ii===null?gr.memoizedState=ii=e:ii=ii.next=e}return ii}function Wf(e,t){return typeof t=="function"?t(e):t}function kv(e){var t=qa(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=Wr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Cc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,gr.lanes|=d,jc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ps(r,t.memoizedState)||(ea=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,gr.lanes|=a,jc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sv(e){var t=qa(),n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ps(a,t.memoizedState)||(ea=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function HM(){}function qM(e,t){var n=gr,r=qa(),i=t(),a=!ps(r.memoizedState,i);if(a&&(r.memoizedState=i,ea=!0),r=r.queue,O1(YM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ii!==null&&ii.memoizedState.tag&1){if(n.flags|=2048,Hf(9,GM.bind(null,n,r,i,t),void 0,null),ai===null)throw Error(et(349));Cc&30||KM(n,t,i)}return i}function KM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function GM(e,t,n,r){t.value=n,t.getSnapshot=r,XM(t)&&QM(e)}function YM(e,t,n){return n(function(){XM(t)&&QM(e)})}function XM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ps(e,n)}catch{return!0}}function QM(e){var t=No(e,1);t!==null&&fs(t,e,1,-1)}function XC(e){var t=$s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:e},t.queue=e,e=e.dispatch=m6.bind(null,gr,e),[t.memoizedState,e]}function Hf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZM(){return qa().memoizedState}function bp(e,t,n,r){var i=$s();gr.flags|=e,i.memoizedState=Hf(1|t,n,void 0,r===void 0?null:r)}function A0(e,t,n,r){var i=qa();r=r===void 0?null:r;var a=void 0;if(Wr!==null){var s=Wr.memoizedState;if(a=s.destroy,r!==null&&T1(r,s.deps)){i.memoizedState=Hf(t,n,a,r);return}}gr.flags|=e,i.memoizedState=Hf(1|t,n,a,r)}function QC(e,t){return bp(8390656,8,e,t)}function O1(e,t){return A0(2048,8,e,t)}function JM(e,t){return A0(4,2,e,t)}function eO(e,t){return A0(4,4,e,t)}function tO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nO(e,t,n){return n=n!=null?n.concat([e]):null,A0(4,4,tO.bind(null,t,e),n)}function I1(){}function rO(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iO(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function aO(e,t,n){return Cc&21?(ps(n,t)||(n=uM(),gr.lanes|=n,jc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=n)}function d6(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=wv.transition;wv.transition={};try{e(!1),t()}finally{Rn=n,wv.transition=r}}function sO(){return qa().memoizedState}function f6(e,t,n){var r=kl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oO(e))lO(t,n);else if(n=UM(e,t,n,r),n!==null){var i=Ri();fs(n,e,r,i),cO(n,t,r)}}function m6(e,t,n){var r=kl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oO(e))lO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ps(o,s)){var l=t.interleaved;l===null?(i.next=i,C1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=UM(e,t,i,r),n!==null&&(i=Ri(),fs(n,e,r,i),cO(n,t,r))}}function oO(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function lO(e,t){gf=eg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,d1(e,n)}}var tg={readContext:Ha,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},h6={readContext:Ha,useCallback:function(e,t){return $s().memoizedState=[e,t===void 0?null:t],e},useContext:Ha,useEffect:QC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bp(4194308,4,tO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bp(4194308,4,e,t)},useInsertionEffect:function(e,t){return bp(4,2,e,t)},useMemo:function(e,t){var n=$s();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$s();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=f6.bind(null,gr,e),[r.memoizedState,e]},useRef:function(e){var t=$s();return e={current:e},t.memoizedState=e},useState:XC,useDebugValue:I1,useDeferredValue:function(e){return $s().memoizedState=e},useTransition:function(){var e=XC(!1),t=e[0];return e=d6.bind(null,e[1]),$s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gr,i=$s();if(cr){if(n===void 0)throw Error(et(407));n=n()}else{if(n=t(),ai===null)throw Error(et(349));Cc&30||KM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,QC(YM.bind(null,r,a,e),[e]),r.flags|=2048,Hf(9,GM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=$s(),t=ai.identifierPrefix;if(cr){var n=mo,r=fo;n=(r&~(1<<32-ds(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=u6++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p6={readContext:Ha,useCallback:rO,useContext:Ha,useEffect:O1,useImperativeHandle:nO,useInsertionEffect:JM,useLayoutEffect:eO,useMemo:iO,useReducer:kv,useRef:ZM,useState:function(){return kv(Wf)},useDebugValue:I1,useDeferredValue:function(e){var t=qa();return aO(t,Wr.memoizedState,e)},useTransition:function(){var e=kv(Wf)[0],t=qa().memoizedState;return[e,t]},useMutableSource:HM,useSyncExternalStore:qM,useId:sO,unstable_isNewReconciler:!1},g6={readContext:Ha,useCallback:rO,useContext:Ha,useEffect:O1,useImperativeHandle:nO,useInsertionEffect:JM,useLayoutEffect:eO,useMemo:iO,useReducer:Sv,useRef:ZM,useState:function(){return Sv(Wf)},useDebugValue:I1,useDeferredValue:function(e){var t=qa();return Wr===null?t.memoizedState=e:aO(t,Wr.memoizedState,e)},useTransition:function(){var e=Sv(Wf)[0],t=qa().memoizedState;return[e,t]},useMutableSource:HM,useSyncExternalStore:qM,useId:sO,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){t=xr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var P0={isMounted:function(e){return(e=e._reactInternals)?zc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ri(),i=kl(e),a=xo(r,i);a.payload=t,n!=null&&(a.callback=n),t=bl(e,a,i),t!==null&&(fs(t,e,i,r),vp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ri(),i=kl(e),a=xo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=bl(e,a,i),t!==null&&(fs(t,e,i,r),vp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ri(),r=kl(e),i=xo(n,r);i.tag=2,t!=null&&(i.callback=t),t=bl(e,i,r),t!==null&&(fs(t,e,r,n),vp(t,e,r))}};function ZC(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!$f(n,r)||!$f(i,a):!0}function uO(e,t,n){var r=!1,i=Pl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ha(a):(i=ra(t)?Sc:Di.current,r=t.contextTypes,a=(r=r!=null)?Wu(e,i):Pl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=P0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function JC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&P0.enqueueReplaceState(t,t.state,null)}function cb(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},j1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ha(a):(a=ra(t)?Sc:Di.current,i.context=Wu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lb(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&P0.enqueueReplaceState(i,i.state,null),Zp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gu(e,t){try{var n="",r=t;do n+=WB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Nv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ub(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var x6=typeof WeakMap=="function"?WeakMap:Map;function dO(e,t,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rg||(rg=!0,bb=r),ub(e,t)},n}function fO(e,t,n){n=xo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ub(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ub(e,t),typeof r!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function e2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new x6;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=E6.bind(null,e,t,n),t.then(e,e))}function t2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function n2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xo(-1,1),t.tag=2,bl(n,t,1))),n.lanes|=1),e)}var v6=Oo.ReactCurrentOwner,ea=!1;function Li(e,t,n,r){t.child=e===null?zM(t,null,n,r):qu(t,e.child,n,r)}function r2(e,t,n,r,i){n=n.render;var a=t.ref;return $u(t,i),r=E1(e,t,n,r,a,i),n=M1(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Co(e,t,i)):(cr&&n&&y1(t),t.flags|=1,Li(e,t,r,i),t.child)}function i2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!U1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,mO(e,t,a,r,i)):(e=Np(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:$f,n(s,r)&&e.ref===t.ref)return Co(e,t,i)}return t.flags|=1,e=Sl(a,r),e.ref=t.ref,e.return=t,t.child=e}function mO(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if($f(a,r)&&e.ref===t.ref)if(ea=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,Co(e,t,i)}return db(e,t,n,r,i)}function hO(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(ju,xa),xa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(ju,xa),xa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Jn(ju,xa),xa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Jn(ju,xa),xa|=r;return Li(e,t,i,n),t.child}function pO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function db(e,t,n,r,i){var a=ra(n)?Sc:Di.current;return a=Wu(t,a),$u(t,i),n=E1(e,t,n,r,a,i),r=M1(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Co(e,t,i)):(cr&&r&&y1(t),t.flags|=1,Li(e,t,n,i),t.child)}function a2(e,t,n,r,i){if(ra(n)){var a=!0;Kp(t)}else a=!1;if($u(t,i),t.stateNode===null)wp(e,t),uO(t,n,r),cb(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ha(c):(c=ra(n)?Sc:Di.current,c=Wu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&JC(t,s,r,c),al=!1;var h=t.memoizedState;s.state=h,Zp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||na.current||al?(typeof d=="function"&&(lb(t,n,d,r),l=t.memoizedState),(o=al||ZC(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,VM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:as(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ha(l):(l=ra(n)?Sc:Di.current,l=Wu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&JC(t,s,r,l),al=!1,h=t.memoizedState,s.state=h,Zp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||na.current||al?(typeof m=="function"&&(lb(t,n,m,r),p=t.memoizedState),(c=al||ZC(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return fb(e,t,n,r,a,i)}function fb(e,t,n,r,i,a){pO(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&WC(t,n,!1),Co(e,t,a);r=t.stateNode,v6.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=qu(t,e.child,null,a),t.child=qu(t,null,o,a)):Li(e,t,o,a),t.memoizedState=r.state,i&&WC(t,n,!0),t.child}function gO(e){var t=e.stateNode;t.pendingContext?VC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&VC(e,t.context,!1),A1(e,t.containerInfo)}function s2(e,t,n,r,i){return Hu(),w1(i),t.flags|=256,Li(e,t,n,r),t.child}var mb={dehydrated:null,treeContext:null,retryLane:0};function hb(e){return{baseLanes:e,cachePool:null,transitions:null}}function xO(e,t,n){var r=t.pendingProps,i=fr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Jn(fr,i&1),e===null)return sb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=E0(s,r,0,null),e=gc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=hb(n),t.memoizedState=mb,e):_1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return y6(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Sl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Sl(o,a):(a=gc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?hb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=mb,r}return a=e.child,e=a.sibling,r=Sl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _1(e,t){return t=E0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lh(e,t,n,r){return r!==null&&w1(r),qu(t,e.child,null,n),e=_1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y6(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Nv(Error(et(422))),Lh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=E0({mode:"visible",children:r.children},i,0,null),a=gc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qu(t,e.child,null,s),t.child.memoizedState=hb(s),t.memoizedState=mb,a);if(!(t.mode&1))return Lh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(et(419)),r=Nv(a,r,void 0),Lh(e,t,s,r)}if(o=(s&e.childLanes)!==0,ea||o){if(r=ai,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,No(e,i),fs(r,e,i,-1))}return z1(),r=Nv(Error(et(421))),Lh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=M6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ba=yl(i.nextSibling),ka=t,cr=!0,os=null,e!==null&&(Ra[Ba++]=fo,Ra[Ba++]=mo,Ra[Ba++]=Nc,fo=e.id,mo=e.overflow,Nc=t),t=_1(t,r.children),t.flags|=4096,t)}function o2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ob(e.return,t,n)}function Cv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function vO(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Li(e,t,r.children,n),r=fr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o2(e,n,t);else if(e.tag===19)o2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Jn(fr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Jp(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Jp(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cv(t,!0,n,null,a);break;case"together":Cv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Co(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(et(153));if(t.child!==null){for(e=t.child,n=Sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b6(e,t,n){switch(t.tag){case 3:gO(t),Hu();break;case 5:WM(t);break;case 1:ra(t.type)&&Kp(t);break;case 4:A1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Jn(Xp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Jn(fr,fr.current&1),t.flags|=128,null):n&t.child.childLanes?xO(e,t,n):(Jn(fr,fr.current&1),e=Co(e,t,n),e!==null?e.sibling:null);Jn(fr,fr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(fr,fr.current),r)break;return null;case 22:case 23:return t.lanes=0,hO(e,t,n)}return Co(e,t,n)}var yO,pb,bO,wO;yO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pb=function(){};bO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,lc(Vs.current);var a=null;switch(n){case"input":i=$y(e,i),r=$y(e,r),a=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),a=[];break;case"textarea":i=By(e,i),r=By(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hp)}Uy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};wO=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bd(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function w6(e,t,n){var r=t.pendingProps;switch(b1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(t),null;case 1:return ra(t.type)&&qp(),bi(t),null;case 3:return r=t.stateNode,Ku(),ir(na),ir(Di),D1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ih(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,os!==null&&(Sb(os),os=null))),pb(e,t),bi(t),null;case 5:P1(t);var i=lc(Uf.current);if(n=t.type,e!==null&&t.stateNode!=null)bO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(et(166));return bi(t),null}if(e=lc(Vs.current),Ih(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Bs]=t,r[Bf]=a,e=(t.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(i=0;i<rf.length;i++)nr(rf[i],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":gC(r,a),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},nr("invalid",r);break;case"textarea":vC(r,a),nr("invalid",r)}Uy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Oh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Oh(r.textContent,o,e),i=["children",""+o]):Tf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&nr("scroll",r)}switch(n){case"input":Ch(r),xC(r,a,!0);break;case"textarea":Ch(r),yC(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Hp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Bs]=t,e[Bf]=r,yO(e,t,!1,!1),t.stateNode=e;e:{switch(s=Vy(n,r),n){case"dialog":nr("cancel",e),nr("close",e),i=r;break;case"iframe":case"object":case"embed":nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<rf.length;i++)nr(rf[i],e);i=r;break;case"source":nr("error",e),i=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),i=r;break;case"details":nr("toggle",e),i=r;break;case"input":gC(e,r),i=$y(e,r),nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),nr("invalid",e);break;case"textarea":vC(e,r),i=By(e,r),nr("invalid",e);break;default:i=r}Uy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ZE(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XE(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ef(e,l):typeof l=="number"&&Ef(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nr("scroll",e):l!=null&&a1(e,a,l,s))}switch(n){case"input":Ch(e),xC(e,r,!1);break;case"textarea":Ch(e),yC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Al(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ou(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ou(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bi(t),null;case 6:if(e&&t.stateNode!=null)wO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(et(166));if(n=lc(Uf.current),lc(Vs.current),Ih(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bs]=t,(a=r.nodeValue!==n)&&(e=ka,e!==null))switch(e.tag){case 3:Oh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bs]=t,t.stateNode=r}return bi(t),null;case 13:if(ir(fr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&ba!==null&&t.mode&1&&!(t.flags&128))RM(),Hu(),t.flags|=98560,a=!1;else if(a=Ih(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(et(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(et(317));a[Bs]=t}else Hu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bi(t),a=!1}else os!==null&&(Sb(os),os=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fr.current&1?qr===0&&(qr=3):z1())),t.updateQueue!==null&&(t.flags|=4),bi(t),null);case 4:return Ku(),pb(e,t),e===null&&Ff(t.stateNode.containerInfo),bi(t),null;case 10:return N1(t.type._context),bi(t),null;case 17:return ra(t.type)&&qp(),bi(t),null;case 19:if(ir(fr),a=t.memoizedState,a===null)return bi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Bd(a,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Jp(e),s!==null){for(t.flags|=128,Bd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(fr,fr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Or()>Yu&&(t.flags|=128,r=!0,Bd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Jp(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!cr)return bi(t),null}else 2*Or()-a.renderingStartTime>Yu&&n!==1073741824&&(t.flags|=128,r=!0,Bd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Or(),t.sibling=null,n=fr.current,Jn(fr,r?n&1|2:n&1),t):(bi(t),null);case 22:case 23:return B1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xa&1073741824&&(bi(t),t.subtreeFlags&6&&(t.flags|=8192)):bi(t),null;case 24:return null;case 25:return null}throw Error(et(156,t.tag))}function k6(e,t){switch(b1(t),t.tag){case 1:return ra(t.type)&&qp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ku(),ir(na),ir(Di),D1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return P1(t),null;case 13:if(ir(fr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(et(340));Hu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(fr),null;case 4:return Ku(),null;case 10:return N1(t.type._context),null;case 22:case 23:return B1(),null;case 24:return null;default:return null}}var $h=!1,Ni=!1,S6=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Cu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nr(e,t,r)}else n.current=null}function gb(e,t,n){try{n()}catch(r){Nr(e,t,r)}}var l2=!1;function N6(e,t){if(Jy=Up,e=jM(),v1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eb={focusedElem:e,selectionRange:n},Up=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){t=bt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:as(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(N){Nr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return p=l2,l2=!1,p}function xf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&gb(t,n,a)}i=i.next}while(i!==r)}}function D0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kO(e){var t=e.alternate;t!==null&&(e.alternate=null,kO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bs],delete t[Bf],delete t[rb],delete t[s6],delete t[o6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SO(e){return e.tag===5||e.tag===3||e.tag===4}function c2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hp));else if(r!==4&&(e=e.child,e!==null))for(vb(e,t,n),e=e.sibling;e!==null;)vb(e,t,n),e=e.sibling}function yb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yb(e,t,n),e=e.sibling;e!==null;)yb(e,t,n),e=e.sibling}var ui=null,ss=!1;function el(e,t,n){for(n=n.child;n!==null;)NO(e,t,n),n=n.sibling}function NO(e,t,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(w0,n)}catch{}switch(n.tag){case 5:Ni||Cu(n,t);case 6:var r=ui,i=ss;ui=null,el(e,t,n),ui=r,ss=i,ui!==null&&(ss?(e=ui,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:ui!==null&&(ss?(e=ui,n=n.stateNode,e.nodeType===8?vv(e.parentNode,n):e.nodeType===1&&vv(e,n),_f(e)):vv(ui,n.stateNode));break;case 4:r=ui,i=ss,ui=n.stateNode.containerInfo,ss=!0,el(e,t,n),ui=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Ni&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&gb(n,t,s),i=i.next}while(i!==r)}el(e,t,n);break;case 1:if(!Ni&&(Cu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nr(n,t,o)}el(e,t,n);break;case 21:el(e,t,n);break;case 22:n.mode&1?(Ni=(r=Ni)||n.memoizedState!==null,el(e,t,n),Ni=r):el(e,t,n);break;default:el(e,t,n)}}function u2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new S6),t.forEach(function(r){var i=O6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function is(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ui=o.stateNode,ss=!1;break e;case 3:ui=o.stateNode.containerInfo,ss=!0;break e;case 4:ui=o.stateNode.containerInfo,ss=!0;break e}o=o.return}if(ui===null)throw Error(et(160));NO(a,s,i),ui=null,ss=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)CO(t,e),t=t.sibling}function CO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(is(t,e),Os(e),r&4){try{xf(3,e,e.return),D0(3,e)}catch(g){Nr(e,e.return,g)}try{xf(5,e,e.return)}catch(g){Nr(e,e.return,g)}}break;case 1:is(t,e),Os(e),r&512&&n!==null&&Cu(n,n.return);break;case 5:if(is(t,e),Os(e),r&512&&n!==null&&Cu(n,n.return),e.flags&32){var i=e.stateNode;try{Ef(i,"")}catch(g){Nr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&KE(i,a),Vy(o,s);var c=Vy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?ZE(i,f):d==="dangerouslySetInnerHTML"?XE(i,f):d==="children"?Ef(i,f):a1(i,d,f,c)}switch(o){case"input":Fy(i,a);break;case"textarea":GE(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ou(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ou(i,!!a.multiple,a.defaultValue,!0):Ou(i,!!a.multiple,a.multiple?[]:"",!1))}i[Bf]=a}catch(g){Nr(e,e.return,g)}}break;case 6:if(is(t,e),Os(e),r&4){if(e.stateNode===null)throw Error(et(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nr(e,e.return,g)}}break;case 3:if(is(t,e),Os(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_f(t.containerInfo)}catch(g){Nr(e,e.return,g)}break;case 4:is(t,e),Os(e);break;case 13:is(t,e),Os(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(F1=Or())),r&4&&u2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ni=(c=Ni)||d,is(t,e),Ni=c):is(t,e),Os(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(bt=e,d=e.child;d!==null;){for(f=bt=d;bt!==null;){switch(h=bt,m=h.child,h.tag){case 0:case 11:case 14:case 15:xf(4,h,h.return);break;case 1:Cu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nr(r,n,g)}}break;case 5:Cu(h,h.return);break;case 22:if(h.memoizedState!==null){f2(f);continue}}m!==null?(m.return=h,bt=m):f2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QE("display",s))}catch(g){Nr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Nr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:is(t,e),Os(e),r&4&&u2(e);break;case 21:break;default:is(t,e),Os(e)}}function Os(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(SO(n)){var r=n;break e}n=n.return}throw Error(et(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ef(i,""),r.flags&=-33);var a=c2(e);yb(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=c2(e);vb(e,o,s);break;default:throw Error(et(161))}}catch(l){Nr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C6(e,t,n){bt=e,jO(e)}function jO(e,t,n){for(var r=(e.mode&1)!==0;bt!==null;){var i=bt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$h;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ni;o=$h;var c=Ni;if($h=s,(Ni=l)&&!c)for(bt=i;bt!==null;)s=bt,l=s.child,s.tag===22&&s.memoizedState!==null?m2(i):l!==null?(l.return=s,bt=l):m2(i);for(;a!==null;)bt=a,jO(a),a=a.sibling;bt=i,$h=o,Ni=c}d2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,bt=a):d2(e)}}function d2(e){for(;bt!==null;){var t=bt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ni||D0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ni)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&YC(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}YC(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_f(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}Ni||t.flags&512&&xb(t)}catch(h){Nr(t,t.return,h)}}if(t===e){bt=null;break}if(n=t.sibling,n!==null){n.return=t.return,bt=n;break}bt=t.return}}function f2(e){for(;bt!==null;){var t=bt;if(t===e){bt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,bt=n;break}bt=t.return}}function m2(e){for(;bt!==null;){var t=bt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{D0(4,t)}catch(l){Nr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Nr(t,i,l)}}var a=t.return;try{xb(t)}catch(l){Nr(t,a,l)}break;case 5:var s=t.return;try{xb(t)}catch(l){Nr(t,s,l)}}}catch(l){Nr(t,t.return,l)}if(t===e){bt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,bt=o;break}bt=t.return}}var j6=Math.ceil,ng=Oo.ReactCurrentDispatcher,L1=Oo.ReactCurrentOwner,Wa=Oo.ReactCurrentBatchConfig,Tn=0,ai=null,Rr=null,mi=0,xa=0,ju=Il(0),qr=0,qf=null,jc=0,T0=0,$1=0,vf=null,Ji=null,F1=0,Yu=1/0,ao=null,rg=!1,bb=null,wl=null,Fh=!1,ml=null,ig=0,yf=0,wb=null,kp=-1,Sp=0;function Ri(){return Tn&6?Or():kp!==-1?kp:kp=Or()}function kl(e){return e.mode&1?Tn&2&&mi!==0?mi&-mi:c6.transition!==null?(Sp===0&&(Sp=uM()),Sp):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:xM(e.type)),e):1}function fs(e,t,n,r){if(50<yf)throw yf=0,wb=null,Error(et(185));wm(e,n,r),(!(Tn&2)||e!==ai)&&(e===ai&&(!(Tn&2)&&(T0|=n),qr===4&&ul(e,mi)),ia(e,r),n===1&&Tn===0&&!(t.mode&1)&&(Yu=Or()+500,j0&&_l()))}function ia(e,t){var n=e.callbackNode;cz(e,t);var r=zp(e,e===ai?mi:0);if(r===0)n!==null&&kC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kC(n),t===1)e.tag===0?l6(h2.bind(null,e)):LM(h2.bind(null,e)),i6(function(){!(Tn&6)&&_l()}),n=null;else{switch(dM(r)){case 1:n=u1;break;case 4:n=lM;break;case 16:n=Bp;break;case 536870912:n=cM;break;default:n=Bp}n=IO(n,AO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function AO(e,t){if(kp=-1,Sp=0,Tn&6)throw Error(et(327));var n=e.callbackNode;if(Fu()&&e.callbackNode!==n)return null;var r=zp(e,e===ai?mi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ag(e,r);else{t=r;var i=Tn;Tn|=2;var a=DO();(ai!==e||mi!==t)&&(ao=null,Yu=Or()+500,pc(e,t));do try{D6();break}catch(o){PO(e,o)}while(!0);S1(),ng.current=a,Tn=i,Rr!==null?t=0:(ai=null,mi=0,t=qr)}if(t!==0){if(t===2&&(i=Gy(e),i!==0&&(r=i,t=kb(e,i))),t===1)throw n=qf,pc(e,0),ul(e,r),ia(e,Or()),n;if(t===6)ul(e,r);else{if(i=e.current.alternate,!(r&30)&&!A6(i)&&(t=ag(e,r),t===2&&(a=Gy(e),a!==0&&(r=a,t=kb(e,a))),t===1))throw n=qf,pc(e,0),ul(e,r),ia(e,Or()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(et(345));case 2:Jl(e,Ji,ao);break;case 3:if(ul(e,r),(r&130023424)===r&&(t=F1+500-Or(),10<t)){if(zp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ri(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nb(Jl.bind(null,e,Ji,ao),t);break}Jl(e,Ji,ao);break;case 4:if(ul(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ds(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j6(r/1960))-r,10<r){e.timeoutHandle=nb(Jl.bind(null,e,Ji,ao),r);break}Jl(e,Ji,ao);break;case 5:Jl(e,Ji,ao);break;default:throw Error(et(329))}}}return ia(e,Or()),e.callbackNode===n?AO.bind(null,e):null}function kb(e,t){var n=vf;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),e=ag(e,t),e!==2&&(t=Ji,Ji=n,t!==null&&Sb(t)),e}function Sb(e){Ji===null?Ji=e:Ji.push.apply(Ji,e)}function A6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ps(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ul(e,t){for(t&=~$1,t&=~T0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ds(t),r=1<<n;e[n]=-1,t&=~r}}function h2(e){if(Tn&6)throw Error(et(327));Fu();var t=zp(e,0);if(!(t&1))return ia(e,Or()),null;var n=ag(e,t);if(e.tag!==0&&n===2){var r=Gy(e);r!==0&&(t=r,n=kb(e,r))}if(n===1)throw n=qf,pc(e,0),ul(e,t),ia(e,Or()),n;if(n===6)throw Error(et(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jl(e,Ji,ao),ia(e,Or()),null}function R1(e,t){var n=Tn;Tn|=1;try{return e(t)}finally{Tn=n,Tn===0&&(Yu=Or()+500,j0&&_l())}}function Ac(e){ml!==null&&ml.tag===0&&!(Tn&6)&&Fu();var t=Tn;Tn|=1;var n=Wa.transition,r=Rn;try{if(Wa.transition=null,Rn=1,e)return e()}finally{Rn=r,Wa.transition=n,Tn=t,!(Tn&6)&&_l()}}function B1(){xa=ju.current,ir(ju)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r6(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(b1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qp();break;case 3:Ku(),ir(na),ir(Di),D1();break;case 5:P1(r);break;case 4:Ku();break;case 13:ir(fr);break;case 19:ir(fr);break;case 10:N1(r.type._context);break;case 22:case 23:B1()}n=n.return}if(ai=e,Rr=e=Sl(e.current,null),mi=xa=t,qr=0,qf=null,$1=T0=jc=0,Ji=vf=null,oc!==null){for(t=0;t<oc.length;t++)if(n=oc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}oc=null}return e}function PO(e,t){do{var n=Rr;try{if(S1(),yp.current=tg,eg){for(var r=gr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eg=!1}if(Cc=0,ii=Wr=gr=null,gf=!1,Vf=0,L1.current=null,n===null||n.return===null){qr=1,qf=t,Rr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=mi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=t2(s);if(m!==null){m.flags&=-257,n2(m,s,o,a,t),m.mode&1&&e2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){e2(a,c,t),z1();break e}l=Error(et(426))}}else if(cr&&o.mode&1){var y=t2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),n2(y,s,o,a,t),w1(Gu(l,o));break e}}a=l=Gu(l,o),qr!==4&&(qr=2),vf===null?vf=[a]:vf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=dO(a,l,t);GC(a,x);break e;case 1:o=l;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wl===null||!wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=fO(a,o,t);GC(a,N);break e}}a=a.return}while(a!==null)}EO(n)}catch(C){t=C,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function DO(){var e=ng.current;return ng.current=tg,e===null?tg:e}function z1(){(qr===0||qr===3||qr===2)&&(qr=4),ai===null||!(jc&268435455)&&!(T0&268435455)||ul(ai,mi)}function ag(e,t){var n=Tn;Tn|=2;var r=DO();(ai!==e||mi!==t)&&(ao=null,pc(e,t));do try{P6();break}catch(i){PO(e,i)}while(!0);if(S1(),Tn=n,ng.current=r,Rr!==null)throw Error(et(261));return ai=null,mi=0,qr}function P6(){for(;Rr!==null;)TO(Rr)}function D6(){for(;Rr!==null&&!ez();)TO(Rr)}function TO(e){var t=OO(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?EO(e):Rr=t,L1.current=null}function EO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=k6(n,t),n!==null){n.flags&=32767,Rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Rr=null;return}}else if(n=w6(n,t,xa),n!==null){Rr=n;return}if(t=t.sibling,t!==null){Rr=t;return}Rr=t=e}while(t!==null);qr===0&&(qr=5)}function Jl(e,t,n){var r=Rn,i=Wa.transition;try{Wa.transition=null,Rn=1,T6(e,t,n,r)}finally{Wa.transition=i,Rn=r}return null}function T6(e,t,n,r){do Fu();while(ml!==null);if(Tn&6)throw Error(et(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(et(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(uz(e,a),e===ai&&(Rr=ai=null,mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fh||(Fh=!0,IO(Bp,function(){return Fu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wa.transition,Wa.transition=null;var s=Rn;Rn=1;var o=Tn;Tn|=4,L1.current=null,N6(e,n),CO(n,e),Xz(eb),Up=!!Jy,eb=Jy=null,e.current=n,C6(n),tz(),Tn=o,Rn=s,Wa.transition=a}else e.current=n;if(Fh&&(Fh=!1,ml=e,ig=i),a=e.pendingLanes,a===0&&(wl=null),iz(n.stateNode),ia(e,Or()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rg)throw rg=!1,e=bb,bb=null,e;return ig&1&&e.tag!==0&&Fu(),a=e.pendingLanes,a&1?e===wb?yf++:(yf=0,wb=e):yf=0,_l(),null}function Fu(){if(ml!==null){var e=dM(ig),t=Wa.transition,n=Rn;try{if(Wa.transition=null,Rn=16>e?16:e,ml===null)var r=!1;else{if(e=ml,ml=null,ig=0,Tn&6)throw Error(et(331));var i=Tn;for(Tn|=4,bt=e.current;bt!==null;){var a=bt,s=a.child;if(bt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(bt=c;bt!==null;){var d=bt;switch(d.tag){case 0:case 11:case 15:xf(8,d,a)}var f=d.child;if(f!==null)f.return=d,bt=f;else for(;bt!==null;){d=bt;var h=d.sibling,m=d.return;if(kO(d),d===c){bt=null;break}if(h!==null){h.return=m,bt=h;break}bt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}bt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,bt=s;else e:for(;bt!==null;){if(a=bt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:xf(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,bt=x;break e}bt=a.return}}var w=e.current;for(bt=w;bt!==null;){s=bt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,bt=b;else e:for(s=w;bt!==null;){if(o=bt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:D0(9,o)}}catch(C){Nr(o,o.return,C)}if(o===s){bt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,bt=N;break e}bt=o.return}}if(Tn=i,_l(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(w0,e)}catch{}r=!0}return r}finally{Rn=n,Wa.transition=t}}return!1}function p2(e,t,n){t=Gu(n,t),t=dO(e,t,1),e=bl(e,t,1),t=Ri(),e!==null&&(wm(e,1,t),ia(e,t))}function Nr(e,t,n){if(e.tag===3)p2(e,e,n);else for(;t!==null;){if(t.tag===3){p2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wl===null||!wl.has(r))){e=Gu(n,e),e=fO(t,e,1),t=bl(t,e,1),e=Ri(),t!==null&&(wm(t,1,e),ia(t,e));break}}t=t.return}}function E6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ri(),e.pingedLanes|=e.suspendedLanes&n,ai===e&&(mi&n)===n&&(qr===4||qr===3&&(mi&130023424)===mi&&500>Or()-F1?pc(e,0):$1|=n),ia(e,t)}function MO(e,t){t===0&&(e.mode&1?(t=Ph,Ph<<=1,!(Ph&130023424)&&(Ph=4194304)):t=1);var n=Ri();e=No(e,t),e!==null&&(wm(e,t,n),ia(e,n))}function M6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MO(e,n)}function O6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(t),MO(e,n)}var OO;OO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||na.current)ea=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ea=!1,b6(e,t,n);ea=!!(e.flags&131072)}else ea=!1,cr&&t.flags&1048576&&$M(t,Yp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wp(e,t),e=t.pendingProps;var i=Wu(t,Di.current);$u(t,n),i=E1(null,t,r,e,i,n);var a=M1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ra(r)?(a=!0,Kp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j1(t),i.updater=P0,t.stateNode=i,i._reactInternals=t,cb(t,r,e,n),t=fb(null,t,r,!0,a,n)):(t.tag=0,cr&&a&&y1(t),Li(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_6(r),e=as(r,e),i){case 0:t=db(null,t,r,e,n);break e;case 1:t=a2(null,t,r,e,n);break e;case 11:t=r2(null,t,r,e,n);break e;case 14:t=i2(null,t,r,as(r.type,e),n);break e}throw Error(et(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),db(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),a2(e,t,r,i,n);case 3:e:{if(gO(t),e===null)throw Error(et(387));r=t.pendingProps,a=t.memoizedState,i=a.element,VM(e,t),Zp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Gu(Error(et(423)),t),t=s2(e,t,r,n,i);break e}else if(r!==i){i=Gu(Error(et(424)),t),t=s2(e,t,r,n,i);break e}else for(ba=yl(t.stateNode.containerInfo.firstChild),ka=t,cr=!0,os=null,n=zM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hu(),r===i){t=Co(e,t,n);break e}Li(e,t,r,n)}t=t.child}return t;case 5:return WM(t),e===null&&sb(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,tb(r,i)?s=null:a!==null&&tb(r,a)&&(t.flags|=32),pO(e,t),Li(e,t,s,n),t.child;case 6:return e===null&&sb(t),null;case 13:return xO(e,t,n);case 4:return A1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qu(t,null,r,n):Li(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),r2(e,t,r,i,n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:return Li(e,t,t.pendingProps.children,n),t.child;case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Jn(Xp,r._currentValue),r._currentValue=s,a!==null)if(ps(a.value,s)){if(a.children===i.children&&!na.current){t=Co(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=xo(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ob(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(et(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ob(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Li(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$u(t,n),i=Ha(i),r=r(i),t.flags|=1,Li(e,t,r,n),t.child;case 14:return r=t.type,i=as(r,t.pendingProps),i=as(r.type,i),i2(e,t,r,i,n);case 15:return mO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),wp(e,t),t.tag=1,ra(r)?(e=!0,Kp(t)):e=!1,$u(t,n),uO(t,r,i),cb(t,r,i,n),fb(null,t,r,!0,e,n);case 19:return vO(e,t,n);case 22:return hO(e,t,n)}throw Error(et(156,t.tag))};function IO(e,t){return oM(e,t)}function I6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,n,r){return new I6(e,t,n,r)}function U1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _6(e){if(typeof e=="function")return U1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o1)return 11;if(e===l1)return 14}return 2}function Sl(e,t){var n=e.alternate;return n===null?(n=Ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Np(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")U1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case gu:return gc(n.children,i,a,t);case s1:s=8,i|=8;break;case Oy:return e=Ua(12,n,t,i|2),e.elementType=Oy,e.lanes=a,e;case Iy:return e=Ua(13,n,t,i),e.elementType=Iy,e.lanes=a,e;case _y:return e=Ua(19,n,t,i),e.elementType=_y,e.lanes=a,e;case WE:return E0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UE:s=10;break e;case VE:s=9;break e;case o1:s=11;break e;case l1:s=14;break e;case il:s=16,r=null;break e}throw Error(et(130,e==null?e:typeof e,""))}return t=Ua(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function gc(e,t,n,r){return e=Ua(7,e,r,t),e.lanes=n,e}function E0(e,t,n,r){return e=Ua(22,e,r,t),e.elementType=WE,e.lanes=n,e.stateNode={isHidden:!1},e}function jv(e,t,n){return e=Ua(6,e,null,t),e.lanes=n,e}function Av(e,t,n){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ov(0),this.expirationTimes=ov(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ov(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function V1(e,t,n,r,i,a,s,o,l){return e=new L6(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ua(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j1(a),e}function $6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _O(e){if(!e)return Pl;e=e._reactInternals;e:{if(zc(e)!==e||e.tag!==1)throw Error(et(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(et(171))}if(e.tag===1){var n=e.type;if(ra(n))return _M(e,n,t)}return t}function LO(e,t,n,r,i,a,s,o,l){return e=V1(n,r,!0,e,i,a,s,o,l),e.context=_O(null),n=e.current,r=Ri(),i=kl(n),a=xo(r,i),a.callback=t??null,bl(n,a,i),e.current.lanes=i,wm(e,i,r),ia(e,r),e}function M0(e,t,n,r){var i=t.current,a=Ri(),s=kl(i);return n=_O(n),t.context===null?t.context=n:t.pendingContext=n,t=xo(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bl(i,t,s),e!==null&&(fs(e,i,s,a),vp(e,i,s)),s}function sg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function W1(e,t){g2(e,t),(e=e.alternate)&&g2(e,t)}function F6(){return null}var $O=typeof reportError=="function"?reportError:function(e){console.error(e)};function H1(e){this._internalRoot=e}O0.prototype.render=H1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(et(409));M0(e,t,null,null)};O0.prototype.unmount=H1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ac(function(){M0(null,e,null,null)}),t[So]=null}};function O0(e){this._internalRoot=e}O0.prototype.unstable_scheduleHydration=function(e){if(e){var t=hM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cl.length&&t!==0&&t<cl[n].priority;n++);cl.splice(n,0,e),n===0&&gM(e)}};function q1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function I0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function x2(){}function R6(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=sg(s);a.call(c)}}var s=LO(t,r,e,0,null,!1,!1,"",x2);return e._reactRootContainer=s,e[So]=s.current,Ff(e.nodeType===8?e.parentNode:e),Ac(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=sg(l);o.call(c)}}var l=V1(e,0,!1,null,null,!1,!1,"",x2);return e._reactRootContainer=l,e[So]=l.current,Ff(e.nodeType===8?e.parentNode:e),Ac(function(){M0(t,l,n,r)}),l}function _0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=sg(s);o.call(l)}}M0(t,s,e,i)}else s=R6(n,t,e,i,r);return sg(s)}fM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nf(t.pendingLanes);n!==0&&(d1(t,n|1),ia(t,Or()),!(Tn&6)&&(Yu=Or()+500,_l()))}break;case 13:Ac(function(){var r=No(e,1);if(r!==null){var i=Ri();fs(r,e,1,i)}}),W1(e,1)}};f1=function(e){if(e.tag===13){var t=No(e,134217728);if(t!==null){var n=Ri();fs(t,e,134217728,n)}W1(e,134217728)}};mM=function(e){if(e.tag===13){var t=kl(e),n=No(e,t);if(n!==null){var r=Ri();fs(n,e,t,r)}W1(e,t)}};hM=function(){return Rn};pM=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};Hy=function(e,t,n){switch(t){case"input":if(Fy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=C0(r);if(!i)throw Error(et(90));qE(r),Fy(r,i)}}}break;case"textarea":GE(e,n);break;case"select":t=n.value,t!=null&&Ou(e,!!n.multiple,t,!1)}};tM=R1;nM=Ac;var B6={usingClientEntryPoint:!1,Events:[Sm,bu,C0,JE,eM,R1]},zd={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z6={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aM(e),e===null?null:e.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||F6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{w0=Rh.inject(z6),Us=Rh}catch{}}Da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B6;Da.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q1(t))throw Error(et(200));return $6(e,t,null,n)};Da.createRoot=function(e,t){if(!q1(e))throw Error(et(299));var n=!1,r="",i=$O;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=V1(e,1,!1,null,null,n,!1,r,i),e[So]=t.current,Ff(e.nodeType===8?e.parentNode:e),new H1(t)};Da.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(et(188)):(e=Object.keys(e).join(","),Error(et(268,e)));return e=aM(t),e=e===null?null:e.stateNode,e};Da.flushSync=function(e){return Ac(e)};Da.hydrate=function(e,t,n){if(!I0(t))throw Error(et(200));return _0(null,e,t,!0,n)};Da.hydrateRoot=function(e,t,n){if(!q1(e))throw Error(et(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=$O;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=LO(t,null,e,1,n??null,i,!1,a,s),e[So]=t.current,Ff(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new O0(t)};Da.render=function(e,t,n){if(!I0(t))throw Error(et(200));return _0(null,e,t,!1,n)};Da.unmountComponentAtNode=function(e){if(!I0(e))throw Error(et(40));return e._reactRootContainer?(Ac(function(){_0(null,null,e,!1,function(){e._reactRootContainer=null,e[So]=null})}),!0):!1};Da.unstable_batchedUpdates=R1;Da.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!I0(n))throw Error(et(200));if(e==null||e._reactInternals===void 0)throw Error(et(38));return _0(e,t,n,!1,r)};Da.version="18.3.1-next-f1338f8080-20240426";function FO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FO)}catch(e){console.error(e)}}FO(),FE.exports=Da;var md=FE.exports,v2=md;Ey.createRoot=v2.createRoot,Ey.hydrateRoot=v2.hydrateRoot;const U6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),RO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],BO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],V6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],zO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],W6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],H6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],q6=new Set([10244]),K6=(e,t)=>{var i;if(q6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return H6.some(a=>r.includes(a))},G6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Bh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},UO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,VO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},wi=(e,t=2)=>Number.isFinite(e)?UO()&&Math.abs(e)>=1e4?VO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",nl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return UO()&&t>=1e4?VO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var Y6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const X6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>v.createElement("svg",{ref:c,...Y6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${X6(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},WO=Jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Q6=Jt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),K1=Jt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),HO=Jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Z6=Jt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),G1=Jt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),J6=Jt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),qO=Jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Nb=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eU=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),gs=Jt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),tU=Jt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),nU=Jt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),rU=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),iU=Jt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Kf=Jt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),aU=Jt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Y1=Jt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),sU=Jt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),KO=Jt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),oU=Jt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),X1=Jt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),lU=Jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Q1=Jt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),cU=Jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Z1=Jt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Wi=Jt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),y2=Jt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),uU=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dU=Jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),fU=Jt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),GO=Jt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Xu=Jt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),L0=Jt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),$0=Jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),og=Jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),mU=Jt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),hl=Jt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),xc=Jt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),hU=Jt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),jr=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),pU=Jt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),YO=Jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ti=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gf=Jt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),J1=({className:e})=>u.jsx(uU,{className:e,strokeWidth:3.2}),Cm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},ek=({className:e=""})=>{const t=Cm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},tk=({className:e=""})=>{const t=Cm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},nk=({className:e=""})=>{const t=Cm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},rk=({className:e=""})=>{const t=Cm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},gU=[{id:"overview",label:"Overview",icon:xc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:xc},{id:"fight-breakdown",label:"Fight Breakdown",icon:hl},{id:"top-players",label:"Top Players",icon:xc},{id:"top-skills-outgoing",label:"Top Skills",icon:K1},{id:"squad-composition",label:"Classes",icon:jr},{id:"timeline",label:"Squad vs Enemy",icon:jr},{id:"map-distribution",label:"Map Distribution",icon:Z1}]},{id:"roster",label:"Roster Intel",icon:Kf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Kf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:jr},{id:"fight-comp",label:"Fight Comp",icon:hl}]},{id:"offense",label:"Offensive Stats",icon:hl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:hl},{id:"player-breakdown",label:"Player Breakdown",icon:Q1},{id:"damage-breakdown",label:"Damage Breakdown",icon:G1},{id:"spike-damage",label:"Spike Damage",icon:Gf},{id:"conditions-outgoing",label:"Conditions",icon:L0}]},{id:"defense",label:"Defensive Stats",icon:Xu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:fU},{id:"defense-detailed",label:"Defense Detailed",icon:Xu},{id:"defense-mitigation",label:"Damage Mitigation",icon:nk},{id:"boon-output",label:"Boon Output",icon:tk},{id:"support-detailed",label:"Support Detailed",icon:J1},{id:"healing-stats",label:"Healing Stats",icon:KO}]},{id:"other",label:"Other Metrics",icon:og,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Y1},{id:"special-buffs",label:"Special Buffs",icon:og},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:rk},{id:"skill-usage",label:"Skill Usage",icon:X1},{id:"apm-stats",label:"APM Breakdown",icon:ek}]}],xU=(e,t=!0,n=!1)=>{const[r,i]=v.useState(!1),[a,s]=v.useState("overview"),o=v.useRef(null),l=v.useRef(null),c=v.useRef(0),d=v.useMemo(()=>gU,[]),f=v.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const g=p==="kdr"?"overview":p,y=o.current,x=document.getElementById(g);if(y&&x){const w=y.getBoundingClientRect(),N=x.getBoundingClientRect().top-w.top+y.scrollTop,C=Math.max(0,y.scrollHeight-y.clientHeight),S=Math.min(Math.max(N-16,0),C);y.scrollTo({top:S,behavior:"smooth"}),s(g)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),s(g));i(!1)};v.useEffect(()=>{if(e||n)return;const p=g=>{if(n)return;const y=o.current;if(!y)return;const x=g.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&g.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(c.current+=g.deltaY,l.current===null){const w=()=>{const b=c.current;if(Math.abs(b)<.5){c.current=0,l.current=null;return}const N=b*.2;c.current=b-N,y.scrollBy({top:N,behavior:"auto"}),l.current=requestAnimationFrame(w)};l.current=requestAnimationFrame(w)}g.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),c.current=0}},[e,n]);const m=p=>{var w;const g=Math.max(0,f.findIndex(b=>b.id===a)),y=Math.min(Math.max(g+p,0),f.length-1),x=(w=f[y])==null?void 0:w.id;x&&h(x)};return v.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let g=0;const y=()=>{var N;const w=p.getBoundingClientRect().top;let b=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(C=>{const S=document.getElementById(C.id);if(!S)return;S.getBoundingClientRect().top-w<=24&&(b=C.id)}),s(C=>C===b?C:b)},x=()=>{g&&cancelAnimationFrame(g),g=requestAnimationFrame(y)};return y(),p.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{g&&cancelAnimationFrame(g),p.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},b2=["selfBuffs","groupBuffs","squadBuffs"],io=(e,t,n=0)=>t?e/t:n,w2=e=>e!=null&&e.classification?e.classification==="Boon":!0,XO=e=>`b${e}`,vU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},QO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},yU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=io(a-i,i,1):t==="squadBuffs"?h=io(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?io(d,r):io(d,r)*100,p=n?io(f,r):io(f,r)*100;else{const g=io(d,r)/(h||1),y=io(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},ZO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=yU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?io(i,s):a},bU=(e,t,n,r,i)=>{const a=ZO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},wU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,w=vU(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const b=n.get(p);b.profession=g,g!=="Unknown"&&(b.professions.add(g),b.professionTimeMs[g]=(b.professionTimeMs[g]||0)+w),b.activeTimeMs+=w,b.numFights+=1,b.groupSupported+=x,b.squadSupported+=f,b2.forEach(N=>{(m[N]||[]).forEach(S=>{var Q,ce,pe,X;if(typeof(S==null?void 0:S.id)!="number")return;const j=XO(S.id),E=l[j];if(!w2(E))return;const $=(E==null?void 0:E.stacking)??!1,D=((ce=(Q=S.buffData)==null?void 0:Q[0])==null?void 0:ce.generation)??0,_=((X=(pe=S.buffData)==null?void 0:pe[0])==null?void 0:X.wasted)??0,{generationMs:O,wastedMs:G}=QO(N,$,D,_,o,x,f);!O&&!G||(t.has(j)||t.set(j,E||{}),b.boons[j]||(b.boons[j]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),b.boons[j][N].generationMs+=O,b.boons[j][N].wastedMs+=G)})})})}),{boonTables:Array.from(t.keys()).filter(a=>w2(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!b2.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},k2=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[XO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return QO(t,d,f,h,r,i,a)},kU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},SU={methods:kU},NU=SU,ik="count",CU=e=>(e||0)/1e3,jU=(e,t)=>{var i;if(!e)return 0;const n=(i=NU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},JO=(e,t,n)=>n==="duration"?CU(t):n==="tiered"?jU(e,t):e;function AU(e,t=ik){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return JO(r,i,t)}function PU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=k2(o,"selfBuffs",1122,n,l,a,r),d=k2(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function DU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function TU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function EU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const S2=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},N2=(e,t=ik)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return JO(r,i,t)},C2=e=>DU(e),j2=e=>EU(e),A2=e=>TU(e),P2=(e,t=ik)=>AU(e,t),MU=(e,t)=>PU(e,t),OU="count",e5={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Cb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},IU={uploading:!1,message:null,url:null,buildStatus:"idle"},D2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),t5={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},zh=e=>{if(e)return t5[e]},Yf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=D2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=D2.get(i);if(a)return a}return null},fu=e=>Yf(e),n5=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Yf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(t5).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Cp=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Yf(i);if(a)return a}return e?Yf(e):null},_U=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},LU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},$U=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},FU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||_U,s=n5(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,w;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,w=r[`s${y.id}`].icon||w):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,w=r[`${y.id}`].icon||w));const b=Cp(x,y.id,i);if(!b)return;const N=i==null?void 0:i[`b${y.id}`],C=N==null?void 0:N.name,S=s.get(b)||(N==null?void 0:N.icon),j=x.startsWith("Skill ")?C||b:x,E=w||(N==null?void 0:N.icon),$=Number(y.connectedHits??0),D=Number(y.hits??0),_=$>0?$:D,O=Number(y.totalDamage??0);if(!Number.isFinite(_)&&!Number.isFinite(O))return;const G=l[b]||{name:b,icon:S,applications:0,damage:0};G.applications+=Number.isFinite(_)?_:0,G.damage+=Number.isFinite(O)?O:0,!G.icon&&S&&(G.icon=S),l[b]=G;const Q=o[p][b]||{icon:S,applications:0,damage:0,skills:{}};Q.applications+=Number.isFinite(_)?_:0,Q.damage+=Number.isFinite(O)?O:0;const ce=Q.skills[j]||{name:j,hits:0,damage:0,icon:E};ce.hits+=Number.isFinite(_)?_:0,ce.damage+=Number.isFinite(O)?O:0,!ce.icon&&E&&(ce.icon=E),Q.skills[j]=ce,!Q.icon&&S&&(Q.icon=S),o[p][b]=Q})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],x=Yf(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const w=x;if(!w)return;const b=p.statesPerSource||{};h+=1,Object.entries(b).forEach(([N,C])=>{var _;const S=c.get(N);if(!S)return;f+=1;const j=LU(C),E=$U(C);d+=j;const $=((_=o[S])==null?void 0:_[w])||{applications:0,damage:0,skills:{}};$.applicationsFromBuffs=($.applicationsFromBuffs||0)+j,$.applicationsFromBuffsActive=($.applicationsFromBuffsActive||0)+E,o[S]=o[S]||{},o[S][w]=$;const D=l[w]||{name:w,applications:0,damage:0};D.applicationsFromBuffs=(D.applicationsFromBuffs||0)+j,D.applicationsFromBuffsActive=(D.applicationsFromBuffsActive||0)+E,l[w]=D})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Pc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},RU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function vc(e){return Pc[e]||Pc.Unknown}function BU(e){return e?RU[e]||e:"Unknown"}function cc(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Pc[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=BU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const zU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Ii=(e,t)=>zU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),af=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var g;return(Array.isArray((g=m==null?void 0:m.details)==null?void 0:g.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),l=r||Cb,c=n||e5,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const g=S=>Array.isArray(S)&&S.some(j=>j&&Number(j.count)>0),y=new Map,x=new Map;e.forEach(S=>{var $;const j=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);j&&y.set(String(j),S);const E=(S==null?void 0:S.permalink)||(($=S==null?void 0:S.details)==null?void 0:$.permalink);typeof E=="string"&&E.trim()&&x.set(E.trim(),S)});const w=p.map(S=>{var O;if(!S||typeof S!="object")return S;const j=S.id?String(S.id):"",E=typeof S.permalink=="string"?S.permalink.trim():"",$=(j?y.get(j):void 0)||(E?x.get(E):void 0);if(!$)return S;let D=S;if(Number(S.timestamp)<=0){const G=Ii($==null?void 0:$.details,$);G&&(D={...D,timestamp:G})}const _=(O=$==null?void 0:$.details)==null?void 0:O.teamBreakdown;return g(_)&&(D={...D,teamBreakdown:_}),D}),b=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],C=b.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(j=>Number((j==null?void 0:j.damage)||0)>0||Number((j==null?void 0:j.hits)||0)>0))?b:w.map((S,j)=>{const E=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},$=Object.entries(E).map(([ue,M])=>({label:String(ue||"Unknown"),count:Number(M||0)})).filter(ue=>ue.count>0).sort((ue,M)=>M.count-ue.count||ue.label.localeCompare(M.label)),D=$.reduce((ue,M)=>ue+M.count,0),_=$.map(ue=>({label:ue.label,damage:ue.count,hits:0,share:D>0?ue.count/D:0})),O=Number((S==null?void 0:S.enemyDowns)||0),G=Number((S==null?void 0:S.enemyDeaths)||0),Q=Number((S==null?void 0:S.alliesDown)||0),ce=Number((S==null?void 0:S.alliesDead)||0),pe=Number((S==null?void 0:S.totalOutgoingDamage)||0),X=Number((S==null?void 0:S.totalIncomingDamage)||0),W=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ce>0?G/ce:G},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:G},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:O},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:ce},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Q},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:pe-X},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:pe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:X},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${j+1}`),shortLabel:`F${j+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:_,squadMetrics:W}});return{...m,fightBreakdown:w,fightDiffMode:C}},f=(()=>{if(t)return d(t);const m=i||OU,p=a!==!1,g=l.topSkillDamageSource||"target",y=l.topSkillsMetric||"damage",x=o.length;let w=0,b=0,N=0,C=0,S=0,j=0,E=0,$=0;const D=T=>{const H=((T==null?void 0:T.players)||[]).filter(Ge=>!Ge.notInSquad);let ge=0,ne=0,Ee=0,Se=0;return H.forEach(Ge=>{var Ht;const rt=(Ht=Ge.defenses)==null?void 0:Ht[0];if(!rt)return;const Dt=Number(rt.downCount||0),It=Number(rt.deadCount||0);ge+=Dt+It,Ee+=It}),H.forEach(Ge=>{!Ge.statsTargets||Ge.statsTargets.length===0||Ge.statsTargets.forEach(rt=>{const Dt=rt==null?void 0:rt[0];if(!Dt)return;const It=Number(Dt.downed||0),Ht=Number(Dt.killed||0);ne+=It+Ht,Se+=Ht})}),{squadDownsDeaths:ge,enemyDownsDeaths:ne,squadDeaths:Ee,enemyDeaths:Se}},_=T=>{const{squadDownsDeaths:P,enemyDownsDeaths:H}=D(T);return P>0||H>0?H>P:typeof(T==null?void 0:T.success)=="boolean"?T.success:!1},O=new Map,G=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),Q={},ce={},pe=new Map,X={},W={},ue={},M=new Map,A=new Map,ae=new Set(Object.keys(Pc)),k=Object.keys(Pc).filter(T=>T&&T!=="Unknown").sort((T,P)=>P.length-T.length),z=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],U=T=>{if(!T)return"Unknown";const P=String(T).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ae.has(P))return P;const H=P.toLowerCase();for(const ne of k)if(H.includes(ne.toLowerCase()))return ne;return z.find(ne=>H.includes(ne.toLowerCase()))||P||"Unknown"},J=T=>T!=null&&T.classification?T.classification==="Boon":!0,Z=new Map,ie=new Map,F=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),B=T=>{const P=Number(T);return Number.isFinite(P)?P:0},V=T=>{const P=String(T).split("|"),H=P[0]||"Unknown",ge=U(P[1]||"Unknown"),ne=P[2]||H||"Unknown";return{name:H,profession:ge,account:ne}},Y=(T,P,H)=>{let ge=T.get(P);return ge?H.profession&&!ge.professionList.includes(H.profession)&&ge.professionList.push(H.profession):(ge={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:F()},T.set(P,ge)),ge},R=(T,P,H)=>{let ge=T.get(P);return ge?H.profession&&!ge.professionList.includes(H.profession)&&ge.professionList.push(H.profession):(ge={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:F(),minion:H.minion},T.set(P,ge)),ge},oe=(T,P)=>{T.totalHits+=B((P==null?void 0:P.skill_hits)??(P==null?void 0:P.skillHits)),T.blocked+=B(P==null?void 0:P.blocked),T.evaded+=B(P==null?void 0:P.evaded),T.glanced+=B(P==null?void 0:P.glanced),T.missed+=B(P==null?void 0:P.missed),T.invulned+=B(P==null?void 0:P.invulned),T.interrupted+=B(P==null?void 0:P.interrupted),T.totalMitigation+=B((P==null?void 0:P.avoided_damage)??(P==null?void 0:P.avoidedDamage)),T.minMitigation+=B((P==null?void 0:P.min_avoided_damage)??(P==null?void 0:P.minAvoidedDamage))},q=T=>Object.values(T).some(P=>P>0),te=new Map,Oe=T=>{const P=te.get(T);if(!P)return{hasSkill:!1,avg:1,min:1,hits:0};const H=P.connectedHits||0,ge=H>0?P.totalDamage/H:0,ne=P.minCount>0?P.minTotal/P.minCount:0;return{hasSkill:!0,avg:ge,min:ne,hits:H}},Ie=new Map,he=new Map,L=(T,P,H)=>{const ge=T.get(P)||F();return ge.totalHits+=H.totalHits,ge.blocked+=H.blocked,ge.evaded+=H.evaded,ge.glanced+=H.glanced,ge.missed+=H.missed,ge.invulned+=H.invulned,ge.interrupted+=H.interrupted,T.set(P,ge),ge};o.forEach(T=>{const P=T.details;if(!P)return;(P.targets||[]).forEach(ge=>{const ne=(ge==null?void 0:ge.totalDamageDist)||[],Ee=Array.isArray(ne)?ne[0]:null;Ee==null||Ee.forEach(Se=>{if(!(Se!=null&&Se.id))return;const Ge=Number(Se.id),rt=te.get(Ge)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};rt.totalDamage+=Number(Se.totalDamage||0),rt.connectedHits+=Number(Se.connectedHits||0);const Dt=Number.isFinite(Number(Se.min))?Number(Se.min):0;rt.minTotal+=Dt,rt.minCount+=1,te.set(Ge,rt)})})}),o.forEach(T=>{var at,mt;const P=T.details;if(!P)return;const H=P.players,ge=P.targets||[],ne=P.combatReplayMetaData||{},Ee=(ne==null?void 0:ne.inchToPixel)>0?ne.inchToPixel:1,Se=(ne==null?void 0:ne.pollingRate)>0?ne.pollingRate:1,Ge=5e3,rt=fe=>Array.isArray(fe)?fe.map(qe=>Array.isArray(qe)?[Number(qe[0]),Number(qe[1])]:null).filter(qe=>!!qe&&Number.isFinite(qe[0])):[];let Dt=[],It=P.durationMS||0,Ht=!1;const Qt=H.find(fe=>(fe==null?void 0:fe.hasCommanderTag)&&!(fe!=null&&fe.notInSquad));(at=Qt==null?void 0:Qt.combatReplayData)!=null&&at.positions&&(Dt=Qt.combatReplayData.positions,rt(Qt.combatReplayData.dead).forEach(([qe])=>{qe>0&&(Ht=!0,It=Math.min(It,qe))}));const wn=fe=>{var ze;const qe=(ze=fe.statsAll)==null?void 0:ze[0];if((qe==null?void 0:qe.distToCom)!==void 0&&(qe==null?void 0:qe.distToCom)!=="Infinity")return Math.round(Number(qe.distToCom));if((qe==null?void 0:qe.stackDist)!==void 0)return Math.round(Number(qe.stackDist))||0;if(fe.hasCommanderTag)return 0;const ot=fe.combatReplayData;if(!(ot!=null&&ot.positions)||!Dt.length)return 0;const Rt=ot.positions,Ae=rt(ot.dead),de=rt(ot.down),Bt=Math.floor((ot.start||0)/Se);let be=0;if(Ae.length&&de.length)for(const[tt]of Ae){if(tt<0)continue;const ht=Math.max(0,Math.floor(tt/Se))-Bt;for(const[Qe,He]of de){if(tt!==He)continue;const it=Ht&&Qe>It?Math.max(1,Math.floor(It/Se)):ht,lt=Math.max(0,Math.min(it,Rt.length,Dt.length));if(lt<=0)continue;let vt=0;for(let mn=0;mn<lt;mn++){const[un,Un]=Rt[mn],[Ut,Pr]=Dt[mn];vt+=Math.hypot(un-Ut,Un-Pr)}be=Math.round(vt/lt/Ee)}}return be},Ve=H.filter(fe=>!fe.notInSquad);N+=Ve.length,C+=ge.filter(fe=>!fe.isFake).length,MU(H,{durationMS:P.durationMS,buffMap:P.buffMap});const{squadDeaths:ft,enemyDeaths:gt}=D(P);S+=ft,j+=gt,$+=ft,E+=gt,_(P)?w++:b++;const Pe=P.skillMap?Number((mt=Object.keys(P.skillMap).find(fe=>{var qe,ot;return((ot=(qe=P.skillMap)==null?void 0:qe[fe])==null?void 0:ot.name)==="Battle Standard"}))==null?void 0:mt.replace(/^s/,"")):null;H.forEach((fe,qe)=>{var qi,gi,vn,Ul,wr,Wo,Ki,Zs,Ho,Ps,qo,Vl,Zc;if(fe.notInSquad)return;const ot=fe.account||"Unknown",Rt=ot!=="Unknown"?ot:fe.name||"Unknown",Ae=fe.name||"Unknown";O.has(Rt)||O.set(Rt,{name:Ae,account:Rt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:fe.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const de=O.get(Rt);if(fe.hasCommanderTag&&(de.isCommander=!0),Ae!=="Unknown"&&de.characterNames.add(String(Ae)),fe.profession&&fe.profession!=="Unknown"){de.profession=fe.profession,de.professions.add(fe.profession);const Ue=Array.isArray(fe.activeTimes)&&typeof fe.activeTimes[0]=="number"?fe.activeTimes[0]:P.durationMS||0;de.professionTimeMs[fe.profession]=(de.professionTimeMs[fe.profession]||0)+Ue}de.logsJoined++,de.downContrib+=C2(fe),de.cleanses+=S2(fe),de.strips+=N2(fe,m),de.healing+=j2(fe),de.barrier+=A2(fe),de.cc+=P2(fe,m),de.stab+=fe.stabGeneration||0;const Bt=wn(fe);Bt<=Ge&&(de.totalDist+=Bt,de.distCount++),(qi=fe.defenses)!=null&&qi[0]&&(de.dodges+=fe.defenses[0].dodgeCount||0,de.downs+=fe.defenses[0].downCount||0,de.deaths+=fe.defenses[0].deadCount||0),P.durationMS&&(de.totalFightMs+=P.durationMS);const be=Array.isArray(fe.activeTimes)&&typeof fe.activeTimes[0]=="number"?fe.activeTimes[0]:P.durationMS||0;de.squadActiveMs+=be;const ze=Ii(P,T),tt=Number((P==null?void 0:P.durationMS)||0);if(ze>0&&((de.firstSeenFightTs<=0||ze<de.firstSeenFightTs)&&(de.firstSeenFightTs=ze),de.lastSeenFightTs<=0||ze>de.lastSeenFightTs?(de.lastSeenFightTs=ze,de.lastSeenFightDurationMs=tt):ze===de.lastSeenFightTs&&tt>de.lastSeenFightDurationMs&&(de.lastSeenFightDurationMs=tt)),de.defenseActiveMs+=be,de.supportActiveMs+=be,de.healingActiveMs+=be,Array.isArray(fe.buffUptimes)&&fe.buffUptimes.length>0&&fe.buffUptimes.forEach(Ue=>{var ch,uh,dh,Ds,Jc,fh;if(typeof(Ue==null?void 0:Ue.id)!="number")return;const Fe=`b${Ue.id}`,Ce=((ch=P.buffMap)==null?void 0:ch[Fe])||((uh=P.buffMap)==null?void 0:uh[String(Ue.id)]);if(!Ce||J(Ce))return;const De=Number(((Ds=(dh=Ue.buffData)==null?void 0:dh[0])==null?void 0:Ds.uptime)??0),st=Number(((fh=(Jc=Ue.buffData)==null?void 0:Jc[0])==null?void 0:fh.presence)??0);if((!Number.isFinite(De)||De<=0)&&(!Number.isFinite(st)||st<=0))return;const Zt=(Ce==null?void 0:Ce.stacking)??!1,kn=(Zt?Number.isFinite(De)?De:0:Number.isFinite(De)?De/100:0)*be,Ln=Zt?st:De,Zr=Math.min(Math.max(Number.isFinite(Ln)?Ln:0,0),100)/100*be,Tr=Number.isFinite(kn)&&kn>0,Js=Number.isFinite(Zr)&&Zr>0;if(!Tr&&!Js)return;const Yi=fu(Ce==null?void 0:Ce.name);if(Yi&&U6.has(Yi)&&(!(Ce!=null&&Ce.classification)||Ce.classification==="Condition")){const Wl=kn/1e3,kr=Ce==null?void 0:Ce.icon,Ts=X[Yi]||{name:Yi,icon:kr,applications:0,damage:0};Ts.applicationsFromUptime=(Ts.applicationsFromUptime||0)+Wl,!Ts.icon&&kr&&(Ts.icon=kr),X[Yi]=Ts;const Hl=de.outgoingConditions[Yi]||{applications:0,damage:0,skills:{},icon:kr};Hl.applicationsFromUptime=(Hl.applicationsFromUptime||0)+Wl,!Hl.icon&&kr&&(Hl.icon=kr),de.outgoingConditions[Yi]=Hl;const Qi=W[Yi]||{name:Yi,icon:kr,applications:0,damage:0};Qi.applicationsFromUptime=(Qi.applicationsFromUptime||0)+Wl,!Qi.icon&&kr&&(Qi.icon=kr),W[Yi]=Qi;const Oi=de.incomingConditions[Yi]||{applications:0,damage:0,skills:{},icon:kr};Oi.applicationsFromUptime=(Oi.applicationsFromUptime||0)+Wl,!Oi.icon&&kr&&(Oi.icon=kr),de.incomingConditions[Yi]=Oi}M.has(Fe)||M.set(Fe,{name:Ce==null?void 0:Ce.name,stacking:Zt,icon:Ce==null?void 0:Ce.icon}),A.has(Fe)||A.set(Fe,new Map);const Pd=A.get(Fe),Xi=de.account||fe.account||fe.name||"Unknown";let Mi=Pd.get(Xi);Mi||(Mi={account:Xi,profession:de.profession||fe.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Pd.set(Xi,Mi));const Ko=fe.profession||de.profession;Ko&&Ko!=="Unknown"&&(Mi.professions.add(Ko),Mi.professionTimeMs[Ko]=(Mi.professionTimeMs[Ko]||0)+be,Mi.profession=Ko),Mi.totalMs+=Tr?kn:0,Mi.uptimeMs+=Js?Zr:0,Mi.durationMs+=be}),(gi=fe.defenses)!=null&&gi[0]){const Ue=De=>{let st=String(De||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return st.toUpperCase().includes("UNKNOWN")&&(st="Unknown"),st},Ce=(()=>{const De=Array.isArray(fe==null?void 0:fe.minions)?fe.minions:[];if(De.length===0)return{total:0,byMinion:{}};let st=0;const Zt={};return De.forEach(pn=>{const kn=Array.isArray(pn==null?void 0:pn.totalDamageTakenDist)?pn.totalDamageTakenDist:[],Ln=Array.isArray(kn[0])?kn[0]:[],Gi=Ue(pn==null?void 0:pn.name);Ln.forEach(Zr=>{const Tr=Number((Zr==null?void 0:Zr.totalDamage)??(Zr==null?void 0:Zr.damageTaken)??0);Number.isFinite(Tr)&&(st+=Tr,Zt[Gi]=(Zt[Gi]||0)+Tr)})}),{total:st,byMinion:Zt}})();Ce.byMinion&&typeof Ce.byMinion=="object"&&Object.entries(Ce.byMinion).forEach(([De,st])=>{const Zt=Number(st||0);!Number.isFinite(Zt)||Zt<=0||(de.defenseMinionDamageTaken[De]=(de.defenseMinionDamageTaken[De]||0)+Zt)}),BO.forEach(De=>{const st=De.id==="minionDamageTaken"?Ce.total:Number(fe.defenses[0][De.field]??0);Number.isFinite(st)&&(de.defenseTotals[De.id]=(de.defenseTotals[De.id]||0)+st)})}(vn=fe.support)!=null&&vn[0]&&zO.forEach(Ue=>{let Fe=Number(fe.support[0][Ue.field]??0);Number.isFinite(Fe)&&(G.has(Ue.field)&&Fe>999999&&(Fe=0),de.supportTotals[Ue.id]=(de.supportTotals[Ue.id]||0)+Fe)});const ht=(Ue,Fe)=>{Number.isFinite(Fe)&&(de.healingTotals[Ue]=(de.healingTotals[Ue]||0)+Fe)},Qe=(Ue,Fe)=>Array.isArray(Ue)?Ue.reduce((Ce,De)=>Ce+Number((De==null?void 0:De[Fe])??0),0):0,He=(Ue,Fe,Ce)=>{if(!Number.isFinite(Ce)||Ce<=0)return;const De=H[Fe],st=Fe===qe,Zt=De==null?void 0:De.notInSquad,pn=!Zt,kn=pn&&(De==null?void 0:De.group)!=null&&De.group===fe.group;ht(Ue,Ce),pn&&ht(`squad${Ue[0].toUpperCase()}${Ue.slice(1)}`,Ce),kn&&ht(`group${Ue[0].toUpperCase()}${Ue.slice(1)}`,Ce),st&&ht(`self${Ue[0].toUpperCase()}${Ue.slice(1)}`,Ce),Zt&&ht(`offSquad${Ue[0].toUpperCase()}${Ue.slice(1)}`,Ce)};if(Array.isArray(fe.rotation)){let Ue=0;fe.rotation.forEach(Fe=>{var De;if(!(Fe!=null&&Fe.id)||!K6(Fe.id,P.skillMap))return;const Ce=((De=Fe.skills)==null?void 0:De.length)||0;Ce>0&&(Ue+=Ce,ht(`resUtility_s${Fe.id}`,Ce))}),Ue>0&&ht("resUtility",Ue)}const it=(Ul=fe.extHealingStats)==null?void 0:Ul.outgoingHealingAllies;Array.isArray(it)&&it.forEach((Ue,Fe)=>{const Ce=Qe(Ue,"healing"),De=Qe(Ue,"downedHealing");He("healing",Fe,Ce),He("downedHealing",Fe,De)});const lt=(wr=fe.extBarrierStats)==null?void 0:wr.outgoingBarrierAllies;Array.isArray(lt)&&lt.forEach((Ue,Fe)=>{const Ce=Qe(Ue,"barrier");He("barrier",Fe,Ce)});const vt=(Wo=fe.statsAll)==null?void 0:Wo[0],mn=(Ki=fe.dpsAll)==null?void 0:Ki[0],un=(Zs=fe.support)==null?void 0:Zs[0];if(RO.forEach(Ue=>{if(Ue.id==="downContributionPercent"||!Ue.field)return;let Fe=0,Ce=0;Ue.source==="dpsAll"&&mn?Fe=Number(mn[Ue.field]??0):Ue.source==="statsAll"&&vt?(Fe=Number(vt[Ue.field]??0),Ce=Number(vt[Ue.denomField||Ue.weightField||"connectedDamageCount"]??0)):Ue.source==="support"&&un?Fe=Number(un[Ue.field]??0):fe.statsTargets&&fe.statsTargets.forEach(De=>{De!=null&&De[0]&&(Fe+=Number(De[0][Ue.field]??0),Ce+=Number(De[0][Ue.denomField||Ue.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Fe)&&(de.offenseTotals[Ue.id]=(de.offenseTotals[Ue.id]||0)+Fe,Ue.isRate&&Ce>0&&(de.offenseRateWeights[Ue.id]=(de.offenseRateWeights[Ue.id]||0)+Ce))}),fe.targetDamageDist&&Number.isFinite(Pe)){const Ue=fe.targetDamageDist.flatMap(Fe=>Fe||[]).flatMap(Fe=>Fe||[]).reduce((Fe,Ce)=>Ce!=null&&Ce.id&&Ce.id===Pe?Fe+((Ce==null?void 0:Ce.connectedHits)||0):Fe,0);de.offenseTotals.battleStandardHits=(de.offenseTotals.battleStandardHits||0)+Ue}de.revives+=((Ps=(Ho=fe.support)==null?void 0:Ho[0])==null?void 0:Ps.resurrects)||0,mn&&(de.damage+=mn.damage||0,de.dps+=mn.dps||0);const Un=Ue=>{var st,Zt,pn,kn;let Fe=`Skill ${Ue.id}`;const Ce=((st=P.skillMap)==null?void 0:st[`s${Ue.id}`])||((Zt=P.skillMap)==null?void 0:Zt[`${Ue.id}`]);let De=Ce==null?void 0:Ce.icon;if(Ce!=null&&Ce.name&&(Fe=Ce.name),Fe.startsWith("Skill ")){const Ln=Cp(Fe,Ue.id,P.buffMap);Ln&&(Fe=Ln,De=((kn=(pn=P.buffMap)==null?void 0:pn[`b${Ue.id}`])==null?void 0:kn.icon)||De)}return{name:Fe,icon:De}},Ut=Ue=>{if(!(Ue!=null&&Ue.id))return;const{name:Fe,icon:Ce}=Un(Ue);Q[Ue.id]||(Q[Ue.id]={name:Fe,icon:Ce,damage:0,hits:0,downContribution:0}),Q[Ue.id].name.startsWith("Skill ")&&!Fe.startsWith("Skill ")&&(Q[Ue.id].name=Fe),!Q[Ue.id].icon&&Ce&&(Q[Ue.id].icon=Ce),Q[Ue.id].damage+=Ue.totalDamage,Q[Ue.id].hits+=Ue.connectedHits,Q[Ue.id].downContribution+=Number(Ue.downContribution||0)},Pr=fe.account||fe.name||"Unknown",hn=fe.profession||"Unknown",Dr=`${Pr}|${hn}`;let Cn=pe.get(Dr);Cn||(Cn={key:Dr,account:Pr,displayName:Pr,profession:hn,professionList:[hn],totalFightMs:0,skills:new Map},pe.set(Dr,Cn)),Cn.professionList.includes(hn)||Cn.professionList.push(hn),Cn.totalFightMs+=P.durationMS||0;const or=Ue=>{if(!(Ue!=null&&Ue.id))return;const{name:Fe,icon:Ce}=Un(Ue),De=`s${Ue.id}`;let st=Cn.skills.get(De);st||(st={id:De,name:Fe,icon:Ce,damage:0,downContribution:0},Cn.skills.set(De,st)),st.name.startsWith("Skill ")&&!Fe.startsWith("Skill ")&&(st.name=Fe),!st.icon&&Ce&&(st.icon=Ce),st.damage+=Number(Ue.totalDamage||0),st.downContribution+=Number(Ue.downContribution||0)};if(g==="total")(qo=fe.totalDamageDist)==null||qo.forEach(Ue=>{Ue==null||Ue.forEach(Fe=>{Ut(Fe),or(Fe)})});else{const Ue=new Map;(Vl=fe.targetDamageDist)==null||Vl.forEach(Ce=>{Ce==null||Ce.forEach(De=>{De==null||De.forEach(st=>{const Zt=Number(st==null?void 0:st.id);if(Number.isFinite(Zt)){const pn=Ue.get(Zt)||{damage:0,hits:0,downContribution:0};pn.damage+=Number((st==null?void 0:st.totalDamage)||0),pn.hits+=Number((st==null?void 0:st.connectedHits)||0),pn.downContribution+=Number((st==null?void 0:st.downContribution)||0),Ue.set(Zt,pn)}Ut(st),or(st)})})}),!(P!=null&&P.detailedWvW)&&((Zc=fe.totalDamageDist)==null||Zc.forEach(Ce=>{Ce==null||Ce.forEach(De=>{const st=Number(De==null?void 0:De.id);if(!Number.isFinite(st))return;const Zt=Ue.get(st);if(!Zt){Ut(De),or(De);return}const pn=Number((De==null?void 0:De.totalDamage)||0),kn=Number((De==null?void 0:De.connectedHits)||0),Ln=Number((De==null?void 0:De.downContribution)||0),Gi=pn-Number(Zt.damage||0),Zr=kn-Number(Zt.hits||0),Tr=Ln-Number(Zt.downContribution||0);if(Gi<=0&&Zr<=0&&Tr<=0)return;const Js={...De,totalDamage:Math.max(0,Gi),connectedHits:Math.max(0,Zr),downContribution:Math.max(0,Tr)};Ut(Js),or(Js)})}))}fe.totalDamageTaken&&fe.totalDamageTaken.forEach(Ue=>{Ue==null||Ue.forEach(Fe=>{var Zt,pn,kn,Ln;if(!(Fe!=null&&Fe.id))return;let Ce=`Skill ${Fe.id}`;const De=((Zt=P.skillMap)==null?void 0:Zt[`s${Fe.id}`])||((pn=P.skillMap)==null?void 0:pn[`${Fe.id}`]);let st=De==null?void 0:De.icon;if(De!=null&&De.name&&(Ce=De.name),Ce.startsWith("Skill ")){const Gi=Cp(Ce,Fe.id,P.buffMap);Gi&&(Ce=Gi,st=((Ln=(kn=P.buffMap)==null?void 0:kn[`b${Fe.id}`])==null?void 0:Ln.icon)||st)}ce[Fe.id]||(ce[Fe.id]={name:Ce,icon:st,damage:0,hits:0}),(!ce[Fe.id].name.startsWith("Skill ")||Ce.startsWith("Skill "))&&(ce[Fe.id].name=Ce),!ce[Fe.id].icon&&st&&(ce[Fe.id].icon=st),ce[Fe.id].damage+=Fe.totalDamage,ce[Fe.id].hits+=Fe.hits})})}),ge.forEach(fe=>{if(fe!=null&&fe.isFake)return;const qe=U((fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id));qe&&(ue[qe]=(ue[qe]||0)+1)});const Me=FU({players:H,targets:ge,skillMap:P.skillMap,buffMap:P.buffMap,getPlayerKey:fe=>fe.account&&fe.account!=="Unknown"?fe.account:fe.name||null}),_e=n5(P.buffMap);Object.entries(Me.playerConditions).forEach(([fe,qe])=>{const ot=O.get(fe);ot&&Object.entries(qe).forEach(([Rt,Ae])=>{const de=ot.outgoingConditions[Rt]||{applications:0,damage:0,skills:{},icon:Ae.icon};de.applications+=Number(Ae.applications||0),de.damage+=Number(Ae.damage||0),Ae.applicationsFromBuffs&&(de.applicationsFromBuffs=(de.applicationsFromBuffs||0)+Ae.applicationsFromBuffs),Ae.applicationsFromBuffsActive&&(de.applicationsFromBuffsActive=(de.applicationsFromBuffsActive||0)+Ae.applicationsFromBuffsActive),Object.entries(Ae.skills||{}).forEach(([Bt,be])=>{const ze=de.skills[Bt]||{name:be.name,hits:0,damage:0,icon:be.icon};ze.hits+=Number(be.hits||0),ze.damage+=Number(be.damage||0),!ze.icon&&be.icon&&(ze.icon=be.icon),de.skills[Bt]=ze}),!de.icon&&Ae.icon&&(de.icon=Ae.icon),ot.outgoingConditions[Rt]=de})}),Object.entries(Me.summary).forEach(([fe,qe])=>{const ot=X[fe]||{name:qe.name||fe,icon:qe.icon,applications:0,damage:0};ot.applications+=Number(qe.applications||0),ot.damage+=Number(qe.damage||0),qe.applicationsFromBuffs&&(ot.applicationsFromBuffs=(ot.applicationsFromBuffs||0)+qe.applicationsFromBuffs),qe.applicationsFromBuffsActive&&(ot.applicationsFromBuffsActive=(ot.applicationsFromBuffsActive||0)+qe.applicationsFromBuffsActive),!ot.icon&&qe.icon&&(ot.icon=qe.icon),X[fe]=ot}),Ve.forEach(fe=>{const qe=fe.account&&fe.account!=="Unknown"?fe.account:fe.name||"Unknown",ot=O.get(qe);!ot||!fe.totalDamageTaken||fe.totalDamageTaken.forEach(Rt=>Rt==null?void 0:Rt.forEach(Ae=>{var mn,un,Un,Ut,Pr,hn;if(!(Ae!=null&&Ae.id))return;let de=`Skill ${Ae.id}`;const Bt=((mn=P.skillMap)==null?void 0:mn[`s${Ae.id}`])||((un=P.skillMap)==null?void 0:un[`${Ae.id}`]);Bt!=null&&Bt.name&&(de=Bt.name);const be=Cp(de,Ae.id,P.buffMap);if(!be)return;const ze=(Ut=(Un=P.buffMap)==null?void 0:Un[`b${Ae.id}`])==null?void 0:Ut.name,tt=_e.get(be)||((hn=(Pr=P.buffMap)==null?void 0:Pr[`b${Ae.id}`])==null?void 0:hn.icon),ht=(Bt==null?void 0:Bt.icon)||tt;de.startsWith("Skill ")&&(ze||be)&&(de=ze||be);const Qe=Number(Ae.hits??0),He=Number(Ae.totalDamage??0),it=W[be]||{name:be,icon:tt,applications:0,damage:0};it.applications+=Number.isFinite(Qe)?Qe:0,it.damage+=Number.isFinite(He)?He:0,!it.icon&&tt&&(it.icon=tt),W[be]=it;const lt=ot.incomingConditions[be]||{applications:0,damage:0,skills:{},icon:tt};lt.applications+=Number.isFinite(Qe)?Qe:0,lt.damage+=Number.isFinite(He)?He:0;const vt=lt.skills[de]||{name:de,hits:0,damage:0,icon:ht};vt.hits+=Number.isFinite(Qe)?Qe:0,vt.damage+=Number.isFinite(He)?He:0,!vt.icon&&ht&&(vt.icon=ht),lt.skills[de]=vt,!lt.icon&&tt&&(lt.icon=tt),ot.incomingConditions[be]=lt}))});const Ye=P.player_damage_mitigation||P.playerDamageMitigation,We=Ye&&typeof Ye=="object"&&Object.keys(Ye).length>0;We&&Object.entries(Ye).forEach(([fe,qe])=>{if(!qe||typeof qe!="object")return;const ot=V(fe),Rt=Y(Z,ot.account,ot);Object.values(qe).forEach(Ae=>{B((Ae==null?void 0:Ae.avoided_damage)??(Ae==null?void 0:Ae.avoidedDamage))<=0||oe(Rt.mitigationTotals,Ae)})});const Xe=P.player_minion_damage_mitigation||P.playerMinionDamageMitigation,ye=Xe&&typeof Xe=="object"&&Object.keys(Xe).length>0;ye&&Object.entries(Xe).forEach(([fe,qe])=>{if(!qe||typeof qe!="object")return;const ot=V(fe);Object.entries(qe).forEach(([Rt,Ae])=>{if(!Ae||typeof Ae!="object")return;const de=`${ot.account}::${Rt}`,Bt=R(ie,de,{...ot,minion:String(Rt||"Unknown")});Object.values(Ae).forEach(be=>{oe(Bt.mitigationTotals,be)})})}),(!We||!ye)&&(We||Ve.forEach(fe=>{const qe=(fe==null?void 0:fe.totalDamageTaken)||[];if(!Array.isArray(qe)||qe.length===0)return;const ot=fe.account||fe.name||"Unknown",Rt={account:ot,name:fe.name||ot,profession:U(fe.profession||"Unknown")};Y(Z,ot,Rt);const Ae=Array.isArray(qe)?qe[0]:null;Ae==null||Ae.forEach(de=>{if(!(de!=null&&de.id))return;const Bt=B(de.blocked),be=B(de.evaded),ze=B(de.glance??de.glanced),tt=B(de.missed),ht=B(de.invulned),Qe=B(de.interrupted),He=B(de.hits??de.connectedHits),it=Number(de.id);L(Ie,`${ot}::${it}`,{totalHits:He,blocked:Bt,evaded:be,glanced:ze,missed:tt,invulned:ht,interrupted:Qe})})}),ye||Ve.forEach(fe=>{const qe=(fe==null?void 0:fe.minions)||[];if(!Array.isArray(qe)||qe.length===0)return;const ot=fe.account||fe.name||"Unknown",Rt={account:ot,name:fe.name||ot,profession:U(fe.profession||"Unknown")};qe.forEach(Ae=>{const de=(Ae==null?void 0:Ae.totalDamageTakenDist)||[];if(!Array.isArray(de)||de.length===0)return;let Bt=String((Ae==null?void 0:Ae.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Bt.toUpperCase().includes("UNKNOWN")&&(Bt="Unknown");const be=`${ot}::${Bt}`;R(ie,be,{...Rt,minion:Bt});const ze=Array.isArray(de)?de[0]:null;ze==null||ze.forEach(tt=>{if(!(tt!=null&&tt.id))return;const ht=B(tt.blocked),Qe=B(tt.evaded),He=B(tt.glance??tt.glanced),it=B(tt.missed),lt=B(tt.invulned),vt=B(tt.interrupted),mn=B(tt.hits??tt.connectedHits),un=Number(tt.id);L(he,`${be}::${un}`,{totalHits:mn,blocked:ht,evaded:Qe,glanced:He,missed:it,invulned:lt,interrupted:vt})})})}))});const ke=(T,P)=>{const H=new Map,ge=ne=>{let Ee=H.get(ne);return Ee||(Ee=F(),H.set(ne,Ee)),Ee};P.forEach((ne,Ee)=>{const Se=Ee.lastIndexOf("::"),Ge=Se>-1?Ee.slice(0,Se):Ee,rt=Se>-1?Number(Ee.slice(Se+2)):Number.NaN,Dt=Number.isFinite(rt)?Oe(rt):{hasSkill:!1,avg:0,min:0,hits:0};if(!Dt.hasSkill||Dt.hits<=0)return;const It=Dt.avg,Ht=Dt.min,Qt=ne.glanced*It/2+(ne.blocked+ne.evaded+ne.missed+ne.invulned+ne.interrupted)*It,wn=ne.glanced*Ht/2+(ne.blocked+ne.evaded+ne.missed+ne.invulned+ne.interrupted)*Ht;if(Qt<=0)return;const Ve=ge(Ge);Ve.totalHits+=ne.totalHits,Ve.blocked+=ne.blocked,Ve.evaded+=ne.evaded,Ve.glanced+=ne.glanced,Ve.missed+=ne.missed,Ve.invulned+=ne.invulned,Ve.interrupted+=ne.interrupted,Ve.totalMitigation+=Qt,Ve.minMitigation+=wn}),T.forEach((ne,Ee)=>{const Se=H.get(Ee)||F();ne.mitigationTotals.totalHits=Se.totalHits,ne.mitigationTotals.blocked=Se.blocked,ne.mitigationTotals.evaded=Se.evaded,ne.mitigationTotals.glanced=Se.glanced,ne.mitigationTotals.missed=Se.missed,ne.mitigationTotals.invulned=Se.invulned,ne.mitigationTotals.interrupted=Se.interrupted,ne.mitigationTotals.totalMitigation=Se.totalMitigation,ne.mitigationTotals.minMitigation=Se.minMitigation})};ke(Z,Ie),ke(ie,he);const Ne=x>0?Math.round(N/x):0,ct=x>0?Math.round(C/x):0,Ot=S>0?(j/S).toFixed(2):j>0?"":"0.00",dn=E>0?($/E).toFixed(2):$>0?"":"0.00",ve=(T,P)=>{const ge=T.filter(Se=>Number.isFinite(Se.value)&&(P?Se.value>0:Se.value>=0)).sort((Se,Ge)=>{const rt=P?Ge.value-Se.value:Se.value-Ge.value;return rt!==0?rt:Se.account.localeCompare(Ge.account)});let ne=null,Ee=0;return ge.map((Se,Ge)=>((ne===null||Se.value!==ne)&&(Ee=Ge+1,ne=Se.value),{rank:Ee,...Se}))},Ke=Array.from(O.values()).map(T=>{const P=Array.from(T.professions).filter(H=>H!=="Unknown");if(T.professionList=P,P.length>0){let H=P[0],ge=T.professionTimeMs[H]||0;P.forEach(ne=>{const Ee=T.professionTimeMs[ne]||0;Ee>ge&&(ge=Ee,H=ne)}),T.profession=H}return{key:T.account,stat:T}}),jt=T=>{const P=O.get(T.account);if(!P){const ne=T.professionList.length>0?T.professionList:T.profession?[T.profession]:[];return{...T,professionList:ne}}const H=P.professionList&&P.professionList.length>0?P.professionList:Array.from(P.professions||[]).filter(ne=>ne&&ne!=="Unknown"),ge=P.profession||T.profession;return{...T,profession:ge,professionList:H.length>0?H:ge?[ge]:[],activeMs:P.defenseActiveMs||P.totalFightMs||T.activeMs}},en=Array.from(Z.values()).map(jt).filter(T=>q(T.mitigationTotals)).sort((T,P)=>T.account.localeCompare(P.account)),Gt=Array.from(ie.values()).map(jt).filter(T=>T.mitigationTotals.totalMitigation>0).sort((T,P)=>{const H=T.account.localeCompare(P.account);return H!==0?H:String(T.minion||"").localeCompare(String(P.minion||""))}),yr=(T,P)=>{switch(P){case"downContrib":return T.downContrib;case"barrier":return T.barrier;case"healing":return T.healing;case"dodges":return T.dodges;case"strips":return T.strips;case"cleanses":return T.cleanses;case"cc":return T.cc;case"stability":return T.stab;case"revives":return T.revives;case"dps":return T.dps;case"damage":return T.damage;case"participation":return T.logsJoined;case"closestToTag":return!T.isCommander&&T.distCount>0?T.totalDist/T.distCount:Number.POSITIVE_INFINITY;default:return 0}},$n=(T,P)=>ve(Ke.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:yr(H,T),count:H.logsJoined})),P),sn={downContrib:$n("downContrib",!0),barrier:$n("barrier",!0),healing:$n("healing",!0),dodges:$n("dodges",!0),strips:$n("strips",!0),cleanses:$n("cleanses",!0),cc:$n("cc",!0),stability:$n("stability",!0),revives:$n("revives",!0),participation:$n("participation",!0),dps:$n("dps",!0),damage:$n("damage",!0),closestToTag:$n("closestToTag",!1).filter(T=>Number.isFinite(T.value))},Qa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},fn=T=>{const P=T==null?void 0:T[0];return{value:(P==null?void 0:P.value)??0,player:(P==null?void 0:P.account)??"-",count:(P==null?void 0:P.count)??0,profession:(P==null?void 0:P.profession)??"Unknown",professionList:(P==null?void 0:P.professionList)??[]}},Sn={maxDownContrib:fn([]),maxBarrier:fn([]),maxHealing:fn([]),maxDodges:fn([]),maxStrips:fn([]),maxCleanses:fn([]),maxCC:fn([]),maxStab:fn([]),closestToTag:fn([])},Nn={},pi=(T,P)=>{if(P==="closestToTag")return yr(T,P);const H=Math.max(1,(T.totalFightMs||0)/1e3);return yr(T,P)/H};Object.values(Qa).forEach(T=>{const P=T!=="closestToTag";Nn[T]=ve(Ke.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:pi(H,T),count:H.logsJoined})),P)}),Sn.maxDownContrib=fn(Nn.downContrib),Sn.maxBarrier=fn(Nn.barrier),Sn.maxHealing=fn(Nn.healing),Sn.maxDodges=fn(Nn.dodges),Sn.maxStrips=fn(Nn.strips),Sn.maxCleanses=fn(Nn.cleanses),Sn.maxCC=fn(Nn.cc),Sn.maxStab=fn(Nn.stability),Sn.closestToTag=fn(Nn.closestToTag);const _r={maxDownContrib:fn(sn.downContrib),maxBarrier:fn(sn.barrier),maxHealing:fn(sn.healing),maxDodges:fn(sn.dodges),maxStrips:fn(sn.strips),maxCleanses:fn(sn.cleanses),maxCC:fn(sn.cc),maxStab:fn(sn.stability),closestToTag:fn(sn.closestToTag)};let Ar={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Kc,Qs,Uo=0;if(l!=null&&l.showMvp){const T={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},P=Ee=>{const Se=T[Ee];return Se?Number(c[Se]||0)>0:!1},H=[],ge=Ee=>[...Ee||[]].filter(Se=>P(Se==null?void 0:Se.name)).sort((Se,Ge)=>Ge.ratio-Se.ratio||Se.rank-Ge.rank||Se.name.localeCompare(Ge.name)).slice(0,3),ne=Ee=>{var Ge;if(!Ee)return;const Se=ge(Ee.contribs);return{...Ee,player:Ee.name,reason:((Ge=Se[0])==null?void 0:Ge.name)||"Top Performance",topStats:Se}};Ke.forEach(({stat:Ee})=>{let Se=0;const Ge=[],rt=(Dt,It,Ht,Qt,wn=!0)=>{var ft,gt;if(Ht<=0)return;const Ve=((ft=It[0])==null?void 0:ft.value)||0;if(Ve&&Number.isFinite(Dt)&&(wn?Dt>0:Dt<Number.POSITIVE_INFINITY)){const Ft=wn?Dt/Ve:Ve/Dt;Se+=Ft*Ht;const Pe=((gt=It.find(Me=>Me.account===Ee.account))==null?void 0:gt.rank)||0;Ge.push({name:Qt,ratio:Ft,val:Dt.toLocaleString(),rank:Pe})}};rt(Ee.downContrib,sn.downContrib,c.downContribution,"Down Contribution"),rt(Ee.healing,sn.healing,c.healing,"Healing"),rt(Ee.cleanses,sn.cleanses,c.cleanses,"Cleanses"),rt(Ee.strips,sn.strips,c.strips,"Strips"),rt(Ee.stab,sn.stability,c.stability,"Stability"),rt(Ee.cc,sn.cc,c.cc,"CC"),rt(Ee.revives,sn.revives,c.revives,"Revives"),rt(yr(Ee,"closestToTag"),sn.closestToTag,c.distanceToTag,"Distance to Tag",!1),rt(Ee.logsJoined,sn.participation,c.participation,"Participation"),rt(Ee.dodges,sn.dodges,c.dodging,"Dodging"),rt(Ee.dps,sn.dps,c.dps,"DPS"),rt(Ee.damage,sn.damage,c.damage,"Damage"),H.push({...Ee,score:Se,contribs:Ge.filter(Dt=>P(Dt.name))})}),H.sort((Ee,Se)=>Se.score-Ee.score),H[0]&&H[0].score>0&&(Ar=ne(H[0])||Ar),Kc=ne(H[1]),Qs=ne(H[2]),Uo=H.length>0?H.reduce((Ee,Se)=>Ee+Se.score,0)/H.length:0}const br=Object.values(Q).sort((T,P)=>P.damage-T.damage||P.hits-T.hits||String(T.name||"").localeCompare(String(P.name||""))).slice(0,25),Za=Object.values(Q).sort((T,P)=>P.downContribution-T.downContribution||P.hits-T.hits||String(T.name||"").localeCompare(String(P.name||""))).slice(0,25),Vr=y==="downContribution"?Za:br,Ja=Object.values(ce).sort((T,P)=>P.damage-T.damage).slice(0,25),Hi=T=>{const P=String(T).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=P.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return H?`${H[1]} Borderlands`:P||"Unknown"},da=(T,P)=>Hi((T==null?void 0:T.zone)||(T==null?void 0:T.mapName)||(T==null?void 0:T.map)||(T==null?void 0:T.location)||(T==null?void 0:T.fightName)||(P==null?void 0:P.fightName)||(P==null?void 0:P.encounterName)||"Unknown"),Cs=(T,P)=>{const H=(P==null?void 0:P.permalink)||(T==null?void 0:T.permalink);if(typeof H=="string"&&H.trim().length>0)return H.trim();const ge=T==null?void 0:T.uploadLinks;if(!Array.isArray(ge))return"";for(const ne of ge){if(typeof ne=="string"&&ne.trim().length>0)return ne.trim();if(ne&&typeof ne=="object"){const Ee=ne.permalink||ne.link||ne.url||ne.reportLink;if(typeof Ee=="string"&&Ee.trim().length>0)return Ee.trim()}}return""},Gc=(T,P)=>{const H=Number((T==null?void 0:T.durationMS)||0);return H>0?Bh(H):(typeof(P==null?void 0:P.encounterDuration)=="string"?P.encounterDuration.trim():"")||"--:--"},fa=(T,P)=>{if((Array.isArray(T==null?void 0:T.players)?T.players:[]).length>0)return _(T);if(typeof(T==null?void 0:T.success)=="boolean")return T.success;const ge=P==null?void 0:P.dashboardSummary;if(ge&&typeof ge=="object"){if(ge.isWin===!0)return!0;if(ge.isWin===!1)return!1}return null},es=(T,P)=>{var Se,Ge;const H=Ii((Se=T.log)==null?void 0:Se.details,T.log),ge=Ii((Ge=P.log)==null?void 0:Ge.details,P.log),ne=H>0,Ee=ge>0;return ne&&Ee&&H!==ge?H-ge:ne!==Ee?ne?-1:1:T.originalIndex-P.originalIndex},ts=e.map((T,P)=>({log:T,originalIndex:P})).sort(es),Cd=ts.filter(({log:T})=>s(T)),Vo={};o.forEach(T=>{const P=da(T==null?void 0:T.details,T);Vo[P]=(Vo[P]||0)+1});const Yc=Object.entries(Vo).map(([T,P])=>{const H=String(T).trim(),ge=/eternal battlegrounds|^ebg$/i.test(H);let ne="#64748b";return ge?ne="#ffffff":/red/i.test(H)?ne="#ef4444":/blue/i.test(H)?ne="#3b82f6":/green/i.test(H)&&(ne="#22c55e"),{name:T,value:P,color:ne}}).sort((T,P)=>P.value-T.value),{boonTables:jd}=wU(o),Ad=ts.map(({log:T})=>{const P=T==null?void 0:T.details,H=Array.isArray(P==null?void 0:P.players)?P.players:[],ge=Array.isArray(P==null?void 0:P.targets)?P.targets:[],ne=T!=null&&T.dashboardSummary&&typeof T.dashboardSummary=="object"?T.dashboardSummary:null,Ee=H.filter(Qt=>!Qt.notInSquad),Se=ge.filter(Qt=>!Qt.isFake),Ge=Math.max(0,Number((ne==null?void 0:ne.squadCount)||0)),rt=Math.max(0,Number((ne==null?void 0:ne.enemyCount)||0)),Dt=Ee.length>0?Ee.length:Ge,It=Se.length>0?Se.length:rt,Ht=H.length>0?H.length:Dt;return{timestamp:Ii(P,T),squadCount:Dt,friendlyCount:Ht,enemies:It,isWin:fa(P,T)}}).map((T,P)=>({...T,index:P+1,label:`Log ${P+1}`})),js={};Array.from(O.values()).forEach(T=>{T.profession&&T.profession!=="Unknown"&&(js[T.profession]=(js[T.profession]||0)+1)});const Xc=Object.entries(js).map(([T,P])=>({name:T,value:P,color:vc(T)})).sort((T,P)=>P.value-T.value),As={};Object.keys(ue).length===0&&o.forEach(T=>{var P,H;(H=(P=T.details)==null?void 0:P.targets)==null||H.forEach(ge=>{if(ge.isFake)return;const ne=ge.profession&&ge.profession!=="Unknown"?ge.profession:ge.name||ge.id||"Unknown",Ee=U(ne);As[Ee]=(As[Ee]||0)+1})});const Qc=Object.keys(ue).length>0?ue:As,K=Object.entries(Qc).map(([T,P])=>({name:T,value:P,color:vc(T)})).sort((T,P)=>P.value-T.value),we=ts.map(({log:T},P)=>{const H=T==null?void 0:T.details,ge=Array.isArray(H==null?void 0:H.players)?H.players:[],ne=ge.filter(ye=>!ye.notInSquad),Ee=ge.filter(ye=>ye.notInSquad),Ge=(Array.isArray(H==null?void 0:H.targets)?H.targets:[]).filter(ye=>!ye.isFake),rt=T!=null&&T.dashboardSummary&&typeof T.dashboardSummary=="object"?T.dashboardSummary:null,Dt=ne.reduce((ye,at)=>{var mt,fe;return ye+(((fe=(mt=at.dpsAll)==null?void 0:mt[0])==null?void 0:fe.damage)||0)},0),It=ne.reduce((ye,at)=>{var mt,fe;return ye+(((fe=(mt=at.defenses)==null?void 0:mt[0])==null?void 0:fe.damageTaken)||0)},0),{enemyDeaths:Ht,enemyDownsDeaths:Qt}=D(H),wn=fa(H,T),Ve=Ii(H,T),ft=da(H,T),gt=ye=>{if(!ye||typeof ye!="object")return;const at=ye.teamID??ye.teamId??ye.team??ye.teamColor??ye.team_color;if(at!=null)return at;const mt=Object.keys(ye).find(fe=>/^team/i.test(fe));return mt?ye[mt]:void 0},Ft=(ye,at)=>{const mt={};return ye.forEach(fe=>{const qe=at(fe),ot=U(qe);ot&&(mt[ot]=(mt[ot]||0)+1)}),mt},Pe=Ft(ne,ye=>(ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)),Me=Ft(Ee,ye=>(ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)),_e=Ft(Ge,ye=>(ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)||(ye==null?void 0:ye.id)),Ye=new Set;ne.forEach(ye=>{const at=gt(ye);at!=null&&Ye.add(String(at))});const We=new Map;Ge.forEach(ye=>{if((ye==null?void 0:ye.enemyPlayer)===!1)return;const at=gt(ye);if(at==null)return;const mt=String(at);Ye.has(mt)||We.set(mt,(We.get(mt)||0)+1)});const Xe=Array.from(We.entries()).sort((ye,at)=>{const mt=at[1]-ye[1];return mt!==0?mt:ye[0].localeCompare(at[0],void 0,{numeric:!0})}).slice(0,3).map(([ye,at])=>({teamId:ye,count:at}));return{id:T.filePath||`fight-${P}`,label:T.encounterName||`Fight ${P+1}`,permalink:Cs(H,T),timestamp:Ve,mapName:ft,duration:Gc(H,T),isWin:wn,squadCount:ne.length>0?ne.length:Math.max(0,Number((rt==null?void 0:rt.squadCount)||0)),allyCount:Ee.length,enemyCount:Ge.length>0?Ge.length:Math.max(0,Number((rt==null?void 0:rt.enemyCount)||0)),teamBreakdown:Xe,alliesDown:ne.reduce((ye,at)=>{var mt,fe;return ye+(((fe=(mt=at.defenses)==null?void 0:mt[0])==null?void 0:fe.downCount)||0)},0),alliesDead:ne.length>0?ne.reduce((ye,at)=>{var mt,fe;return ye+(((fe=(mt=at.defenses)==null?void 0:mt[0])==null?void 0:fe.deadCount)||0)},0):Math.max(0,Number((rt==null?void 0:rt.squadDeaths)||0)),alliesRevived:ne.reduce((ye,at)=>{var mt,fe;return Number(((fe=(mt=at.statsAll)==null?void 0:mt[0])==null?void 0:fe.saved)||0)>0?ye+1:ye},0),rallies:0,enemyDeaths:Ge.length>0||ne.length>0?Ht:Math.max(0,Number((rt==null?void 0:rt.enemyDeaths)||0)),enemyDowns:Math.max(0,Qt-Ht),totalOutgoingDamage:Dt,totalIncomingDamage:It,incomingBarrierAbsorbed:ne.reduce((ye,at)=>{var mt,fe;return ye+(((fe=(mt=at.defenses)==null?void 0:mt[0])==null?void 0:fe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:ne.reduce((ye,at)=>{var qe;const mt=(qe=at.extBarrierStats)==null?void 0:qe.outgoingBarrier;if(!Array.isArray(mt))return ye;let fe=0;return mt.forEach(ot=>{if(Array.isArray(ot)){ot.forEach(Rt=>{fe+=Number((Rt==null?void 0:Rt.barrier)||0)});return}fe+=Number((ot==null?void 0:ot.barrier)||0)}),ye+fe},0),squadClassCountsFight:Pe,allyClassCountsFight:Me,enemyClassCounts:_e}}),Le=Cd.map(({log:T},P)=>{const H=T.details;if(!H)return null;const ne=(Array.isArray(H.players)?H.players:[]).filter(be=>!be.notInSquad),Ee=Array.isArray(H.targets)?H.targets:[],Se=Ii(H,T),Ge=da(H,T),rt=Number(H.durationMS||0),{squadDownsDeaths:Dt,enemyDownsDeaths:It,squadDeaths:Ht,enemyDeaths:Qt}=D(H),wn=new Map,Ve=(be,ze,tt)=>{const ht=wn.get(be)||{label:be,damage:0,hits:0};ht.damage+=ze,ht.hits+=tt,wn.set(be,ht)};if(ne.forEach(be=>{(Array.isArray(be==null?void 0:be.statsTargets)?be.statsTargets:[]).forEach((tt,ht)=>{const Qe=Array.isArray(tt)?tt[0]:tt,He=Number((Qe==null?void 0:Qe.damage)??(Qe==null?void 0:Qe.totalDmg)??(Qe==null?void 0:Qe.connectedDmg)??0),it=Number((Qe==null?void 0:Qe.connectedHits)??(Qe==null?void 0:Qe.connectedDamageCount)??(Qe==null?void 0:Qe.hits)??0);if(He<=0&&it<=0)return;const lt=Ee[ht];if(lt!=null&&lt.isFake)return;const vt=(lt==null?void 0:lt.profession)||(lt==null?void 0:lt.name)||(lt==null?void 0:lt.id)||`Target ${ht+1}`,mn=U(vt);Ve(mn||String(vt),He,it)})}),wn.size===0){const be=new Map,ze=tt=>{if(!Array.isArray(tt)||tt.length===0)return[];const ht=tt[0];if(Array.isArray(ht)&&Array.isArray(ht[0])){if(typeof ht[0][0]=="number")return ht;if(Array.isArray(ht[0])&&typeof ht[0][0]=="number")return tt.map(Qe=>Array.isArray(Qe)?Qe[0]||[]:[])}return[]};ne.forEach(tt=>{ze(tt==null?void 0:tt.targetDamage1S).forEach((Qe,He)=>{if(!Array.isArray(Qe)||Qe.length===0)return;const it=Qe.map(vt=>Number(vt)).filter(vt=>Number.isFinite(vt)&&vt>=0);if(it.length===0)return;const lt=Math.max(0,it[it.length-1]||0);lt<=0||be.set(He,(be.get(He)||0)+lt)})}),be.forEach((tt,ht)=>{if(tt<=0)return;const Qe=Ee[ht];if(Qe!=null&&Qe.isFake)return;const He=(Qe==null?void 0:Qe.profession)||(Qe==null?void 0:Qe.name)||(Qe==null?void 0:Qe.id)||`Target ${ht+1}`,it=U(He);Ve(it||String(He),tt,0)})}if(wn.size===0&&Ee.forEach((be,ze)=>{if(be!=null&&be.isFake)return;const tt=Array.isArray(be==null?void 0:be.totalDamageTaken)?be.totalDamageTaken:Array.isArray(be==null?void 0:be.totalDamageDist)?be.totalDamageDist:[];let ht=0,Qe=0;if(tt.forEach(lt=>{ht+=Number((lt==null?void 0:lt.totalDamage)||(lt==null?void 0:lt.damage)||0),Qe+=Number((lt==null?void 0:lt.connectedHits)||(lt==null?void 0:lt.hits)||0)}),ht<=0&&Number((be==null?void 0:be.damageTaken)||0)>0&&(ht=Number(be.damageTaken||0)),ht<=0&&Qe<=0)return;const He=(be==null?void 0:be.profession)||(be==null?void 0:be.name)||(be==null?void 0:be.id)||`Target ${ze+1}`,it=U(He);Ve(it||String(He),ht,Qe)}),wn.size===0){const be=new Map;Ee.forEach((ze,tt)=>{if(ze!=null&&ze.isFake)return;const ht=(ze==null?void 0:ze.profession)||(ze==null?void 0:ze.name)||(ze==null?void 0:ze.id)||`Target ${tt+1}`,Qe=U(ht)||String(ht);be.set(Qe,(be.get(Qe)||0)+1)}),be.forEach((ze,tt)=>{ze>0&&Ve(tt,ze,0)})}const ft=Array.from(wn.values()).sort((be,ze)=>ze.damage-be.damage||ze.hits-be.hits||be.label.localeCompare(ze.label)),gt=ft.reduce((be,ze)=>be+ze.damage,0),Ft=ft.map(be=>({label:be.label,damage:be.damage,hits:be.hits,share:gt>0?be.damage/gt:0})),Pe=Ee.filter(be=>!(be!=null&&be.isFake)).length,Me=ne.length,_e=ne.reduce((be,ze)=>{var tt,ht;return be+Number(((ht=(tt=ze==null?void 0:ze.dpsAll)==null?void 0:tt[0])==null?void 0:ht.damage)||0)},0),Ye=ne.reduce((be,ze)=>{var tt,ht;return be+Number(((ht=(tt=ze==null?void 0:ze.defenses)==null?void 0:tt[0])==null?void 0:ht.damageTaken)||0)},0),We=ne.reduce((be,ze)=>{var tt,ht;return be+Number(((ht=(tt=ze==null?void 0:ze.defenses)==null?void 0:tt[0])==null?void 0:ht.damageBarrier)||0)},0),Xe=ne.reduce((be,ze)=>{var Qe;const tt=(Qe=ze==null?void 0:ze.extBarrierStats)==null?void 0:Qe.outgoingBarrier;if(!Array.isArray(tt))return be;let ht=0;return tt.forEach(He=>{Array.isArray(He)?He.forEach(it=>{ht+=Number((it==null?void 0:it.barrier)||0)}):ht+=Number((He==null?void 0:He.barrier)||0)}),be+ht},0),ye=ne.reduce((be,ze)=>{var tt,ht;return Number(((ht=(tt=ze==null?void 0:ze.statsAll)==null?void 0:tt[0])==null?void 0:ht.saved)||0)>0?be+1:be},0),at=ne.reduce((be,ze)=>be+Number(S2(ze)||0),0),mt=ne.reduce((be,ze)=>be+Number(N2(ze)||0),0),fe=ne.reduce((be,ze)=>be+Number((ze==null?void 0:ze.stabGeneration)||0),0),qe=ne.reduce((be,ze)=>be+Number(j2(ze)||0),0),ot=ne.reduce((be,ze)=>be+Number(A2(ze)||0),0),Rt=ne.reduce((be,ze)=>be+Number(P2(ze)||0),0),Ae=ne.reduce((be,ze)=>be+Number(C2(ze)||0),0),de=Ht>0?Qt/Ht:Qt,Bt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:_(H)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Me},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Pe},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:de},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:Qt},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,It-Qt)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Ht},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,Dt-Ht)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:_e-Ye},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:_e},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ye},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:at},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:mt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:fe},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:qe},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:ot},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:We},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Xe},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:Rt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:Ae},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ye}];return{id:T.filePath||T.id||`fight-${P+1}`,shortLabel:`F${P+1}`,fullLabel:`${Ge||T.encounterName||"Unknown Map"}  ${Bh(rt)}`,mapName:Ge,timestamp:Se,duration:Bh(rt),isWin:_(H),targetFocus:Ft,squadMetrics:Bt}}).filter(Boolean),pt=Array.from(O.values()).map(T=>{const P=Object.entries(T.professionTimeMs||{}).map(([H,ge])=>({profession:H,timeMs:Number(ge||0)})).filter(H=>H.profession&&H.profession!=="Unknown"&&H.timeMs>0).sort((H,ge)=>{const ne=ge.timeMs-H.timeMs;return ne!==0?ne:H.profession.localeCompare(ge.profession)});return{account:T.account||"Unknown",characterNames:Array.from(T.characterNames||[]).filter(Boolean).sort((H,ge)=>H.localeCompare(ge)),classTimes:P,combatTimeMs:Number(T.squadActiveMs||T.totalFightMs||0),squadTimeMs:(()=>{const H=Number(T.firstSeenFightTs||0),ge=Number(T.lastSeenFightTs||0),ne=Math.max(0,Number(T.lastSeenFightDurationMs||0));return H>0&&ge>0?Math.max(0,ge+ne-H):Number(T.squadActiveMs||T.totalFightMs||0)})()}}).filter(T=>T.account&&T.account!=="Unknown").sort((T,P)=>{const H=P.squadTimeMs-T.squadTimeMs;return H!==0?H:String(T.account).localeCompare(String(P.account))}),Tt=o.map(T=>T).sort((T,P)=>Ii(T.details,T)-Ii(P.details,P)).map((T,P)=>{const H=T==null?void 0:T.details,ge=Array.isArray(H==null?void 0:H.players)?H.players.filter(Se=>!(Se!=null&&Se.notInSquad)):[],ne=new Map;ge.forEach(Se=>{const Ge=Number(Se==null?void 0:Se.group),rt=Number.isFinite(Ge)&&Ge>0?Ge:0;ne.has(rt)||ne.set(rt,{party:rt,players:[],classCounts:{}});const Dt=U((Se==null?void 0:Se.profession)||(Se==null?void 0:Se.name)||"Unknown"),It=String((Se==null?void 0:Se.account)||"Unknown"),Ht=String((Se==null?void 0:Se.name)||(Se==null?void 0:Se.character_name)||""),Qt=!!(Se!=null&&Se.hasCommanderTag),wn=ne.get(rt);wn.players.push({account:It,characterName:Ht,profession:Dt,isCommander:Qt}),wn.classCounts[Dt]=(wn.classCounts[Dt]||0)+1});const Ee=Array.from(ne.values()).map(Se=>({...Se,players:Se.players.sort((Ge,rt)=>{const Dt=+!!rt.isCommander-+!!Ge.isCommander;if(Dt!==0)return Dt;const It=String(Ge.profession).localeCompare(String(rt.profession));return It!==0?It:String(Ge.account).localeCompare(String(rt.account))})})).sort((Se,Ge)=>Se.party===0&&Ge.party!==0?1:Ge.party===0&&Se.party!==0?-1:Se.party-Ge.party);return{id:String((T==null?void 0:T.filePath)||(T==null?void 0:T.id)||`fight-${P+1}`),label:`F${P+1}`,timestamp:Ii(H,T),mapName:da(H,T),duration:Bh(Number((H==null?void 0:H.durationMS)||0)),parties:Ee}}),zt=(T,P)=>{const H=(P==null?void 0:P.skillMap)||{},ge=(P==null?void 0:P.buffMap)||{};let ne=0,Ee=0,Se="";const Ge=It=>{const Ht=Number(It);if(!Number.isFinite(Ht))return String(It||"Unknown Skill");const Qt=(H==null?void 0:H[`s${Ht}`])||(H==null?void 0:H[`${Ht}`]);if(Qt!=null&&Qt.name)return String(Qt.name);const wn=(ge==null?void 0:ge[`b${Ht}`])||(ge==null?void 0:ge[`${Ht}`]);return wn!=null&&wn.name?String(wn.name):`Skill ${Ht}`},rt=It=>{if(!It||typeof It!="object")return;const Ht=[Number(It.max),Number(It.maxDamage),Number(It.maxHit)].filter(Ve=>Number.isFinite(Ve)),Qt=Ht.length>0?Math.max(...Ht):0;Qt>ne&&(ne=Qt,Se=Ge(It.id));const wn=Number(It.downContribution||0);wn>Ee&&(Ee=wn)};let Dt=!1;return Array.isArray(T==null?void 0:T.targetDamageDist)&&T.targetDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Ht=>{Array.isArray(Ht)&&Ht.forEach(Qt=>{Dt=!0,rt(Qt)})})}),(!Dt||ne<=0)&&Array.isArray(T==null?void 0:T.totalDamageDist)&&T.totalDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Ht=>rt(Ht))}),{peak:ne,peakDownContribution:Ee,skillName:Se||"Unknown Skill"}},on=(()=>{const T=Ve=>String(Ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),P=Ve=>T(Ve).toLowerCase().split(/[^a-z0-9]+/i).map(ft=>ft.trim()).filter(Boolean).map(ft=>ft.length>3&&ft.endsWith("s")?ft.slice(0,-1):ft),H=(Ve,ft)=>{const gt=T(Ve),Ft=T(ft);if(!Ft)return gt;if(!gt)return Ft;const Pe=P(gt),Me=P(Ft),_e=new Set(Pe),Ye=new Set(Me),We=Me.length>0&&Me.every(ye=>_e.has(ye)),Xe=Pe.length>0&&Pe.every(ye=>Ye.has(ye));return We||Xe?gt:`${gt} - ${Ft}`},ge=[],ne=new Map,Ee=Ve=>{const ft=We=>{if(!Array.isArray(We)||We.length===0)return[];const Xe=[];for(let ye=0;ye<We.length;ye+=1){const at=Number(We[ye]||0),mt=ye>0?Number(We[ye-1]||0):0;Xe.push(Math.max(0,at-mt))}return Xe},gt=We=>{if(!Array.isArray(We))return[];const Xe=We.reduce((at,mt)=>Math.max(at,Array.isArray(mt)?mt.length:0),0);if(Xe<=0)return[];const ye=new Array(Xe).fill(0);return We.forEach(at=>{if(Array.isArray(at))for(let mt=0;mt<Xe;mt+=1)ye[mt]+=Number(at[mt]||0)}),ye},Ft=We=>Array.isArray(We)?We.map(Xe=>Number(Xe||0)):null,Me=(We=>{if(!Array.isArray(We)||We.length===0)return null;const Xe=We[0];if(!Array.isArray(Xe))return null;if(Array.isArray(Xe[0])&&Array.isArray(Xe[0][0]))return gt(Xe);if(Array.isArray(Xe[0])&&!Array.isArray(Xe[0][0])){const ye=We.map(at=>Ft(Array.isArray(at)?at[0]:null)).filter(at=>Array.isArray(at)&&at.length>0);if(ye.length>0)return gt(ye)}return null})(Ve==null?void 0:Ve.targetDamage1S),_e=Array.isArray(Ve==null?void 0:Ve.damage1S)&&Array.isArray(Ve.damage1S[0])?Ve.damage1S[0]:null,Ye=Me||(Array.isArray(_e)?_e.map(We=>Number(We||0)):[]);return ft(Ye)},Se=(Ve,ft)=>{if(!Array.isArray(Ve)||Ve.length===0||ft<=0)return 0;let gt=0,Ft=0;for(let Pe=0;Pe<Ve.length;Pe+=1)gt+=Number(Ve[Pe]||0),Pe>=ft&&(gt-=Number(Ve[Pe-ft]||0)),Pe>=ft-1&&gt>Ft&&(Ft=gt);return Math.max(0,Ft)},Ge=(Ve,ft)=>{if(!Array.isArray(Ve)||Ve.length===0||ft<=0)return[];const gt=[];for(let Ft=0;Ft<Ve.length;Ft+=ft){const Pe=Math.min(Ft+ft,Ve.length),Me=Ve.slice(Ft,Pe).reduce((_e,Ye)=>_e+Number(Ye||0),0);gt.push(Me)}return gt},rt=(Ve,ft)=>{let gt=0,Ft=0;const Pe=new Map,Me=Ye=>{if(!Ye||typeof Ye!="object"||Ye.indirectDamage)return;const We=Number(Ye.totalDamage||0),Xe=Number(Ye.downContribution||0);!Number.isFinite(We)&&!Number.isFinite(Xe)||(gt+=Number.isFinite(We)?We:0,Ft+=Number.isFinite(Xe)?Xe:0)};return Array.isArray(Ve==null?void 0:Ve.targetDamageDist)&&Ve.targetDamageDist.forEach(Ye=>{Array.isArray(Ye)&&Ye.forEach(We=>{Array.isArray(We)&&We.forEach(Xe=>{const ye=Number(Xe==null?void 0:Xe.id);if(Number.isFinite(ye)){const at=Pe.get(ye)||{damage:0,downContribution:0};at.damage+=Number((Xe==null?void 0:Xe.totalDamage)||0),at.downContribution+=Number((Xe==null?void 0:Xe.downContribution)||0),Pe.set(ye,at)}Me(Xe)})})}),!(ft!=null&&ft.detailedWvW)&&Array.isArray(Ve==null?void 0:Ve.totalDamageDist)&&Ve.totalDamageDist.forEach(Ye=>{Array.isArray(Ye)&&Ye.forEach(We=>{const Xe=Number(We==null?void 0:We.id);if(!Number.isFinite(Xe)){Me(We);return}const ye=Pe.get(Xe);if(!ye){Me(We);return}const at=Number((We==null?void 0:We.totalDamage)||0)-Number(ye.damage||0),mt=Number((We==null?void 0:We.downContribution)||0)-Number(ye.downContribution||0);at<=0&&mt<=0||Me({...We,totalDamage:Math.max(0,at),downContribution:Math.max(0,mt)})})}),{damageTotal:Math.max(0,gt),downContributionTotal:Math.max(0,Ft)}},Dt=(Ve,ft)=>{const gt=Number(Ve);if(!Number.isFinite(gt))return{name:String(Ve||"Unknown Skill"),icon:void 0};const Ft=(ft==null?void 0:ft.skillMap)||{},Pe=(ft==null?void 0:ft.buffMap)||{},Me=(Ft==null?void 0:Ft[`s${gt}`])||(Ft==null?void 0:Ft[`${gt}`]);if(Me!=null&&Me.name)return{name:String(Me.name),icon:Me==null?void 0:Me.icon};const _e=(Pe==null?void 0:Pe[`b${gt}`])||(Pe==null?void 0:Pe[`${gt}`]);return _e!=null&&_e.name?{name:String(_e.name),icon:_e==null?void 0:_e.icon}:{name:`Skill ${gt}`,icon:void 0}},It=Ve=>Array.isArray(Ve)?Ve.map(ft=>Array.isArray(ft)?[Number(ft[0]),Number(ft[1])]:ft&&typeof ft=="object"?[Number(ft.time),Number(ft.value)]:null).filter(ft=>!!ft&&Number.isFinite(ft[0])&&ft[0]>=0):[],Ht=(Ve,ft,gt,Ft,Pe)=>{if(!Ve.length||Ft<=0)return[];const Me=Math.max(Ft*5e3,Pe||0),_e=qe=>qe.reduce((ot,Rt)=>Rt>=0&&Rt<=Me+2e3?ot+1:ot,0),Ye=Ve.map(qe=>Number(qe||0)).filter(qe=>Number.isFinite(qe)&&qe>=0);if(!Ye.length)return[];const We=[Ye],Xe=Ye.reduce((qe,ot)=>Math.max(qe,ot),0),ye=Ye.reduce((qe,ot)=>Math.min(qe,ot),Number.POSITIVE_INFINITY);Xe>Me*20&&We.push(Ye.map(qe=>qe/1e3)),Xe<=Me*2&&ye>=0&&Xe>0&&Xe<Math.max(120,Ft*5+10)&&We.push(Ye.map(qe=>qe*1e3));let at=Ye,mt=0,fe=-1;return We.forEach(qe=>{const ot=qe.reduce((Ae,de)=>Math.min(Ae,de),Number.POSITIVE_INFINITY),Rt=new Set([0,...ft,...gt]);if(Number.isFinite(ot)&&Me>0&&ot>Me){const Ae=Math.floor(ot/Me)*Me;Rt.add(Ae),Rt.add(Math.max(0,Ae-Me))}Rt.forEach(Ae=>{const de=qe.map(be=>be-Ae),Bt=_e(de);Bt>fe&&(fe=Bt,mt=Ae,at=qe)})}),at.map(qe=>qe-mt).filter(qe=>Number.isFinite(qe)&&qe>=0)},Qt=(Ve,ft,gt,Ft,Pe)=>{const Me=Ht(Ve,ft,gt,Ft,Pe);return Array.from(new Set(Me.map(_e=>Math.floor(_e/5e3)).filter(_e=>Number.isFinite(_e)&&_e>=0&&_e<Ft)))};o.map(Ve=>({log:Ve,ts:Ii(Ve==null?void 0:Ve.details,Ve)})).sort((Ve,ft)=>Ve.ts-ft.ts).forEach(({log:Ve},ft)=>{const gt=Ve==null?void 0:Ve.details;if(!gt)return;const Ft=T(gt.fightName||Ve.fightName||`Fight ${ft+1}`),Pe=da(gt,Ve),Me=H(Ft,String(Pe||"")),_e={},Ye=Array.isArray(gt.players)?gt.players:[],We=Ye.flatMap(Ae=>{const de=Ae==null?void 0:Ae.combatReplayData;return Array.isArray(de)?de.map(Bt=>Number(Bt==null?void 0:Bt.start)):[Number(de==null?void 0:de.start)]}).filter(Ae=>Number.isFinite(Ae)&&Ae>=0);Ye.forEach(Ae=>{if(Ae!=null&&Ae.notInSquad)return;const de=String((Ae==null?void 0:Ae.account)||(Ae==null?void 0:Ae.name)||"Unknown"),Bt=String((Ae==null?void 0:Ae.character_name)||(Ae==null?void 0:Ae.display_name)||(Ae==null?void 0:Ae.name)||""),be=String((Ae==null?void 0:Ae.profession)||"Unknown"),ze=`${de}|${be}`,tt=zt(Ae,gt),ht=Number(tt.peak||0),Qe=Number(tt.peakDownContribution||0),He=Ee(Ae),{damageTotal:it,downContributionTotal:lt}=rt(Ae,gt),vt=it>0?Math.min(1,Math.max(0,lt/it)):0,mn=He.map(Ce=>Number(Ce||0)*vt),un=Number(Se(He,1)||0),Un=Number(Se(He,5)||0),Ut=Number(Se(He,30)||0),Pr=Number(Se(mn,1)||0),hn=Number(Se(mn,5)||0),Dr=Number(Se(mn,30)||0),Cn=Math.max(0,Math.ceil(Number((gt==null?void 0:gt.durationMS)||0)/5e3)),or=Math.max(0,Math.ceil(He.length/5)),qi=Math.max(0,Math.ceil(mn.length/5)),gi=Math.max(Cn,or,qi),vn=Ge(He,5),Ul=Ge(mn,5),wr=Array.from({length:gi},(Ce,De)=>Number(vn[De]||0)),Wo=Array.from({length:gi},(Ce,De)=>Number(Ul[De]||0)),Ki=new Map,Zs=Ce=>{if(!Ce||typeof Ce!="object"||Ce.indirectDamage)return;const De=Number(Ce.totalDamage||0),st=Number(Ce.downContribution||0);if((!Number.isFinite(De)||De<=0)&&(!Number.isFinite(st)||st<=0))return;const Zt=Number(Ce.connectedHits||Ce.hits||0),pn=Dt(Ce.id,gt),kn=pn.name,Ln=Ki.get(kn)||{skillName:kn,damage:0,downContribution:0,hits:0,icon:pn.icon};Ln.damage+=Number.isFinite(De)?De:0,Ln.downContribution+=Number.isFinite(st)?st:0,Ln.hits+=Number.isFinite(Zt)?Zt:0,!Ln.icon&&pn.icon&&(Ln.icon=pn.icon),Ki.set(kn,Ln)},Ho=new Map;Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(Ce=>{Array.isArray(Ce)&&Ce.forEach(De=>{Array.isArray(De)&&De.forEach(st=>{const Zt=Number(st==null?void 0:st.id),pn=Number((st==null?void 0:st.totalDamage)||0),kn=Number((st==null?void 0:st.downContribution)||0);if(Number.isFinite(Zt)){const Ln=Ho.get(Zt)||{damage:0,downContribution:0,hits:0};Ln.damage+=Number.isFinite(pn)?pn:0,Ln.downContribution+=Number.isFinite(kn)?kn:0,Ln.hits+=Number((st==null?void 0:st.connectedHits)||(st==null?void 0:st.hits)||0),Ho.set(Zt,Ln)}Zs(st)})})}),!(gt!=null&&gt.detailedWvW)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(Ce=>{Array.isArray(Ce)&&Ce.forEach(De=>{const st=Number(De==null?void 0:De.id);if(!Number.isFinite(st)){Zs(De);return}const Zt=Ho.get(st);if(!Zt){Zs(De);return}const pn=Number((De==null?void 0:De.totalDamage)||0),kn=Number((De==null?void 0:De.downContribution)||0),Ln=Number((De==null?void 0:De.connectedHits)||(De==null?void 0:De.hits)||0),Gi=pn-Number(Zt.damage||0),Zr=kn-Number(Zt.downContribution||0),Tr=Ln-Number(Zt.hits||0);Gi<=0&&Zr<=0&&Tr<=0||Zs({...De,totalDamage:Math.max(0,Gi),downContribution:Math.max(0,Zr),connectedHits:Math.max(0,Tr),hits:Math.max(0,Tr)})})});const qo=(()=>{const Ce=Ae==null?void 0:Ae.combatReplayData;return Array.isArray(Ce)?Ce.filter(De=>De&&typeof De=="object"):Ce&&typeof Ce=="object"?[Ce]:[]})(),Vl=qo.map(Ce=>Number(Ce==null?void 0:Ce.start)).filter(Ce=>Number.isFinite(Ce)&&Ce>=0),Zc=qo.flatMap(Ce=>It(Ce==null?void 0:Ce.down).map(([De])=>Number(De||0))),Ue=qo.flatMap(Ce=>It(Ce==null?void 0:Ce.dead).map(([De])=>Number(De||0)));_e[ze]={hit:ht,burst1s:un,burst5s:Un,burst30s:Ut,hitDown:Qe,burst1sDown:Pr,burst5sDown:hn,burst30sDown:Dr,skillName:tt.skillName,buckets5s:wr,buckets5sDown:Wo,downIndices5s:Qt(Zc,Vl,We,gi,Number((gt==null?void 0:gt.durationMS)||0)),deathIndices5s:Qt(Ue,Vl,We,gi,Number((gt==null?void 0:gt.durationMS)||0)),skillRows:Array.from(Ki.values()).sort((Ce,De)=>De.damage-Ce.damage).slice(0,50)};const Fe=ne.get(ze)||{key:ze,account:de,displayName:de,characterName:Bt,profession:be,professionList:[be],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Fe.logs+=1,Fe.professionList.includes(be)||Fe.professionList.push(be),!Fe.characterName&&Bt&&(Fe.characterName=Bt),ht>Fe.peakHit&&(Fe.peakHit=ht,Fe.peakFightLabel=Me,Fe.peakSkillName=tt.skillName),un>Fe.peak1s&&(Fe.peak1s=un),Un>Fe.peak5s&&(Fe.peak5s=Un),Ut>Fe.peak30s&&(Fe.peak30s=Ut),Qe>Fe.peakHitDown&&(Fe.peakHitDown=Qe),Pr>Fe.peak1sDown&&(Fe.peak1sDown=Pr),hn>Fe.peak5sDown&&(Fe.peak5sDown=hn),Dr>Fe.peak30sDown&&(Fe.peak30sDown=Dr),ne.set(ze,Fe)});const Xe=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.hit)||0)),0),ye=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.burst1s)||0)),0),at=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.burst5s)||0)),0),mt=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.burst30s)||0)),0),fe=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.hitDown)||0)),0),qe=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.burst1sDown)||0)),0),ot=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.burst5sDown)||0)),0),Rt=Object.values(_e).reduce((Ae,de)=>Math.max(Ae,Number((de==null?void 0:de.burst30sDown)||0)),0);ge.push({id:Ve.filePath||Ve.id||`fight-${ft+1}`,shortLabel:`F${ft+1}`,fullLabel:Me,timestamp:Ii(gt,Ve),values:_e,maxHit:Xe,max1s:ye,max5s:at,max30s:mt,maxHitDown:fe,max1sDown:qe,max5sDown:ot,max30sDown:Rt})});const wn=Array.from(ne.values()).sort((Ve,ft)=>ft.peakHit!==Ve.peakHit?ft.peakHit-Ve.peakHit:Ve.displayName.localeCompare(ft.displayName));return{fights:ge,players:wn}})(),St=(()=>{const T=Pe=>String(Pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),P=Pe=>T(Pe).toLowerCase().split(/[^a-z0-9]+/i).map(Me=>Me.trim()).filter(Boolean).map(Me=>Me.length>3&&Me.endsWith("s")?Me.slice(0,-1):Me),H=(Pe,Me)=>{const _e=T(Pe),Ye=T(Me);if(!Ye)return _e;if(!_e)return Ye;const We=P(_e),Xe=P(Ye),ye=new Set(We),at=new Set(Xe),mt=Xe.length>0&&Xe.every(qe=>ye.has(qe)),fe=We.length>0&&We.every(qe=>at.has(qe));return mt||fe?_e:`${_e} - ${Ye}`},ge=[],ne=new Map,Ee=(Pe,Me)=>{const _e=Number(Pe);if(!Number.isFinite(_e))return{name:String(Pe||"Unknown Skill"),icon:void 0};const Ye=(Me==null?void 0:Me.skillMap)||{},We=(Me==null?void 0:Me.buffMap)||{},Xe=(Ye==null?void 0:Ye[`s${_e}`])||(Ye==null?void 0:Ye[`${_e}`]);if(Xe!=null&&Xe.name)return{name:String(Xe.name),icon:Xe==null?void 0:Xe.icon};const ye=(We==null?void 0:We[`b${_e}`])||(We==null?void 0:We[`${_e}`]);return ye!=null&&ye.name?{name:String(ye.name),icon:ye==null?void 0:ye.icon}:{name:`Skill ${_e}`,icon:void 0}},Se=(Pe,Me)=>{let _e=0,Ye="";const We=Xe=>{if(!Xe||typeof Xe!="object"||Xe.indirectDamage)return;const ye=[Number(Xe.max),Number(Xe.maxDamage),Number(Xe.maxHit)].filter(mt=>Number.isFinite(mt)),at=ye.length>0?Math.max(...ye):0;at>_e&&(_e=at,Ye=Ee(Xe.id,Me).name)};return Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(ye=>We(ye))}),Array.isArray(Pe==null?void 0:Pe.targetDamageDist)&&Pe.targetDamageDist.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(ye=>{Array.isArray(ye)&&ye.forEach(at=>We(at))})}),{peak:_e,skillName:Ye||"Unknown Skill"}},Ge=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const Me=[];for(let _e=0;_e<Pe.length;_e+=1){const Ye=Number(Pe[_e]||0),We=_e>0?Number(Pe[_e-1]||0):0;Me.push(Math.max(0,Ye-We))}return Me},rt=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const Me=Pe.reduce((Ye,We)=>Math.max(Ye,Array.isArray(We)?We.length:0),0);if(Me<=0)return[];const _e=new Array(Me).fill(0);return Pe.forEach(Ye=>{if(Array.isArray(Ye))for(let We=0;We<Me;We+=1)_e[We]+=Number(Ye[We]||0)}),_e},Dt=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const Me=Pe[0];if(typeof Me=="number")return Pe.map(_e=>Number(_e||0));if(Array.isArray(Me)&&Me.length>0){if(typeof Me[0]=="number")return Me.map(_e=>Number(_e||0));if(Array.isArray(Me[0])){const _e=Me.map(Ye=>Array.isArray(Ye)?Ye.map(We=>Number(We||0)):null).filter(Ye=>Array.isArray(Ye)&&Ye.length>0);if(_e.length>0)return rt(_e)}}return[]},It=Pe=>{const Me=Dt(Pe==null?void 0:Pe.powerDamage1S),_e=Dt(Pe==null?void 0:Pe.damage1S),Ye=Me.length>0?Me:_e;return Ge(Ye)},Ht=(Pe,Me)=>{const _e=Pe==null?void 0:Pe.targetPowerDamage1S;if(!Array.isArray(_e)||!Array.isArray(_e[Me]))return[];const Ye=_e[Me];if(!Array.isArray(Ye)||Ye.length===0)return[];if(typeof Ye[0]=="number")return Ye.map(We=>Number(We||0));if(Array.isArray(Ye[0])&&!Array.isArray(Ye[0][0]))return Ye[0].map(We=>Number(We||0));if(Array.isArray(Ye[0])&&Array.isArray(Ye[0][0])){const Xe=Ye[0].map(ye=>Array.isArray(ye)?ye.map(at=>Number(at||0)):null).filter(ye=>Array.isArray(ye)&&ye.length>0);return rt(Xe)}return[]},Qt=(Pe,Me)=>{if(!Array.isArray(Pe)||Pe.length===0||Me<=0)return 0;let _e=0,Ye=0;for(let We=0;We<Pe.length;We+=1)_e+=Number(Pe[We]||0),We>=Me&&(_e-=Number(Pe[We-Me]||0)),We>=Me-1&&_e>Ye&&(Ye=_e);return Math.max(0,Ye)},wn=(Pe,Me)=>{if(!Array.isArray(Pe)||Pe.length===0||Me<=0)return[];const _e=[];for(let Ye=0;Ye<Pe.length;Ye+=Me){const We=Math.min(Ye+Me,Pe.length),Xe=Pe.slice(Ye,We).reduce((ye,at)=>ye+Number(at||0),0);_e.push(Xe)}return _e},Ve=Pe=>Array.isArray(Pe)?Pe.map(Me=>Array.isArray(Me)?[Number(Me[0]),Number(Me[1])]:Me&&typeof Me=="object"?[Number(Me.time),Number(Me.value)]:null).filter(Me=>!!Me&&Number.isFinite(Me[0])&&Me[0]>=0):[],ft=(Pe,Me,_e,Ye,We)=>{if(!Pe.length||Ye<=0)return[];const Xe=Math.max(Ye*5e3,We||0),ye=de=>de.reduce((Bt,be)=>be>=0&&be<=Xe+2e3?Bt+1:Bt,0),at=Pe.map(de=>Number(de||0)).filter(de=>Number.isFinite(de)&&de>=0);if(!at.length)return[];const mt=[at],fe=at.reduce((de,Bt)=>Math.max(de,Bt),0),qe=at.reduce((de,Bt)=>Math.min(de,Bt),Number.POSITIVE_INFINITY);fe>Xe*20&&mt.push(at.map(de=>de/1e3)),fe<=Xe*2&&qe>=0&&fe>0&&fe<Math.max(120,Ye*5+10)&&mt.push(at.map(de=>de*1e3));let ot=at,Rt=0,Ae=-1;return mt.forEach(de=>{const Bt=de.reduce((ze,tt)=>Math.min(ze,tt),Number.POSITIVE_INFINITY),be=new Set([0,...Me,..._e]);if(Number.isFinite(Bt)&&Xe>0&&Bt>Xe){const ze=Math.floor(Bt/Xe)*Xe;be.add(ze),be.add(Math.max(0,ze-Xe))}be.forEach(ze=>{const tt=de.map(Qe=>Qe-ze),ht=ye(tt);ht>Ae&&(Ae=ht,Rt=ze,ot=de)})}),ot.map(de=>de-Rt).filter(de=>Number.isFinite(de)&&de>=0)},gt=(Pe,Me,_e,Ye,We)=>{const Xe=ft(Pe,Me,_e,Ye,We);return Array.from(new Set(Xe.map(ye=>Math.floor(ye/5e3)).filter(ye=>Number.isFinite(ye)&&ye>=0&&ye<Ye)))};o.map(Pe=>({log:Pe,ts:Ii(Pe==null?void 0:Pe.details,Pe)})).sort((Pe,Me)=>Pe.ts-Me.ts).forEach(({log:Pe},Me)=>{const _e=Pe==null?void 0:Pe.details;if(!_e)return;const Ye=T(_e.fightName||Pe.fightName||`Fight ${Me+1}`),We=da(_e,Pe),Xe=H(Ye,String(We||"")),ye={},mt=(Array.isArray(_e.players)?_e.players:[]).filter(He=>!(He!=null&&He.notInSquad)),fe=mt.flatMap(He=>{const it=He==null?void 0:He.combatReplayData;return Array.isArray(it)?it.map(lt=>Number(lt==null?void 0:lt.start)):[Number(it==null?void 0:it.start)]}).filter(He=>Number.isFinite(He)&&He>=0),qe=mt.flatMap(He=>{const it=He==null?void 0:He.combatReplayData;return(Array.isArray(it)?it:it?[it]:[]).flatMap(vt=>Ve(vt==null?void 0:vt.down).map(([mn])=>Number(mn||0)))}),ot=mt.flatMap(He=>{const it=He==null?void 0:He.combatReplayData;return(Array.isArray(it)?it:it?[it]:[]).flatMap(vt=>Ve(vt==null?void 0:vt.dead).map(([mn])=>Number(mn||0)))}),Rt=new Map,Ae=new Map,de=new Map;(Array.isArray(_e.targets)?_e.targets:[]).forEach((He,it)=>{if(!He||He.isFake||!He.enemyPlayer)return;const lt=U((He==null?void 0:He.profession)||(He==null?void 0:He.name)||(He==null?void 0:He.id))||"Unknown";de.set(lt,(de.get(lt)||0)+1);const vt=Ae.get(lt)||new Map;Array.isArray(He==null?void 0:He.totalDamageDist)&&He.totalDamageDist.forEach(hn=>{Array.isArray(hn)&&hn.forEach(Dr=>{if(!Dr||typeof Dr!="object"||Dr.indirectDamage)return;const Cn=Number(Dr.totalDamage||0);if(!Number.isFinite(Cn)||Cn<=0)return;const or=Number(Dr.connectedHits||Dr.hits||0),qi=Ee(Dr.id,_e),gi=qi.name,vn=vt.get(gi)||{skillName:gi,damage:0,hits:0,icon:qi.icon};vn.damage+=Cn,vn.hits+=Number.isFinite(or)?or:0,!vn.icon&&qi.icon&&(vn.icon=qi.icon),vt.set(gi,vn)})}),Ae.set(lt,vt);const mn=rt(mt.map(hn=>Ht(hn,it))),un=mn.length>0?Ge(mn):It(He),Un=Se(He,_e);let Ut=Rt.get(lt);Ut||(Ut={perSecond:[],hit:0,skillName:""},Rt.set(lt,Ut)),un.length>Ut.perSecond.length&&(Ut.perSecond.length=un.length);for(let hn=0;hn<un.length;hn+=1)Ut.perSecond[hn]=Number(Ut.perSecond[hn]||0)+Number(un[hn]||0);const Pr=Number(Un.peak||0);Pr>Ut.hit&&(Ut.hit=Pr,Ut.skillName=Un.skillName||"Unknown Skill")});const be=Array.from(Rt.values()).some(He=>Array.isArray(He.perSecond)&&He.perSecond.some(it=>Number(it||0)>0));if(Rt.size===0||!be){const He=rt(mt.map(lt=>{const vt=Dt(lt==null?void 0:lt.powerDamageTaken1S);return Ge(vt)})),it=Array.from(de.values()).reduce((lt,vt)=>lt+Number(vt||0),0);He.length>0&&it>0&&de.forEach((lt,vt)=>{const mn=Number(lt||0)/it,un=He.map(Ut=>Number(Ut||0)*mn),Un=Rt.get(vt);Rt.set(vt,{perSecond:un,hit:Number((Un==null?void 0:Un.hit)||0),skillName:String((Un==null?void 0:Un.skillName)||"")})})}Rt.forEach((He,it)=>{var qi;const lt=it,vt=Number(He.hit||0),mn=Number(Qt(He.perSecond,1)||0),un=Number(Qt(He.perSecond,5)||0),Un=Number(Qt(He.perSecond,30)||0),Ut=Math.max(0,Math.ceil(Number((_e==null?void 0:_e.durationMS)||0)/5e3)),Pr=Math.max(0,Math.ceil(He.perSecond.length/5)),hn=Math.max(Ut,Pr),Dr=wn(He.perSecond,5),Cn=Array.from({length:hn},(gi,vn)=>Number(Dr[vn]||0));ye[lt]={hit:vt,burst1s:mn,burst5s:un,burst30s:Un,skillName:He.skillName||"Unknown Skill",buckets5s:Cn,downIndices5s:gt(qe,[],fe,hn,Number((_e==null?void 0:_e.durationMS)||0)),deathIndices5s:gt(ot,[],fe,hn,Number((_e==null?void 0:_e.durationMS)||0)),skillRows:Array.from(((qi=Ae.get(it))==null?void 0:qi.values())||[]).sort((gi,vn)=>vn.damage-gi.damage).slice(0,50)};const or=ne.get(lt)||{key:lt,account:it,displayName:it,characterName:"",profession:it,professionList:[it],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};or.logs+=1,vt>or.peakHit&&(or.peakHit=vt,or.peakFightLabel=Xe,or.peakSkillName=He.skillName||"Unknown Skill"),mn>or.peak1s&&(or.peak1s=mn),un>or.peak5s&&(or.peak5s=un),Un>or.peak30s&&(or.peak30s=Un),ne.set(lt,or)});const ze=Object.values(ye).reduce((He,it)=>Math.max(He,Number((it==null?void 0:it.hit)||0)),0),tt=Object.values(ye).reduce((He,it)=>Math.max(He,Number((it==null?void 0:it.burst1s)||0)),0),ht=Object.values(ye).reduce((He,it)=>Math.max(He,Number((it==null?void 0:it.burst5s)||0)),0),Qe=Object.values(ye).reduce((He,it)=>Math.max(He,Number((it==null?void 0:it.burst30s)||0)),0);ge.push({id:Pe.filePath||Pe.id||`fight-${Me+1}`,shortLabel:`F${Me+1}`,fullLabel:Xe,timestamp:Ii(_e,Pe),values:ye,maxHit:ze,max1s:tt,max5s:ht,max30s:Qe})});const Ft=Array.from(ne.values()).sort((Pe,Me)=>Me.peakHit!==Pe.peakHit?Me.peakHit-Pe.peakHit:Pe.displayName.localeCompare(Me.displayName));return{fights:ge,players:Ft}})(),xt=Array.from(A.entries()).map(([T,P])=>{const H=M.get(T)||{},ge=Array.from(P.values()).map(ne=>{var Qt,wn;const Ee=Array.from(ne.professions||[]).filter(Ve=>Ve&&Ve!=="Unknown");let Se=ne.profession||"Unknown";if(Ee.length>0){Se=Ee[0];let Ve=((Qt=ne.professionTimeMs)==null?void 0:Qt[Se])||0;Ee.forEach(ft=>{var Ft;const gt=((Ft=ne.professionTimeMs)==null?void 0:Ft[ft])||0;gt>Ve&&(Ve=gt,Se=ft)})}const Ge=ne.durationMs||0,rt=ne.totalMs/1e3,Dt=Ge>0?ne.totalMs/Ge:0,It=((wn=O.get(ne.account))==null?void 0:wn.supportActiveMs)||Ge,Ht=It>0?ne.uptimeMs/It:0;return{account:ne.account,profession:Se,professionList:Ee,total:rt,perSecond:Dt,uptimePerSecond:Ht,duration:Ge/1e3}}).filter(ne=>ne.total>0||ne.perSecond>0);return{id:T,name:H.name||T,icon:H.icon,rows:ge}}).filter(T=>T.rows.length>0),_n=Array.from(pe.values()).map(T=>{const P=Array.from(T.skills.values()).sort((ge,ne)=>ne.damage-ge.damage),H={key:T.key,account:T.account,displayName:T.displayName,profession:T.profession,professionList:T.professionList,totalFightMs:T.totalFightMs,skills:P};return p&&(H.skillMap=P.reduce((ge,ne)=>(ge[ne.id]=ne,ge),{})),H}).sort((T,P)=>T.displayName.localeCompare(P.displayName));return{total:x,wins:w,losses:b,avgSquadSize:Ne,avgEnemies:ct,squadKDR:Ot,enemyKDR:dn,totalSquadKills:j,totalSquadDeaths:S,totalEnemyKills:$,totalEnemyDeaths:E,leaderboards:sn,..._r,outgoingConditionSummary:Object.values(X).sort((T,P)=>P.damage-T.damage),incomingConditionSummary:Object.values(W).sort((T,P)=>P.damage-T.damage),outgoingConditionPlayers:Array.from(O.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.incomingConditions})),topSkills:Vr,topIncomingSkills:Ja,topSkillsByDamage:br,topSkillsByDownContribution:Za,playerSkillBreakdowns:_n,topSkillsMetric:y,mapData:Yc,timelineData:Ad,boonTables:jd,offensePlayers:Array.from(O.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,offenseTotals:T.offenseTotals,offenseRateWeights:T.offenseRateWeights,totalFightMs:T.totalFightMs})),defensePlayers:Array.from(O.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,defenseTotals:T.defenseTotals,activeMs:T.defenseActiveMs,minionDamageTakenByMinion:T.defenseMinionDamageTaken})),damageMitigationPlayers:en,damageMitigationMinions:Gt,supportPlayers:Array.from(O.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,supportTotals:T.supportTotals,activeMs:T.supportActiveMs})),healingPlayers:Array.from(O.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,healingTotals:T.healingTotals,activeMs:T.healingActiveMs})),mvp:Ar,silver:Kc,bronze:Qs,squadClassData:Xc,enemyClassData:K,fightBreakdown:we,fightDiffMode:Le,attendanceData:pt,squadCompByFight:Tt,spikeDamage:on,incomingStrikeDamage:St,specialTables:xt,topStatsPerSecond:Sn,topStatsLeaderboardsPerSecond:Nn,avgMvpScore:Uo}})(),h=(()=>{const m=new Map,p=new Map,g=[],y=new Map,x=new Map;o.forEach(b=>{const N=b.details;if(!N)return;const C=N.skillMap||{},S=N.fightName||"Log",j=Ii(N,b)||Date.now(),E={id:b.filePath||b.id||S,label:S,timestamp:j,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(D=>{if(D.notInSquad)return;const _=D.account||D.name||"Unknown",O=D.profession||"Unknown",G=`${_}|${O}`;let Q=p.get(G);Q||(Q={key:G,account:_,displayName:_,profession:O,professionList:[O],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(G,Q)),Q.logs++;const ce=(Array.isArray(D.activeTimes)?D.activeTimes[0]:0)/1e3;Q.totalActiveSeconds=(Q.totalActiveSeconds||0)+ce,E.playerActiveSeconds[G]=ce,(D.rotation||[]).forEach(pe=>{var A,ae,k;if(!(pe!=null&&pe.id))return;const X=((A=pe.skills)==null?void 0:A.length)||0;if(X<=0)return;const W=`s${pe.id}`,ue=((ae=C[W])==null?void 0:ae.name)||`Skill ${pe.id}`,M=(k=C[W])==null?void 0:k.icon;Q.skillTotals[W]=(Q.skillTotals[W]||0)+X,m.set(W,(m.get(W)||0)+X),y.set(W,ue),M&&!x.has(W)&&x.set(W,M),E.skillEntries[W]||(E.skillEntries[W]={name:ue,icon:M,players:{}}),!E.skillEntries[W].icon&&M&&(E.skillEntries[W].icon=M),E.skillEntries[W].players[G]=(E.skillEntries[W].players[G]||0)+X})}),g.push(E)});const w=Array.from(m.entries()).map(([b,N])=>({id:b,name:y.get(b)||b,total:N,icon:x.get(b)})).sort((b,N)=>N.total-b.total);return{logRecords:g,players:Array.from(p.values()),skillOptions:w,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},UU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const g=new Set;let y=null,x=null;e.forEach(D=>{const _=D.details;if(!_)return;const O=_.timeStartStd||_.timeStart||_.uploadTime||D.uploadTime,G=_.timeEndStd||_.timeEnd||_.uploadTime||D.uploadTime,Q=O?new Date(O):null,ce=G?new Date(G):null;Q&&!Number.isNaN(Q.getTime())&&(!y||Q<y)&&(y=Q),ce&&!Number.isNaN(ce.getTime())&&(!x||ce>x)&&(x=ce),(_.players||[]).forEach(X=>{if(!(X!=null&&X.notInSquad)&&X!=null&&X.hasCommanderTag){const W=(X==null?void 0:X.name)||(X==null?void 0:X.account)||"Unknown";g.add(W)}})});const w=Array.from(g).sort((D,_)=>D.localeCompare(_)),b=y||new Date,N=x||b,C=b.toISOString(),S=N.toISOString(),j=`${b.toLocaleString()} - ${N.toLocaleString()}`,E=D=>String(D).padStart(2,"0");return{id:`${b.getFullYear()}${E(b.getMonth()+1)}${E(b.getDate())}-${E(b.getHours())}${E(b.getMinutes())}${E(b.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:w.length?w.join(", "):"Unknown Commander",commanders:w,dateStart:C,dateEnd:S,dateLabel:j,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=af({logs:e,statsViewSettings:r}),w=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(w)&&w.length>0)return{...g,fightDiffMode:w}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),w=await window.electronAPI.mockWebReport({meta:y,stats:x});w!=null&&w.success?l({uploading:!1,message:"Local report ready.",url:w.url||null}):l({uploading:!1,message:(w==null?void 0:w.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function VU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const WU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Nl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let su=null;function r5(e={}){return su||(e.includeStyleProperties?(su=e.includeStyleProperties,su):(su=Nl(window.getComputedStyle(document.documentElement)),su))}function lg(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function HU(e){const t=lg(e,"border-left-width"),n=lg(e,"border-right-width");return e.clientWidth+t+n}function qU(e){const t=lg(e,"border-top-width"),n=lg(e,"border-bottom-width");return e.clientHeight+t+n}function i5(e,t={}){const n=t.width||HU(e),r=t.height||qU(e);return{width:n,height:r}}function KU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const pa=16384;function GU(e){(e.width>pa||e.height>pa)&&(e.width>pa&&e.height>pa?e.width>e.height?(e.height*=pa/e.width,e.width=pa):(e.width*=pa/e.height,e.height=pa):e.width>pa?(e.height*=pa/e.width,e.width=pa):(e.width*=pa/e.height,e.height=pa))}function cg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function YU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function XU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),YU(i)}const aa=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||aa(n,t)};function QU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function ZU(e,t){return r5(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function JU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?QU(n):ZU(n,r);return document.createTextNode(`${i}{${a}}`)}function T2(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=WU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(JU(s,n,i,r)),t.appendChild(o)}function e8(e,t,n){T2(e,t,":before",n),T2(e,t,":after",n)}const E2="application/font-woff",M2="image/jpeg",t8={woff:E2,woff2:E2,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:M2,jpeg:M2,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function n8(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function ak(e){const t=n8(e).toLowerCase();return t8[t]||""}function r8(e){return e.split(/,/)[1]}function jb(e){return e.search(/^(data:)/)!==-1}function i8(e,t){return`data:${t};base64,${e}`}async function a5(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const Pv={};function a8(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function sk(e,t,n){const r=a8(e,t,n.includeQueryParams);if(Pv[r]!=null)return Pv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await a5(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),r8(o)));i=i8(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return Pv[r]=i,i}async function s8(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):cg(t)}async function o8(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return cg(o)}const n=e.poster,r=ak(n),i=await sk(n,r,t);return cg(i)}async function l8(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await F0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function c8(e,t){return aa(e,HTMLCanvasElement)?s8(e):aa(e,HTMLVideoElement)?o8(e,t):aa(e,HTMLIFrameElement)?l8(e,t):e.cloneNode(s5(e))}const u8=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",s5=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function d8(e,t,n){var r,i;if(s5(t))return t;let a=[];return u8(e)&&e.assignedNodes?a=Nl(e.assignedNodes()):aa(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=Nl(e.contentDocument.body.childNodes):a=Nl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||aa(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>F0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function f8(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):r5(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),aa(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function m8(e,t){aa(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),aa(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function h8(e,t){if(aa(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function p8(e,t,n){return aa(t,Element)&&(f8(e,t,n),e8(e,t,n),m8(e,t),h8(e,t)),t}async function g8(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await F0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function F0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>c8(r,t)).then(r=>d8(e,r,t)).then(r=>p8(e,r,t)).then(r=>g8(r,t))}const o5=/url\((['"]?)([^'"]+?)\1\)/g,x8=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,v8=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function y8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function b8(e){const t=[];return e.replace(o5,(n,r,i)=>(t.push(i),n)),t.filter(n=>!jb(n))}async function w8(e,t,n,r,i){try{const a=n?VU(t,n):t,s=ak(t);let o;return i||(o=await sk(a,s,r)),e.replace(y8(t),`$1${o}$3`)}catch{}return e}function k8(e,{preferredFontFormat:t}){return t?e.replace(v8,n=>{for(;;){const[r,,i]=x8.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function l5(e){return e.search(o5)!==-1}async function c5(e,t,n){if(!l5(e))return e;const r=k8(e,n);return b8(r).reduce((a,s)=>a.then(o=>w8(o,s,t,n)),Promise.resolve(r))}async function ou(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await c5(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function S8(e,t){await ou("background",e,t)||await ou("background-image",e,t),await ou("mask",e,t)||await ou("-webkit-mask",e,t)||await ou("mask-image",e,t)||await ou("-webkit-mask-image",e,t)}async function N8(e,t){const n=aa(e,HTMLImageElement);if(!(n&&!jb(e.src))&&!(aa(e,SVGImageElement)&&!jb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await sk(r,ak(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function C8(e,t){const r=Nl(e.childNodes).map(i=>u5(i,t));await Promise.all(r).then(()=>e)}async function u5(e,t){aa(e,Element)&&(await S8(e,t),await N8(e,t),await C8(e,t))}function j8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const O2={};async function I2(e){let t=O2[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},O2[e]=t,t}async function _2(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),a5(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function L2(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function A8(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Nl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=I2(l).then(d=>_2(d,t)).then(d=>L2(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(I2(i.href).then(o=>_2(o,t)).then(o=>L2(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Nl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function P8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>l5(t.style.getPropertyValue("src")))}async function D8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Nl(e.ownerDocument.styleSheets),r=await A8(n,t);return P8(r)}function d5(e){return e.trim().replace(/["']/g,"")}function T8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(d5(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function E8(e,t){const n=await D8(e,t),r=T8(e);return(await Promise.all(n.filter(a=>r.has(d5(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return c5(a.cssText,s,t)}))).join(`
`)}async function M8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await E8(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function O8(e,t={}){const{width:n,height:r}=i5(e,t),i=await F0(e,t,!0);return await M8(i,t),await u5(i,t),j8(i,t),await XU(i,n,r)}async function I8(e,t={}){const{width:n,height:r}=i5(e,t),i=await O8(e,t),a=await cg(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||KU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||GU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function _8(e,t={}){return(await I8(e,t)).toDataURL()}const L8=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var w;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((w=m.decode)==null?void 0:w.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=g,w=!1;for(const N of y){const C=N[1];if(!C)continue;const S=await c(C);S&&(x=x.replace(N[0],`url("${S}")`),w=!0)}if(!w)return;const b=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=b})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>_8(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},sf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},$8=e=>!!(e&&e.__statsPruned===!0),$2=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},F2=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},F8=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=sf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},R2=e=>{if(!e||typeof e!="object")return e;const t=sf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=$2(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=$2(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!F2(a));t.players=n.map(a=>{const s=sf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(c=>sf(c,["name","totalDamageTakenDist"]));const l=i&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!F2(a));return s.combatReplayData=F8(a==null?void 0:a.combatReplayData,l),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>sf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},R8=e=>{if(!e||typeof e!="object"||$8(e))return e;const t={...e};return e.details?t.details=R2(e.details):t.details=R2(e),t.__statsPruned=!0,t},B8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>af(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,y]=v.useState(0),[x,w]=v.useState(null),b=v.useRef(0),[N,C]=v.useState(0),S=v.useRef(null),j=v.useRef(null),[E,$]=v.useState(!1),D=v.useRef(null),_=v.useRef(null),O=v.useRef(0),G=v.useRef(0),Q=v.useRef(new Map),ce=v.useRef(""),pe=v.useRef(void 0),X=v.useRef(""),W=v.useRef(0),[ue,M]=v.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[A,ae]=v.useState(null),k=v.useRef(0),z=()=>{if(D.current!==null&&(window.clearTimeout(D.current),D.current=null),_.current!==null){const V=window.cancelIdleCallback;typeof V=="function"&&V(_.current),_.current=null}},U=(V,Y)=>{const R=String((V==null?void 0:V.filePath)||(V==null?void 0:V.id)||`idx-${Y}`),oe=V!=null&&V.details&&typeof V.details=="object"?V.details:null,q=Q.current.get(R);if(q&&(oe&&q.sourceDetails===oe||!oe&&q.sourceLog===V))return q.pruned;const te=R8(V);return Q.current.set(R,{sourceLog:V,sourceDetails:oe,pruned:te}),te},J=v.useMemo(()=>{if(!r){ce.current="",pe.current=void 0;return}const V={...r};delete V.topSkillsMetric;const Y=JSON.stringify(V);return ce.current!==Y&&(ce.current=Y,pe.current=V),pe.current},[r]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!E&&s)return j.current||(j.current=new Worker(new URL(""+new URL("statsWorker-_BOJFKRO.js",import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=V=>{var Y;if(((Y=V.data)==null?void 0:Y.type)==="result"){const R=typeof V.data.token=="number"?V.data.token:null;if(R!==null&&R!==b.current)return;v.startTransition(()=>{var Oe;l(V.data.result),typeof V.data.computeId=="number"?d(V.data.computeId):d(Ie=>Ie+1),typeof V.data.logCount=="number"&&h(V.data.logCount),typeof V.data.token=="number"&&p(V.data.token),typeof V.data.completedAt=="number"&&y(V.data.completedAt),typeof V.data.flushId=="number"&&w(V.data.flushId);const oe=R===null||R===b.current,q=W.current,te=typeof V.data.logCount=="number"?V.data.logCount:0;if(oe){const Ie=typeof V.data.completedAt=="number"?V.data.completedAt:Date.now(),he=((Oe=V.data)==null?void 0:Oe.diagnostics)||{},L=Math.max(0,Number(he.computeMs||0)),ke=k.current>0?k.current:Ie,Ne=Math.max(0,Ie-ke),ct=Math.max(0,Ne-L);ae({mode:"worker",logsInPayload:Number(he.logsInPayload||V.data.logCount||0),streamedLogs:Number(V.data.logCount||0),totalLogs:q,startedAt:ke,completedAt:Ie,streamMs:ct,computeMs:L,totalMs:Ne,flushId:typeof V.data.flushId=="number"?V.data.flushId:null,transferStripStats:he.transferStripStats,counts:he.counts,expectedLogCount:Number(he.expectedLogCount||0),droppedLogMessages:Number(he.droppedLogMessages||0)})}oe&&te>=q&&M(Ie=>({...Ie,active:q>0,phase:q>0?"settled":"idle",streamed:q,total:q,completedAt:typeof V.data.completedAt=="number"?V.data.completedAt:Date.now()}))})}},j.current.onerror=V=>{var Y;console.warn("[StatsWorker] Worker error. Falling back to main thread.",V),(Y=j.current)==null||Y.terminate(),j.current=null,$(!0)},j.current.onmessageerror=V=>{var Y;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",V),(Y=j.current)==null||Y.terminate(),j.current=null,$(!0)},S.current!==null&&j.current.postMessage({type:"flush",flushId:S.current,token:b.current})),()=>{var V;G.current+=1,z(),(V=j.current)==null||V.terminate(),j.current=null}},[E,s]),v.useEffect(()=>{var R;if(!j.current||E||!s)return;const V=G.current+1;G.current=V;let Y=!1;try{W.current=e.length,k.current=Date.now(),ae(null),M({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const oe=b.current+1;b.current=oe,C(oe);const q=new Set;e.forEach((ke,Ne)=>{q.add(String((ke==null?void 0:ke.filePath)||(ke==null?void 0:ke.id)||`idx-${Ne}`))}),Q.current.forEach((ke,Ne)=>{q.has(Ne)||Q.current.delete(Ne)}),z(),j.current.postMessage({type:"reset",token:oe,totalLogs:e.length}),j.current.postMessage({type:"settings",token:oe,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}});let te=0;const Oe=e.length,Ie=(ke,Ne=!1)=>{const ct=performance.now();if(!Ne&&ct-O.current<120&&te<Oe)return;O.current=ct;const Ot=Math.min(te,Oe);M(dn=>dn.active===Oe>0&&dn.phase===ke&&dn.streamed===Ot&&dn.total===Oe?dn:{...dn,active:Oe>0,phase:ke,streamed:Ot,total:Oe})},he=()=>{if(Y||G.current!==V||!j.current)return;const ke=window.requestIdleCallback;if(typeof ke=="function"){_.current=ke(Ne=>{_.current=null,L(Ne)},{timeout:120});return}D.current=window.setTimeout(()=>{D.current=null,L()},0)},L=ke=>{if(Y||G.current!==V||!j.current)return;const Ne=!!(ke&&typeof ke.timeRemaining=="function"),ct=Ne?Math.max(0,Number(ke.timeRemaining()||0)):0,Ot=Ne?ct>12?4:ct>7?2:1:1;let dn=0;for(;dn<Ot&&te<Oe;)j.current.postMessage({type:"log",token:oe,payload:U(e[te],te)}),te+=1,dn+=1;te<Oe?(Ie("streaming"),he()):(Ie("computing",!0),j.current.postMessage({type:"flush",token:oe}))};O.current=0,Oe<=0?(Ie("computing",!0),j.current.postMessage({type:"flush",token:oe})):(Ie("streaming",!0),he())}catch(oe){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",oe),z(),(R=j.current)==null||R.terminate(),j.current=null,$(!0),M({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),ae(null)}return()=>{Y=!0,z()}},[e,t,n,J,i,s,E]);const Z=v.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return null;const V=Date.now(),Y=performance.now(),R=af({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}),oe=Math.max(0,performance.now()-Y),q=Date.now();return{result:R,computeMs:oe,startedAt:V,completedAt:q}},[E,e,t,n,J,i,s]),ie=v.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return"worker";const V=e[0],Y=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(V==null?void 0:V.filePath)||(V==null?void 0:V.name)||"",lastLogPath:(Y==null?void 0:Y.filePath)||(Y==null?void 0:Y.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:ce.current})},[E,s,e,t,i]);v.useEffect(()=>{if(!E&&typeof Worker<"u"&&s||X.current===ie)return;X.current=ie,d(Y=>Y+1),h(e.length),p(b.current);const V=Date.now();y(V),ae({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(Z==null?void 0:Z.startedAt)||V,completedAt:V,streamMs:0,computeMs:Math.max(0,Number((Z==null?void 0:Z.computeMs)||0)),totalMs:Math.max(0,Number((Z==null?void 0:Z.computeMs)||0)),flushId:null})},[ie,Z,E,e.length,s]);const F=E||typeof Worker>"u"||!s?(Z==null?void 0:Z.result)??af({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:J,disruptionMethod:i}):o,B=!E&&typeof Worker<"u"&&s?ue:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:F,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:g,lastComputedFlushId:x,aggregationProgress:B,aggregationDiagnostics:A,requestFlush:()=>{const V=Date.now();return S.current=V,j.current&&!E&&j.current.postMessage({type:"flush",flushId:V,token:b.current}),V}}},z8=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=G6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,S])=>{const j=Number(S);if(!Number.isFinite(j)||j<=0)return;const E=r.get(C),$=(E==null?void 0:E.name)||C,D=E==null?void 0:E.icon,_=a($,C);f+=j,_&&(h+=j);let O=l.skillMap.get(C);O||(O={id:C,name:$,icon:D,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&D&&(O.icon=D),O.totalCasts+=j;const G=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(G,j)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,w=d>0?f/d:0,b=d>0?y/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:w,apsNoAuto:b};l.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var N;const y=Number(((N=d.playerCounts)==null?void 0:N.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(g.totalActiveSeconds||0),w=x>0?y/(x/60):0,b=x>0?y/x:0;return{...g,count:y,apm:w,aps:b}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),U8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,w=!1;if(Object.entries(g.players).forEach(([b,N])=>{var S;if(n.size>0&&!n.has(b))return;let C=N;if(f){const j=((S=m.playerActiveSeconds)==null?void 0:S[b])||0;C=j>0?N/j:0}y[b]=C,C>d&&(d=C),x=!0,w=!0}),n.size>0){if(!w)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function f5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=f5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=f5(e))&&(r&&(r+=" "),r+=t);return r}var V8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ok(e){if(typeof e!="string")return!1;var t=V8;return t.includes(e)}var W8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],H8=new Set(W8);function m5(e){return typeof e!="string"?!1:H8.has(e)}function h5(e){return typeof e=="string"&&e.startsWith("data-")}function Ka(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(m5(n)||h5(n))&&(t[n]=e[n]);return t}function Qu(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ka(t)}return typeof e=="object"&&!Array.isArray(e)?Ka(e):null}function Bi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(m5(n)||h5(n)||ok(n))&&(t[n]=e[n]);return t}function q8(e){return e==null?null:v.isValidElement(e)?Bi(e.props):typeof e=="object"&&!Array.isArray(e)?Bi(e):null}var K8=["children","width","height","viewBox","className","style","title","desc"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function G8(e,t){if(e==null)return{};var n,r,i=Y8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lk=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=G8(e,K8),f=a||{width:r,height:i,x:0,y:0},h=In("recharts-surface",s);return v.createElement("svg",Ab({},Bi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),X8=["children","className"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function Q8(e,t){if(e==null)return{};var n,r,i=Z8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sa=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Q8(e,X8),a=In("recharts-layer",r);return v.createElement("g",Pb({className:a},Bi(i),{ref:t}),n)}),p5=v.createContext(null),J8=()=>v.useContext(p5);function Zn(e){return function(){return e}}const g5=Math.cos,ug=Math.sin,ks=Math.sqrt,dg=Math.PI,R0=2*dg,Db=Math.PI,Tb=2*Db,ec=1e-6,eV=Tb-ec;function x5(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function tV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return x5;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class nV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?x5:tV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ec)if(!(Math.abs(f*l-c*d)>ec)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,x=Math.sqrt(g),w=Math.sqrt(h),b=a*Math.tan((Db-Math.acos((g+h-y)/(2*x*w)))/2),N=b/w,C=b/x;Math.abs(N-1)>ec&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ec||Math.abs(this._y1-d)>ec)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Tb+Tb),h>eV?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>ec&&this._append`A${r},${r},0,${+(h>=Db)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ck(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new nV(t)}function uk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function B0(e){return new v5(e)}function y5(e){return e[0]}function b5(e){return e[1]}function w5(e,t){var n=Zn(!0),r=null,i=B0,a=null,s=ck(o);e=typeof e=="function"?e:e===void 0?y5:Zn(e),t=typeof t=="function"?t:t===void 0?b5:Zn(t);function o(l){var c,d=(l=uk(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Zn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Zn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Zn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function Uh(e,t,n){var r=null,i=Zn(!0),a=null,s=B0,o=null,l=ck(c);e=typeof e=="function"?e:e===void 0?y5:Zn(+e),t=typeof t=="function"?t:Zn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?b5:Zn(+n);function c(f){var h,m,p,g=(f=uk(f)).length,y,x=!1,w,b=new Array(g),N=new Array(g);for(a==null&&(o=s(w=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],N[p]);o.lineEnd(),o.areaEnd()}x&&(b[h]=+e(y,h,f),N[h]=+t(y,h,f),o.point(r?+r(y,h,f):b[h],n?+n(y,h,f):N[h]))}if(w)return o=null,w+""||null}function d(){return w5().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Zn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Zn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Zn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Zn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Zn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Zn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class k5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function rV(e){return new k5(e,!0)}function iV(e){return new k5(e,!1)}const dk={draw(e,t){const n=ks(t/dg);e.moveTo(n,0),e.arc(0,0,n,0,R0)}},aV={draw(e,t){const n=ks(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},S5=ks(1/3),sV=S5*2,oV={draw(e,t){const n=ks(t/sV),r=n*S5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},lV={draw(e,t){const n=ks(t),r=-n/2;e.rect(r,r,n,n)}},cV=.8908130915292852,N5=ug(dg/10)/ug(7*dg/10),uV=ug(R0/10)*N5,dV=-g5(R0/10)*N5,fV={draw(e,t){const n=ks(t*cV),r=uV*n,i=dV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=R0*a/5,o=g5(s),l=ug(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},Dv=ks(3),mV={draw(e,t){const n=-ks(t/(Dv*3));e.moveTo(0,n*2),e.lineTo(-Dv*n,-n),e.lineTo(Dv*n,-n),e.closePath()}},Oa=-.5,Ia=ks(3)/2,Eb=1/ks(12),hV=(Eb/2+1)*3,pV={draw(e,t){const n=ks(t/hV),r=n/2,i=n*Eb,a=r,s=n*Eb+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Oa*r-Ia*i,Ia*r+Oa*i),e.lineTo(Oa*a-Ia*s,Ia*a+Oa*s),e.lineTo(Oa*o-Ia*l,Ia*o+Oa*l),e.lineTo(Oa*r+Ia*i,Oa*i-Ia*r),e.lineTo(Oa*a+Ia*s,Oa*s-Ia*a),e.lineTo(Oa*o+Ia*l,Oa*l-Ia*o),e.closePath()}};function gV(e,t){let n=null,r=ck(i);e=typeof e=="function"?e:Zn(e||dk),t=typeof t=="function"?t:Zn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Zn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Zn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function fg(){}function mg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function C5(e){this._context=e}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xV(e){return new C5(e)}function j5(e){this._context=e}j5.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vV(e){return new j5(e)}function A5(e){this._context=e}A5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yV(e){return new A5(e)}function P5(e){this._context=e}P5.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bV(e){return new P5(e)}function B2(e){return e<0?-1:1}function z2(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(B2(a)+B2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function U2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Tv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function hg(e){this._context=e}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,U2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,U2(this,n=z2(this,e,t)),n);break;default:Tv(this,this._t0,n=z2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function D5(e){this._context=new T5(e)}(D5.prototype=Object.create(hg.prototype)).point=function(e,t){hg.prototype.point.call(this,t,e)};function T5(e){this._context=e}T5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function wV(e){return new hg(e)}function kV(e){return new D5(e)}function E5(e){this._context=e}E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=V2(e),i=V2(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function V2(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function SV(e){return new E5(e)}function z0(e,t){this._context=e,this._t=t}z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function NV(e){return new z0(e,.5)}function CV(e){return new z0(e,0)}function jV(e){return new z0(e,1)}function Dc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Mb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function AV(e,t){return e[t]}function PV(e){const t=[];return t.key=e,t}function DV(){var e=Zn([]),t=Mb,n=Dc,r=AV;function i(a){var s=Array.from(e.apply(this,arguments),PV),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=uk(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Zn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Zn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Mb:typeof a=="function"?a:Zn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Dc,i):n},i}function TV(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Dc(e,t)}}function EV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Dc(e,t)}}function MV(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,x=g[r-1][1]||0;m+=y-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Dc(e,t)}}var U0={},M5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(M5);var fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(fk);var V0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(V0);var W0={},O5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(O5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5,n=V0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(W0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M5,n=fk,r=V0,i=W0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(U0);var OV=U0.get;const Tc=ws(OV);var IV=4;function pl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+pl(o)+a:i+a},"")}var Ai=e=>e===0?0:e>0?1:-1,qs=e=>typeof e=="number"&&e!=+e,jo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pt=e=>(typeof e=="number"||e instanceof Number)&&!qs(e),Ks=e=>Pt(e)||typeof e=="string",_V=0,Xf=e=>{var t=++_V;return"".concat(e||"").concat(t)},Sa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(t)&&typeof t!="string")return r;var a;if(jo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return qs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},I5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ji(e,t,n){return Pt(e)&&Pt(t)?pl(e+n*(t-e)):t}function _5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Tc(r,t))===n)}var Kr=e=>e===null||typeof e>"u",jm=e=>Kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function LV(e){return e!=null}function Am(){}var $V=["type","size","sizeType"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function H2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){FV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FV(e,t,n){return(t=RV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zV(e,t){if(e==null)return{};var n,r,i=UV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var L5={symbolCircle:dk,symbolCross:aV,symbolDiamond:oV,symbolSquare:lV,symbolStar:fV,symbolTriangle:mV,symbolWye:pV},VV=Math.PI/180,WV=e=>{var t="symbol".concat(jm(e));return L5[t]||dk},HV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*VV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qV=(e,t)=>{L5["symbol".concat(jm(e))]=t},mk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=zV(e,$V),a=H2(H2({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=WV(s),m=gV().type(h).size(HV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Bi(a);return Pt(c)&&Pt(d)&&Pt(n)?v.createElement("path",Ob({},f,{className:In("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};mk.registerSymbol=qV;var $5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ok(i)&&(r[i]=a=>n[i](n,a))}),r},KV=(e,t,n)=>r=>(e(t,n,r),null),pk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];ok(i)&&typeof a=="function"&&(r||(r={}),r[i]=KV(a,t,n))}),r};function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(r){YV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YV(e,t,n){return(t=XV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t=QV(e,"string");return typeof t=="symbol"?t:t+""}function QV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t){var n=GV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(null,arguments)}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(r){JV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JV(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a=32,nW={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function rW(e){var{data:t,iconType:n,inactiveColor:r}=e,i=$a/2,a=$a/6,s=$a/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:$a,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat($a,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat($a/8,"h").concat($a,"v").concat($a*3/4,"h").concat(-$a,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=ZV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(mk,{fill:o,cx:i,cy:i,size:$a,sizeType:"diameter",type:l})}function iW(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:$a,height:$a},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=In({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",pg({className:m,style:l,key:"legend-item-".concat(f)},pk(e,d,f)),v.createElement(lk,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},v.createElement(rW,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var aW=e=>{var t=Gr(e,nW),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(iW,pg({},t,{payload:n})))},F5={},R5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(R5);var B5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(B5);var gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(gk);var z5={},H0={},U5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(U5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(H0);var V5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(V5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H0,n=V5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(z5);var W5={},H5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(H5);var q5={},xk={},K5={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(vk);var yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(yk);var bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(bk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk,n=yk,r=bk;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,x,w,b){const N=h(p,g,y,x,w,b);return N!==void 0?!!N:a(p,g,m,b)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const b=d[w];let N=!1;if(h(b,y,g,d,f,m)&&(N=!0),N){p.add(w),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(K5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(xk);var G5={},wk={},Y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Y5);var q0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(q0);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",E="[object BigInt64Array]",$="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=$,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(kk);var X5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(X5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y5,n=q0,r=kk,i=yk,a=X5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,w]of d)y.set(x,o(w,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(G5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk,n=G5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(q5);var Q5={},Z5={},J5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk,n=q0,r=kk;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(J5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Z5);var eI={},Sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Sk);var tI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(tI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk,n=Sk,r=tI,i=W0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(eI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk,n=V0,r=Z5,i=U0,a=eI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(Q5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk,n=H5,r=q5,i=Q5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(W5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5,n=B5,r=gk,i=z5,a=W5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(F5);var sW=F5.uniqBy;const G2=ws(sW);function nI(e,t,n){return t===!0?G2(e,n):typeof t=="function"?G2(e,t):e}var rI={exports:{}},iI={},aI={exports:{}},sI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=v;function oW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lW=typeof Object.is=="function"?Object.is:oW,cW=Zu.useState,uW=Zu.useEffect,dW=Zu.useLayoutEffect,fW=Zu.useDebugValue;function mW(e,t){var n=t(),r=cW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return dW(function(){i.value=n,i.getSnapshot=t,Ev(i)&&a({inst:i})},[e,n,t]),uW(function(){return Ev(i)&&a({inst:i}),e(function(){Ev(i)&&a({inst:i})})},[e]),fW(n),n}function Ev(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lW(e,n)}catch{return!0}}function hW(e,t){return t()}var pW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hW:mW;sI.useSyncExternalStore=Zu.useSyncExternalStore!==void 0?Zu.useSyncExternalStore:pW;aI.exports=sI;var gW=aI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=v,xW=gW;function vW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yW=typeof Object.is=="function"?Object.is:vW,bW=xW.useSyncExternalStore,wW=K0.useRef,kW=K0.useEffect,SW=K0.useMemo,NW=K0.useDebugValue;iI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=wW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=SW(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,yW(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=bW(e,a[0],a[1]);return kW(function(){s.hasValue=!0,s.value=o},[o]),NW(o),o};rI.exports=iI;var CW=rI.exports,Nk=v.createContext(null),jW=e=>e,er=()=>{var e=v.useContext(Nk);return e?e.store.dispatch:jW},jp=()=>{},AW=()=>jp,PW=(e,t)=>e===t;function Ct(e){var t=v.useContext(Nk);return CW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:AW,t?t.store.getState:jp,t?t.store.getState:jp,t?e:jp,PW)}function DW(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function TW(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function EW(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Y2=e=>Array.isArray(e)?e:[e];function MW(e){const t=Array.isArray(e[0])?e[0]:e;return EW(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function OW(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var IW=class{constructor(e){this.value=e}deref(){return this.value}},_W=typeof WeakRef<"u"?WeakRef:IW,LW=0,X2=1;function Vh(){return{s:LW,v:void 0,o:null,p:null}}function oI(e,t={}){let n=Vh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=Vh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=Vh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===X2)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new _W(d):d}return c.s=X2,c.v=d,d}return s.clearCache=()=>{n=Vh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function $W(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),DW(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=oI,argsMemoizeOptions:p=[]}=d,g=Y2(h),y=Y2(p),x=MW(i),w=f(function(){return a++,c.apply(null,arguments)},...g),b=m(function(){s++;const C=OW(x,arguments);return o=w.apply(null,C),o},...y);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var xe=$W(oI),FW=Object.assign((e,t=xe)=>{TW(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>FW}),lI={},cI={},uI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(uI);var dI={},Ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(dI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI,n=dI,r=W0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(cI);var fI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(fI);var jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk,n=H0,r=vk,i=bk;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI,n=fI,r=jk;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(lI);var RW=lI.sortBy;const G0=ws(RW);var mI=e=>e.legend.settings,BW=e=>e.legend.size,zW=e=>e.legend.payload,UW=xe([zW,mI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?G0(r,n):r});function VW(){return Ct(UW)}var Wh=1;function hI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Wh||Math.abs(s.left-t.left)>Wh||Math.abs(s.top-t.top)>Wh||Math.abs(s.width-t.width)>Wh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ci(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WW=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q2=WW,Mv=()=>Math.random().toString(36).substring(7).split("").join("."),HW={INIT:`@@redux/INIT${Mv()}`,REPLACE:`@@redux/REPLACE${Mv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mv()}`},gg=HW;function Ak(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pI(e,t,n){if(typeof e!="function")throw new Error(ci(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ci(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ci(1));return n(pI)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(ci(3));return i}function f(y){if(typeof y!="function")throw new Error(ci(4));if(l)throw new Error(ci(5));let x=!0;c();const w=o++;return s.set(w,y),function(){if(x){if(l)throw new Error(ci(6));x=!1,c(),s.delete(w),a=null}}}function h(y){if(!Ak(y))throw new Error(ci(7));if(typeof y.type>"u")throw new Error(ci(8));if(typeof y.type!="string")throw new Error(ci(17));if(l)throw new Error(ci(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(w=>{w()}),y}function m(y){if(typeof y!="function")throw new Error(ci(10));r=y,h({type:gg.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ci(11));function w(){const N=x;N.next&&N.next(d())}return w(),{unsubscribe:y(w)}},[Q2](){return this}}}return h({type:gg.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Q2]:p}}function qW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:gg.INIT})>"u")throw new Error(ci(12));if(typeof n(void 0,{type:gg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ci(13))})}function gI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{qW(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(ci(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function xg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function KW(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ci(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=xg(...o)(i.dispatch),{...i,dispatch:a}}}function xI(e){return Ak(e)&&"type"in e&&typeof e.type=="string"}var vI=Symbol.for("immer-nothing"),Z2=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function ls(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wa=Object,Ju=wa.getPrototypeOf,vg="constructor",Y0="prototype",Ib="configurable",yg="enumerable",Ap="writable",Qf="value",Ao=e=>!!e&&!!e[zi];function xs(e){var t;return e?yI(e)||Q0(e)||!!e[Z2]||!!((t=e[vg])!=null&&t[Z2])||Z0(e)||J0(e):!1}var GW=wa[Y0][vg].toString(),J2=new WeakMap;function yI(e){if(!e||!Pk(e))return!1;const t=Ju(e);if(t===null||t===wa[Y0])return!0;const n=wa.hasOwnProperty.call(t,vg)&&t[vg];if(n===Object)return!0;if(!mu(n))return!1;let r=J2.get(n);return r===void 0&&(r=Function.toString.call(n),J2.set(n,r)),r===GW}function X0(e,t,n=!0){Pm(e)===0?(n?Reflect.ownKeys(e):wa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Pm(e){const t=e[zi];return t?t.type_:Q0(e)?1:Z0(e)?2:J0(e)?3:0}var ej=(e,t,n=Pm(e))=>n===2?e.has(t):wa[Y0].hasOwnProperty.call(e,t),_b=(e,t,n=Pm(e))=>n===2?e.get(t):e[t],bg=(e,t,n,r=Pm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function YW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Q0=Array.isArray,Z0=e=>e instanceof Map,J0=e=>e instanceof Set,Pk=e=>typeof e=="object",mu=e=>typeof e=="function",Ov=e=>typeof e=="boolean";function XW(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var oo=e=>e.copy_||e.base_,Dk=e=>e.modified_?e.copy_:e.base_;function Lb(e,t){if(Z0(e))return new Map(e);if(J0(e))return new Set(e);if(Q0(e))return Array[Y0].slice.call(e);const n=yI(e);if(t===!0||t==="class_only"&&!n){const r=wa.getOwnPropertyDescriptors(e);delete r[zi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Ap]===!1&&(o[Ap]=!0,o[Ib]=!0),(o.get||o.set)&&(r[s]={[Ib]:!0,[Ap]:!0,[yg]:o[yg],[Qf]:e[s]})}return wa.create(Ju(e),r)}else{const r=Ju(e);if(r!==null&&n)return{...e};const i=wa.create(r);return wa.assign(i,e)}}function Tk(e,t=!1){return ex(e)||Ao(e)||!xs(e)||(Pm(e)>1&&wa.defineProperties(e,{set:Hh,add:Hh,clear:Hh,delete:Hh}),wa.freeze(e),t&&X0(e,(n,r)=>{Tk(r,!0)},!1)),e}function QW(){ls(2)}var Hh={[Qf]:QW};function ex(e){return e===null||!Pk(e)?!0:wa.isFrozen(e)}var wg="MapSet",$b="Patches",tj="ArrayMethods",bI={};function Ec(e){const t=bI[e];return t||ls(0,e),t}var nj=e=>!!bI[e],Zf,wI=()=>Zf,ZW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nj(wg)?Ec(wg):void 0,arrayMethodsPlugin_:nj(tj)?Ec(tj):void 0});function rj(e,t){t&&(e.patchPlugin_=Ec($b),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fb(e){Rb(e),e.drafts_.forEach(JW),e.drafts_=null}function Rb(e){e===Zf&&(Zf=e.parent_)}var ij=e=>Zf=ZW(Zf,e);function JW(e){const t=e[zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[zi].modified_&&(Fb(t),ls(4)),xs(e)&&(e=sj(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[zi].base_,e,t)}else e=sj(t,n);return e9(t,e,!0),Fb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vI?e:void 0}function sj(e,t){if(ex(t))return t;const n=t[zi];if(!n)return kg(t,e.handledSet_,e);if(!tx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);NI(n,e)}return n.copy_}function e9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Tk(t,n)}function kI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var tx=(e,t)=>e.scope_===t,t9=[];function SI(e,t,n,r){const i=oo(e),a=e.type_;if(r!==void 0&&_b(i,r,a)===t){bg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;X0(i,(l,c)=>{if(Ao(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??t9;for(const o of s)bg(i,o,n,a)}function n9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!tx(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=Dk(a);SI(e,a.draft_??a,s,n),NI(a,i)})}function NI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}kI(e)}}function r9(e,t,n){const{scope_:r}=e;if(Ao(n)){const i=n[zi];tx(i,r)&&i.callbacks_.push(function(){Pp(e);const s=Dk(i);SI(e,n,s,t)})}else xs(n)&&e.callbacks_.push(function(){const a=oo(e);e.type_===3?a.has(n)&&kg(n,r.handledSet_,r):_b(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&kg(_b(e.copy_,t,e.type_),r.handledSet_,r)})}function kg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ao(e)||t.has(e)||!xs(e)||ex(e)||(t.add(e),X0(e,(r,i)=>{if(Ao(i)){const a=i[zi];if(tx(a,n)){const s=Dk(a);bg(e,r,s,e.type_),kI(a)}}else xs(i)&&kg(i,t,n)})),e}function i9(e,t){const n=Q0(e),r={type_:n?1:0,scope_:t?t.scope_:wI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Sg;n&&(i=[r],a=Jf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Sg={get(e,t){if(t===zi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=oo(e);if(!ej(i,t,e.type_))return a9(e,i,t);const a=i[t];if(e.finalized_||!xs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&XW(t))return a;if(a===Iv(e.base_,t)){Pp(e);const s=e.type_===1?+t:t,o=zb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in oo(e)},ownKeys(e){return Reflect.ownKeys(oo(e))},set(e,t,n){const r=CI(oo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Iv(oo(e),t),a=i==null?void 0:i[zi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(YW(n,i)&&(n!==void 0||ej(e.base_,t,e.type_)))return!0;Pp(e),Bb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),r9(e,t,n)),!0},deleteProperty(e,t){return Pp(e),Iv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Bb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=oo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Ap]:!0,[Ib]:e.type_!==1||t!=="length",[yg]:r[yg],[Qf]:n[t]}},defineProperty(){ls(11)},getPrototypeOf(e){return Ju(e.base_)},setPrototypeOf(){ls(12)}},Jf={};for(let e in Sg){let t=Sg[e];Jf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Jf.deleteProperty=function(e,t){return Jf.set.call(this,e,t,void 0)};Jf.set=function(e,t,n){return Sg.set.call(this,e[0],t,n,e[0])};function Iv(e,t){const n=e[zi];return(n?oo(n):e)[t]}function a9(e,t,n){var i;const r=CI(t,n);return r?Qf in r?r[Qf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function CI(e,t){if(!(t in e))return;let n=Ju(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ju(n)}}function Bb(e){e.modified_||(e.modified_=!0,e.parent_&&Bb(e.parent_))}function Pp(e){e.copy_||(e.assigned_=new Map,e.copy_=Lb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var s9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(mu(n)&&!mu(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}mu(r)||ls(6),i!==void 0&&!mu(i)&&ls(7);let a;if(xs(n)){const s=ij(this),o=zb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Fb(s):Rb(s)}return rj(s,i),aj(a,s)}else if(!n||!Pk(n)){if(a=r(n),a===void 0&&(a=n),a===vI&&(a=void 0),this.autoFreeze_&&Tk(a,!0),i){const s=[],o=[];Ec($b).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ls(1,n)},this.produceWithPatches=(n,r)=>{if(mu(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},Ov(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ov(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ov(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xs(t)||ls(8),Ao(t)&&(t=ms(t));const n=ij(this),r=zb(n,t,void 0);return r[zi].isManual_=!0,Rb(n),r}finishDraft(t,n){const r=t&&t[zi];(!r||!r.isManual_)&&ls(9);const{scope_:i}=r;return rj(i,n),aj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Ec($b).applyPatches_;return Ao(t)?i(t,n):this.produce(t,a=>i(a,n))}};function zb(e,t,n,r){const[i,a]=Z0(t)?Ec(wg).proxyMap_(t,n):J0(t)?Ec(wg).proxySet_(t,n):i9(t,n);return((n==null?void 0:n.scope_)??wI()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?n9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function ms(e){return Ao(e)||ls(10,e),jI(e)}function jI(e){if(!xs(e)||ex(e))return e;const t=e[zi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Lb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Lb(e,!0);return X0(n,(i,a)=>{bg(n,i,jI(a))},r),t&&(t.finalized_=!1),n}var o9=new s9,AI=o9.produce;function PI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var l9=PI(),c9=PI,u9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xg:xg.apply(null,arguments)};function Ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Na(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>xI(r)&&r.type===e,n}var DI=class of extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,of.prototype)}static get[Symbol.species](){return of}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new of(...t[0].concat(this)):new of(...t.concat(this))}};function oj(e){return xs(e)?AI(e,()=>{}):e}function qh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function d9(e){return typeof e=="boolean"}var f9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new DI;return n&&(d9(n)?s.push(l9):s.push(c9(n.extraArgument))),s},TI="RTK_autoBatch",lr=()=>e=>({payload:e,meta:{[TI]:!0}}),lj=e=>t=>{setTimeout(t,e)},EI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lj(10):e.type==="callback"?e.queueNotification:lj(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[TI]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},m9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new DI(e);return r&&i.push(EI(typeof r=="object"?r:void 0)),i};function h9(e){const t=f9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(Ak(n))o=gI(n);else throw new Error(Na(1));let l;typeof r=="function"?l=r(t):l=t();let c=xg;i&&(c=u9({trace:!1,...typeof i=="object"&&i}));const d=KW(...l),f=m9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return pI(o,a,m)}function MI(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Na(28));if(o in t)throw new Error(Na(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function p9(e){return typeof e=="function"}function g9(e,t){let[n,r,i]=MI(t),a;if(p9(e))a=()=>oj(e());else{const o=oj(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Ao(d)){const m=f(d,l);return m===void 0?d:m}else{if(xs(d))return AI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var x9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",v9=(e=21)=>{let t="",n=e;for(;n--;)t+=x9[Math.random()*64|0];return t},y9=Symbol.for("rtk-slice-createasyncthunk");function b9(e,t){return`${e}/${t}`}function w9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[y9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Na(11));const o=(typeof i.reducers=="function"?i.reducers(S9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,C){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(Na(12));if(S in c.sliceCaseReducersByType)throw new Error(Na(13));return c.sliceCaseReducersByType[S]=C,d},addMatcher(N,C){return c.sliceMatchers.push({matcher:N,reducer:C}),d},exposeAction(N,C){return c.actionCreators[N]=C,d},exposeCaseReducer(N,C){return c.sliceCaseReducersByName[N]=C,d}};l.forEach(N=>{const C=o[N],S={reducerName:N,type:b9(a,N),createNotation:typeof i.reducers=="function"};C9(C)?A9(S,C,d,t):N9(S,C,d)});function f(){const[N={},C=[],S=void 0]=typeof i.extraReducers=="function"?MI(i.extraReducers):[i.extraReducers],j={...N,...c.sliceCaseReducersByType};return g9(i.initialState,E=>{for(let $ in j)E.addCase($,j[$]);for(let $ of c.sliceMatchers)E.addMatcher($.matcher,$.reducer);for(let $ of C)E.addMatcher($.matcher,$.reducer);S&&E.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let g;function y(N,C){return g||(g=f()),g(N,C)}function x(){return g||(g=f()),g.getInitialState()}function w(N,C=!1){function S(E){let $=E[N];return typeof $>"u"&&C&&($=qh(p,S,x)),$}function j(E=h){const $=qh(m,C,()=>new WeakMap);return qh($,E,()=>{const D={};for(const[_,O]of Object.entries(i.selectors??{}))D[_]=k9(O,E,()=>qh(p,E,x),C);return D})}return{reducerPath:N,getSelectors:j,get selectors(){return j(S)},selectSlice:S}}const b={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(N,{reducerPath:C,...S}={}){const j=C??s;return N.inject({reducerPath:j,reducer:y},S),{...b,...w(j,!0)}}};return b}}function k9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var la=w9();function S9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function N9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!j9(r))throw new Error(Na(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ga(e,s):Ga(e))}function C9(e){return e._reducerDefinitionType==="asyncThunk"}function j9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function A9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Na(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||Kh,pending:o||Kh,rejected:l||Kh,settled:c||Kh})}function Kh(){}var P9="task",OI="listener",II="completed",Ek="cancelled",D9=`task-${Ek}`,T9=`task-${II}`,Ub=`${OI}-${Ek}`,E9=`${OI}-${II}`,nx=class{constructor(e){tv(this,"name","TaskAbortError");tv(this,"message");this.code=e,this.message=`${P9} ${Ek} (reason: ${e})`}},Mk=(e,t)=>{if(typeof e!="function")throw new TypeError(Na(32))},Ng=()=>{},_I=(e,t=Ng)=>(e.catch(t),e),LI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),yc=e=>{if(e.aborted)throw new nx(e.reason)};function $I(e,t){let n=Ng;return new Promise((r,i)=>{const a=()=>i(new nx(e.reason));if(e.aborted){a();return}n=LI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Ng})}var M9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof nx?"cancelled":"rejected",error:n}}finally{t==null||t()}},Cg=e=>t=>_I($I(e,t).then(n=>(yc(e),n))),FI=e=>{const t=Cg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ru}=Object,cj={},rx="listenerMiddleware",O9=(e,t)=>{const n=r=>LI(e,()=>r.abort(e.reason));return(r,i)=>{Mk(r);const a=new AbortController;n(a);const s=M9(async()=>{yc(e),yc(a.signal);const o=await r({pause:Cg(a.signal),delay:FI(a.signal),signal:a.signal});return yc(a.signal),o},()=>a.abort(T9));return i!=null&&i.autoJoin&&t.push(s.catch(Ng)),{result:Cg(e)(s),cancel(){a.abort(D9)}}}},I9=(e,t)=>{const n=async(r,i)=>{yc(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await $I(t,Promise.race(o));return yc(t),l}finally{a()}};return(r,i)=>_I(n(r,i))},RI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Na(21));return Mk(a),{predicate:i,type:t,effect:a}},BI=Ru(e=>{const{type:t,predicate:n,effect:r}=RI(e);return{id:v9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Na(22))}}},{withTypes:()=>BI}),uj=(e,t)=>{const{type:n,effect:r,predicate:i}=RI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Vb=e=>{e.pending.forEach(t=>{t.abort(Ub)})},_9=(e,t)=>()=>{for(const n of t.keys())Vb(n);e.clear()},dj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},zI=Ru(Ga(`${rx}/add`),{withTypes:()=>zI}),L9=Ga(`${rx}/removeAll`),UI=Ru(Ga(`${rx}/remove`),{withTypes:()=>UI}),$9=(...e)=>{console.error(`${rx}/error`,...e)},Dm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=$9}=e;Mk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Vb(m)}),l=m=>{const p=uj(t,m)??BI(m);return o(p)};Ru(l,{withTypes:()=>l});const c=m=>{const p=uj(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Vb(p)),!!p};Ru(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const x=new AbortController,w=I9(l,x.signal),b=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,Ru({},g,{getOriginalState:y,condition:(N,C)=>w(N,C).then(Boolean),take:w,delay:FI(x.signal),pause:Cg(x.signal),extra:a,signal:x.signal,fork:O9(x.signal,b),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,C,S)=>{N!==x&&(N.abort(Ub),S.delete(N))})},cancel:()=>{x.abort(Ub),m.pending.delete(x)},throwIfCancelled:()=>{yc(x.signal)}})))}catch(N){N instanceof nx||dj(s,N,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(E9),i(m),m.pending.delete(x)}},f=_9(t,n);return{middleware:m=>p=>g=>{if(!xI(g))return p(g);if(zI.match(g))return l(g.payload);if(L9.match(g)){f();return}if(UI.match(g))return c(g.payload);let y=m.getState();const x=()=>{if(y===cj)throw new Error(Na(23));return y};let w;try{if(w=p(g),t.size>0){const b=m.getState(),N=Array.from(t.values());for(const C of N){let S=!1;try{S=C.predicate(g,b,y)}catch(j){S=!1,dj(s,j,{raisedBy:"predicate"})}S&&d(C,g,m,x)}}}finally{y=cj}return w},startListening:l,stopListening:c,clearListeners:f}};function Na(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var F9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},VI=la({name:"chartLayout",initialState:F9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:R9,setLayout:B9,setChartSize:z9,setScale:U9}=VI.actions,V9=VI.reducer;function WI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ur(e){return Number.isFinite(e)}function Gs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){W9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W9(e,t,n){return(t=H9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t,n){return Kr(e)||Kr(t)?n:Ks(t)?Tc(e,t,n):typeof t=="function"?t(e):n}var K9=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Pt(e[a]))return Au(Au({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Pt(e[s]))return Au(Au({},e),{},{[s]:e[s]+(i||0)})}return e},Ll=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",HI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},qI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?Ai(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,w)=>{var b=r?r.indexOf(x):x;return{coordinate:s(b)+g,value:x,offset:g,index:w}});return y.filter(x=>!qs(x.coordinate))}return l&&c?c.map((x,w)=>({coordinate:s(x)+g,value:x,index:w,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,w)=>({coordinate:s(x)+g,value:x,offset:g,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+g,value:r?r[x]:x,index:w,offset:g}))},mj=1e-4,G9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-mj,a=Math.max(r[0],r[1])+mj,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},Y9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=qs(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},X9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=qs(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},Q9={sign:Y9,expand:TV,none:Dc,silhouette:EV,wiggle:MV,positive:X9},Z9=(e,t,n)=>{var r,i=(r=Q9[n])!==null&&r!==void 0?r:Dc,a=DV().keys(t).value((o,l)=>Number(ar(o,l,0))).order(Mb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=ar(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Pt(f[0])&&Pt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function hj(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kr(i[t.dataKey])){var o=_5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ar(i,Kr(s)?t.dataKey:s);return Kr(l)?null:t.scale(l)}var J9=e=>{var t=e.flat(2).filter(Pt);return[Math.min(...t),Math.max(...t)]},eH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],tH=(e,t,n)=>{if(e!=null)return eH(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=WI(c,t,n),f=J9(d);return!Ur(f[0])||!Ur(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=G0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function xj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Au(Au({},t),{},{dataKey:n,payload:r,value:i,name:a})}function ix(e,t){if(e)return String(e);if(typeof t=="string")return t}var nH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},rH=(e,t)=>t==="centric"?e.angle:e.radius,Io=e=>e.layout.width,_o=e=>e.layout.height,iH=e=>e.layout.scale,KI=e=>e.layout.margin,ax=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sx=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),GI="data-recharts-item-index",YI="data-recharts-item-id",Tm=60;function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lH=e=>e.brush.height;function cH(e){var t=sx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Tm;return n+i}return n},0)}function uH(e){var t=sx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Tm;return n+i}return n},0)}function dH(e){var t=ax(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function fH(e){var t=ax(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var si=xe([Io,_o,KI,lH,cH,uH,dH,fH,mI,BW],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Gh(Gh({},f),d),m=h.bottom;h.bottom+=r,h=K9(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return Gh(Gh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),mH=xe(si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),XI=xe(Io,_o,(e,t)=>({x:0,y:0,width:e,height:t})),hH=v.createContext(null),ca=()=>v.useContext(hH)!=null,ox=e=>e.brush,lx=xe([ox,si,KI],(e,t,n)=>({height:e.height,x:Pt(e.x)?e.x:t.left,y:Pt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Pt(e.width)?e.width:t.width})),QI={},ZI={},JI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const b=h==null;m(),l&&b&&d()};return x.schedule=m,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(JI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(ZI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(QI);var pH=QI.throttle;const gH=ws(pH);var Ag=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},e_=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=jo(r)?e:Number(r),l=jo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},xH={width:0,height:0,overflow:"visible"},vH={width:0,overflowX:"visible"},yH={height:0,overflowY:"visible"},bH={},wH=e=>{var{width:t,height:n}=e,r=jo(t),i=jo(n);return r&&i?xH:r?vH:i?yH:bH};function kH(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wb.apply(null,arguments)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(r){SH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SH(e,t,n){return(t=NH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t_=v.createContext({width:-1,height:-1});function jH(e){return Gs(e.width)&&Gs(e.height)}function n_(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return jH(i)?v.createElement(t_.Provider,{value:i},t):null}var Ok=()=>v.useContext(t_),AH=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),y=v.useRef();y.current=m,v.useImperativeHandle(t,()=>g.current);var[x,w]=v.useState({containerWidth:r.width,containerHeight:r.height}),b=v.useCallback((E,$)=>{w(D=>{var _=Math.round(E),O=Math.round($);return D.containerWidth===_&&D.containerHeight===O?D:{containerWidth:_,containerHeight:O}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Am;var E=O=>{var G,{width:Q,height:ce}=O[0].contentRect;b(Q,ce),(G=y.current)===null||G===void 0||G.call(y,Q,ce)};d>0&&(E=gH(E,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(E),{width:D,height:_}=g.current.getBoundingClientRect();return b(D,_),$.observe(g.current),()=>{$.disconnect()}},[b,d]);var{containerWidth:N,containerHeight:C}=x;Ag(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:S,calculatedHeight:j}=e_(N,C,{width:i,height:a,aspect:n,maxHeight:l});return Ag(S!=null&&S>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,j,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:In("recharts-responsive-container",h),style:bj(bj({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:wH({width:i,height:a})},v.createElement(n_,{width:S,height:j},c)))}),Mc=v.forwardRef((e,t)=>{var n=Ok();if(Gs(n.width)&&Gs(n.height))return e.children;var{width:r,height:i}=kH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=e_(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Pt(a)&&Pt(s)?v.createElement(n_,{width:a,height:s},e.children):v.createElement(AH,Wb({},e,{width:r,height:i,ref:t}))});function r_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var cx=()=>{var e,t=ca(),n=Ct(mH),r=Ct(lx),i=(e=Ct(ox))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},PH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},i_=()=>{var e;return(e=Ct(si))!==null&&e!==void 0?e:PH},Ik=()=>Ct(Io),_k=()=>Ct(_o),DH=()=>Ct(e=>e.layout.margin),zn=e=>e.layout.layoutType,Em=()=>Ct(zn),TH=()=>{var e=Em();return e!==void 0},ux=e=>{var t=er(),n=ca(),{width:r,height:i}=e,a=Ok(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&Gs(s)&&Gs(o)&&t(z9({width:s,height:o}))},[t,n,s,o]),null},a_=Symbol.for("immer-nothing"),wj=Symbol.for("immer-draftable"),Aa=Symbol.for("immer-state");function cs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var em=Object.getPrototypeOf;function ed(e){return!!e&&!!e[Aa]}function Oc(e){var t;return e?s_(e)||Array.isArray(e)||!!e[wj]||!!((t=e.constructor)!=null&&t[wj])||Mm(e)||fx(e):!1}var EH=Object.prototype.constructor.toString(),kj=new WeakMap;function s_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=kj.get(n);return r===void 0&&(r=Function.toString.call(n),kj.set(n,r)),r===EH}function Pg(e,t,n=!0){dx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function dx(e){const t=e[Aa];return t?t.type_:Array.isArray(e)?1:Mm(e)?2:fx(e)?3:0}function Hb(e,t){return dx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function o_(e,t,n){const r=dx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function MH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mm(e){return e instanceof Map}function fx(e){return e instanceof Set}function tc(e){return e.copy_||e.base_}function qb(e,t){if(Mm(e))return new Map(e);if(fx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=s_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Aa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(em(e),r)}else{const r=em(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Lk(e,t=!1){return mx(e)||ed(e)||!Oc(e)||(dx(e)>1&&Object.defineProperties(e,{set:Yh,add:Yh,clear:Yh,delete:Yh}),Object.freeze(e),t&&Object.values(e).forEach(n=>Lk(n,!0))),e}function OH(){cs(2)}var Yh={value:OH};function mx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var IH={};function Ic(e){const t=IH[e];return t||cs(0,e),t}var tm;function l_(){return tm}function _H(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sj(e,t){t&&(Ic("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kb(e){Gb(e),e.drafts_.forEach(LH),e.drafts_=null}function Gb(e){e===tm&&(tm=e.parent_)}function Nj(e){return tm=_H(tm,e)}function LH(e){const t=e[Aa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Aa].modified_&&(Kb(t),cs(4)),Oc(e)&&(e=Dg(t,e),t.parent_||Tg(t,e)),t.patches_&&Ic("Patches").generateReplacementPatches_(n[Aa].base_,e,t.patches_,t.inversePatches_)):e=Dg(t,n,[]),Kb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==a_?e:void 0}function Dg(e,t,n){if(mx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Aa];if(!i)return Pg(t,(a,s)=>jj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Tg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Pg(s,(l,c)=>jj(e,i,a,l,c,n,o),r),Tg(e,a,!1),n&&e.patches_&&Ic("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function jj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=mx(i);if(!(o&&!s)){if(ed(i)){const l=a&&t&&t.type_!==3&&!Hb(t.assigned_,r)?a.concat(r):void 0,c=Dg(e,i,l);if(o_(n,r,c),ed(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Oc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;Dg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Mm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Tg(e,i)}}}function Tg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Lk(t,n)}function $H(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:l_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=$k;n&&(i=[r],a=nm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var $k={get(e,t){if(t===Aa)return e;const n=tc(e);if(!Hb(n,t))return FH(e,n,t);const r=n[t];return e.finalized_||!Oc(r)?r:r===_v(e.base_,t)?(Lv(e),e.copy_[t]=Xb(r,e)):r},has(e,t){return t in tc(e)},ownKeys(e){return Reflect.ownKeys(tc(e))},set(e,t,n){const r=c_(tc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_v(tc(e),t),a=i==null?void 0:i[Aa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(MH(n,i)&&(n!==void 0||Hb(e.base_,t)))return!0;Lv(e),Yb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _v(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lv(e),Yb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){cs(11)},getPrototypeOf(e){return em(e.base_)},setPrototypeOf(){cs(12)}},nm={};Pg($k,(e,t)=>{nm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nm.deleteProperty=function(e,t){return nm.set.call(this,e,t,void 0)};nm.set=function(e,t,n){return $k.set.call(this,e[0],t,n,e[0])};function _v(e,t){const n=e[Aa];return(n?tc(n):e)[t]}function FH(e,t,n){var i;const r=c_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function c_(e,t){if(!(t in e))return;let n=em(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=em(n)}}function Yb(e){e.modified_||(e.modified_=!0,e.parent_&&Yb(e.parent_))}function Lv(e){e.copy_||(e.copy_=qb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var RH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&cs(6),r!==void 0&&typeof r!="function"&&cs(7);let i;if(Oc(t)){const a=Nj(this),s=Xb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Kb(a):Gb(a)}return Sj(a,r),Cj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===a_&&(i=void 0),this.autoFreeze_&&Lk(i,!0),r){const a=[],s=[];Ic("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else cs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oc(e)||cs(8),ed(e)&&(e=BH(e));const t=Nj(this),n=Xb(e,void 0);return n[Aa].isManual_=!0,Gb(t),n}finishDraft(e,t){const n=e&&e[Aa];(!n||!n.isManual_)&&cs(9);const{scope_:r}=n;return Sj(r,t),Cj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ic("Patches").applyPatches_;return ed(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Xb(e,t){const n=Mm(e)?Ic("MapSet").proxyMap_(e,t):fx(e)?Ic("MapSet").proxySet_(e,t):$H(e,t);return(t?t.scope_:l_()).drafts_.push(n),n}function BH(e){return ed(e)||cs(10,e),u_(e)}function u_(e){if(!Oc(e)||mx(e))return e;const t=e[Aa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=qb(e,!0);return Pg(n,(i,a)=>{o_(n,i,u_(a))},r),t&&(t.finalized_=!1),n}var zH=new RH;zH.produce;var UH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},d_=la({name:"legend",initialState:UH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ms(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:lr()},removeLegendPayload:{reducer(e,t){var n=ms(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:lr()}}}),{setLegendSize:Aj,setLegendSettings:VH,addLegendPayload:f_,replaceLegendPayload:m_,removeLegendPayload:h_}=d_.actions,WH=d_.reducer,HH=["contextPayload"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function Pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){if(e==null)return{};var n,r,i=XH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QH(e){return e.value}function ZH(e){var{contextPayload:t}=e,n=YH(e,HH),r=nI(t,e.payloadUniqBy,QH),i=td(td({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(aW,i)}function JH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),td(td({},c),d)}function e7(e){var t=er();return v.useEffect(()=>{t(VH(e))},[t,e]),null}function t7(e){var t=er();return v.useEffect(()=>(t(Aj(e)),()=>{t(Aj({width:0,height:0}))}),[t,e]),null}function n7(e,t,n,r){return e==="vertical"&&Pt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var r7={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function p_(e){var t=Gr(e,r7),n=VW(),r=J8(),i=DH(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=hI([n]),f=Ik(),h=_k();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=n7(t.layout,s,a,m),g=l?o:td(td({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},JH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(e7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(t7,{width:c.width,height:c.height}),v.createElement(ZH,Qb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return md.createPortal(x,y)}p_.displayName="Legend";function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){i7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o7(e){return Array.isArray(e)&&Ks(e[0])&&Ks(e[1])?e.join(" ~ "):e}var l7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},S=(o?G0(a,o):a).map((j,E)=>{if(j.type==="none")return null;var $=j.formatter||s||o7,{value:D,name:_}=j,O=D,G=_;if($){var Q=$(D,_,j,E,a);if(Array.isArray(Q))[O,G]=Q;else if(Q!=null)O=Q;else return null}var ce=$v({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ce},Ks(G)?v.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Ks(G)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},S)}return null},p=$v({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=$v({margin:0},i),y=!Kr(d),x=y?d:"",w=In("recharts-default-tooltip",l),b=In("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Zb({className:w,style:p},N),v.createElement("p",{className:b,style:g},v.isValidElement(x)?x:"".concat(x)),m())},Ud="recharts-tooltip-wrapper",c7={visibility:"hidden"};function u7(e){var{coordinate:t,translateX:n,translateY:r}=e;return In(Ud,{["".concat(Ud,"-right")]:Pt(n)&&t&&Pt(t.x)&&n>=t.x,["".concat(Ud,"-left")]:Pt(n)&&t&&Pt(t.x)&&n<t.x,["".concat(Ud,"-bottom")]:Pt(r)&&t&&Pt(t.y)&&r>=t.y,["".concat(Ud,"-top")]:Pt(r)&&t&&Pt(t.y)&&r<t.y})}function Tj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Pt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function d7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function f7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=Tj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Tj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=d7({translateX:d,translateY:f,useTranslate3d:o})):c=c7,{cssProperties:c,cssClasses:u7({translateX:d,translateY:f,coordinate:n})}}function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){Jb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jb(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class p7 extends v.PureComponent{constructor(){super(...arguments),Jb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:b}=f7({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),N=x?{}:Xh(Xh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Xh(Xh({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:C,ref:y},a)}}var g_=()=>{var e;return(e=Ct(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ij={curveBasisClosed:vV,curveBasisOpen:yV,curveBasis:xV,curveBumpX:rV,curveBumpY:iV,curveLinearClosed:bV,curveLinear:B0,curveMonotoneX:wV,curveMonotoneY:kV,curveNatural:SV,curveStep:NV,curveStepAfter:jV,curveStepBefore:CV},Eg=e=>Ur(e.x)&&Ur(e.y),_j=e=>e.base!=null&&Eg(e.base)&&Eg(e),Vd=e=>e.x,Wd=e=>e.y,y7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(jm(e));return(n==="curveMonotone"||n==="curveBump")&&t?Ij["".concat(n).concat(t==="vertical"?"Y":"X")]:Ij[n]||B0},b7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=y7(t,i),o=a?n.filter(Eg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>Oj(Oj({},m),{},{base:r[p]}));i==="vertical"?l=Uh().y(Wd).x1(Vd).x0(m=>m.base.x):l=Uh().x(Vd).y1(Wd).y0(m=>m.base.y);var d=l.defined(_j).curve(s),f=a?c.filter(_j):c;return d(f)}i==="vertical"&&Pt(r)?l=Uh().y(Wd).x1(Vd).x0(r):Pt(r)?l=Uh().x(Vd).y1(Wd).y0(r):l=w5().x(Vd).y(Wd);var h=l.defined(Eg).curve(s);return h(o)},Fk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Em();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?b7(s):r;return v.createElement("path",ew({},Ka(e),hk(e),{className:In("recharts-curve",t),d:o===null?void 0:o,ref:i}))},w7=["x","y","top","left","width","height","className"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(n),!0).forEach(function(r){S7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S7(e,t,n){return(t=N7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j7(e,t){if(e==null)return{};var n,r,i=A7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P7=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),D7=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=j7(e,w7),c=k7({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Pt(t)||!Pt(n)||!Pt(a)||!Pt(s)||!Pt(r)||!Pt(i)?null:v.createElement("path",tw({},Bi(c),{className:In("recharts-cross",o),d:P7(t,n,a,s,r,i)}))};function T7(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){E7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E7(e,t,n){return(t=M7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),x_=(e,t,n)=>e.map(r=>"".concat(I7(r)," ").concat(t,"ms ").concat(n)).join(","),_7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),rm=(e,t)=>Object.keys(t).reduce((n,r)=>Fj(Fj({},n),{},{[r]:e(r,t[r])}),{});function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return(t=$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $7(e){var t=F7(e,"string");return typeof t=="symbol"?t:t+""}function F7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mg=(e,t,n)=>e+(t-e)*n,nw=e=>{var{from:t,to:n}=e;return t!==n},v_=(e,t,n)=>{var r=rm((i,a)=>{if(nw(a)){var[s,o]=e(a.from,a.to,a.velocity);return Hr(Hr({},a),{},{from:s,velocity:o})}return a},t);return n<1?rm((i,a)=>nw(a)&&r[i]!=null?Hr(Hr({},a),{},{velocity:Mg(a.velocity,r[i].velocity,n),from:Mg(a.from,r[i].from,n)}):a,t):v_(e,r,n-1)};function R7(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Hr(Hr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>rm((h,m)=>m.from,o),c=()=>!Object.values(o).filter(nw).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=v_(n,o,p),i(Hr(Hr(Hr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function B7(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Hr(Hr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=rm((g,y)=>Mg(...y,n(h)),l);if(a(Hr(Hr(Hr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=rm((g,y)=>Mg(...y,n(1)),l);a(Hr(Hr(Hr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const z7=(e,t,n,r,i,a)=>{var s=_7(e,t);return n==null?()=>(i(Hr(Hr({},e),t)),()=>{}):n.isStepper===!0?R7(e,t,n,s,i,a):B7(e,t,n,r,s,i,a)};var Og=1e-4,y_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],b_=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Bj=(e,t)=>n=>{var r=y_(e,t);return b_(r,n)},U7=(e,t)=>n=>{var r=y_(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return b_(i,n)},V7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},W7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=V7(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},H7=(e,t,n,r)=>{var i=Bj(e,n),a=Bj(t,r),s=U7(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<Og||p<Og)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},zj=function(){return H7(...W7(...arguments))},q7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<Og&&Math.abs(f)<Og?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},K7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zj(e);case"spring":return q7();default:if(e.split("(")[0]==="cubic-bezier")return zj(e)}return typeof e=="function"?e:null};function G7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Y7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function X7(){return G7(new Y7)}var Q7=v.createContext(X7);function Z7(e,t){var n=v.useContext(Q7);return v.useMemo(()=>t??n(e),[e,t,n])}var J7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hx={isSsr:J7()},eq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Uj={t:0},Fv={t:1};function px(e){var t=Gr(e,eq),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!hx.isSsr:n,f=Z7(t.animationId,t.animationManager),[h,m]=v.useState(d?Uj:Fv),p=v.useRef(null);return v.useEffect(()=>{d||m(Fv)},[d]),v.useEffect(()=>{if(!d||!r)return Am;var g=z7(Uj,Fv,K7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function gx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Xf(t)),r=v.useRef(e);return r.current!==e&&(n.current=Xf(t),r.current=e),n.current}var tq=["radius"],nq=["radius"],Vj,Wj,Hj,qj,Kj,Gj,Yj,Xj,Qj,Zj;function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){rq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rq(e,t,n){return(t=iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ig.apply(null,arguments)}function tA(e,t){if(e==null)return{};var n,r,i=sq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Is(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nA=(e,t,n,r,i)=>{var a=pl(n),s=pl(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Sr(Vj||(Vj=Is(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Sr(Wj||(Wj=Is(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Sr(Hj||(Hj=Is(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Sr(qj||(qj=Is(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Sr(Kj||(Kj=Is(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Sr(Gj||(Gj=Is(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Sr(Yj||(Yj=Is(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Sr(Xj||(Xj=Is(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Sr(Qj||(Qj=Is(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=Sr(Zj||(Zj=Is(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},rA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w_=e=>{var t=Gr(e,rA),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=v.useRef(o),x=v.useRef(l),w=v.useRef(a),b=v.useRef(s),N=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=gx(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=In("recharts-rectangle",d);if(!g){var j=Bi(t),{radius:E}=j,$=tA(j,tq);return v.createElement("path",Ig({},$,{x:pl(a),y:pl(s),width:pl(o),height:pl(l),radius:typeof c=="number"?c:void 0,className:S,d:nA(a,s,o,l,c)}))}var D=y.current,_=x.current,O=w.current,G=b.current,Q="0px ".concat(r===-1?1:r,"px"),ce="".concat(r,"px 0px"),pe=x_(["strokeDasharray"],h,typeof f=="string"?f:rA.animationEasing);return v.createElement(px,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},X=>{var W=ji(D,o,X),ue=ji(_,l,X),M=ji(O,a,X),A=ji(G,s,X);n.current&&(y.current=W,x.current=ue,w.current=M,b.current=A);var ae;p?X>0?ae={transition:pe,strokeDasharray:ce}:ae={strokeDasharray:Q}:ae={strokeDasharray:ce};var k=Bi(t),{radius:z}=k,U=tA(k,nq);return v.createElement("path",Ig({},U,{radius:typeof c=="number"?c:void 0,className:S,d:nA(M,A,W,ue,c),ref:n,style:eA(eA({},ae),t.style)}))})};function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _g=Math.PI/180,uq=e=>e*180/Math.PI,Br=(e,t,n,r)=>({x:e+Math.cos(-_g*r)*n,y:t+Math.sin(-_g*r)*n}),k_=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dq=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},fq=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=dq({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:uq(l),angleInRadian:l}},mq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},hq=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},pq=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=fq({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=mq(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?aA(aA({},t),{},{radius:i,angle:hq(d,t)}):null};function S_(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Br(t,n,r,i),o=Br(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var sA,oA,lA,cA,uA,dA,fA;function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(null,arguments)}function uc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gq=(e,t)=>{var n=Ai(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Qh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/_g,f=l?i:i+a*d,h=Br(t,n,c,f),m=Br(t,n,r,f),p=l?i-a*d:i,g=Br(t,n,c*Math.cos(d*_g),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},N_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=gq(a,s),l=a+o,c=Br(t,n,i,a),d=Br(t,n,i,l),f=Sr(sA||(sA=uc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Br(t,n,r,a),m=Br(t,n,r,l);f+=Sr(oA||(oA=uc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Sr(lA||(lA=uc(["L ",","," Z"])),t,n);return f},xq=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Ai(c-l),{circleTangency:f,lineTangency:h,theta:m}=Qh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Qh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(x<0)return s?Sr(cA||(cA=uc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):N_({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w=Sr(uA||(uA=uc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:b,lineTangency:N,theta:C}=Qh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:j,theta:E}=Qh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),$=o?Math.abs(l-c):Math.abs(l-c)-C-E;if($<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=Sr(dA||(dA=uc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),S.x,S.y,r,r,+($>180),+(d>0),b.x,b.y,a,a,+(d<0),N.x,N.y)}else w+=Sr(fA||(fA=uc(["L",",","Z"])),t,n);return w},vq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C_=e=>{var t=Gr(e,vq),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=In("recharts-sector",f),m=a-i,p=Sa(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=xq({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=N_({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",rw({},Bi(t),{className:h,d:g}))};function yq(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if($5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Br(r,i,a,o),c=Br(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return S_(t)}}var j_={},A_={},P_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(P_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(A_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,n=A_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(j_);var bq=j_.range;const D_=ws(bq);function Cl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rk(e){let t,n,r;e.length!==2?(t=Cl,n=(o,l)=>Cl(e(o),l),r=(o,l)=>e(o)-l):(t=e===Cl||e===wq?e:kq,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function kq(){return 0}function T_(e){return e===null?NaN:+e}function*Sq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Nq=Rk(Cl),Om=Nq.right;Rk(T_).center;class mA extends Map{constructor(t,n=Aq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(hA(this,t))}has(t){return super.has(hA(this,t))}set(t,n){return super.set(Cq(this,t),n)}delete(t){return super.delete(jq(this,t))}}function hA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Cq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function jq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Aq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pq(e=Cl){if(e===Cl)return E_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function E_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dq=Math.sqrt(50),Tq=Math.sqrt(10),Eq=Math.sqrt(2);function Lg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Dq?10:a>=Tq?5:a>=Eq?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Lg(e,t,n*2):[o,l,c]}function iw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Lg(t,e,n):Lg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function aw(e,t,n){return t=+t,e=+e,n=+n,Lg(e,t,n)[2]}function sw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?aw(t,e,n):aw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function pA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function M_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?E_:Pq(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));M_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Hd(e,n,t),i(e[r],a)>0&&Hd(e,n,r);s<o;){for(Hd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Hd(e,n,o):(++o,Hd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Hd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Mq(e,t,n){if(e=Float64Array.from(Sq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return gA(e);if(t>=1)return pA(e);var r,i=(r-1)*t,a=Math.floor(i),s=pA(M_(e,a).subarray(0,a+1)),o=gA(e.subarray(a+1));return s+(o-s)*(i-a)}}function Oq(e,t,n=T_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Iq(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ow=Symbol("implicit");function Bk(){var e=new mA,t=[],n=[],r=ow;function i(a){let s=e.get(a);if(s===void 0){if(r!==ow)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new mA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Bk(t,n).unknown(r)},Xa.apply(i,arguments),i}function zk(){var e=Bk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=Iq(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Xa.apply(f(),arguments)}function O_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return O_(t())},e}function _q(){return O_(zk.apply(null,arguments).paddingInner(1))}function Uk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function I_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Im(){}var im=.7,$g=1/im,Bu="\\s*([+-]?\\d+)\\s*",am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lq=/^#([0-9a-f]{3,8})$/,$q=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),Fq=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),Rq=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${am}\\)$`),Bq=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${am}\\)$`),zq=new RegExp(`^hsl\\(${am},${Ws},${Ws}\\)$`),Uq=new RegExp(`^hsla\\(${am},${Ws},${Ws},${am}\\)$`),xA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uk(Im,sm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vA,formatHex:vA,formatHex8:Vq,formatHsl:Wq,formatRgb:yA,toString:yA});function vA(){return this.rgb().formatHex()}function Vq(){return this.rgb().formatHex8()}function Wq(){return __(this).formatHsl()}function yA(){return this.rgb().formatRgb()}function sm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Lq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bA(t):n===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$q.exec(e))?new ta(t[1],t[2],t[3],1):(t=Fq.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rq.exec(e))?Zh(t[1],t[2],t[3],t[4]):(t=Bq.exec(e))?Zh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zq.exec(e))?SA(t[1],t[2]/100,t[3]/100,1):(t=Uq.exec(e))?SA(t[1],t[2]/100,t[3]/100,t[4]):xA.hasOwnProperty(e)?bA(xA[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function bA(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function Zh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ta(e,t,n,r)}function Hq(e){return e instanceof Im||(e=sm(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function lw(e,t,n,r){return arguments.length===1?Hq(e):new ta(e,t,n,r??1)}function ta(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Uk(ta,lw,I_(Im,{brighter(e){return e=e==null?$g:Math.pow($g,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?im:Math.pow(im,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(bc(this.r),bc(this.g),bc(this.b),Fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wA,formatHex:wA,formatHex8:qq,formatRgb:kA,toString:kA}));function wA(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function qq(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const e=Fg(this.opacity);return`${e===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${e===1?")":`, ${e})`}`}function Fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dc(e){return e=bc(e),(e<16?"0":"")+e.toString(16)}function SA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new us(e,t,n,r)}function __(e){if(e instanceof us)return new us(e.h,e.s,e.l,e.opacity);if(e instanceof Im||(e=sm(e)),!e)return new us;if(e instanceof us)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new us(s,o,l,e.opacity)}function Kq(e,t,n,r){return arguments.length===1?__(e):new us(e,t,n,r??1)}function us(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Uk(us,Kq,I_(Im,{brighter(e){return e=e==null?$g:Math.pow($g,e),new us(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?im:Math.pow(im,e),new us(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ta(Rv(e>=240?e-240:e+120,i,r),Rv(e,i,r),Rv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new us(NA(this.h),Jh(this.s),Jh(this.l),Fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fg(this.opacity);return`${e===1?"hsl(":"hsla("}${NA(this.h)}, ${Jh(this.s)*100}%, ${Jh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NA(e){return e=(e||0)%360,e<0?e+360:e}function Jh(e){return Math.max(0,Math.min(1,e||0))}function Rv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vk=e=>()=>e;function Gq(e,t){return function(n){return e+n*t}}function Yq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Xq(e){return(e=+e)==1?L_:function(t,n){return n-t?Yq(t,n,e):Vk(isNaN(t)?n:t)}}function L_(e,t){var n=t-e;return n?Gq(e,n):Vk(isNaN(e)?t:e)}const CA=function e(t){var n=Xq(t);function r(i,a){var s=n((i=lw(i)).r,(a=lw(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=L_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function Qq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Zq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=hd(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function eK(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Rg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function tK(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hd(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var cw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bv=new RegExp(cw.source,"g");function nK(e){return function(){return e}}function rK(e){return function(t){return e(t)+""}}function iK(e,t){var n=cw.lastIndex=Bv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=cw.exec(e))&&(i=Bv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Rg(r,i)})),n=Bv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?rK(l[0].x):nK(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function hd(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vk(t):(n==="number"?Rg:n==="string"?(r=sm(t))?(t=r,CA):iK:t instanceof sm?CA:t instanceof Date?eK:Zq(t)?Qq:Array.isArray(t)?Jq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?tK:Rg)(e,t)}function Wk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function aK(e,t){t===void 0&&(t=e,e=hd);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function sK(e){return function(){return e}}function Bg(e){return+e}var jA=[0,1];function Fi(e){return e}function uw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sK(isNaN(t)?NaN:.5)}function oK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function lK(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=uw(i,r),a=n(s,a)):(r=uw(r,i),a=n(a,s)),function(o){return a(r(o))}}function cK(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=uw(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Om(e,o,1,r)-1;return a[l](i[l](o))}}function _m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xx(){var e=jA,t=jA,n=hd,r,i,a,s=Fi,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Fi&&(s=oK(e[0],e[h-1])),o=h>2?cK:lK,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),Rg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Bg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=Wk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Fi,d()):s!==Fi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function Hk(){return xx()(Fi,Fi)}function uK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nd(e){return e=zg(Math.abs(e)),e?e[1]:NaN}function dK(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function fK(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function om(e){if(!(t=mK.exec(e)))throw new Error("invalid format: "+e);var t;return new qk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}om.prototype=qk.prototype;function qk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hK(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ug;function pK(e,t){var n=zg(e,t);if(!n)return Ug=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(Ug=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+zg(e,Math.max(0,t+a-1))[0]}function AA(e,t){var n=zg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const PA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:uK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AA(e*100,t),r:AA,s:pK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DA(e){return e}var TA=Array.prototype.map,EA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gK(e){var t=e.grouping===void 0||e.thousands===void 0?DA:dK(TA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?DA:fK(TA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=om(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,x=f.zero,w=f.width,b=f.comma,N=f.precision,C=f.trim,S=f.type;S==="n"?(b=!0,S="g"):PA[S]||(N===void 0&&(N=12),C=!0,S="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),E=(y==="$"?r:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),$=PA[S],D=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function _(O){var G=j,Q=E,ce,pe,X;if(S==="c")Q=$(O)+Q,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?l:$(Math.abs(O),N),C&&(O=hK(O)),W&&+O==0&&g!=="+"&&(W=!1),G=(W?g==="("?g:o:g==="-"||g==="("?"":g)+G,Q=(S==="s"&&!isNaN(O)&&Ug!==void 0?EA[8+Ug/3]:"")+Q+(W&&g==="("?")":""),D){for(ce=-1,pe=O.length;++ce<pe;)if(X=O.charCodeAt(ce),48>X||X>57){Q=(X===46?i+O.slice(ce+1):O.slice(ce))+Q,O=O.slice(0,ce);break}}}b&&!x&&(O=t(O,1/0));var ue=G.length+O.length+Q.length,M=ue<w?new Array(w-ue+1).join(m):"";switch(b&&x&&(O=t(M+O,M.length?w-Q.length:1/0),M=""),p){case"<":O=G+O+Q+M;break;case"=":O=G+M+O+Q;break;case"^":O=M.slice(0,ue=M.length>>1)+G+O+Q+M.slice(ue);break;default:O=M+G+O+Q;break}return a(O)}return _.toString=function(){return f+""},_}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(nd(h)/3)))*3,p=Math.pow(10,-m),g=c((f=om(f),f.type="f",f),{suffix:EA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var ep,Kk,$_;xK({thousands:",",grouping:[3],currency:["$",""]});function xK(e){return ep=gK(e),Kk=ep.format,$_=ep.formatPrefix,ep}function vK(e){return Math.max(0,-nd(Math.abs(e)))}function yK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nd(t)/3)))*3-nd(Math.abs(e)))}function bK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nd(t)-nd(e))+1}function F_(e,t,n,r){var i=sw(e,t,n),a;switch(r=om(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=yK(i,s))&&(r.precision=a),$_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=bK(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=vK(i))&&(r.precision=a-(r.type==="%")*2);break}}return Kk(r)}function $l(e){var t=e.domain;return e.ticks=function(n){var r=t();return iw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return F_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=aw(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function R_(){var e=Hk();return e.copy=function(){return _m(e,R_())},Xa.apply(e,arguments),$l(e)}function B_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Bg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return B_(e).unknown(t)},e=arguments.length?Array.from(e,Bg):[0,1],$l(n)}function z_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function MA(e){return Math.log(e)}function OA(e){return Math.exp(e)}function wK(e){return-Math.log(-e)}function kK(e){return-Math.exp(-e)}function SK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NK(e){return e===10?SK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IA(e){return(t,n)=>-e(-t,n)}function Gk(e){const t=e(MA,OA),n=t.domain;let r=10,i,a;function s(){return i=CK(r),a=NK(r),n()[0]<0?(i=IA(i),a=IA(a),e(wK,kK)):e(MA,OA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=iw(c,d,y))}else x=iw(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=om(l)).precision==null&&(l.trim=!0),l=Kk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(z_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function U_(){const e=Gk(xx()).domain([1,10]);return e.copy=()=>_m(e,U_()).base(e.base()),Xa.apply(e,arguments),e}function _A(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yk(e){var t=1,n=e(_A(t),LA(t));return n.constant=function(r){return arguments.length?e(_A(t=+r),LA(t)):t},$l(n)}function V_(){var e=Yk(xx());return e.copy=function(){return _m(e,V_()).constant(e.constant())},Xa.apply(e,arguments)}function $A(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function AK(e){return e<0?-e*e:e*e}function Xk(e){var t=e(Fi,Fi),n=1;function r(){return n===1?e(Fi,Fi):n===.5?e(jK,AK):e($A(n),$A(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},$l(t)}function Qk(){var e=Xk(xx());return e.copy=function(){return _m(e,Qk()).exponent(e.exponent())},Xa.apply(e,arguments),e}function PK(){return Qk.apply(null,arguments).exponent(.5)}function FA(e){return Math.sign(e)*e*e}function DK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function W_(){var e=Hk(),t=[0,1],n=!1,r;function i(a){var s=DK(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(FA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Bg)).map(FA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return W_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Xa.apply(i,arguments),$l(i)}function H_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Oq(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Om(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Cl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return H_().domain(e).range(t).unknown(r)},Xa.apply(a,arguments)}function q_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Om(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return q_().domain([e,t]).range(i).unknown(a)},Xa.apply($l(s),arguments)}function K_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Om(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return K_().domain(e).range(t).unknown(n)},Xa.apply(i,arguments)}const zv=new Date,Uv=new Date;function Yr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Yr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(zv.setTime(+a),Uv.setTime(+s),e(zv),e(Uv),Math.floor(n(zv,Uv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Vg=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vg);Vg.range;const ho=1e3,Va=ho*60,po=Va*60,Po=po*24,Zk=Po*7,RA=Po*30,Vv=Po*365,fc=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCSeconds());fc.range;const Jk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ho)},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getMinutes());Jk.range;const eS=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCMinutes());eS.range;const tS=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ho-e.getMinutes()*Va)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getHours());tS.range;const nS=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCHours());nS.range;const Lm=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Va)/Po,e=>e.getDate()-1);Lm.range;const vx=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Po,e=>e.getUTCDate()-1);vx.range;const G_=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Po,e=>Math.floor(e/Po));G_.range;function Uc(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Va)/Zk)}const yx=Uc(0),Wg=Uc(1),TK=Uc(2),EK=Uc(3),rd=Uc(4),MK=Uc(5),OK=Uc(6);yx.range;Wg.range;TK.range;EK.range;rd.range;MK.range;OK.range;function Vc(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Zk)}const bx=Vc(0),Hg=Vc(1),IK=Vc(2),_K=Vc(3),id=Vc(4),LK=Vc(5),$K=Vc(6);bx.range;Hg.range;IK.range;_K.range;id.range;LK.range;$K.range;const rS=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rS.range;const iS=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iS.range;const Do=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Do.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Do.range;const To=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});To.range;function Y_(e,t,n,r,i,a){const s=[[fc,1,ho],[fc,5,5*ho],[fc,15,15*ho],[fc,30,30*ho],[a,1,Va],[a,5,5*Va],[a,15,15*Va],[a,30,30*Va],[i,1,po],[i,3,3*po],[i,6,6*po],[i,12,12*po],[r,1,Po],[r,2,2*Po],[n,1,Zk],[t,1,RA],[t,3,3*RA],[e,1,Vv]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=Rk(([,,y])=>y).right(s,h);if(m===s.length)return e.every(sw(c/Vv,d/Vv,f));if(m===0)return Vg.every(Math.max(sw(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[FK,RK]=Y_(To,iS,bx,G_,nS,eS),[BK,zK]=Y_(Do,rS,yx,Lm,tS,Jk);function Wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function UK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Kd(i),d=Gd(i),f=Kd(a),h=Gd(a),m=Kd(s),p=Gd(s),g=Kd(o),y=Gd(o),x=Kd(l),w=Gd(l),b={a:X,A:W,b:ue,B:M,c:null,d:HA,e:HA,f:dG,g:wG,G:SG,H:lG,I:cG,j:uG,L:X_,m:fG,M:mG,p:A,q:ae,Q:GA,s:YA,S:hG,u:pG,U:gG,V:xG,w:vG,W:yG,x:null,X:null,y:bG,Y:kG,Z:NG,"%":KA},N={a:k,A:z,b:U,B:J,c:null,d:qA,e:qA,f:PG,g:FG,G:BG,H:CG,I:jG,j:AG,L:Z_,m:DG,M:TG,p:Z,q:ie,Q:GA,s:YA,S:EG,u:MG,U:OG,V:IG,w:_G,W:LG,x:null,X:null,y:$G,Y:RG,Z:zG,"%":KA},C={a:D,A:_,b:O,B:G,c:Q,d:VA,e:VA,f:iG,g:UA,G:zA,H:WA,I:WA,j:eG,L:rG,m:JK,M:tG,p:$,q:ZK,Q:sG,s:oG,S:nG,u:KK,U:GK,V:YK,w:qK,W:XK,x:ce,X:pe,y:UA,Y:zA,Z:QK,"%":aG};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(F,B){return function(V){var Y=[],R=-1,oe=0,q=F.length,te,Oe,Ie;for(V instanceof Date||(V=new Date(+V));++R<q;)F.charCodeAt(R)===37&&(Y.push(F.slice(oe,R)),(Oe=BA[te=F.charAt(++R)])!=null?te=F.charAt(++R):Oe=te==="e"?" ":"0",(Ie=B[te])&&(te=Ie(V,Oe)),Y.push(te),oe=R+1);return Y.push(F.slice(oe,R)),Y.join("")}}function j(F,B){return function(V){var Y=qd(1900,void 0,1),R=E(Y,F,V+="",0),oe,q;if(R!=V.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(B&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(oe=Hv(qd(Y.y,0,1)),q=oe.getUTCDay(),oe=q>4||q===0?Hg.ceil(oe):Hg(oe),oe=vx.offset(oe,(Y.V-1)*7),Y.y=oe.getUTCFullYear(),Y.m=oe.getUTCMonth(),Y.d=oe.getUTCDate()+(Y.w+6)%7):(oe=Wv(qd(Y.y,0,1)),q=oe.getDay(),oe=q>4||q===0?Wg.ceil(oe):Wg(oe),oe=Lm.offset(oe,(Y.V-1)*7),Y.y=oe.getFullYear(),Y.m=oe.getMonth(),Y.d=oe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),q="Z"in Y?Hv(qd(Y.y,0,1)).getUTCDay():Wv(qd(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(q+5)%7:Y.w+Y.U*7-(q+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Hv(Y)):Wv(Y)}}function E(F,B,V,Y){for(var R=0,oe=B.length,q=V.length,te,Oe;R<oe;){if(Y>=q)return-1;if(te=B.charCodeAt(R++),te===37){if(te=B.charAt(R++),Oe=C[te in BA?B.charAt(R++):te],!Oe||(Y=Oe(F,V,Y))<0)return-1}else if(te!=V.charCodeAt(Y++))return-1}return Y}function $(F,B,V){var Y=c.exec(B.slice(V));return Y?(F.p=d.get(Y[0].toLowerCase()),V+Y[0].length):-1}function D(F,B,V){var Y=m.exec(B.slice(V));return Y?(F.w=p.get(Y[0].toLowerCase()),V+Y[0].length):-1}function _(F,B,V){var Y=f.exec(B.slice(V));return Y?(F.w=h.get(Y[0].toLowerCase()),V+Y[0].length):-1}function O(F,B,V){var Y=x.exec(B.slice(V));return Y?(F.m=w.get(Y[0].toLowerCase()),V+Y[0].length):-1}function G(F,B,V){var Y=g.exec(B.slice(V));return Y?(F.m=y.get(Y[0].toLowerCase()),V+Y[0].length):-1}function Q(F,B,V){return E(F,t,B,V)}function ce(F,B,V){return E(F,n,B,V)}function pe(F,B,V){return E(F,r,B,V)}function X(F){return s[F.getDay()]}function W(F){return a[F.getDay()]}function ue(F){return l[F.getMonth()]}function M(F){return o[F.getMonth()]}function A(F){return i[+(F.getHours()>=12)]}function ae(F){return 1+~~(F.getMonth()/3)}function k(F){return s[F.getUTCDay()]}function z(F){return a[F.getUTCDay()]}function U(F){return l[F.getUTCMonth()]}function J(F){return o[F.getUTCMonth()]}function Z(F){return i[+(F.getUTCHours()>=12)]}function ie(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var B=S(F+="",b);return B.toString=function(){return F},B},parse:function(F){var B=j(F+="",!1);return B.toString=function(){return F},B},utcFormat:function(F){var B=S(F+="",N);return B.toString=function(){return F},B},utcParse:function(F){var B=j(F+="",!0);return B.toString=function(){return F},B}}}var BA={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,VK=/^%/,WK=/[\\^$*+?|[\]().{}]/g;function Mn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function HK(e){return e.replace(WK,"\\$&")}function Kd(e){return new RegExp("^(?:"+e.map(HK).join("|")+")","i")}function Gd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function KK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function GK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function YK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function XK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zA(e,t,n){var r=oi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function UA(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ZK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function JK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function VA(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function eG(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function WA(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tG(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nG(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rG(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function iG(e,t,n){var r=oi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aG(e,t,n){var r=VK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function sG(e,t,n){var r=oi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oG(e,t,n){var r=oi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HA(e,t){return Mn(e.getDate(),t,2)}function lG(e,t){return Mn(e.getHours(),t,2)}function cG(e,t){return Mn(e.getHours()%12||12,t,2)}function uG(e,t){return Mn(1+Lm.count(Do(e),e),t,3)}function X_(e,t){return Mn(e.getMilliseconds(),t,3)}function dG(e,t){return X_(e,t)+"000"}function fG(e,t){return Mn(e.getMonth()+1,t,2)}function mG(e,t){return Mn(e.getMinutes(),t,2)}function hG(e,t){return Mn(e.getSeconds(),t,2)}function pG(e){var t=e.getDay();return t===0?7:t}function gG(e,t){return Mn(yx.count(Do(e)-1,e),t,2)}function Q_(e){var t=e.getDay();return t>=4||t===0?rd(e):rd.ceil(e)}function xG(e,t){return e=Q_(e),Mn(rd.count(Do(e),e)+(Do(e).getDay()===4),t,2)}function vG(e){return e.getDay()}function yG(e,t){return Mn(Wg.count(Do(e)-1,e),t,2)}function bG(e,t){return Mn(e.getFullYear()%100,t,2)}function wG(e,t){return e=Q_(e),Mn(e.getFullYear()%100,t,2)}function kG(e,t){return Mn(e.getFullYear()%1e4,t,4)}function SG(e,t){var n=e.getDay();return e=n>=4||n===0?rd(e):rd.ceil(e),Mn(e.getFullYear()%1e4,t,4)}function NG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mn(t/60|0,"0",2)+Mn(t%60,"0",2)}function qA(e,t){return Mn(e.getUTCDate(),t,2)}function CG(e,t){return Mn(e.getUTCHours(),t,2)}function jG(e,t){return Mn(e.getUTCHours()%12||12,t,2)}function AG(e,t){return Mn(1+vx.count(To(e),e),t,3)}function Z_(e,t){return Mn(e.getUTCMilliseconds(),t,3)}function PG(e,t){return Z_(e,t)+"000"}function DG(e,t){return Mn(e.getUTCMonth()+1,t,2)}function TG(e,t){return Mn(e.getUTCMinutes(),t,2)}function EG(e,t){return Mn(e.getUTCSeconds(),t,2)}function MG(e){var t=e.getUTCDay();return t===0?7:t}function OG(e,t){return Mn(bx.count(To(e)-1,e),t,2)}function J_(e){var t=e.getUTCDay();return t>=4||t===0?id(e):id.ceil(e)}function IG(e,t){return e=J_(e),Mn(id.count(To(e),e)+(To(e).getUTCDay()===4),t,2)}function _G(e){return e.getUTCDay()}function LG(e,t){return Mn(Hg.count(To(e)-1,e),t,2)}function $G(e,t){return Mn(e.getUTCFullYear()%100,t,2)}function FG(e,t){return e=J_(e),Mn(e.getUTCFullYear()%100,t,2)}function RG(e,t){return Mn(e.getUTCFullYear()%1e4,t,4)}function BG(e,t){var n=e.getUTCDay();return e=n>=4||n===0?id(e):id.ceil(e),Mn(e.getUTCFullYear()%1e4,t,4)}function zG(){return"+0000"}function KA(){return"%"}function GA(e){return+e}function YA(e){return Math.floor(+e/1e3)}var lu,e3,t3;UG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UG(e){return lu=UK(e),e3=lu.format,lu.parse,t3=lu.utcFormat,lu.utcParse,lu}function VG(e){return new Date(e)}function WG(e){return e instanceof Date?+e:+new Date(+e)}function aS(e,t,n,r,i,a,s,o,l,c){var d=Hk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),w=c("%b %d"),b=c("%B"),N=c("%Y");function C(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?g:a(S)<S?y:r(S)<S?i(S)<S?x:w:n(S)<S?b:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,WG)):h().map(VG)},d.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?C:c(j)},d.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(z_(j,S)):d},d.copy=function(){return _m(d,aS(e,t,n,r,i,a,s,o,l,c))},d}function HG(){return Xa.apply(aS(BK,zK,Do,rS,yx,Lm,tS,Jk,fc,e3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qG(){return Xa.apply(aS(FK,RK,To,iS,bx,vx,nS,eS,fc,t3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wx(){var e=0,t=1,n,r,i,a,s=Fi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(hd),c.rangeRound=d(Wk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function Fl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function n3(){var e=$l(wx()(Fi));return e.copy=function(){return Fl(e,n3())},Lo.apply(e,arguments)}function r3(){var e=Gk(wx()).domain([1,10]);return e.copy=function(){return Fl(e,r3()).base(e.base())},Lo.apply(e,arguments)}function i3(){var e=Yk(wx());return e.copy=function(){return Fl(e,i3()).constant(e.constant())},Lo.apply(e,arguments)}function sS(){var e=Xk(wx());return e.copy=function(){return Fl(e,sS()).exponent(e.exponent())},Lo.apply(e,arguments)}function KG(){return sS.apply(null,arguments).exponent(.5)}function a3(){var e=[],t=Fi;function n(r){if(r!=null&&!isNaN(r=+r))return t((Om(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Cl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Mq(e,a/r))},n.copy=function(){return a3(t).domain(e)},Lo.apply(n,arguments)}function kx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Fi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var x,w,b;return arguments.length?([x,w,b]=y,c=aK(g,[x,w,b]),m):[c(0),c(.5),c(1)]}}return m.range=p(hd),m.rangeRound=p(Wk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function s3(){var e=$l(kx()(Fi));return e.copy=function(){return Fl(e,s3())},Lo.apply(e,arguments)}function o3(){var e=Gk(kx()).domain([.1,1,10]);return e.copy=function(){return Fl(e,o3()).base(e.base())},Lo.apply(e,arguments)}function l3(){var e=Yk(kx());return e.copy=function(){return Fl(e,l3()).constant(e.constant())},Lo.apply(e,arguments)}function oS(){var e=Xk(kx());return e.copy=function(){return Fl(e,oS()).exponent(e.exponent())},Lo.apply(e,arguments)}function GG(){return oS.apply(null,arguments).exponent(.5)}const lf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zk,scaleDiverging:s3,scaleDivergingLog:o3,scaleDivergingPow:oS,scaleDivergingSqrt:GG,scaleDivergingSymlog:l3,scaleIdentity:B_,scaleImplicit:ow,scaleLinear:R_,scaleLog:U_,scaleOrdinal:Bk,scalePoint:_q,scalePow:Qk,scaleQuantile:H_,scaleQuantize:q_,scaleRadial:W_,scaleSequential:n3,scaleSequentialLog:r3,scaleSequentialPow:sS,scaleSequentialQuantile:a3,scaleSequentialSqrt:KG,scaleSequentialSymlog:i3,scaleSqrt:PK,scaleSymlog:V_,scaleThreshold:K_,scaleTime:HG,scaleUtc:qG,tickFormat:F_},Symbol.toStringTag,{value:"Module"}));var Rl=e=>e.chartData,lS=xe([Rl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cS=(e,t,n,r)=>r?lS(e):Rl(e);function Dl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ur(t)&&Ur(n))return!0}return!1}function XA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function c3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Ur(n))i=n;else if(typeof n=="function")return;if(Ur(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Dl(s))return s}}function YG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Dl(r))return XA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Pt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&pj.test(i)){var l=pj.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Pt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&gj.test(a)){var d=gj.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(Dl(h))return t==null?h:XA(h,t,n)}}}var pd=1e9,XG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dS,ur=!0,Ya="[DecimalError] ",wc=Ya+"Invalid argument: ",uS=Ya+"Exponent out of range: ",gd=Math.floor,nc=Math.pow,QG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ya,ri=1e7,rr=7,u3=9007199254740991,qg=gd(u3/rr),wt={};wt.absoluteValue=wt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};wt.comparedTo=wt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*rr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};wt.dividedBy=wt.div=function(e){return vo(this,new this.constructor(e))};wt.dividedToIntegerBy=wt.idiv=function(e){var t=this,n=t.constructor;return Wn(vo(t,new n(e),0,1),n.precision)};wt.equals=wt.eq=function(e){return!this.cmp(e)};wt.exponent=function(){return zr(this)};wt.greaterThan=wt.gt=function(e){return this.cmp(e)>0};wt.greaterThanOrEqualTo=wt.gte=function(e){return this.cmp(e)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(e){return this.cmp(e)<0};wt.lessThanOrEqualTo=wt.lte=function(e){return this.cmp(e)<1};wt.logarithm=wt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ya))throw Error(Ya+"NaN");if(n.s<1)throw Error(Ya+(n.s?"NaN":"-Infinity"));return n.eq(ya)?new r(0):(ur=!1,t=vo(lm(n,a),lm(e,a),a),ur=!0,Wn(t,i))};wt.minus=wt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m3(t,e):d3(t,(e.s=-e.s,e))};wt.modulo=wt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ya+"NaN");return n.s?(ur=!1,t=vo(n,e,0,1).times(e),ur=!0,n.minus(t)):Wn(new r(n),i)};wt.naturalExponential=wt.exp=function(){return f3(this)};wt.naturalLogarithm=wt.ln=function(){return lm(this)};wt.negated=wt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};wt.plus=wt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?d3(t,e):m3(t,(e.s=-e.s,e))};wt.precision=wt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wc+e);if(t=zr(i)+1,r=i.d.length-1,n=r*rr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};wt.squareRoot=wt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ya+"NaN")}for(e=zr(o),ur=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=zs(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=gd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(vo(o,a,s+2)).times(.5),zs(a.d).slice(0,s)===(t=zs(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Wn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return ur=!0,Wn(r,n)};wt.times=wt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ri|0,t=o/ri|0;a[i]=(a[i]+t)%ri|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ur?Wn(e,f.precision):e};wt.toDecimalPlaces=wt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ys(e,0,pd),t===void 0?t=r.rounding:Ys(t,0,8),Wn(n,e+zr(n)+1,t))};wt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=_c(r,!0):(Ys(e,0,pd),t===void 0?t=i.rounding:Ys(t,0,8),r=Wn(new i(r),e+1,t),n=_c(r,!0,e+1)),n};wt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?_c(i):(Ys(e,0,pd),t===void 0?t=a.rounding:Ys(t,0,8),r=Wn(new a(i),e+zr(i)+1,t),n=_c(r.abs(),!1,e+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};wt.toInteger=wt.toint=function(){var e=this,t=e.constructor;return Wn(new t(e),zr(e)+1,t.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ya);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ya+"Infinity");return o}if(o.eq(ya))return o;if(r=l.precision,e.eq(ya))return Wn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=u3){for(i=new l(ya),t=Math.ceil(r/rr+4),ur=!1;n%2&&(i=i.times(o),ZA(i.d,t)),n=gd(n/2),n!==0;)o=o.times(o),ZA(o.d,t);return ur=!0,e.s<0?new l(ya).div(i):Wn(i,r)}}else if(a<0)throw Error(Ya+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,ur=!1,i=e.times(lm(o,r+c)),ur=!0,i=f3(i),i.s=a,i};wt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zr(i),r=_c(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ys(e,1,pd),t===void 0?t=a.rounding:Ys(t,0,8),i=Wn(new a(i),e,t),n=zr(i),r=_c(i,e<=n||n<=a.toExpNeg,e)),r};wt.toSignificantDigits=wt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ys(e,1,pd),t===void 0?t=r.rounding:Ys(t,0,8)),Wn(new r(n),e,t)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zr(e),n=e.constructor;return _c(e,t<=n.toExpNeg||t>=n.toExpPos)};function d3(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ur?Wn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/rr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ri|0,l[a]%=ri;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ur?Wn(t,f):t}function Ys(e,t,n){if(e!==~~e||e<t||e>n)throw Error(wc+e)}function zs(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=rr-r.length,n&&(a+=sl(n)),a+=r;s=e[t],r=s+"",n=rr-r.length,n&&(a+=sl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var vo=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ri|0,s=a/ri|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ri+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,x,w,b,N,C,S,j,E,$=r.constructor,D=r.s==i.s?1:-1,_=r.d,O=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Ya+"Division by zero");for(l=r.e-i.e,j=O.length,C=_.length,m=new $(D),p=m.d=[],c=0;O[c]==(_[c]||0);)++c;if(O[c]>(_[c]||0)&&--l,a==null?w=a=$.precision:s?w=a+(zr(r)-zr(i))+1:w=a,w<0)return new $(0);if(w=w/rr+2|0,c=0,j==1)for(d=0,O=O[0],w++;(c<C||d)&&w--;c++)b=d*ri+(_[c]||0),p[c]=b/O|0,d=b%O|0;else{for(d=ri/(O[0]+1)|0,d>1&&(O=e(O,d),_=e(_,d),j=O.length,C=_.length),N=j,g=_.slice(0,j),y=g.length;y<j;)g[y++]=0;E=O.slice(),E.unshift(0),S=O[0],O[1]>=ri/2&&++S;do d=0,o=t(O,g,j,y),o<0?(x=g[0],j!=y&&(x=x*ri+(g[1]||0)),d=x/S|0,d>1?(d>=ri&&(d=ri-1),f=e(O,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,j<h?E:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(O,g,j,y),o<1&&(d++,n(g,j<y?E:O,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=_[N]||0:(g=[_[N]],y=1);while((N++<C||g[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,Wn(m,s?a+zr(m)+1:a)}}();function f3(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(zr(e)>16)throw Error(uS+zr(e));if(!e.s)return new d(ya);for(ur=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(nc(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(ya),d.precision=o;;){if(i=Wn(i.times(e),o),n=n.times(++l),s=a.plus(vo(i,n,o)),zs(s.d).slice(0,o)===zs(a.d).slice(0,o)){for(;c--;)a=Wn(a.times(a),o);return d.precision=f,t==null?(ur=!0,Wn(a,f)):a}a=s}}function zr(e){for(var t=e.e*rr,n=e.d[0];n>=10;n/=10)t++;return t}function qv(e,t,n){if(t>e.LN10.sd())throw ur=!0,n&&(e.precision=n),Error(Ya+"LN10 precision limit exceeded");return Wn(new e(e.LN10),t)}function sl(e){for(var t="";e--;)t+="0";return t}function lm(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ya+(m.s?"NaN":"-Infinity"));if(m.eq(ya))return new g(0);if(t==null?(ur=!1,c=y):c=t,m.eq(10))return t==null&&(ur=!0),qv(g,c);if(c+=h,g.precision=c,n=zs(p),r=n.charAt(0),a=zr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=zs(m.d),r=n.charAt(0),f++;a=zr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=qv(g,c+2,y).times(a+""),m=lm(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(ur=!0,Wn(m,y)):m;for(o=s=m=vo(m.minus(ya),m.plus(ya),c),d=Wn(m.times(m),c),i=3;;){if(s=Wn(s.times(d),c),l=o.plus(vo(s,new g(i),c)),zs(l.d).slice(0,c)===zs(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(qv(g,c+2,y).times(a+""))),o=vo(o,new g(f),c),g.precision=y,t==null?(ur=!0,Wn(o,y)):o;o=l,i+=2}}function QA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=gd(n/rr),e.d=[],r=(n+1)%rr,n<0&&(r+=rr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=rr;r<i;)e.d.push(+t.slice(r,r+=rr));t=t.slice(r),r=rr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ur&&(e.e>qg||e.e<-qg))throw Error(uS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=rr,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/rr),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=rr,i=r-rr+s}if(n!==void 0&&(a=nc(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/nc(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=zr(e),f.length=1,t=t-a-1,f[0]=nc(10,(rr-t%rr)%rr),e.e=gd(-t/rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=nc(10,rr-r),f[d]=i>0?(c/nc(10,s-i)%nc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ri&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ri)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ur&&(e.e>qg||e.e<-qg))throw Error(uS+zr(e));return e}function m3(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ur?Wn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/rr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ri-1;--l[a],l[i]+=ri}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ur?Wn(t,m):t):new h(0)}function _c(e,t,n){var r,i=zr(e),a=zs(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+sl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+sl(-i-1)+a,n&&(r=n-s)>0&&(a+=sl(r))):i>=s?(a+=sl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+sl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=sl(r))),e.s<0?"-"+a:a}function ZA(e,t){if(e.length>t)return e.length=t,!0}function h3(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return QA(s,a.toString())}else if(typeof a!="string")throw Error(wc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,QG.test(a))QA(s,a);else throw Error(wc+a)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=h3,i.config=i.set=ZG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function ZG(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,n,r,i=["precision",1,pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(gd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(wc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wc+n+": "+r);return this}var dS=h3(XG);ya=new dS(1);const Fn=dS;var JG=e=>e,p3={},g3=e=>e===p3,JA=e=>function t(){return arguments.length===0||arguments.length===1&&g3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},x3=(e,t)=>e===1?t:JA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==p3).length;return a>=e?t(...r):x3(e-a,JA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>g3(d)?o.shift():d);return t(...c,...o)}))}),eY=e=>x3(e.length,e),dw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},tY=eY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),nY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return JG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function v3(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function y3(e,t,n){for(var r=new Fn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var b3=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},w3=(e,t,n)=>{if(e.lte(0))return new Fn(0);var r=v3(e.toNumber()),i=new Fn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Fn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Fn(l.toNumber()):new Fn(Math.ceil(l.toNumber()))},rY=(e,t,n)=>{var r=new Fn(1),i=new Fn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Fn(10).pow(v3(e)-1),i=new Fn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Fn(Math.floor(e)))}else e===0?i=new Fn(Math.floor((t-1)/2)):n||(i=new Fn(Math.floor(e)));var s=Math.floor((t-1)/2),o=nY(tY(l=>i.add(new Fn(l-s).mul(r)).toNumber()),dw);return o(0,t)},k3=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var s=w3(new Fn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Fn(0):(o=new Fn(t).add(n).div(2),o=o.sub(new Fn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Fn(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?k3(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Fn(l).mul(s)),tickMax:o.add(new Fn(c).mul(s))})},iY=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=b3([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...dw(0,i-1).map(()=>1/0)]:[...dw(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return rY(o,i,a);var{step:d,tickMin:f,tickMax:h}=k3(o,l,s,a,0),m=y3(f,h.add(new Fn(.1).mul(d)),d);return n>r?m.reverse():m},aY=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=b3([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=w3(new Fn(o).sub(s).div(l-1),a,0),d=[...y3(new Fn(s),new Fn(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},sY=e=>e.rootProps.barCategoryGap,$m=e=>e.rootProps.stackOffset,S3=e=>e.rootProps.reverseStackOrder,fS=e=>e.options.chartName,mS=e=>e.rootProps.syncId,N3=e=>e.rootProps.syncMethod,hS=e=>e.options.eventEmitter,fi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},va={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},oY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:lo.reversed,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:lo.type,unit:void 0},lY={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},cY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:lo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uY={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:"category",unit:void 0},pS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?cY:oY,gS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uY:lY,Nx=e=>e.polarOptions,xS=xe([Io,_o,si],k_),C3=xe([Nx,xS],(e,t)=>{if(e!=null)return Sa(e.innerRadius,t,0)}),j3=xe([Nx,xS],(e,t)=>{if(e!=null)return Sa(e.outerRadius,t,t*.8)}),dY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},A3=xe([Nx],dY);xe([pS,A3],Sx);var P3=xe([xS,C3,j3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([gS,P3],Sx);var D3=xe([zn,Nx,C3,j3,Io,_o],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Sa(s,i,i/2),cy:Sa(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),dr=(e,t)=>t,Fm=(e,t,n)=>n;function T3(e){return e==null?void 0:e.id}function E3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=T3(o);c.forEach((f,h)=>{var m=a==null||i?h:String(ar(f,a,null)),p=ar(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function vS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Cx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function jx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function fY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Xr=e=>{var t=zn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xd=e=>e.tooltip.settings.axisId;function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(r){mY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mY(e,t,n){return(t=hY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fw=[0,"auto"],ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},M3=(e,t)=>e.cartesianAxis.xAxis[t],$o=(e,t)=>{var n=M3(e,t);return n??ti},ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tm},O3=(e,t)=>e.cartesianAxis.yAxis[t],Fo=(e,t)=>{var n=O3(e,t);return n??ni},gY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??gY},vr=(e,t,n)=>{switch(t){case"xAxis":return $o(e,n);case"yAxis":return Fo(e,n);case"zAxis":return yS(e,n);case"angleAxis":return pS(e,n);case"radiusAxis":return gS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xY=(e,t,n)=>{switch(t){case"xAxis":return $o(e,n);case"yAxis":return Fo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rm=(e,t,n)=>{switch(t){case"xAxis":return $o(e,n);case"yAxis":return Fo(e,n);case"angleAxis":return pS(e,n);case"radiusAxis":return gS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},I3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function bS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var _3=e=>e.graphicalItems.cartesianItems,vY=xe([dr,Fm],bS),wS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Bm=xe([_3,vr,vY],wS,{memoizeOptions:{resultEqualityCheck:jx}}),L3=xe([Bm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(vS)),$3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),yY=xe([Bm],$3),kS=e=>e.map(t=>t.data).filter(Boolean).flat(1),bY=xe([Bm],kS,{memoizeOptions:{resultEqualityCheck:jx}}),SS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},NS=xe([bY,cS],SS),CS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ar(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ar(i,r)}))):e.map(r=>({value:r})),Ax=xe([NS,vr,Bm],CS);function F3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Dp(e){if(Ks(e)||e instanceof Date){var t=Number(e);if(Ur(t))return t}}function tP(e){if(Array.isArray(e)){var t=[Dp(e[0]),Dp(e[1])];return Dl(t)?t:void 0}var n=Dp(e);if(n!=null)return[n,n]}function Eo(e){return e.map(Dp).filter(LV)}function wY(e,t,n){return!n||typeof t!="number"||qs(t)?[]:n.length?Eo(n.flatMap(r=>{var i=ar(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ur(a)||!Ur(s)))return[t-a,t+s]})):[]}var Qr=e=>{var t=Xr(e),n=xd(e);return Rm(e,t,n)},zm=xe([Qr],e=>e==null?void 0:e.dataKey),kY=xe([L3,cS,Qr],E3),R3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(T3);return[o,{stackedData:Z9(e,d,n),graphicalItems:c}]}))},SY=xe([kY,L3,$m,S3],R3),B3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=tH(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},NY=xe([vr],e=>e.allowDataOverflow),jS=e=>{var t;if(e==null||!("domain"in e))return fw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Eo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:fw},AS=xe([vr],jS),PS=xe([AS,NY],c3),CY=xe([SY,Rl,dr,PS],B3,{memoizeOptions:{resultEqualityCheck:Cx}}),Px=e=>e.errorBars,jY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>F3(n,r)),Gg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},DS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>F3(i,x)),h=ar(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=wY(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=tP(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=tP(ar(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Ur(a)&&Ur(s))return[a,s]},AY=xe([NS,vr,yY,Px,dr],DS,{memoizeOptions:{resultEqualityCheck:Cx}});function PY(e){var{value:t}=e;if(Ks(t)||t instanceof Date)return t}var DY=(e,t,n)=>{var r=e.map(PY).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&I5(r))?D_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},z3=e=>e.referenceElements.dots,vd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),TY=xe([z3,dr,Fm],vd),U3=e=>e.referenceElements.areas,EY=xe([U3,dr,Fm],vd),V3=e=>e.referenceElements.lines,MY=xe([V3,dr,Fm],vd),W3=(e,t)=>{if(e!=null){var n=Eo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},OY=xe(TY,dr,W3),H3=(e,t)=>{if(e!=null){var n=Eo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},IY=xe([EY,dr],H3);function _Y(e){var t;if(e.x!=null)return Eo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Eo(n)}function LY(e){var t;if(e.y!=null)return Eo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Eo(n)}var q3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?_Y(r):LY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$Y=xe([MY,dr],q3),FY=xe(OY,$Y,IY,(e,t,n)=>Gg(e,n,t)),TS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Gg(r,a,i):Gg(a,i);return YG(t,c,e.allowDataOverflow)},RY=xe([vr,AS,PS,CY,AY,FY,zn,dr],TS,{memoizeOptions:{resultEqualityCheck:Cx}}),BY=[0,1],ES=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Ll(t,a);if(c&&o==null){var d;return D_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?DY(r,e,c):i==="expand"?BY:s}},MS=xe([vr,zn,NS,Ax,$m,dr,RY],ES),K3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(jm(a));return o in lf?o:"point"}}},yd=xe([vr,zn,I3,fS,dr],K3);function zY(e){if(e!=null){if(e in lf)return lf[e]();var t="scale".concat(jm(e));if(t in lf)return lf[t]()}}function OS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=zY(t);if(i!=null){var a=i.domain(n).range(r);return G9(a),a}}}var IS=(e,t,n)=>{var r=jS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Dl(e))return iY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Dl(e))return aY(e,t.tickCount,t.allowDecimals)}},_S=xe([MS,Rm,yd],IS),LS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Dl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},UY=xe([vr,MS,_S,dr],LS),VY=xe(Ax,vr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Eo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),G3=xe(VY,zn,sY,si,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ur(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Sa(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),WY=(e,t,n)=>{var r=$o(e,t);return r==null||typeof r.padding!="string"?0:G3(e,"xAxis",t,n,r.padding)},HY=(e,t,n)=>{var r=Fo(e,t);return r==null||typeof r.padding!="string"?0:G3(e,"yAxis",t,n,r.padding)},qY=xe($o,WY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),KY=xe(Fo,HY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),GY=xe([si,qY,lx,ox,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),YY=xe([si,zn,KY,lx,ox,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Um=(e,t,n,r)=>{var i;switch(t){case"xAxis":return GY(e,n,r);case"yAxis":return YY(e,n,r);case"zAxis":return(i=yS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return A3(e);case"radiusAxis":return P3(e,n);default:return}},Y3=xe([vr,Um],Sx),Dx=xe([vr,yd,UY,Y3],OS);xe([Bm,Px,dr],jY);function X3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Tx=(e,t)=>t,Ex=(e,t,n)=>n,XY=xe(ax,Tx,Ex,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(X3)),QY=xe(sx,Tx,Ex,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(X3)),Q3=(e,t)=>({width:e.width,height:t.height}),ZY=(e,t)=>{var n=typeof t.width=="number"?t.width:Tm;return{width:n,height:e.height}},JY=xe(si,$o,Q3),eX=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},tX=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},nX=xe(_o,si,XY,Tx,Ex,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=Q3(t,o);s==null&&(s=eX(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),rX=xe(Io,si,QY,Tx,Ex,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=ZY(t,o);s==null&&(s=tX(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),iX=(e,t)=>{var n=$o(e,t);if(n!=null)return nX(e,n.orientation,n.mirror)},aX=xe([si,$o,iX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),sX=(e,t)=>{var n=Fo(e,t);if(n!=null)return rX(e,n.orientation,n.mirror)},oX=xe([si,Fo,sX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),lX=xe(si,Fo,(e,t)=>{var n=typeof t.width=="number"?t.width:Tm;return{width:n,height:e.height}}),Z3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Ll(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&I5(l))return l}},$S=xe([zn,Ax,vr,dr],Z3),J3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ll(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},FS=xe([zn,Ax,Rm,dr],J3),nP=xe([zn,xY,yd,Dx,$S,FS,Um,_S,dr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=Ll(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),cX=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=Ll(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Ai(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((x,w)=>{var b=s?s.indexOf(x):x;return{index:w,coordinate:r(b)+p,value:x,offset:p}});return y.filter(x=>Ur(x.coordinate))}return c&&o?o.map((x,w)=>({coordinate:r(x)+p,value:x,index:w,offset:p})).filter(x=>Ur(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,w)=>({coordinate:r(x)+p,value:s?s[x]:x,index:w,offset:p}))}},eL=xe([zn,Rm,yd,Dx,_S,Um,$S,FS,dr],cX),uX=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Ll(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ai(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},tL=xe([zn,Rm,Dx,Um,$S,FS,dr],uX),nL=xe(vr,Dx,(e,t)=>{if(!(e==null||t==null))return Kg(Kg({},e),{},{scale:t})}),dX=xe([vr,yd,MS,Y3],OS);xe((e,t,n)=>yS(e,n),dX,(e,t)=>{if(!(e==null||t==null))return Kg(Kg({},e),{},{scale:t})});var fX=xe([zn,ax,sx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rL=e=>e.options.defaultTooltipEventType,iL=e=>e.options.validateTooltipEventTypes;function aL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function RS(e,t){var n=rL(e),r=iL(e);return aL(t,n,r)}function mX(e){return Ct(t=>RS(t,e))}var sL=(e,t)=>{var n,r=Number(t);if(!(qs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},hX=e=>e.tooltip.settings,dl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},pX={itemInteraction:{click:dl,hover:dl},axisInteraction:{click:dl,hover:dl},keyboardInteraction:dl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oL=la({name:"tooltip",initialState:pX,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ms(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:lr()},removeTooltipEntrySettings:{reducer(e,t){var n=ms(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:lr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:gX,replaceTooltipEntrySettings:xX,removeTooltipEntrySettings:vX,setTooltipSettingsState:yX,setActiveMouseOverItemIndex:lL,mouseLeaveItem:bX,mouseLeaveChart:cL,setActiveClickItemIndex:wX,setMouseOverAxisIndex:uL,setMouseClickAxisIndex:kX,setSyncInteraction:mw,setKeyboardInteraction:hw}=oL.actions,SX=oL.reducer;function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NX(e,t,n){return(t=CX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function PX(e){return e.index!=null}var dL=(e,t,n,r)=>{if(t==null)return dl;var i=AX(e,t,n);if(i==null)return dl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(PX(i)){if(a)return tp(tp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return tp(tp({},dl),{},{coordinate:i.coordinate})};function DX(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function TX(e,t){var n=DX(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function EX(e,t,n){if(n==null||t==null)return!0;var r=ar(e,t);return r==null||!Dl(n)?!0:TX(r,n)}var BS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Ur(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||EX(c,n,r)?String(l):null},fL=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},mL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Vm=e=>e.options.tooltipPayloadSearcher,bd=e=>e.tooltip;function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){MX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MX(e,t,n){return(t=OX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _X(e,t){return e??t}var hL=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,x=_X(g,o),w=Array.isArray(x)?WI(x,c,d):x,b=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,N=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?C=_5(w,r,i):C=a(w,t,l,N),Array.isArray(C))C.forEach(j=>{var E=aP(aP({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(xj({tooltipEntrySettings:E,dataKey:j.dataKey,payload:j.payload,value:ar(j.payload,j.dataKey),name:j.name}))});else{var S;h.push(xj({tooltipEntrySettings:y,dataKey:b,payload:C,value:ar(C,b),name:(S=ar(C,N))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},zS=xe([Qr,zn,I3,fS,Xr],K3),LX=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$X=xe([Xr,xd],bS),wd=xe([LX,Qr,$X],wS,{memoizeOptions:{resultEqualityCheck:jx}}),FX=xe([wd],e=>e.filter(vS)),RX=xe([wd],kS,{memoizeOptions:{resultEqualityCheck:jx}}),kd=xe([RX,Rl],SS),BX=xe([FX,Rl,Qr],E3),US=xe([kd,Qr,wd],CS),pL=xe([Qr],jS),zX=xe([Qr],e=>e.allowDataOverflow),gL=xe([pL,zX],c3),UX=xe([wd],e=>e.filter(vS)),VX=xe([BX,UX,$m,S3],R3),WX=xe([VX,Rl,Xr,gL],B3),HX=xe([wd],$3),qX=xe([kd,Qr,HX,Px,Xr],DS,{memoizeOptions:{resultEqualityCheck:Cx}}),KX=xe([z3,Xr,xd],vd),GX=xe([KX,Xr],W3),YX=xe([U3,Xr,xd],vd),XX=xe([YX,Xr],H3),QX=xe([V3,Xr,xd],vd),ZX=xe([QX,Xr],q3),JX=xe([GX,ZX,XX],Gg),eQ=xe([Qr,pL,gL,WX,qX,JX,zn,Xr],TS),Wm=xe([Qr,zn,kd,US,$m,Xr,eQ],ES),tQ=xe([Wm,Qr,zS],IS),nQ=xe([Qr,Wm,tQ,Xr],LS),xL=e=>{var t=Xr(e),n=xd(e),r=!1;return Um(e,t,n,r)},vL=xe([Qr,xL],Sx),yL=xe([Qr,zS,nQ,vL],OS),rQ=xe([zn,US,Qr,Xr],Z3),iQ=xe([zn,US,Qr,Xr],J3),aQ=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=Ll(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ai(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Ro=xe([zn,Qr,zS,yL,xL,rQ,iQ,Xr],aQ),VS=xe([rL,iL,hX],(e,t,n)=>aL(n.shared,e,t)),bL=e=>e.tooltip.settings.trigger,WS=e=>e.tooltip.settings.defaultIndex,Hm=xe([bd,VS,bL,WS],dL),ad=xe([Hm,kd,zm,Wm],BS),wL=xe([Ro,ad],sL),kL=xe([Hm],e=>{if(e)return e.dataKey}),sQ=xe([Hm],e=>{if(e)return e.graphicalItemId}),SL=xe([bd,VS,bL,WS],mL),oQ=xe([Io,_o,zn,si,Ro,WS,SL,Vm],fL),lQ=xe([Hm,oQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cQ=xe([Hm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),uQ=xe([SL,ad,Rl,zm,wL,Vm,VS],hL),dQ=xe([uQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){fQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pQ=()=>Ct(Qr),gQ=()=>{var e=pQ(),t=Ct(Ro),n=Ct(yL);return jg(!e||!n?void 0:oP(oP({},e),{},{scale:n}),t)};function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(r){xQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bQ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},wQ=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return cu(cu(cu({},r),Br(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return cu(cu(cu({},r),Br(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var NL=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(Ai(p-m)!==Ai(g-p)){var x=[];if(Ai(g-p)===Ai(i[1]-i[0])){y=g;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+m)/2),x[1]=Math.max(w,(w+m)/2)}else{y=m;var b=g+i[1]-i[0];x[0]=Math.min(p,(b+p)/2),x[1]=Math.max(p,(b+p)/2)}var N=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var S=Math.min(m,g),j=Math.max(m,g);if(e>(S+p)/2&&e<=(j+p)/2){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var $=0;$<s;$++){var D=t[$];if(D!=null){var _=t[$+1],O=t[$-1];if($===0&&_!=null&&e<=(D.coordinate+_.coordinate)/2||$===s-1&&O!=null&&e>(D.coordinate+O.coordinate)/2||$>0&&$<s-1&&O!=null&&_!=null&&e>(D.coordinate+O.coordinate)/2&&e<=(D.coordinate+_.coordinate)/2)return D.index}}return-1},SQ=()=>Ct(fS),HS=(e,t)=>t,CL=(e,t,n)=>n,qS=(e,t,n,r)=>r,NQ=xe(Ro,e=>G0(e,t=>t.coordinate)),KS=xe([bd,HS,CL,qS],dL),GS=xe([KS,kd,zm,Wm],BS),CQ=(e,t,n)=>{if(t!=null){var r=bd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},jL=xe([bd,HS,CL,qS],mL),Yg=xe([Io,_o,zn,si,Ro,qS,jL,Vm],fL),jQ=xe([KS,Yg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),AL=xe([Ro,GS],sL),AQ=xe([jL,GS,Rl,zm,AL,Vm,HS],hL),PQ=xe([KS,GS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),DQ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&kQ(e,s)){var o=nH(e,t),l=NL(o,a,i,n,r),c=bQ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},TQ=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=pq(e,n);if(o){var l=rH(o,t),c=NL(l,s,a,r,i),d=wQ(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},EQ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?DQ(e,t,r,i,a,s,o):TQ(e,t,n,r,i,a,s)},MQ=xe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),OQ=xe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:fY}});function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Q={},FQ={zIndexMap:Object.values(fi).reduce((e,t)=>uP(uP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),$Q)},RQ=new Set(Object.values(fi));function BQ(e){return RQ.has(e)}var PL=la({name:"zIndex",initialState:FQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!BQ(n)&&delete e.zIndexMap[n])},prepare:lr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:lr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:lr()}}}),{registerZIndexPortal:zQ,unregisterZIndexPortal:UQ,registerZIndexPortalElement:VQ,unregisterZIndexPortalElement:WQ}=PL.actions,HQ=PL.reducer;function Ss(e){var{zIndex:t,children:n}=e,r=TH(),i=r&&t!==void 0&&t!==0,a=ca(),s=er();v.useLayoutEffect(()=>i?(s(zQ({zIndex:t})),()=>{s(UQ({zIndex:t}))}):Am,[s,t,i]);var o=Ct(l=>MQ(l,t,a));return i?o?md.createPortal(n,o):null:n}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(null,arguments)}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function np(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function XQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=D7,y=fi.cursorLine;else if(d==="BarChart")p=T7(o,f,a,s),g=w_,y=fi.cursorRectangle;else if(o==="radial"&&$5(f)){var{cx:x,cy:w,radius:b,startAngle:N,endAngle:C}=S_(f);p={cx:x,cy:w,startAngle:N,endAngle:C,innerRadius:b,outerRadius:b},g=C_,y=fi.cursorLine}else p={points:yq(o,f,a)},g=Fk,y=fi.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,j=np(np(np(np({stroke:"#ccc",pointerEvents:"none"},a),p),Qu(l)),{},{payload:h,payloadIndex:m,className:In("recharts-tooltip-cursor",S)});return v.createElement(Ss,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(YQ,{cursor:l,cursorComp:g,cursorProps:j}))}function QQ(e){var t=gQ(),n=i_(),r=Em(),i=SQ();return t==null||n==null||r==null||i==null?null:v.createElement(XQ,pw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var DL=v.createContext(null),ZQ=()=>v.useContext(DL),TL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var N=y.length,C;for(b=0;b<N;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];y[b].fn.apply(y[b].context,w)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(TL);var JQ=TL.exports;const eZ=ws(JQ);var cm=new eZ,gw="recharts.syncEvent.tooltip",fP="recharts.syncEvent.brush";function EL(e,t){if(t){var n=Number.parseInt(t,10);if(!qs(n))return e==null?void 0:e[n]}}var tZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ML=la({name:"options",initialState:tZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nZ=ML.reducer,{createEventEmitter:rZ}=ML.actions;function iZ(e){return e.tooltip.syncInteraction}var aZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},OL=la({name:"chartData",initialState:aZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:mP,setDataStartEndIndexes:sZ,setComputedData:r0e}=OL.actions,oZ=OL.reducer,lZ=["x","y"];function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){cZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fZ(e,t){if(e==null)return{};var n,r,i=mZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hZ(){var e=Ct(mS),t=Ct(hS),n=er(),r=Ct(N3),i=Ct(Ro),a=Em(),s=cx(),o=Ct(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return Am;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=fZ(m,lZ),{x,y:w,width:b,height:N}=d.payload.sourceViewBox,C=uu(uu({},y),{},{x:s.x+(b?(p-x)/b:0)*s.width,y:s.y+(N?(g-w)/N:0)*s.height});n(uu(uu({},d),{},{payload:uu(uu({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var S;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,j);S=i[E]}else r==="value"&&(S=i.find(pe=>String(pe.value)===d.payload.label));var{coordinate:$}=d.payload;if(S==null||d.payload.active===!1||$==null||s==null){n(mw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:_}=$,O=Math.min(D,s.x+s.width),G=Math.min(_,s.y+s.height),Q={x:a==="horizontal"?S.coordinate:O,y:a==="horizontal"?G:S.coordinate},ce=mw({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ce)}}};return cm.on(gw,l),()=>{cm.off(gw,l)}},[o,n,t,e,r,i,a,s])}function pZ(){var e=Ct(mS),t=Ct(hS),n=er();v.useEffect(()=>{if(e==null)return Am;var r=(i,a,s)=>{t!==s&&e===i&&n(sZ(a))};return cm.on(fP,r),()=>{cm.off(fP,r)}},[n,t,e])}function gZ(){var e=er();v.useEffect(()=>{e(rZ())},[e]),hZ(),pZ()}function xZ(e,t,n,r,i,a){var s=Ct(m=>CQ(m,e,t)),o=Ct(hS),l=Ct(mS),c=Ct(N3),d=Ct(iZ),f=d==null?void 0:d.active,h=cx();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=mw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});cm.emit(gw,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){vZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vZ(e,t,n){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wZ(e){return e.dataKey}function kZ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(l7,t)}var xP=[],SZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Lc(e){var t,n,r=Gr(e,SZ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:w,trigger:b,defaultIndex:N,portal:C,axisId:S}=r,j=er(),E=typeof N=="number"?String(N):N;v.useEffect(()=>{j(yX({shared:w,trigger:b,axisId:S,active:i,defaultIndex:E}))},[j,w,b,S,i,E]);var $=cx(),D=g_(),_=mX(w),{activeIndex:O,isActive:G}=(t=Ct(Z=>PQ(Z,_,b,E)))!==null&&t!==void 0?t:{},Q=Ct(Z=>AQ(Z,_,b,E)),ce=Ct(Z=>AL(Z,_,b,E)),pe=Ct(Z=>jQ(Z,_,b,E)),X=Q,W=ZQ(),ue=(n=i??G)!==null&&n!==void 0?n:!1,[M,A]=hI([X,ue]),ae=_==="axis"?ce:void 0;xZ(_,b,pe,ae,O,ue);var k=C??W;if(k==null||$==null||_==null)return null;var z=X??xP;ue||(z=xP),c&&z.length&&(z=nI(z.filter(Z=>Z.value!=null&&(Z.hide!==!0||r.includeHidden)),h,wZ));var U=z.length>0,J=v.createElement(p7,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ue,coordinate:pe,hasPayload:U,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:$,wrapperStyle:y,lastBoundingBox:M,innerRef:A,hasPortalFromProps:!!C},kZ(l,gP(gP({},r),{},{payload:z,label:ae,active:ue,activeIndex:O,coordinate:pe,accessibilityLayer:D})));return v.createElement(v.Fragment,null,md.createPortal(J,k),ue&&v.createElement(QQ,{cursor:x,tooltipEventType:_,coordinate:pe,payload:z,index:O}))}var sd=e=>null;sd.displayName="Cell";function NZ(e,t,n){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AZ{constructor(t){NZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){DZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DZ(e,t,n){return(t=TZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MZ={cacheSize:2e3,enableCache:!0},IL=PZ({},MZ),yP=new AZ(IL.cacheSize),OZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bP="recharts_measurement_span";function IZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var wP=(e,t)=>{try{var n=document.getElementById(bP);n||(n=document.createElement("span"),n.setAttribute("id",bP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,OZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hx.isSsr)return{width:0,height:0};if(!IL.enableCache)return wP(t,n);var r=IZ(t,n),i=yP.get(r);if(i)return i;var a=wP(t,n);return yP.set(r,a),a},_L;function _Z(e,t,n){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zZ=["cm","mm","pt","pc","in","Q","px"];function UZ(e){return zZ.includes(e)}var Pu="NaN";function VZ(e,t){return e*BZ[t]}class di{static parse(t){var n,[,r,i]=(n=RZ.exec(t))!==null&&n!==void 0?n:[];return r==null?di.NaN:new di(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,qs(t)&&(this.unit=""),n!==""&&!FZ.test(n)&&(this.num=NaN,this.unit=""),UZ(n)&&(this.num=VZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return qs(this.num)}}_L=di;_Z(di,"NaN",new _L(NaN,""));function LL(e){if(e==null||e.includes(Pu))return Pu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=kP.exec(t))!==null&&n!==void 0?n:[],s=di.parse(r??""),o=di.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Pu;t=t.replace(kP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=SP.exec(t))!==null&&c!==void 0?c:[],m=di.parse(d??""),p=di.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Pu;t=t.replace(SP,g.toString())}return t}var NP=/\(([^()]*)\)/;function WZ(e){for(var t=e,n;(n=NP.exec(t))!=null;){var[,r]=n;t=t.replace(NP,LL(r))}return t}function HZ(e){var t=e.replace(/\s+/g,"");return t=WZ(t),t=LL(t),t}function qZ(e){try{return HZ(e)}catch{return Pu}}function Kv(e){var t=qZ(e.slice(5,-1));return t===Pu?"":t}var KZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],GZ=["dx","dy","angle","className","breakAll"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}function CP(e,t){if(e==null)return{};var n,r,i=YZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $L=/[ \f\n\r\t\v\u2028\u2029]+/,FL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Kr(t)||(n?i=t.toString().split(""):i=t.toString().split($L));var a=i.map(o=>({word:o,width:bf(o,r).width})),s=n?0:bf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function XZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var RL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),BL=e=>e.reduce((t,n)=>t.width>n.width?t:n),QZ="",jP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=FL({breakAll:n,style:r,children:l+QZ});if(!c)return[!1,[]];var d=RL(c.wordsWithComputedWidth,a,s,o),f=d.length>i||BL(d).width>Number(a);return[f,d]},ZZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Pt(a),d=String(s),f=RL(t,r,n,i);if(!c||i)return f;var h=f.length>a||BL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),w=x-1,[b,N]=jP(d,w,l,o,a,r,n,i),[C]=jP(d,x,l,o,a,r,n,i);if(!b&&!C&&(m=x+1),b&&C&&(p=x-1),!b&&C){y=N;break}g++}return y||f},AP=e=>{var t=Kr(e)?[]:e.toString().split($L);return[{words:t,width:void 0}]},JZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!hx.isSsr){var o,l,c=FL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return AP(r);return ZZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return AP(r)},zL="#808080",eJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:zL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Mx=v.forwardRef((e,t)=>{var n=Gr(e,eJ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=CP(n,KZ),h=v.useMemo(()=>JZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:x}=f,w=CP(f,GZ);if(!Ks(r)||!Ks(i)||h.length===0)return null;var b=Number(r)+(Pt(m)?m:0),N=Number(i)+(Pt(p)?p:0);if(!Ur(b)||!Ur(N))return null;var C;switch(d){case"start":C=Kv("calc(".concat(s,")"));break;case"middle":C=Kv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=Kv("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var j=h[0].width,{width:E}=f;S.push("scale(".concat(Pt(E)&&Pt(j)?E/j:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(b,", ").concat(N,")")),S.length&&(w.transform=S.join(" ")),v.createElement("text",xw({},Bi(w),{ref:t,x:b,y:N,className:In("recharts-text",y),textAnchor:c,fill:o.includes("url")?zL:o}),h.map(($,D)=>{var _=$.words.join(x?"":" ");return v.createElement("tspan",{x:b,dy:D===0?C:a,key:"".concat(_,"-").concat(D)},_)}))});Mx.displayName="Text";var tJ=["labelRef"],nJ=["content"];function PP(e,t){if(e==null)return{};var n,r,i=rJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){iJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(null,arguments)}var UL=v.createContext(null),oJ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(UL.Provider,{value:l},o)},VL=()=>{var e=v.useContext(UL),t=cx();return e||r_(t)},lJ=v.createContext(null),cJ=()=>{var e=v.useContext(lJ),t=Ct(D3);return e||t},uJ=e=>{var{value:t,formatter:n}=e,r=Kr(e.children)?t:e.children;return typeof n=="function"?n(r):r},YS=e=>e!=null&&typeof e=="function",dJ=(e,t)=>{var n=Ai(t-e),r=Math.min(Math.abs(t-e),360);return n*r},fJ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=dJ(f,h),y=g>=0?1:-1,x,w;switch(t){case"insideStart":x=f+y*a,w=m;break;case"insideEnd":x=h-y*a,w=!m;break;case"end":x=h+y*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var b=Br(o,l,p,x),N=Br(o,l,p,x+(w?1:-1)*359),C="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=Kr(e.id)?Xf("recharts-radial-line-"):e.id;return v.createElement("text",co({},r,{dominantBaseline:"central",className:In("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:S,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(S)},n))},mJ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Br(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Br(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},vw=e=>"cx"in e&&Pt(e.cx),hJ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!vw(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,x=y*r,w=y>0?"end":"start",b=y>0?"start":"end",N=l>=0?1:-1,C=N*r,S=N>0?"end":"start",j=N>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return Mr(Mr({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var $={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:b};return Mr(Mr({},$),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var D={x:m-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return Mr(Mr({},D),a?{width:Math.max(D.x-a.x,0),height:d}:{})}if(i==="right"){var _={x:m+p+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Mr(Mr({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Mr({x:m+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideRight"?Mr({x:m+p-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideTop"?Mr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:b},O):i==="insideBottom"?Mr({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:w},O):i==="insideTopLeft"?Mr({x:f+C,y:o+x,textAnchor:j,verticalAnchor:b},O):i==="insideTopRight"?Mr({x:f+l-C,y:o+x,textAnchor:S,verticalAnchor:b},O):i==="insideBottomLeft"?Mr({x:h+C,y:o+d-x,textAnchor:j,verticalAnchor:w},O):i==="insideBottomRight"?Mr({x:h+c-C,y:o+d-x,textAnchor:S,verticalAnchor:w},O):i&&typeof i=="object"&&(Pt(i.x)||jo(i.x))&&(Pt(i.y)||jo(i.y))?Mr({x:s+Sa(i.x,p),y:o+Sa(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Mr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},pJ={angle:0,offset:5,zIndex:fi.label,position:"middle",textBreakAll:!1};function ol(e){var t=Gr(e,pJ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=cJ(),f=VL(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:vw(n)?m=n:m=r_(n),!m||Kr(i)&&Kr(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Mr(Mr({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=y,w=PP(y,tJ);return v.cloneElement(s,w)}if(typeof s=="function"){var{content:b}=y,N=PP(y,nJ);if(p=v.createElement(s,N),v.isValidElement(p))return p}else p=uJ(t);var C=Bi(t);if(vw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fJ(t,r,p,C,m);g=mJ(m,t.offset,t.position)}else g=hJ(t,m);return v.createElement(Ss,{zIndex:t.zIndex},v.createElement(Mx,co({ref:c,className:In("recharts-label",o)},C,g,{textAnchor:XZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}ol.displayName="Label";var gJ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(ol,co({key:"label-implicit"},r)):Ks(e)?v.createElement(ol,co({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===ol?v.cloneElement(e,Mr({key:"label-implicit"},r)):v.createElement(ol,co({key:"label-implicit",content:e},r)):YS(e)?v.createElement(ol,co({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(ol,co({},e,{key:"label-implicit"},r)):null};function xJ(e){var{label:t,labelRef:n}=e,r=VL();return gJ(t,r,n)||null}var WL={},HL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(HL);var qL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(qL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HL,n=qL,r=H0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(WL);var vJ=WL.last;const yJ=ws(vJ);var bJ=["valueAccessor"],wJ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(null,arguments)}function TP(e,t){if(e==null)return{};var n,r,i=kJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SJ=e=>Array.isArray(e.value)?yJ(e.value):e.value,KL=v.createContext(void 0),NJ=KL.Provider,GL=v.createContext(void 0),CJ=GL.Provider;function jJ(){return v.useContext(KL)}function AJ(){return v.useContext(GL)}function Tp(e){var{valueAccessor:t=SJ}=e,n=TP(e,bJ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=TP(n,wJ),c=jJ(),d=AJ(),f=c||d;return!f||!f.length?null:v.createElement(Ss,{zIndex:o??fi.label},v.createElement(sa,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Kr(r)?t(h,m):ar(h&&h.payload,r),y=Kr(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(ol,Xg({key:"label-".concat(m)},Bi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}Tp.displayName="LabelList";function YL(e){var{label:t}=e;return t?t===!0?v.createElement(Tp,{key:"labelList-implicit"}):v.isValidElement(t)||YS(t)?v.createElement(Tp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Tp,Xg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}var XL=e=>{var{cx:t,cy:n,r,className:i}=e,a=In("recharts-dot",i);return Pt(t)&&Pt(n)&&Pt(r)?v.createElement("circle",yw({},Ka(e),hk(e),{className:a,cx:t,cy:n,r})):null},QL=e=>e.graphicalItems.polarItems,PJ=xe([dr,Fm],bS),Ox=xe([QL,vr,PJ],wS),DJ=xe([Ox],kS),Ix=xe([DJ,lS],SS),TJ=xe([Ix,vr,Ox],CS);xe([Ix,vr,Ox],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=ar(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ar(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var EP=()=>{},EJ=xe([Ix,vr,Ox,Px,dr],DS),MJ=xe([vr,AS,PS,EP,EJ,EP,zn,dr],TS),ZL=xe([vr,zn,Ix,TJ,$m,dr,MJ],ES),OJ=xe([ZL,vr,yd],IS);xe([vr,ZL,OJ,dr],LS);var IJ={radiusAxis:{},angleAxis:{}},JL=la({name:"polarAxis",initialState:IJ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:i0e,removeRadiusAxis:a0e,addAngleAxis:s0e,removeAngleAxis:o0e}=JL.actions,_J=JL.reducer;function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){LJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LJ(e,t,n){return(t=$J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $J(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RJ=(e,t)=>t,XS=xe([QL,RJ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),BJ=[],QS=(e,t,n)=>(n==null?void 0:n.length)===0?BJ:n,e4=xe([lS,XS,QS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>OP(OP({},t.presentationProps),a.props))),i!=null)return i}}),zJ=xe([e4,XS,QS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=ar(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:ix(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),UJ=xe([e4,XS,QS,si],(e,t,n,r)=>{if(!(t==null||e==null))return tte({offset:r,pieSettings:t,displayedData:e,cells:n})}),t4={exports:{}},qn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x=60103,Lx=60106,qm=60107,Km=60108,Gm=60114,Ym=60109,Xm=60110,Qm=60112,Zm=60113,ZS=60120,Jm=60115,eh=60116,n4=60121,r4=60122,i4=60117,a4=60129,s4=60131;if(typeof Symbol=="function"&&Symbol.for){var li=Symbol.for;_x=li("react.element"),Lx=li("react.portal"),qm=li("react.fragment"),Km=li("react.strict_mode"),Gm=li("react.profiler"),Ym=li("react.provider"),Xm=li("react.context"),Qm=li("react.forward_ref"),Zm=li("react.suspense"),ZS=li("react.suspense_list"),Jm=li("react.memo"),eh=li("react.lazy"),n4=li("react.block"),r4=li("react.server.block"),i4=li("react.fundamental"),a4=li("react.debug_trace_mode"),s4=li("react.legacy_hidden")}function Ns(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _x:switch(e=e.type,e){case qm:case Gm:case Km:case Zm:case ZS:return e;default:switch(e=e&&e.$$typeof,e){case Xm:case Qm:case eh:case Jm:case Ym:return e;default:return t}}case Lx:return t}}}var VJ=Ym,WJ=_x,HJ=Qm,qJ=qm,KJ=eh,GJ=Jm,YJ=Lx,XJ=Gm,QJ=Km,ZJ=Zm;qn.ContextConsumer=Xm;qn.ContextProvider=VJ;qn.Element=WJ;qn.ForwardRef=HJ;qn.Fragment=qJ;qn.Lazy=KJ;qn.Memo=GJ;qn.Portal=YJ;qn.Profiler=XJ;qn.StrictMode=QJ;qn.Suspense=ZJ;qn.isAsyncMode=function(){return!1};qn.isConcurrentMode=function(){return!1};qn.isContextConsumer=function(e){return Ns(e)===Xm};qn.isContextProvider=function(e){return Ns(e)===Ym};qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_x};qn.isForwardRef=function(e){return Ns(e)===Qm};qn.isFragment=function(e){return Ns(e)===qm};qn.isLazy=function(e){return Ns(e)===eh};qn.isMemo=function(e){return Ns(e)===Jm};qn.isPortal=function(e){return Ns(e)===Lx};qn.isProfiler=function(e){return Ns(e)===Gm};qn.isStrictMode=function(e){return Ns(e)===Km};qn.isSuspense=function(e){return Ns(e)===Zm};qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===qm||e===Gm||e===a4||e===Km||e===Zm||e===ZS||e===s4||typeof e=="object"&&e!==null&&(e.$$typeof===eh||e.$$typeof===Jm||e.$$typeof===Ym||e.$$typeof===Xm||e.$$typeof===Qm||e.$$typeof===i4||e.$$typeof===n4||e[0]===r4)};qn.typeOf=Ns;t4.exports=qn;var JJ=t4.exports,IP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_P=null,Gv=null,o4=e=>{if(e===_P&&Array.isArray(Gv))return Gv;var t=[];return v.Children.forEach(e,n=>{Kr(n)||(JJ.isFragment(n)?t=t.concat(o4(n.props.children)):t.push(n))}),Gv=t,_P=e,t};function l4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>IP(i)):r=[IP(t)],o4(e).forEach(i=>{var a=Tc(i,"type.displayName")||Tc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var c4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,u4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(u4);var eee=u4.isPlainObject;const tee=ws(eee);var LP,$P,FP,RP,BP;function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e,t,n){return(t=ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qg.apply(null,arguments)}function Yd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var VP=(e,t,n,r,i)=>{var a=n-r,s;return s=Sr(LP||(LP=Yd(["M ",",",""])),e,t),s+=Sr($P||($P=Yd(["L ",",",""])),e+n,t),s+=Sr(FP||(FP=Yd(["L ",",",""])),e+n-a/2,t+i),s+=Sr(RP||(RP=Yd(["L ",",",""])),e+n-a/2-r,t+i),s+=Sr(BP||(BP=Yd(["L ",","," Z"])),e,t),s},aee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},see=e=>{var t=Gr(e,aee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),w=v.useRef(n),b=v.useRef(r),N=gx(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Q=h.current.getTotalLength();Q&&p(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=In("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",Qg({},Bi(t),{className:C,d:VP(n,r,i,a,s)})));var S=g.current,j=y.current,E=x.current,$=w.current,D=b.current,_="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),G=x_(["strokeDasharray"],c,l);return v.createElement(px,{animationId:N,key:N,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Q=>{var ce=ji(S,i,Q),pe=ji(j,a,Q),X=ji(E,s,Q),W=ji($,n,Q),ue=ji(D,r,Q);h.current&&(g.current=ce,y.current=pe,x.current=X,w.current=W,b.current=ue);var M=Q>0?{transition:G,strokeDasharray:O}:{strokeDasharray:_};return v.createElement("path",Qg({},Bi(t),{className:C,d:VP(W,ue,ce,pe,X),ref:h,style:UP(UP({},M),t.style)}))})},oee=["option","shapeType","activeClassName"];function lee(e,t){if(e==null)return{};var n,r,i=cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uee(e,t,n){return(t=dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dee(e){var t=fee(e,"string");return typeof t=="symbol"?t:t+""}function fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mee(e,t){return Zg(Zg({},t),e)}function hee(e,t){return e==="symbols"}function HP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(w_,n);case"trapezoid":return v.createElement(see,n);case"sector":return v.createElement(C_,n);case"symbols":if(hee(t))return v.createElement(mk,n);break;case"curve":return v.createElement(Fk,n);default:return null}}function pee(e){return v.isValidElement(e)?e.props:e}function d4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=lee(e,oee),a;if(v.isValidElement(t))a=v.cloneElement(t,Zg(Zg({},i),pee(t)));else if(typeof t=="function")a=t(i,i.index);else if(tee(t)&&typeof t!="boolean"){var s=mee(t,i);a=v.createElement(HP,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(HP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(sa,{className:r},a):a}var gee=(e,t,n)=>{var r=er();return(i,a)=>s=>{e==null||e(i,a,s),r(lL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},xee=e=>{var t=er();return(n,r)=>i=>{e==null||e(n,r,i),t(bX())}},vee=(e,t,n)=>{var r=er();return(i,a)=>s=>{e==null||e(i,a,s),r(wX({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function f4(e){var{tooltipEntrySettings:t}=e,n=er(),r=ca(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(gX(t)):i.current!==t&&n(xX({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(vX(i.current)),i.current=null)},[n]),null}function yee(e){var{legendPayload:t}=e,n=er(),r=ca(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(f_(t)):i.current!==t&&n(m_({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(h_(i.current)),i.current=null)},[n]),null}function bee(e){var{legendPayload:t}=e,n=er(),r=Ct(zn),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(f_(t)):i.current!==t&&n(m_({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(h_(i.current)),i.current=null)},[n]),null}var Yv,wee=()=>{var[e]=v.useState(()=>Xf("uid-"));return e},kee=(Yv=EB.useId)!==null&&Yv!==void 0?Yv:wee;function See(e,t){var n=kee();return t||(e?"".concat(e,"-").concat(n):n)}var Nee=v.createContext(void 0),m4=e=>{var{id:t,type:n,children:r}=e,i=See("recharts-".concat(n),t);return v.createElement(Nee.Provider,{value:i},r(i))},Cee={cartesianItems:[],polarItems:[]},h4=la({name:"graphicalItems",initialState:Cee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ms(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:lr()},removeCartesianGraphicalItem:{reducer(e,t){var n=ms(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:lr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lr()},removePolarGraphicalItem:{reducer(e,t){var n=ms(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:lr()}}}),{addCartesianGraphicalItem:jee,replaceCartesianGraphicalItem:Aee,removeCartesianGraphicalItem:Pee,addPolarGraphicalItem:Dee,removePolarGraphicalItem:Tee}=h4.actions,Eee=h4.reducer,Mee=e=>{var t=er(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(jee(e)):n.current!==e&&t(Aee({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null},Oee=v.memo(Mee);function Iee(e){var t=er();return v.useLayoutEffect(()=>(t(Dee(e)),()=>{t(Tee(e))}),[t,e]),null}var _ee=["key"],Lee=["onMouseEnter","onClick","onMouseLeave"],$ee=["id"],Fee=["id"];function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(null,arguments)}function $x(e,t){if(e==null)return{};var n,r,i=Uee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vee(e){var t=v.useMemo(()=>l4(e.children,sd),[e.children]),n=Ct(r=>zJ(r,e.id,t));return n==null?null:v.createElement(bee,{legendPayload:n})}var Wee=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:ix(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return v.createElement(f4,{tooltipEntrySettings:f})}),Hee=(e,t)=>e>t?"start":e<t?"end":"middle",qee=(e,t,n)=>Sa(typeof t=="function"?t(e):t,n,n*.8),Kee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=k_(a,s),l=i+Sa(e.cx,a,a/2),c=r+Sa(e.cy,s,s/2),d=Sa(e.innerRadius,o,0),f=qee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},Gee=(e,t)=>{var n=Ai(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Yee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Xee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=In("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=$x(t,_ee);return v.createElement(Fk,Tl({},i,{type:"linear",className:n}))},Qee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=In("recharts-pie-label-text",Yee(e));return v.createElement(Mx,Tl({},t,{alignmentBaseline:"middle",className:i}),r)};function Zee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ka(n),l=Qu(i),c=Qu(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Br(h.cx,h.cy,h.outerRadius+d,p),y=Cr(Cr(Cr(Cr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Hee(g.x,h.cx)},g),x=Cr(Cr(Cr(Cr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Br(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(Ss,{zIndex:fi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(sa,null,a&&Xee(a,x),Qee(i,y,ar(h,s))))});return v.createElement(sa,{className:"recharts-pie-labels"},f)}function Jee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(YL,{label:i}):v.createElement(Zee,{sectors:t,props:n,showLabels:r})}function ete(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Ct(ad),l=Ct(kL),c=Ct(sQ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=$x(i,Lee),p=gee(d,i.dataKey,s),g=xee(h),y=vee(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var b=c==null||c===s,N=String(w)===o&&(l==null||i.dataKey===l)&&b,C=o?r:null,S=n&&N?n:C,j=Cr(Cr({},x),{},{stroke:x.stroke,tabIndex:-1,[GI]:w,[YI]:s});return v.createElement(sa,Tl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},pk(m,x,w),{onMouseEnter:p(x,w),onMouseLeave:g(x,w),onClick:y(x,w)}),v.createElement(d4,Tl({option:a??S,index:w,shapeType:"sector",isActive:N},j)))}))}function tte(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=Gee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(S=>ar(S,c,0)!==0).length,x=(p>=360?y:y-1)*g,w=p-y*h-x,b=r.reduce((S,j)=>{var E=ar(j,c,0);return S+(Pt(E)?E:0)},0),N;if(b>0){var C;N=r.map((S,j)=>{var E=ar(S,c,0),$=ar(S,d,j),D=Kee(n,a,S),_=(Pt(E)?E:0)/b,O,G=Cr(Cr({},S),i&&i[j]&&i[j].props);j?O=C.endAngle+Ai(m)*g*(E!==0?1:0):O=o;var Q=O+Ai(m)*((E!==0?h:0)+_*w),ce=(O+Q)/2,pe=(D.innerRadius+D.outerRadius)/2,X=[{name:$,value:E,payload:G,dataKey:c,type:f,graphicalItemId:n.id}],W=Br(D.cx,D.cy,pe,ce);return C=Cr(Cr(Cr(Cr({},n.presentationProps),{},{percent:_,cornerRadius:typeof s=="string"?parseFloat(s):s,name:$,tooltipPayload:X,midAngle:ce,middleRadius:pe,tooltipPosition:W},G),D),{},{value:E,dataKey:c,startAngle:O,endAngle:Q,payload:G,paddingAngle:Ai(m)*g}),C})}return N}function nte(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(CJ,{value:t?i:void 0},r)}function rte(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=gx(t,"recharts-pie-"),p=n.current,[g,y]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),w=v.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return v.createElement(nte,{showLabels:!g,sectors:i},v.createElement(px,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:x,key:m},b=>{var N=[],C=i&&i[0],S=C==null?void 0:C.startAngle;return i==null||i.forEach((j,E)=>{var $=p&&p[E],D=E>0?Tc(j,"paddingAngle",0):0;if($){var _=ji($.endAngle-$.startAngle,j.endAngle-j.startAngle,b),O=Cr(Cr({},j),{},{startAngle:S+D,endAngle:S+_+D});N.push(O),S=O.endAngle}else{var{endAngle:G,startAngle:Q}=j,ce=ji(0,G-Q,b),pe=Cr(Cr({},j),{},{startAngle:S+D,endAngle:S+ce+D});N.push(pe),S=pe.endAngle}}),n.current=N,v.createElement(sa,null,v.createElement(ete,{sectors:N,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(Jee,{showLabels:!g,sectors:i,props:t}),t.children)}var ite={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fi.area};function ate(e){var{id:t}=e,n=$x(e,$ee),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>l4(e.children,sd),[e.children]),o=Ct(d=>UJ(d,t,s)),l=v.useRef(null),c=In("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(sa,{tabIndex:a,className:c})):v.createElement(Ss,{zIndex:e.zIndex},v.createElement(Wee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(sa,{tabIndex:a,className:c},v.createElement(rte,{props:Cr(Cr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Jg(e){var t=Gr(e,ite),{id:n}=t,r=$x(t,Fee),i=Ka(r);return v.createElement(m4,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(Iee,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement(Vee,Tl({},r,{id:a})),v.createElement(ate,Tl({},r,{id:a}))))}Jg.displayName="Pie";var ste=["points"];function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ote(e,t,n){return(t=lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lte(e){var t=cte(e,"string");return typeof t=="symbol"?t:t+""}function cte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function ute(e,t){if(e==null)return{};var n,r,i=dte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fte(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=In(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=ute(a,ste);return v.createElement(XL,e0({},o,{className:i}))}function mte(e,t){return e==null?!1:t?!0:e.length===1}function hte(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=fi.scatter}=e;if(!mte(t,n))return null;var d=c4(n),f=q8(n),h=t.map((p,g)=>{var y,x,w=Xv(Xv(Xv({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement(fte,{key:"dot-".concat(g),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(Ss,{zIndex:c},v.createElement(sa,e0({className:r},m),h))}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vte={xAxis:{},yAxis:{},zAxis:{}},p4=la({name:"cartesianAxis",initialState:vte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:lr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:lr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:lr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=YP(YP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:yte,replaceXAxis:bte,removeXAxis:wte,addYAxis:kte,replaceYAxis:Ste,removeYAxis:Nte,addZAxis:l0e,replaceZAxis:c0e,removeZAxis:u0e,updateYAxisWidth:Cte}=p4.actions,jte=p4.reducer,Ate=xe([si],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Pte=xe([Ate,Io,_o],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),JS=()=>Ct(Pte),Dte=()=>Ct(dQ);function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ote=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Qv(Qv(Qv({},o),Qu(i)),hk(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(XL,l),v.createElement(sa,{className:"recharts-active-dot",clipPath:s},c)};function Ite(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=fi.activeDot}=e,o=Ct(ad),l=Dte();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Kr(c)?null:v.createElement(Ss,{zIndex:s},v.createElement(Ote,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var g4=e=>{var{chartData:t}=e,n=er(),r=ca();return v.useEffect(()=>r?()=>{}:(n(mP(t)),()=>{n(mP(void 0))}),[t,n,r]),null},QP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},x4=la({name:"brush",initialState:QP,reducers:{setBrushSettings(e,t){return t.payload==null?QP:t.payload}}}),{setBrushSettings:d0e}=x4.actions,_te=x4.reducer;function Lte(e,t,n){return(t=$te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eN{static create(t){return new eN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Lte(eN,"EPS",1e-4);function Rte(e){return(e%180+180)%180}var Bte=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rte(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},zte={dots:[],areas:[],lines:[]},v4=la({name:"referenceElements",initialState:zte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ms(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ms(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ms(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:f0e,removeDot:m0e,addArea:h0e,removeArea:p0e,addLine:g0e,removeLine:x0e}=v4.actions,Ute=v4.reducer,Vte=v.createContext(void 0),Wte=e=>{var{children:t}=e,[n]=v.useState("".concat(Xf("recharts"),"-clip")),r=JS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(Vte.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function y4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Hte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Bte(r,n)}function qte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function um(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Kte(e,t){return y4(e,t+1)}function Gte(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:y4(r,c)};var g=l,y,x=()=>(y===void 0&&(y=n(p,g)),y),w=p.coordinate,b=l===0||um(e,w,x,d,o);b||(l=0,d=s,c+=1),b&&(d=w+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function Yte(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var w=r[p],b=p,N,C=()=>(N===void 0&&(N=n(w,b)),N),S=w.coordinate,j=p===d||um(e,S,C,f,l);if(!j)return h=!1,1;j&&(f=S+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function ZP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(n),!0).forEach(function(r){Xte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xte(e,t,n){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qte(e){var t=Zte(e,"string");return typeof t=="symbol"?t:t+""}function Zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=Si(Si({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=Si(Si({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=um(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=Si(Si({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function ene(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=Si(Si({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=um(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=Si(Si({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(w){var b=s[w],N,C=()=>(N===void 0&&(N=n(b,w)),N);if(w===0){var S=e*(b.coordinate-e*C()/2-l);s[w]=b=Si(Si({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else s[w]=b=Si(Si({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=um(e,b.tickCoord,C,l,c);j&&(l=b.tickCoord+e*(C()/2+i),s[w]=Si(Si({},b),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function tN(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Pt(l)||hx.isSsr){var h;return(h=Kte(i,Pt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?bf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(b,N)=>{var C=typeof c=="function"?c(b.value,N):b.value;return p==="width"?Hte(bf(C,{fontSize:t,letterSpacing:n}),g,f):bf(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?Ai(i[1].coordinate-i[0].coordinate):1,w=qte(a,x,p);return l==="equidistantPreserveStart"?Gte(x,w,y,i,s):l==="equidistantPreserveEnd"?Yte(x,w,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=ene(x,w,y,i,s,l==="preserveStartEnd"):m=Jte(x,w,y,i,s),m.filter(b=>b.isShow))}var tne=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},nne=["axisLine","width","height","className","hide","ticks","axisType"];function rne(e,t){if(e==null)return{};var n,r,i=ine(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ine(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$c.apply(null,arguments)}function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(r){ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ane(e,t,n){return(t=sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=one(e,"string");return typeof t=="symbol"?t:t+""}function one(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fi.axis};function lne(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Fr(Fr(Fr({},l),Ka(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Fr(Fr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Fr(Fr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",$c({},c,{className:In("recharts-cartesian-axis-line",Tc(o,"className"))}))}function cne(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,x=Pt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=x;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function une(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function dne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function fne(e){var{option:t,tickProps:n,value:r}=e,i,a=In(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Fr(Fr({},n),{},{className:a}));else if(typeof t=="function")i=t(Fr(Fr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=In(s,t==null?void 0:t.className)),i=v.createElement(Mx,$c({},n,{className:s}),r)}return i}var mne=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:x,fontSize:w,letterSpacing:b,getTicksConfig:N,events:C,axisType:S}=e,j=tN(Fr(Fr({},N),{},{ticks:n}),w,b),E=une(d,f),$=dne(d,f),D=Ka(N),_=Qu(r),O={};typeof i=="object"&&(O=i);var G=Fr(Fr({},D),{},{fill:"none"},O),Q=j.map(X=>Fr({entry:X},cne(X,h,m,p,g,d,y,f,x))),ce=Q.map(X=>{var{entry:W,line:ue}=X;return v.createElement(sa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&v.createElement("line",$c({},G,ue,{className:In("recharts-cartesian-axis-tick-line",Tc(i,"className"))})))}),pe=Q.map((X,W)=>{var{entry:ue,tick:M}=X,A=Fr(Fr(Fr(Fr({textAnchor:E,verticalAnchor:$},D),{},{stroke:"none",fill:a},_),M),{},{index:W,payload:ue,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return v.createElement(sa,$c({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},pk(C,ue,W)),r&&v.createElement(fne,{option:r,tickProps:A,value:"".concat(typeof s=="function"?s(ue.value,W):ue.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},pe.length>0&&v.createElement(Ss,{zIndex:fi.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},pe)),ce.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},ce))}),hne=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=rne(e,nne),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return tne({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var w=x[0];if(w){var b=window.getComputedStyle(w),N=b.fontSize,C=b.letterSpacing;(N!==d||C!==h)&&(f(N),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Ss,{zIndex:e.zIndex},v.createElement(sa,{className:In("recharts-cartesian-axis",a)},v.createElement(lne,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ka(e)}),v.createElement(mne,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(oJ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(xJ,{label:e.label,labelRef:e.labelRef}),e.children)))}),nN=v.forwardRef((e,t)=>{var n=Gr(e,yo);return v.createElement(hne,$c({},n,{ref:t}))});nN.displayName="CartesianAxis";var pne=["x1","y1","x2","y2","key"],gne=["offset"],xne=["xAxisId","yAxisId"],vne=["xAxisId","yAxisId"];function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(r){yne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yne(e,t,n){return(t=bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(null,arguments)}function t0(e,t){if(e==null)return{};var n,r,i=kne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function b4(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=t0(n,pne),f=(i=Ka(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=t0(f,gne);r=v.createElement("line",mc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Nne(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=t0(e,xne),l=i.map((c,d)=>{var f=Ci(Ci({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(b4,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Cne(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=t0(e,vne),l=i.map((c,d)=>{var f=Ci(Ci({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(b4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function jne(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Ane(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Pne=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return HI(tN(Ci(Ci(Ci({},yo),n),{},{ticks:qI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Dne=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return HI(tN(Ci(Ci(Ci({},yo),n),{},{ticks:qI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Tne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fi.grid};function dm(e){var t=Ik(),n=_k(),r=i_(),i=Ci(Ci({},Gr(e,Tne)),{},{x:Pt(e.x)?e.x:r.left,y:Pt(e.y)?e.y:r.top,width:Pt(e.width)?e.width:r.width,height:Pt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ca(),g=Ct($=>nP($,"xAxis",a,p)),y=Ct($=>nP($,"yAxis",s,p));if(!Gs(c)||!Gs(d)||!Pt(o)||!Pt(l))return null;var x=i.verticalCoordinatesGenerator||Pne,w=i.horizontalCoordinatesGenerator||Dne,{horizontalPoints:b,verticalPoints:N}=i;if((!b||!b.length)&&typeof w=="function"){var C=h&&h.length,S=w({yAxis:y?Ci(Ci({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);Ag(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!N||!N.length)&&typeof x=="function"){var j=m&&m.length,E=x({xAxis:g?Ci(Ci({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},j?!0:f);Ag(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return v.createElement(Ss,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Sne,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(jne,mc({},i,{horizontalPoints:b})),v.createElement(Ane,mc({},i,{verticalPoints:N})),v.createElement(Nne,mc({},i,{offset:r,horizontalPoints:b,xAxis:g,yAxis:y})),v.createElement(Cne,mc({},i,{offset:r,verticalPoints:N,xAxis:g,yAxis:y}))))}dm.displayName="CartesianGrid";var Ene={},w4=la({name:"errorBars",initialState:Ene,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:v0e,replaceErrorBar:y0e,removeErrorBar:b0e}=w4.actions,Mne=w4.reducer,One=["children"];function Ine(e,t){if(e==null)return{};var n,r,i=_ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$ne=v.createContext(Lne);function Fne(e){var{children:t}=e,n=Ine(e,One);return v.createElement($ne.Provider,{value:n},t)}function k4(e,t){var n,r,i=Ct(c=>$o(c,e)),a=Ct(c=>Fo(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ti.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ni.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Rne(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=JS(),{needClipX:a,needClipY:s,needClip:o}=k4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var S4=(e,t,n,r)=>nL(e,"xAxis",t,r),N4=(e,t,n,r)=>tL(e,"xAxis",t,r),C4=(e,t,n,r)=>nL(e,"yAxis",n,r),j4=(e,t,n,r)=>tL(e,"yAxis",n,r),Bne=xe([zn,S4,C4,N4,j4],(e,t,n,r,i)=>Ll(e,"xAxis")?jg(t,r,!1):jg(n,i,!1)),zne=(e,t,n,r,i)=>i;function Une(e){return e.type==="line"}var Vne=xe([_3,zne],(e,t)=>e.filter(Une).find(n=>n.id===t)),Wne=xe([zn,S4,C4,N4,j4,Vne,Bne,cS],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return _re({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function Hne(e){var t=Qu(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var qne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=v;function Kne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gne=typeof Object.is=="function"?Object.is:Kne,Yne=th.useSyncExternalStore,Xne=th.useRef,Qne=th.useEffect,Zne=th.useMemo,Jne=th.useDebugValue;qne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Xne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Zne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,Gne(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=Yne(e,a[0],a[1]);return Qne(function(){s.hasValue=!0,s.value=o},[o]),Jne(o),o};function ere(e){e()}function tre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ere(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var tD={notify(){},get:()=>[]};function nre(e,t){let n,r=tD,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=tre())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tD)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var rre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ire=rre(),are=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sre=are(),ore=()=>ire||sre?v.useLayoutEffect:v.useEffect,lre=ore();function nD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cre(e,t){if(nD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!nD(e[n[i]],t[n[i]]))return!1;return!0}var Zv=Symbol.for("react-redux-context"),Jv=typeof globalThis<"u"?globalThis:{};function ure(){if(!v.createContext)return{};const e=Jv[Zv]??(Jv[Zv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var dre=ure();function fre(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=nre(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);lre(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||dre;return v.createElement(o.Provider,{value:a},t)}var mre=fre,hre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function pre(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function rN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(hre.has(r)){if(e[r]==null&&t[r]==null)continue;if(!cre(e[r],t[r]))return!1}else if(!pre(e[r],t[r]))return!1;return!0}var gre=["id"],xre=["type","layout","connectNulls","needClip","shape"],vre=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fm.apply(null,arguments)}function rD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(n),!0).forEach(function(r){yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yre(e,t,n){return(t=bre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iN(e,t){if(e==null)return{};var n,r,i=kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sre=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:ix(n,t),payload:e}]},Nre=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:ix(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(f4,{tooltipEntrySettings:f})}),A4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Cre(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var jre=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return A4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...Cre(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Are(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=iN(r,gre),c=Ka(l);return v.createElement(hte,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Pre(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Rs(Rs({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(NJ,{value:t?i:void 0},n)}function iD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=iN(a,xre),h=Rs(Rs({},Bi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(d4,fm({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement(Are,{points:r,clipPathId:t,props:a}))}function Dre(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Tre(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,x=i.current,w=gx(s,"recharts-line-"),b=v.useRef(w),[N,C]=v.useState(!1),S=!N,j=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),E=v.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),$=Dre(r.current),D=v.useRef(0);b.current!==w&&(D.current=a.current,b.current=w);var _=D.current;return v.createElement(Pre,{points:s,showLabels:S},n.children,v.createElement(px,{animationId:w,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:E,key:w},O=>{var G=ji(_,$+_,O),Q=Math.min(G,$),ce;if(l)if(o){var pe="".concat(o).split(/[,\s]+/gim).map(ue=>parseFloat(ue));ce=jre(Q,$,pe)}else ce=A4($,Q);else ce=o==null?void 0:String(o);if(O>0&&$>0&&(i.current=s,a.current=Math.max(a.current,Q)),x){var X=x.length/s.length,W=O===1?s:s.map((ue,M)=>{var A=Math.floor(M*X);if(x[A]){var ae=x[A];return Rs(Rs({},ue),{},{x:ji(ae.x,ue.x,O),y:ji(ae.y,ue.y,O)})}return h?Rs(Rs({},ue),{},{x:ji(m*2,ue.x,O),y:ji(p/2,ue.y,O)}):Rs(Rs({},ue),{},{x:ue.x,y:ue.y})});return i.current=W,v.createElement(iD,{props:n,points:W,clipPathId:t,pathRef:r,strokeDasharray:ce})}return v.createElement(iD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ce})}),v.createElement(YL,{label:n.label}))}function Ere(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(Tre,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Mre=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:ar(e.payload,t)}};class Ore extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=In("recharts-line",i),g=f,{r:y,strokeWidth:x}=Hne(n),w=c4(n),b=y*2+x,N=h?"url(#clipPath-".concat(w?"":"dots-").concat(g,")"):void 0;return v.createElement(Ss,{zIndex:m},v.createElement(sa,{className:p},h&&v.createElement("defs",null,v.createElement(Rne,{clipPathId:g,xAxisId:a,yAxisId:s}),!w&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-b/2,y:o-b/2,width:c+b,height:d+b}))),v.createElement(Fne,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Mre,errorBarOffset:0},v.createElement(Ere,{props:this.props,clipPathId:g}))),v.createElement(Ite,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var P4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fi.line,type:"linear"};function Ire(e){var t=Gr(e,P4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=iN(t,vre),{needClip:x}=k4(m,p),w=JS(),b=Em(),N=ca(),C=Ct(D=>Wne(D,m,p,N,g));if(b!=="horizontal"&&b!=="vertical"||C==null||w==null)return null;var{height:S,width:j,x:E,y:$}=w;return v.createElement(Ore,fm({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:b,height:S,width:j,left:E,top:$,needClip:x}))}function _re(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=ar(c,s);if(t==="horizontal"){var h=hj({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Kr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Kr(f)?null:n.scale(f),g=hj({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Lre(e){var t=Gr(e,P4),n=ca();return v.createElement(m4,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(yee,{legendPayload:Sre(t)}),v.createElement(Nre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(Oee,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Ire,fm({},t,{id:r}))))}var uo=v.memo(Lre,rN);uo.displayName="Line";var $re=["domain","range"],Fre=["domain","range"];function aD(e,t){if(e==null)return{};var n,r,i=Rre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function D4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=aD(e,$re),{domain:a,range:s}=t,o=aD(t,Fre);return!sD(n,a)||!sD(r,s)?!1:rN(i,o)}var Bre=["dangerouslySetInnerHTML","ticks","scale"],zre=["id","scale"];function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bw.apply(null,arguments)}function oD(e,t){if(e==null)return{};var n,r,i=Ure(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vre(e){var t=er(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(yte(e)):n.current!==e&&t(bte({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(wte(n.current)),n.current=null)},[t]),null}var Wre=e=>{var{xAxisId:t,className:n}=e,r=Ct(XI),i=ca(),a="xAxis",s=Ct(x=>eL(x,a,t,i)),o=Ct(x=>JY(x,t)),l=Ct(x=>aX(x,t)),c=Ct(x=>M3(x,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=oD(e,Bre),{id:p,scale:g}=c,y=oD(c,zre);return v.createElement(nN,bw({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:In("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},Hre={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,angle:ti.angle,axisLine:yo.axisLine,height:ti.height,hide:!1,includeHidden:ti.includeHidden,interval:ti.interval,minTickGap:ti.minTickGap,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,tickLine:yo.tickLine,tickSize:yo.tickSize,type:ti.type,xAxisId:0},qre=e=>{var t=Gr(e,Hre);return v.createElement(v.Fragment,null,v.createElement(Vre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Wre,t))},mm=v.memo(qre,D4);mm.displayName="XAxis";var Kre=["dangerouslySetInnerHTML","ticks","scale"],Gre=["id","scale"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(null,arguments)}function lD(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xre(e){var t=er(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(kte(e)):n.current!==e&&t(Ste({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Nte(n.current)),n.current=null)},[t]),null}var Qre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=Ct(XI),l=ca(),c=er(),d="yAxis",f=Ct(S=>lX(S,t)),h=Ct(S=>oX(S,t)),m=Ct(S=>eL(S,d,t,l)),p=Ct(S=>O3(S,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||YS(i)||v.isValidElement(i)||p==null)){var S=a.current;if(S){var j=S.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(Cte({id:t,width:j}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,w=lD(e,Kre),{id:b,scale:N}=p,C=lD(p,Gre);return v.createElement(nN,ww({},w,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:In("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},Zre={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,angle:ni.angle,axisLine:yo.axisLine,hide:!1,includeHidden:ni.includeHidden,interval:ni.interval,minTickGap:ni.minTickGap,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,tickLine:yo.tickLine,tickSize:yo.tickSize,type:ni.type,width:ni.width,yAxisId:0},Jre=e=>{var t=Gr(e,Zre);return v.createElement(v.Fragment,null,v.createElement(Xre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Qre,t))},hm=v.memo(Jre,D4);hm.displayName="YAxis";var eie=(e,t)=>t,aN=xe([eie,zn,D3,Xr,vL,Ro,NQ,si],EQ),sN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},T4=Ga("mouseClick"),E4=Dm();E4.startListening({actionCreator:T4,effect:(e,t)=>{var n=e.payload,r=aN(t.getState(),sN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(kX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kw=Ga("mouseMove"),M4=Dm(),rp=null;M4.startListening({actionCreator:kw,effect:(e,t)=>{var n=e.payload;rp!==null&&cancelAnimationFrame(rp);var r=sN(n);rp=requestAnimationFrame(()=>{var i=t.getState(),a=RS(i,i.tooltip.settings.shared);if(a==="axis"){var s=aN(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(uL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(cL())}rp=null})}});function tie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var cD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},O4=la({name:"rootProps",initialState:cD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:cD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),nie=O4.reducer,{updateOptions:rie}=O4.actions,I4=la({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:iie}=I4.actions,aie=I4.reducer,_4=Ga("keyDown"),L4=Ga("focus"),oN=Dm();oN.startListening({actionCreator:_4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=BS(i,kd(n),zm(n),Wm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ro(n);if(a==="Enter"){var c=Yg(n,"axis","hover",String(i.index));t.dispatch(hw({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=fX(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=Yg(n,"axis","hover",String(m));t.dispatch(hw({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});oN.startListening({actionCreator:L4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Yg(n,"axis","hover",String(a));t.dispatch(hw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var La=Ga("externalEvent"),$4=Dm(),ey=new Map;$4.startListening({actionCreator:La,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=ey.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:lQ(o),activeDataKey:kL(o),activeIndex:ad(o),activeLabel:wL(o),activeTooltipIndex:ad(o),isTooltipActive:cQ(o)};n(l,r)}finally{ey.delete(i)}});ey.set(i,s)}}});var sie=xe([bd],e=>e.tooltipItemPayloads),oie=xe([sie,Vm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),F4=Ga("touchMove"),R4=Dm();R4.startListening({actionCreator:F4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=RS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=aN(r,sN({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(uL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(GI),f=(o=c.getAttribute(YI))!==null&&o!==void 0?o:void 0,h=wd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=oie(r,d,f);t.dispatch(lL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var lie=gI({brush:_te,cartesianAxis:jte,chartData:oZ,errorBars:Mne,graphicalItems:Eee,layout:V9,legend:WH,options:nZ,polarAxis:_J,polarOptions:aie,referenceElements:Ute,rootProps:nie,tooltip:SX,zIndex:HQ}),cie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return h9({reducer:lie,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([E4.middleware,M4.middleware,oN.middleware,$4.middleware,R4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(EI({type:"raf"}))},devTools:{serialize:{replacer:tie},name:"recharts-".concat(n)}})};function B4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ca(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=cie(t,r));var s=Nk;return v.createElement(mre,{context:s,store:a.current},n)}function uie(e){var{layout:t,margin:n}=e,r=er(),i=ca();return v.useEffect(()=>{i||(r(B9(t)),r(R9(n)))},[r,i,t,n]),null}var z4=v.memo(uie,rN);function U4(e){var t=er();return v.useEffect(()=>{t(rie(e))},[t,e]),null}function uD(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=er();return v.useLayoutEffect(()=>(r.current&&i(VQ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(WQ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function dD(e){var{children:t,isPanorama:n}=e,r=Ct(OQ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(uD,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(uD,{key:s,zIndex:s,isPanorama:n})))}var die=["children"];function fie(e,t){if(e==null)return{};var n,r,i=mie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}var hie={width:"100%",height:"100%",display:"block"},pie=v.forwardRef((e,t)=>{var n=Ik(),r=_k(),i=g_();if(!Gs(n)||!Gs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(lk,n0({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:hie,ref:t}),a)}),gie=e=>{var{children:t}=e,n=Ct(lx);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(lk,{width:r,height:i,x:s,y:a},t)},fD=v.forwardRef((e,t)=>{var{children:n}=e,r=fie(e,die),i=ca();return i?v.createElement(gie,null,v.createElement(dD,{isPanorama:!0},n)):v.createElement(pie,n0({ref:t},r),v.createElement(dD,{isPanorama:!1},n))});function xie(){var e=er(),[t,n]=v.useState(null),r=Ct(iH);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ur(a)&&a!==r&&e(U9(a))}},[t,e,r]),n}function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(n),!0).forEach(function(r){yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t,n){return(t=bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bie(e){var t=wie(e,"string");return typeof t=="symbol"?t:t+""}function wie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(null,arguments)}var kie=()=>(gZ(),null);function r0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Sie=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:r0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:r0((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(ux,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Fc({ref:l},e)))}),Nie=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:r0(n),containerHeight:r0(r)}),s=v.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(ux,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Fc({ref:o},e)))}),Cie=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(ux,{width:n,height:r}),v.createElement("div",Fc({ref:t},e)))}),jie=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return jo(n)||jo(r)?v.createElement(Nie,Fc({},e,{ref:t})):v.createElement(Cie,Fc({},e,{ref:t}))});function Aie(e){return e===!0?Sie:jie}var Pie=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:x,responsive:w,dispatchTouchEvents:b=!0}=e,N=v.useRef(null),C=er(),[S,j]=v.useState(null),[E,$]=v.useState(null),D=xie(),_=Ok(),O=(_==null?void 0:_.width)>0?_.width:x,G=(_==null?void 0:_.height)>0?_.height:i,Q=v.useCallback(F=>{D(F),typeof t=="function"&&t(F),j(F),$(F),F!=null&&(N.current=F)},[D,t,j,$]),ce=v.useCallback(F=>{C(T4(F)),C(La({handler:a,reactEvent:F}))},[C,a]),pe=v.useCallback(F=>{C(kw(F)),C(La({handler:c,reactEvent:F}))},[C,c]),X=v.useCallback(F=>{C(cL()),C(La({handler:d,reactEvent:F}))},[C,d]),W=v.useCallback(F=>{C(kw(F)),C(La({handler:f,reactEvent:F}))},[C,f]),ue=v.useCallback(()=>{C(L4())},[C]),M=v.useCallback(F=>{C(_4(F.key))},[C]),A=v.useCallback(F=>{C(La({handler:s,reactEvent:F}))},[C,s]),ae=v.useCallback(F=>{C(La({handler:o,reactEvent:F}))},[C,o]),k=v.useCallback(F=>{C(La({handler:l,reactEvent:F}))},[C,l]),z=v.useCallback(F=>{C(La({handler:h,reactEvent:F}))},[C,h]),U=v.useCallback(F=>{C(La({handler:g,reactEvent:F}))},[C,g]),J=v.useCallback(F=>{b&&C(F4(F)),C(La({handler:p,reactEvent:F}))},[C,b,p]),Z=v.useCallback(F=>{C(La({handler:m,reactEvent:F}))},[C,m]),ie=Aie(w);return v.createElement(DL.Provider,{value:S},v.createElement(p5.Provider,{value:E},v.createElement(ie,{width:O??(y==null?void 0:y.width),height:G??(y==null?void 0:y.height),className:In("recharts-wrapper",r),style:vie({position:"relative",cursor:"default",width:O,height:G},y),onClick:ce,onContextMenu:A,onDoubleClick:ae,onFocus:ue,onKeyDown:M,onMouseDown:k,onMouseEnter:pe,onMouseLeave:X,onMouseMove:W,onMouseUp:z,onTouchEnd:Z,onTouchMove:J,onTouchStart:U,ref:Q},v.createElement(kie,null),n)))}),Die=["width","height","responsive","children","className","style","compact","title","desc"];function Tie(e,t){if(e==null)return{};var n,r,i=Eie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var V4=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Tie(e,Die),h=Ka(f);return l?v.createElement(v.Fragment,null,v.createElement(ux,{width:n,height:r}),v.createElement(fD,{otherAttributes:h,title:c,desc:d},a)):v.createElement(Pie,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(fD,{otherAttributes:h,title:c,desc:d,ref:t},v.createElement(Wte,null,a)))});function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sw.apply(null,arguments)}var Mie={top:5,right:5,bottom:5,left:5},Oie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Mie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Iie=v.forwardRef(function(t,n){var r,i=Gr(t.categoricalChartProps,Oie),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(B4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(g4,{chartData:c.data}),v.createElement(z4,{layout:i.layout,margin:i.margin}),v.createElement(U4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(V4,Sw({},i,{ref:n})))}),_ie=["axis"],i0=v.forwardRef((e,t)=>v.createElement(Iie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_ie,tooltipPayloadSearcher:EL,categoricalChartProps:e,ref:t}));function Lie(e){var t=er();return v.useEffect(()=>{t(iie(e))},[t,e]),null}var $ie=["layout"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(null,arguments)}function Fie(e,t){if(e==null)return{};var n,r,i=Rie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bie={top:5,right:5,bottom:5,left:5},W4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zie=v.forwardRef(function(t,n){var r,i=Gr(t.categoricalChartProps,W4),{layout:a}=i,s=Fie(i,$ie),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(B4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(g4,{chartData:i.data}),v.createElement(z4,{layout:a,margin:i.margin}),v.createElement(U4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(Lie,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(V4,Nw({},s,{ref:n})))});function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){Uie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uie(e,t,n){return(t=Vie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hie=["item"],qie=pD(pD({},W4),{},{layout:"centric",startAngle:0,endAngle:360}),Cw=v.forwardRef((e,t)=>{var n=Gr(e,qie);return v.createElement(zie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hie,tooltipPayloadSearcher:EL,categoricalChartProps:n,ref:t})});const En=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),gD="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",wf=new Map,zu=new Map,Kie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(wf.has(r)||zu.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&wf.set(r,s),s})();zu.set(r,i);try{await i}finally{zu.delete(r)}}))},Gie=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:wf.get(e)||gD:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=wf.get(e);if(r){n(r);return}let i=!0;const a=zu.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&wf.set(e,l),l})();return zu.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(gD)}}).finally(()=>{zu.delete(e)}),()=>{i=!1}},[e]),t},Yie=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(E=>{let $=(E==null?void 0:E.parentElement)||null;for(;$;){const D=window.getComputedStyle($),_=`${D.overflow}${D.overflowY}${D.overflowX}`;if(/(auto|scroll|hidden)/.test(_))return $;$=$.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,x=f.top-g.top,w=y<h.height+8&&x>y?"top":"bottom";a(w);const b=6,N=f.left+f.width/2,C=g.left+b+h.width/2,S=g.right-b-h.width/2,j=Math.min(Math.max(N,C),S);o(j-N)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},Xie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},H4=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,w=window.innerWidth-i-h.width/2,b=Math.min(Math.max(y,x),w);s({position:"fixed",top:g,left:b,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},Qie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=cc(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=Yie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(w=>vc(w||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((w,b)=>`${w} ${b*360/p.length}deg ${(b+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(w=>{const b=cc(w||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[b?u.jsx("img",{src:b,alt:w||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:w||"Unknown"})]},w)})})]})]})]})},Zie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(Qie,{profession:e,professionList:t,className:n}),ty=({count:e,classCounts:t,label:n,className:r})=>{const i=Xie(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=H4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&md.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=cc(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},hr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=Gie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?u.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},xD=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),c=H4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&md.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(hr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},Jie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:w,skillUsageData:b,skillUsageSkillFilter:N,setSkillUsageSkillFilter:C,selectedSkillId:S,setSelectedSkillId:j,skillBarData:E,selectedSkillName:$,selectedSkillIcon:D,skillUsageReady:_,skillUsageAvailable:O,isSkillUsagePerSecond:G,skillChartData:Q,skillChartMaxY:ce,playerTotalsForSkill:pe,hoveredSkillPlayer:X,setHoveredSkillPlayer:W,getLineStrokeColor:ue,getLineDashForPlayer:M,formatSkillUsageValue:A,renderProfessionIcon:ae})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(X1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(En,{value:x,onChange:w,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[b.logRecords.length," ",b.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const z=d.get(k);return z?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:z.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[z.logs," ",z.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(z.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(YO,{className:"w-3 h-3"})})]},z.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const z=h===k.profession,U=k.players.map(Z=>Z.key),J=U.length>0&&U.every(Z=>o.includes(Z));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(z){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${z?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),z?u.jsx(Nb,{className:"w-3.5 h-3.5"}):u.jsx(eU,{className:"w-3.5 h-3.5"})]})]})}),z&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(Z=>{if(J)return Z.filter(F=>!U.includes(F));const ie=new Set(Z);return U.forEach(F=>ie.add(F)),Array.from(ie)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:J?"Clear All":"Select All"})]}),k.players.map(Z=>{const ie=o.includes(Z.key);return u.jsx("button",{type:"button",onClick:()=>p(Z.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${ie?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Z.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[Z.account,"  ",Z.profession,"  ",Z.logs," ",Z.logs===1?"log":"logs"]})]}),ie&&u.jsx(qO,{className:"w-4 h-4 text-cyan-300"})]})},Z.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${G?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:N,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):E.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=E.reduce((z,U)=>Math.max(z,U.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:E.map((z,U)=>{const J=Math.min(100,z.total/k*100),Z=S===z.skillId;return u.jsxs("button",{type:"button",onClick:()=>j(z.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${Z?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${U+1}`}),u.jsx(hr,{name:z.name,iconUrl:z.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:A(z.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${J}%`,backgroundColor:z.color}})})]},z.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:_?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$?u.jsx(hr,{name:$,iconUrl:D,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",G?"casts per second":"casts per log",")"]})]}),u.jsx(Mc,{width:"100%",height:250,children:u.jsxs(i0,{data:Q,children:[u.jsx(dm,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(mm,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const z=Q[k],U=String((z==null?void 0:z.shortLabel)??k);return U.length>20?`${U.slice(0,20)}`:U}}),u.jsx(hm,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ce)],allowDecimals:!1}),u.jsx(Lc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:z,label:U})=>{var F;if(!k||!z||z.length===0)return null;const J=[...z].sort((B,V)=>(V.value||0)-(B.value||0)),Z=J[0],ie=((F=Z==null?void 0:Z.payload)==null?void 0:F.fullLabel)||U;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:ie}),u.jsx("div",{className:"space-y-1",children:J.map(B=>{const V=String(B.name||""),Y=d.get(V),R=(Y==null?void 0:Y.displayName)||V||"Player",oe=A(Number(B.value||0)),q=B.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:q},children:R}),u.jsx("span",{className:"text-gray-200 font-mono",children:oe})]},`${R}-${oe}`)})})]})}}),o.map(k=>{const z=X.includes(k),U=X.length>0,J=ue(k,z,U),Z=M(k),ie=X.length>0&&!z;return u.jsx(uo,{dataKey:k,stroke:J,strokeWidth:z?4:3,strokeDasharray:Z,opacity:ie?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,z)=>(pe.get(z)||0)-(pe.get(k)||0)).map(k=>{const z=d.get(k),U=pe.get(k)??0,J=X.includes(k),Z=X.length>0,ie=ue(k,J,Z);return u.jsxs("button",{type:"button",onClick:()=>{W(F=>F.includes(k)?F.filter(B=>B!==k):[...F,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${J?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":J,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:ie,strokeWidth:"2",strokeDasharray:M(k),strokeLinecap:"round"})}),ae(z==null?void 0:z.profession,z==null?void 0:z.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(z==null?void 0:z.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(z==null?void 0:z.logs)??0," ",((z==null?void 0:z.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:A(U)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),eae=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:b,clientWidth:N,scrollLeft:C}=h,S=b>N,j=n.current,E=(j==null?void 0:j.clientWidth)||0;if(!E){m=window.requestAnimationFrame(p);return}if(!S){i(E),s(0);return}const $=N/b,D=Math.max(20,Math.floor(E*$)),_=b-N,O=Math.max(0,E-D),G=_>0?Math.floor(C/_*O):0;i(D),s(G)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const w=new MutationObserver(()=>p());return w.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),w.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const x=g.getBoundingClientRect(),w=p.clientX-l.current,b=Math.max(0,x.width-r),N=Math.min(b,Math.max(0,c.current+w)),C=y.scrollWidth-y.clientWidth,S=b>0?N/b*C:0;y.scrollLeft=S},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,x=Math.max(0,g.width-r),w=Math.min(x,Math.max(0,y-r/2)),b=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?w/x*b:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},vs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(eae,{containerRef:c})]})},ys=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=w=>{f.current&&(f.current.contains(w.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(w=>w.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((w,b)=>{x.set(`${w.type}-${w.id}`,b)}),x},[p]),y=v.useMemo(()=>{const x=p.filter(b=>b.type==="column"),w=p.filter(b=>b.type==="player");return{columns:x,players:w}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[c];if(!x)return;const w=`${x.type}-${x.id}`,b=m.current.get(w);b&&h.current&&b.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(w=>(w+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(w=>(w-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const w=p[c];if(!w)return;r(w),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:b=>{m.current.set(`${x.type}-${x.id}`,b)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const b=g.get(`${x.type}-${x.id}`);typeof b=="number"&&d(b)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:b=>{m.current.set(`${x.type}-${x.id}`,b)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const b=g.get(`${x.type}-${x.id}`);typeof b=="number"&&d(b)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},pr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},tae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:w,setApmSkillSearch:b,activeApmSpecTable:N,activeApmSkill:C,isAllApmSkills:S,apmView:j,setApmView:E,formatApmValue:$,formatCastRateValue:D,formatCastCountValue:_,renderProfessionIcon:O})=>{var Z;const[G,Q]=v.useState({key:"apm",dir:"desc"}),ce=e==="apm-stats",[pe,X]=v.useState({columnId:"",dir:"desc"}),[W,ue]=v.useState([]),[M,A]=v.useState([]),[ae,k]=v.useState({}),z=ce?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,U=ie=>{Q(F=>({key:ie,dir:F.key===ie&&F.dir==="desc"?"asc":"desc"}))},J=v.useMemo(()=>{const ie=[...(N==null?void 0:N.playerRows)||[]];return ie.sort((F,B)=>{const V=G.key==="apm"?Number(j==="perSecond"?F.aps:F.apm):Number(j==="perSecond"?F.apsNoAuto:F.apmNoAuto),Y=G.key==="apm"?Number(j==="perSecond"?B.aps:B.apm):Number(j==="perSecond"?B.apsNoAuto:B.apmNoAuto);return(G.dir==="desc"?Y-V:V-Y)||String(F.displayName||"").localeCompare(String(B.displayName||""))}),ie},[N,G,j]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(ek,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:w,onChange:ie=>b(ie.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:z,children:d.map(ie=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=f!==ie.profession;h(ie.profession),p(F?ie.profession:m===ie.profession?null:ie.profession),F&&(y(x),ue([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===ie.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(ie.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ie.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[ie.players.length,"p"]})})]})}),!ce&&m===ie.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:ae[ie.profession]||"",onChange:F=>{const B=F.target.value;k(V=>({...V,[ie.profession]:B}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(ie.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ie.profession&&S?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(ie.skills||[]).filter(F=>{const B=(ae[ie.profession]||"").trim().toLowerCase();return B?String(F.name||"").toLowerCase().includes(B):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{h(ie.profession),y(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ie.profession&&g===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),(ie.skills||[]).filter(F=>{const B=(ae[ie.profession]||"").trim().toLowerCase();return B?String(F.name||"").toLowerCase().includes(B):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ie.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ce&&(()=>{const ie=N.skills||[],F=(N.playerRows||[]).map(R=>({id:R.key,label:R.displayName||R.account||R.key,icon:O(R.profession,R.professionList,"w-3 h-3")})),B=ie.map(R=>({id:R.id,label:R.name,icon:R.icon?u.jsx("img",{src:R.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),V=[...ie.map(R=>({id:R.id,label:R.name,type:"column",icon:R.icon?u.jsx("img",{src:R.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map(R=>({id:R.key,label:R.displayName||R.account||R.key,type:"player",icon:O(R.profession,R.professionList,"w-3 h-3")}))],Y=new Set([...W.map(R=>`column:${R}`),...M.map(R=>`player:${R}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:V,selectedIds:Y,onSelect:R=>{R.type==="column"?ue(oe=>oe.includes(R.id)?oe.filter(q=>q!==R.id):[...oe,R.id]):A(oe=>oe.includes(R.id)?oe.filter(q=>q!==R.id):[...oe,R.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:B,selectedIds:W,onToggle:R=>{ue(oe=>oe.includes(R)?oe.filter(q=>q!==R):[...oe,R])},onClear:()=>ue([]),buttonLabel:"Columns",buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:F,selectedIds:M,onToggle:R=>{A(oe=>oe.includes(R)?oe.filter(q=>q!==R):[...oe,R])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:j,onChange:E,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(W.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ue([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),W.map(R=>{var q;const oe=((q=ie.find(te=>te.id===R))==null?void 0:q.name)||R;return u.jsxs("button",{type:"button",onClick:()=>ue(te=>te.filter(Oe=>Oe!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:oe}),u.jsx("span",{className:"text-gray-400",children:""})]},R)}),M.map(R=>{var q;const oe=((q=F.find(te=>te.id===R))==null?void 0:q.label)||R;return u.jsxs("button",{type:"button",onClick:()=>A(te=>te.filter(Oe=>Oe!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:oe}),u.jsx("span",{className:"text-gray-400",children:""})]},R)})]})]})})(),ce?(()=>{var R,oe;const ie=N.skills||[],F=W.length>0?ie.filter(q=>W.includes(q.id)):ie,B=M.length>0?(N.playerRows||[]).filter(q=>M.includes(q.key)):N.playerRows||[];if(ie.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const V=((R=F.find(q=>q.id===pe.columnId))==null?void 0:R.id)||((oe=F[0])==null?void 0:oe.id)||"",Y=[...B].map(q=>{const te={},Oe={};return F.forEach(Ie=>{var ke;const he=Number(((ke=Ie.playerCounts)==null?void 0:ke.get(q.key))||0),L=j==="perSecond"?he/Math.max(1,q.totalActiveSeconds||0):he;Oe[Ie.id]=L,te[Ie.id]=j==="perSecond"?D(L):_(L)}),{row:q,values:te,numericValues:Oe}}).sort((q,te)=>{const Oe=q.numericValues[V]??0,Ie=te.numericValues[V]??0;return(pe.dir==="desc"?Ie-Oe:Oe-Ie)||String(q.row.displayName||"").localeCompare(String(te.row.displayName||""))});return u.jsx(vs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:V,sortDirection:pe.dir,onSortColumn:q=>{X(te=>({columnId:q,dir:te.columnId===q&&te.dir==="desc"?"asc":"desc"}))},columns:F.map(q=>({id:q.id,label:u.jsx(hr,{name:q.name,iconUrl:q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Y.map((q,te)=>({id:`${N.profession}-${q.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),O(q.row.profession,q.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.row.displayName})]}),values:q.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(N.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),S||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(hr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:S||!C?`${((Z=N.playerRows)==null?void 0:Z.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),S||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>U("apm"),className:`text-right transition-colors ${G.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM",G.key==="apm"?G.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>U("apmNoAuto"),className:`text-right transition-colors ${G.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM"," (No Auto)",G.key==="apmNoAuto"?G.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:j==="perSecond"?"APS":"APM"})]})]}),S||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:J.map((ie,F)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(ie.profession,ie.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ie.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(j==="perSecond"?ie.aps:ie.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(j==="perSecond"?ie.apsNoAuto:ie.apmNoAuto)})]},`${N.profession}-all-${ie.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((ie,F)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(ie.profession,ie.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ie.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(ie.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(j==="perSecond"?ie.aps||0:ie.apm||0))})]},`${N.profession}-${C.id}-${ie.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},nae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:w,setActiveClassKey:b,expandedClassKey:N,setExpandedClassKey:C,activeClassSkillId:S,setActiveClassSkillId:j,skillSearch:E,setSkillSearch:$,activePlayerBreakdown:D,activePlayerSkill:_,activeClassBreakdown:O,activeClassSkill:G,renderProfessionIcon:Q})=>{const ce=d.length,pe=((D==null?void 0:D.skills)||[]).reduce((q,te)=>q+(te.damage||0),0),X=(O==null?void 0:O.players)||[],[W,ue]=v.useState({key:"down",dir:"desc"}),M=e==="player-breakdown",[A,ae]=v.useState([]),[k,z]=v.useState([]),[U,J]=v.useState({columnId:"",dir:"desc"}),[Z,ie]=v.useState({}),[F,B]=v.useState({}),V=(q,te)=>{var Ie;if(!te)return null;const Oe=(Ie=q.skillMap)==null?void 0:Ie[te];return Oe||q.skills.find(he=>he.id===te)||null},Y=M?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,R=v.useMemo(()=>{if(!O||!G)return X;const q=[...X];return q.sort((te,Oe)=>{const Ie=V(te,G.id),he=V(Oe,G.id),L=Number((Ie==null?void 0:Ie.downContribution)||0),ke=Number((he==null?void 0:he.downContribution)||0),Ne=Number((Ie==null?void 0:Ie.damage)||0),ct=Number((he==null?void 0:he.damage)||0),Ot=te.totalFightMs>0?Ne/(te.totalFightMs/1e3):0,dn=Oe.totalFightMs>0?ct/(Oe.totalFightMs/1e3):0;let ve=0;return W.key==="down"&&(ve=L-ke),W.key==="damage"&&(ve=Ne-ct),W.key==="dps"&&(ve=Ot-dn),W.dir==="asc"?ve:-ve}),q},[O,X,G,W]),oe=q=>{ue(te=>te.key!==q?{key:q,dir:"desc"}:{key:q,dir:te.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Q1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ce," ",ce===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:M?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!M&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(q=>{const te=l===q.id;return u.jsx("button",{type:"button",onClick:()=>c(q.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${te?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:q.label},q.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:E,onChange:q=>$(q.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:Y,children:(M?"class":l)==="player"?d.map(q=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const te=h!==q.key;te&&(x(null),ae([]),z([])),m(q.key),g(te?q.key:p===q.key?null:q.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===q.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:q.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(q.profession,q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:q.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[q.skills.length," skills"]})})]})}),!M&&p===q.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:Z[q.key]||"",onChange:te=>{const Oe=te.target.value;ie(Ie=>({...Ie,[q.key]:Oe}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),q.skills.filter(te=>{const Oe=(Z[q.key]||"").trim().toLowerCase();return Oe?String(te.name||"").toLowerCase().includes(Oe):!0}).map(te=>u.jsx("button",{type:"button",onClick:()=>{m(q.key),x(te.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===q.key&&y===te.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:te.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te.icon?u.jsx("img",{src:te.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:te.name})]})},te.id)),q.skills.filter(te=>{const Oe=(Z[q.key]||"").trim().toLowerCase();return Oe?String(te.name||"").toLowerCase().includes(Oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},q.key)):f.map(q=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const te=w!==q.profession;te&&(j(null),ae([]),z([])),b(q.profession),C(te?q.profession:N===q.profession?null:q.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${w===q.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(q.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[q.players.length,"p"]})})]})}),!M&&N===q.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:F[q.profession]||"",onChange:te=>{const Oe=te.target.value;B(Ie=>({...Ie,[q.profession]:Oe}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),q.skills.filter(te=>{const Oe=(F[q.profession]||"").trim().toLowerCase();return Oe?String(te.name||"").toLowerCase().includes(Oe):!0}).map(te=>u.jsx("button",{type:"button",onClick:()=>{b(q.profession),j(te.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${w===q.profession&&S===te.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:te.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te.icon?u.jsx("img",{src:te.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:te.name})]})},te.id)),q.skills.filter(te=>{const Oe=(F[q.profession]||"").trim().toLowerCase();return Oe?String(te.name||"").toLowerCase().includes(Oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},q.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(M?"class":l)==="player"?!D||!M&&!_?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[M&&(()=>{const q=D.skills||[],te=d.map(L=>({id:L.key,label:L.displayName||L.key,icon:Q(L.profession,L.professionList,"w-3 h-3")})),Oe=q.map(L=>({id:L.id,label:L.name,icon:L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ie=[...q.map(L=>({id:L.id,label:L.name,type:"column",icon:L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(L=>({id:L.key,label:L.displayName||L.key,type:"player",icon:Q(L.profession,L.professionList,"w-3 h-3")}))],he=new Set([...A.map(L=>`column:${L}`),...k.map(L=>`player:${L}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:Ie,selectedIds:he,onSelect:L=>{L.type==="column"?ae(ke=>ke.includes(L.id)?ke.filter(Ne=>Ne!==L.id):[...ke,L.id]):z(ke=>ke.includes(L.id)?ke.filter(Ne=>Ne!==L.id):[...ke,L.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:Oe,selectedIds:A,onToggle:L=>{ae(ke=>ke.includes(L)?ke.filter(Ne=>Ne!==L):[...ke,L])},onClear:()=>ae([]),buttonLabel:"Columns",buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:te,selectedIds:k,onToggle:L=>{z(ke=>ke.includes(L)?ke.filter(Ne=>Ne!==L):[...ke,L])},onClear:()=>z([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ae([]),z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(L=>{var Ne;const ke=((Ne=q.find(ct=>ct.id===L))==null?void 0:Ne.name)||L;return u.jsxs("button",{type:"button",onClick:()=>ae(ct=>ct.filter(Ot=>Ot!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ke}),u.jsx("span",{className:"text-gray-400",children:""})]},L)}),k.map(L=>{var Ne;const ke=((Ne=te.find(ct=>ct.id===L))==null?void 0:Ne.label)||L;return u.jsxs("button",{type:"button",onClick:()=>z(ct=>ct.filter(Ot=>Ot!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ke}),u.jsx("span",{className:"text-gray-400",children:""})]},L)})]})]})})(),M?(()=>{var L,ke;const q=D.skills||[],te=A.length>0?q.filter(Ne=>A.includes(Ne.id)):q,Oe=k.length>0?d.filter(Ne=>k.includes(Ne.key)):d,Ie=((L=te.find(Ne=>Ne.id===U.columnId))==null?void 0:L.id)||((ke=te[0])==null?void 0:ke.id)||"",he=Oe.map(Ne=>{const ct={},Ot={};return te.forEach(dn=>{const ve=V(Ne,dn.id),Ke=Number((ve==null?void 0:ve.damage)||0);Ot[dn.id]=Ke,ct[dn.id]=nl(Ke)}),{player:Ne,values:ct,numericValues:Ot}}).sort((Ne,ct)=>{const Ot=Ne.numericValues[Ie]??0,dn=ct.numericValues[Ie]??0;return(U.dir==="desc"?dn-Ot:Ot-dn)||String(Ne.player.displayName||"").localeCompare(String(ct.player.displayName||""))});return u.jsx(vs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ie,sortDirection:U.dir,onSortColumn:Ne=>{J(ct=>({columnId:Ne,dir:ct.columnId===Ne&&ct.dir==="desc"?"asc":"desc"}))},columns:te.map(Ne=>({id:Ne.id,label:u.jsx(hr,{name:Ne.name,iconUrl:Ne.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:he.map((Ne,ct)=>({id:`${Ne.player.key}-${ct}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ct+1}),Q(Ne.player.profession,Ne.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ne.player.displayName})]}),values:Ne.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Q(D.profession,D.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(hr,{name:(_==null?void 0:_.name)||"",iconUrl:_==null?void 0:_.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[D.skills.length," skills | ",nl(pe)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:nl((_==null?void 0:_.downContribution)||0)},{label:"Total Damage",value:nl((_==null?void 0:_.damage)||0)},{label:"DPS",value:wi(D.totalFightMs>0?((_==null?void 0:_.damage)||0)/(D.totalFightMs/1e3):0,1)}].map(q=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:q.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:q.value})]},q.label))})]})]}):!O||!M&&!G?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[M&&(()=>{const q=O.skills||[],te=X.map(L=>({id:L.key,label:L.displayName||L.key,icon:Q(L.profession,L.professionList,"w-3 h-3")})),Oe=q.map(L=>({id:L.id,label:L.name,icon:L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ie=[...q.map(L=>({id:L.id,label:L.name,type:"column",icon:L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-4 w-4"}):void 0})),...X.map(L=>({id:L.key,label:L.displayName||L.key,type:"player",icon:Q(L.profession,L.professionList,"w-3 h-3")}))],he=new Set([...A.map(L=>`column:${L}`),...k.map(L=>`player:${L}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:Ie,selectedIds:he,onSelect:L=>{L.type==="column"?ae(ke=>ke.includes(L.id)?ke.filter(Ne=>Ne!==L.id):[...ke,L.id]):z(ke=>ke.includes(L.id)?ke.filter(Ne=>Ne!==L.id):[...ke,L.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:Oe,selectedIds:A,onToggle:L=>{ae(ke=>ke.includes(L)?ke.filter(Ne=>Ne!==L):[...ke,L])},onClear:()=>ae([]),buttonLabel:"Columns",buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:te,selectedIds:k,onToggle:L=>{z(ke=>ke.includes(L)?ke.filter(Ne=>Ne!==L):[...ke,L])},onClear:()=>z([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ae([]),z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(L=>{var Ne;const ke=((Ne=q.find(ct=>ct.id===L))==null?void 0:Ne.name)||L;return u.jsxs("button",{type:"button",onClick:()=>ae(ct=>ct.filter(Ot=>Ot!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ke}),u.jsx("span",{className:"text-gray-400",children:""})]},L)}),k.map(L=>{var Ne;const ke=((Ne=te.find(ct=>ct.id===L))==null?void 0:Ne.label)||L;return u.jsxs("button",{type:"button",onClick:()=>z(ct=>ct.filter(Ot=>Ot!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ke}),u.jsx("span",{className:"text-gray-400",children:""})]},L)})]})]})})(),M?(()=>{var L,ke;const q=O.skills||[],te=A.length>0?q.filter(Ne=>A.includes(Ne.id)):q,Oe=k.length>0?X.filter(Ne=>k.includes(Ne.key)):X,Ie=((L=te.find(Ne=>Ne.id===U.columnId))==null?void 0:L.id)||((ke=te[0])==null?void 0:ke.id)||"",he=Oe.map(Ne=>{const ct={},Ot={};return te.forEach(dn=>{const ve=V(Ne,dn.id),Ke=Number((ve==null?void 0:ve.damage)||0);Ot[dn.id]=Ke,ct[dn.id]=nl(Ke)}),{player:Ne,values:ct,numericValues:Ot}}).sort((Ne,ct)=>{const Ot=Ne.numericValues[Ie]??0,dn=ct.numericValues[Ie]??0;return(U.dir==="desc"?dn-Ot:Ot-dn)||String(Ne.player.displayName||"").localeCompare(String(ct.player.displayName||""))});return u.jsx(vs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ie,sortDirection:U.dir,onSortColumn:Ne=>{J(ct=>({columnId:Ne,dir:ct.columnId===Ne&&ct.dir==="desc"?"asc":"desc"}))},columns:te.map(Ne=>({id:Ne.id,label:u.jsx(hr,{name:Ne.name,iconUrl:Ne.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:he.map((Ne,ct)=>({id:`${Ne.player.key}-${ct}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ct+1}),Q(Ne.player.profession,Ne.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Ne.player.displayName})]}),values:Ne.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Q(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(hr,{name:(G==null?void 0:G.name)||"",iconUrl:G==null?void 0:G.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[X.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>oe("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:W.key==="down"?W.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>oe("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:W.key==="damage"?W.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>oe("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:W.key==="dps"?W.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:R.map(q=>{const te=V(q,(G==null?void 0:G.id)||""),Oe=Number((te==null?void 0:te.downContribution)||0),Ie=Number((te==null?void 0:te.damage)||0),he=q.totalFightMs>0?Ie/(q.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(q.profession,q.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:q.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:nl(Oe)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:nl(Ie)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:wi(he,1)})]},`${O.profession}-${q.key}`)})})]})]})})]})})]})},rae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,playerSkillBreakdowns:o,renderProfessionIcon:l})=>{const c="damage-breakdown",d=e===c,[f,h]=v.useState("damage"),[m,p]=v.useState(""),[g,y]=v.useState(null),x=j=>Number(f==="damage"?j.damage||0:j.downContribution||0),w=j=>(j.skills||[]).reduce((E,$)=>E+x($),0),b=v.useMemo(()=>{const j=m.trim().toLowerCase();return[...j?o.filter($=>String($.displayName||"").toLowerCase().includes(j)||String($.account||"").toLowerCase().includes(j)||String($.profession||"").toLowerCase().includes(j)):o].sort(($,D)=>{const _=w(D)-w($);return _!==0?_:String($.displayName||"").localeCompare(String(D.displayName||""))})},[o,m,f]),N=v.useMemo(()=>g&&b.find(j=>j.key===g)||null,[b,g]),C=v.useMemo(()=>N?[...N.skills||[]].filter(j=>x(j)>0).sort((j,E)=>x(E)-x(j)).map(j=>({...j,value:x(j)})):[],[N,f]),S=v.useMemo(()=>N?w(N):0,[N,f]);return v.useEffect(()=>{if(b.length===0){g!==null&&y(null);return}g&&!b.some(j=>j.key===g)&&y(null)},[b,g]),u.jsxs("div",{id:c,"data-section-visible":i(c),"data-section-first":a(c),className:s(c,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(G1,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),u.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[u.jsx(En,{value:f,onChange:j=>h(j),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>d?r():n(c),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]})]}),o.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"search",value:m,onChange:j=>p(j.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:b.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):b.map(j=>{const E=g===j.key;return u.jsx("button",{type:"button",onClick:()=>y(j.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${E?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-3.5 h-3.5"),u.jsx("div",{className:"truncate min-w-0",children:j.displayName})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(j.skills||[]).length," ",(j.skills||[]).length===1?"skill":"skills"]})]}),u.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:wi(w(j),0)})]})},j.key)})})]}),u.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:N?u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate font-semibold",children:N.displayName})]})}),u.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",C.length," ",C.length===1?"skill":"skills"]})]}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),u.jsx("div",{className:"text-right",children:"% Total"})]})]}),u.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):C.map((j,E)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"min-w-0",children:u.jsx(hr,{name:j.name,iconUrl:j.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:wi(Number(j.value||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:S>0?`${wi(Number(j.value||0)/S*100,1)}%`:"0.0%"})]},`${j.id}-${E}`))})]}):u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},q4=({className:e})=>u.jsx(mU,{className:e,style:{transform:"rotate(45deg)"}}),Bo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),bs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),iae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:w})=>{var M;const[b,N]=v.useState({key:"value",dir:"desc"}),[C,S]=v.useState({columnId:((M=t[0])==null?void 0:M.id)||"value",dir:"desc"}),j=f==="offense-detailed",[E,$]=v.useState([]),[D,_]=v.useState([]),O=t.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),G=t.map(A=>({id:A.id,label:A.label})),Q=G.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),pe=E.length>0?t.filter(A=>E.includes(A.id)):t,X=Array.from(new Map(e.offensePlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:d(A.profession,A.professionList,"w-3 h-3")})),W=new Set([...E.map(A=>`column:${A}`),...D.map(A=>`player:${A}`)]),ue=A=>{N(ae=>({key:A,dir:ae.key===A&&ae.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(q4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...G.map(A=>({...A,type:"column"})),...X.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?$(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id]):_(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id])},selectedIds:W,className:"w-full sm:w-64"}),u.jsx(pr,{options:Q,selectedIds:E,onToggle:A=>{$(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>$([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:X,selectedIds:D,onToggle:A=>{_(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(A=>{var k;const ae=((k=G.find(z=>z.id===A))==null?void 0:k.label)||A;return u.jsxs("button",{type:"button",onClick:()=>$(z=>z.filter(U=>U!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ae}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),D.map(A=>u.jsxs("button",{type:"button",onClick:()=>_(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var J,Z;const A=ie=>Math.max(1,(ie.totalFightMs||0)/1e3),ae=(ie,F,B)=>{var V,Y,R,oe,q;if(F==="downContributionPercent"){const te=((V=ie.offenseTotals)==null?void 0:V.downContribution)||0,Oe=((Y=ie.offenseTotals)==null?void 0:Y.damage)||0;return Oe>0?te/Oe*100:0}if(B.isRate){const te=((R=ie.offenseRateWeights)==null?void 0:R[F])||0,Oe=((oe=ie.offenseTotals)==null?void 0:oe[F])||0;return te>0?Oe/te*100:0}return((q=ie.offenseTotals)==null?void 0:q[F])||0},k=(ie,F)=>{const B=n&&!F.isPercent&&o==="total"?0:2,V=c(ie,B);return F.isPercent?`${V}%`:V},z=((J=pe.find(ie=>ie.id===C.columnId))==null?void 0:J.id)||((Z=pe[0])==null?void 0:Z.id)||"",U=[...e.offensePlayers].filter(ie=>D.length===0||D.includes(ie.account)).map(ie=>{const F={},B={};return pe.forEach(V=>{const Y=ae(ie,V.id,V),R=o==="total"||V.isPercent||V.isRate?Y:o==="per1s"?Y/A(ie):Y*60/A(ie);B[V.id]=R,F[V.id]=k(R,V)}),{row:ie,values:F,numericValues:B}}).sort((ie,F)=>{const B=ie.numericValues[z]??0,V=F.numericValues[z]??0;return(C.dir==="desc"?V-B:B-V)||String(ie.row.account||"").localeCompare(String(F.row.account||""))});return u.jsx(vs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:z,sortDirection:C.dir,onSortColumn:ie=>{S(F=>({columnId:ie,dir:F.columnId===ie&&F.dir==="desc"?"asc":"desc"}))},columns:pe.map(ie=>({id:ie.id,label:ie.label,align:"right",minWidth:90})),rows:U.map((ie,F)=>({id:`${ie.row.account}-${F}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(ie.row.profession,ie.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ie.row.account})]}),values:ie.values}))})})()})]}):u.jsx(Bo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${w} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(A=>u.jsx("button",{onClick:()=>s(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(J=>J.id===a)||t[0],ae=J=>Math.max(1,(J.totalFightMs||0)/1e3),k=J=>{var Z,ie,F,B,V;if(A.id==="downContributionPercent"){const Y=((Z=J.offenseTotals)==null?void 0:Z.downContribution)||0,R=((ie=J.offenseTotals)==null?void 0:ie.damage)||0;return R>0?Y/R*100:0}if(A.isRate){const Y=((F=J.offenseRateWeights)==null?void 0:F[A.id])||0,R=((B=J.offenseTotals)==null?void 0:B[A.id])||0;return Y>0?R/Y*100:0}return((V=J.offenseTotals)==null?void 0:V[A.id])||0},z=J=>{const Z=n&&!A.isPercent&&o==="total"?0:2,ie=c(J,Z);return A.isPercent?`${ie}%`:ie},U=[...e.offensePlayers].map(J=>({...J,total:k(J),per1s:A.isPercent||A.isRate?k(J):k(J)/ae(J),per60s:A.isPercent||A.isRate?k(J):k(J)*60/ae(J)})).sort((J,Z)=>{const ie=b.key==="fightTime"?Number(J.totalFightMs||0):Number(o==="total"?J.total:o==="per1s"?J.per1s:J.per60s),F=b.key==="fightTime"?Number(Z.totalFightMs||0):Number(o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s);return(b.dir==="desc"?F-ie:ie-F)||J.account.localeCompare(Z.account)});return u.jsx(bs,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(En,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ue("value"),className:`text-right transition-colors ${b.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ue("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:U.map((J,Z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(J.profession,J.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ie=o==="total"?J.total:o==="per1s"?J.per1s:J.per60s;return z(ie)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:J.totalFightMs?`${(J.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${J.account}-${Z}`))})})})()})})]})},aae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:b,sidebarListClass:N})=>{var M;const C=m==="conditions-outgoing",[S,j]=v.useState([]),[E,$]=v.useState([]),[D,_]=v.useState({columnId:"all",dir:"desc"}),O=A=>{if(!A)return 0;if(s!=="outgoing"){const U=Number(A.applicationsFromUptime);return Number.isFinite(U)&&U>0?U:Number(A.applications||0)}const ae=Number(A.applicationsFromUptime);if(Number.isFinite(ae)&&ae>0)return ae;const k=Number(A.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const z=Number(A.applicationsFromBuffs);return Number.isFinite(z)&&z>0?z:Number(A.applications||0)},G=[...e||[]].sort((A,ae)=>(ae.damage||0)-(A.damage||0)),Q=G.filter(A=>A.name.toLowerCase().includes(n.trim().toLowerCase())),ce=Q.map(A=>({id:A.name,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),X=S.length>0?G.filter(A=>S.includes(A.name)):G,W=Array.from(new Map((t||[]).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:h(A.profession,A.professionList,"w-3 h-3")})),ue=new Set([...S.map(A=>`column:${A}`),...E.map(A=>`player:${A}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":w("conditions-outgoing"),className:b("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(L0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...G.map(A=>({id:A.name,label:A.name,type:"column"})),...W.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?j(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id]):$(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id])},selectedIds:ue,className:"w-full sm:w-64"}),u.jsx(pr,{options:ce,selectedIds:S,onToggle:A=>{j(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>j([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:W,selectedIds:E,onToggle:A=>{$(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(En,{value:c.key,onChange:A=>d({key:A,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const A=c.key,ae=[{id:"all",label:"All Conditions",icon:null},...X],k=(t||[]).filter(J=>E.length===0||E.includes(J.account)).map(J=>{const Z=J.conditions||{},ie={},F={};return ae.forEach(B=>{if(B.id==="all"||B.name==="All Conditions"){const R=Object.values(Z).reduce((q,te)=>{const Oe=O(te);return q.applications+=Number(Oe||0),q.damage+=Number((te==null?void 0:te.damage)||0),q},{applications:0,damage:0}),oe=A==="applications"?R.applications:R.damage;F.all=oe||0,ie.all=Math.round(oe||0).toLocaleString();return}const V=Z[B.name],Y=A==="applications"?O(V):Number((V==null?void 0:V.damage)||0);F[B.name]=Number(Y||0),ie[B.name]=Math.round(Y||0).toLocaleString()}),{player:J,values:ie,numericValues:F}}).filter(J=>Object.values(J.values).some(Z=>Z!=="0")),z=["all",...X.map(J=>J.name)].includes(D.columnId)?D.columnId:"all",U=[...k].sort((J,Z)=>{const ie=J.numericValues[z]??0,F=Z.numericValues[z]??0;return(D.dir==="desc"?F-ie:ie-F)||String(J.player.account||"").localeCompare(String(Z.player.account||""))});return u.jsx(vs,{title:"Conditions - Dense View",subtitle:A==="applications"?"Applications":"Damage",sortColumnId:z,sortDirection:D.dir,onSortColumn:J=>{_(Z=>({columnId:J,dir:Z.columnId===J&&Z.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...X.map(J=>({id:J.name,label:u.jsx(hr,{name:J.name,iconUrl:J.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:U.map((J,Z)=>({id:`${J.player.account}-${Z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Z+1}),h(J.player.profession,J.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.player.account})]}),values:J.values}))})})()}),(S.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{j([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),S.map(A=>u.jsxs("button",{type:"button",onClick:()=>j(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A)),E.map(A=>u.jsxs("button",{type:"button",onClick:()=>$(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}):u.jsx(Bo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),Q.map(A=>u.jsx("button",{type:"button",onClick:()=>a(A.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(hr,{name:A.name,iconUrl:A.icon,iconClassName:"h-5 w-5"})},A.name))]})})]}),content:u.jsx(bs,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(hr,{name:i,iconUrl:(M=e.find(A=>A.name===i))==null?void 0:M.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(En,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const ae=(t||[]).map(k=>{const z=k.conditions||{};if(i==="all"){const J=Object.values(z).reduce((Z,ie)=>{const F=O(ie);return Z.applications+=Number(F||0),Z.damage+=Number((ie==null?void 0:ie.damage)||0),Z},{applications:0,damage:0});return{...k,applications:J.applications,damage:J.damage}}const U=z[i];return{...k,applications:O(U),damage:Number((U==null?void 0:U.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,z)=>{const U=c.key==="applications"?k.applications||0:k.damage||0,J=c.key==="applications"?z.applications||0:z.damage||0,Z=c.dir==="desc"?J-U:U-J;if(Z!==0)return Z;const ie=c.key==="applications"?(z.damage||0)-(k.damage||0):(z.applications||0)-(k.applications||0);return ie!==0?ie:String(k.account||"").localeCompare(String(z.account||""))});return ae.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):ae.map((k,z)=>{var R;const U=k.conditions||{};let J={};i==="all"?Object.values(U).forEach(oe=>{const q=(oe==null?void 0:oe.skills)||{};Object.values(q).forEach(te=>{const Oe=(te==null?void 0:te.name)||"Unknown",Ie=Number((te==null?void 0:te.hits)||0),he=Number((te==null?void 0:te.damage)||0);if((!Number.isFinite(Ie)||Ie<=0)&&(!Number.isFinite(he)||he<=0))return;const L=J[Oe]||{name:Oe,hits:0,damage:0,icon:te==null?void 0:te.icon};L.hits+=Number.isFinite(Ie)?Ie:0,L.damage+=Number.isFinite(he)?he:0,!L.icon&&(te!=null&&te.icon)&&(L.icon=te.icon),J[Oe]=L})}):J=((R=U[i])==null?void 0:R.skills)||{};const Z=Object.values(J).filter(oe=>Number.isFinite(oe.hits)&&oe.hits>0).sort((oe,q)=>q.hits-oe.hits||oe.name.localeCompare(q.name)),ie=Object.values(J).filter(oe=>Number.isFinite(oe.damage)&&oe.damage>0).sort((oe,q)=>q.damage-oe.damage||oe.name.localeCompare(q.name)),F=i==="all"&&Z.length>0,B=i==="all"&&ie.length>0,V=Math.round(k.applications||0).toLocaleString(),Y=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F?u.jsx(xD,{value:V,label:"Condition Sources",items:Z.map(oe=>({name:oe.name,iconUrl:oe.icon,value:Math.round(oe.hits).toLocaleString()})),className:"justify-end"}):V}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:B?u.jsx(xD,{value:Y,label:"Condition Damage Sources",items:ie.map(oe=>({name:oe.name,iconUrl:oe.icon,value:Math.round(oe.damage).toLocaleString()})),className:"justify-end"}):Y}):null]},`${k.account}-${z}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},sae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:w,isSectionVisible:b,isFirstVisibleSection:N,sectionClass:C,sidebarListClass:S})=>{const[j,E]=v.useState({key:"value",dir:"desc"}),[$,D]=v.useState({columnId:"",dir:"desc"}),_=g==="boon-output",[O,G]=v.useState([]),[Q,ce]=v.useState([]),pe=e.boonTables||[],W=O.length>0?pe.filter(k=>O.includes(k.id)):pe,ue=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),M=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),A=new Set([...O.map(k=>`column:${k}`),...Q.map(k=>`player:${k}`)]),ae=k=>{E(z=>({key:k,dir:z.key===k&&z.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":b("boon-output"),"data-section-first":N("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(tk,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?w():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...pe.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?G(z=>z.includes(k.id)?z.filter(U=>U!==k.id):[...z,k.id]):ce(z=>z.includes(k.id)?z.filter(U=>U!==k.id):[...z,k.id])},selectedIds:A,className:"w-full sm:w-64"}),u.jsx(pr,{options:ue,selectedIds:O,onToggle:k=>{G(z=>z.includes(k)?z.filter(U=>U!==k):[...z,k])},onClear:()=>G([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:M,selectedIds:Q,onToggle:k=>{ce(z=>z.includes(k)?z.filter(U=>U!==k):[...z,k])},onClear:()=>ce([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{G([]),ce([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(k=>{var U;const z=((U=pe.find(J=>J.id===k))==null?void 0:U.name)||k;return u.jsxs("button",{type:"button",onClick:()=>G(J=>J.filter(Z=>Z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),Q.map(k=>u.jsxs("button",{type:"button",onClick:()=>ce(z=>z.filter(U=>U!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:pe.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var ie,F;const k=W,z=((ie=k.find(B=>B.id===$.columnId))==null?void 0:ie.id)||(a&&k.some(B=>B.id===a)?a:void 0)||((F=k[0])==null?void 0:F.id)||"",U=new Map,J=new Map;k.forEach(B=>{const V=new Map;B.rows.forEach(Y=>{const R=Y.account||Y.name||Y.id;R&&(V.set(R,Y),J.has(R)||J.set(R,Y))}),U.set(B.id,V)});const Z=Array.from(J.entries()).filter(([B])=>Q.length===0||Q.includes(String(B))).map(([B,V])=>{const Y={};return k.forEach(R=>{var q;const oe=(q=U.get(R.id))==null?void 0:q.get(B);Y[R.id]=oe?f(oe,t,R.stacking,r,{roundCountStats:p}):"-"}),{key:B,row:V,values:Y}}).sort((B,V)=>{var Ie,he;if(!z)return String(B.key).localeCompare(String(V.key));const Y=k.find(L=>L.id===z),R=Y?(Ie=U.get(Y.id))==null?void 0:Ie.get(B.key):null,oe=Y?(he=U.get(Y.id))==null?void 0:he.get(V.key):null,q=R?h(R,t,Y==null?void 0:Y.stacking,r):0,te=oe?h(oe,t,Y==null?void 0:Y.stacking,r):0;return($.dir==="desc"?te-q:q-te)||String(B.key).localeCompare(String(V.key))});return u.jsx(vs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:z,sortDirection:$.dir,onSortColumn:B=>{D(V=>({columnId:B,dir:V.columnId===B&&V.dir==="desc"?"asc":"desc"}))},columns:k.map(B=>({id:B.id,label:u.jsx(hr,{name:B.name,iconUrl:B.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Z.map((B,V)=>({id:`${B.key}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),m(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.row.account||B.row.name||B.key})]}),values:B.values}))})})()})]}):u.jsx(Bo,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(hr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(bs,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(hr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("value"),className:`text-right transition-colors ${j.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ae("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,z)=>(()=>{const U=j.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),J=j.key==="fightTime"?Number(z.activeTimeMs||0):h(z,t,o.stacking,r);return(j.dir==="desc"?J-U:U-J)||String(k.account||"").localeCompare(String(z.account||""))})()).map((k,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${z}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},oae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:w})=>{var z;const[b,N]=v.useState({key:"value",dir:"desc"}),[C,S]=v.useState("combined"),[j,E]=v.useState({columnId:((z=t[0])==null?void 0:z.id)||"value",dir:"desc"}),$=f==="defense-detailed",[D,_]=v.useState([]),[O,G]=v.useState([]),Q=t.filter(U=>U.label.toLowerCase().includes(n.trim().toLowerCase())),ce=t.map(U=>({id:U.id,label:U.label})),pe=ce.filter(U=>U.label.toLowerCase().includes(n.trim().toLowerCase())),W=D.length>0?t.filter(U=>D.includes(U.id)):t,ue=Array.from(new Map(e.defensePlayers.map(U=>[U.account,U])).values()).map(U=>({id:U.account,label:U.account,icon:d(U.profession,U.professionList,"w-3 h-3")})),M=new Set([...D.map(U=>`column:${U}`),...O.map(U=>`player:${U}`)]),A=U=>{N(J=>({key:U,dir:J.key===U&&J.dir==="desc"?"asc":"desc"}))},ae=U=>U==="minionDamageTaken",k=(U,J)=>J==="combined"?U.map(Z=>({...Z,minionList:Object.entries((Z==null?void 0:Z.minionDamageTakenByMinion)||{}).filter(([,ie])=>Number(ie||0)>0).sort((ie,F)=>Number(F[1]||0)-Number(ie[1]||0)).map(([ie])=>String(ie))})):U.flatMap(Z=>{const ie=Object.entries((Z==null?void 0:Z.minionDamageTakenByMinion)||{}).filter(([,F])=>Number(F||0)>0).sort((F,B)=>Number(B[1]||0)-Number(F[1]||0));return ie.length===0?[]:ie.map(([F,B])=>({...Z,minionName:String(F),defenseTotals:{...Z.defenseTotals||{},minionDamageTaken:Number(B||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Xu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):$?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...ce.map(U=>({...U,type:"column"})),...ue.map(U=>({...U,type:"player"}))],onSelect:U=>{U.type==="column"?_(J=>J.includes(U.id)?J.filter(Z=>Z!==U.id):[...J,U.id]):G(J=>J.includes(U.id)?J.filter(Z=>Z!==U.id):[...J,U.id])},selectedIds:M,className:"w-full sm:w-64"}),u.jsx(pr,{options:pe,selectedIds:D,onToggle:U=>{_(J=>J.includes(U)?J.filter(Z=>Z!==U):[...J,U])},onClear:()=>_([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ue,selectedIds:O,onToggle:U=>{G(J=>J.includes(U)?J.filter(Z=>Z!==U):[...J,U])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),W.some(U=>ae(U.id))&&u.jsx(En,{value:C,onChange:U=>S(U),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(U=>{var Z;const J=((Z=ce.find(ie=>ie.id===U))==null?void 0:Z.label)||U;return u.jsxs("button",{type:"button",onClick:()=>_(ie=>ie.filter(F=>F!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:J}),u.jsx("span",{className:"text-gray-400",children:""})]},U)}),O.map(U=>u.jsxs("button",{type:"button",onClick:()=>G(J=>J.filter(Z=>Z!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},U))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var V,Y;const U=R=>Math.max(1,(R.activeMs||0)/1e3),J=(R,oe)=>{const q=oe.isPercent,Oe=c(R,l&&!q&&s==="total"?0:2);return q?`${Oe}%`:Oe},Z=((V=W.find(R=>R.id===j.columnId))==null?void 0:V.id)||((Y=W[0])==null?void 0:Y.id)||"",ie=[...e.defensePlayers].filter(R=>O.length===0||O.includes(R.account)),B=[...W.some(R=>ae(R.id))?k(ie,C):ie].map(R=>{const oe={},q={};return W.forEach(te=>{var L;const Oe=((L=R.defenseTotals)==null?void 0:L[te.id])||0,Ie=te.isPercent,he=s==="total"||Ie?Oe:s==="per1s"?Oe/U(R):Oe*60/U(R);q[te.id]=he,oe[te.id]=J(he,te)}),{row:R,values:oe,numericValues:q}}).sort((R,oe)=>{const q=R.numericValues[Z]??0,te=oe.numericValues[Z]??0;return(j.dir==="desc"?te-q:q-te)||String(R.row.account||"").localeCompare(String(oe.row.account||""))});return u.jsx(vs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:Z,sortDirection:j.dir,onSortColumn:R=>{E(oe=>({columnId:R,dir:oe.columnId===R&&oe.dir==="desc"?"asc":"desc"}))},columns:W.map(R=>({id:R.id,label:R.label,align:"right",minWidth:90})),rows:B.map((R,oe)=>({id:`${R.row.account}-${oe}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),d(R.row.profession,R.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:R.row.account}),C==="combined"&&Array.isArray(R.row.minionList)&&R.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:R.row.minionList.join(", ")}),C==="separate"&&R.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:R.row.minionName})]})]}),values:R.values}))})})()})]}):u.jsx(Bo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:U=>r(U.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${w} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):Q.map(U=>u.jsx("button",{onClick:()=>a(U.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===U.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:U.label},U.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const U=t.find(B=>B.id===i)||t[0],J=B=>Math.max(1,(B.activeMs||0)/1e3),Z=[...e.defensePlayers],F=[...ae(U.id)?k(Z,C):Z].map(B=>{var V,Y,R;return{...B,total:((V=B.defenseTotals)==null?void 0:V[U.id])||0,per1s:(((Y=B.defenseTotals)==null?void 0:Y[U.id])||0)/J(B),per60s:(((R=B.defenseTotals)==null?void 0:R[U.id])||0)*60/J(B)}}).sort((B,V)=>{const Y=b.key==="fightTime"?Number(B.activeMs||0):Number(s==="total"?B.total:s==="per1s"?B.per1s:B.per60s),R=b.key==="fightTime"?Number(V.activeMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s);return(b.dir==="desc"?R-Y:Y-R)||B.account.localeCompare(V.account)});return u.jsx(bs,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:U.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${ae(U.id)?"justify-between":"justify-end"}`,children:[ae(U.id)&&u.jsx(En,{value:C,onChange:B=>S(B),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${b.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:F.map((B,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(B.profession,B.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:B.account}),ae(U.id)&&C==="combined"&&Array.isArray(B.minionList)&&B.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:B.minionList.join(", ")}),ae(U.id)&&C==="separate"&&B.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:B.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Y=s==="total"?B.total:s==="per1s"?B.per1s:B.per60s;return c(Y,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:B.activeMs?`${(B.activeMs/1e3).toFixed(1)}s`:"-"})]},`${U.id}-${B.account}-${V}`))})})})()})})]})},lae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:b,sidebarListClass:N})=>{var V,Y;const C=((V=t.find(R=>R.id==="totalMitigation"))==null?void 0:V.id)||((Y=t[0])==null?void 0:Y.id)||"totalMitigation",[S,j]=v.useState({key:"value",dir:"desc"}),[E,$]=v.useState({columnId:C,dir:"desc"}),D=m==="defense-mitigation",[_,O]=v.useState([]),[G,Q]=v.useState([]),[ce,pe]=v.useState([]),X=e.damageMitigationPlayers||[],W=e.damageMitigationMinions||[],ue=l==="minions"?W:X,M=X.length>0||W.length>0,A=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),ae=t.map(R=>({id:R.id,label:R.label})),k=ae.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),U=_.length>0?t.filter(R=>_.includes(R.id)):t,J=Array.from(new Map(ue.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:h(R.profession,R.professionList,"w-3 h-3")})),Z=Array.from(new Map(W.map(R=>[R.minion,R])).values()).filter(R=>R==null?void 0:R.minion).map(R=>({id:String(R.minion),label:String(R.minion)})),ie=new Set([..._.map(R=>`column:${R}`),...G.map(R=>`player:${R}`)]),F=R=>{j(oe=>({key:R,dir:oe.key===R&&oe.dir==="desc"?"asc":"desc"}))},B=R=>f(R,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":w("defense-mitigation"),className:b("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(nk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),M?D?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...ae.map(R=>({...R,type:"column"})),...J.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?O(oe=>oe.includes(R.id)?oe.filter(q=>q!==R.id):[...oe,R.id]):Q(oe=>oe.includes(R.id)?oe.filter(q=>q!==R.id):[...oe,R.id])},selectedIds:ie,className:"w-full sm:w-64"}),u.jsx(pr,{options:k,selectedIds:_,onToggle:R=>{O(oe=>oe.includes(R)?oe.filter(q=>q!==R):[...oe,R])},onClear:()=>O([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:J,selectedIds:G,onToggle:R=>{Q(oe=>oe.includes(R)?oe.filter(q=>q!==R):[...oe,R])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(pr,{options:Z,selectedIds:ce,onToggle:R=>{pe(oe=>oe.includes(R)?oe.filter(q=>q!==R):[...oe,R])},onClear:()=>pe([]),buttonLabel:"Minions"}),u.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||G.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(R=>{var q;const oe=((q=ae.find(te=>te.id===R))==null?void 0:q.label)||R;return u.jsxs("button",{type:"button",onClick:()=>O(te=>te.filter(Oe=>Oe!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:oe}),u.jsx("span",{className:"text-gray-400",children:""})]},R)}),G.map(R=>u.jsxs("button",{type:"button",onClick:()=>Q(oe=>oe.filter(q=>q!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},R))]}),l==="minions"&&ce.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>pe([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ce.map(R=>u.jsxs("button",{type:"button",onClick:()=>pe(oe=>oe.filter(q=>q!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ue.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):A.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var te,Oe;const R=Ie=>Math.max(1,(Ie.activeMs||0)/1e3),oe=((te=U.find(Ie=>Ie.id===E.columnId))==null?void 0:te.id)||((Oe=U[0])==null?void 0:Oe.id)||"",q=[...ue].filter(Ie=>G.length===0||G.includes(Ie.account)).filter(Ie=>l!=="minions"||!ce.length?!0:ce.includes(String(Ie.minion||""))).map(Ie=>{const he={},L={};return U.forEach(ke=>{var Ot;const Ne=((Ot=Ie.mitigationTotals)==null?void 0:Ot[ke.id])||0,ct=s==="total"?Ne:s==="per1s"?Ne/R(Ie):Ne*60/R(Ie);L[ke.id]=ct,he[ke.id]=B(ct)}),{row:Ie,values:he,numericValues:L}}).sort((Ie,he)=>{const L=Ie.numericValues[oe]??0,ke=he.numericValues[oe]??0;return(E.dir==="desc"?ke-L:L-ke)||String(Ie.row.account||"").localeCompare(String(he.row.account||""))});return u.jsx(vs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:oe,sortDirection:E.dir,onSortColumn:Ie=>{$(he=>({columnId:Ie,dir:he.columnId===Ie&&he.dir==="desc"?"asc":"desc"}))},columns:U.map(Ie=>({id:Ie.id,label:Ie.label,align:"right",minWidth:90})),rows:q.map((Ie,he)=>({id:`${Ie.row.account}-${Ie.row.minion||"player"}-${he}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:he+1}),h(Ie.row.profession,Ie.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Ie.row.account}),Ie.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ie.row.minion})]})]}),values:Ie.values}))})})()})]}):u.jsx(Bo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:A.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):A.map(R=>u.jsx("button",{onClick:()=>a(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===R.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const R=t.find(te=>te.id===i)||t[0],oe=te=>Math.max(1,(te.activeMs||0)/1e3),q=[...ue].map(te=>{var Oe,Ie,he;return{...te,total:((Oe=te.mitigationTotals)==null?void 0:Oe[R.id])||0,per1s:(((Ie=te.mitigationTotals)==null?void 0:Ie[R.id])||0)/oe(te),per60s:(((he=te.mitigationTotals)==null?void 0:he[R.id])||0)*60/oe(te)}}).filter(te=>l!=="minions"||!ce.length?!0:ce.includes(String(te.minion||""))).sort((te,Oe)=>{const Ie=S.key==="fightTime"?Number(te.activeMs||0):Number(s==="total"?te.total:s==="per1s"?te.per1s:te.per60s),he=S.key==="fightTime"?Number(Oe.activeMs||0):Number(s==="total"?Oe.total:s==="per1s"?Oe.per1s:Oe.per60s);return(S.dir==="desc"?he-Ie:Ie-he)||te.account.localeCompare(Oe.account)});return u.jsx(bs,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${S.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:q.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:q.map((te,Oe)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Oe+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(te.profession,te.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:te.account}),te.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:te.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ie=s==="total"?te.total:s==="per1s"?te.per1s:te.per60s;return B(Ie)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:te.activeMs?`${(te.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${te.account}-${te.minion||"player"}-${Oe}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},cae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:b,sidebarListClass:N})=>{var ae;const[C,S]=v.useState({key:"value",dir:"desc"}),[j,E]=v.useState({columnId:((ae=t[0])==null?void 0:ae.id)||"value",dir:"desc"}),$=m==="support-detailed",[D,_]=v.useState([]),[O,G]=v.useState([]),Q=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ce=t.map(k=>({id:k.id,label:k.label})),pe=ce.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),W=D.length>0?t.filter(k=>D.includes(k.id)):t,ue=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),M=new Set([...D.map(k=>`column:${k}`),...O.map(k=>`player:${k}`)]),A=k=>{S(z=>({key:k,dir:z.key===k&&z.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":w("support-detailed"),className:b("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(J1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):$?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...ce.map(k=>({...k,type:"column"})),...ue.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?_(z=>z.includes(k.id)?z.filter(U=>U!==k.id):[...z,k.id]):G(z=>z.includes(k.id)?z.filter(U=>U!==k.id):[...z,k.id])},selectedIds:M,className:"w-full sm:w-64"}),u.jsx(pr,{options:pe,selectedIds:D,onToggle:k=>{_(z=>z.includes(k)?z.filter(U=>U!==k):[...z,k])},onClear:()=>_([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ue,selectedIds:O,onToggle:k=>{G(z=>z.includes(k)?z.filter(U=>U!==k):[...z,k])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(k=>{var U;const z=((U=ce.find(J=>J.id===k))==null?void 0:U.label)||k;return u.jsxs("button",{type:"button",onClick:()=>_(J=>J.filter(Z=>Z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),O.map(k=>u.jsxs("button",{type:"button",onClick:()=>G(z=>z.filter(U=>U!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var ie,F;const k=(B,V)=>{var Y,R,oe;if(V==="condiCleanse"){const q=((Y=B.supportTotals)==null?void 0:Y.condiCleanse)||0,te=((R=B.supportTotals)==null?void 0:R.condiCleanseSelf)||0;return l==="all"?q+te:q}return((oe=B.supportTotals)==null?void 0:oe[V])||0},z=B=>Math.max(1,(B.activeMs||0)/1e3),U=(B,V)=>{const Y=B.isTime?1:d&&s==="total"?0:2;return f(V,Y)},J=((ie=W.find(B=>B.id===j.columnId))==null?void 0:ie.id)||((F=W[0])==null?void 0:F.id)||"",Z=[...e.supportPlayers].filter(B=>O.length===0||O.includes(B.account)).map(B=>{const V={},Y={};return W.forEach(R=>{const oe=k(B,R.id),q=s==="total"?oe:s==="per1s"?oe/z(B):oe*60/z(B);Y[R.id]=q,V[R.id]=U(R,q)}),{row:B,values:V,numericValues:Y}}).sort((B,V)=>{const Y=B.numericValues[J]??0,R=V.numericValues[J]??0;return(j.dir==="desc"?R-Y:Y-R)||String(B.row.account||"").localeCompare(String(V.row.account||""))});return u.jsx(vs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:J,sortDirection:j.dir,onSortColumn:B=>{E(V=>({columnId:B,dir:V.columnId===B&&V.dir==="desc"?"asc":"desc"}))},columns:W.map(B=>({id:B.id,label:B.label,align:"right",minWidth:90})),rows:Z.map((B,V)=>({id:`${B.row.account}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),h(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.row.account})]}),values:B.values}))})})()})]}):u.jsx(Bo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):Q.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(Z=>Z.id===i)||t[0],z=Z=>{var ie,F,B;if(k.id==="condiCleanse"){const V=((ie=Z.supportTotals)==null?void 0:ie.condiCleanse)||0,Y=((F=Z.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?V+Y:V}return((B=Z.supportTotals)==null?void 0:B[k.id])||0},U=Z=>Math.max(1,(Z.activeMs||0)/1e3),J=[...e.supportPlayers].map(Z=>({...Z,total:z(Z),per1s:z(Z)/U(Z),per60s:z(Z)*60/U(Z)})).sort((Z,ie)=>{const F=C.key==="fightTime"?Number(Z.activeMs||0):Number(s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s),B=C.key==="fightTime"?Number(ie.activeMs||0):Number(s==="total"?ie.total:s==="per1s"?ie.per1s:ie.per60s);return(C.dir==="desc"?B-F:F-B)||Z.account.localeCompare(ie.account)});return u.jsx(bs,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:J.map((Z,ie)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ie+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(Z.profession,Z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Z.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const F=s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s,B=k.isTime?1:d&&s==="total"?0:2;return f(F,B)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Z.activeMs?`${(Z.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${Z.account}-${ie}`))})})})()})})]})},uae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x})=>{var pe;const[w,b]=v.useState({key:"value",dir:"desc"}),[N,C]=v.useState({columnId:((pe=t[0])==null?void 0:pe.id)||"value",dir:"desc"}),S=f==="healing-stats",[j,E]=v.useState([]),[$,D]=v.useState([]),_=Array.from(new Map(e.healingPlayers.map(X=>[X.account,X])).values()).map(X=>({id:X.account,label:X.account,icon:d(X.profession,X.professionList,"w-3 h-3")})),O=new Set([...$.map(X=>`column:${X}`),...j.map(X=>`player:${X}`)]),G=t.map(X=>({id:X.id,label:X.label})),Q=$.length>0?t.filter(X=>$.includes(X.id)):t,ce=X=>{b(W=>({key:X,dir:W.key===X&&W.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(WO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):S?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...G.map(X=>({...X,type:"column"})),..._.map(X=>({...X,type:"player"}))],onSelect:X=>{X.type==="column"?D(W=>W.includes(X.id)?W.filter(ue=>ue!==X.id):[...W,X.id]):E(W=>W.includes(X.id)?W.filter(ue=>ue!==X.id):[...W,X.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(En,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:G,selectedIds:$,onToggle:X=>{D(W=>W.includes(X)?W.filter(ue=>ue!==X):[...W,X])},onClear:()=>D([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(X=>({value:X.id,label:X.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:_,selectedIds:j,onToggle:X=>{E(W=>W.includes(X)?W.filter(ue=>ue!==X):[...W,X])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),($.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{D([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(X=>{var ue;const W=((ue=G.find(M=>M.id===X))==null?void 0:ue.label)||X;return u.jsxs("button",{type:"button",onClick:()=>D(M=>M.filter(A=>A!==X)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},X)}),j.map(X=>u.jsxs("button",{type:"button",onClick:()=>E(W=>W.filter(ue=>ue!==X)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:X}),u.jsx("span",{className:"text-gray-400",children:""})]},X))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var A,ae;const X=k=>Math.max(1,(k.activeMs||0)/1e3),W=k=>{const z=k.baseField==="resUtility",U=z||i==="total"?"":i==="offSquad"?"offSquad":i;return z?s==="all"?"resUtility":`resUtility_${s}`:U?`${U}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},ue=[...e.healingPlayers].filter(k=>j.length===0||j.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(z=>Number(z)>0)).map(k=>{const z={},U={};return Q.forEach(J=>{var B;const Z=W(J),ie=Number(((B=k.healingTotals)==null?void 0:B[Z])??0),F=J.perSecond?ie/X(k):ie;U[J.id]=F,z[J.id]=c(F,J.decimals)}),{row:k,values:z,numericValues:U}}).sort((k,z)=>{var F,B;const U=((F=Q.find(V=>V.id===N.columnId))==null?void 0:F.id)||((B=Q[0])==null?void 0:B.id)||"",J=k.numericValues[U]??0,Z=z.numericValues[U]??0;return(N.dir==="desc"?Z-J:J-Z)||String(k.row.account||"").localeCompare(String(z.row.account||""))}),M=((A=Q.find(k=>k.id===N.columnId))==null?void 0:A.id)||((ae=Q[0])==null?void 0:ae.id)||"";return u.jsx(vs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:M,sortDirection:N.dir,onSortColumn:k=>{C(z=>({columnId:k,dir:z.columnId===k&&z.dir==="desc"?"asc":"desc"}))},columns:Q.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:ue.map((k,z)=>({id:`${k.row.account}-${z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(Bo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(X=>u.jsx("button",{onClick:()=>r(X.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===X.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:X.label},X.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const X=t.find(k=>k.id===n)||t[0],W=X.baseField==="resUtility",ue=k=>Math.max(1,(k.activeMs||0)/1e3),M=W||i==="total"?"":i==="offSquad"?"offSquad":i,A=W?s==="all"?"resUtility":`resUtility_${s}`:M?`${M}${X.baseField[0].toUpperCase()}${X.baseField.slice(1)}`:X.baseField,ae=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(z=>Number(z)>0)).map(k=>{var J;const z=Number(((J=k.healingTotals)==null?void 0:J[A])??0),U=X.perSecond?z/ue(k):z;return{...k,value:U}}).sort((k,z)=>{const U=w.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),J=w.key==="fightTime"?Number(z.activeMs||0):Number(z.value||0);return(w.dir==="desc"?J-U:U-J)||k.account.localeCompare(z.account)});return u.jsx(bs,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:X.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[W&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(En,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!W&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ce("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[X.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ce("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ae.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):ae.map((k,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,X.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${X.id}-${k.account}-${z}`))})})})()})})]})},dae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",fae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,w]=v.useState("total"),[b,N]=v.useState("desc"),[C,S]=v.useState({columnId:"",dir:"desc"}),j=c==="special-buffs",[E,$]=v.useState([]),[D,_]=v.useState([]),O=e.specialTables||[],Q=E.length>0?O.filter(A=>E.includes(A.id)):O,ce=r.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),pe=Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:l(A.profession,A.professionList,"w-3 h-3")})),X=new Set([...E.map(A=>`column:${A}`),...D.map(A=>`player:${A}`)]),W=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const A=[...s.rows];return A.sort((ae,k)=>{const z=Number((ae==null?void 0:ae[x])??0),U=Number((k==null?void 0:k[x])??0),J=b==="desc"?U-z:z-U;return J!==0?J:String((ae==null?void 0:ae.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),A},[s,x,b]),ue=A=>{if(x===A){N(ae=>ae==="desc"?"asc":"desc");return}w(A),N("desc")},M=A=>x!==A?"":b==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx($0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...O.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:l(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?$(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id]):_(ae=>ae.includes(A.id)?ae.filter(k=>k!==A.id):[...ae,A.id])},selectedIds:X,className:"w-full sm:w-64"}),u.jsx(pr,{options:ce,selectedIds:E,onToggle:A=>{$(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>$([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:pe,selectedIds:D,onToggle:A=>{_(ae=>ae.includes(A)?ae.filter(k=>k!==A):[...ae,A])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:x,onChange:A=>w(A),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(A=>{var k;const ae=((k=O.find(z=>z.id===A))==null?void 0:k.name)||A;return u.jsxs("button",{type:"button",onClick:()=>$(z=>z.filter(U=>U!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ae}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),D.map(A=>u.jsxs("button",{type:"button",onClick:()=>_(ae=>ae.filter(k=>k!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var Z,ie;const A=Q,ae=new Map,k=new Map;A.forEach(F=>{const B=new Map;F.rows.forEach(V=>{const Y=V.account||V.name||V.id;Y&&(B.set(Y,V),k.has(Y)||k.set(Y,V))}),ae.set(F.id,B)});const z=Array.from(k.entries()).filter(([F])=>D.length===0||D.includes(String(F))).map(([F,B])=>{const V={},Y={};return A.forEach(R=>{var Oe;const oe=(Oe=ae.get(R.id))==null?void 0:Oe.get(F);if(!oe){V[R.id]="-",Y[R.id]=0;return}if(x==="duration"){V[R.id]=oe.duration?`${oe.duration.toFixed(1)}s`:"-",Y[R.id]=Number(oe.duration||0);return}const q=x==="total"?oe.total:oe.perSecond,te=x==="total"?0:1;Y[R.id]=Number(q||0),V[R.id]=o(q||0,te)}),{key:F,row:B,values:V,numericValues:Y}}),U=((Z=A.find(F=>F.id===C.columnId))==null?void 0:Z.id)||(i&&A.some(F=>F.id===i)?i:void 0)||((ie=A[0])==null?void 0:ie.id)||"",J=[...z].sort((F,B)=>{if(!U)return String(F.key).localeCompare(String(B.key));const V=F.numericValues[U]??0,Y=B.numericValues[U]??0;return(C.dir==="desc"?Y-V:V-Y)||String(F.key).localeCompare(String(B.key))});return u.jsx(vs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:U,sortDirection:C.dir,onSortColumn:F=>{S(B=>({columnId:F,dir:B.columnId===F&&B.dir==="desc"?"asc":"desc"}))},columns:A.map(F=>({id:F.id,label:u.jsx(hr,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:J.map((F,B)=>({id:`${F.key}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),l(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.account||F.row.name||F.key})]}),values:F.values}))})})()})]}):u.jsx(Bo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:A=>n(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(A=>u.jsx("button",{onClick:()=>a(A.id),title:A.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(hr,{name:dae(A.name),iconUrl:A.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},A.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(bs,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(hr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ue("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",M("total")]}),u.jsxs("button",{type:"button",onClick:()=>ue("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",M("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>ue("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M("duration")]})]}),rows:u.jsx(u.Fragment,{children:W.map((A,ae)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ae+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(A.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(A.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.duration?`${A.duration.toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${ae}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},mae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",hae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,w]=v.useState("desc"),b=c==="sigil-relic-uptime",N=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((S,j)=>{const E=Number((S==null?void 0:S.uptimePerSecond)??(S==null?void 0:S.perSecond)??0),$=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),D=x==="desc"?$-E:E-$;return D!==0?D:String((S==null?void 0:S.account)||"").localeCompare(String((j==null?void 0:j.account)||""))}),C},[s,x]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(rk,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),e?u.jsx(Bo,{expanded:b,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${b?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${b?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${b?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(hr,{name:mae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(bs,{expanded:b,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(hr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>w(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:N.map((C,S)=>{const j=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:S+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(j,1),"%"]})]},`${s.id}-${C.account}-${S}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},pae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,y]=v.useState(null);v.useEffect(()=>{var G,Q,ce;if(c.length===0){h(""),p("");return}const _=String(((G=c[0])==null?void 0:G.id)||""),O=String(((Q=c[1])==null?void 0:Q.id)||((ce=c[0])==null?void 0:ce.id)||"");h(pe=>pe&&c.some(X=>String(X.id)===pe)?pe:_),p(pe=>pe&&c.some(X=>String(X.id)===pe)?pe:O)},[c]);const x=v.useMemo(()=>c.find(_=>String(_.id)===String(f))||null,[c,f]),w=v.useMemo(()=>c.find(_=>String(_.id)===String(m))||null,[c,m]),b=v.useMemo(()=>{if(!x||!w)return[];const _=new Map,O=(G,Q,ce,pe)=>{const X=String(G||"Unknown"),W=_.get(X)||{label:X,aDamage:0,aShare:0,bDamage:0,bShare:0};Q==="a"?(W.aDamage=Number(ce||0),W.aShare=Number(pe||0)):(W.bDamage=Number(ce||0),W.bShare=Number(pe||0)),_.set(X,W)};return(x.targetFocus||[]).forEach(G=>O(G.label,"a",G.damage,G.share)),(w.targetFocus||[]).forEach(G=>O(G.label,"b",G.damage,G.share)),Array.from(_.values()).map(G=>({...G,shareDelta:G.bShare-G.aShare})).sort((G,Q)=>Math.abs(Q.shareDelta)-Math.abs(G.shareDelta)||Q.bDamage+Q.aDamage-(G.bDamage+G.aDamage))},[x,w]),N=v.useMemo(()=>{if(!g)return b;const _=g.direction==="asc"?1:-1,O=g.key;return[...b].sort((G,Q)=>{const ce=(Number(G[O])-Number(Q[O]))*_;return ce!==0?ce:G.label.localeCompare(Q.label)})},[b,g]),C=v.useMemo(()=>{if(!x||!w)return[];const _=new Map((x.squadMetrics||[]).map(Q=>[Q.metricId,Q])),O=new Map((w.squadMetrics||[]).map(Q=>[Q.metricId,Q]));return Array.from(new Set([..._.keys(),...O.keys()])).map(Q=>{const ce=_.get(Q),pe=O.get(Q),X=!!((ce==null?void 0:ce.higherIsBetter)??(pe==null?void 0:pe.higherIsBetter)??!0),W=Number((ce==null?void 0:ce.value)||0),ue=Number((pe==null?void 0:pe.value)||0);return{metricId:Q,metricLabel:String((ce==null?void 0:ce.metricLabel)||(pe==null?void 0:pe.metricLabel)||Q),higherIsBetter:X,a:ce,b:pe,delta:ue-W}})},[x,w]),S=_=>`${t((Number(_)||0)*100,1)}%`,j=_=>_==="squadKdr"?2:0,E=_=>{y(O=>!O||O.key!==_?{key:_,direction:"desc"}:{key:_,direction:O.direction==="desc"?"asc":"desc"})},$=_=>(g==null?void 0:g.key)===_?g.direction==="desc"?" ":" ":"",D=_=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===_?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Y1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:_=>h(_.target.value),children:c.map(_=>u.jsxs("option",{value:_.id,children:[_.shortLabel," - ",_.fullLabel]},`fight-a-${_.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:_=>p(_.target.value),children:c.map(_=>u.jsxs("option",{value:_.id,children:[_.shortLabel," - ",_.fullLabel]},`fight-b-${_.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(bs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:b.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:D("aDamage"),onClick:()=>E("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",$("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:D("aShare"),onClick:()=>E("aShare"),children:[x==null?void 0:x.shortLabel," Share",$("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:D("bDamage"),onClick:()=>E("bDamage"),children:[w==null?void 0:w.shortLabel," Damage",$("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:D("bShare"),onClick:()=>E("bShare"),children:[w==null?void 0:w.shortLabel," Share",$("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:D("shareDelta"),onClick:()=>E("shareDelta"),children:["Share Delta",$("shareDelta")]})})]})})]})}):null,rows:b.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:N.map(_=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:_.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(_.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(_.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(_.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(_.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${_.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[_.shareDelta>=0?"+":"",S(_.shareDelta)]})]},`focus-${_.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(bs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[w==null?void 0:w.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(_=>{var Q,ce;const O=_.higherIsBetter?_.delta>=0:_.delta<=0,G=j(_.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:_.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((Q=_.a)==null?void 0:Q.value)||0),G)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ce=_.b)==null?void 0:ce.value)||0),G)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[_.delta>0?"+":"",t(_.delta,G)]})]},`performer-${_.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},gae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),xae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(En,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin===!0?"text-emerald-300":c.isWin===!1?"text-red-300":"text-amber-200"}`,children:c.isWin===!0?"Win":c.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(ty,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(ty,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(ty,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},vD={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},vae=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=vD[r]||vD.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},yae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},yD=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},bae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(xc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(nU,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx($0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(og,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:yD(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,x,w;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(w=(x=m.data)==null?void 0:x.topStats)!=null&&w.some(b=>l(b.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(b=>l(b.name)).map((b,N)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:b.name}),u.jsx("span",{className:"tabular-nums leading-none",children:yD(b.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",w=[{icon:oU,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Xu,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:WO,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:pU,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Gf,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:aU,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:sU,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:GO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:tU,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],b=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(N=>{var $,D,_,O;const C=i==="all",S=yae((g==null?void 0:g[N.statKey])||[],N.higherIsBetter),j=S[0],E=j?{...N.data,value:Number(j.value||0),player:j.account||(($=N.data)==null?void 0:$.player)||"-",count:j.count||((D=N.data)==null?void 0:D.count)||0,profession:j.profession||((_=N.data)==null?void 0:_.profession)||"Unknown",professionList:j.professionList||((O=N.data)==null?void 0:O.professionList)||[]}:N.data;return u.jsx(vae,{...N,data:E,active:C,onClick:()=>a(G=>G==="all"?null:"all"),rows:S,formatValue:b,renderProfessionIcon:c},N.statKey)})})})()]}):null,wae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const x=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(K1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(hr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Q6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var x;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(hr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},kae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(Mc,{width:"100%",height:"100%",children:u.jsxs(Cw,{children:[u.jsx(Jg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(sd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(Lc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(L0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(Mc,{width:"100%",height:"100%",children:u.jsxs(Cw,{children:[u.jsx(Jg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(sd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(Lc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Sae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(Mc,{width:"100%",height:"100%",children:u.jsxs(i0,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(dm,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(mm,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(hm,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(Lc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const l=(f=o==null?void 0:o[0])==null?void 0:f.payload,c=(l==null?void 0:l.isWin)===!0?"Win":(l==null?void 0:l.isWin)===!1?"Loss":"Unknown";return`${typeof(l==null?void 0:l.label)=="string"&&l.label.trim().length>0?l.label:`Log ${s}`}  ${c}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(uo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(uo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Nae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Z1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(Mc,{width:"100%",height:"100%",children:u.jsxs(Cw,{children:[u.jsx(Jg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(sd,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(Lc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(p_,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),bD=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:x,damageBasis:w="all",setDamageBasis:b,showDamageBasisToggle:N=!1,selectedSpikePlayerKey:C,setSelectedSpikePlayerKey:S,selectedSpikePlayer:j,spikeChartData:E,spikeChartMaxY:$,selectedSpikeFightIndex:D,setSelectedSpikeFightIndex:_,spikeDrilldownTitle:O,spikeDrilldownData:G,spikeDrilldownDownIndices:Q,spikeDrilldownDeathIndices:ce,spikeFightSkillRows:pe=[],spikeFightSkillTitle:X="Skill Damage (Selected Fight)",formatWithCommas:W,renderProfessionIcon:ue})=>{const[M,A]=v.useState(null),[ae,k]=v.useState(null),z=he=>String(he||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=s===e,J=j?vc(j.profession):"#fda4af",Z=w==="downContribution",ie=y==="hit"?Z?"Highest Down Contribution":"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",F=he=>y==="hit"?Z?he.peakHitDown:he.peakHit:y==="1s"?Z?he.peak1sDown:he.peak1s:y==="5s"?Z?he.peak5sDown:he.peak5s:Z?he.peak30sDown:he.peak30s,B=g.flatMap(he=>he.players.map(L=>({...L,groupProfession:he.profession}))).sort((he,L)=>{const ke=F(L)-F(he);return ke!==0?ke:he.displayName.localeCompare(L.displayName)}),V=E.reduce((he,L)=>!he||L.damage>he.damage?L:he,null),Y=he=>{if(!Number.isFinite(he)||he<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(he))}catch{return""}},R=G.reduce((he,L)=>Math.max(he,Number(L.value||0)),0),oe=Math.max(1,R),q=new Set(Q),te=new Set(ce),Oe=G.map((he,L)=>({...he,downMarker:q.has(L)?Math.max(Number(he.value||0),oe*.88):null,deathMarker:te.has(L)?Math.max(Number(he.value||0),oe*.96):null})),Ie=he=>L=>{const ke=Number(L==null?void 0:L.cx),Ne=Number(L==null?void 0:L.cy),ct=Number(L==null?void 0:L.index);if(!Number.isFinite(ke)||!Number.isFinite(Ne)||!Number.isFinite(ct))return null;const Ot=(L==null?void 0:L.payload)||{},dn=he==="down"?Ot==null?void 0:Ot.downMarker:Ot==null?void 0:Ot.deathMarker;if(!Number.isFinite(Number(dn)))return null;const ve=`${he}-${ct}`,Ke=M===ve,jt=he==="down"?"#facc15":"#ef4444",en=he==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{A(ve),k({x:ke,y:Ne,kind:he,label:String((Ot==null?void 0:Ot.label)||"")})},onMouseLeave:()=>{A(Gt=>Gt===ve?null:Gt),k(Gt=>(Gt==null?void 0:Gt.kind)===he&&(Gt==null?void 0:Gt.label)===String((Ot==null?void 0:Ot.label)||"")?null:Gt)},children:[u.jsx("circle",{cx:ke,cy:Ne,r:Ke?10:7,fill:en,opacity:Ke?.35:.18}),u.jsx("circle",{cx:ke,cy:Ne,r:Ke?7:5.5,fill:jt,stroke:"#0f172a",strokeWidth:Ke?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${U?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:U?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Gf,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${U?"pr-10 md:pr-0":""}`,children:[N&&b&&u.jsx(En,{value:w,onChange:he=>b(he),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:y,onChange:he=>x(he),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>U?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${U?"absolute top-2 right-2 md:static":""}`,"aria-label":U?`Close ${t}`:`Expand ${t}`,title:U?"Close":"Expand",children:U?u.jsx(Ti,{className:"w-4 h-4"}):u.jsx(Wi,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:he=>p(he.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:B.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:B.map(he=>{const L=C===he.key;return u.jsx("button",{type:"button",onClick:()=>S(he.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${L?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ue(he.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:he.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:he.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[he.characterName||he.displayName,"  ",he.logs," ",he.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:W(F(he)||0,0)})]})},he.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",ie]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.length," ",E.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!j||E.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):u.jsx(Mc,{width:"100%",height:"100%",children:u.jsxs(i0,{data:E,onClick:he=>{const L=Number(he==null?void 0:he.activeTooltipIndex);Number.isFinite(L)&&_(D===L?null:L)},children:[u.jsx(dm,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(mm,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(hm,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,$)],tickFormatter:he=>W(he,0)}),u.jsx(Lc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(he,L)=>[W(Number(he||0),0),String(L||"")],labelFormatter:(he,L)=>{var ct;const ke=(ct=L==null?void 0:L[0])==null?void 0:ct.payload;if(!ke)return"";const Ne=z(ke.fullLabel||"");return y==="hit"&&ke.skillName?`${Ne}  ${ke.skillName}`:Ne}}),u.jsx(uo,{type:"monotone",dataKey:"damage",name:j.displayName,stroke:J,strokeWidth:3,dot:he=>{var Ne;const L=Number((Ne=he==null?void 0:he.payload)==null?void 0:Ne.index);if(!Number.isFinite(L))return null;const ke=D===L;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ct=>{ct.stopPropagation(),_(ke?null:L)},children:[u.jsx("circle",{cx:he.cx,cy:he.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:he.cx,cy:he.cy,r:ke?4:3,fill:J,stroke:ke?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ke?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(uo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),j&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ue(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?Z?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${ie}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:W(F(j)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const he=z((V==null?void 0:V.fullLabel)||j.peakFightLabel||"N/A"),L=Y(Number((V==null?void 0:V.timestamp)||0)),ke=L?`${L} - ${he}`:he;return y!=="hit"?ke:j.peakSkillName?`${j.peakSkillName}  ${ke}`:ke})()})]})]}),j&&D!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),u.jsx("button",{type:"button",onClick:()=>_(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:G.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(Mc,{width:"100%",height:"100%",children:u.jsxs(i0,{data:Oe,children:[u.jsx(dm,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(mm,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(hm,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:he=>W(he,0)}),u.jsx(Lc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(he,L)=>{const ke=String(L||"");return ke==="Down"?["Downed","Event"]:ke==="Death"?["Dead","Event"]:[W(Number(he||0),0),"Damage"]},labelFormatter:he=>String(he||"")}),u.jsx(uo,{type:"monotone",dataKey:"value",name:"Damage",stroke:J,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(uo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ie("down")}),u.jsx(uo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ie("death")})]})}),ae&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ae.x)}px`,top:`${Math.max(8,ae.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${ae.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ae.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:ae.label})]})]})})]}),j&&D!==null&&u.jsx("div",{className:`mt-4 transition-all duration-300 ${pe.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const he=ke=>Number(Z?ke.downContribution||0:ke.damage||0),L=[...pe].filter(ke=>he(ke)>0).sort((ke,Ne)=>he(Ne)-he(ke)||Number(Ne.hits||0)-Number(ke.hits||0)).slice(0,30);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:X}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[L.length," ",L.length===1?"skill":"skills"]})]}),L.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:Z?"Down Contrib":"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:L.map((ke,Ne)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[ke.icon?u.jsx("img",{src:ke.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:ke.skillName,children:ke.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:W(Number(Z?ke.downContribution||0:ke.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:W(Number(ke.hits||0),0)})]},`${ke.skillName}-${Ne}`))})]})]})})()})]})},Cae=10,ip=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},wD=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},jae=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Aae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const y=e.filter(w=>{if(!f)return!0;const b=String(w.account||"").toLowerCase(),N=(w.characterNames||[]).join(" ").toLowerCase(),C=(w.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return b.includes(f)||N.includes(f)||C.includes(f)}),x=w=>Number(o==="fight"?w.combatTimeMs??w.squadTimeMs??0:w.squadTimeMs??0);return[...y].sort((w,b)=>{const N=x(b)-x(w);return N!==0?c==="desc"?N:-N:String(w.account||"").localeCompare(String(b.account||""))})},[e,f,c,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>Cae,g=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(j=>{const E=(j.classTimes||[]).map($=>`${$.profession} (${ip($.timeMs)})`).join("; ");return[j.account||"",(j.characterNames||[]).join(", "),E,wD(Number(j.combatTimeMs??j.squadTimeMs??0)),wD(j.squadTimeMs)]}),w=[y,...x].map(j=>j.map(E=>jae(String(E??""))).join(",")).join(`
`),b=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(b),C=document.createElement("a"),S=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=N,C.download=`attendance-ledger-${S}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(N)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Kf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(rU,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:ip(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:ip(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:ip(y.squadTimeMs)})]},y.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Pae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Dae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),c=o.trim().toLowerCase(),d=Cm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Pae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Tae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Eae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(hl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Tae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Mae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(HO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(xc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx($0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(hU,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(dU,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Oae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(cU,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(qO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(YO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Iae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),_s="space-y-1 pr-1 max-h-72 overflow-y-auto",_ae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Lae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],kD={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},ny=[];function $ae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:g}){var sC,oC;const y=n||e5,x=r||Cb,w=a||IU,b=x.showTopStats,N=x.showMvp,C=x.roundCountStats,S=x.topStatsMode||"total",[j,E]=v.useState(x.topSkillsMetric||"damage"),$=(i?x.topSkillsMetric:j)||"damage",D=w.uploading,_=w.message,O=w.url,G=w.buildStatus,Q=!c&&!1,[ce,pe]=v.useState(!0),X=v.useCallback(I=>d?d(I):!0,[d]),W=!!g,{result:ue,aggregationProgress:M,aggregationDiagnostics:A}=B8({logs:W?[]:e,precomputedStats:W?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ae=g||ue,k=(g==null?void 0:g.aggregationProgress)||M,z=(g==null?void 0:g.aggregationDiagnostics)||A,{stats:U,skillUsageData:J}=ae,Z=v.useMemo(()=>{const I=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),re=Math.min(I,Math.max(0,Number((p==null?void 0:p.pending)||0))),le=Math.min(I,Math.max(0,Number((p==null?void 0:p.processed)||I-re))),Re=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&I>0&&re>0){const Mt=I>0?Math.max(1,Math.min(99,Math.round(le/I*100))):0,an=Re>0?`  ${Re} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${le} of ${I} fights prepared${an}`,progressPercent:Mt}}if(I>0&&Re>=I)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${Re} of ${I} fights could not be loaded from dps.report`,progressPercent:100};if(I>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const $e=Math.max(0,Number((k==null?void 0:k.total)||e.length||0));if(!(!!(k!=null&&k.active)&&(k==null?void 0:k.phase)!=="idle"&&(k==null?void 0:k.phase)!=="settled"&&$e>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const Ze=Math.min(Math.max(Number((k==null?void 0:k.streamed)||0),0),$e),dt=(k==null?void 0:k.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",Je=(k==null?void 0:k.phase)==="streaming"?`${Ze} of ${$e} fights loaded`:"All fights loaded  calculating final totals",Nt=(k==null?void 0:k.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(Ze/$e*100))):99;return{active:!0,phaseLabel:dt,progressText:Je,progressPercent:Nt}},[p,k,e.length]),ie=v.useMemo(()=>{if(!z)return"";const I=Re=>{const Te=Math.max(0,Number(Re||0));return Te>=1e4?`${(Te/1e3).toFixed(1)}s`:Te>=1e3?`${(Te/1e3).toFixed(2)}s`:`${Math.round(Te)}ms`},re=[`Load ${I(z.streamMs)}`,`Calculate ${I(z.computeMs)}`,`Total ${I(z.totalMs)}`],le=z.transferStripStats;if(z.mode==="worker"&&le){const Re=Number(le.spikeSkillRowsRemoved||0),Te=Number(le.incomingSkillRowsRemoved||0),$e=Number(le.playerSkillMapsRemoved||0),ee=Re+Te+$e;ee>0&&re.push(`Cleaned up ${ee.toLocaleString()} temporary records`)}return z.mode==="worker"&&Number(z.droppedLogMessages||0)>0&&re.push(`Skipped ${Number(z.droppedLogMessages||0)} outdated updates`),re.join("  ")},[z]),F=Z.active,B=Z.phaseLabel,V=Z.progressText,Y=F&&Z.progressPercent<100;v.useEffect(()=>{if(F){pe(!1);return}let I=!1;const re=()=>{I||pe(!0)},le=window.requestIdleCallback;let Re=null;return typeof le=="function"?Re=le(()=>re(),{timeout:220}):Re=window.setTimeout(re,60),()=>{if(I=!0,Re!==null)if(typeof le=="function"){const Te=window.cancelIdleCallback;typeof Te=="function"&&Te(Re)}else window.clearTimeout(Re)}},[F]);const R=ce&&!F,oe=R&&(X("top-skills-outgoing")||X("player-breakdown")||X("damage-breakdown")),q=R&&X("skill-usage"),te=R&&X("apm-stats"),Oe=R&&X("spike-damage"),Ie=R&&X("incoming-strike-damage"),he=R&&X("conditions-outgoing"),L=v.useMemo(()=>{var Je,Nt,Mt,an,Vn,qt;const I=U&&typeof U=="object"?U:{},re=tn=>Array.isArray(tn)?tn:[],le=tn=>tn&&typeof tn=="object"?tn:{},Re=(tn,Bn)=>tn&&typeof tn=="object"?tn:Bn,Te={value:0,player:"-",profession:"Unknown",professionList:[],count:0},$e={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ee={...I,total:Number(I.total||0),timelineData:re(I.timelineData),mapData:re(I.mapData),fightBreakdown:re(I.fightBreakdown),topSkills:re(I.topSkills),topIncomingSkills:re(I.topIncomingSkills),leaderboards:le(I.leaderboards),topStatsPerSecond:le(I.topStatsPerSecond),topStatsLeaderboardsPerSecond:le(I.topStatsLeaderboardsPerSecond),maxDownContrib:Re(I.maxDownContrib,Te),maxBarrier:Re(I.maxBarrier,Te),maxHealing:Re(I.maxHealing,Te),maxDodges:Re(I.maxDodges,Te),maxStrips:Re(I.maxStrips,Te),maxCleanses:Re(I.maxCleanses,Te),maxCC:Re(I.maxCC,Te),maxStab:Re(I.maxStab,Te),closestToTag:Re(I.closestToTag,Te),mvp:{...$e,...le(I.mvp),topStats:re((Je=I==null?void 0:I.mvp)==null?void 0:Je.topStats)},silver:Re(I.silver,$e),bronze:Re(I.bronze,$e),avgMvpScore:Number(I.avgMvpScore||0),offensePlayers:re(I.offensePlayers),defensePlayers:re(I.defensePlayers),damageMitigationPlayers:re(I.damageMitigationPlayers),damageMitigationMinions:re(I.damageMitigationMinions),supportPlayers:re(I.supportPlayers),healingPlayers:re(I.healingPlayers),boonTables:re(I.boonTables),specialTables:re(I.specialTables),outgoingConditionSummary:re(I.outgoingConditionSummary),outgoingConditionPlayers:re(I.outgoingConditionPlayers),incomingConditionSummary:re(I.incomingConditionSummary),incomingConditionPlayers:re(I.incomingConditionPlayers),squadClassData:re(I.squadClassData),enemyClassData:re(I.enemyClassData),attendanceData:re(I.attendanceData),squadCompByFight:re(I.squadCompByFight),fightDiffMode:re(I.fightDiffMode),playerSkillBreakdowns:re(I.playerSkillBreakdowns)},dt=re((Nt=ee.leaderboards)==null?void 0:Nt.downContrib).map(tn=>({...tn,value:Number((tn==null?void 0:tn.value)??0)})).filter(tn=>Number.isFinite(tn.value)).sort((tn,Bn)=>Bn.value-tn.value||String((tn==null?void 0:tn.account)||"").localeCompare(String((Bn==null?void 0:Bn.account)||"")))[0];return dt&&(ee.maxDownContrib={...ee.maxDownContrib||{},value:Number(dt.value||0),player:String(dt.account||((Mt=ee.maxDownContrib)==null?void 0:Mt.player)||"-"),count:Number(dt.count||((an=ee.maxDownContrib)==null?void 0:an.count)||0),profession:String(dt.profession||((Vn=ee.maxDownContrib)==null?void 0:Vn.profession)||"Unknown"),professionList:Array.isArray(dt.professionList)?dt.professionList:((qt=ee.maxDownContrib)==null?void 0:qt.professionList)||[]}),ee},[U]);v.useEffect(()=>{var Te;if(!((Te=window==null?void 0:window.electronAPI)!=null&&Te.fetchImageAsDataUrl)||F)return;let I=!1;const re=()=>{if(I)return;const $e=new Set,ee=Nt=>{typeof Nt=="string"&&/^https?:\/\//i.test(Nt)&&$e.add(Nt)},Ze=Nt=>{Nt.forEach(Mt=>{ee(Mt==null?void 0:Mt.icon),ee(Mt==null?void 0:Mt.iconUrl)})};Ze(Array.isArray(L==null?void 0:L.topSkills)?L.topSkills:[]),Ze(Array.isArray(L==null?void 0:L.topIncomingSkills)?L.topIncomingSkills:[]),Ze(Array.isArray(L==null?void 0:L.topSkillsByDamage)?L.topSkillsByDamage:[]),Ze(Array.isArray(L==null?void 0:L.topSkillsByDownContribution)?L.topSkillsByDownContribution:[]),Ze(Array.isArray(L==null?void 0:L.outgoingConditionSummary)?L.outgoingConditionSummary:[]),Ze(Array.isArray(L==null?void 0:L.incomingConditionSummary)?L.incomingConditionSummary:[]),(Array.isArray(L==null?void 0:L.boonTables)?L.boonTables:[]).forEach(Nt=>{ee(Nt==null?void 0:Nt.icon)}),(Array.isArray(L==null?void 0:L.specialTables)?L.specialTables:[]).forEach(Nt=>{ee(Nt==null?void 0:Nt.icon)}),oe&&(Array.isArray(L==null?void 0:L.playerSkillBreakdowns)?L.playerSkillBreakdowns:[]).forEach(Mt=>{const an=Array.isArray(Mt==null?void 0:Mt.skills)?Mt.skills:[];Ze(an)}),$e.size>0&&Kie(Array.from($e))},le=window.requestIdleCallback;let Re=null;return typeof le=="function"?Re=le(()=>re(),{timeout:500}):Re=window.setTimeout(re,120),()=>{if(I=!0,Re!==null)if(typeof le=="function"){const $e=window.cancelIdleCallback;typeof $e=="function"&&$e(Re)}else window.clearTimeout(Re)}},[L,F,oe]);const ke=v.useMemo(()=>{const I=(l==null?void 0:l.skillUsageData)??J;return{logRecords:Array.isArray(I==null?void 0:I.logRecords)?I.logRecords:[],players:Array.isArray(I==null?void 0:I.players)?I.players:[],skillOptions:Array.isArray(I==null?void 0:I.skillOptions)?I.skillOptions:[],resUtilitySkills:Array.isArray(I==null?void 0:I.resUtilitySkills)?I.resUtilitySkills:[]}},[J,l==null?void 0:l.skillUsageData]),Ne=ke.players.length>0;v.useEffect(()=>{i||E(x.topSkillsMetric||"damage")},[x.topSkillsMetric,i]);const ct=I=>{if(i){i({...x,topSkillsMetric:I});return}E(I)},{scrollContainerRef:Ot}=xU(c,!0,Y),{devMockUploadState:dn,webCopyStatus:ve,setWebCopyStatus:Ke,handleWebUpload:jt,handleDevMockUpload:en}=UU({logs:e,stats:L,skillUsageData:ke,activeStatsViewSettings:r||Cb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:Gt,handleShare:yr}=L8(c),$n={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},sn=I=>{const re=$n[I];return re?y[re]>0:!0},[Qa,fn]=v.useState(null),[Sn,Nn]=v.useState(null),[pi,_r]=v.useState("totalBuffs"),[Ar,Kc]=v.useState("total"),[Qs,Uo]=v.useState(""),[br,Za]=v.useState(null),[Vr,Ja]=v.useState(""),[Hi,da]=v.useState(null),[Cs,Gc]=v.useState(""),[fa,es]=v.useState(""),[ts,Cd]=v.useState(""),[Vo,Yc]=v.useState(""),[jd,Ad]=v.useState(""),[js,Xc]=v.useState(""),[As,Qc]=v.useState(""),[K,we]=v.useState("outgoing"),[Le,pt]=v.useState(""),[Tt,zt]=v.useState("damage"),[on,St]=v.useState("damageTaken"),[xt,_n]=v.useState("totalMitigation"),[T,P]=v.useState("all"),[H,ge]=v.useState({key:"damage",dir:"desc"}),Ee=!(T!=="all"&&_ae.has(T)),Se=Ee?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Ge=Ee?H:{key:"applications",dir:H.key==="applications"?H.dir:"desc"},[rt,Dt]=v.useState("condiCleanse"),[It,Ht]=v.useState("healing"),[Qt,wn]=v.useState("total"),[Ve,ft]=v.useState("all"),[gt,Ft]=v.useState("total"),[Pe,Me]=v.useState("total"),[_e,Ye]=v.useState("total"),[We,Xe]=v.useState("total"),[ye,at]=v.useState("all"),[mt,fe]=v.useState("squad"),[qe,ot]=v.useState("player"),[Rt,Ae]=v.useState(""),[de,Bt]=v.useState(""),[be,ze]=v.useState(null),[tt,ht]=v.useState([]),[Qe,He]=v.useState(null),[it,lt]=v.useState(null),[vt,mn]=v.useState("hit"),[un,Un]=v.useState("all"),[Ut,Pr]=v.useState(null),[hn,Dr]=v.useState(null),[Cn,or]=v.useState("hit"),[qi,gi]=v.useState([]),[vn,Ul]=v.useState(null),[wr,Wo]=v.useState(!1),Ki=v.useRef(null),[Zs,Ho]=v.useState("sizes"),[Ps,qo]=v.useState("total"),Vl=Ps==="perSecond",[Zc,Ue]=v.useState(null),[Fe,Ce]=v.useState("total"),[De,st]=v.useState(null),[Zt,pn]=v.useState(null),[kn,Ln]=v.useState(null),[Gi,Zr]=v.useState(""),[Tr,Js]=v.useState(null),[Yi,Pd]=v.useState(null),[Xi,Mi]=v.useState(null),[Ko,ch]=v.useState(""),[uh,dh]=v.useState("player"),[Ds,Jc]=v.useState(null),[fh,Wl]=v.useState(null),[kr,Ts]=v.useState(null),Hl=te?ke:kD,{apmSpecBuckets:Qi}=z8(Hl),Oi=v.useMemo(()=>oe?L.playerSkillBreakdowns||[]:ny,[oe,L.playerSkillBreakdowns]),Qx=v.useMemo(()=>{const I=new Map;return Oi.forEach(re=>I.set(re.key,re)),I},[Oi]),eu=v.useMemo(()=>{const I=new Map;return Oi.forEach(re=>{const le=re.profession||"Unknown";I.has(le)||I.set(le,{profession:le,players:[],skills:new Map});const Re=I.get(le);Re.players.push(re),re.skills.forEach(Te=>{var ee;const $e=Re.skills.get(Te.id)||{...Te,damage:0,downContribution:0};$e.damage+=Number(Te.damage||0),$e.downContribution+=Number(Te.downContribution||0),!$e.icon&&Te.icon&&($e.icon=Te.icon),(ee=$e.name)!=null&&ee.startsWith("Skill ")&&!Te.name.startsWith("Skill ")&&($e.name=Te.name),Re.skills.set(Te.id,$e)})}),Array.from(I.values()).map(re=>{const le=Array.from(re.skills.values()).sort((Te,$e)=>$e.damage-Te.damage),Re=le.reduce((Te,$e)=>(Te[$e.id]=$e,Te),{});return{profession:re.profession,players:re.players,skills:le,skillMap:Re}}).sort((re,le)=>re.profession.localeCompare(le.profession))},[Oi]),eo=Tr&&Qx.get(Tr)||null,bR=eo&&Xi&&(((sC=eo.skillMap)==null?void 0:sC[Xi])||eo.skills.find(I=>I.id===Xi))||null,Zx=v.useMemo(()=>{const I=new Map;return eu.forEach(re=>I.set(re.profession,re)),I},[eu]),Go=Ds&&Zx.get(Ds)||null,wR=Go&&kr&&((oC=Go.skillMap)==null?void 0:oC[kr])||null,mh=(I,re)=>{if(!re)return null;const le=Number(re.index);if(Number.isInteger(le)&&le>=0&&le<I.length)return I[le]||null;const Re=String(re.fightId||"").trim();return Re&&I.find(Te=>String((Te==null?void 0:Te.id)||"").trim()===Re)||null},Yo=I=>{if(I&&typeof I=="object"){const le=Number((I==null?void 0:I.damage)||0),Re=Array.isArray(I==null?void 0:I.skillRows)?I.skillRows:void 0,Te=(Re||[]).reduce(($e,ee)=>$e+Number((ee==null?void 0:ee.downContribution)||0),0);return{hit:Number((I==null?void 0:I.hit)??le),burst1s:Number((I==null?void 0:I.burst1s)||0),burst5s:Number((I==null?void 0:I.burst5s)||0),burst30s:Number((I==null?void 0:I.burst30s)||0),hitDown:Number((I==null?void 0:I.hitDown)||Te||0),burst1sDown:Number((I==null?void 0:I.burst1sDown)||0),burst5sDown:Number((I==null?void 0:I.burst5sDown)||0),burst30sDown:Number((I==null?void 0:I.burst30sDown)||0),skillName:String((I==null?void 0:I.skillName)||""),buckets5s:Array.isArray(I==null?void 0:I.buckets5s)?I.buckets5s:void 0,buckets5sDown:Array.isArray(I==null?void 0:I.buckets5sDown)?I.buckets5sDown:void 0,downIndices5s:Array.isArray(I==null?void 0:I.downIndices5s)?I.downIndices5s:void 0,deathIndices5s:Array.isArray(I==null?void 0:I.deathIndices5s)?I.deathIndices5s:void 0,skillRows:Re}}return{hit:Number(I||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},ma=v.useMemo(()=>{if(!Oe)return{fights:[],players:[]};const I=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),re=me=>I(me).toLowerCase().split(/[^a-z0-9]+/i).map(Be=>Be.trim()).filter(Boolean).map(Be=>Be.length>3&&Be.endsWith("s")?Be.slice(0,-1):Be),le=(me,Be)=>{const se=I(me),kt=I(Be);if(!kt)return se;if(!se)return kt;const yt=re(se),nn=re(kt),ln=new Set(yt),Yn=new Set(nn),_t=nn.length>0&&nn.every(At=>ln.has(At)),Yt=yt.length>0&&yt.every(At=>Yn.has(At));return _t||Yt?se:`${se} - ${kt}`},Re=me=>{if(me==null||me==="")return 0;if(typeof me=="number")return!Number.isFinite(me)||me<=0?0:me>1e12?me:me*1e3;if(me instanceof Date){const ln=me.getTime();return Number.isFinite(ln)&&ln>0?ln:0}const Be=String(me).trim();if(!Be)return 0;const se=Number(Be);if(Number.isFinite(se)&&se>0)return se>1e12?se:se*1e3;const kt=Date.parse(Be);if(Number.isFinite(kt)&&kt>0)return kt;const yt=Be.replace(/([+-]\d{2})$/,"$1:00"),nn=Date.parse(yt);return Number.isFinite(nn)&&nn>0?nn:0},Te=(me,Be)=>Re((me==null?void 0:me.uploadTime)??(Be==null?void 0:Be.uploadTime)??(me==null?void 0:me.timeStartStd)??(me==null?void 0:me.timeStart)??(me==null?void 0:me.timeEndStd)??(me==null?void 0:me.timeEnd)),$e=L==null?void 0:L.spikeDamage,ee=Array.isArray($e==null?void 0:$e.fights)?$e.fights:[],Ze=Array.isArray($e==null?void 0:$e.players)?$e.players:[],dt=ee.some(me=>(me!=null&&me.values&&typeof me.values=="object"?Object.values(me.values):[]).some(se=>se&&typeof se=="object"&&(Number(se.burst1s||0)>0||Number(se.burst5s||0)>0||Number(se.burst30s||0)>0)))||Ze.some(me=>Number((me==null?void 0:me.peak1s)||0)>0||Number((me==null?void 0:me.peak5s)||0)>0||Number((me==null?void 0:me.peak30s)||0)>0),Je=ee.some(me=>(me!=null&&me.values&&typeof me.values=="object"?Object.values(me.values):[]).some(se=>se&&typeof se=="object"&&(Number(se.hitDown||0)>0||Number(se.burst1sDown||0)>0||Number(se.burst5sDown||0)>0||Number(se.burst30sDown||0)>0)))||Ze.some(me=>Number((me==null?void 0:me.peakHitDown)||0)>0||Number((me==null?void 0:me.peak1sDown)||0)>0||Number((me==null?void 0:me.peak5sDown)||0)>0||Number((me==null?void 0:me.peak30sDown)||0)>0);if((ee.length>0||Ze.length>0)&&(dt||e.length===0)&&(un!=="downContribution"||Je||e.length===0)){const me=ee.map((se,kt)=>{const yt=se!=null&&se.values&&typeof se.values=="object"?se.values:{};return{id:String((se==null?void 0:se.id)||`fight-${kt+1}`),shortLabel:String((se==null?void 0:se.shortLabel)||`F${kt+1}`),fullLabel:I((se==null?void 0:se.fullLabel)||`Fight ${kt+1}`),timestamp:Number((se==null?void 0:se.timestamp)||0),values:yt,maxHit:Number((se==null?void 0:se.maxHit)??(se==null?void 0:se.maxDamage)??0),max1s:Number((se==null?void 0:se.max1s)||0),max5s:Number((se==null?void 0:se.max5s)||0),max30s:Number((se==null?void 0:se.max30s)||0),maxHitDown:Number((se==null?void 0:se.maxHitDown)||0),max1sDown:Number((se==null?void 0:se.max1sDown)||0),max5sDown:Number((se==null?void 0:se.max5sDown)||0),max30sDown:Number((se==null?void 0:se.max30sDown)||0)}}),Be=Ze.map(se=>({key:String((se==null?void 0:se.key)||""),account:String((se==null?void 0:se.account)||"Unknown"),displayName:String((se==null?void 0:se.displayName)||(se==null?void 0:se.account)||"Unknown"),characterName:String((se==null?void 0:se.characterName)||(se==null?void 0:se.name)||(se==null?void 0:se.character_name)||(se==null?void 0:se.display_name)||""),profession:String((se==null?void 0:se.profession)||"Unknown"),professionList:Array.isArray(se==null?void 0:se.professionList)?se.professionList.map(kt=>String(kt)):[],logs:Number((se==null?void 0:se.logs)||0),peakHit:Number((se==null?void 0:se.peakHit)||0),peak1s:Number((se==null?void 0:se.peak1s)||0),peak5s:Number((se==null?void 0:se.peak5s)||0),peak30s:Number((se==null?void 0:se.peak30s)||0),peakHitDown:Number((se==null?void 0:se.peakHitDown)||0),peak1sDown:Number((se==null?void 0:se.peak1sDown)||0),peak5sDown:Number((se==null?void 0:se.peak5sDown)||0),peak30sDown:Number((se==null?void 0:se.peak30sDown)||0),peakFightLabel:I((se==null?void 0:se.peakFightLabel)||""),peakSkillName:String((se==null?void 0:se.peakSkillName)||"")}));return{fights:me,players:Be}}const Mt=(me,Be)=>{const se=(Be==null?void 0:Be.skillMap)||{},kt=(Be==null?void 0:Be.buffMap)||{};let yt=0,nn=0,ln="";const Yn=At=>{const gn=Number(At);if(!Number.isFinite(gn))return String(At||"Unknown Skill");const Xn=(se==null?void 0:se[`s${gn}`])||(se==null?void 0:se[`${gn}`]);if(Xn!=null&&Xn.name)return String(Xn.name);const Ea=(kt==null?void 0:kt[`b${gn}`])||(kt==null?void 0:kt[`${gn}`]);return Ea!=null&&Ea.name?String(Ea.name):`Skill ${gn}`},_t=At=>{if(!At||typeof At!="object")return;const gn=[Number(At.max),Number(At.maxDamage),Number(At.maxHit)].filter(Ed=>Number.isFinite(Ed)),Xn=gn.length>0?Math.max(...gn):0;Xn>yt&&(yt=Xn,ln=Yn(At.id));const Ea=Number(At.downContribution||0);Ea>nn&&(nn=Ea)};let Yt=!1;return Array.isArray(me==null?void 0:me.targetDamageDist)&&me.targetDamageDist.forEach(At=>{Array.isArray(At)&&At.forEach(gn=>{Array.isArray(gn)&&gn.forEach(Xn=>{Yt=!0,_t(Xn)})})}),(!Yt||yt<=0)&&Array.isArray(me==null?void 0:me.totalDamageDist)&&me.totalDamageDist.forEach(At=>{Array.isArray(At)&&At.forEach(gn=>_t(gn))}),{peak:yt,peakDownContribution:nn,skillName:ln||"Unknown Skill"}},an=me=>{const Be=_t=>{if(!Array.isArray(_t)||_t.length===0)return[];const Yt=[];for(let At=0;At<_t.length;At+=1){const gn=Number(_t[At]||0),Xn=At>0?Number(_t[At-1]||0):0;Yt.push(Math.max(0,gn-Xn))}return Yt},se=_t=>{if(!Array.isArray(_t))return[];const Yt=_t.reduce((gn,Xn)=>Math.max(gn,Array.isArray(Xn)?Xn.length:0),0);if(Yt<=0)return[];const At=new Array(Yt).fill(0);return _t.forEach(gn=>{if(Array.isArray(gn))for(let Xn=0;Xn<Yt;Xn+=1)At[Xn]+=Number(gn[Xn]||0)}),At},kt=_t=>Array.isArray(_t)?_t.map(Yt=>Number(Yt||0)):null,nn=(_t=>{if(!Array.isArray(_t)||_t.length===0)return null;const Yt=_t[0];if(!Array.isArray(Yt))return null;if(Array.isArray(Yt[0])&&Array.isArray(Yt[0][0]))return se(Yt);if(Array.isArray(Yt[0])&&!Array.isArray(Yt[0][0])){const At=_t.map(gn=>kt(Array.isArray(gn)?gn[0]:null)).filter(gn=>Array.isArray(gn)&&gn.length>0);if(At.length>0)return se(At)}return null})(me==null?void 0:me.targetDamage1S),ln=Array.isArray(me==null?void 0:me.damage1S)&&Array.isArray(me.damage1S[0])?me.damage1S[0]:null,Yn=nn||(Array.isArray(ln)?ln.map(_t=>Number(_t||0)):[]);return Be(Yn)},Vn=(me,Be)=>{if(!Array.isArray(me)||me.length===0||Be<=0)return 0;let se=0,kt=0;for(let yt=0;yt<me.length;yt+=1)se+=Number(me[yt]||0),yt>=Be&&(se-=Number(me[yt-Be]||0)),yt>=Be-1&&se>kt&&(kt=se);return Math.max(0,kt)},qt=(me,Be)=>{if(!Array.isArray(me)||me.length===0||Be<=0)return[];const se=[];for(let kt=0;kt<me.length;kt+=Be){const yt=Math.min(kt+Be,me.length),nn=me.slice(kt,yt).reduce((ln,Yn)=>ln+Number(Yn||0),0);se.push(nn)}return se},tn=(me,Be)=>{let se=0,kt=0;const yt=new Map,nn=Yn=>{if(!Yn||typeof Yn!="object"||Yn.indirectDamage)return;const _t=Number(Yn.totalDamage||0),Yt=Number(Yn.downContribution||0);!Number.isFinite(_t)&&!Number.isFinite(Yt)||(se+=Number.isFinite(_t)?_t:0,kt+=Number.isFinite(Yt)?Yt:0)};return Array.isArray(me==null?void 0:me.targetDamageDist)&&me.targetDamageDist.forEach(Yn=>{Array.isArray(Yn)&&Yn.forEach(_t=>{Array.isArray(_t)&&_t.forEach(Yt=>{const At=Number(Yt==null?void 0:Yt.id);if(Number.isFinite(At)){const gn=yt.get(At)||{damage:0,downContribution:0};gn.damage+=Number((Yt==null?void 0:Yt.totalDamage)||0),gn.downContribution+=Number((Yt==null?void 0:Yt.downContribution)||0),yt.set(At,gn)}nn(Yt)})})}),!(Be!=null&&Be.detailedWvW)&&Array.isArray(me==null?void 0:me.totalDamageDist)&&me.totalDamageDist.forEach(Yn=>{Array.isArray(Yn)&&Yn.forEach(_t=>{const Yt=Number(_t==null?void 0:_t.id);if(!Number.isFinite(Yt)){nn(_t);return}const At=yt.get(Yt);if(!At){nn(_t);return}const gn=Number((_t==null?void 0:_t.totalDamage)||0)-Number(At.damage||0),Xn=Number((_t==null?void 0:_t.downContribution)||0)-Number(At.downContribution||0);gn<=0&&Xn<=0||nn({..._t,totalDamage:Math.max(0,gn),downContribution:Math.max(0,Xn)})})}),{damageTotal:Math.max(0,se),downContributionTotal:Math.max(0,kt)}},Bn=[],Vt=new Map;e.forEach(me=>{const Be=me==null?void 0:me.details;if(!Be)return;const se=Bn.length+1,kt=I(Be.fightName||me.fightName||`Fight ${se}`),yt=Be.zone||Be.mapName||Be.map||Be.location||"",nn=le(kt,String(yt||"")),ln={};(Array.isArray(Be.players)?Be.players:[]).forEach(rn=>{if(rn!=null&&rn.notInSquad)return;const xn=String((rn==null?void 0:rn.account)||(rn==null?void 0:rn.name)||"Unknown"),Md=String((rn==null?void 0:rn.character_name)||(rn==null?void 0:rn.display_name)||(rn==null?void 0:rn.name)||""),Xo=String((rn==null?void 0:rn.profession)||"Unknown"),ru=`${xn}|${Xo}`,Qo=Mt(rn,Be),ro=Number(Qo.peak||0),Od=Number(Qo.peakDownContribution||0),Zo=an(rn),{damageTotal:bh,downContributionTotal:ql}=tn(rn,Be),wh=bh>0?Math.min(1,Math.max(0,ql/bh)):0,Jo=Zo.map(rs=>Number(rs||0)*wh),iu=Number(Vn(Zo,1)||0),je=Number(Vn(Zo,5)||0),ut=Number(Vn(Zo,30)||0),Lt=Number(Vn(Jo,1)||0),jn=Number(Vn(Jo,5)||0),Xt=Number(Vn(Jo,30)||0),Wt=Math.max(0,Math.ceil(Number((Be==null?void 0:Be.durationMS)||0)/5e3)),An=Math.max(0,Math.ceil(Zo.length/5)),ei=Math.max(0,Math.ceil(Jo.length/5)),Er=Math.max(Wt,An,ei),Kl=qt(Zo,5),kh=qt(Jo,5),tr=Array.from({length:Er},(rs,Gl)=>Number(Kl[Gl]||0)),Ma=Array.from({length:Er},(rs,Gl)=>Number(kh[Gl]||0));ln[ru]={hit:ro,burst1s:iu,burst5s:je,burst30s:ut,hitDown:Od,burst1sDown:Lt,burst5sDown:jn,burst30sDown:Xt,skillName:Qo.skillName,buckets5s:tr,buckets5sDown:Ma};const On=Vt.get(ru)||{key:ru,account:xn,displayName:xn,characterName:Md,profession:Xo,professionList:[Xo],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};On.logs+=1,On.professionList.includes(Xo)||On.professionList.push(Xo),!On.characterName&&Md&&(On.characterName=Md),ro>On.peakHit&&(On.peakHit=ro,On.peakFightLabel=nn,On.peakSkillName=Qo.skillName),iu>On.peak1s&&(On.peak1s=iu),je>On.peak5s&&(On.peak5s=je),ut>On.peak30s&&(On.peak30s=ut),Od>On.peakHitDown&&(On.peakHitDown=Od),Lt>On.peak1sDown&&(On.peak1sDown=Lt),jn>On.peak5sDown&&(On.peak5sDown=jn),Xt>On.peak30sDown&&(On.peak30sDown=Xt),Vt.set(ru,On)});const _t=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.hit)||0)),0),Yt=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.burst1s)||0)),0),At=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.burst5s)||0)),0),gn=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.burst30s)||0)),0),Xn=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.hitDown)||0)),0),Ea=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.burst1sDown)||0)),0),Ed=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.burst5sDown)||0)),0),lC=Object.values(ln).reduce((rn,xn)=>Math.max(rn,Number((xn==null?void 0:xn.burst30sDown)||0)),0);Bn.push({id:me.filePath||me.id||`fight-${se}`,shortLabel:`F${se}`,fullLabel:nn,timestamp:Te(Be,me),values:ln,maxHit:_t,max1s:Yt,max5s:At,max30s:gn,maxHitDown:Xn,max1sDown:Ea,max5sDown:Ed,max30sDown:lC})});const Dn=Array.from(Vt.values()).sort((me,Be)=>Be.peakHit!==me.peakHit?Be.peakHit-me.peakHit:me.displayName.localeCompare(Be.displayName));return{fights:Bn,players:Dn}},[e,L,Oe,un]),ha=v.useMemo(()=>{if(!Ie)return{fights:[],players:[]};const I=ee=>String(ee||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),re=L==null?void 0:L.incomingStrikeDamage,le=Array.isArray(re==null?void 0:re.fights)?re.fights:[],Re=Array.isArray(re==null?void 0:re.players)?re.players:[];if(le.length===0&&Re.length===0)return{fights:[],players:[]};const Te=le.map((ee,Ze)=>{const dt=ee!=null&&ee.values&&typeof ee.values=="object"?ee.values:{};return{id:String((ee==null?void 0:ee.id)||`fight-${Ze+1}`),shortLabel:String((ee==null?void 0:ee.shortLabel)||`F${Ze+1}`),fullLabel:I((ee==null?void 0:ee.fullLabel)||`Fight ${Ze+1}`),timestamp:Number((ee==null?void 0:ee.timestamp)||0),values:dt,maxHit:Number((ee==null?void 0:ee.maxHit)??(ee==null?void 0:ee.maxDamage)??0),max1s:Number((ee==null?void 0:ee.max1s)||0),max5s:Number((ee==null?void 0:ee.max5s)||0),max30s:Number((ee==null?void 0:ee.max30s)||0),maxHitDown:Number((ee==null?void 0:ee.maxHitDown)||0),max1sDown:Number((ee==null?void 0:ee.max1sDown)||0),max5sDown:Number((ee==null?void 0:ee.max5sDown)||0),max30sDown:Number((ee==null?void 0:ee.max30sDown)||0)}}),$e=Re.map(ee=>({key:String((ee==null?void 0:ee.key)||""),account:String((ee==null?void 0:ee.account)||"Unknown"),displayName:String((ee==null?void 0:ee.displayName)||(ee==null?void 0:ee.account)||"Unknown"),characterName:String((ee==null?void 0:ee.characterName)||(ee==null?void 0:ee.name)||(ee==null?void 0:ee.character_name)||(ee==null?void 0:ee.display_name)||""),profession:String((ee==null?void 0:ee.profession)||"Unknown"),professionList:Array.isArray(ee==null?void 0:ee.professionList)?ee.professionList.map(Ze=>String(Ze)):[],logs:Number((ee==null?void 0:ee.logs)||0),peakHit:Number((ee==null?void 0:ee.peakHit)||0),peak1s:Number((ee==null?void 0:ee.peak1s)||0),peak5s:Number((ee==null?void 0:ee.peak5s)||0),peak30s:Number((ee==null?void 0:ee.peak30s)||0),peakHitDown:Number((ee==null?void 0:ee.peakHitDown)||0),peak1sDown:Number((ee==null?void 0:ee.peak1sDown)||0),peak5sDown:Number((ee==null?void 0:ee.peak5sDown)||0),peak30sDown:Number((ee==null?void 0:ee.peak30sDown)||0),peakFightLabel:I((ee==null?void 0:ee.peakFightLabel)||""),peakSkillName:String((ee==null?void 0:ee.peakSkillName)||"")}));return{fights:Te,players:$e}},[L,Ie]),Dd=v.useMemo(()=>{const I=new Map;return ma.players.forEach(re=>I.set(re.key,re)),I},[ma.players]),kR=v.useMemo(()=>{const I=Te=>un==="downContribution"?vt==="hit"?Te.peakHitDown:vt==="1s"?Te.peak1sDown:vt==="5s"?Te.peak5sDown:Te.peak30sDown:vt==="hit"?Te.peakHit:vt==="1s"?Te.peak1s:vt==="5s"?Te.peak5s:Te.peak30s,re=js.trim().toLowerCase(),le=re?ma.players.filter(Te=>Te.displayName.toLowerCase().includes(re)||Te.account.toLowerCase().includes(re)||Te.profession.toLowerCase().includes(re)):ma.players,Re=new Map;return le.forEach(Te=>{const $e=Te.profession||"Unknown",ee=Re.get($e)||[];ee.push(Te),Re.set($e,ee)}),Array.from(Re.entries()).map(([Te,$e])=>({profession:Te,players:[...$e].sort((ee,Ze)=>I(Ze)-I(ee)||ee.displayName.localeCompare(Ze.displayName))})).sort((Te,$e)=>Te.profession.localeCompare($e.profession))},[ma.players,js,vt,un]),SR=Qe&&Dd.get(Qe)||null,Es=v.useMemo(()=>{if(!Qe)return[];const I=le=>le?Number(un==="downContribution"?vt==="hit"?le.hitDown||0:vt==="1s"?le.burst1sDown||0:vt==="5s"?le.burst5sDown||0:le.burst30sDown||0:vt==="hit"?le.hit||0:vt==="1s"?le.burst1s||0:vt==="5s"?le.burst5s||0:le.burst30s||0):0,re=le=>Number(un==="downContribution"?vt==="hit"?le.maxHitDown||0:vt==="1s"?le.max1sDown||0:vt==="5s"?le.max5sDown||0:le.max30sDown||0:vt==="hit"?le.maxHit||0:vt==="1s"?le.max1s||0:vt==="5s"?le.max5s||0:le.max30s||0);return ma.fights.map((le,Re)=>({index:Re,fightId:le.id,shortLabel:le.shortLabel,fullLabel:le.fullLabel,timestamp:Number(le.timestamp||0),damage:I(Yo(le.values[Qe])),maxDamage:re(le),skillName:String(Yo(le.values[Qe]).skillName||"")}))},[ma.fights,Qe,vt,un]),NR=v.useMemo(()=>{const I=Es.reduce((le,Re)=>Math.max(le,Number(Re.damage||0)),0),re=Es.reduce((le,Re)=>Math.max(le,Number(Re.maxDamage||0)),0);return Math.max(1,I,re)},[Es]),hh=v.useMemo(()=>{var Jo,iu;const I=it===null?null:Es.find(je=>je.index===it)||null;if(!I||!Qe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const re=mh(ma.fights,I),[le,Re]=Qe.split("|"),Te=e.find(je=>String((je==null?void 0:je.filePath)||(je==null?void 0:je.id)||"")===String(I.fightId||"")),$e=Te==null?void 0:Te.details,ee=je=>Array.isArray(je)?je.map(ut=>Array.isArray(ut)?[Number(ut[0]),Number(ut[1])]:ut&&typeof ut=="object"?[Number(ut.time),Number(ut.value)]:null).filter(ut=>!!ut&&Number.isFinite(ut[0])&&ut[0]>=0):[],Ze=je=>String(je||"").trim().toLowerCase(),dt=Ze(le),Je=Ze(Re),Nt=Dd.get(Qe),Mt=new Set([Ze(Nt==null?void 0:Nt.displayName),Ze(Nt==null?void 0:Nt.characterName),Ze(Nt==null?void 0:Nt.account)].filter(Boolean)),an=Array.isArray($e==null?void 0:$e.players)&&((Jo=$e.players.map(je=>{const ut=Ze(je==null?void 0:je.account),Lt=Ze(je==null?void 0:je.name),jn=Ze(je==null?void 0:je.profession),Xt=!!ut&&ut===dt,Wt=!!Lt&&(Lt===dt||Mt.has(Lt)),An=!!ut&&Mt.has(ut),ei=!Je||jn===Je;let Er=0;return Xt&&(Er+=100),Wt&&(Er+=90),An&&(Er+=80),ei&&(Er+=20),{player:je,score:Er}}).filter(je=>je.score>0).sort((je,ut)=>ut.score-je.score)[0])==null?void 0:Jo.player)||null,Vn=(()=>{const je=an==null?void 0:an.combatReplayData;return Array.isArray(je)?je.filter(ut=>ut&&typeof ut=="object"):je&&typeof je=="object"?[je]:[]})(),qt=Vn.flatMap(je=>ee(je==null?void 0:je.down).map(([ut])=>ut)),tn=Vn.flatMap(je=>ee(je==null?void 0:je.dead).map(([ut])=>ut)),Bn=Vn.map(je=>Number(je==null?void 0:je.start)).filter(je=>Number.isFinite(je)&&je>=0),Vt=Array.isArray($e==null?void 0:$e.players)?$e.players.flatMap(je=>{const ut=je==null?void 0:je.combatReplayData;return Array.isArray(ut)?ut.map(Lt=>Number(Lt==null?void 0:Lt.start)):[Number(ut==null?void 0:ut.start)]}).filter(je=>Number.isFinite(je)&&je>=0).reduce((je,ut)=>Math.min(je,ut),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Dn=[0,Number(($e==null?void 0:$e.logStartOffset)||0),...Bn,Number.isFinite(Vt)?Vt:0].filter(je=>Number.isFinite(je)&&je>=0),me=je=>{const ut=Math.max(0,Math.floor(Number(je||0)/1e3)),Lt=Math.floor(ut/5)*5;return`${Lt}s-${Lt+5}s`},Be=(je,ut)=>{if(je.length===0||ut.length===0)return[];const Lt=ut.length*5e3,jn=tr=>tr.reduce((Ma,On)=>On>=0&&On<=Lt+2e3?Ma+1:Ma,0),Xt=[],Wt=je.map(tr=>Number(tr||0)).filter(tr=>Number.isFinite(tr)&&tr>=0);if(Wt.length===0)return[];Xt.push(Wt);const An=Wt.reduce((tr,Ma)=>Math.max(tr,Ma),0),ei=Wt.reduce((tr,Ma)=>Math.min(tr,Ma),Number.POSITIVE_INFINITY);An>Lt*20&&Xt.push(Wt.map(tr=>tr/1e3)),An<=Lt*2&&ei>=0&&An>0&&An<Math.max(120,ut.length*5+10)&&Xt.push(Wt.map(tr=>tr*1e3));let Er=Wt,Kl=0,kh=-1;return Xt.forEach(tr=>{const Ma=new Set(Dn),On=tr.reduce((rs,Gl)=>Math.min(rs,Gl),Number.POSITIVE_INFINITY);if(Number.isFinite(On)&&Lt>0&&On>Lt){const rs=Math.floor(On/Lt)*Lt;Ma.add(rs),Ma.add(Math.max(0,rs-Lt))}Ma.forEach(rs=>{const Gl=tr.map(fB=>fB-rs),cC=jn(Gl);cC>kh&&(kh=cC,Kl=rs,Er=tr)})}),Er.map(tr=>tr-Kl).filter(tr=>Number.isFinite(tr)&&tr>=0)},se=(je,ut)=>{if(je.length===0||ut.length===0)return[];const Lt=Be(ut,je),jn=new Map;je.forEach(Wt=>{const An=/^(\d+)s-/.exec(String(Wt));if(!An)return;const ei=Number(An[1]);Number.isFinite(ei)&&jn.set(ei,Wt)});const Xt=[];return Lt.forEach(Wt=>{const An=Math.max(0,Math.floor(Number(Wt||0)/1e3)),ei=Math.floor(An/5)*5,Er=jn.get(ei)||me(Wt);je.includes(Er)&&Xt.push(Er)}),Array.from(new Set(Xt))},kt=(je,ut)=>{if(je<=0||ut.length===0)return[];const Lt=Array.from({length:je},(Wt,An)=>`${An*5}s-${(An+1)*5}s`),Xt=Be(ut,Lt).map(Wt=>Math.floor(Math.max(0,Number(Wt||0))/5e3)).filter(Wt=>Number.isFinite(Wt)&&Wt>=0&&Wt<je);return Array.from(new Set(Xt))},yt=Yo((iu=re==null?void 0:re.values)==null?void 0:iu[Qe]),nn=un==="downContribution"?Array.isArray(yt==null?void 0:yt.buckets5sDown)?(yt==null?void 0:yt.buckets5sDown)||[]:[]:Array.isArray(yt==null?void 0:yt.buckets5s)?(yt==null?void 0:yt.buckets5s)||[]:[],ln=Array.isArray(yt==null?void 0:yt.downIndices5s)?yt.downIndices5s.map(je=>Number(je)).filter(je=>Number.isFinite(je)&&je>=0):[],Yn=Array.isArray(yt==null?void 0:yt.deathIndices5s)?yt.deathIndices5s.map(je=>Number(je)).filter(je=>Number.isFinite(je)&&je>=0):[];if(nn.length>0){const je=Math.max(0,Math.ceil(Number(($e==null?void 0:$e.durationMS)||0)/5e3)),ut=Math.max(nn.length,je),Lt=Array.from({length:ut},(Xt,Wt)=>({label:`${Wt*5}s-${(Wt+1)*5}s`,value:Number(nn[Wt]||0)})),jn=Lt.map(Xt=>Xt.label);return{title:`Fight Breakdown - ${I.shortLabel||"Fight"} (5s ${un==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Lt,downLabels:se(jn,qt),deathLabels:se(jn,tn),downIndices:ln.length>0?ln.filter(Xt=>Xt<Lt.length):kt(Lt.length,qt),deathIndices:Yn.length>0?Yn.filter(Xt=>Xt<Lt.length):kt(Lt.length,tn)}}const _t=I.shortLabel||"Fight";if(!$e||!Array.isArray($e.players))return{title:`Fight Breakdown - ${_t}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Yt=$e.players.find(je=>String((je==null?void 0:je.account)||(je==null?void 0:je.name)||"Unknown")===le&&String((je==null?void 0:je.profession)||"Unknown")===Re);if(!Yt)return{title:`Fight Breakdown - ${_t}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const At=Yt,gn=()=>{let je=0,ut=0;const Lt=new Map,jn=Xt=>{if(!Xt||typeof Xt!="object"||Xt.indirectDamage)return;const Wt=Number(Xt.totalDamage||0),An=Number(Xt.downContribution||0);!Number.isFinite(Wt)&&!Number.isFinite(An)||(je+=Number.isFinite(Wt)?Wt:0,ut+=Number.isFinite(An)?An:0)};return Array.isArray(At==null?void 0:At.targetDamageDist)&&At.targetDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(Wt=>{Array.isArray(Wt)&&Wt.forEach(An=>{const ei=Number(An==null?void 0:An.id);if(Number.isFinite(ei)){const Er=Lt.get(ei)||{damage:0,downContribution:0};Er.damage+=Number((An==null?void 0:An.totalDamage)||0),Er.downContribution+=Number((An==null?void 0:An.downContribution)||0),Lt.set(ei,Er)}jn(An)})})}),!($e!=null&&$e.detailedWvW)&&Array.isArray(At==null?void 0:At.totalDamageDist)&&At.totalDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(Wt=>{const An=Number(Wt==null?void 0:Wt.id);if(!Number.isFinite(An)){jn(Wt);return}const ei=Lt.get(An);if(!ei){jn(Wt);return}const Er=Number((Wt==null?void 0:Wt.totalDamage)||0)-Number(ei.damage||0),Kl=Number((Wt==null?void 0:Wt.downContribution)||0)-Number(ei.downContribution||0);Er<=0&&Kl<=0||jn({...Wt,totalDamage:Math.max(0,Er),downContribution:Math.max(0,Kl)})})}),je<=0?0:Math.min(1,Math.max(0,ut/je))},Xn=je=>{if(!Array.isArray(je)||je.length===0)return[];const ut=[];for(let Lt=0;Lt<je.length;Lt+=1){const jn=Number(je[Lt]||0),Xt=Lt>0?Number(je[Lt-1]||0):0;ut.push(Math.max(0,jn-Xt))}return ut},Ea=je=>{if(!Array.isArray(je))return[];const ut=je.reduce((jn,Xt)=>Math.max(jn,Array.isArray(Xt)?Xt.length:0),0);if(ut<=0)return[];const Lt=new Array(ut).fill(0);return je.forEach(jn=>{if(Array.isArray(jn))for(let Xt=0;Xt<ut;Xt+=1)Lt[Xt]+=Number(jn[Xt]||0)}),Lt},Ed=je=>Array.isArray(je)?je.map(ut=>Number(ut||0)):null,rn=(je=>{if(!Array.isArray(je)||je.length===0)return null;const ut=je[0];if(!Array.isArray(ut))return null;if(Array.isArray(ut[0])&&Array.isArray(ut[0][0]))return Ea(ut);if(Array.isArray(ut[0])&&!Array.isArray(ut[0][0])){const Lt=je.map(jn=>Ed(Array.isArray(jn)?jn[0]:null)).filter(jn=>Array.isArray(jn)&&jn.length>0);if(Lt.length>0)return Ea(Lt)}return null})(At==null?void 0:At.targetDamage1S),xn=Array.isArray(At==null?void 0:At.damage1S)&&Array.isArray(At.damage1S[0])?At.damage1S[0]:null,Md=rn||(Array.isArray(xn)?xn.map(je=>Number(je||0)):[]),Xo=Xn(Md),ru=gn(),Qo=un==="downContribution"?Xo.map(je=>Number(je||0)*ru):Xo,ro=5,Od=Math.max(0,Math.ceil(Number(($e==null?void 0:$e.durationMS)||0)/(ro*1e3))),Zo=Math.max(0,Math.ceil(Qo.length/ro)),bh=Math.max(Od,Zo),ql=[];for(let je=0;je<bh;je+=1){const ut=je*ro,Lt=Math.min(ut+ro,Qo.length),jn=Qo.slice(ut,Lt).reduce((Xt,Wt)=>Xt+Number(Wt||0),0);ql.push({label:`${ut}s-${ut+ro}s`,value:jn})}const wh=ql.map(je=>je.label);return{title:`Fight Breakdown - ${_t} (5s ${un==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:ql,downLabels:se(wh,qt),deathLabels:se(wh,tn),downIndices:kt(ql.length,qt),deathIndices:kt(ql.length,tn)}},[it,Es,Qe,e,ma.fights,Dd,un]),Jx=v.useMemo(()=>{const I=new Map;return ha.players.forEach(re=>I.set(re.key,re)),I},[ha.players]),CR=v.useMemo(()=>{const I=Te=>Cn==="hit"?Te.peakHit:Cn==="1s"?Te.peak1s:Cn==="5s"?Te.peak5s:Te.peak30s,re=As.trim().toLowerCase(),le=re?ha.players.filter(Te=>Te.displayName.toLowerCase().includes(re)||Te.account.toLowerCase().includes(re)||Te.profession.toLowerCase().includes(re)):ha.players,Re=new Map;return le.forEach(Te=>{const $e=Te.profession||"Unknown",ee=Re.get($e)||[];ee.push(Te),Re.set($e,ee)}),Array.from(Re.entries()).map(([Te,$e])=>({profession:Te,players:[...$e].sort((ee,Ze)=>I(Ze)-I(ee)||ee.displayName.localeCompare(Ze.displayName))})).sort((Te,$e)=>Te.profession.localeCompare($e.profession))},[ha.players,As,Cn]),jR=Ut&&Jx.get(Ut)||null,Ms=v.useMemo(()=>{if(!Ut)return[];const I=le=>le?Number(Cn==="hit"?le.hit||0:Cn==="1s"?le.burst1s||0:Cn==="5s"?le.burst5s||0:le.burst30s||0):0,re=le=>Number(Cn==="hit"?le.maxHit||0:Cn==="1s"?le.max1s||0:Cn==="5s"?le.max5s||0:le.max30s||0);return ha.fights.map((le,Re)=>({index:Re,fightId:le.id,shortLabel:le.shortLabel,fullLabel:le.fullLabel,timestamp:Number(le.timestamp||0),damage:I(Yo(le.values[Ut])),maxDamage:re(le),skillName:String(Yo(le.values[Ut]).skillName||"")}))},[ha.fights,Ut,Cn]),AR=v.useMemo(()=>{const I=Ms.reduce((le,Re)=>Math.max(le,Number(Re.damage||0)),0),re=Ms.reduce((le,Re)=>Math.max(le,Number(Re.maxDamage||0)),0);return Math.max(1,I,re)},[Ms]),ph=v.useMemo(()=>{var Ze;const I=hn===null?null:Ms.find(dt=>dt.index===hn)||null;if(!I||!Ut)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const re=mh(ha.fights,I),le=Yo((Ze=re==null?void 0:re.values)==null?void 0:Ze[Ut]),Re=Array.isArray(le==null?void 0:le.buckets5s)?(le==null?void 0:le.buckets5s)||[]:[],Te=Array.isArray(le==null?void 0:le.downIndices5s)?le.downIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[],$e=Array.isArray(le==null?void 0:le.deathIndices5s)?le.deathIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[];if(Re.length>0){const dt=Re.map((Je,Nt)=>({label:`${Nt*5}s-${(Nt+1)*5}s`,value:Number(Je||0)}));return{title:`Fight Breakdown - ${I.shortLabel||"Fight"} (5s Damage Buckets)`,data:dt,downLabels:[],deathLabels:[],downIndices:Te.filter(Je=>Je<dt.length),deathIndices:$e.filter(Je=>Je<dt.length)}}const ee=Number(Cn==="hit"?le.hit||0:Cn==="1s"?le.burst1s||0:Cn==="5s"?le.burst5s||0:le.burst30s||0);return ee>0?{title:`Fight Breakdown - ${I.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:ee}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${I.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[hn,Ms,Ut,ha.fights,Cn]),PR=v.useMemo(()=>{var dt;if(hn===null||!Ut)return[];const I=Ms.find(Je=>Je.index===hn);if(!I)return[];const re=mh(ha.fights,I),le=Yo((dt=re==null?void 0:re.values)==null?void 0:dt[Ut]),Te=[...(le==null?void 0:le.skillRows)||[]].filter(Je=>Number((Je==null?void 0:Je.damage)||0)>0||Number((Je==null?void 0:Je.downContribution)||0)>0).sort((Je,Nt)=>Number(Nt.damage||0)-Number(Je.damage||0)).slice(0,30);if(Te.length>0)return Te;const $e=e.find(Je=>String((Je==null?void 0:Je.filePath)||(Je==null?void 0:Je.id)||"")===String(I.fightId||"")),ee=$e==null?void 0:$e.details;if(ee&&Ut){const Je=new Set(Object.keys(Pc)),Nt=Object.keys(Pc).filter(Vt=>Vt&&Vt!=="Unknown").sort((Vt,Dn)=>Dn.length-Vt.length),Mt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],an=Vt=>{if(!Vt)return"Unknown";const Dn=String(Vt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(Je.has(Dn))return Dn;const me=Dn.toLowerCase();for(const se of Nt)if(me.includes(se.toLowerCase()))return se;return Mt.find(se=>me.includes(se.toLowerCase()))||Dn||"Unknown"},Vn=Vt=>{const Dn=Number(Vt);if(!Number.isFinite(Dn))return{name:String(Vt||"Unknown Skill"),icon:void 0};const me=(ee==null?void 0:ee.skillMap)||{},Be=(ee==null?void 0:ee.buffMap)||{},se=(me==null?void 0:me[`s${Dn}`])||(me==null?void 0:me[`${Dn}`]);if(se!=null&&se.name)return{name:String(se.name),icon:se==null?void 0:se.icon};const kt=(Be==null?void 0:Be[`b${Dn}`])||(Be==null?void 0:Be[`${Dn}`]);return kt!=null&&kt.name?{name:String(kt.name),icon:kt==null?void 0:kt.icon}:{name:`Skill ${Dn}`,icon:void 0}},qt=new Map;(Array.isArray(ee==null?void 0:ee.targets)?ee.targets:[]).forEach(Vt=>{!Vt||Vt.isFake||Vt.enemyPlayer===!1||an((Vt==null?void 0:Vt.profession)||(Vt==null?void 0:Vt.name)||(Vt==null?void 0:Vt.id))!==Ut||Array.isArray(Vt==null?void 0:Vt.totalDamageDist)&&Vt.totalDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Be=>{if(!Be||typeof Be!="object"||Be.indirectDamage)return;const se=Number(Be.totalDamage||0);if(!Number.isFinite(se)||se<=0)return;const kt=Number(Be.connectedHits||Be.hits||0),yt=Vn(Be.id),nn=yt.name,ln=qt.get(nn)||{skillName:nn,damage:0,hits:0,icon:yt.icon};ln.damage+=se,ln.hits+=Number.isFinite(kt)?kt:0,!ln.icon&&yt.icon&&(ln.icon=yt.icon),qt.set(nn,ln)})})});const Bn=Array.from(qt.values()).filter(Vt=>Number((Vt==null?void 0:Vt.damage)||0)>0).sort((Vt,Dn)=>Number(Dn.damage||0)-Number(Vt.damage||0)).slice(0,30);if(Bn.length>0)return Bn}const Ze=Number((le==null?void 0:le.hit)||0);return Ze<=0?Te:[{skillName:String((le==null?void 0:le.skillName)||"Unknown Skill"),damage:Ze,hits:1,icon:void 0}]},[hn,Ut,Ms,ha.fights,e]),DR=v.useMemo(()=>{var Ze;if(it===null||!Qe)return[];const I=Es.find(dt=>dt.index===it);if(!I)return[];const re=mh(ma.fights,I),le=Yo((Ze=re==null?void 0:re.values)==null?void 0:Ze[Qe]),Te=[...(le==null?void 0:le.skillRows)||[]].filter(dt=>Number((dt==null?void 0:dt.damage)||0)>0||Number((dt==null?void 0:dt.downContribution)||0)>0).sort((dt,Je)=>Number(Je.damage||0)-Number(dt.damage||0)).slice(0,30);if(Te.length>0)return Te;const $e=e.find(dt=>String((dt==null?void 0:dt.filePath)||(dt==null?void 0:dt.id)||"")===String(I.fightId||"")),ee=$e==null?void 0:$e.details;if(ee&&Qe){const[dt,Je]=Qe.split("|"),Nt=qt=>{const tn=Number(qt);if(!Number.isFinite(tn))return{name:String(qt||"Unknown Skill"),icon:void 0};const Bn=(ee==null?void 0:ee.skillMap)||{},Vt=(ee==null?void 0:ee.buffMap)||{},Dn=(Bn==null?void 0:Bn[`s${tn}`])||(Bn==null?void 0:Bn[`${tn}`]);if(Dn!=null&&Dn.name)return{name:String(Dn.name),icon:Dn==null?void 0:Dn.icon};const me=(Vt==null?void 0:Vt[`b${tn}`])||(Vt==null?void 0:Vt[`${tn}`]);return me!=null&&me.name?{name:String(me.name),icon:me==null?void 0:me.icon}:{name:`Skill ${tn}`,icon:void 0}},Mt=new Map,Vn=(Array.isArray(ee==null?void 0:ee.players)?ee.players:[]).find(qt=>{if(qt!=null&&qt.notInSquad)return!1;const tn=String((qt==null?void 0:qt.account)||(qt==null?void 0:qt.name)||""),Bn=String((qt==null?void 0:qt.profession)||"Unknown"),Vt=tn===String(dt||""),Dn=Bn===String(Je||"");return Vt&&Dn})||null;if(Vn){const qt=Vn,tn=me=>{if(!me||typeof me!="object"||me.indirectDamage)return;const Be=Number(me.totalDamage||0),se=Number(me.downContribution||0);if((!Number.isFinite(Be)||Be<=0)&&(!Number.isFinite(se)||se<=0))return;const kt=Number(me.connectedHits||me.hits||0),yt=Nt(me.id),nn=Mt.get(yt.name)||{skillName:yt.name,damage:0,downContribution:0,hits:0,icon:yt.icon};nn.damage+=Number.isFinite(Be)?Be:0,nn.downContribution+=Number.isFinite(se)?se:0,nn.hits+=Number.isFinite(kt)?kt:0,!nn.icon&&yt.icon&&(nn.icon=yt.icon),Mt.set(yt.name,nn)},Bn=new Map;Array.isArray(qt==null?void 0:qt.targetDamageDist)&&qt.targetDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Be=>{Array.isArray(Be)&&Be.forEach(se=>{const kt=Number(se==null?void 0:se.id),yt=Number((se==null?void 0:se.totalDamage)||0),nn=Number((se==null?void 0:se.downContribution)||0);if(Number.isFinite(kt)){const ln=Bn.get(kt)||{damage:0,downContribution:0,hits:0};ln.damage+=Number.isFinite(yt)?yt:0,ln.downContribution+=Number.isFinite(nn)?nn:0,ln.hits+=Number((se==null?void 0:se.connectedHits)||(se==null?void 0:se.hits)||0),Bn.set(kt,ln)}tn(se)})})}),!(ee!=null&&ee.detailedWvW)&&Array.isArray(qt==null?void 0:qt.totalDamageDist)&&qt.totalDamageDist.forEach(me=>{Array.isArray(me)&&me.forEach(Be=>{const se=Number(Be==null?void 0:Be.id);if(!Number.isFinite(se)){tn(Be);return}const kt=Bn.get(se);if(!kt){tn(Be);return}const yt=Number((Be==null?void 0:Be.totalDamage)||0),nn=Number((Be==null?void 0:Be.downContribution)||0),ln=Number((Be==null?void 0:Be.connectedHits)||(Be==null?void 0:Be.hits)||0),Yn=yt-Number(kt.damage||0),_t=nn-Number(kt.downContribution||0),Yt=ln-Number(kt.hits||0);Yn<=0&&_t<=0&&Yt<=0||tn({...Be,totalDamage:Math.max(0,Yn),downContribution:Math.max(0,_t),connectedHits:Math.max(0,Yt),hits:Math.max(0,Yt)})})});const Dn=Array.from(Mt.values()).filter(me=>Number((me==null?void 0:me.damage)||0)>0||Number((me==null?void 0:me.downContribution)||0)>0).sort((me,Be)=>Number(Be.damage||0)-Number(me.damage||0)).slice(0,30);if(Dn.length>0)return Dn}}return Te},[it,Qe,Es,ma.fights,e]);v.useEffect(()=>{if(Oi.length===0){Tr!==null&&Js(null),Xi!==null&&Mi(null);return}if(!Tr||!Qx.has(Tr)){const I=Oi[0].key;Js(I),Pd(null)}},[Oi,Qx,Tr,Xi]),v.useEffect(()=>{if(!eo||eo.skills.length===0){Xi!==null&&Mi(null);return}const I=eo.skills.some(re=>re.id===Xi);(!Xi||!I)&&Mi(eo.skills[0].id)},[eo,Xi]),v.useEffect(()=>{if(eu.length===0){Ds!==null&&Jc(null),kr!==null&&Ts(null);return}if(!Ds||!Zx.has(Ds)){const I=eu[0].profession;Jc(I),Wl(null)}},[eu,Zx,Ds,kr]),v.useEffect(()=>{if(!Go||Go.skills.length===0){kr!==null&&Ts(null);return}const I=Go.skills.some(re=>re.id===kr);(!kr||!I)&&Ts(Go.skills[0].id)},[Go,kr]),v.useEffect(()=>{if(ma.players.length===0){Qe!==null&&He(null);return}(!Qe||!Dd.has(Qe))&&Qe!==null&&He(null)},[ma.players,Dd,Qe]),v.useEffect(()=>{lt(null)},[Qe,vt,un]),v.useEffect(()=>{if(it===null)return;Es.some(re=>re.index===it)||lt(null)},[Es,it]),v.useEffect(()=>{if(ha.players.length===0){Ut!==null&&Pr(null);return}(!Ut||!Jx.has(Ut))&&Ut!==null&&Pr(null)},[ha.players,Jx,Ut]),v.useEffect(()=>{Dr(null)},[Ut,Cn]),v.useEffect(()=>{if(hn===null)return;Ms.some(re=>re.index===hn)||Dr(null)},[Ms,hn]);const TR=v.useMemo(()=>new Set(tt),[tt]),gh=q?ke:kD,{playerMapByKey:to,playerTotalsForSkill:tu,skillChartData:ER,skillChartMaxY:MR,groupedSkillUsagePlayers:OR}=U8({skillUsageData:gh,selectedSkillId:be,selectedPlayers:TR,skillUsageView:Ps==="perSecond"?"perSecond":"total"}),YN=v.useMemo(()=>{const I=new Map,re=$e=>{$e.forEach(ee=>{const Ze=fu(ee==null?void 0:ee.name)||(ee==null?void 0:ee.name);Ze&&ee!=null&&ee.icon&&!I.has(Ze)&&I.set(Ze,ee.icon)})},le=$e=>{$e.forEach(ee=>{Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([Ze,dt])=>{const Je=fu(Ze)||Ze;dt!=null&&dt.icon&&!I.has(Je)&&I.set(Je,dt.icon)})})},Re=$e=>{const ee=new Map;return $e.forEach(Ze=>{const dt=fu(Ze==null?void 0:Ze.name)||(Ze==null?void 0:Ze.name);if(!dt)return;const Je=ee.get(dt)||{name:dt,icon:(Ze==null?void 0:Ze.icon)||I.get(dt)||zh(dt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Je.applications+=Number((Ze==null?void 0:Ze.applications)||0),Je.damage+=Number((Ze==null?void 0:Ze.damage)||0),Ze!=null&&Ze.applicationsFromUptime&&(Je.applicationsFromUptime+=Number(Ze.applicationsFromUptime||0)),Ze!=null&&Ze.applicationsFromBuffs&&(Je.applicationsFromBuffs+=Number(Ze.applicationsFromBuffs||0)),Ze!=null&&Ze.applicationsFromBuffsActive&&(Je.applicationsFromBuffsActive+=Number(Ze.applicationsFromBuffsActive||0)),!Je.icon&&(Ze!=null&&Ze.icon)&&(Je.icon=Ze.icon),Je.icon||(Je.icon=zh(dt)),ee.set(dt,Je)}),Array.from(ee.values())},Te=$e=>$e.map(ee=>{const Ze={};return Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([dt,Je])=>{const Nt=fu(dt)||dt;if(!Nt)return;const Mt=Ze[Nt]||{icon:(Je==null?void 0:Je.icon)||I.get(Nt)||zh(Nt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Mt.applications+=Number((Je==null?void 0:Je.applications)||0),Mt.damage+=Number((Je==null?void 0:Je.damage)||0),Je!=null&&Je.applicationsFromUptime&&(Mt.applicationsFromUptime+=Number(Je.applicationsFromUptime||0)),Je!=null&&Je.applicationsFromBuffs&&(Mt.applicationsFromBuffs+=Number(Je.applicationsFromBuffs||0)),Je!=null&&Je.applicationsFromBuffsActive&&(Mt.applicationsFromBuffsActive+=Number(Je.applicationsFromBuffsActive||0)),!Mt.icon&&(Je!=null&&Je.icon)&&(Mt.icon=Je.icon),Mt.icon||(Mt.icon=zh(Nt)),Object.values((Je==null?void 0:Je.skills)||{}).forEach(an=>{const Vn=(an==null?void 0:an.name)||"Unknown",qt=Mt.skills[Vn]||{name:Vn,hits:0,damage:0,icon:an==null?void 0:an.icon};qt.hits+=Number((an==null?void 0:an.hits)||0),qt.damage+=Number((an==null?void 0:an.damage)||0),!qt.icon&&(an!=null&&an.icon)&&(qt.icon=an.icon),Mt.skills[Vn]=qt}),Ze[Nt]=Mt}),{...ee,conditions:Ze}});return($e,ee)=>(re($e),le(ee),{summary:Re($e),players:Te(ee)})},[]),XN=he?K==="outgoing"?L.outgoingConditionSummary:L.incomingConditionSummary:ny,QN=he?K==="outgoing"?L.outgoingConditionPlayers:L.incomingConditionPlayers:ny,{summary:xh,players:IR}=v.useMemo(()=>YN(XN||[],QN||[]),[YN,XN,QN]);v.useEffect(()=>{if(!he||T==="all"||xh.some(re=>re.name===T))return;const I=fu(T);I&&xh.some(re=>re.name===I)?P(I):P("all")},[T,xh,P,he]);const _R=v.useMemo(()=>{const I={};return tu.forEach((re,le)=>{const Re=to.get(le);if(!Re)return;const Te=Re.profession;(!I[Te]||re>I[Te])&&(I[Te]=re)}),I},[tu,to]),Et=X,Kn=v.useCallback((I,re)=>{const le=Et(I);return d?`${re} ${le?"":"hidden"}`:`${re} transition-[opacity,transform] duration-700 ease-in-out ${le?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Et,d]),ZN=v.useMemo(()=>Lae.find(I=>Et(I))||null,[Et]),Gn=v.useCallback(I=>I===ZN,[ZN]),LR=v.useMemo(()=>{const I=new Map,re=new Map;return tt.forEach(le=>{const Re=to.get(le);if(!Re)return;const Te=tu.get(le)??0,$e=re.get(Re.profession)||[];$e.push({key:le,total:Te}),re.set(Re.profession,$e)}),re.forEach(le=>{le.sort((Re,Te)=>Te.total-Re.total),le.forEach((Re,Te)=>{I.set(Re.key,Te)})}),I},[tt,to,tu]),JN=["0","12 3","8 3","6 3","4 3","2 3"],$R=I=>{const re=to.get(I),le=vc((re==null?void 0:re.profession)||""),Re=tu.get(I)??0,Te=re!=null&&re.profession&&_R[re.profession]||1,ee=.35+(Te>0?Re/Te:1)*.65;return vh(le,ee)},FR=I=>{const re=LR.get(I)??0;return JN[re%JN.length]},RR=(I,re,le)=>{if(!le)return $R(I);const Re=to.get(I),Te=vc((Re==null?void 0:Re.profession)||"");return re?vh(Te,1.2):vh(Te,.5)},vh=(I,re)=>{const le=I.replace("#","");if(le.length!==6)return I;const Re=Je=>Math.max(0,Math.min(255,Je)),Te=Je=>Number.parseInt(le.slice(Je,Je+2),16),$e=Je=>Re(Math.round(Je)).toString(16).padStart(2,"0"),ee=Te(0),Ze=Te(2),dt=Te(4);return`#${$e(ee*re)}${$e(Ze*re)}${$e(dt*re)}`},eC=v.useMemo(()=>{const I=new Map;return gh.skillOptions.forEach(re=>{I.set(re.id,{name:re.name,icon:re.icon})}),I},[gh.skillOptions]),Td=v.useMemo(()=>{var Je;if(tt.length===0)return[];const I=new Map,re=new Map;let le=0;tt.forEach(Nt=>{const Mt=to.get(Nt);if(!Mt)return;le+=Mt.totalActiveSeconds||0,Object.entries(Mt.skillTotals||{}).forEach(([Vn,qt])=>{I.set(Vn,(I.get(Vn)||0)+Number(qt||0))});const an=Mt.profession||"Unknown";re.set(an,(re.get(an)||0)+(Mt.totalActiveSeconds||0))});const Re=de.trim().toLowerCase(),Te=Ps==="perSecond",$e=((Je=Array.from(re.entries()).sort((Nt,Mt)=>Mt[1]-Nt[1])[0])==null?void 0:Je[0])||"Unknown",ee=vc($e),Ze="#64748b";return Array.from(I.entries()).map(([Nt,Mt])=>{const an=eC.get(Nt),Vn=(an==null?void 0:an.name)||Nt,qt=Te&&le>0?Mt/le:Mt;return{skillId:Nt,name:Vn,icon:an==null?void 0:an.icon,total:qt}}).filter(Nt=>Nt.total>0&&(!Re||Nt.name.toLowerCase().includes(Re))).sort((Nt,Mt)=>Mt.total-Nt.total).map((Nt,Mt)=>({...Nt,color:Mt===0?ee:vh(ee,.85-Math.min(Mt*.06,.4))||Ze}))},[tt,to,de,Ps,eC]);v.useEffect(()=>{if(q){if(Td.length===0){be!==null&&ze(null);return}(!be||!Td.some(I=>I.skillId===be))&&ze(Td[0].skillId)}},[Td,be,ze,q]);const nu=gh.skillOptions.find(I=>I.id===be),BR=(nu==null?void 0:nu.name)||"",zR=(nu==null?void 0:nu.icon)||null,UR=Ne&&!!be&&tt.length>0,yh="__all__",VR=Ne&&Qi.length>0,no=v.useMemo(()=>Qi.find(I=>I.profession===De)??null,[Qi,De]),WR=kn===yh,HR=v.useMemo(()=>{var I;return((I=no==null?void 0:no.skills)==null?void 0:I.find(re=>re.id===kn))??null},[no,kn]);v.useEffect(()=>{if(Qi.length===0){De!==null&&st(null),Zt!==null&&pn(null);return}if(!De||!Qi.some(I=>I.profession===De)){const I=Qi[0].profession;st(I),pn(null)}},[Qi,De,Zt]),v.useEffect(()=>{if(!no||no.skills.length===0){kn!==null&&Ln(null);return}const I=no.skills.some(re=>re.id===kn);(!kn||!I&&kn!==yh)&&Ln(yh)},[no,kn]);const qR=I=>{ht(re=>re.includes(I)?re.filter(le=>le!==I):[...re,I])},KR=I=>{ht(re=>re.filter(le=>le!==I))},GR=v.useMemo(()=>{const I=Qs.trim().toLowerCase(),re=L.boonTables||[];return I?re.filter(le=>le.name.toLowerCase().includes(I)):re},[L.boonTables,Qs]),YR=v.useMemo(()=>Sn?(L.boonTables||[]).find(I=>I.id===Sn)??null:null,[L.boonTables,Sn]),XR=v.useMemo(()=>{const I=Vr.trim().toLowerCase(),re=[...L.specialTables||[]].sort((le,Re)=>le.name.localeCompare(Re.name));return I?re.filter(le=>le.name.toLowerCase().includes(I)):re},[L.specialTables,Vr]),ns=v.useMemo(()=>[...L.specialTables||[]].filter(re=>/\b(sigil|relic)\b/i.test(String((re==null?void 0:re.name)||""))).sort((re,le)=>re.name.localeCompare(le.name)),[L.specialTables]),QR=v.useMemo(()=>{const I=Cs.trim().toLowerCase();return I?ns.filter(re=>re.name.toLowerCase().includes(I)):ns},[ns,Cs]),ZR=v.useMemo(()=>br?(L.specialTables||[]).find(I=>I.id===br)??null:null,[L.specialTables,br]),JR=v.useMemo(()=>Hi?ns.find(I=>I.id===Hi)??null:null,[ns,Hi]);v.useEffect(()=>{!L.boonTables||L.boonTables.length===0||(!Sn||!L.boonTables.some(I=>I.id===Sn))&&Nn(L.boonTables[0].id)},[L.boonTables,Sn]),v.useEffect(()=>{!L.specialTables||L.specialTables.length===0||(!br||!L.specialTables.some(I=>I.id===br))&&Za(L.specialTables[0].id)},[L.specialTables,br]),v.useEffect(()=>{if(!ns||ns.length===0){Hi!==null&&da(null);return}(!Hi||!ns.some(I=>I.id===Hi))&&da(ns[0].id)},[ns,Hi]),v.useEffect(()=>{const I=()=>{const le=window.getSelection();le&&le.rangeCount>0&&le.removeAllRanges()},re=le=>{var Te;const Re=le.target;(Te=Re==null?void 0:Re.closest)!=null&&Te.call(Re,".recharts-wrapper")&&(le.preventDefault(),I())};return document.addEventListener("selectstart",re),document.addEventListener("mousedown",re),document.addEventListener("mousemove",re),document.addEventListener("dragstart",re),()=>{document.removeEventListener("selectstart",re),document.removeEventListener("mousedown",re),document.removeEventListener("mousemove",re),document.removeEventListener("dragstart",re)}},[]);const xi=I=>{Ki.current&&(window.clearTimeout(Ki.current),Ki.current=null),Wo(!1),Ul(I)},Jr=()=>{vn&&(Ki.current&&window.clearTimeout(Ki.current),Wo(!0),Ki.current=window.setTimeout(()=>{Ul(null),Wo(!1),Ki.current=null},160))};v.useEffect(()=>{if(!vn)return;const I=Re=>{Re.key==="Escape"&&Jr()},re=document.body.style.overflow,le=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I),document.body.style.overflow=re,document.documentElement.style.overflow=le}},[vn]);const tC=(I,re)=>{const le=((re==null?void 0:re.value)||0)-((I==null?void 0:I.value)||0);return le!==0?le:String((I==null?void 0:I.name)||"").localeCompare(String((re==null?void 0:re.name)||""))},nC=Array.isArray(L==null?void 0:L.squadClassData)?L.squadClassData:[],rC=Array.isArray(L==null?void 0:L.enemyClassData)?L.enemyClassData:[],eB=Array.isArray(L==null?void 0:L.attendanceData)?L.attendanceData:[],ev=Array.isArray(L==null?void 0:L.squadCompByFight)?L.squadCompByFight:[],iC=Array.isArray(L==null?void 0:L.fightBreakdown)?L.fightBreakdown:[],tB=v.useMemo(()=>{const I=new Map;return iC.forEach(re=>{const le=String((re==null?void 0:re.id)||"");le&&I.set(le,re)}),ev.map(re=>{const le=I.get(String((re==null?void 0:re.id)||""))||null;return{...re,enemyClassCounts:(le==null?void 0:le.enemyClassCounts)||{}}})},[ev,iC]),nB=v.useMemo(()=>[...nC].sort(tC),[nC]),rB=v.useMemo(()=>[...rC].sort(tC),[rC]),iB=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",aB=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${vn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${vn?"":"backdrop-blur-2xl"}`,aC=c&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,sB=Y?{...aC||{},overflowY:"hidden"}:aC,oB=I=>Ps==="perSecond"?I.toFixed(1):Math.round(I).toLocaleString(),lB=I=>I.toFixed(1),cB=I=>Math.round(I).toLocaleString(),uB=I=>typeof I=="number"&&Number.isFinite(I)?I.toFixed(1):"0.0",dB=Math.max(Math.max(0,Number(L.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),vi=Zie;return u.jsxs("div",{className:iB,children:[vn&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${wr?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Jr}),u.jsx(Mae,{embedded:c,dashboardTitle:f,totalLogs:dB,onBack:t,devMockAvailable:Q,devMockUploadState:dn,onDevMockUpload:en,uploadingWeb:D,onWebUpload:jt,sharing:Gt,canShareDiscord:m,onShare:yr}),u.jsx(Oae,{embedded:c,webUploadMessage:_,webUploadUrl:O,webUploadBuildStatus:G,webCopyStatus:ve,setWebCopyStatus:Ke}),u.jsx(Iae,{embedded:c,devMockAvailable:Q,devMockUploadState:dn}),F&&u.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("div",{className:"stats-settling-banner__title font-semibold",children:B}),u.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:V})]}),Z.active&&u.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:u.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${Z.progressPercent}%`}})}),ie&&u.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:ie})]}),u.jsxs("div",{className:`${c?"":"flex-1 min-h-0 flex"} relative ${Y?"stats-dashboard-loading-shell":""}`,children:[u.jsxs("div",{id:"stats-dashboard-container",ref:Ot,className:`${aB} ${c?"":"flex-1"} ${Y?"stats-dashboard-scroll-lock":""}`,style:sB,children:[u.jsxs(u.Fragment,{children:[Et("overview")&&u.jsx(gae,{stats:L,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("fight-breakdown")&&u.jsx(xae,{stats:L,fightBreakdownTab:Zs,setFightBreakdownTab:Ho,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("top-players")&&u.jsx(bae,{stats:L,showTopStats:b,showMvp:N,topStatsMode:S,expandedLeader:Qa,setExpandedLeader:fn,formatTopStatValue:nl,formatWithCommas:wi,isMvpStatEnabled:sn,renderProfessionIcon:vi,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("top-skills-outgoing")&&u.jsx(wae,{stats:L,topSkillsMetric:$,onTopSkillsMetricChange:ct,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("squad-composition")&&u.jsx(kae,{sortedSquadClassData:nB,sortedEnemyClassData:rB,getProfessionIconPath:cc,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("attendance-ledger")&&u.jsx(Aae,{attendanceRows:eB,getProfessionIconPath:cc,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("squad-comp-fight")&&u.jsx(Dae,{fights:ev,getProfessionIconPath:cc,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("fight-comp")&&u.jsx(Eae,{fights:tB,getProfessionIconPath:cc,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("timeline")&&u.jsx(Sae,{timelineData:L.timelineData,timelineFriendlyScope:mt,setTimelineFriendlyScope:fe,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("map-distribution")&&u.jsx(Nae,{mapData:L.mapData,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("offense-detailed")&&u.jsx(iae,{stats:L,OFFENSE_METRICS:RO,roundCountStats:C,offenseSearch:fa,setOffenseSearch:es,activeOffenseStat:Tt,setActiveOffenseStat:zt,offenseViewMode:gt,setOffenseViewMode:Ft,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("player-breakdown")&&u.jsx(nae,{expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s,viewMode:uh,setViewMode:dh,playerSkillBreakdowns:Oi,classSkillBreakdowns:eu,activePlayerKey:Tr,setActivePlayerKey:Js,expandedPlayerKey:Yi,setExpandedPlayerKey:Pd,activePlayerSkillId:Xi,setActivePlayerSkillId:Mi,activeClassKey:Ds,setActiveClassKey:Jc,expandedClassKey:fh,setExpandedClassKey:Wl,activeClassSkillId:kr,setActiveClassSkillId:Ts,skillSearch:Ko,setSkillSearch:ch,activePlayerBreakdown:eo,activePlayerSkill:bR,activeClassBreakdown:Go,activeClassSkill:wR,renderProfessionIcon:vi}),Et("damage-breakdown")&&u.jsx(rae,{expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,playerSkillBreakdowns:Oi,renderProfessionIcon:vi}),Et("spike-damage")&&u.jsx(bD,{expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,spikePlayerFilter:js,setSpikePlayerFilter:Xc,groupedSpikePlayers:kR,spikeMode:vt,setSpikeMode:mn,damageBasis:un,setDamageBasis:Un,showDamageBasisToggle:!0,selectedSpikePlayerKey:Qe,setSelectedSpikePlayerKey:He,selectedSpikePlayer:SR,spikeChartData:Es,spikeChartMaxY:NR,selectedSpikeFightIndex:it,setSelectedSpikeFightIndex:lt,spikeDrilldownTitle:hh.title,spikeDrilldownData:hh.data,spikeDrilldownDownIndices:hh.downIndices,spikeDrilldownDeathIndices:hh.deathIndices,spikeFightSkillRows:DR,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:wi,renderProfessionIcon:vi}),Et("conditions-outgoing")&&u.jsx(aae,{conditionSummary:xh,conditionPlayers:IR,conditionSearch:jd,setConditionSearch:Ad,activeConditionName:T,setActiveConditionName:P,conditionDirection:K,setConditionDirection:we,conditionGridClass:Se,effectiveConditionSort:Ge,setConditionSort:ge,showConditionDamage:Ee,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("defense-detailed")&&u.jsx(oae,{stats:L,DEFENSE_METRICS:BO,defenseSearch:ts,setDefenseSearch:Cd,activeDefenseStat:on,setActiveDefenseStat:St,defenseViewMode:Pe,setDefenseViewMode:Me,roundCountStats:C,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("incoming-strike-damage")&&u.jsx(bD,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,spikePlayerFilter:As,setSpikePlayerFilter:Qc,groupedSpikePlayers:CR,spikeMode:Cn,setSpikeMode:or,selectedSpikePlayerKey:Ut,setSelectedSpikePlayerKey:Pr,selectedSpikePlayer:jR,spikeChartData:Ms,spikeChartMaxY:AR,selectedSpikeFightIndex:hn,setSelectedSpikeFightIndex:Dr,spikeDrilldownTitle:ph.title,spikeDrilldownData:ph.data,spikeDrilldownDownIndices:ph.downIndices,spikeDrilldownDeathIndices:ph.deathIndices,spikeFightSkillRows:PR,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:wi,renderProfessionIcon:vi}),Et("defense-mitigation")&&u.jsx(lae,{stats:L,DAMAGE_MITIGATION_METRICS:V6,damageMitigationSearch:Vo,setDamageMitigationSearch:Yc,activeDamageMitigationStat:xt,setActiveDamageMitigationStat:_n,damageMitigationViewMode:_e,setDamageMitigationViewMode:Ye,damageMitigationScope:qe,setDamageMitigationScope:ot,roundCountStats:C,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("boon-output")&&u.jsx(sae,{stats:L,activeBoonCategory:pi,setActiveBoonCategory:I=>_r(I),activeBoonMetric:Ar,setActiveBoonMetric:Kc,activeBoonTab:Sn,setActiveBoonTab:Nn,activeBoonTable:YR,filteredBoonTables:GR,boonSearch:Qs,setBoonSearch:Uo,formatBoonMetricDisplay:bU,getBoonMetricValue:ZO,renderProfessionIcon:vi,roundCountStats:C,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("support-detailed")&&u.jsx(cae,{stats:L,SUPPORT_METRICS:zO,supportSearch:Le,setSupportSearch:pt,activeSupportStat:rt,setActiveSupportStat:Dt,supportViewMode:We,setSupportViewMode:Xe,cleanseScope:ye,setCleanseScope:at,roundCountStats:C,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("healing-stats")&&u.jsx(uae,{stats:L,HEALING_METRICS:W6,activeHealingMetric:It,setActiveHealingMetric:Ht,healingCategory:Qt,setHealingCategory:wn,activeResUtilitySkill:Ve,setActiveResUtilitySkill:ft,skillUsageData:ke,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("fight-diff-mode")&&u.jsx(pae,{stats:L,formatWithCommas:wi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn}),Et("special-buffs")&&u.jsx(fae,{stats:L,specialSearch:Vr,setSpecialSearch:Ja,filteredSpecialTables:XR,activeSpecialTab:br,setActiveSpecialTab:Za,activeSpecialTable:ZR,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("sigil-relic-uptime")&&u.jsx(hae,{hasSigilRelicTables:ns.length>0,sigilRelicSearch:Cs,setSigilRelicSearch:Gc,filteredSigilRelicTables:QR,activeSigilRelicTab:Hi,setActiveSigilRelicTab:da,activeSigilRelicTable:JR,formatWithCommas:wi,renderProfessionIcon:vi,expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s}),Et("skill-usage")&&u.jsx(Jie,{expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,selectedPlayers:tt,setSelectedPlayers:ht,removeSelectedPlayer:KR,playerMapByKey:to,groupedSkillUsagePlayers:OR,expandedSkillUsageClass:Zc,setExpandedSkillUsageClass:Ue,togglePlayerSelection:qR,skillUsagePlayerFilter:Rt,setSkillUsagePlayerFilter:Ae,skillUsageView:Ps,setSkillUsageView:qo,skillUsageData:ke,skillUsageSkillFilter:de,setSkillUsageSkillFilter:Bt,selectedSkillId:be,setSelectedSkillId:ze,skillBarData:Td,selectedSkillName:BR,selectedSkillIcon:zR,skillUsageReady:UR,skillUsageAvailable:Ne,isSkillUsagePerSecond:Vl,skillChartData:ER,skillChartMaxY:MR,playerTotalsForSkill:tu,hoveredSkillPlayer:qi,setHoveredSkillPlayer:gi,getLineStrokeColor:RR,getLineDashForPlayer:FR,formatSkillUsageValue:oB,renderProfessionIcon:vi}),Et("apm-stats")&&u.jsx(tae,{expandedSection:vn,expandedSectionClosing:wr,openExpandedSection:xi,closeExpandedSection:Jr,isSectionVisible:Et,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:_s,apmSpecAvailable:VR,skillUsageAvailable:Ne,apmSpecTables:Qi,activeApmSpec:De,setActiveApmSpec:st,expandedApmSpec:Zt,setExpandedApmSpec:pn,activeApmSkillId:kn,setActiveApmSkillId:Ln,ALL_SKILLS_KEY:yh,apmSkillSearch:Gi,setApmSkillSearch:Zr,activeApmSpecTable:no,activeApmSkill:HR,isAllApmSkills:WR,apmView:Fe,setApmView:Ce,formatApmValue:uB,formatCastRateValue:lB,formatCastCountValue:cB,renderProfessionIcon:vi})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]}),Y&&u.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const Fae="Arcane",lN="CRT",a0="MatteSlate",s0="KineticPaper",kf="KineticPaperDark",Ep={id:Fae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Rae={id:a0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Bae={id:s0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},zae={id:kf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},Uae=[Ep,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Vae={id:lN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},cf=[...Uae,Vae,Rae,Bae,zae];function Wae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Hae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kae={};function SD(e,t){return(Kae.jsx?qae:Hae).test(e)}const Gae=/[ \t\n\f\r]/g;function Yae(e){return typeof e=="object"?e.type==="text"?ND(e.value):!1:ND(e)}function ND(e){return e.replace(Gae,"")===""}class nh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}nh.prototype.normal={};nh.prototype.property={};nh.prototype.space=void 0;function K4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new nh(n,r,t)}function jw(e){return e.toLowerCase()}class ua{constructor(t,n){this.attribute=n,this.property=t}}ua.prototype.attribute="";ua.prototype.booleanish=!1;ua.prototype.boolean=!1;ua.prototype.commaOrSpaceSeparated=!1;ua.prototype.commaSeparated=!1;ua.prototype.defined=!1;ua.prototype.mustUseProperty=!1;ua.prototype.number=!1;ua.prototype.overloadedBoolean=!1;ua.prototype.property="";ua.prototype.spaceSeparated=!1;ua.prototype.space=void 0;let Xae=0;const cn=Wc(),$r=Wc(),Aw=Wc(),nt=Wc(),Qn=Wc(),Uu=Wc(),ga=Wc();function Wc(){return 2**++Xae}const Pw=Object.freeze(Object.defineProperty({__proto__:null,boolean:cn,booleanish:$r,commaOrSpaceSeparated:ga,commaSeparated:Uu,number:nt,overloadedBoolean:Aw,spaceSeparated:Qn},Symbol.toStringTag,{value:"Module"})),ry=Object.keys(Pw);class cN extends ua{constructor(t,n,r,i){let a=-1;if(super(t,n),CD(this,"space",i),typeof r=="number")for(;++a<ry.length;){const s=ry[a];CD(this,ry[a],(r&Pw[s])===Pw[s])}}}cN.prototype.defined=!0;function CD(e,t,n){n&&(e[t]=n)}function Sd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new cN(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[jw(r)]=r,n[jw(a.attribute)]=r}return new nh(t,n,e.space)}const G4=Sd({properties:{ariaActiveDescendant:null,ariaAtomic:$r,ariaAutoComplete:null,ariaBusy:$r,ariaChecked:$r,ariaColCount:nt,ariaColIndex:nt,ariaColSpan:nt,ariaControls:Qn,ariaCurrent:null,ariaDescribedBy:Qn,ariaDetails:null,ariaDisabled:$r,ariaDropEffect:Qn,ariaErrorMessage:null,ariaExpanded:$r,ariaFlowTo:Qn,ariaGrabbed:$r,ariaHasPopup:null,ariaHidden:$r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qn,ariaLevel:nt,ariaLive:null,ariaModal:$r,ariaMultiLine:$r,ariaMultiSelectable:$r,ariaOrientation:null,ariaOwns:Qn,ariaPlaceholder:null,ariaPosInSet:nt,ariaPressed:$r,ariaReadOnly:$r,ariaRelevant:null,ariaRequired:$r,ariaRoleDescription:Qn,ariaRowCount:nt,ariaRowIndex:nt,ariaRowSpan:nt,ariaSelected:$r,ariaSetSize:nt,ariaSort:null,ariaValueMax:nt,ariaValueMin:nt,ariaValueNow:nt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Y4(e,t){return t in e?e[t]:t}function X4(e,t){return Y4(e,t.toLowerCase())}const Qae=Sd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Uu,acceptCharset:Qn,accessKey:Qn,action:null,allow:null,allowFullScreen:cn,allowPaymentRequest:cn,allowUserMedia:cn,alt:null,as:null,async:cn,autoCapitalize:null,autoComplete:Qn,autoFocus:cn,autoPlay:cn,blocking:Qn,capture:null,charSet:null,checked:cn,cite:null,className:Qn,cols:nt,colSpan:null,content:null,contentEditable:$r,controls:cn,controlsList:Qn,coords:nt|Uu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cn,defer:cn,dir:null,dirName:null,disabled:cn,download:Aw,draggable:$r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cn,formTarget:null,headers:Qn,height:nt,hidden:Aw,high:nt,href:null,hrefLang:null,htmlFor:Qn,httpEquiv:Qn,id:null,imageSizes:null,imageSrcSet:null,inert:cn,inputMode:null,integrity:null,is:null,isMap:cn,itemId:null,itemProp:Qn,itemRef:Qn,itemScope:cn,itemType:Qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cn,low:nt,manifest:null,max:null,maxLength:nt,media:null,method:null,min:null,minLength:nt,multiple:cn,muted:cn,name:null,nonce:null,noModule:cn,noValidate:cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cn,optimum:nt,pattern:null,ping:Qn,placeholder:null,playsInline:cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cn,referrerPolicy:null,rel:Qn,required:cn,reversed:cn,rows:nt,rowSpan:nt,sandbox:Qn,scope:null,scoped:cn,seamless:cn,selected:cn,shadowRootClonable:cn,shadowRootDelegatesFocus:cn,shadowRootMode:null,shape:null,size:nt,sizes:null,slot:null,span:nt,spellCheck:$r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nt,step:null,style:null,tabIndex:nt,target:null,title:null,translate:null,type:null,typeMustMatch:cn,useMap:null,value:$r,width:nt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qn,axis:null,background:null,bgColor:null,border:nt,borderColor:null,bottomMargin:nt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cn,declare:cn,event:null,face:null,frame:null,frameBorder:null,hSpace:nt,leftMargin:nt,link:null,longDesc:null,lowSrc:null,marginHeight:nt,marginWidth:nt,noResize:cn,noHref:cn,noShade:cn,noWrap:cn,object:null,profile:null,prompt:null,rev:null,rightMargin:nt,rules:null,scheme:null,scrolling:$r,standby:null,summary:null,text:null,topMargin:nt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cn,disableRemotePlayback:cn,prefix:null,property:null,results:nt,security:null,unselectable:null},space:"html",transform:X4}),Zae=Sd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ga,accentHeight:nt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nt,amplitude:nt,arabicForm:null,ascent:nt,attributeName:null,attributeType:null,azimuth:nt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nt,by:null,calcMode:null,capHeight:nt,className:Qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nt,diffuseConstant:nt,direction:null,display:null,dur:null,divisor:nt,dominantBaseline:null,download:cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:nt,enableBackground:null,end:null,event:null,exponent:nt,externalResourcesRequired:null,fill:null,fillOpacity:nt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Uu,g2:Uu,glyphName:Uu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nt,horizOriginX:nt,horizOriginY:nt,id:null,ideographic:nt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nt,k:nt,k1:nt,k2:nt,k3:nt,k4:nt,kernelMatrix:ga,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nt,overlineThickness:nt,paintOrder:null,panose1:null,path:null,pathLength:nt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nt,pointsAtY:nt,pointsAtZ:nt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ga,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ga,rev:ga,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ga,requiredFeatures:ga,requiredFonts:ga,requiredFormats:ga,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nt,specularExponent:nt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nt,strikethroughThickness:nt,string:null,stroke:null,strokeDashArray:ga,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nt,strokeOpacity:nt,strokeWidth:null,style:null,surfaceScale:nt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ga,tabIndex:nt,tableValues:null,target:null,targetX:nt,targetY:nt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ga,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nt,underlineThickness:nt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nt,values:null,vAlphabetic:nt,vMathematical:nt,vectorEffect:null,vHanging:nt,vIdeographic:nt,version:null,vertAdvY:nt,vertOriginX:nt,vertOriginY:nt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y4}),Q4=Sd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Z4=Sd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:X4}),J4=Sd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Jae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ese=/[A-Z]/g,jD=/-[a-z]/g,tse=/^data[-\w.:]+$/i;function nse(e,t){const n=jw(t);let r=t,i=ua;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tse.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(jD,ise);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!jD.test(a)){let s=a.replace(ese,rse);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=cN}return new i(r,t)}function rse(e){return"-"+e.toLowerCase()}function ise(e){return e.charAt(1).toUpperCase()}const ase=K4([G4,Qae,Q4,Z4,J4],"html"),uN=K4([G4,Zae,Q4,Z4,J4],"svg");function sse(e){return e.join(" ").trim()}var dN={},AD=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ose=/\n/g,lse=/^\s*/,cse=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,use=/^:\s*/,dse=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,fse=/^[;\s]*/,mse=/^\s+|\s+$/g,hse=`
`,PD="/",DD="*",ac="",pse="comment",gse="declaration";function xse(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(ose);g&&(n+=g.length);var y=p.lastIndexOf(hse);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(lse)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(PD!=e.charAt(0)||DD!=e.charAt(1))){for(var g=2;ac!=e.charAt(g)&&(DD!=e.charAt(g)||PD!=e.charAt(g+1));)++g;if(g+=2,ac===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:pse,comment:y})}}function h(){var p=a(),g=l(cse);if(g){if(f(),!l(use))return o("property missing ':'");var y=l(dse),x=p({type:gse,property:TD(g[0].replace(AD,ac)),value:y?TD(y[0].replace(AD,ac)):ac});return l(fse),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function TD(e){return e?e.replace(mse,ac):ac}var vse=xse,yse=Lp&&Lp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dN,"__esModule",{value:!0});dN.default=wse;const bse=yse(vse);function wse(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,bse.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Fx={};Object.defineProperty(Fx,"__esModule",{value:!0});Fx.camelCase=void 0;var kse=/^--[a-zA-Z0-9_-]+$/,Sse=/-([a-z])/g,Nse=/^[^-]+$/,Cse=/^-(webkit|moz|ms|o|khtml)-/,jse=/^-(ms)-/,Ase=function(e){return!e||Nse.test(e)||kse.test(e)},Pse=function(e,t){return t.toUpperCase()},ED=function(e,t){return"".concat(t,"-")},Dse=function(e,t){return t===void 0&&(t={}),Ase(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(jse,ED):e=e.replace(Cse,ED),e.replace(Sse,Pse))};Fx.camelCase=Dse;var Tse=Lp&&Lp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ese=Tse(dN),Mse=Fx;function Dw(e,t){var n={};return!e||typeof e!="string"||(0,Ese.default)(e,function(r,i){r&&i&&(n[(0,Mse.camelCase)(r,t)]=i)}),n}Dw.default=Dw;var Ose=Dw;const Ise=ws(Ose),e$=t$("end"),fN=t$("start");function t$(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _se(e){const t=fN(e),n=e$(e);if(t&&n)return{start:t,end:n}}function Sf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?MD(e.position):"start"in e||"end"in e?MD(e):"line"in e||"column"in e?Tw(e):""}function Tw(e){return OD(e&&e.line)+":"+OD(e&&e.column)}function MD(e){return Tw(e&&e.start)+"-"+Tw(e&&e.end)}function OD(e){return e&&typeof e=="number"?e:1}class Ei extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Sf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.column=void 0;Ei.prototype.line=void 0;Ei.prototype.ancestors=void 0;Ei.prototype.cause=void 0;Ei.prototype.fatal=void 0;Ei.prototype.place=void 0;Ei.prototype.ruleId=void 0;Ei.prototype.source=void 0;const mN={}.hasOwnProperty,Lse=new Map,$se=/[A-Z]/g,Fse=new Set(["table","tbody","thead","tfoot","tr"]),Rse=new Set(["td","th"]),n$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Bse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Gse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Kse(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?uN:ase,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=r$(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function r$(e,t,n){if(t.type==="element")return zse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Use(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Wse(e,t,n);if(t.type==="mdxjsEsm")return Vse(e,t);if(t.type==="root")return Hse(e,t,n);if(t.type==="text")return qse(e,t)}function zse(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=uN,e.schema=i),e.ancestors.push(t);const a=a$(e,t.tagName,!1),s=Yse(e,t);let o=pN(e,t);return Fse.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Yae(l):!0})),i$(e,s,a,t),hN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Use(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}pm(e,t.position)}function Vse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);pm(e,t.position)}function Wse(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=uN,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:a$(e,t.name,!0),s=Xse(e,t),o=pN(e,t);return i$(e,s,a,t),hN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Hse(e,t,n){const r={};return hN(r,pN(e,t)),e.create(t,e.Fragment,r,n)}function qse(e,t){return t.value}function i$(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function hN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Kse(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function Gse(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=fN(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Yse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&mN.call(t.properties,i)){const a=Qse(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Rse.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Xse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else pm(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else pm(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function pN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Lse;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=r$(e,a,s);o!==void 0&&n.push(o)}return n}function Qse(e,t,n){const r=nse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Wae(n):sse(n)),r.property==="style"){let i=typeof n=="object"?n:Zse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Jse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Jae[r.property]||r.property:r.attribute,n]}}function Zse(e,t){try{return Ise(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ei("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=n$+"#cannot-parse-style-attribute",i}}function a$(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=SD(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=SD(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return mN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);pm(e)}function pm(e,t){const n=new Ei("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=n$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Jse(e){const t={};let n;for(n in e)mN.call(e,n)&&(t[eoe(n)]=e[n]);return t}function eoe(e){let t=e.replace($se,toe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function toe(e){return"-"+e.toLowerCase()}const iy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},noe={};function gN(e,t){const n=noe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return s$(e,r,i)}function s$(e,t,n){if(roe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ID(e.children,t,n)}return Array.isArray(e)?ID(e,t,n):""}function ID(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=s$(e[i],t,n);return r.join("")}function roe(e){return!!(e&&typeof e=="object")}const _D=document.createElement("i");function xN(e){const t="&"+e+";";_D.innerHTML=t;const n=_D.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ca(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function za(e,t){return e.length>0?(Ca(e,e.length,0,t),e):t}const LD={}.hasOwnProperty;function o$(e){const t={};let n=-1;for(;++n<e.length;)ioe(t,e[n]);return t}function ioe(e,t){let n;for(n in t){const i=(LD.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){LD.call(i,s)||(i[s]=[]);const o=a[s];aoe(i[s],Array.isArray(o)?o:o?[o]:[])}}}function aoe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ca(e,0,0,r)}function l$(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function hs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $i=Bl(/[A-Za-z]/),Pi=Bl(/[\dA-Za-z]/),soe=Bl(/[#-'*+\--9=?A-Z^-~]/);function o0(e){return e!==null&&(e<32||e===127)}const Ew=Bl(/\d/),ooe=Bl(/[\dA-Fa-f]/),loe=Bl(/[!-/:-@[-`{-~]/);function $t(e){return e!==null&&e<-2}function Hn(e){return e!==null&&(e<0||e===32)}function yn(e){return e===-2||e===-1||e===32}const Rx=Bl(new RegExp("\\p{P}|\\p{S}","u")),Rc=Bl(/\s/);function Bl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Nd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Pi(e.charCodeAt(n+1))&&Pi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return yn(l)?(e.enter(n),o(l)):t(l)}function o(l){return yn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const coe={tokenize:uoe};function uoe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Pn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return $t(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const doe={tokenize:foe},$D={tokenize:moe};function foe(e){const t=this,n=[];let r=0,i,a,s;return o;function o(b){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,c)(b)}return c(b)}function l(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let C=N,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}x(r);let j=N;for(;j<t.events.length;)t.events[j][1].end={...S},j++;return Ca(t.events,C+1,0,t.events.slice(N)),t.events.length=j,c(b)}return o(b)}function c(b){if(r===n.length){if(!i)return h(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($D,d,f)(b)}function d(b){return i&&w(),x(r),h(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(b)}function h(b){return t.containerState={},e.attempt($D,m,p)(b)}function m(b){return r++,n.push([t.currentConstruct,t.containerState]),h(b)}function p(b){if(b===null){i&&w(),x(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(b)}function g(b){if(b===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(b);return}return $t(b)?(e.consume(b),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(b),g)}function y(b,N){const C=t.sliceStream(b);if(N&&C.push(null),b.previous=a,a&&(a.next=b),a=b,i.defineSkip(b.start),i.write(C),t.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const j=t.events.length;let E=j,$,D;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if($){D=t.events[E][1].end;break}$=!0}for(x(r),S=j;S<t.events.length;)t.events[S][1].end={...D},S++;Ca(t.events,E+1,0,t.events.slice(j)),t.events.length=S}}function x(b){let N=n.length;for(;N-- >b;){const C=n[N];t.containerState=C[1],C[0].exit.call(t,e)}n.length=b}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function moe(e,t,n){return Pn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function od(e){if(e===null||Hn(e)||Rc(e))return 1;if(Rx(e))return 2}function Bx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Mw={name:"attention",resolveAll:hoe,tokenize:poe};function hoe(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};FD(f,-l),FD(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=za(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=za(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=za(c,Bx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=za(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=za(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ca(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function poe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=od(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=od(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function FD(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const goe={name:"autolink",tokenize:xoe};function xoe(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return $i(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Pi(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Pi(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||o0(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):soe(m)?(e.consume(m),c):n(m)}function d(m){return Pi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Pi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const rh={partial:!0,tokenize:voe};function voe(e,t,n){return r;function r(a){return yn(a)?Pn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||$t(a)?t(a):n(a)}}const c$={continuation:{tokenize:boe},exit:woe,name:"blockQuote",tokenize:yoe};function yoe(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return yn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function boe(e,t,n){const r=this;return i;function i(s){return yn(s)?Pn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(c$,t,n)(s)}}function woe(e){e.exit("blockQuote")}const u$={name:"characterEscape",tokenize:koe};function koe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return loe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const d$={name:"characterReference",tokenize:Soe};function Soe(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Pi,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=ooe,d):(e.enter("characterReferenceValue"),a=7,s=Ew,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Pi&&!xN(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const RD={partial:!0,tokenize:Coe},BD={concrete:!0,name:"codeFenced",tokenize:Noe};function Noe(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(S){return c(S)}function c(S){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(s++,e.consume(S),d):s<3?n(S):(e.exit("codeFencedFenceSequence"),yn(S)?Pn(e,f,"whitespace")(S):f(S))}function f(S){return S===null||$t(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(RD,g,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||$t(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):yn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pn(e,m,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),h)}function m(S){return S===null||$t(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||$t(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?n(S):(e.consume(S),p)}function g(S){return e.attempt(i,N,y)(S)}function y(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return a>0&&yn(S)?Pn(e,w,"linePrefix",a+1)(S):w(S)}function w(S){return S===null||$t(S)?e.check(RD,g,N)(S):(e.enter("codeFlowValue"),b(S))}function b(S){return S===null||$t(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),b)}function N(S){return e.exit("codeFenced"),t(S)}function C(S,j,E){let $=0;return D;function D(ce){return S.enter("lineEnding"),S.consume(ce),S.exit("lineEnding"),_}function _(ce){return S.enter("codeFencedFence"),yn(ce)?Pn(S,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):O(ce)}function O(ce){return ce===o?(S.enter("codeFencedFenceSequence"),G(ce)):E(ce)}function G(ce){return ce===o?($++,S.consume(ce),G):$>=s?(S.exit("codeFencedFenceSequence"),yn(ce)?Pn(S,Q,"whitespace")(ce):Q(ce)):E(ce)}function Q(ce){return ce===null||$t(ce)?(S.exit("codeFencedFence"),j(ce)):E(ce)}}}function Coe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const ay={name:"codeIndented",tokenize:Aoe},joe={partial:!0,tokenize:Poe};function Aoe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Pn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):$t(c)?e.attempt(joe,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||$t(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function Poe(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):$t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Pn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):$t(s)?i(s):n(s)}}const Doe={name:"codeText",previous:Eoe,resolve:Toe,tokenize:Moe};function Toe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Eoe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Moe(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):$t(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||$t(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Ooe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Xd(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Xd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Xd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Xd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Xd(this.left,n.reverse())}}}function Xd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function f$(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Ooe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ioe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Ca(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Ioe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),w=a.pop();l.push([w,w+x.length-1]),e.splice(w,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const _oe={resolve:$oe,tokenize:Foe},Loe={partial:!0,tokenize:Roe};function $oe(e){return f$(e),e}function Foe(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):$t(o)?e.check(Loe,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Roe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Pn(e,a,"linePrefix")}function a(s){if(s===null||$t(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function m$(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||o0(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||$t(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Hn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||o0(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function h$(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):$t(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||$t(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!yn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function p$(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):$t(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Pn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||$t(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Nf(e,t){let n;return r;function r(i){return $t(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):yn(i)?Pn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Boe={name:"definition",tokenize:Uoe},zoe={partial:!0,tokenize:Voe};function Uoe(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return h$.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=hs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Hn(m)?Nf(e,c)(m):c(m)}function c(m){return m$(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(zoe,f,f)(m)}function f(m){return yn(m)?Pn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||$t(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Voe(e,t,n){return r;function r(o){return Hn(o)?Nf(e,i)(o):n(o)}function i(o){return p$(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return yn(o)?Pn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||$t(o)?t(o):n(o)}}const Woe={name:"hardBreakEscape",tokenize:Hoe};function Hoe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return $t(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const qoe={name:"headingAtx",resolve:Koe,tokenize:Goe};function Koe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ca(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Goe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Hn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||$t(d)?(e.exit("atxHeading"),t(d)):yn(d)?Pn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Hn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const Yoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zD=["pre","script","style","textarea"],Xoe={concrete:!0,name:"htmlFlow",resolveTo:Joe,tokenize:ele},Qoe={partial:!0,tokenize:nle},Zoe={partial:!0,tokenize:tle};function Joe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ele(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:M):$i(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):$i(k)?(e.consume(k),i=4,r.interrupt?t:M):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:M):n(k)}function p(k){const z="CDATA[";return k===z.charCodeAt(o++)?(e.consume(k),o===z.length?r.interrupt?t:O:p):n(k)}function g(k){return $i(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Hn(k)){const z=k===47,U=s.toLowerCase();return!z&&!a&&zD.includes(U)?(i=1,r.interrupt?t(k):O(k)):Yoe.includes(s.toLowerCase())?(i=6,z?(e.consume(k),x):r.interrupt?t(k):O(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?w(k):b(k))}return k===45||Pi(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function x(k){return k===62?(e.consume(k),r.interrupt?t:O):n(k)}function w(k){return yn(k)?(e.consume(k),w):D(k)}function b(k){return k===47?(e.consume(k),D):k===58||k===95||$i(k)?(e.consume(k),N):yn(k)?(e.consume(k),b):D(k)}function N(k){return k===45||k===46||k===58||k===95||Pi(k)?(e.consume(k),N):C(k)}function C(k){return k===61?(e.consume(k),S):yn(k)?(e.consume(k),C):b(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,j):yn(k)?(e.consume(k),S):E(k)}function j(k){return k===l?(e.consume(k),l=null,$):k===null||$t(k)?n(k):(e.consume(k),j)}function E(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Hn(k)?C(k):(e.consume(k),E)}function $(k){return k===47||k===62||yn(k)?b(k):n(k)}function D(k){return k===62?(e.consume(k),_):n(k)}function _(k){return k===null||$t(k)?O(k):yn(k)?(e.consume(k),_):n(k)}function O(k){return k===45&&i===2?(e.consume(k),pe):k===60&&i===1?(e.consume(k),X):k===62&&i===4?(e.consume(k),A):k===63&&i===3?(e.consume(k),M):k===93&&i===5?(e.consume(k),ue):$t(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Qoe,ae,G)(k)):k===null||$t(k)?(e.exit("htmlFlowData"),G(k)):(e.consume(k),O)}function G(k){return e.check(Zoe,Q,ae)(k)}function Q(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ce}function ce(k){return k===null||$t(k)?G(k):(e.enter("htmlFlowData"),O(k))}function pe(k){return k===45?(e.consume(k),M):O(k)}function X(k){return k===47?(e.consume(k),s="",W):O(k)}function W(k){if(k===62){const z=s.toLowerCase();return zD.includes(z)?(e.consume(k),A):O(k)}return $i(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),W):O(k)}function ue(k){return k===93?(e.consume(k),M):O(k)}function M(k){return k===62?(e.consume(k),A):k===45&&i===2?(e.consume(k),M):O(k)}function A(k){return k===null||$t(k)?(e.exit("htmlFlowData"),ae(k)):(e.consume(k),A)}function ae(k){return e.exit("htmlFlow"),t(k)}}function tle(e,t,n){const r=this;return i;function i(s){return $t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function nle(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(rh,t,n)}}const rle={name:"htmlText",tokenize:ile};function ile(e,t,n){const r=this;let i,a,s;return o;function o(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),C):M===63?(e.consume(M),b):$i(M)?(e.consume(M),E):n(M)}function c(M){return M===45?(e.consume(M),d):M===91?(e.consume(M),a=0,p):$i(M)?(e.consume(M),w):n(M)}function d(M){return M===45?(e.consume(M),m):n(M)}function f(M){return M===null?n(M):M===45?(e.consume(M),h):$t(M)?(s=f,X(M)):(e.consume(M),f)}function h(M){return M===45?(e.consume(M),m):f(M)}function m(M){return M===62?pe(M):M===45?h(M):f(M)}function p(M){const A="CDATA[";return M===A.charCodeAt(a++)?(e.consume(M),a===A.length?g:p):n(M)}function g(M){return M===null?n(M):M===93?(e.consume(M),y):$t(M)?(s=g,X(M)):(e.consume(M),g)}function y(M){return M===93?(e.consume(M),x):g(M)}function x(M){return M===62?pe(M):M===93?(e.consume(M),x):g(M)}function w(M){return M===null||M===62?pe(M):$t(M)?(s=w,X(M)):(e.consume(M),w)}function b(M){return M===null?n(M):M===63?(e.consume(M),N):$t(M)?(s=b,X(M)):(e.consume(M),b)}function N(M){return M===62?pe(M):b(M)}function C(M){return $i(M)?(e.consume(M),S):n(M)}function S(M){return M===45||Pi(M)?(e.consume(M),S):j(M)}function j(M){return $t(M)?(s=j,X(M)):yn(M)?(e.consume(M),j):pe(M)}function E(M){return M===45||Pi(M)?(e.consume(M),E):M===47||M===62||Hn(M)?$(M):n(M)}function $(M){return M===47?(e.consume(M),pe):M===58||M===95||$i(M)?(e.consume(M),D):$t(M)?(s=$,X(M)):yn(M)?(e.consume(M),$):pe(M)}function D(M){return M===45||M===46||M===58||M===95||Pi(M)?(e.consume(M),D):_(M)}function _(M){return M===61?(e.consume(M),O):$t(M)?(s=_,X(M)):yn(M)?(e.consume(M),_):$(M)}function O(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,G):$t(M)?(s=O,X(M)):yn(M)?(e.consume(M),O):(e.consume(M),Q)}function G(M){return M===i?(e.consume(M),i=void 0,ce):M===null?n(M):$t(M)?(s=G,X(M)):(e.consume(M),G)}function Q(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Hn(M)?$(M):(e.consume(M),Q)}function ce(M){return M===47||M===62||Hn(M)?$(M):n(M)}function pe(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function X(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),W}function W(M){return yn(M)?Pn(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):ue(M)}function ue(M){return e.enter("htmlTextData"),s(M)}}const vN={name:"labelEnd",resolveAll:lle,resolveTo:cle,tokenize:ule},ale={tokenize:dle},sle={tokenize:fle},ole={tokenize:mle};function lle(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ca(e,0,e.length,n),e}function cle(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=za(o,e.slice(a+1,a+r+3)),o=za(o,[["enter",d,t]]),o=za(o,Bx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=za(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=za(o,e.slice(s+1)),o=za(o,[["exit",l,t]]),Ca(e,a,e.length,o),e}function ule(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(hs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(ale,d,s?d:f)(h):h===91?e.attempt(sle,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(ole,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function dle(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Hn(f)?Nf(e,a)(f):a(f)}function a(f){return f===41?d(f):m$(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Hn(f)?Nf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?p$(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Hn(f)?Nf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function fle(e,t,n){const r=this;return i;function i(o){return h$.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(hs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function mle(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const hle={name:"labelStartImage",resolveAll:vN.resolveAll,tokenize:ple};function ple(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const gle={name:"labelStartLink",resolveAll:vN.resolveAll,tokenize:xle};function xle(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const sy={name:"lineEnding",tokenize:vle};function vle(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pn(e,t,"linePrefix")}}const Mp={name:"thematicBreak",tokenize:yle};function yle(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||$t(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),yn(c)?Pn(e,o,"whitespace")(c):o(c))}}const Zi={continuation:{tokenize:Sle},exit:Cle,name:"list",tokenize:kle},ble={partial:!0,tokenize:jle},wle={partial:!0,tokenize:Nle};function kle(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Ew(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Mp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Ew(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(rh,r.interrupt?n:d,e.attempt(ble,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return yn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Sle(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(rh,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!yn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(wle,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pn(e,e.attempt(Zi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Nle(e,t,n){const r=this;return Pn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Cle(e){e.exit(this.containerState.type)}function jle(e,t,n){const r=this;return Pn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!yn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const UD={name:"setextUnderline",resolveTo:Ale,tokenize:Ple};function Ale(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Ple(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),yn(c)?Pn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||$t(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Dle={tokenize:Tle};function Tle(e){const t=this,n=e.attempt(rh,r,e.attempt(this.parser.constructs.flowInitial,i,Pn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(_oe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ele={resolveAll:x$()},Mle=g$("string"),Ole=g$("text");function g$(e){return{resolveAll:x$(e==="text"?Ile:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function x$(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Ile(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const _le={42:Zi,43:Zi,45:Zi,48:Zi,49:Zi,50:Zi,51:Zi,52:Zi,53:Zi,54:Zi,55:Zi,56:Zi,57:Zi,62:c$},Lle={91:Boe},$le={[-2]:ay,[-1]:ay,32:ay},Fle={35:qoe,42:Mp,45:[UD,Mp],60:Xoe,61:UD,95:Mp,96:BD,126:BD},Rle={38:d$,92:u$},Ble={[-5]:sy,[-4]:sy,[-3]:sy,33:hle,38:d$,42:Mw,60:[goe,rle],91:gle,92:[Woe,u$],93:vN,95:Mw,96:Doe},zle={null:[Mw,Ele]},Ule={null:[42,95]},Vle={null:[]},Wle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ule,contentInitial:Lle,disable:Vle,document:_le,flow:Fle,flowInitial:$le,insideSpan:zle,string:Rle,text:Ble},Symbol.toStringTag,{value:"Module"}));function Hle(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(C),check:j(S),consume:w,enter:b,exit:N,interrupt:j(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(_){return s=za(s,_),y(),s[s.length-1]!==null?[]:(E(t,0),c.events=Bx(a,c.events,c),c.events)}function h(_,O){return Kle(m(_),O)}function m(_){return qle(s,_)}function p(){const{_bufferIndex:_,_index:O,line:G,column:Q,offset:ce}=r;return{_bufferIndex:_,_index:O,line:G,column:Q,offset:ce}}function g(_){i[_.line]=_.column,D()}function y(){let _;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(_){d=d(_)}function w(_){$t(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,D()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=_}function b(_,O){const G=O||{};return G.type=_,G.start=p(),c.events.push(["enter",G,c]),o.push(G),G}function N(_){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function C(_,O){E(_,O.from)}function S(_,O){O.restore()}function j(_,O){return G;function G(Q,ce,pe){let X,W,ue,M;return Array.isArray(Q)?ae(Q):"tokenize"in Q?ae([Q]):A(Q);function A(J){return Z;function Z(ie){const F=ie!==null&&J[ie],B=ie!==null&&J.null,V=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(B)?B:B?[B]:[]];return ae(V)(ie)}}function ae(J){return X=J,W=0,J.length===0?pe:k(J[W])}function k(J){return Z;function Z(ie){return M=$(),ue=J,J.partial||(c.currentConstruct=J),J.name&&c.parser.constructs.disable.null.includes(J.name)?U():J.tokenize.call(O?Object.assign(Object.create(c),O):c,l,z,U)(ie)}}function z(J){return _(ue,M),ce}function U(J){return M.restore(),++W<X.length?k(X[W]):pe}}}function E(_,O){_.resolveAll&&!a.includes(_)&&a.push(_),_.resolve&&Ca(c.events,O,c.events.length-O,_.resolve(c.events.slice(O),c)),_.resolveTo&&(c.events=_.resolveTo(c.events,c))}function $(){const _=p(),O=c.previous,G=c.currentConstruct,Q=c.events.length,ce=Array.from(o);return{from:Q,restore:pe};function pe(){r=_,c.previous=O,c.currentConstruct=G,c.events.length=Q,o=ce,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function qle(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Kle(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Gle(e){const r={constructs:o$([Wle,...(e||{}).extensions||[]]),content:i(coe),defined:[],document:i(doe),flow:i(Dle),lazy:{},string:i(Mle),text:i(Ole)};return r;function i(a){return s;function s(o){return Hle(r,a,o)}}}function Yle(e){for(;!f$(e););return e}const VD=/[\0\t\n\r]/g;function Xle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(VD.lastIndex=f,c=VD.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Qle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zle(e){return e.replace(Qle,Jle)}function Jle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return l$(n.slice(a?2:1),a?16:10)}return xN(n)||e}const v$={}.hasOwnProperty;function ece(e,t,n){return typeof t!="string"&&(n=t,t=void 0),tce(n)(Yle(Gle(n).document().write(Xle()(e,t,!0))))}function tce(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(he),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(q),blockQuote:a(B),characterEscape:$,characterReference:$,codeFenced:a(V),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(V,s),codeText:a(Y,s),codeTextData:$,data:$,codeFlowValue:$,definition:a(R),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(oe),hardBreakEscape:a(te),hardBreakTrailing:a(te),htmlFlow:a(Oe,s),htmlFlowData:$,htmlText:a(Oe,s),htmlTextData:$,image:a(Ie),label:s,link:a(he),listItem:a(ke),listItemValue:h,listOrdered:a(L,f),listUnordered:a(L),paragraph:a(Ne),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(q),strong:a(ct),thematicBreak:a(dn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:F,autolinkProtocol:ie,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:J,characterReference:Z,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:D,codeIndented:l(x),codeText:l(ce),codeTextData:D,data:D,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(G),htmlFlowData:D,htmlText:l(Q),htmlTextData:D,image:l(X),label:ue,labelText:W,lineEnding:_,link:l(pe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:M,resourceTitleString:A,resource:ae,setextHeading:l(E),setextHeadingLineSequence:j,setextHeadingText:S,strong:l(),thematicBreak:l()}};y$(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ve){let Ke={type:"root",children:[]};const jt={stack:[Ke],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},en=[];let Gt=-1;for(;++Gt<ve.length;)if(ve[Gt][1].type==="listOrdered"||ve[Gt][1].type==="listUnordered")if(ve[Gt][0]==="enter")en.push(Gt);else{const yr=en.pop();Gt=i(ve,yr,Gt)}for(Gt=-1;++Gt<ve.length;){const yr=t[ve[Gt][0]];v$.call(yr,ve[Gt][1].type)&&yr[ve[Gt][1].type].call(Object.assign({sliceSerialize:ve[Gt][2].sliceSerialize},jt),ve[Gt][1])}if(jt.tokenStack.length>0){const yr=jt.tokenStack[jt.tokenStack.length-1];(yr[1]||WD).call(jt,void 0,yr[0])}for(Ke.position={start:tl(ve.length>0?ve[0][1].start:{line:1,column:1,offset:0}),end:tl(ve.length>0?ve[ve.length-2][1].end:{line:1,column:1,offset:0})},Gt=-1;++Gt<t.transforms.length;)Ke=t.transforms[Gt](Ke)||Ke;return Ke}function i(ve,Ke,jt){let en=Ke-1,Gt=-1,yr=!1,$n,sn,Qa,fn;for(;++en<=jt;){const Sn=ve[en];switch(Sn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Sn[0]==="enter"?Gt++:Gt--,fn=void 0;break}case"lineEndingBlank":{Sn[0]==="enter"&&($n&&!fn&&!Gt&&!Qa&&(Qa=en),fn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:fn=void 0}if(!Gt&&Sn[0]==="enter"&&Sn[1].type==="listItemPrefix"||Gt===-1&&Sn[0]==="exit"&&(Sn[1].type==="listUnordered"||Sn[1].type==="listOrdered")){if($n){let Nn=en;for(sn=void 0;Nn--;){const pi=ve[Nn];if(pi[1].type==="lineEnding"||pi[1].type==="lineEndingBlank"){if(pi[0]==="exit")continue;sn&&(ve[sn][1].type="lineEndingBlank",yr=!0),pi[1].type="lineEnding",sn=Nn}else if(!(pi[1].type==="linePrefix"||pi[1].type==="blockQuotePrefix"||pi[1].type==="blockQuotePrefixWhitespace"||pi[1].type==="blockQuoteMarker"||pi[1].type==="listItemIndent"))break}Qa&&(!sn||Qa<sn)&&($n._spread=!0),$n.end=Object.assign({},sn?ve[sn][1].start:Sn[1].end),ve.splice(sn||en,0,["exit",$n,Sn[2]]),en++,jt++}if(Sn[1].type==="listItemPrefix"){const Nn={type:"listItem",_spread:!1,start:Object.assign({},Sn[1].start),end:void 0};$n=Nn,ve.splice(en,0,["enter",Nn,Sn[2]]),en++,jt++,Qa=void 0,fn=!0}}}return ve[Ke][1]._spread=yr,jt}function a(ve,Ke){return jt;function jt(en){o.call(this,ve(en),en),Ke&&Ke.call(this,en)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ve,Ke,jt){this.stack[this.stack.length-1].children.push(ve),this.stack.push(ve),this.tokenStack.push([Ke,jt||void 0]),ve.position={start:tl(Ke.start),end:void 0}}function l(ve){return Ke;function Ke(jt){ve&&ve.call(this,jt),c.call(this,jt)}}function c(ve,Ke){const jt=this.stack.pop(),en=this.tokenStack.pop();if(en)en[0].type!==ve.type&&(Ke?Ke.call(this,ve,en[0]):(en[1]||WD).call(this,ve,en[0]));else throw new Error("Cannot close `"+ve.type+"` ("+Sf({start:ve.start,end:ve.end})+"): its not open");jt.position.end=tl(ve.end)}function d(){return gN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ve){if(this.data.expectingFirstListItemValue){const Ke=this.stack[this.stack.length-2];Ke.start=Number.parseInt(this.sliceSerialize(ve),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.lang=ve}function p(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.meta=ve}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=ve.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=ve.replace(/(\r?\n|\r)$/g,"")}function w(ve){const Ke=this.resume(),jt=this.stack[this.stack.length-1];jt.label=Ke,jt.identifier=hs(this.sliceSerialize(ve)).toLowerCase()}function b(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.title=ve}function N(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.url=ve}function C(ve){const Ke=this.stack[this.stack.length-1];if(!Ke.depth){const jt=this.sliceSerialize(ve).length;Ke.depth=jt}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function j(ve){const Ke=this.stack[this.stack.length-1];Ke.depth=this.sliceSerialize(ve).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ve){const jt=this.stack[this.stack.length-1].children;let en=jt[jt.length-1];(!en||en.type!=="text")&&(en=Ot(),en.position={start:tl(ve.start),end:void 0},jt.push(en)),this.stack.push(en)}function D(ve){const Ke=this.stack.pop();Ke.value+=this.sliceSerialize(ve),Ke.position.end=tl(ve.end)}function _(ve){const Ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const jt=Ke.children[Ke.children.length-1];jt.position.end=tl(ve.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ke.type)&&($.call(this,ve),D.call(this,ve))}function O(){this.data.atHardBreak=!0}function G(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=ve}function Q(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=ve}function ce(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.value=ve}function pe(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ke=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ke,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function X(){const ve=this.stack[this.stack.length-1];if(this.data.inReference){const Ke=this.data.referenceType||"shortcut";ve.type+="Reference",ve.referenceType=Ke,delete ve.url,delete ve.title}else delete ve.identifier,delete ve.label;this.data.referenceType=void 0}function W(ve){const Ke=this.sliceSerialize(ve),jt=this.stack[this.stack.length-2];jt.label=Zle(Ke),jt.identifier=hs(Ke).toLowerCase()}function ue(){const ve=this.stack[this.stack.length-1],Ke=this.resume(),jt=this.stack[this.stack.length-1];if(this.data.inReference=!0,jt.type==="link"){const en=ve.children;jt.children=en}else jt.alt=Ke}function M(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.url=ve}function A(){const ve=this.resume(),Ke=this.stack[this.stack.length-1];Ke.title=ve}function ae(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function z(ve){const Ke=this.resume(),jt=this.stack[this.stack.length-1];jt.label=Ke,jt.identifier=hs(this.sliceSerialize(ve)).toLowerCase(),this.data.referenceType="full"}function U(ve){this.data.characterReferenceType=ve.type}function J(ve){const Ke=this.sliceSerialize(ve),jt=this.data.characterReferenceType;let en;jt?(en=l$(Ke,jt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):en=xN(Ke);const Gt=this.stack[this.stack.length-1];Gt.value+=en}function Z(ve){const Ke=this.stack.pop();Ke.position.end=tl(ve.end)}function ie(ve){D.call(this,ve);const Ke=this.stack[this.stack.length-1];Ke.url=this.sliceSerialize(ve)}function F(ve){D.call(this,ve);const Ke=this.stack[this.stack.length-1];Ke.url="mailto:"+this.sliceSerialize(ve)}function B(){return{type:"blockquote",children:[]}}function V(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function R(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function oe(){return{type:"emphasis",children:[]}}function q(){return{type:"heading",depth:0,children:[]}}function te(){return{type:"break"}}function Oe(){return{type:"html",value:""}}function Ie(){return{type:"image",title:null,url:"",alt:null}}function he(){return{type:"link",title:null,url:"",children:[]}}function L(ve){return{type:"list",ordered:ve.type==="listOrdered",start:null,spread:ve._spread,children:[]}}function ke(ve){return{type:"listItem",spread:ve._spread,checked:null,children:[]}}function Ne(){return{type:"paragraph",children:[]}}function ct(){return{type:"strong",children:[]}}function Ot(){return{type:"text",value:""}}function dn(){return{type:"thematicBreak"}}}function tl(e){return{line:e.line,column:e.column,offset:e.offset}}function y$(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?y$(e,r):nce(e,r)}}function nce(e,t){let n;for(n in t)if(v$.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function WD(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Sf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Sf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Sf({start:t.start,end:t.end})+") is still open")}function rce(e){const t=this;t.parser=n;function n(r){return ece(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ice(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ace(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function sce(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function oce(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lce(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cce(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Nd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function uce(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dce(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function b$(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function fce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return b$(e,t);const i={src:Nd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function mce(e,t){const n={src:Nd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function hce(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function pce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return b$(e,t);const i={href:Nd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function gce(e,t){const n={href:Nd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xce(e,t,n){const r=e.all(t),i=n?vce(n):w$(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function vce(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=w$(n[r])}return t}function w$(e){const t=e.spread;return t??e.children.length>1}function yce(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function bce(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wce(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kce(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Sce(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=fN(t.children[1]),l=e$(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Nce(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Cce(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const HD=9,qD=32;function jce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(KD(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(KD(t.slice(i),i>0,!1)),a.join("")}function KD(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===HD||a===qD;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===HD||a===qD;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ace(e,t){const n={type:"text",value:jce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Pce(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Dce={blockquote:ice,break:ace,code:sce,delete:oce,emphasis:lce,footnoteReference:cce,heading:uce,html:dce,imageReference:fce,image:mce,inlineCode:hce,linkReference:pce,link:gce,listItem:xce,list:yce,paragraph:bce,root:wce,strong:kce,table:Sce,tableCell:Cce,tableRow:Nce,text:Ace,thematicBreak:Pce,toml:ap,yaml:ap,definition:ap,footnoteDefinition:ap};function ap(){}const k$=-1,zx=0,Cf=1,l0=2,yN=3,bN=4,wN=5,kN=6,S$=7,N$=8,GD=typeof self=="object"?self:globalThis,Tce=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case zx:case k$:return n(s,i);case Cf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case l0:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case yN:return n(new Date(s),i);case bN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case wN:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case kN:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case S$:{const{name:o,message:l}=s;return n(new GD[o](l),i)}case N$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new GD[a](s),i)};return r},YD=e=>Tce(new Map,e)(0),du="",{toString:Ece}={},{keys:Mce}=Object,Qd=e=>{const t=typeof e;if(t!=="object"||!e)return[zx,t];const n=Ece.call(e).slice(8,-1);switch(n){case"Array":return[Cf,du];case"Object":return[l0,du];case"Date":return[yN,du];case"RegExp":return[bN,du];case"Map":return[wN,du];case"Set":return[kN,du];case"DataView":return[Cf,n]}return n.includes("Array")?[Cf,n]:n.includes("Error")?[S$,n]:[l0,n]},sp=([e,t])=>e===zx&&(t==="function"||t==="symbol"),Oce=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Qd(s);switch(o){case zx:{let d=s;switch(l){case"bigint":o=N$,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([k$],s)}return i([o,d],s)}case Cf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case l0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Mce(s))(e||!sp(Qd(s[h])))&&d.push([a(h),a(s[h])]);return f}case yN:return i([o,s.toISOString()],s);case bN:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case wN:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(sp(Qd(h))||sp(Qd(m))))&&d.push([a(h),a(m)]);return f}case kN:{const d=[],f=i([o,d],s);for(const h of s)(e||!sp(Qd(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},XD=(e,{json:t,lossy:n}={})=>{const r=[];return Oce(!(t||n),!!t,new Map,r)(e),r},c0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?YD(XD(e,t)):structuredClone(e):(e,t)=>YD(XD(e,t));function Ice(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function _ce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Lce(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ice,r=e.options.footnoteBackLabel||_ce,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=Nd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,m);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const w=y.children[y.children.length-1];w&&w.type==="text"?w.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...c0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Ux=function(e){if(e==null)return Bce;if(typeof e=="function")return Vx(e);if(typeof e=="object")return Array.isArray(e)?$ce(e):Fce(e);if(typeof e=="string")return Rce(e);throw new Error("Expected function, string, or object as test")};function $ce(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Ux(e[n]);return Vx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Fce(e){const t=e;return Vx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Rce(e){return Vx(t);function t(n){return n&&n.type===e}}function Vx(e){return t;function t(n,r,i){return!!(zce(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Bce(){return!0}function zce(e){return e!==null&&typeof e=="object"&&"type"in e}const C$=[],Uce=!0,Ow=!1,Vce="skip";function j$(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=Ux(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=C$,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=Wce(n(l,d)),m[0]===Ow))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==Vce)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const w=x.children[g];if(p=o(w,g,y)(),p[0]===Ow)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function Wce(e){return Array.isArray(e)?e:typeof e=="number"?[Uce,e]:e==null?C$:[e]}function SN(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),j$(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const Iw={}.hasOwnProperty,Hce={};function qce(e,t){const n=t||Hce,r=new Map,i=new Map,a=new Map,s={...Dce,...n.handlers},o={all:c,applyData:Gce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Kce,wrap:Xce};return SN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(Iw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=c0(y);return x.children=o.all(d),x}return c0(d)}return(o.options.unknownHandler||Yce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=QD(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=QD(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function Kce(e,t){e.position&&(t.position=_se(e))}function Gce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,c0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Yce(e,t){const n=t.data||{},r="value"in t&&!(Iw.call(n,"hProperties")||Iw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function QD(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ZD(e,t){const n=qce(e,t),r=n.one(e,void 0),i=Lce(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Qce(e,t){return e&&"run"in e?async function(n,r){const i=ZD(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ZD(n,{file:r,...e||t})}}function JD(e){if(e)throw e}var Op=Object.prototype.hasOwnProperty,A$=Object.prototype.toString,eT=Object.defineProperty,tT=Object.getOwnPropertyDescriptor,nT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):A$.call(t)==="[object Array]"},rT=function(t){if(!t||A$.call(t)!=="[object Object]")return!1;var n=Op.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Op.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Op.call(t,i)},iT=function(t,n){eT&&n.name==="__proto__"?eT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},aT=function(t,n){if(n==="__proto__")if(Op.call(t,n)){if(tT)return tT(t,n).value}else return;return t[n]},Zce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=aT(o,n),i=aT(t,n),o!==i&&(d&&i&&(rT(i)||(a=nT(i)))?(a?(a=!1,s=r&&nT(r)?r:[]):s=r&&rT(r)?r:{},iT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&iT(o,{name:n,newValue:i}));return o};const oy=ws(Zce);function _w(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?eue(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function eue(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Fs={basename:tue,dirname:nue,extname:rue,join:iue,sep:"/"};function tue(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ih(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function nue(e){if(ih(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rue(e){ih(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function iue(...e){let t=-1,n;for(;++t<e.length;)ih(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":aue(n)}function aue(e){ih(e);const t=e.codePointAt(0)===47;let n=sue(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function sue(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function ih(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const oue={cwd:lue};function lue(){return"/"}function Lw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function cue(e){if(typeof e=="string")e=new URL(e);else if(!Lw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return uue(e)}function uue(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ly=["history","path","basename","stem","extname","dirname"];class P${constructor(t){let n;t?Lw(t)?n={path:t}:typeof t=="string"||due(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":oue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ly.length;){const a=ly[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)ly.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Fs.basename(this.path):void 0}set basename(t){uy(t,"basename"),cy(t,"basename"),this.path=Fs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Fs.dirname(this.path):void 0}set dirname(t){sT(this.basename,"dirname"),this.path=Fs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Fs.extname(this.path):void 0}set extname(t){if(cy(t,"extname"),sT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Lw(t)&&(t=cue(t)),uy(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Fs.basename(this.path,this.extname):void 0}set stem(t){uy(t,"stem"),cy(t,"stem"),this.path=Fs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ei(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function cy(e,t){if(e&&e.includes(Fs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fs.sep+"`")}function uy(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function sT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function due(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const fue=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},mue={}.hasOwnProperty;class NN extends fue{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Jce()}copy(){const t=new NN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(oy(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(my("data",this.frozen),this.namespace[t]=n,this):mue.call(this.namespace,t)&&this.namespace[t]||void 0:t?(my("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=op(t),r=this.parser||this.Parser;return dy("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),dy("process",this.parser||this.Parser),fy("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=op(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);gue(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),dy("processSync",this.parser||this.Parser),fy("processSync",this.compiler||this.Compiler),this.process(t,i),lT("processSync","process",n),r;function i(a,s){n=!0,JD(a),r=s}}run(t,n,r){oT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=op(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),lT("runSync","run",r),i;function a(s,o){JD(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=op(n),i=this.compiler||this.Compiler;return fy("stringify",i),oT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(my("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=oy(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];_w(g)&&_w(m)&&(m=oy(!0,g,m)),r[h]=[c,m,...p]}}}}const hue=new NN().freeze();function dy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fy(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function my(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function oT(e){if(!_w(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function lT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function op(e){return pue(e)?e:new P$(e)}function pue(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gue(e){return typeof e=="string"||xue(e)}function xue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",cT=[],uT={allowDangerousHtml:!0},yue=/^(https?|ircs?|mailto|xmpp)$/i,bue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wue(e){const t=kue(e),n=Sue(e);return Nue(t.runSync(t.parse(n),n),e)}function kue(e){const t=e.rehypePlugins||cT,n=e.remarkPlugins||cT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...uT}:uT;return hue().use(rce).use(n).use(Qce,r).use(t)}function Sue(e){const t=e.children||"",n=new P$;return typeof t=="string"&&(n.value=t),n}function Nue(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Cue;for(const d of bue)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+vue+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),SN(e,c),Bse(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in iy)if(Object.hasOwn(iy,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=iy[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Cue(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||yue.test(e.slice(0,t))?e:""}function dT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function jue(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Aue(e,t,n){const i=Ux((n||{}).ignore||[]),a=Pue(t);let s=-1;for(;++s<a.length;)j$(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let x=!1,w=[];h.lastIndex=0;let b=h.exec(c.value);for(;b;){const N=b.index,C={index:b.index,input:b.input,stack:[...d,c]};let S=m(...b,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=N+1:(p!==N&&w.push({type:"text",value:c.value.slice(p,N)}),Array.isArray(S)?w.push(...S):S&&w.push(S),p=N+b[0].length,x=!0),!h.global)break;b=h.exec(c.value)}return x?(p<c.value.length&&w.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...w)):w=[c],y+w.length}}function Pue(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Due(i[0]),Tue(i[1])])}return t}function Due(e){return typeof e=="string"?new RegExp(jue(e),"g"):e}function Tue(e){return typeof e=="function"?e:function(){return e}}const hy="phrasing",py=["autolink","link","image","label"];function Eue(){return{transforms:[Fue],enter:{literalAutolink:Oue,literalAutolinkEmail:gy,literalAutolinkHttp:gy,literalAutolinkWww:gy},exit:{literalAutolink:$ue,literalAutolinkEmail:Lue,literalAutolinkHttp:Iue,literalAutolinkWww:_ue}}}function Mue(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:hy,notInConstruct:py},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:hy,notInConstruct:py},{character:":",before:"[ps]",after:"\\/",inConstruct:hy,notInConstruct:py}]}}function Oue(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function gy(e){this.config.enter.autolinkProtocol.call(this,e)}function Iue(e){this.config.exit.autolinkProtocol.call(this,e)}function _ue(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Lue(e){this.config.exit.autolinkEmail.call(this,e)}function $ue(e){this.exit(e)}function Fue(e){Aue(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Rue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Bue]],{ignore:["link","linkReference"]})}function Rue(e,t,n,r,i){let a="";if(!D$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!zue(n)))return!1;const s=Uue(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Bue(e,t,n,r){return!D$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function zue(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Uue(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=dT(e,"(");let a=dT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function D$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Rc(n)||Rx(n))&&(!t||n!==47)}T$.peek=Que;function Vue(){this.buffer()}function Wue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Hue(){this.buffer()}function que(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Kue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Gue(e){this.exit(e)}function Yue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Xue(e){this.exit(e)}function Que(){return"["}function T$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Zue(){return{enter:{gfmFootnoteCallString:Vue,gfmFootnoteCall:Wue,gfmFootnoteDefinitionLabelString:Hue,gfmFootnoteDefinition:que},exit:{gfmFootnoteCallString:Kue,gfmFootnoteCall:Gue,gfmFootnoteDefinitionLabelString:Yue,gfmFootnoteDefinition:Xue}}}function Jue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:T$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?E$:ede))),c(),l}}function ede(e,t,n){return t===0?e:E$(e,t,n)}function E$(e,t,n){return(n?"":"    ")+e}const tde=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];M$.peek=sde;function nde(){return{canContainEols:["delete"],enter:{strikethrough:ide},exit:{strikethrough:ade}}}function rde(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tde}],handlers:{delete:M$}}}function ide(e){this.enter({type:"delete",children:[]},e)}function ade(e){this.exit(e)}function M$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function sde(){return"~"}function ode(e){return e.length}function lde(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||ode,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const w=cde(e[d][x]);if(n.alignDelimiters!==!1){const b=i(w);y[x]=b,(l[x]===void 0||b>l[x])&&(l[x]=b)}g.push(w)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=fT(r[f]);else{const g=fT(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const b=y+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=y.length+w+x.length,w>l[f]&&(l[f]=w),m[f]=w),h[f]=b}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const x=[];for(;++f<c;){const w=g[f]||"";let b="",N="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),S=a[f];S===114?b=" ".repeat(C):S===99?C%2?(b=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(b=" ".repeat(C/2),N=b):N=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(b),x.push(w),n.alignDelimiters!==!1&&x.push(N),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function cde(e){return e==null?"":String(e)}function fT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ude(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),dde);return i(),s}function dde(e,t,n){return">"+(n?"":" ")+e}function fde(e,t){return mT(e,t.inConstruct,!0)&&!mT(e,t.notInConstruct,!1)}function mT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function hT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&fde(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mde(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function hde(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function pde(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gde(e,t,n,r){const i=pde(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(hde(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,xde);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(mde(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function xde(e,t,n){return(n?"":"    ")+e}function CN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function vde(e,t,n,r){const i=CN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function yde(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function gm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function u0(e,t,n){const r=od(e),i=od(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}O$.peek=bde;function O$(e,t,n,r){const i=yde(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=u0(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=gm(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=u0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+gm(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function bde(e,t,n){return n.options.emphasis||"*"}function wde(e,t){let n=!1;return SN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ow}),!!((!e.depth||e.depth<3)&&gN(e)&&(t.options.setext||n))}function kde(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(wde(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=gm(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}I$.peek=Sde;function I$(e){return e.value||""}function Sde(){return"<"}_$.peek=Nde;function _$(e,t,n,r){const i=CN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Nde(){return"!"}L$.peek=Cde;function L$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Cde(){return"!"}$$.peek=jde;function $$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function jde(){return"`"}function F$(e,t){const n=gN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}R$.peek=Ade;function R$(e,t,n,r){const i=CN(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(F$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Ade(e,t,n){return F$(e,n)?"<":"["}B$.peek=Pde;function B$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Pde(){return"["}function jN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Dde(e){const t=jN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Tde(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function z$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Ede(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Tde(n):jN(n);const o=e.ordered?s==="."?")":".":Dde(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),z$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Mde(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ode(e,t,n,r){const i=Mde(n);let a=n.bulletCurrent||jN(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Ide(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const _de=Ux(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Lde(e,t,n,r){return(e.children.some(function(s){return _de(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function $de(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}U$.peek=Fde;function U$(e,t,n,r){const i=$de(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=u0(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=gm(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=u0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+gm(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Fde(e,t,n){return n.options.strong||"*"}function Rde(e,t,n,r){return n.safe(e.value,r)}function Bde(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function zde(e,t,n){const r=(z$(n)+(n.options.ruleSpaces?" ":"")).repeat(Bde(n));return n.options.ruleSpaces?r.slice(0,-1):r}const V$={blockquote:ude,break:hT,code:gde,definition:vde,emphasis:O$,hardBreak:hT,heading:kde,html:I$,image:_$,imageReference:L$,inlineCode:$$,link:R$,linkReference:B$,list:Ede,listItem:Ode,paragraph:Ide,root:Lde,strong:U$,text:Rde,thematicBreak:zde};function Ude(){return{enter:{table:Vde,tableData:pT,tableHeader:pT,tableRow:Hde},exit:{codeText:qde,table:Wde,tableData:xy,tableHeader:xy,tableRow:xy}}}function Vde(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Wde(e){this.exit(e),this.data.inTable=void 0}function Hde(e){this.enter({type:"tableRow",children:[]},e)}function xy(e){this.exit(e)}function pT(e){this.enter({type:"tableCell",children:[]},e)}function qde(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Kde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Kde(e,t){return t==="|"?t:e}function Gde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const x=f(m,g,y),w=c([x]);return w.slice(0,w.indexOf(`
`))}function l(m,p,g,y){const x=g.enter("tableCell"),w=g.enter("phrasing"),b=g.containerPhrasing(m,{...y,before:a,after:a});return w(),x(),b}function c(m,p){return lde(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let x=-1;const w=[],b=p.enter("table");for(;++x<y.length;)w[x]=f(y[x],p,g);return b(),w}function f(m,p,g){const y=m.children;let x=-1;const w=[],b=p.enter("tableRow");for(;++x<y.length;)w[x]=l(y[x],m,p,g);return b(),w}function h(m,p,g){let y=V$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Yde(){return{exit:{taskListCheckValueChecked:gT,taskListCheckValueUnchecked:gT,paragraph:Qde}}}function Xde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Zde}}}function gT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Qde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Zde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=V$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function Jde(){return[Eue(),Zue(),nde(),Ude(),Yde()]}function efe(e){return{extensions:[Mue(),Jue(e),rde(),Gde(e),Xde()]}}const tfe={tokenize:ofe,partial:!0},W$={tokenize:lfe,partial:!0},H$={tokenize:cfe,partial:!0},q$={tokenize:ufe,partial:!0},nfe={tokenize:dfe,partial:!0},K$={name:"wwwAutolink",tokenize:afe,previous:Y$},G$={name:"protocolAutolink",tokenize:sfe,previous:X$},zo={name:"emailAutolink",tokenize:ife,previous:Q$},Xs={};function rfe(){return{text:Xs}}let Yl=48;for(;Yl<123;)Xs[Yl]=zo,Yl++,Yl===58?Yl=65:Yl===91&&(Yl=97);Xs[43]=zo;Xs[45]=zo;Xs[46]=zo;Xs[95]=zo;Xs[72]=[zo,G$];Xs[104]=[zo,G$];Xs[87]=[zo,K$];Xs[119]=[zo,K$];function ife(e,t,n){const r=this;let i,a;return s;function s(f){return!$w(f)||!Q$.call(r,r.previous)||AN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return $w(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(nfe,d,c)(f):f===45||f===95||Pi(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&$i(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function afe(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!Y$.call(r,r.previous)||AN(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(tfe,e.attempt(W$,e.attempt(H$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function sfe(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&X$.call(r,r.previous)&&!AN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if($i(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||o0(f)||Hn(f)||Rc(f)||Rx(f)?n(f):e.attempt(W$,e.attempt(H$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function ofe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function lfe(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(q$,l,o)(c):c===null||Hn(c)||Rc(c)||c!==45&&Rx(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function cfe(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(q$,t,a)(s):s===null||Hn(s)||Rc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function ufe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Hn(o)||Rc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Hn(o)||Rc(o)?t(o):r(o)}function a(o){return $i(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):$i(o)?(e.consume(o),s):n(o)}}function dfe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Pi(a)?n(a):t(a)}}function Y$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Hn(e)}function X$(e){return!$i(e)}function Q$(e){return!(e===47||$w(e))}function $w(e){return e===43||e===45||e===46||e===95||Pi(e)}function AN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const ffe={tokenize:bfe,partial:!0};function mfe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:xfe,continuation:{tokenize:vfe},exit:yfe}},text:{91:{name:"gfmFootnoteCall",tokenize:gfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:hfe,resolveTo:pfe}}}}function hfe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=hs(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function pfe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function gfe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Hn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(hs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Hn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function xfe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Hn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=hs(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Hn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),Pn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function vfe(e,t,n){return e.check(rh,t,e.attempt(ffe,t,n))}function yfe(e){e.exit("gfmFootnoteDefinition")}function bfe(e,t,n){const r=this;return Pn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function wfe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Ca(h,h.length,0,Bx(m,s.slice(c+1,l),o)),Ca(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Ca(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=od(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=od(p);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,o(p)}}}class kfe{constructor(){this.map=[]}add(t,n,r){Sfe(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Sfe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Nfe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Cfe(){return{flow:{null:{name:"table",tokenize:jfe,resolveAll:Afe}}}}function jfe(e,t,n){const r=this;let i=0,a=0,s;return o;function o(D){let _=r.events.length-1;for(;_>-1;){const Q=r.events[_][1].type;if(Q==="lineEnding"||Q==="linePrefix")_--;else break}const O=_>-1?r.events[_][1].type:null,G=O==="tableHead"||O==="tableRow"?S:l;return G===S&&r.parser.lazy[r.now().line]?n(D):G(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),c(D)}function c(D){return D===124||(s=!0,a+=1),d(D)}function d(D){return D===null?n(D):$t(D)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),m):n(D):yn(D)?Pn(e,d,"whitespace")(D):(a+=1,s&&(s=!1,i+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(D)))}function f(D){return D===null||D===124||Hn(D)?(e.exit("data"),d(D)):(e.consume(D),D===92?h:f)}function h(D){return D===92||D===124?(e.consume(D),f):f(D)}function m(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),s=!1,yn(D)?Pn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):p(D))}function p(D){return D===45||D===58?y(D):D===124?(s=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),g):C(D)}function g(D){return yn(D)?Pn(e,y,"whitespace")(D):y(D)}function y(D){return D===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),x):D===45?(a+=1,x(D)):D===null||$t(D)?N(D):C(D)}function x(D){return D===45?(e.enter("tableDelimiterFiller"),w(D)):C(D)}function w(D){return D===45?(e.consume(D),w):D===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),b):(e.exit("tableDelimiterFiller"),b(D))}function b(D){return yn(D)?Pn(e,N,"whitespace")(D):N(D)}function N(D){return D===124?p(D):D===null||$t(D)?!s||i!==a?C(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):C(D)}function C(D){return n(D)}function S(D){return e.enter("tableRow"),j(D)}function j(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),j):D===null||$t(D)?(e.exit("tableRow"),t(D)):yn(D)?Pn(e,j,"whitespace")(D):(e.enter("data"),E(D))}function E(D){return D===null||D===124||Hn(D)?(e.exit("data"),j(D)):(e.consume(D),D===92?$:E)}function $(D){return D===92||D===124?(e.consume(D),E):E(D)}}function Afe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new kfe;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(xT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=lp(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=lp(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=lp(h,t,a,i,n,f)):s[1]!==0&&(f=lp(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&xT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Nfe(t.events,n))}return e}function lp(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},hu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=hu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=hu(t.events,n[2]),d=hu(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},hu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function xT(e,t,n,r,i){const a=[],s=hu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function hu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Pfe={name:"tasklistCheck",tokenize:Tfe};function Dfe(){return{text:{91:Pfe}}}function Tfe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Hn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return $t(l)?t(l):yn(l)?e.check({tokenize:Efe},t,n)(l):n(l)}}function Efe(e,t,n){return Pn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Mfe(e){return o$([rfe(),mfe(),wfe(e),Cfe(),Dfe()])}const Ofe={};function Ife(e){const t=this,n=e||Ofe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Mfe(n)),a.push(Jde()),s.push(efe(n))}const vy='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',Z$=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Wx=v.createContext({}),PN=v.createContext(null),Hx=typeof document<"u",_fe=Hx?v.useLayoutEffect:v.useEffect,J$=v.createContext({strict:!1}),DN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Lfe="framerAppearId",eF="data-"+DN(Lfe);function $fe(e,t,n,r){const{visualElement:i}=v.useContext(Wx),a=v.useContext(J$),s=v.useContext(PN),o=v.useContext(Z$).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,s)});const d=v.useRef(!!(n[eF]&&!window.HandoffComplete));return _fe(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ffe(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Du(n)&&(n.current=r))},[t])}function xm(e){return typeof e=="string"||Array.isArray(e)}function qx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const TN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EN=["initial",...TN];function Kx(e){return qx(e.animate)||EN.some(t=>xm(e[t]))}function tF(e){return!!(Kx(e)||e.variants)}function Rfe(e,t){if(Kx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xm(n)?n:void 0,animate:xm(r)?r:void 0}}return e.inherit!==!1?t:{}}function Bfe(e){const{initial:t,animate:n}=Rfe(e,v.useContext(Wx));return v.useMemo(()=>({initial:t,animate:n}),[vT(t),vT(n)])}function vT(e){return Array.isArray(e)?e.join(" "):e}const yT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vm={};for(const e in yT)vm[e]={isEnabled:t=>yT[e].some(n=>!!t[n])};function zfe(e){for(const t in e)vm[t]={...vm[t],...e[t]}}const nF=v.createContext({}),rF=v.createContext({}),Ufe=Symbol.for("motionComponentSymbol");function Vfe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&zfe(e);function a(o,l){let c;const d={...v.useContext(Z$),...o,layoutId:Wfe(o)},{isStatic:f}=d,h=Bfe(o),m=r(o,f);if(!f&&Hx){h.visualElement=$fe(i,m,d,t);const p=v.useContext(rF),g=v.useContext(J$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(Wx.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Ffe(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[Ufe]=i,s}function Wfe({layoutId:e}){const t=v.useContext(nF).id;return t&&e!==void 0?t+"-"+e:e}function Hfe(e){function t(r,i={}){return Vfe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const qfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function MN(e){return typeof e!="string"||e.includes("-")?!1:!!(qfe.indexOf(e)>-1||/[A-Z]/.test(e))}const d0={};function Kfe(e){Object.assign(d0,e)}const ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hc=new Set(ah);function iF(e,{layout:t,layoutId:n}){return Hc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!d0[e]||e==="opacity")}const oa=e=>!!(e&&e.getVelocity),Gfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yfe=ah.length;function Xfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<Yfe;s++){const o=ah[s];if(e[o]!==void 0){const l=Gfe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const aF=e=>t=>typeof t=="string"&&t.startsWith(e),sF=aF("--"),Fw=aF("var(--"),Qfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Zfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,El=(e,t,n)=>Math.min(Math.max(n,e),t),qc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jf={...qc,transform:e=>El(0,1,e)},cp={...qc,default:1},Af=e=>Math.round(e*1e5)/1e5,Gx=/(-)?([\d]*\.?[\d])+/g,oF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Jfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sh(e){return typeof e=="string"}const oh=e=>({test:t=>sh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rl=oh("deg"),Hs=oh("%"),Kt=oh("px"),eme=oh("vh"),tme=oh("vw"),bT={...Hs,parse:e=>Hs.parse(e)/100,transform:e=>Hs.transform(e*100)},wT={...qc,transform:Math.round},lF={borderWidth:Kt,borderTopWidth:Kt,borderRightWidth:Kt,borderBottomWidth:Kt,borderLeftWidth:Kt,borderRadius:Kt,radius:Kt,borderTopLeftRadius:Kt,borderTopRightRadius:Kt,borderBottomRightRadius:Kt,borderBottomLeftRadius:Kt,width:Kt,maxWidth:Kt,height:Kt,maxHeight:Kt,size:Kt,top:Kt,right:Kt,bottom:Kt,left:Kt,padding:Kt,paddingTop:Kt,paddingRight:Kt,paddingBottom:Kt,paddingLeft:Kt,margin:Kt,marginTop:Kt,marginRight:Kt,marginBottom:Kt,marginLeft:Kt,rotate:rl,rotateX:rl,rotateY:rl,rotateZ:rl,scale:cp,scaleX:cp,scaleY:cp,scaleZ:cp,skew:rl,skewX:rl,skewY:rl,distance:Kt,translateX:Kt,translateY:Kt,translateZ:Kt,x:Kt,y:Kt,z:Kt,perspective:Kt,transformPerspective:Kt,opacity:jf,originX:bT,originY:bT,originZ:Kt,zIndex:wT,fillOpacity:jf,strokeOpacity:jf,numOctaves:wT};function ON(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(sF(f)){a[f]=h;continue}const m=lF[f],p=Zfe(h,m);if(Hc.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=Xfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const IN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cF(e,t,n){for(const r in t)!oa(t[r])&&!iF(r,n)&&(e[r]=t[r])}function nme({transformTemplate:e},t,n){return v.useMemo(()=>{const r=IN();return ON(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function rme(e,t,n){const r=e.style||{},i={};return cF(i,r,e),Object.assign(i,nme(e,t,n)),e.transformValues?e.transformValues(i):i}function ime(e,t,n){const r={},i=rme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ame=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function f0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ame.has(e)}let uF=e=>!f0(e);function sme(e){e&&(uF=t=>t.startsWith("on")?!f0(t):e(t))}try{sme(require("@emotion/is-prop-valid").default)}catch{}function ome(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(uF(i)||n===!0&&f0(i)||!t&&!f0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function kT(e,t,n){return typeof e=="string"?e:Kt.transform(t+n*e)}function lme(e,t,n){const r=kT(t,e.x,e.width),i=kT(n,e.y,e.height);return`${r} ${i}`}const cme={offset:"stroke-dashoffset",array:"stroke-dasharray"},ume={offset:"strokeDashoffset",array:"strokeDasharray"};function dme(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?cme:ume;e[a.offset]=Kt.transform(-r);const s=Kt.transform(t),o=Kt.transform(n);e[a.array]=`${s} ${o}`}function _N(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(ON(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=lme(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&dme(m,s,o,l,!1)}const dF=()=>({...IN(),attrs:{}}),LN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fme(e,t,n,r){const i=v.useMemo(()=>{const a=dF();return _N(a,t,{enableHardwareAcceleration:!1},LN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};cF(a,e.style,e),i.style={...a,...i.style}}return i}function mme(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(MN(n)?fme:ime)(r,a,s,n),d={...ome(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>oa(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function fF(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const mF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hF(e,t,n,r){fF(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(mF.has(i)?i:DN(i),t.attrs[i])}function $N(e,t){const{style:n}=e,r={};for(const i in n)(oa(n[i])||t.style&&oa(t.style[i])||iF(i,e))&&(r[i]=n[i]);return r}function pF(e,t){const n=$N(e,t);for(const r in e)if(oa(e[r])||oa(t[r])){const i=ah.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function FN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function hme(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const m0=e=>Array.isArray(e),pme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),gme=e=>m0(e)?e[e.length-1]||0:e;function Ip(e){const t=oa(e)?e.get():e;return pme(t)?t.toValue():t}function xme({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:vme(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const gF=e=>(t,n)=>{const r=v.useContext(Wx),i=v.useContext(PN),a=()=>xme(e,t,r,i);return n?a():hme(a)};function vme(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=Ip(a[h]);let{initial:s,animate:o}=e;const l=Kx(e),c=tF(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!qx(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=FN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...x}=p;for(const w in x){let b=x[w];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(i[w]=b)}for(const w in g)i[w]=g[w]}),i}const Ir=e=>e;class ST{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function yme(e){let t=new ST,n=new ST,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const up=["prepare","read","update","preRender","render","postRender"],bme=40;function wme(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=up.reduce((f,h)=>(f[h]=yme(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,bme),1),i.timestamp=f,i.isProcessing=!0,up.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:up.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>up.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:sr,cancel:Mo,state:ki,steps:yy}=wme(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0),kme={useVisualState:gF({scrapeMotionValuesFromProps:pF,createRenderState:dF,onMount:(e,t,{renderState:n,latestValues:r})=>{sr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{_N(n,r,{enableHardwareAcceleration:!1},LN(t.tagName),e.transformTemplate),hF(t,n)})}})},Sme={useVisualState:gF({scrapeMotionValuesFromProps:$N,createRenderState:IN})};function Nme(e,{forwardMotionProps:t=!1},n,r){return{...MN(e)?kme:Sme,preloadedFeatures:n,useRender:mme(t),createVisualElement:r,Component:e}}function go(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const xF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Yx(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Cme=e=>t=>xF(t)&&e(t,Yx(t));function bo(e,t,n,r){return go(e,t,Cme(n),r)}const jme=(e,t)=>n=>t(e(n)),jl=(...e)=>e.reduce(jme);function vF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const NT=vF("dragHorizontal"),CT=vF("dragVertical");function yF(e){let t=!1;if(e==="y")t=CT();else if(e==="x")t=NT();else{const n=NT(),r=CT();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function bF(){const e=yF(!0);return e?(e(),!1):!0}class zl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jT(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||bF())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&sr.update(()=>o[r](a,s))};return bo(e.current,n,i,{passive:!e.getProps()[r]})}class Ame extends zl{mount(){this.unmount=jl(jT(this.node,!0),jT(this.node,!1))}unmount(){}}class Pme extends zl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jl(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wF=(e,t)=>t?e===t?!0:wF(e,t.parentElement):!1;function by(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Yx(n))}class Dme extends zl{constructor(){super(...arguments),this.removeStartListeners=Ir,this.removeEndListeners=Ir,this.removeAccessibleListeners=Ir,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=bo(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();sr.update(()=>{!f&&!wF(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=bo(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||by("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&sr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=go(this.node.current,"keyup",s),by("down",(o,l)=>{this.startPress(o,l)})},n=go(this.node.current,"keydown",t),r=()=>{this.isPressing&&by("cancel",(a,s)=>this.cancelPress(a,s))},i=go(this.node.current,"blur",r);this.removeAccessibleListeners=jl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=bo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=go(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rw=new WeakMap,wy=new WeakMap,Tme=e=>{const t=Rw.get(e.target);t&&t(e)},Eme=e=>{e.forEach(Tme)};function Mme({root:e,...t}){const n=e||document;wy.has(n)||wy.set(n,{});const r=wy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Eme,{root:e,...t})),r[i]}function Ome(e,t,n){const r=Mme(t);return Rw.set(e,n),r.observe(e),()=>{Rw.delete(e),r.unobserve(e)}}const Ime={some:0,all:1};class _me extends zl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ime[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Ome(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lme(t,n))&&this.startObserver()}unmount(){}}function Lme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const $me={inView:{Feature:_me},tap:{Feature:Dme},focus:{Feature:Pme},hover:{Feature:Ame}};function kF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Fme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Rme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Xx(e,t,n){const r=e.getProps();return FN(r,t,n!==void 0?n:r.custom,Fme(e),Rme(e))}let RN=Ir;const kc=e=>e*1e3,wo=e=>e/1e3,Bme={current:!1},SF=e=>Array.isArray(e)&&typeof e[0]=="number";function NF(e){return!!(!e||typeof e=="string"&&CF[e]||SF(e)||Array.isArray(e)&&e.every(NF))}const uf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,CF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uf([0,.65,.55,1]),circOut:uf([.55,0,1,.45]),backIn:uf([.31,.01,.66,-.59]),backOut:uf([.33,1.53,.69,.99])};function jF(e){if(e)return SF(e)?uf(e):Array.isArray(e)?e.map(jF):CF[e]}function zme(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=jF(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Ume(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const AF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Vme=1e-7,Wme=12;function Hme(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=AF(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Vme&&++o<Wme);return s}function lh(e,t,n,r){if(e===t&&n===r)return Ir;const i=a=>Hme(a,0,1,e,n);return a=>a===0||a===1?a:AF(i(a),t,r)}const qme=lh(.42,0,1,1),Kme=lh(0,0,.58,1),PF=lh(.42,0,.58,1),Gme=e=>Array.isArray(e)&&typeof e[0]!="number",DF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TF=e=>t=>1-e(1-t),BN=e=>1-Math.sin(Math.acos(e)),EF=TF(BN),Yme=DF(BN),MF=lh(.33,1.53,.69,.99),zN=TF(MF),Xme=DF(zN),Qme=e=>(e*=2)<1?.5*zN(e):.5*(2-Math.pow(2,-10*(e-1))),Zme={linear:Ir,easeIn:qme,easeInOut:PF,easeOut:Kme,circIn:BN,circInOut:Yme,circOut:EF,backIn:zN,backInOut:Xme,backOut:MF,anticipate:Qme},AT=e=>{if(Array.isArray(e)){RN(e.length===4);const[t,n,r,i]=e;return lh(t,n,r,i)}else if(typeof e=="string")return Zme[e];return e},UN=(e,t)=>n=>!!(sh(n)&&Jfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),OF=(e,t,n)=>r=>{if(!sh(r))return r;const[i,a,s,o]=r.match(Gx);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Jme=e=>El(0,255,e),ky={...qc,transform:e=>Math.round(Jme(e))},hc={test:UN("rgb","red"),parse:OF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ky.transform(e)+", "+ky.transform(t)+", "+ky.transform(n)+", "+Af(jf.transform(r))+")"};function ehe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Bw={test:UN("#"),parse:ehe,transform:hc.transform},Tu={test:UN("hsl","hue"),parse:OF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hs.transform(Af(t))+", "+Hs.transform(Af(n))+", "+Af(jf.transform(r))+")"},_i={test:e=>hc.test(e)||Bw.test(e)||Tu.test(e),parse:e=>hc.test(e)?hc.parse(e):Tu.test(e)?Tu.parse(e):Bw.parse(e),transform:e=>sh(e)?e:e.hasOwnProperty("red")?hc.transform(e):Tu.transform(e)},mr=(e,t,n)=>-n*e+n*t+e;function Sy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function the({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Sy(l,o,e+1/3),a=Sy(l,o,e),s=Sy(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Ny=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},nhe=[Bw,hc,Tu],rhe=e=>nhe.find(t=>t.test(e));function PT(e){const t=rhe(e);let n=t.parse(e);return t===Tu&&(n=the(n)),n}const IF=(e,t)=>{const n=PT(e),r=PT(t),i={...n};return a=>(i.red=Ny(n.red,r.red,a),i.green=Ny(n.green,r.green,a),i.blue=Ny(n.blue,r.blue,a),i.alpha=mr(n.alpha,r.alpha,a),hc.transform(i))};function ihe(e){var t,n;return isNaN(e)&&sh(e)&&(((t=e.match(Gx))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(oF))===null||n===void 0?void 0:n.length)||0)>0}const _F={regex:Qfe,countKey:"Vars",token:"${v}",parse:Ir},LF={regex:oF,countKey:"Colors",token:"${c}",parse:_i.parse},$F={regex:Gx,countKey:"Numbers",token:"${n}",parse:qc.parse};function Cy(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function h0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Cy(n,_F),Cy(n,LF),Cy(n,$F),n}function FF(e){return h0(e).values}function RF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=h0(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(_F.token,s[l]):l<r+n?o=o.replace(LF.token,_i.transform(s[l])):o=o.replace($F.token,Af(s[l]));return o}}const ahe=e=>typeof e=="number"?0:e;function she(e){const t=FF(e);return RF(e)(t.map(ahe))}const Ml={test:ihe,parse:FF,createTransformer:RF,getAnimatableNone:she},BF=(e,t)=>n=>`${n>0?t:e}`;function zF(e,t){return typeof e=="number"?n=>mr(e,t,n):_i.test(e)?IF(e,t):e.startsWith("var(")?BF(e,t):VF(e,t)}const UF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>zF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},ohe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=zF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},VF=(e,t)=>{const n=Ml.createTransformer(t),r=h0(e),i=h0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jl(UF(r.values,i.values),n):BF(e,t)},ym=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},DT=(e,t)=>n=>mr(e,t,n);function lhe(e){return typeof e=="number"?DT:typeof e=="string"?_i.test(e)?IF:VF:Array.isArray(e)?UF:typeof e=="object"?ohe:DT}function che(e,t,n){const r=[],i=n||lhe(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ir:t;o=jl(l,o)}r.push(o)}return r}function WF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(RN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=che(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=ym(e[d],e[d+1],c);return s[d](f)};return n?c=>l(El(e[0],e[a-1],c)):l}function uhe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ym(0,t,r);e.push(mr(n,1,i))}}function dhe(e){const t=[0];return uhe(t,e.length-1),t}function fhe(e,t){return e.map(n=>n*t)}function mhe(e,t){return e.map(()=>t||PF).splice(0,e.length-1)}function p0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Gme(r)?r.map(AT):AT(r),a={done:!1,value:t[0]},s=fhe(n&&n.length===t.length?n:dhe(t),e),o=WF(s,t,{ease:Array.isArray(i)?i:mhe(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function HF(e,t){return t?e*(1e3/t):0}const hhe=5;function qF(e,t,n){const r=Math.max(t-hhe,0);return HF(n-e(r),t-r)}const jy=.001,phe=.01,ghe=10,xhe=.05,vhe=1;function yhe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=El(xhe,vhe,s),e=El(phe,ghe,wo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=zw(c,s),p=Math.exp(-f);return jy-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=zw(Math.pow(c,2),s);return(-i(c)+jy>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-jy+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=whe(i,a,o);if(e=kc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const bhe=12;function whe(e,t,n){let r=n;for(let i=1;i<bhe;i++)r=r-e(r)/t(r);return r}function zw(e,t){return e*Math.sqrt(1-t*t)}const khe=["duration","bounce"],She=["stiffness","damping","mass"];function TT(e,t){return t.some(n=>e[n]!==void 0)}function Nhe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!TT(e,She)&&TT(e,khe)){const n=yhe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function KF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Nhe({...r,velocity:-wo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=wo(Math.sqrt(o/c)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let w;if(p<1){const b=zw(y,p);w=N=>{const C=Math.exp(-p*y*N);return a-C*((m+p*y*g)/b*Math.sin(b*N)+g*Math.cos(b*N))}}else if(p===1)w=b=>a-Math.exp(-y*b)*(g+(m+y*g)*b);else{const b=y*Math.sqrt(p*p-1);w=N=>{const C=Math.exp(-p*y*N),S=Math.min(b*N,300);return a-C*((m+p*y*g)*Math.sinh(S)+b*g*Math.cosh(S))/b}}return{calculatedDuration:h&&d||null,next:b=>{const N=w(b);if(h)s.done=b>=d;else{let C=m;b!==0&&(p<1?C=qF(w,b,N):C=0);const S=Math.abs(C)<=n,j=Math.abs(a-N)<=t;s.done=S&&j}return s.value=s.done?a:N,s}}}function ET({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const w=E=>-g*Math.exp(-E/r),b=E=>x+w(E),N=E=>{const $=w(E),D=b(E);h.done=Math.abs($)<=c,h.value=h.done?x:D};let C,S;const j=E=>{m(h.value)&&(C=E,S=KF({keyframes:[h.value,p(h.value)],velocity:qF(b,E,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:E=>{let $=!1;return!S&&C===void 0&&($=!0,N(E),j(E)),C!==void 0&&E>C?S.next(E-C):(!$&&N(E),h)}}}const Che=e=>{const t=({timestamp:n})=>e(n);return{start:()=>sr.update(t,!0),stop:()=>Mo(t),now:()=>ki.isProcessing?ki.timestamp:performance.now()}},MT=2e4;function OT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<MT;)t+=n,r=e.next(t);return t>=MT?1/0:t}const jhe={decay:ET,inertia:ET,tween:p0,keyframes:p0,spring:KF};function g0({autoplay:e=!0,delay:t=0,driver:n=Che,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const x=()=>{y=new Promise(A=>{g=A})};x();let w;const b=jhe[i]||p0;let N;b!==p0&&typeof r[0]!="number"&&(N=WF([0,100],r,{clamp:!1}),r=[0,100]);const C=b({...h,keyframes:r});let S;o==="mirror"&&(S=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",E=null,$=null,D=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=OT(C));const{calculatedDuration:_}=C;let O=1/0,G=1/0;_!==null&&(O=_+s,G=O*(a+1)-s);let Q=0;const ce=A=>{if($===null)return;m>0&&($=Math.min($,A)),m<0&&($=Math.min(A-G/m,$)),E!==null?Q=E:Q=Math.round(A-$)*m;const ae=Q-t*(m>=0?1:-1),k=m>=0?ae<0:ae>G;Q=Math.max(ae,0),j==="finished"&&E===null&&(Q=G);let z=Q,U=C;if(a){const F=Math.min(Q,G)/O;let B=Math.floor(F),V=F%1;!V&&F>=1&&(V=1),V===1&&B--,B=Math.min(B,a+1),!!(B%2)&&(o==="reverse"?(V=1-V,s&&(V-=s/O)):o==="mirror"&&(U=S)),z=El(0,1,V)*O}const J=k?{done:!1,value:r[0]}:U.next(z);N&&(J.value=N(J.value));let{done:Z}=J;!k&&_!==null&&(Z=m>=0?Q>=G:Q<=0);const ie=E===null&&(j==="finished"||j==="running"&&Z);return f&&f(J.value),ie&&W(),J},pe=()=>{w&&w.stop(),w=void 0},X=()=>{j="idle",pe(),g(),x(),$=D=null},W=()=>{j="finished",d&&d(),pe(),g()},ue=()=>{if(p)return;w||(w=n(ce));const A=w.now();l&&l(),E!==null?$=A-E:(!$||j==="finished")&&($=A),j==="finished"&&x(),D=$,E=null,j="running",w.start()};e&&ue();const M={then(A,ae){return y.then(A,ae)},get time(){return wo(Q)},set time(A){A=kc(A),Q=A,E!==null||!w||m===0?E=A:$=w.now()-A/m},get duration(){const A=C.calculatedDuration===null?OT(C):C.calculatedDuration;return wo(A)},get speed(){return m},set speed(A){A===m||!w||(m=A,M.time=wo(Q))},get state(){return j},play:ue,pause:()=>{j="paused",E=Q},stop:()=>{p=!0,j!=="idle"&&(j="idle",c&&c(),X())},cancel:()=>{D!==null&&ce(D),X()},complete:()=>{j="finished"},sample:A=>($=0,ce(A))};return M}function Ahe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Phe=Ahe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dhe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),dp=10,The=2e4,Ehe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!NF(t.ease);function Mhe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Phe()&&Dhe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(b=>{o=b})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Ehe(t,i)){const b=g0({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const C=[];let S=0;for(;!N.done&&S<The;)N=b.sample(S),C.push(N.value),S+=dp;p=void 0,f=C,h=S-dp,m="linear"}const g=zme(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,sr.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(Ume(f,i)),r&&r(),x())},{then(b,N){return l.then(b,N)},attachTimeline(b){return g.timeline=b,g.onfinish=null,Ir},get time(){return wo(g.currentTime||0)},set time(b){g.currentTime=kc(b)},get speed(){return g.playbackRate},set speed(b){g.playbackRate=b},get duration(){return wo(h)},play:()=>{s||(g.play(),Mo(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:b}=g;if(b){const N=g0({...i,autoplay:!1});e.setWithVelocity(N.sample(b-dp).value,N.sample(b).value,dp)}x()},complete:()=>{c||g.finish()},cancel:x}}function Ohe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ir,pause:Ir,stop:Ir,then:a=>(a(),Promise.resolve()),cancel:Ir,complete:Ir});return t?g0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Ihe={type:"spring",stiffness:500,damping:25,restSpeed:10},_he=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lhe={type:"keyframes",duration:.8},$he={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fhe=(e,{keyframes:t})=>t.length>2?Lhe:Hc.has(e)?e.startsWith("scale")?_he(t[1]):Ihe:$he,Uw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ml.test(t)||t==="0")&&!t.startsWith("url(")),Rhe=new Set(["brightness","contrast","saturate","opacity"]);function Bhe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Gx)||[];if(!r)return e;const i=n.replace(r,"");let a=Rhe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const zhe=/([a-z-]*)\(.*?\)/g,Vw={...Ml,getAnimatableNone:e=>{const t=e.match(zhe);return t?t.map(Bhe).join(" "):e}},Uhe={...lF,color:_i,backgroundColor:_i,outlineColor:_i,fill:_i,stroke:_i,borderColor:_i,borderTopColor:_i,borderRightColor:_i,borderBottomColor:_i,borderLeftColor:_i,filter:Vw,WebkitFilter:Vw},VN=e=>Uhe[e];function GF(e,t){let n=VN(e);return n!==Vw&&(n=Ml),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YF=e=>/^0[^.\s]+$/.test(e);function Vhe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||YF(e)}function Whe(e,t,n,r){const i=Uw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),Vhe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=GF(t,o)}return a}function Hhe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function WN(e,t){return e[t]||e.default||e}const qhe={skipAnimations:!1},HN=(e,t,n,r={})=>i=>{const a=WN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-kc(s);const l=Whe(t,e,n,a),c=l[0],d=l[l.length-1],f=Uw(e,c),h=Uw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Hhe(a)||(m={...m,...Fhe(e,m)}),m.duration&&(m.duration=kc(m.duration)),m.repeatDelay&&(m.repeatDelay=kc(m.repeatDelay)),!f||!h||Bme.current||a.type===!1||qhe.skipAnimations)return Ohe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Mhe(t,e,m);if(p)return p}return g0(m)};function x0(e){return!!(oa(e)&&e.add)}const XF=e=>/^\-?\d*\.?\d+$/.test(e);function qN(e,t){e.indexOf(t)===-1&&e.push(t)}function KN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class GN{constructor(){this.subscriptions=[]}add(t){return qN(this.subscriptions,t),()=>KN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Khe=e=>!isNaN(parseFloat(e));class Ghe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=ki;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,sr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Khe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new GN);const r=this.events[t].add(n);return t==="change"?()=>{r(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?HF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ld(e,t){return new Ghe(e,t)}const QF=e=>t=>t.test(e),Yhe={test:e=>e==="auto",parse:e=>e},ZF=[qc,Kt,Hs,rl,tme,eme,Yhe],Zd=e=>ZF.find(QF(e)),Xhe=[...ZF,_i,Ml],Qhe=e=>Xhe.find(QF(e));function Zhe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ld(n))}function Jhe(e,t){const n=Xx(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=gme(a[s]);Zhe(e,s,o)}}function epe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(XF(d)||YF(d))?d=parseFloat(d):!Qhe(d)&&Ml.test(c)&&(d=GF(l,c)),e.addValue(l,ld(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function tpe(e,t){return t?(t[e]||t.default||t).from:void 0}function npe(e,t,n){const r={};for(const i in e){const a=tpe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function rpe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ipe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function JF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&rpe(d,f))continue;const p={delay:n,elapsed:0,...WN(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[eF];if(x){const w=window.HandoffAppearAnimations(x,f,h,sr);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let g=!p.isHandoff&&!ipe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(HN(f,h,m,e.shouldReduceMotion&&Hc.has(f)?{type:!1}:p));const y=h.animation;x0(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&Jhe(e,s)}),c}function Ww(e,t,n={}){const r=Xx(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(JF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return ape(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function ape(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(spe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(Ww(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function spe(e,t){return e.sortNodePosition(t)}function ope(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Ww(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=Ww(e,t,n);else{const i=typeof t=="function"?Xx(e,t,n.custom):t;r=Promise.all(JF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const lpe=[...TN].reverse(),cpe=TN.length;function upe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ope(e,n,r)))}function dpe(e){let t=upe(e);const n=mpe();let r=!0;const i=(l,c)=>{const d=Xx(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<cpe;x++){const w=lpe[x],b=n[w],N=d[w]!==void 0?d[w]:f[w],C=xm(N),S=w===c?b.isActive:null;S===!1&&(g=x);let j=N===f[w]&&N!==d[w]&&C;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...p},!b.isActive&&S===null||!N&&!b.prevProp||qx(N)||typeof N=="boolean")continue;let $=fpe(b.prevProp,N)||w===c&&b.isActive&&!j&&C||x>g&&C,D=!1;const _=Array.isArray(N)?N:[N];let O=_.reduce(i,{});S===!1&&(O={});const{prevResolvedValues:G={}}=b,Q={...G,...O},ce=pe=>{$=!0,m.has(pe)&&(D=!0,m.delete(pe)),b.needsAnimating[pe]=!0};for(const pe in Q){const X=O[pe],W=G[pe];if(p.hasOwnProperty(pe))continue;let ue=!1;m0(X)&&m0(W)?ue=!kF(X,W):ue=X!==W,ue?X!==void 0?ce(pe):m.add(pe):X!==void 0&&m.has(pe)?ce(pe):b.protectedKeys[pe]=!0}b.prevProp=N,b.prevResolvedValues=O,b.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&($=!1),$&&(!j||D)&&h.push(..._.map(pe=>({animation:pe,options:{type:w,...l}})))}if(m.size){const x={};m.forEach(w=>{const b=e.getBaseTarget(w);b!==void 0&&(x[w]=b)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function fpe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kF(t,e):!1}function Xl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mpe(){return{animate:Xl(!0),whileInView:Xl(),whileHover:Xl(),whileTap:Xl(),whileDrag:Xl(),whileFocus:Xl(),exit:Xl()}}class hpe extends zl{constructor(t){super(t),t.animationState||(t.animationState=dpe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),qx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let ppe=0;class gpe extends zl{constructor(){super(...arguments),this.id=ppe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xpe={animation:{Feature:hpe},exit:{Feature:gpe}},IT=(e,t)=>Math.abs(e-t);function vpe(e,t){const n=IT(e.x,t.x),r=IT(e.y,t.y);return Math.sqrt(n**2+r**2)}class eR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Py(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=vpe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=ki;this.history.push({...p,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ay(h,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Py(f.type==="pointercancel"?this.lastMoveEventInfo:Ay(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!xF(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Yx(t),o=Ay(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=ki;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Py(o,this.history)),this.removeListeners=jl(bo(this.contextWindow,"pointermove",this.handlePointerMove),bo(this.contextWindow,"pointerup",this.handlePointerUp),bo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mo(this.updatePoint)}}function Ay(e,t){return t?{point:t(e.point)}:e}function _T(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Py({point:e},t){return{point:e,delta:_T(e,tR(t)),offset:_T(e,ype(t)),velocity:bpe(t,.1)}}function ype(e){return e[0]}function tR(e){return e[e.length-1]}function bpe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=tR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>kc(t)));)n--;if(!r)return{x:0,y:0};const a=wo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Pa(e){return e.max-e.min}function Hw(e,t=0,n=.01){return Math.abs(e-t)<=n}function LT(e,t,n,r=.5){e.origin=r,e.originPoint=mr(t.min,t.max,e.origin),e.scale=Pa(n)/Pa(t),(Hw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=mr(n.min,n.max,e.origin)-e.originPoint,(Hw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Pf(e,t,n,r){LT(e.x,t.x,n.x,r?r.originX:void 0),LT(e.y,t.y,n.y,r?r.originY:void 0)}function $T(e,t,n){e.min=n.min+t.min,e.max=e.min+Pa(t)}function wpe(e,t,n){$T(e.x,t.x,n.x),$T(e.y,t.y,n.y)}function FT(e,t,n){e.min=t.min-n.min,e.max=e.min+Pa(t)}function Df(e,t,n){FT(e.x,t.x,n.x),FT(e.y,t.y,n.y)}function kpe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?mr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?mr(n,e,r.max):Math.min(e,n)),e}function RT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Spe(e,{top:t,left:n,bottom:r,right:i}){return{x:RT(e.x,n,i),y:RT(e.y,t,r)}}function BT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Npe(e,t){return{x:BT(e.x,t.x),y:BT(e.y,t.y)}}function Cpe(e,t){let n=.5;const r=Pa(e),i=Pa(t);return i>r?n=ym(t.min,t.max-r,e.min):r>i&&(n=ym(e.min,e.max-i,t.min)),El(0,1,n)}function jpe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qw=.35;function Ape(e=qw){return e===!1?e=0:e===!0&&(e=qw),{x:zT(e,"left","right"),y:zT(e,"top","bottom")}}function zT(e,t,n){return{min:UT(e,t),max:UT(e,n)}}function UT(e,t){return typeof e=="number"?e:e[t]||0}const VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eu=()=>({x:VT(),y:VT()}),WT=()=>({min:0,max:0}),Lr=()=>({x:WT(),y:WT()});function Fa(e){return[e("x"),e("y")]}function nR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ppe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Dpe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dy(e){return e===void 0||e===1}function Kw({scale:e,scaleX:t,scaleY:n}){return!Dy(e)||!Dy(t)||!Dy(n)}function rc(e){return Kw(e)||rR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function rR(e){return HT(e.x)||HT(e.y)}function HT(e){return e&&e!=="0%"}function v0(e,t,n){const r=e-n,i=t*r;return n+i}function qT(e,t,n,r,i){return i!==void 0&&(e=v0(e,i,r)),v0(e,n,r)+t}function Gw(e,t=0,n=1,r,i){e.min=qT(e.min,t,n,r,i),e.max=qT(e.max,t,n,r,i)}function iR(e,{x:t,y:n}){Gw(e.x,t.translate,t.scale,t.originPoint),Gw(e.y,n.translate,n.scale,n.originPoint)}function Tpe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Mu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,iR(e,s)),r&&rc(a.latestValues)&&Mu(e,a.latestValues))}t.x=KT(t.x),t.y=KT(t.y)}function KT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ll(e,t){e.min=e.min+t,e.max=e.max+t}function GT(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=mr(e.min,e.max,a);Gw(e,t[n],t[r],s,t.scale)}const Epe=["x","scaleX","originX"],Mpe=["y","scaleY","originY"];function Mu(e,t){GT(e.x,t,Epe),GT(e.y,t,Mpe)}function aR(e,t){return nR(Dpe(e.getBoundingClientRect(),t))}function Ope(e,t,n){const r=aR(e,n),{scroll:i}=t;return i&&(ll(r.x,i.offset.x),ll(r.y,i.offset.y)),r}const sR=({current:e})=>e?e.ownerDocument.defaultView:null,Ipe=new WeakMap;class _pe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yx(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yF(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Hs.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[y];b&&(x=Pa(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&sr.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Lpe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new eR(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:sR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&sr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!fp(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=kpe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Du(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Spe(i.layoutBox,n):this.constraints=!1,this.elastic=Ape(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=jpe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Du(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ope(r,i.root,this.visualElement.getTransformPagePoint());let s=Npe(i.layout.layoutBox,a);if(n){const o=n(Ppe(s));this.hasMutatedConstraints=!!o,o&&(s=nR(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Fa(d=>{if(!fp(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(HN(t,r,0,n))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fa(n=>{const{drag:r}=this.getProps();if(!fp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-mr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Du(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fa(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Cpe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fa(s=>{if(!fp(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(mr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Ipe.set(this.visualElement,this);const t=this.visualElement.current,n=bo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Du(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=go(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=qw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function fp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Lpe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class $pe extends zl{constructor(t){super(t),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new _pe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const YT=e=>(t,n)=>{e&&sr.update(()=>e(t,n))};class Fpe extends zl{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(t){this.session=new eR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:YT(t),onStart:YT(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&sr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=bo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Rpe(){const e=v.useContext(PN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const _p={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Kt.test(e))e=parseFloat(e);else return e;const n=XT(e,t.target.x),r=XT(e,t.target.y);return`${n}% ${r}%`}},Bpe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ml.parse(e);if(i.length>5)return r;const a=Ml.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=mr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class zpe extends b0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;Kfe(Upe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_p.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||sr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oR(e){const[t,n]=Rpe(),r=v.useContext(nF);return b0.createElement(zpe,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(rF),isPresent:t,safeToRemove:n})}const Upe={borderRadius:{...Jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jd,borderTopRightRadius:Jd,borderBottomLeftRadius:Jd,borderBottomRightRadius:Jd,boxShadow:Bpe},lR=["TopLeft","TopRight","BottomLeft","BottomRight"],Vpe=lR.length,QT=e=>typeof e=="string"?parseFloat(e):e,ZT=e=>typeof e=="number"||Kt.test(e);function Wpe(e,t,n,r,i,a){i?(e.opacity=mr(0,n.opacity!==void 0?n.opacity:1,Hpe(r)),e.opacityExit=mr(t.opacity!==void 0?t.opacity:1,0,qpe(r))):a&&(e.opacity=mr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Vpe;s++){const o=`border${lR[s]}Radius`;let l=JT(t,o),c=JT(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ZT(l)===ZT(c)?(e[o]=Math.max(mr(QT(l),QT(c),r),0),(Hs.test(c)||Hs.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=mr(t.rotate||0,n.rotate||0,r))}function JT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Hpe=cR(0,.5,EF),qpe=cR(.5,.95,Ir);function cR(e,t,n){return r=>r<e?0:r>t?1:n(ym(e,t,r))}function eE(e,t){e.min=t.min,e.max=t.max}function _a(e,t){eE(e.x,t.x),eE(e.y,t.y)}function tE(e,t,n,r,i){return e-=t,e=v0(e,1/n,r),i!==void 0&&(e=v0(e,1/i,r)),e}function Kpe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Hs.test(t)&&(t=parseFloat(t),t=mr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=mr(a.min,a.max,r);e===a&&(o-=t),e.min=tE(e.min,t,n,o,i),e.max=tE(e.max,t,n,o,i)}function nE(e,t,[n,r,i],a,s){Kpe(e,t[n],t[r],t[i],t.scale,a,s)}const Gpe=["x","scaleX","originX"],Ype=["y","scaleY","originY"];function rE(e,t,n,r){nE(e.x,t,Gpe,n?n.x:void 0,r?r.x:void 0),nE(e.y,t,Ype,n?n.y:void 0,r?r.y:void 0)}function iE(e){return e.translate===0&&e.scale===1}function uR(e){return iE(e.x)&&iE(e.y)}function Xpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function dR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function aE(e){return Pa(e.x)/Pa(e.y)}class Qpe{constructor(){this.members=[]}add(t){qN(this.members,t),t.scheduleRender()}remove(t){if(KN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const Zpe=(e,t)=>e.depth-t.depth;class Jpe{constructor(){this.children=[],this.isDirty=!1}add(t){qN(this.children,t),this.isDirty=!0}remove(t){KN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Zpe),this.isDirty=!1,this.children.forEach(t)}}function ege(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Mo(r),e(a-t))};return sr.read(r,!0),()=>Mo(r)}function tge(e){window.MotionDebug&&window.MotionDebug.record(e)}function nge(e){return e instanceof SVGElement&&e.tagName!=="svg"}function rge(e,t,n){const r=oa(e)?e:ld(e);return r.start(HN("",r,t,n)),r.animation}const oE=["","X","Y","Z"],ige={visibility:"hidden"},lE=1e3;let age=0;const ic={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=age++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ic.totalNodes=ic.resolvedTargetDeltas=ic.recalculatedProjection=0,this.nodes.forEach(lge),this.nodes.forEach(mge),this.nodes.forEach(hge),this.nodes.forEach(cge),tge(ic)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jpe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new GN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nge(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ege(h,250),_p.hasAnimatedSinceResize&&(_p.hasAnimatedSinceResize=!1,this.nodes.forEach(uE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||yge,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!dR(this.targetLayout,p)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const N={...WN(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||uE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pge),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cE);return}this.isUpdating||this.nodes.forEach(dge),this.isUpdating=!1,this.nodes.forEach(fge),this.nodes.forEach(sge),this.nodes.forEach(oge),this.clearAllSnapshots();const o=performance.now();ki.delta=El(0,1e3/60,o-ki.timestamp),ki.timestamp=o,ki.isProcessing=!0,yy.update.process(ki),yy.preRender.process(ki),yy.render.process(ki),ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(uge),this.sharedNodes.forEach(gge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!uR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||rc(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),bge(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Lr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(ll(o.x,l.offset.x),ll(o.y,l.offset.y)),o}removeElementScroll(s){const o=Lr();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){_a(o,s);const{scroll:h}=this.root;h&&(ll(o.x,-h.offset.x),ll(o.y,-h.offset.y))}ll(o.x,d.offset.x),ll(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Lr();_a(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rc(d.latestValues)&&Mu(l,d.latestValues)}return rc(this.latestValues)&&Mu(l,this.latestValues),l}removeTransform(s){const o=Lr();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!rc(c.latestValues))continue;Kw(c.latestValues)&&c.updateSnapshot();const d=Lr(),f=c.measurePageBox();_a(d,f),rE(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return rc(this.latestValues)&&rE(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ki.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),Df(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lr(),this.targetWithTransforms=Lr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wpe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),iR(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),Df(this.relativeTargetOrigin,this.target,m.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ic.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kw(this.parent.latestValues)||rR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ki.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_a(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Tpe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=Eu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Eu(),this.projectionDeltaWithTransform=Eu());const g=this.projectionTransform;Pf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=sE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),ic.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Eu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Lr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),x=!y||y.members.length<=1,w=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(vge));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const C=N/1e3;dE(f.x,s.x,C),dE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Df(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xge(this.relativeTarget,this.relativeTargetOrigin,h,C),b&&Xpe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Lr()),_a(b,this.relativeTarget)),g&&(this.animationValues=d,Wpe(d,c,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{_p.hasAnimatedSinceResize=!0,this.currentAnimation=rge(0,lE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&mR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Lr();const f=Pa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Pa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}_a(o,l),Mu(o,d),Pf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Qpe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<oE.length;d++){const f="rotate"+oE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ige;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ip(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Ip(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!rc(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=sE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in d0){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=d0[g],w=c.transform==="none"?h[g]:y(h[g],f);if(x){const b=x.length;for(let N=0;N<b;N++)c[x[N]]=w}else c[g]=w}return this.options.layoutId&&(c.pointerEvents=f===this?Ip(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(cE),this.root.sharedNodes.clear()}}}function sge(e){e.updateLayout()}function oge(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Fa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Pa(h);h.min=r[f].min,h.max=h.min+m}):mR(a,n.layoutBox,r)&&Fa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Pa(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=Eu();Pf(o,r,n.layoutBox);const l=Eu();s?Pf(l,e.applyTransform(i,!0),n.measuredBox):Pf(l,r,n.layoutBox);const c=!uR(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Lr();Df(p,n.layoutBox,h.layoutBox);const g=Lr();Df(g,r,m.layoutBox),dR(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lge(e){ic.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cge(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uge(e){e.clearSnapshot()}function cE(e){e.clearMeasurements()}function dge(e){e.isLayoutDirty=!1}function fge(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function uE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mge(e){e.resolveTargetDelta()}function hge(e){e.calcProjection()}function pge(e){e.resetRotation()}function gge(e){e.removeLeadSnapshot()}function dE(e,t,n){e.translate=mr(t.translate,0,n),e.scale=mr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function fE(e,t,n,r){e.min=mr(t.min,n.min,r),e.max=mr(t.max,n.max,r)}function xge(e,t,n,r){fE(e.x,t.x,n.x,r),fE(e.y,t.y,n.y,r)}function vge(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yge={duration:.45,ease:[.4,0,.1,1]},mE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),hE=mE("applewebkit/")&&!mE("chrome/")?Math.round:Ir;function pE(e){e.min=hE(e.min),e.max=hE(e.max)}function bge(e){pE(e.x),pE(e.y)}function mR(e,t,n){return e==="position"||e==="preserve-aspect"&&!Hw(aE(t),aE(n),.2)}const wge=fR({attachResizeListener:(e,t)=>go(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},hR=fR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ty.current){const e=new wge({});e.mount(window),e.setOptions({layoutScroll:!0}),Ty.current=e}return Ty.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kge={pan:{Feature:Fpe},drag:{Feature:$pe,ProjectionNode:hR,MeasureLayout:oR}},Sge=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Nge(e){const t=Sge.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Yw(e,t,n=1){const[r,i]=Nge(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return XF(s)?parseFloat(s):s}else return Fw(i)?Yw(i,t,n+1):i}function Cge(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!Fw(a))return;const s=Yw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!Fw(a))continue;const s=Yw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const jge=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pR=e=>jge.has(e),Age=e=>Object.keys(e).some(pR),gE=e=>e===qc||e===Kt,xE=(e,t)=>parseFloat(e.split(", ")[t]),vE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return xE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?xE(a[1],e):0}},Pge=new Set(["x","y","z"]),Dge=ah.filter(e=>!Pge.has(e));function Tge(e){const t=[];return Dge.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const cd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vE(4,13),y:vE(5,14)};cd.translateX=cd.x;cd.translateY=cd.y;const Ege=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=cd[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=cd[c](l,a)}),e},Mge=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(pR);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Zd(d);const h=t[l];let m;if(m0(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Zd(d);for(let y=g;y<p&&h[y]!==null;y++)m?RN(Zd(h[y])===m):m=Zd(h[y])}else m=Zd(h);if(f!==m)if(gE(f)&&gE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Kt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=Tge(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Ege(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Hx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Oge(e,t,n,r){return Age(t)?Mge(e,t,n,r):{target:t,transitionEnd:r}}const Ige=(e,t,n,r)=>{const i=Cge(e,t,r);return t=i.target,r=i.transitionEnd,Oge(e,t,n,r)},Xw={current:null},gR={current:!1};function _ge(){if(gR.current=!0,!!Hx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xw.current=e.matches;e.addListener(t),t()}else Xw.current=!1}function Lge(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(oa(a))e.addValue(i,a),x0(r)&&r.add(i);else if(oa(s))e.addValue(i,ld(a,{owner:e})),x0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,ld(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const yE=new WeakMap,xR=Object.keys(vm),$ge=xR.length,bE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fge=EN.length;class Rge{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Kx(n),this.isVariantNode=tF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&oa(h)&&(h.set(o[f],!1),x0(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,yE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gR.current||_ge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yE.delete(this.current),this.projection&&this.projection.unmount(),Mo(this.notifyUpdate),Mo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Hc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&sr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<$ge;l++){const c=xR[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=vm[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Du(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bE.length;r++){const i=bE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Lge(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Fge;r++){const i=EN[r],a=this.props[i];(xm(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ld(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=FN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!oa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new GN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class vR extends Rge{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=npe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){epe(this,r,s);const o=Ige(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Bge(e){return window.getComputedStyle(e)}class zge extends vR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Hc.has(n)){const r=VN(n);return r&&r.default||0}else{const r=Bge(t),i=(sF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return aR(t,n)}build(t,n,r,i){ON(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return $N(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;oa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){fF(t,n,r,i)}}class Uge extends vR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hc.has(n)){const r=VN(n);return r&&r.default||0}return n=mF.has(n)?n:DN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Lr()}scrapeMotionValuesFromProps(t,n){return pF(t,n)}build(t,n,r,i){_N(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){hF(t,n,r,i)}mount(t){this.isSVGTag=LN(t.tagName),super.mount(t)}}const Vge=(e,t)=>MN(e)?new Uge(t,{enableHardwareAcceleration:!1}):new zge(t,{enableHardwareAcceleration:!0}),Wge={layout:{ProjectionNode:hR,MeasureLayout:oR}},Hge={...xpe,...$me,...kge,...Wge},Ls=Hfe((e,t)=>Nme(e,t,Hge,Vge));function qge({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,w)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:b=>{b.preventDefault(),c(x)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),u.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${w}-${x.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Ti,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,w)=>{const b=x.id===m;return u.jsxs("button",{"data-toc-active":b?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${b?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${b?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${w}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Ql="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",Qw="arcbridge_web_theme_override",wE="arcbridge_web_kinetic_font_override",kE="__default__",yR=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},SE=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Kge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},Gge=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},Yge=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},Zw=e=>e?e===lN?!0:cf.some(t=>t.id===e):!1,Xge=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&Zw(t))return t;const n=yR(Qw);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&Zw(i)?i:null}catch{return null}},NE=(e,t)=>e?e===a0?"matte":e===s0||e===kf?"kinetic":e===lN?"crt":t==="modern"||t==="classic"?t:"classic":t,CE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Qge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},jE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Zge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},Jge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function e0e(){var Qc;const e=Xge(),[t,n]=v.useState(null),[r,i]=v.useState(null),[a,s]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(""),[f,h]=v.useState(null),[m,p]=v.useState(null),[g,y]=v.useState(!1),[x,w]=v.useState(!1),[b,N]=v.useState(()=>NE(e,"classic")),[C,S]=v.useState("classic"),[j,E]=v.useState(Ep.id),[$,D]=v.useState(e),_=v.useMemo(()=>{const K=new URLSearchParams(window.location.search),we=K.get("themeId")||K.get("theme");return we&&Zw(we)?we:null},[]),[O,G]=v.useState("default"),[Q,ce]=v.useState(!1),[pe,X]=v.useState(!1),[W,ue]=v.useState(!1),[M,A]=v.useState(""),[ae,k]=v.useState(""),[z,U]=v.useState([]),[J,Z]=v.useState(!1),[ie,F]=v.useState("overview"),[B,V]=v.useState("kdr"),[Y,R]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),oe=v.useRef(null),q=v.useRef(null),te=v.useRef(null),Oe=v.useRef(null),Ie=v.useRef(null),he=v.useRef(null),L=v.useRef(new Map),ke=v.useRef(null),Ne=v.useRef(null),ct=v.useMemo(()=>{let K=window.location.pathname||"/";const we=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return K.endsWith("/index.html")&&(K=K.slice(0,-11)),K.includes("/reports/")&&(K=K.replace(/\/reports\/[^/]+\/?$/,"")),we&&(K=K.replace(/^\/web\/web(?=\/|$)/,"/web")),K.endsWith("/")||(K=`${K}/`),K},[]),Ot=v.useMemo(()=>new URL(ct,window.location.origin).toString(),[ct]),dn=v.useMemo(()=>_?Gge(Ot,_):Ot,[_,Ot]),ve=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Ke=v.useMemo(()=>{const we=[ct,"./","/"],Le=[];return we.forEach(pt=>{let Tt=pt||"/";Tt!=="./"&&!Tt.endsWith("/")&&(Tt=`${Tt}/`),Le.includes(Tt)||Le.push(Tt)}),Le},[ct,ve]),[jt,en]=v.useState(Ke[0]||"/"),Gt=K=>{var we;return typeof K=="string"||typeof K=="number"?String(K):Array.isArray(K)?K.map(Gt).join(""):K&&typeof K=="object"&&"props"in K?Gt((we=K.props)==null?void 0:we.children):""},yr=K=>{const we=jE(K||"section")||"section",Le=L.current,pt=(Le.get(we)??0)+1;return Le.set(we,pt),pt===1?we:`${we}-${pt}`},$n=v.useMemo(()=>{const K=vy.split(`
`),we=new Map,Le=[],pt=Tt=>{const zt=jE(Tt||"section")||"section",on=(we.get(zt)??0)+1;return we.set(zt,on),on===1?zt:`${zt}-${on}`};for(const Tt of K){const zt=/^(#{1,3})\s+(.*)\s*$/.exec(Tt);if(!zt)continue;const on=zt[1].length,St=zt[2].trim();St&&Le.push({level:on,text:St,id:pt(St)})}return Le},[vy]),sn=(K,we)=>{const Le=K==="./"?"./":K.endsWith("/")?K:`${K}/`,pt=String(we||"").replace(/^\/+/,"");return`${Le}${pt}`};v.useEffect(()=>{const K=yR(wE);(K==="original"||K==="default")&&G(K)},[]),v.useEffect(()=>{const K=$||j,we=cf.find(Le=>Le.id===K)||Ep;h(we)},[$,j]),v.useEffect(()=>{if(!$){N(C);return}N(NE($,C))},[$,C]),v.useEffect(()=>{en(Ke[0]||"/");let K=!0;return(async()=>{for(const Le of Ke)try{if((await fetch(sn(Le,"ui-theme.json"),{cache:"no-store"})).ok){K&&en(Le);return}}catch{}})(),()=>{K=!1}},[Ke]);const Qa=(K,we)=>{const Le=we.trim();if(!Le)return K;const pt=K.toLowerCase(),Tt=Le.toLowerCase(),zt=pt.indexOf(Tt);if(zt===-1)return K;const on=K.slice(0,zt),St=K.slice(zt,zt+Le.length),xt=K.slice(zt+Le.length);return u.jsxs(u.Fragment,{children:[on,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:St}),xt]})},fn=(K,we)=>{const Le=q.current;if(!Le)return;let pt=Le.querySelector(`[data-search-hit="${K}"]`);if(!pt&&we){const Tt=we.trim().replace(/\s+/g," "),zt=Array.from(Le.querySelectorAll("h1, h2, h3, p, li, code"));pt=zt.find(on=>(on.textContent||"").trim().replace(/\s+/g," ")===Tt)||null,pt||(pt=zt.find(on=>(on.textContent||"").toLowerCase().includes(Tt.toLowerCase()))||null)}pt&&requestAnimationFrame(()=>{const Tt=Le.getBoundingClientRect(),zt=pt.getBoundingClientRect(),on=Math.max(0,Le.scrollTop+(zt.top-Tt.top)-12);Le.scrollTop=on,pt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),he.current&&window.clearTimeout(he.current),he.current=window.setTimeout(()=>{pt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Sn=K=>{const we=q.current,Le=K.trim().toLowerCase();if(!we||Le.length<2){U([]);return}const pt=Array.from(we.querySelectorAll("h1, h2, h3, p, li, code"));pt.forEach(on=>on.removeAttribute("data-search-hit"));const Tt=[];let zt=0;pt.forEach((on,St)=>{const xt=(on.textContent||"").trim();if(xt&&xt.toLowerCase().includes(Le)){let _n="";for(let T=St;T>=0;T-=1){const P=pt[T];if(P&&["H1","H2","H3"].includes(P.tagName)){_n=(P.textContent||"").trim();break}}on.setAttribute("data-search-hit",String(zt)),Tt.push({index:St,text:xt,section:_n||"Unlabeled Section",hitId:zt}),zt+=1}}),U(Tt.slice(0,12))};v.useEffect(()=>{var we;if(!W)return;A(((we=$n[0])==null?void 0:we.id)||"");const K=Le=>{var Tt;const pt=Le.target;pt&&((Tt=te.current)!=null&&Tt.contains(pt)||(Z(!1),U([])))};return window.addEventListener("mousedown",K),()=>{window.removeEventListener("mousedown",K)}},[W,$n]),v.useEffect(()=>{if(!W){A("");return}const K=q.current;if(!K)return;let we=0;const Le=()=>{var ne;const Tt=Array.from(K.querySelectorAll("[data-heading-id]"));if(Tt.length===0)return;const on=K.getBoundingClientRect().top+18,St=Tt.map((Ee,Se)=>({index:Se,id:Ee.dataset.headingId||Ee.id||"",top:Ee.getBoundingClientRect().top})).filter(Ee=>!!Ee.id);if(St.length===0)return;let xt=0,_n=!1;for(const Ee of St){if(Ee.top<=on){xt=Ee.index,_n=!0;continue}_n||(xt=Ee.index);break}K.scrollTop+K.clientHeight>=K.scrollHeight-2&&(xt=Math.max(0,St.length-1));const P=$n[xt],H=((ne=St[xt])==null?void 0:ne.id)||"",ge=(P==null?void 0:P.id)||H;ge&&A(ge)};Le();const pt=()=>{we&&cancelAnimationFrame(we),we=requestAnimationFrame(Le)};return K.addEventListener("scroll",pt,{passive:!0}),window.addEventListener("resize",pt),()=>{we&&cancelAnimationFrame(we),K.removeEventListener("scroll",pt),window.removeEventListener("resize",pt)}},[W,$n]);const Nn=v.useMemo(()=>[{id:"overview",label:"Overview",icon:lU,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:xc},{id:"fight-breakdown",label:"Fight Breakdown",icon:hl},{id:"top-players",label:"Top Players",icon:xc},{id:"top-skills-outgoing",label:"Top Skills",icon:K1},{id:"squad-composition",label:"Classes",icon:jr},{id:"timeline",label:"Squad vs Enemy Size",icon:jr},{id:"map-distribution",label:"Map Distribution",icon:Z1}]},{id:"roster",label:"Roster Intel",icon:Kf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Kf},{id:"squad-comp-fight",label:"Squad Comp",icon:jr},{id:"fight-comp",label:"Fight Comp",icon:hl}]},{id:"offense",label:"Offensive Stats",icon:hl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:q4},{id:"player-breakdown",label:"Player Breakdown",icon:Q1},{id:"damage-breakdown",label:"Damage Breakdown",icon:G1},{id:"spike-damage",label:"Spike Damage",icon:Gf},{id:"conditions-outgoing",label:"Conditions",icon:L0}]},{id:"defense",label:"Defensive Stats",icon:Xu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Xu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Gf},{id:"defense-mitigation",label:"Damage Mitigation",icon:nk},{id:"boon-output",label:"Boon Output",icon:tk},{id:"support-detailed",label:"Support Detailed",icon:J1},{id:"healing-stats",label:"Healing Stats",icon:KO}]},{id:"other",label:"Other Metrics",icon:$0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Y1},{id:"special-buffs",label:"Special Buffs",icon:og},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:rk},{id:"skill-usage",label:"Skill Usage",icon:X1},{id:"apm-stats",label:"APM Breakdown",icon:ek}]}],[]),pi=v.useMemo(()=>{const K=new Map;return Nn.forEach(we=>{K.set(we.id.toLowerCase(),we.id),(we.sectionIds||[]).forEach(Le=>K.set(String(Le).toLowerCase(),we.id)),(we.items||[]).forEach(Le=>K.set(String(Le.id).toLowerCase(),we.id))}),K.set("report-top","overview"),K.set("overview","overview"),K.set("kdr","overview"),K},[Nn]),_r=v.useMemo(()=>Nn.find(K=>K.id===ie)||Nn[0],[Nn,ie]),Ar=b==="kinetic",Kc=v.useMemo(()=>{const we=((_r==null?void 0:_r.sectionIds)||((_r==null?void 0:_r.items)||[]).map(Le=>Le.id)).map(Le=>Le==="kdr"?"overview":Le);return new Set(we)},[_r]),Qs=K=>{if(K==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const we=K==="kdr"?"overview":K,Le=we==="overview"&&K!=="kdr"?"report-top":we,pt=document.getElementById(Le);if(!pt||!(pt.getAttribute("data-section-visible")!=="false")||!pt.offsetParent)return!1;const zt=pt.getBoundingClientRect();if(zt.height<=0)return!1;let on=0;if(Le==="stats-view-top"){const xt=document.getElementById("report-top");xt&&(on=xt.getBoundingClientRect().height+12)}const St=zt.top+window.scrollY-12-on;return window.scrollTo({top:Math.max(0,St),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Le}`),!0},Uo=(K,we=0)=>{Qs(K)||we>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Uo(K,we+1))},40)};v.useEffect(()=>{if(!t)return;const K=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Le=>{Le.scrollHeight})});return()=>cancelAnimationFrame(K)},[t]),v.useEffect(()=>{const K=ke.current;if(!K)return;let we=0;const Le=()=>{if(Qs(K)){ke.current=null;return}if(we+=1,we>=20){ke.current=null;return}window.setTimeout(()=>requestAnimationFrame(Le),40)};requestAnimationFrame(Le)},[ie]),v.useEffect(()=>{const K=()=>{var zt,on;const we=(window.location.hash||"").replace(/^#/,"").trim();if(!we)return;let Le=we;try{Le=decodeURIComponent(we)}catch{Le=we}const pt=Le.toLowerCase(),Tt=pi.get(pt);if(Tt){if(F(Tt),R(()=>{const St={};return Nn.forEach(xt=>{St[xt.id]=xt.id===Tt}),St}),pt==="report-top")V("kdr");else{const St=Nn.find(xt=>xt.id.toLowerCase()===pt);V(((on=(zt=St==null?void 0:St.items)==null?void 0:zt[0])==null?void 0:on.id)||pt)}ke.current=pt==="report-top"?"kdr":pt}};return K(),window.addEventListener("hashchange",K),()=>{window.removeEventListener("hashchange",K)}},[pi,Nn]);const br=b==="matte",Za=f??Ep,Vr=Ar&&Za.id===kf,Ja=Ar?Vr?"142, 155, 214":"90, 80, 68":Za.rgb,Hi=br?"#d8e1eb":Ar?Vr?"#f0d8a9":"#24211d":"var(--accent)",da={"--accent":`rgb(${Ja})`,"--accent-rgb":Ja,"--accent-soft":`rgba(${Ja}, ${Ar?Vr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${Ja}, ${Ar?Vr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${Ja}, ${Ar?Vr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${Ja}, ${Ar?Vr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Ja}, ${Ar?Vr?"0.08":"0.04":"0.08"})`},Cs=b==="modern"||b==="matte"||b==="kinetic",Gc=Za.pattern?br||Ar?void 0:Cs?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Za.pattern}`:Za.pattern:void 0,fa=Ar?{backgroundImage:"none",backgroundColor:Vr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Vr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:br?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Cs?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var on;let K=!0;const Le=new URLSearchParams(window.location.search).get("report")||((on=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:on[1])||null,pt=Le?`${ct}reports/${Le}/report.json`:`${ct}report.json`;Le&&l(pt);const Tt=St=>{var T,P,H;const xt=new Set((((T=St==null?void 0:St.meta)==null?void 0:T.commanders)||[]).map(ge=>String(ge)));if(xt.size===0)return St;const _n=St.stats;return(P=_n==null?void 0:_n.leaderboards)!=null&&P.closestToTag&&(_n.leaderboards.closestToTag=_n.leaderboards.closestToTag.map(ge=>xt.has(String(ge==null?void 0:ge.account))?{...ge,value:0}:ge)),(H=_n==null?void 0:_n.closestToTag)!=null&&H.player&&xt.has(String(_n.closestToTag.player))&&(_n.closestToTag={..._n.closestToTag,value:0}),St},zt=St=>{var H,ge,ne,Ee,Se;const xt=St==null?void 0:St.stats;if(!xt||typeof xt!="object")return St;const _n=Array.isArray((H=xt==null?void 0:xt.leaderboards)==null?void 0:H.downContrib)?xt.leaderboards.downContrib:[];if(!_n.length)return St;const P=_n.map(Ge=>({...Ge,value:Number((Ge==null?void 0:Ge.value)??0)})).filter(Ge=>Number.isFinite(Ge.value)).sort((Ge,rt)=>rt.value-Ge.value||String((Ge==null?void 0:Ge.account)||"").localeCompare(String((rt==null?void 0:rt.account)||"")))[0];return P&&(xt.maxDownContrib={...xt.maxDownContrib||{},value:Number(P.value||0),player:String(P.account||((ge=xt.maxDownContrib)==null?void 0:ge.player)||"-"),count:Number(P.count||((ne=xt.maxDownContrib)==null?void 0:ne.count)||0),profession:String(P.profession||((Ee=xt.maxDownContrib)==null?void 0:Ee.profession)||"Unknown"),professionList:Array.isArray(P.professionList)?P.professionList:((Se=xt.maxDownContrib)==null?void 0:Se.professionList)||[]}),St};return fetch(pt,{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{var _n,T,P,H,ge;if(!K)return;const xt=zt(Tt(St));if(n(xt),!$){const ne=(_n=xt==null?void 0:xt.stats)==null?void 0:_n.uiTheme;ne==="modern"||ne==="classic"||ne==="crt"||ne==="matte"||ne==="kinetic"?S(ne):((T=xt==null?void 0:xt.stats)==null?void 0:T.webThemeId)===a0?S("matte"):(((P=xt==null?void 0:xt.stats)==null?void 0:P.webThemeId)===s0||((H=xt==null?void 0:xt.stats)==null?void 0:H.webThemeId)===kf)&&S("kinetic"),typeof((ge=xt==null?void 0:xt.stats)==null?void 0:ge.webThemeId)=="string"&&xt.stats.webThemeId&&E(xt.stats.webThemeId)}}).catch(()=>{if(Le){if(!K)return;s("Report not found yet. It may still be deploying.")}fetch(`${ct}reports/index.json`,{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{K&&i(Array.isArray(St)?St:[])}).catch(()=>{K&&s("No report data found.")})}),()=>{K=!1}},[ct,$]),v.useEffect(()=>{if(t){const K=t.meta.dateLabel||CE(t.meta.dateStart,t.meta.dateEnd);document.title=K?`ArcBridge  ${t.meta.title}  ${K}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var we;if($)return;const K=(we=t==null?void 0:t.stats)==null?void 0:we.webThemeId;typeof K=="string"&&K&&E(K)},[t,$]),v.useEffect(()=>{const K=document.body;K.classList.add("web-report"),K.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),br?K.classList.add("theme-matte"):b==="modern"?K.classList.add("theme-modern"):b==="crt"?K.classList.add("theme-crt"):b==="kinetic"?(K.classList.add("theme-kinetic"),Vr&&K.classList.add("theme-kinetic-dark"),O==="original"&&K.classList.add("theme-kinetic-font-original")):K.classList.add("theme-classic")},[b,br,Vr,O]),v.useEffect(()=>{var we;if($||ve&&((we=t==null?void 0:t.stats)!=null&&we.webThemeId))return;let K=!0;return fetch(sn(jt,"theme.json"),{cache:"no-store"}).then(Le=>Le.ok?Le.json():Promise.reject()).then(Le=>{K&&typeof(Le==null?void 0:Le.id)=="string"&&Le.id&&E(Le.id)}).catch(()=>{}),()=>{K=!1}},[jt,ve,t,$]),v.useEffect(()=>{var zt,on;if($)return;const K=(zt=t==null?void 0:t.stats)==null?void 0:zt.webThemeId,we=(on=t==null?void 0:t.stats)==null?void 0:on.uiTheme;if((we==="modern"||we==="classic"||we==="crt"||we==="matte"||we==="kinetic")&&!(K===a0&&we!=="matte"||(K===s0||K===kf)&&we!=="kinetic"||K==="CRT"&&we!=="crt"))return;let Tt=!0;return fetch(sn(jt,"ui-theme.json"),{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{if(!Tt)return;const xt=St==null?void 0:St.theme;(xt==="modern"||xt==="classic"||xt==="crt"||xt==="matte"||xt==="kinetic")&&S(xt)}).catch(()=>{}),()=>{Tt=!1}},[jt,t,$]),v.useEffect(()=>{let K=!0;return fetch(sn(jt,"logo.json"),{cache:"no-store"}).then(we=>we.ok?we.json():Promise.reject()).then(we=>{if(!K)return;const Le="svg/ArcBridge.svg",pt=we!=null&&we.path?String(we.path):Le,Tt=we!=null&&we.updatedAt?String(we.updatedAt):"",zt=sn(jt,pt),on=Tt?`${zt}?v=${encodeURIComponent(Tt)}`:zt;p(on),y(!(we!=null&&we.path)||pt===Le)}).catch(()=>{K&&(p(null),y(!1))}),()=>{K=!1}},[jt]);const es=v.useMemo(()=>r?[...r].sort((K,we)=>{const Le=new Date(K.dateEnd||K.dateStart).getTime();return new Date(we.dateEnd||we.dateStart).getTime()-Le}):[],[r]),ts=v.useMemo(()=>{if(!es.length)return[];const K=c.trim().toLowerCase();return K?es.filter(we=>{var Tt;const Le=((Tt=we.commanders)==null?void 0:Tt.join(" "))||"";return`${we.title} ${Le} ${we.dateLabel}`.toLowerCase().includes(K)}):es},[es,c]),Cd=K=>{if(!K){Kge(Qw);return}SE(Qw,JSON.stringify({themeId:K}))},Vo=K=>{const we=K===kE?null:K;we&&!cf.some(Le=>Le.id===we)||(D(we),Cd(we),ce(!1))},Yc=K=>{G(K),SE(wE,K),X(!1)};v.useEffect(()=>{const K=Le=>{if(!Oe.current)return;const pt=Le.target;Oe.current.contains(pt)||Ie.current&&Ie.current.contains(pt)||(ce(!1),X(!1))},we=Le=>{Le.key==="Escape"&&(ce(!1),X(!1))};return window.addEventListener("mousedown",K),window.addEventListener("keydown",we),()=>{window.removeEventListener("mousedown",K),window.removeEventListener("keydown",we)}},[]),v.useEffect(()=>()=>{Ne.current!==null&&(cancelAnimationFrame(Ne.current),Ne.current=null)},[]);const jd=v.useMemo(()=>{if(!$)return"Default";const K=cf.find(we=>we.id===$);return(K==null?void 0:K.label)||"Default"},[$]),Ad=u.jsxs("div",{className:"relative flex items-center gap-2",ref:Oe,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>ce(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:jd}),u.jsx("span",{className:`transition-transform ${Q?"rotate-180":""}`,children:""})]}),Q&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Vo(kE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),cf.map(K=>u.jsx("button",{type:"button",onClick:()=>Vo(K.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${$===K.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:K.label},K.id))]})]}),js=Ar?u.jsxs("div",{className:"relative flex items-center gap-2",ref:Ie,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),u.jsxs("button",{type:"button",onClick:()=>X(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:O==="original"?"Original App":"Kinetic Default"}),u.jsx("span",{className:`transition-transform ${pe?"rotate-180":""}`,children:""})]}),pe&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Yc("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${O==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),u.jsx("button",{type:"button",onClick:()=>Yc("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${O==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Xc=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Ad}),js&&u.jsx("div",{className:"min-w-[160px]",children:js}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:K=>{K.preventDefault(),ue(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),As=u.jsxs(qge,{isOpen:W,onClose:()=>ue(!1),searchValue:ae,searchFocused:J,searchResults:z,onSearchChange:K=>{k(K),requestAnimationFrame(()=>Sn(K))},onSearchFocus:()=>{Z(!0),requestAnimationFrame(()=>Sn(ae))},onSearchBlur:K=>{var we;K&&((we=te.current)!=null&&we.contains(K))||Z(!1)},onSearchEnter:()=>{z.length>0&&fn(z[0].hitId,z[0].text)},onSearchResultMouseDown:K=>{Z(!0),fn(K.hitId,K.text)},renderHighlightedMatch:Qa,searchRef:te,tocItems:$n,activeTocId:M,onTocClick:K=>{const we=q.current;if(!we)return;let Le=we.querySelector(`[data-heading-id="${K.id}"]`);if(!Le){const pt=K.text.trim().replace(/\s+/g," ");Le=Array.from(we.querySelectorAll("h1, h2, h3")).find(zt=>(zt.textContent||"").trim().replace(/\s+/g," ")===pt)||null}Le&&(A(K.id),requestAnimationFrame(()=>{const pt=we.getBoundingClientRect(),Tt=Le.getBoundingClientRect(),zt=we.scrollTop+(Tt.top-pt.top)-12;we.scrollTop=Math.max(0,zt)}))},contentRef:q,children:[(L.current=new Map,null),u.jsx(wue,{remarkPlugins:[Ife],components:{h1:({children:K})=>{const we=Gt(K),Le=yr(we);return u.jsx("h1",{id:Le,"data-heading-id":Le,className:"text-2xl font-bold text-white scroll-mt-6",children:K})},h2:({children:K})=>{const we=Gt(K),Le=yr(we);return u.jsx("h2",{id:Le,"data-heading-id":Le,className:"text-xl font-semibold text-white scroll-mt-6",children:K})},h3:({children:K})=>{const we=Gt(K),Le=yr(we);return u.jsx("h3",{id:Le,"data-heading-id":Le,className:"text-lg font-semibold text-white scroll-mt-6",children:K})},p:({children:K})=>u.jsx("p",{className:"leading-6 text-gray-200",children:K}),ul:({children:K})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:K}),ol:({children:K})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:K}),li:({children:K})=>u.jsx("li",{className:"leading-6",children:K}),blockquote:({children:K})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:K}),a:({href:K,children:we})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:K,target:"_blank",rel:"noreferrer",children:we}),table:({children:K})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:K})}),th:({children:K})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:K}),td:({children:K})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:K}),pre:({children:K})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:K}),code:K=>{const{inline:we,children:Le}=K;return we===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Le}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Le})}},children:vy})]});if(t){const K=sn(jt,"svg/ArcBridge.svg"),we=()=>{Ne.current!==null&&(cancelAnimationFrame(Ne.current),Ne.current=null);const P=window.scrollY||window.pageYOffset||0;if(P<=1){window.scrollTo({top:0,behavior:"auto"});return}const H=320,ge=performance.now(),ne=Ee=>{const Se=Ee-ge,Ge=Math.min(1,Se/H),rt=1-Math.pow(1-Ge,3),Dt=Math.max(0,Math.round(P*(1-rt)));window.scrollTo({top:Dt,behavior:"auto"}),Ge<1?Ne.current=requestAnimationFrame(ne):(Ne.current=null,window.scrollTo({top:0,behavior:"auto"}))};Ne.current=requestAnimationFrame(ne)},Le=P=>{R(()=>{const H={};return Nn.forEach(ge=>{H[ge.id]=ge.id===P}),H})},pt=P=>{var ge,ne;ke.current=null,F(P);const H=Nn.find(Ee=>Ee.id===P);V(((ne=(ge=H==null?void 0:H.items)==null?void 0:ge[0])==null?void 0:ne.id)||"kdr"),we()},Tt=P=>{if(!!!Y[P]){Le(P),pt(P);return}if(P!==ie){pt(P);return}R(ge=>({...ge,[P]:!1}))},zt=(P,H)=>{Y[P]||Le(P),V(H);const ge=P===ie;ge||(ke.current=H,F(P),requestAnimationFrame(()=>Uo(H))),ge&&requestAnimationFrame(()=>Uo(H))},on=P=>{const H=P.currentTarget;if(!(H.scrollHeight>H.clientHeight)){window.scrollBy({top:P.deltaY,behavior:"auto"}),P.preventDefault();return}const ne=H.scrollTop<=0,Ee=H.scrollTop+H.clientHeight>=H.scrollHeight-1;(ne&&P.deltaY<0||Ee&&P.deltaY>0)&&(window.scrollBy({top:P.deltaY,behavior:"auto"}),P.preventDefault())},St=P=>{const H=oe.current;if(!H)return;const ge=P.target;if(!ge||!H.contains(ge))return;let ne=ge;for(;ne&&ne!==H;){const Se=window.getComputedStyle(ne).overflowY;if((Se==="auto"||Se==="scroll")&&ne.scrollHeight>ne.clientHeight+1){const rt=ne.scrollTop<=0,Dt=ne.scrollTop+ne.clientHeight>=ne.scrollHeight-1;(P.deltaY<0&&rt||P.deltaY>0&&Dt)&&(window.scrollBy({top:P.deltaY,behavior:"auto"}),P.preventDefault());return}ne=ne.parentElement}},xt=P=>{const H=Math.max(0,6-P);return{accordionDuration:.5+H*.07,itemDuration:.34+H*.035,stagger:.05+H*.01,delayChildren:.06+H*.015}},_n=P=>{const H=xt(P);return{open:{transition:{staggerChildren:H.stagger,delayChildren:H.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,H.stagger*.7),staggerDirection:-1}}}},T={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:br?"var(--bg-base)":Ar?Vr?"#2b3048":"#d8d1c5":Cs?"#0f141c":"#0f172a",backgroundImage:br?"none":Gc,...da},children:[!br&&!Ar&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:dn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:on,children:Nn.map(P=>{const H=P.icon,ge=P.id===ie,ne=!!Y[P.id],Ee=xt(P.items.length),Se=_n(P.items.length);return u.jsxs(Ls.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Tt(P.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${ge?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(H,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:P.label}),u.jsx(Ls.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ne?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Nb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ls.div,{initial:!1,animate:ne?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ee.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ls.div,{variants:Se,initial:!1,animate:ne?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:P.items.map(Ge=>{const rt=Ge.icon;return u.jsxs(Ls.button,{variants:T,transition:{duration:Ee.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{zt(P.id,Ge.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${B===Ge.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(rt,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ge.label]},Ge.id)})})},`${P.id}-submenu-mobile`)]},P.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Hi,maskImage:`url(${K})`,WebkitMaskImage:`url(${K})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:on,children:Nn.map(P=>{const H=P.icon,ge=P.id===ie,ne=!!Y[P.id],Ee=xt(P.items.length),Se=_n(P.items.length);return u.jsxs(Ls.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Tt(P.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${ge?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(H,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:P.label}),u.jsx(Ls.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ne?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Nb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ls.div,{initial:!1,animate:ne?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ee.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ls.div,{variants:Se,initial:!1,animate:ne?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:P.items.map(Ge=>{const rt=Ge.icon;return u.jsxs(Ls.button,{variants:T,transition:{duration:Ee.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>zt(P.id,Ge.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${B===Ge.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(rt,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ge.label]},Ge.id)})})},`${P.id}-submenu-desktop`)]},P.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:dn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Ql} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:fa,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(g?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Hi,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||CE(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(y2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(J6,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(jr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(GO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((_r==null?void 0:_r.items)||[]).map(P=>{const H=P.icon;return u.jsxs("button",{onClick:()=>zt((_r==null?void 0:_r.id)||"overview",P.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${B===P.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(H,{className:"w-3 h-3 text-[color:var(--accent)]"})}),P.label]},`chip-${P.id}`)})})]}),u.jsx("div",{ref:oe,onWheelCapture:St,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx($ae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(Qc=t.stats)==null?void 0:Qc.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:P=>Kc.has(P),dashboardTitle:`Statistics Dashboard - ${(_r==null?void 0:_r.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Xc})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:dn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(HO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(y2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(Z6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),As]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:br?"var(--bg-base)":Ar?Vr?"#2b3048":"#d8d1c5":Cs?"#0f141c":"#0f172a",backgroundImage:br?"none":Gc,...da},children:[!br&&!Ar&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Ql} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:fa,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(g?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Hi,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[ts.length," Reports"]})})]}),u.jsxs("div",{className:`${Ql} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:fa,children:[u.jsx("input",{type:"search",value:c,onChange:K=>d(K.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:ts.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:es.length})]})]}),a&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:fa,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&u.jsx("div",{className:`${Ql} p-6 text-gray-300`,style:fa,children:"Loading reports..."}),ts.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:ts.map(K=>{var we,Le,pt,Tt;return u.jsx("a",{href:Yge(Ot,K.id,_),className:`${Ql} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:fa,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:K.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Qge(K.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(jr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:K.commanders.length?K.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(we=K.summary)!=null&&we.mapSlices&&K.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Zge,{slices:K.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Jge,{value:(Le=K.summary)==null?void 0:Le.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((pt=K.summary)==null?void 0:pt.avgSquadSize)??"--"," / ",((Tt=K.summary)==null?void 0:Tt.avgEnemySize)??"--"]})]}),u.jsx(iU,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},K.id)})}),!a&&r&&es.length===0&&u.jsx("div",{className:`${Ql} p-6 text-gray-300`,style:fa,children:"No reports uploaded yet."}),!a&&r&&es.length>0&&ts.length===0&&u.jsx("div",{className:`${Ql} p-6 text-gray-300`,style:fa,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Xc})]}),As]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");Ey.createRoot(document.getElementById("root")).render(u.jsx(b0.StrictMode,{children:u.jsx(e0e,{})}));
