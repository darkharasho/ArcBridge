var jR=Object.defineProperty;var AR=(e,t,n)=>t in e?jR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ex=(e,t,n)=>AR(e,typeof t!="symbol"?t+"":t,n);function PR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JE={exports:{}},Hg={},eD={exports:{}},dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.element"),TR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),DR=Symbol.for("react.strict_mode"),MR=Symbol.for("react.profiler"),OR=Symbol.for("react.provider"),IR=Symbol.for("react.context"),_R=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),$R=Symbol.for("react.memo"),FR=Symbol.for("react.lazy"),VN=Symbol.iterator;function RR(e){return e===null||typeof e!="object"?null:(e=VN&&e[VN]||e["@@iterator"],typeof e=="function"?e:null)}var tD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nD=Object.assign,rD={};function qu(e,t,n){this.props=e,this.context=t,this.refs=rD,this.updater=n||tD}qu.prototype.isReactComponent={};qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iD(){}iD.prototype=qu.prototype;function jw(e,t,n){this.props=e,this.context=t,this.refs=rD,this.updater=n||tD}var Aw=jw.prototype=new iD;Aw.constructor=jw;nD(Aw,qu.prototype);Aw.isPureReactComponent=!0;var WN=Array.isArray,aD=Object.prototype.hasOwnProperty,Pw={current:null},sD={key:!0,ref:!0,__self:!0,__source:!0};function oD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)aD.call(t,r)&&!sD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Zf,type:e,key:a,ref:s,props:i,_owner:Pw.current}}function BR(e,t){return{$$typeof:Zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf}function zR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var HN=/\/+/g;function Dx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zR(""+e.key):t.toString(36)}function Bh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Zf:case TR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Dx(s,0):r,WN(i)?(n="",e!=null&&(n=e.replace(HN,"$&/")+"/"),Bh(i,t,n,"",function(c){return c})):i!=null&&(Tw(i)&&(i=BR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",WN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Dx(a,o);s+=Bh(a,t,n,l,i)}else if(l=RR(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Dx(a,o++),s+=Bh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xm(e,t,n){if(e==null)return e;var r=[],i=0;return Bh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function UR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hi={current:null},zh={transition:null},VR={ReactCurrentDispatcher:Hi,ReactCurrentBatchConfig:zh,ReactCurrentOwner:Pw};function lD(){throw Error("act(...) is not supported in production builds of React.")}dn.Children={map:Xm,forEach:function(e,t,n){Xm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xm(e,function(){t++}),t},toArray:function(e){return Xm(e,function(t){return t})||[]},only:function(e){if(!Tw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dn.Component=qu;dn.Fragment=ER;dn.Profiler=MR;dn.PureComponent=jw;dn.StrictMode=DR;dn.Suspense=LR;dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;dn.act=lD;dn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nD({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Pw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)aD.call(t,l)&&!sD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Zf,type:e.type,key:i,ref:a,props:r,_owner:s}};dn.createContext=function(e){return e={$$typeof:IR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OR,_context:e},e.Consumer=e};dn.createElement=oD;dn.createFactory=function(e){var t=oD.bind(null,e);return t.type=e,t};dn.createRef=function(){return{current:null}};dn.forwardRef=function(e){return{$$typeof:_R,render:e}};dn.isValidElement=Tw;dn.lazy=function(e){return{$$typeof:FR,_payload:{_status:-1,_result:e},_init:UR}};dn.memo=function(e,t){return{$$typeof:$R,type:e,compare:t===void 0?null:t}};dn.startTransition=function(e){var t=zh.transition;zh.transition={};try{e()}finally{zh.transition=t}};dn.unstable_act=lD;dn.useCallback=function(e,t){return Hi.current.useCallback(e,t)};dn.useContext=function(e){return Hi.current.useContext(e)};dn.useDebugValue=function(){};dn.useDeferredValue=function(e){return Hi.current.useDeferredValue(e)};dn.useEffect=function(e,t){return Hi.current.useEffect(e,t)};dn.useId=function(){return Hi.current.useId()};dn.useImperativeHandle=function(e,t,n){return Hi.current.useImperativeHandle(e,t,n)};dn.useInsertionEffect=function(e,t){return Hi.current.useInsertionEffect(e,t)};dn.useLayoutEffect=function(e,t){return Hi.current.useLayoutEffect(e,t)};dn.useMemo=function(e,t){return Hi.current.useMemo(e,t)};dn.useReducer=function(e,t,n){return Hi.current.useReducer(e,t,n)};dn.useRef=function(e){return Hi.current.useRef(e)};dn.useState=function(e){return Hi.current.useState(e)};dn.useSyncExternalStore=function(e,t,n){return Hi.current.useSyncExternalStore(e,t,n)};dn.useTransition=function(){return Hi.current.useTransition()};dn.version="18.3.1";eD.exports=dn;var v=eD.exports;const qg=xs(v),WR=PR({__proto__:null,default:qg},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=v,qR=Symbol.for("react.element"),KR=Symbol.for("react.fragment"),GR=Object.prototype.hasOwnProperty,YR=HR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XR={key:!0,ref:!0,__self:!0,__source:!0};function cD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)GR.call(t,r)&&!XR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qR,type:e,key:a,ref:s,props:i,_owner:YR.current}}Hg.Fragment=KR;Hg.jsx=cD;Hg.jsxs=cD;JE.exports=Hg;var u=JE.exports,sy={},uD={exports:{}},ja={},dD={exports:{}},fD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,L){var P=G.length;G.push(L);e:for(;0<P;){var j=P-1>>>1,W=G[j];if(0<i(W,L))G[j]=L,G[P]=W,P=j;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var L=G[0],P=G.pop();if(P!==L){G[0]=P;e:for(var j=0,W=G.length,k=W>>>1;j<k;){var I=2*(j+1)-1,ae=G[I],ee=I+1,U=G[ee];if(0>i(ae,P))ee<W&&0>i(U,ae)?(G[j]=U,G[ee]=P,j=ee):(G[j]=ae,G[I]=P,j=I);else if(ee<W&&0>i(U,P))G[j]=U,G[ee]=P,j=ee;else break e}}return L}function i(G,L){var P=G.sortIndex-L.sortIndex;return P!==0?P:G.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=G)r(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(c)}}function S(G){if(g=!1,w(G),!p)if(n(l)!==null)p=!0,ce(C);else{var L=n(c);L!==null&&K(S,L.startTime-G)}}function C(G,L){p=!1,g&&(g=!1,x(E),E=-1),m=!0;var P=h;try{for(w(L),f=n(l);f!==null&&(!(f.expirationTime>L)||G&&!M());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var W=j(f.expirationTime<=L);L=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),w(L)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var I=n(c);I!==null&&K(S,I.startTime-L),k=!1}return k}finally{f=null,h=P,m=!1}}var N=!1,A=null,E=-1,_=5,T=-1;function M(){return!(e.unstable_now()-T<_)}function O(){if(A!==null){var G=e.unstable_now();T=G;var L=!0;try{L=A(!0,G)}finally{L?Y():(N=!1,A=null)}}else N=!1}var Y;if(typeof b=="function")Y=function(){b(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=O,Y=function(){ie.postMessage(null)}}else Y=function(){y(O,0)};function ce(G){A=G,N||(N=!0,Y())}function K(G,L){E=y(function(){G(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ce(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var P=h;h=L;try{return G()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,L){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var P=h;h=G;try{return L()}finally{h=P}},e.unstable_scheduleCallback=function(G,L,P){var j=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?j+P:j):P=j,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=P+W,G={id:d++,callback:L,priorityLevel:G,startTime:P,expirationTime:W,sortIndex:-1},P>j?(G.sortIndex=P,t(c,G),n(l)===null&&G===n(c)&&(g?(x(E),E=-1):g=!0,K(S,P-j))):(G.sortIndex=W,t(l,G),p||m||(p=!0,ce(C))),G},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(G){var L=h;return function(){var P=h;h=L;try{return G.apply(this,arguments)}finally{h=P}}}})(fD);dD.exports=fD;var QR=dD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=v,Sa=QR;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mD=new Set,of={};function Nc(e,t){Cu(e,t),Cu(e+"Capture",t)}function Cu(e,t){for(of[e]=t,e=0;e<t.length;e++)mD.add(t[e])}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=Object.prototype.hasOwnProperty,JR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},KN={};function eB(e){return oy.call(KN,e)?!0:oy.call(qN,e)?!1:JR.test(e)?KN[e]=!0:(qN[e]=!0,!1)}function tB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nB(e,t,n,r){if(t===null||typeof t>"u"||tB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xi[e]=new qi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xi[t]=new qi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xi[e]=new qi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xi[e]=new qi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xi[e]=new qi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xi[e]=new qi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xi[e]=new qi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xi[e]=new qi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xi[e]=new qi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ew=/[\-:]([a-z])/g;function Dw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ew,Dw);xi[t]=new qi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ew,Dw);xi[t]=new qi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ew,Dw);xi[t]=new qi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xi[e]=new qi(e,1,!1,e.toLowerCase(),null,!1,!1)});xi.xlinkHref=new qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xi[e]=new qi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mw(e,t,n,r){var i=xi.hasOwnProperty(t)?xi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nB(t,n,i,r)&&(n=null),r||i===null?eB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vo=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qm=Symbol.for("react.element"),Qc=Symbol.for("react.portal"),Zc=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),ly=Symbol.for("react.profiler"),hD=Symbol.for("react.provider"),pD=Symbol.for("react.context"),Iw=Symbol.for("react.forward_ref"),cy=Symbol.for("react.suspense"),uy=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),gD=Symbol.for("react.offscreen"),GN=Symbol.iterator;function md(e){return e===null||typeof e!="object"?null:(e=GN&&e[GN]||e["@@iterator"],typeof e=="function"?e:null)}var vr=Object.assign,Mx;function Id(e){if(Mx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mx=t&&t[1]||""}return`
`+Mx+e}var Ox=!1;function Ix(e,t){if(!e||Ox)return"";Ox=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ox=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Id(e):""}function rB(e){switch(e.tag){case 5:return Id(e.type);case 16:return Id("Lazy");case 13:return Id("Suspense");case 19:return Id("SuspenseList");case 0:case 2:case 15:return e=Ix(e.type,!1),e;case 11:return e=Ix(e.type.render,!1),e;case 1:return e=Ix(e.type,!0),e;default:return""}}function dy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zc:return"Fragment";case Qc:return"Portal";case ly:return"Profiler";case Ow:return"StrictMode";case cy:return"Suspense";case uy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pD:return(e.displayName||"Context")+".Consumer";case hD:return(e._context.displayName||"Context")+".Provider";case Iw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _w:return t=e.displayName||null,t!==null?t:dy(e.type)||"Memo";case $o:t=e._payload,e=e._init;try{return dy(e(t))}catch{}}return null}function iB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dy(t);case 8:return t===Ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aB(e){var t=xD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zm(e){e._valueTracker||(e._valueTracker=aB(e))}function vD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fy(e,t){var n=t.checked;return vr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function YN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yD(e,t){t=t.checked,t!=null&&Mw(e,"checked",t,!1)}function my(e,t){yD(e,t);var n=sl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hy(e,t.type,n):t.hasOwnProperty("defaultValue")&&hy(e,t.type,sl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hy(e,t,n){(t!=="number"||dp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _d=Array.isArray;function pu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function py(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return vr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function QN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ge(92));if(_d(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sl(n)}}function bD(e,t){var n=sl(t.value),r=sl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ZN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jm,kD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jm=Jm||document.createElement("div"),Jm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sB=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(e){sB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ud[t]=Ud[e]})});function SD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ud.hasOwnProperty(e)&&Ud[e]?(""+t).trim():t+"px"}function ND(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var oB=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xy(e,t){if(t){if(oB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function vy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=null;function Lw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var by=null,gu=null,xu=null;function JN(e){if(e=tm(e)){if(typeof by!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=Qg(t),by(e.stateNode,e.type,t))}}function CD(e){gu?xu?xu.push(e):xu=[e]:gu=e}function jD(){if(gu){var e=gu,t=xu;if(xu=gu=null,JN(e),t)for(e=0;e<t.length;e++)JN(t[e])}}function AD(e,t){return e(t)}function PD(){}var _x=!1;function TD(e,t,n){if(_x)return e(t,n);_x=!0;try{return AD(e,t,n)}finally{_x=!1,(gu!==null||xu!==null)&&(PD(),jD())}}function cf(e,t){var n=e.stateNode;if(n===null)return null;var r=Qg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ge(231,t,typeof n));return n}var wy=!1;if(so)try{var hd={};Object.defineProperty(hd,"passive",{get:function(){wy=!0}}),window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch{wy=!1}function lB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Vd=!1,fp=null,mp=!1,ky=null,cB={onError:function(e){Vd=!0,fp=e}};function uB(e,t,n,r,i,a,s,o,l){Vd=!1,fp=null,lB.apply(cB,arguments)}function dB(e,t,n,r,i,a,s,o,l){if(uB.apply(this,arguments),Vd){if(Vd){var c=fp;Vd=!1,fp=null}else throw Error(Ge(198));mp||(mp=!0,ky=c)}}function Cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ED(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e2(e){if(Cc(e)!==e)throw Error(Ge(188))}function fB(e){var t=e.alternate;if(!t){if(t=Cc(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e2(i),e;if(a===r)return e2(i),t;a=a.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?e:t}function DD(e){return e=fB(e),e!==null?MD(e):null}function MD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MD(e);if(t!==null)return t;e=e.sibling}return null}var OD=Sa.unstable_scheduleCallback,t2=Sa.unstable_cancelCallback,mB=Sa.unstable_shouldYield,hB=Sa.unstable_requestPaint,Dr=Sa.unstable_now,pB=Sa.unstable_getCurrentPriorityLevel,$w=Sa.unstable_ImmediatePriority,ID=Sa.unstable_UserBlockingPriority,hp=Sa.unstable_NormalPriority,gB=Sa.unstable_LowPriority,_D=Sa.unstable_IdlePriority,Kg=null,Ds=null;function xB(e){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Kg,e,void 0,(e.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:bB,vB=Math.log,yB=Math.LN2;function bB(e){return e>>>=0,e===0?32:31-(vB(e)/yB|0)|0}var eh=64,th=4194304;function Ld(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Ld(o):(a&=s,a!==0&&(r=Ld(a)))}else s=n&~i,s!==0?r=Ld(s):a!==0&&(r=Ld(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-os(t),i=1<<n,r|=e[n],t&=~i;return r}function wB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-os(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=wB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Sy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LD(){var e=eh;return eh<<=1,!(eh&4194240)&&(eh=64),e}function Lx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-os(t),e[t]=n}function SB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-os(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Fw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-os(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _n=0;function $D(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FD,Rw,RD,BD,zD,Ny=!1,nh=[],Yo=null,Xo=null,Qo=null,uf=new Map,df=new Map,Uo=[],NB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n2(e,t){switch(e){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":uf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(t.pointerId)}}function pd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=tm(t),t!==null&&Rw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CB(e,t,n,r,i){switch(t){case"focusin":return Yo=pd(Yo,e,t,n,r,i),!0;case"dragenter":return Xo=pd(Xo,e,t,n,r,i),!0;case"mouseover":return Qo=pd(Qo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return uf.set(a,pd(uf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,df.set(a,pd(df.get(a)||null,e,t,n,r,i)),!0}return!1}function UD(e){var t=Hl(e.target);if(t!==null){var n=Cc(t);if(n!==null){if(t=n.tag,t===13){if(t=ED(n),t!==null){e.blockedOn=t,zD(e.priority,function(){RD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yy=r,n.target.dispatchEvent(r),yy=null}else return t=tm(n),t!==null&&Rw(t),e.blockedOn=n,!1;t.shift()}return!0}function r2(e,t,n){Uh(e)&&n.delete(t)}function jB(){Ny=!1,Yo!==null&&Uh(Yo)&&(Yo=null),Xo!==null&&Uh(Xo)&&(Xo=null),Qo!==null&&Uh(Qo)&&(Qo=null),uf.forEach(r2),df.forEach(r2)}function gd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ny||(Ny=!0,Sa.unstable_scheduleCallback(Sa.unstable_NormalPriority,jB)))}function ff(e){function t(i){return gd(i,e)}if(0<nh.length){gd(nh[0],e);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yo!==null&&gd(Yo,e),Xo!==null&&gd(Xo,e),Qo!==null&&gd(Qo,e),uf.forEach(t),df.forEach(t),n=0;n<Uo.length;n++)r=Uo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Uo.length&&(n=Uo[0],n.blockedOn===null);)UD(n),n.blockedOn===null&&Uo.shift()}var vu=vo.ReactCurrentBatchConfig,gp=!0;function AB(e,t,n,r){var i=_n,a=vu.transition;vu.transition=null;try{_n=1,Bw(e,t,n,r)}finally{_n=i,vu.transition=a}}function PB(e,t,n,r){var i=_n,a=vu.transition;vu.transition=null;try{_n=4,Bw(e,t,n,r)}finally{_n=i,vu.transition=a}}function Bw(e,t,n,r){if(gp){var i=Cy(e,t,n,r);if(i===null)qx(e,t,r,xp,n),n2(e,r);else if(CB(i,e,t,n,r))r.stopPropagation();else if(n2(e,r),t&4&&-1<NB.indexOf(e)){for(;i!==null;){var a=tm(i);if(a!==null&&FD(a),a=Cy(e,t,n,r),a===null&&qx(e,t,r,xp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else qx(e,t,r,null,n)}}var xp=null;function Cy(e,t,n,r){if(xp=null,e=Lw(r),e=Hl(e),e!==null)if(t=Cc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ED(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xp=e,null}function VD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pB()){case $w:return 1;case ID:return 4;case hp:case gB:return 16;case _D:return 536870912;default:return 16}default:return 16}}var Ho=null,zw=null,Vh=null;function WD(){if(Vh)return Vh;var e,t=zw,n=t.length,r,i="value"in Ho?Ho.value:Ho.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Vh=i.slice(e,1<r?1-r:void 0)}function Wh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rh(){return!0}function i2(){return!1}function Aa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rh:i2,this.isPropagationStopped=i2,this}return vr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),t}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uw=Aa(Ku),em=vr({},Ku,{view:0,detail:0}),TB=Aa(em),$x,Fx,xd,Gg=vr({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xd&&(xd&&e.type==="mousemove"?($x=e.screenX-xd.screenX,Fx=e.screenY-xd.screenY):Fx=$x=0,xd=e),$x)},movementY:function(e){return"movementY"in e?e.movementY:Fx}}),a2=Aa(Gg),EB=vr({},Gg,{dataTransfer:0}),DB=Aa(EB),MB=vr({},em,{relatedTarget:0}),Rx=Aa(MB),OB=vr({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),IB=Aa(OB),_B=vr({},Ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LB=Aa(_B),$B=vr({},Ku,{data:0}),s2=Aa($B),FB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BB[e])?!!t[e]:!1}function Vw(){return zB}var UB=vr({},em,{key:function(e){if(e.key){var t=FB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vw,charCode:function(e){return e.type==="keypress"?Wh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VB=Aa(UB),WB=vr({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o2=Aa(WB),HB=vr({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vw}),qB=Aa(HB),KB=vr({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),GB=Aa(KB),YB=vr({},Gg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XB=Aa(YB),QB=[9,13,27,32],Ww=so&&"CompositionEvent"in window,Wd=null;so&&"documentMode"in document&&(Wd=document.documentMode);var ZB=so&&"TextEvent"in window&&!Wd,HD=so&&(!Ww||Wd&&8<Wd&&11>=Wd),l2=" ",c2=!1;function qD(e,t){switch(e){case"keyup":return QB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function JB(e,t){switch(e){case"compositionend":return KD(t);case"keypress":return t.which!==32?null:(c2=!0,l2);case"textInput":return e=t.data,e===l2&&c2?null:e;default:return null}}function ez(e,t){if(Jc)return e==="compositionend"||!Ww&&qD(e,t)?(e=WD(),Vh=zw=Ho=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HD&&t.locale!=="ko"?null:t.data;default:return null}}var tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tz[e.type]:t==="textarea"}function GD(e,t,n,r){CD(r),t=vp(t,"onChange"),0<t.length&&(n=new Uw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hd=null,mf=null;function nz(e){aM(e,0)}function Yg(e){var t=nu(e);if(vD(t))return e}function rz(e,t){if(e==="change")return t}var YD=!1;if(so){var Bx;if(so){var zx="oninput"in document;if(!zx){var d2=document.createElement("div");d2.setAttribute("oninput","return;"),zx=typeof d2.oninput=="function"}Bx=zx}else Bx=!1;YD=Bx&&(!document.documentMode||9<document.documentMode)}function f2(){Hd&&(Hd.detachEvent("onpropertychange",XD),mf=Hd=null)}function XD(e){if(e.propertyName==="value"&&Yg(mf)){var t=[];GD(t,mf,e,Lw(e)),TD(nz,t)}}function iz(e,t,n){e==="focusin"?(f2(),Hd=t,mf=n,Hd.attachEvent("onpropertychange",XD)):e==="focusout"&&f2()}function az(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yg(mf)}function sz(e,t){if(e==="click")return Yg(t)}function oz(e,t){if(e==="input"||e==="change")return Yg(t)}function lz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ds=typeof Object.is=="function"?Object.is:lz;function hf(e,t){if(ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oy.call(t,i)||!ds(e[i],t[i]))return!1}return!0}function m2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h2(e,t){var n=m2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m2(n)}}function QD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZD(){for(var e=window,t=dp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dp(e.document)}return t}function Hw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cz(e){var t=ZD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&QD(n.ownerDocument.documentElement,n)){if(r!==null&&Hw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=h2(n,a);var s=h2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uz=so&&"documentMode"in document&&11>=document.documentMode,eu=null,jy=null,qd=null,Ay=!1;function p2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ay||eu==null||eu!==dp(r)||(r=eu,"selectionStart"in r&&Hw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qd&&hf(qd,r)||(qd=r,r=vp(jy,"onSelect"),0<r.length&&(t=new Uw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=eu)))}function ih(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tu={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},Ux={},JD={};so&&(JD=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Xg(e){if(Ux[e])return Ux[e];if(!tu[e])return e;var t=tu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in JD)return Ux[e]=t[n];return e}var eM=Xg("animationend"),tM=Xg("animationiteration"),nM=Xg("animationstart"),rM=Xg("transitionend"),iM=new Map,g2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(e,t){iM.set(e,t),Nc(t,[e])}for(var Vx=0;Vx<g2.length;Vx++){var Wx=g2[Vx],dz=Wx.toLowerCase(),fz=Wx[0].toUpperCase()+Wx.slice(1);fl(dz,"on"+fz)}fl(eM,"onAnimationEnd");fl(tM,"onAnimationIteration");fl(nM,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(rM,"onTransitionEnd");Cu("onMouseEnter",["mouseout","mouseover"]);Cu("onMouseLeave",["mouseout","mouseover"]);Cu("onPointerEnter",["pointerout","pointerover"]);Cu("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mz=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function x2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dB(r,t,void 0,e),e.currentTarget=null}function aM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;x2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;x2(i,o,c),a=l}}}if(mp)throw e=ky,mp=!1,ky=null,e}function tr(e,t){var n=t[My];n===void 0&&(n=t[My]=new Set);var r=e+"__bubble";n.has(r)||(sM(t,e,2,!1),n.add(r))}function Hx(e,t,n){var r=0;t&&(r|=4),sM(n,e,r,t)}var ah="_reactListening"+Math.random().toString(36).slice(2);function pf(e){if(!e[ah]){e[ah]=!0,mD.forEach(function(n){n!=="selectionchange"&&(mz.has(n)||Hx(n,!1,e),Hx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ah]||(t[ah]=!0,Hx("selectionchange",!1,t))}}function sM(e,t,n,r){switch(VD(t)){case 1:var i=AB;break;case 4:i=PB;break;default:i=Bw}n=i.bind(null,t,n,e),i=void 0,!wy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qx(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Hl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}TD(function(){var c=a,d=Lw(n),f=[];e:{var h=iM.get(e);if(h!==void 0){var m=Uw,p=e;switch(e){case"keypress":if(Wh(n)===0)break e;case"keydown":case"keyup":m=VB;break;case"focusin":p="focus",m=Rx;break;case"focusout":p="blur",m=Rx;break;case"beforeblur":case"afterblur":m=Rx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=a2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qB;break;case eM:case tM:case nM:m=IB;break;case rM:m=GB;break;case"scroll":m=TB;break;case"wheel":m=XB;break;case"copy":case"cut":case"paste":m=LB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=o2}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=cf(b,x),S!=null&&g.push(gf(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==yy&&(p=n.relatedTarget||n.fromElement)&&(Hl(p)||p[oo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Hl(p):null,p!==null&&(y=Cc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=a2,S="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=o2,S="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:nu(m),w=p==null?h:nu(p),h=new g(S,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,S=null,Hl(d)===c&&(g=new g(x,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,m&&p)t:{for(g=m,x=p,b=0,w=g;w;w=zc(w))b++;for(w=0,S=x;S;S=zc(S))w++;for(;0<b-w;)g=zc(g),b--;for(;0<w-b;)x=zc(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=zc(g),x=zc(x)}g=null}else g=null;m!==null&&v2(f,h,m,g,!1),p!==null&&y!==null&&v2(f,y,p,g,!0)}}e:{if(h=c?nu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=rz;else if(u2(h))if(YD)C=oz;else{C=az;var N=iz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=sz);if(C&&(C=C(e,c))){GD(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&hy(h,"number",h.value)}switch(N=c?nu(c):window,e){case"focusin":(u2(N)||N.contentEditable==="true")&&(eu=N,jy=c,qd=null);break;case"focusout":qd=jy=eu=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,p2(f,n,d);break;case"selectionchange":if(uz)break;case"keydown":case"keyup":p2(f,n,d)}var A;if(Ww)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Jc?qD(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(HD&&n.locale!=="ko"&&(Jc||E!=="onCompositionStart"?E==="onCompositionEnd"&&Jc&&(A=WD()):(Ho=d,zw="value"in Ho?Ho.value:Ho.textContent,Jc=!0)),N=vp(c,E),0<N.length&&(E=new s2(E,e,null,n,d),f.push({event:E,listeners:N}),A?E.data=A:(A=KD(n),A!==null&&(E.data=A)))),(A=ZB?JB(e,n):ez(e,n))&&(c=vp(c,"onBeforeInput"),0<c.length&&(d=new s2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}aM(f,t)})}function gf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=cf(e,n),a!=null&&r.unshift(gf(e,a,i)),a=cf(e,t),a!=null&&r.push(gf(e,a,i))),e=e.return}return r}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=cf(n,a),l!=null&&s.unshift(gf(n,l,o))):i||(l=cf(n,a),l!=null&&s.push(gf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var hz=/\r\n?/g,pz=/\u0000|\uFFFD/g;function y2(e){return(typeof e=="string"?e:""+e).replace(hz,`
`).replace(pz,"")}function sh(e,t,n){if(t=y2(t),y2(e)!==t&&n)throw Error(Ge(425))}function yp(){}var Py=null,Ty=null;function Ey(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,gz=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,xz=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(e){return b2.resolve(null).then(e).catch(vz)}:Dy;function vz(e){setTimeout(function(){throw e})}function Kx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ff(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ff(t)}function Zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+Gu,xf="__reactProps$"+Gu,oo="__reactContainer$"+Gu,My="__reactEvents$"+Gu,yz="__reactListeners$"+Gu,bz="__reactHandles$"+Gu;function Hl(e){var t=e[Ts];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oo]||n[Ts]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=w2(e);e!==null;){if(n=e[Ts])return n;e=w2(e)}return t}e=n,n=e.parentNode}return null}function tm(e){return e=e[Ts]||e[oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function Qg(e){return e[xf]||null}var Oy=[],ru=-1;function ml(e){return{current:e}}function rr(e){0>ru||(e.current=Oy[ru],Oy[ru]=null,ru--)}function Gn(e,t){ru++,Oy[ru]=e.current,e.current=t}var ol={},Mi=ml(ol),ea=ml(!1),lc=ol;function ju(e,t){var n=e.type.contextTypes;if(!n)return ol;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ta(e){return e=e.childContextTypes,e!=null}function bp(){rr(ea),rr(Mi)}function k2(e,t,n){if(Mi.current!==ol)throw Error(Ge(168));Gn(Mi,t),Gn(ea,n)}function oM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ge(108,iB(e)||"Unknown",i));return vr({},n,r)}function wp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ol,lc=Mi.current,Gn(Mi,e),Gn(ea,ea.current),!0}function S2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ge(169));n?(e=oM(e,t,lc),r.__reactInternalMemoizedMergedChildContext=e,rr(ea),rr(Mi),Gn(Mi,e)):rr(ea),Gn(ea,n)}var Hs=null,Zg=!1,Gx=!1;function lM(e){Hs===null?Hs=[e]:Hs.push(e)}function wz(e){Zg=!0,lM(e)}function hl(){if(!Gx&&Hs!==null){Gx=!0;var e=0,t=_n;try{var n=Hs;for(_n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Hs=null,Zg=!1}catch(i){throw Hs!==null&&(Hs=Hs.slice(e+1)),OD($w,hl),i}finally{_n=t,Gx=!1}}return null}var iu=[],au=0,kp=null,Sp=0,$a=[],Fa=0,cc=null,Xs=1,Qs="";function $l(e,t){iu[au++]=Sp,iu[au++]=kp,kp=e,Sp=t}function cM(e,t,n){$a[Fa++]=Xs,$a[Fa++]=Qs,$a[Fa++]=cc,cc=e;var r=Xs;e=Qs;var i=32-os(r)-1;r&=~(1<<i),n+=1;var a=32-os(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xs=1<<32-os(t)+i|n<<i|r,Qs=a+e}else Xs=1<<a|n<<i|r,Qs=e}function qw(e){e.return!==null&&($l(e,1),cM(e,1,0))}function Kw(e){for(;e===kp;)kp=iu[--au],iu[au]=null,Sp=iu[--au],iu[au]=null;for(;e===cc;)cc=$a[--Fa],$a[Fa]=null,Qs=$a[--Fa],$a[Fa]=null,Xs=$a[--Fa],$a[Fa]=null}var ya=null,xa=null,lr=!1,rs=null;function uM(e,t){var n=Ba(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function N2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,xa=Zo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,xa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cc!==null?{id:Xs,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ba(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ya=e,xa=null,!0):!1;default:return!1}}function Iy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _y(e){if(lr){var t=xa;if(t){var n=t;if(!N2(e,t)){if(Iy(e))throw Error(Ge(418));t=Zo(n.nextSibling);var r=ya;t&&N2(e,t)?uM(r,n):(e.flags=e.flags&-4097|2,lr=!1,ya=e)}}else{if(Iy(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,lr=!1,ya=e}}}function C2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function oh(e){if(e!==ya)return!1;if(!lr)return C2(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ey(e.type,e.memoizedProps)),t&&(t=xa)){if(Iy(e))throw dM(),Error(Ge(418));for(;t;)uM(e,t),t=Zo(t.nextSibling)}if(C2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xa=Zo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xa=null}}else xa=ya?Zo(e.stateNode.nextSibling):null;return!0}function dM(){for(var e=xa;e;)e=Zo(e.nextSibling)}function Au(){xa=ya=null,lr=!1}function Gw(e){rs===null?rs=[e]:rs.push(e)}var kz=vo.ReactCurrentBatchConfig;function vd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,e))}return e}function lh(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j2(e){var t=e._init;return t(e._payload)}function fM(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=nl(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,S){return b===null||b.tag!==6?(b=tv(w,x.mode,S),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,S){var C=w.type;return C===Zc?d(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$o&&j2(C)===b.type)?(S=i(b,w.props),S.ref=vd(x,b,w),S.return=x,S):(S=Qh(w.type,w.key,w.props,null,x.mode,S),S.ref=vd(x,b,w),S.return=x,S)}function c(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=nv(w,x.mode,S),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,S,C){return b===null||b.tag!==7?(b=tc(w,x.mode,S,C),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=tv(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qm:return w=Qh(b.type,b.key,b.props,null,x.mode,w),w.ref=vd(x,null,b),w.return=x,w;case Qc:return b=nv(b,x.mode,w),b.return=x,b;case $o:var S=b._init;return f(x,S(b._payload),w)}if(_d(b)||md(b))return b=tc(b,x.mode,w,null),b.return=x,b;lh(x,b)}return null}function h(x,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qm:return w.key===C?l(x,b,w,S):null;case Qc:return w.key===C?c(x,b,w,S):null;case $o:return C=w._init,h(x,b,C(w._payload),S)}if(_d(w)||md(w))return C!==null?null:d(x,b,w,S,null);lh(x,w)}return null}function m(x,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,o(b,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qm:return x=x.get(S.key===null?w:S.key)||null,l(b,x,S,C);case Qc:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,C);case $o:var N=S._init;return m(x,b,w,N(S._payload),C)}if(_d(S)||md(S))return x=x.get(w)||null,d(b,x,S,C,null);lh(b,S)}return null}function p(x,b,w,S){for(var C=null,N=null,A=b,E=b=0,_=null;A!==null&&E<w.length;E++){A.index>E?(_=A,A=null):_=A.sibling;var T=h(x,A,w[E],S);if(T===null){A===null&&(A=_);break}e&&A&&T.alternate===null&&t(x,A),b=a(T,b,E),N===null?C=T:N.sibling=T,N=T,A=_}if(E===w.length)return n(x,A),lr&&$l(x,E),C;if(A===null){for(;E<w.length;E++)A=f(x,w[E],S),A!==null&&(b=a(A,b,E),N===null?C=A:N.sibling=A,N=A);return lr&&$l(x,E),C}for(A=r(x,A);E<w.length;E++)_=m(A,x,E,w[E],S),_!==null&&(e&&_.alternate!==null&&A.delete(_.key===null?E:_.key),b=a(_,b,E),N===null?C=_:N.sibling=_,N=_);return e&&A.forEach(function(M){return t(x,M)}),lr&&$l(x,E),C}function g(x,b,w,S){var C=md(w);if(typeof C!="function")throw Error(Ge(150));if(w=C.call(w),w==null)throw Error(Ge(151));for(var N=C=null,A=b,E=b=0,_=null,T=w.next();A!==null&&!T.done;E++,T=w.next()){A.index>E?(_=A,A=null):_=A.sibling;var M=h(x,A,T.value,S);if(M===null){A===null&&(A=_);break}e&&A&&M.alternate===null&&t(x,A),b=a(M,b,E),N===null?C=M:N.sibling=M,N=M,A=_}if(T.done)return n(x,A),lr&&$l(x,E),C;if(A===null){for(;!T.done;E++,T=w.next())T=f(x,T.value,S),T!==null&&(b=a(T,b,E),N===null?C=T:N.sibling=T,N=T);return lr&&$l(x,E),C}for(A=r(x,A);!T.done;E++,T=w.next())T=m(A,x,E,T.value,S),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?E:T.key),b=a(T,b,E),N===null?C=T:N.sibling=T,N=T);return e&&A.forEach(function(O){return t(x,O)}),lr&&$l(x,E),C}function y(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Zc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qm:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===Zc){if(N.tag===7){n(x,N.sibling),b=i(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===$o&&j2(C)===N.type){n(x,N.sibling),b=i(N,w.props),b.ref=vd(x,N,w),b.return=x,x=b;break e}n(x,N);break}else t(x,N);N=N.sibling}w.type===Zc?(b=tc(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=Qh(w.type,w.key,w.props,null,x.mode,S),S.ref=vd(x,b,w),S.return=x,x=S)}return s(x);case Qc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=nv(w,x.mode,S),b.return=x,x=b}return s(x);case $o:return N=w._init,y(x,b,N(w._payload),S)}if(_d(w))return p(x,b,w,S);if(md(w))return g(x,b,w,S);lh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=tv(w,x.mode,S),b.return=x,x=b),s(x)):n(x,b)}return y}var Pu=fM(!0),mM=fM(!1),Np=ml(null),Cp=null,su=null,Yw=null;function Xw(){Yw=su=Cp=null}function Qw(e){var t=Np.current;rr(Np),e._currentValue=t}function Ly(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yu(e,t){Cp=e,Yw=su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zi=!0),e.firstContext=null)}function Va(e){var t=e._currentValue;if(Yw!==e)if(e={context:e,memoizedValue:t,next:null},su===null){if(Cp===null)throw Error(Ge(308));su=e,Cp.dependencies={lanes:0,firstContext:e}}else su=su.next=e;return t}var ql=null;function Zw(e){ql===null?ql=[e]:ql.push(e)}function hM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Zw(t)):(n.next=i.next,i.next=n),t.interleaved=n,lo(e,r)}function lo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fo=!1;function Jw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,lo(e,n)}return i=r.interleaved,i===null?(t.next=t,Zw(r)):(t.next=i.next,i.next=t),r.interleaved=t,lo(e,n)}function Hh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fw(e,n)}}function A2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jp(e,t,n,r){var i=e.updateQueue;Fo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=vr({},f,h);break e;case 2:Fo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);dc|=s,e.lanes=s,e.memoizedState=f}}function P2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var nm={},Ms=ml(nm),vf=ml(nm),yf=ml(nm);function Kl(e){if(e===nm)throw Error(Ge(174));return e}function e1(e,t){switch(Gn(yf,t),Gn(vf,e),Gn(Ms,nm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gy(t,e)}rr(Ms),Gn(Ms,t)}function Tu(){rr(Ms),rr(vf),rr(yf)}function gM(e){Kl(yf.current);var t=Kl(Ms.current),n=gy(t,e.type);t!==n&&(Gn(vf,e),Gn(Ms,n))}function t1(e){vf.current===e&&(rr(Ms),rr(vf))}var hr=ml(0);function Ap(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yx=[];function n1(){for(var e=0;e<Yx.length;e++)Yx[e]._workInProgressVersionPrimary=null;Yx.length=0}var qh=vo.ReactCurrentDispatcher,Xx=vo.ReactCurrentBatchConfig,uc=0,xr=null,Wr=null,ni=null,Pp=!1,Kd=!1,bf=0,Sz=0;function Si(){throw Error(Ge(321))}function r1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ds(e[n],t[n]))return!1;return!0}function i1(e,t,n,r,i,a){if(uc=a,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qh.current=e===null||e.memoizedState===null?Az:Pz,e=n(r,i),Kd){a=0;do{if(Kd=!1,bf=0,25<=a)throw Error(Ge(301));a+=1,ni=Wr=null,t.updateQueue=null,qh.current=Tz,e=n(r,i)}while(Kd)}if(qh.current=Tp,t=Wr!==null&&Wr.next!==null,uc=0,ni=Wr=xr=null,Pp=!1,t)throw Error(Ge(300));return e}function a1(){var e=bf!==0;return bf=0,e}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?xr.memoizedState=ni=e:ni=ni.next=e,ni}function Wa(){if(Wr===null){var e=xr.alternate;e=e!==null?e.memoizedState:null}else e=Wr.next;var t=ni===null?xr.memoizedState:ni.next;if(t!==null)ni=t,Wr=e;else{if(e===null)throw Error(Ge(310));Wr=e,e={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},ni===null?xr.memoizedState=ni=e:ni=ni.next=e}return ni}function wf(e,t){return typeof t=="function"?t(e):t}function Qx(e){var t=Wa(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=Wr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((uc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,xr.lanes|=d,dc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ds(r,t.memoizedState)||(Zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,xr.lanes|=a,dc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zx(e){var t=Wa(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ds(a,t.memoizedState)||(Zi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function xM(){}function vM(e,t){var n=xr,r=Wa(),i=t(),a=!ds(r.memoizedState,i);if(a&&(r.memoizedState=i,Zi=!0),r=r.queue,s1(wM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ni!==null&&ni.memoizedState.tag&1){if(n.flags|=2048,kf(9,bM.bind(null,n,r,i,t),void 0,null),ri===null)throw Error(Ge(349));uc&30||yM(n,t,i)}return i}function yM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bM(e,t,n,r){t.value=n,t.getSnapshot=r,kM(t)&&SM(e)}function wM(e,t,n){return n(function(){kM(t)&&SM(e)})}function kM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ds(e,n)}catch{return!0}}function SM(e){var t=lo(e,1);t!==null&&ls(t,e,1,-1)}function T2(e){var t=js();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:e},t.queue=e,e=e.dispatch=jz.bind(null,xr,e),[t.memoizedState,e]}function kf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function NM(){return Wa().memoizedState}function Kh(e,t,n,r){var i=js();xr.flags|=e,i.memoizedState=kf(1|t,n,void 0,r===void 0?null:r)}function Jg(e,t,n,r){var i=Wa();r=r===void 0?null:r;var a=void 0;if(Wr!==null){var s=Wr.memoizedState;if(a=s.destroy,r!==null&&r1(r,s.deps)){i.memoizedState=kf(t,n,a,r);return}}xr.flags|=e,i.memoizedState=kf(1|t,n,a,r)}function E2(e,t){return Kh(8390656,8,e,t)}function s1(e,t){return Jg(2048,8,e,t)}function CM(e,t){return Jg(4,2,e,t)}function jM(e,t){return Jg(4,4,e,t)}function AM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function PM(e,t,n){return n=n!=null?n.concat([e]):null,Jg(4,4,AM.bind(null,t,e),n)}function o1(){}function TM(e,t){var n=Wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&r1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EM(e,t){var n=Wa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&r1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function DM(e,t,n){return uc&21?(ds(n,t)||(n=LD(),xr.lanes|=n,dc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zi=!0),e.memoizedState=n)}function Nz(e,t){var n=_n;_n=n!==0&&4>n?n:4,e(!0);var r=Xx.transition;Xx.transition={};try{e(!1),t()}finally{_n=n,Xx.transition=r}}function MM(){return Wa().memoizedState}function Cz(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OM(e))IM(t,n);else if(n=hM(e,t,n,r),n!==null){var i=Ui();ls(n,e,r,i),_M(n,t,r)}}function jz(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OM(e))IM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ds(o,s)){var l=t.interleaved;l===null?(i.next=i,Zw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=hM(e,t,i,r),n!==null&&(i=Ui(),ls(n,e,r,i),_M(n,t,r))}}function OM(e){var t=e.alternate;return e===xr||t!==null&&t===xr}function IM(e,t){Kd=Pp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _M(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fw(e,n)}}var Tp={readContext:Va,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},Az={readContext:Va,useCallback:function(e,t){return js().memoizedState=[e,t===void 0?null:t],e},useContext:Va,useEffect:E2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kh(4194308,4,AM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kh(4,2,e,t)},useMemo:function(e,t){var n=js();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=js();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cz.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){var t=js();return e={current:e},t.memoizedState=e},useState:T2,useDebugValue:o1,useDeferredValue:function(e){return js().memoizedState=e},useTransition:function(){var e=T2(!1),t=e[0];return e=Nz.bind(null,e[1]),js().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xr,i=js();if(lr){if(n===void 0)throw Error(Ge(407));n=n()}else{if(n=t(),ri===null)throw Error(Ge(349));uc&30||yM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,E2(wM.bind(null,r,a,e),[e]),r.flags|=2048,kf(9,bM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=js(),t=ri.identifierPrefix;if(lr){var n=Qs,r=Xs;n=(r&~(1<<32-os(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pz={readContext:Va,useCallback:TM,useContext:Va,useEffect:s1,useImperativeHandle:PM,useInsertionEffect:CM,useLayoutEffect:jM,useMemo:EM,useReducer:Qx,useRef:NM,useState:function(){return Qx(wf)},useDebugValue:o1,useDeferredValue:function(e){var t=Wa();return DM(t,Wr.memoizedState,e)},useTransition:function(){var e=Qx(wf)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:xM,useSyncExternalStore:vM,useId:MM,unstable_isNewReconciler:!1},Tz={readContext:Va,useCallback:TM,useContext:Va,useEffect:s1,useImperativeHandle:PM,useInsertionEffect:CM,useLayoutEffect:jM,useMemo:EM,useReducer:Zx,useRef:NM,useState:function(){return Zx(wf)},useDebugValue:o1,useDeferredValue:function(e){var t=Wa();return Wr===null?t.memoizedState=e:DM(t,Wr.memoizedState,e)},useTransition:function(){var e=Zx(wf)[0],t=Wa().memoizedState;return[e,t]},useMutableSource:xM,useSyncExternalStore:vM,useId:MM,unstable_isNewReconciler:!1};function ts(e,t){if(e&&e.defaultProps){t=vr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $y(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var e0={isMounted:function(e){return(e=e._reactInternals)?Cc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ui(),i=tl(e),a=to(r,i);a.payload=t,n!=null&&(a.callback=n),t=Jo(e,a,i),t!==null&&(ls(t,e,i,r),Hh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ui(),i=tl(e),a=to(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Jo(e,a,i),t!==null&&(ls(t,e,i,r),Hh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ui(),r=tl(e),i=to(n,r);i.tag=2,t!=null&&(i.callback=t),t=Jo(e,i,r),t!==null&&(ls(t,e,r,n),Hh(t,e,r))}};function D2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!hf(n,r)||!hf(i,a):!0}function LM(e,t,n){var r=!1,i=ol,a=t.contextType;return typeof a=="object"&&a!==null?a=Va(a):(i=ta(t)?lc:Mi.current,r=t.contextTypes,a=(r=r!=null)?ju(e,i):ol),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=e0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function M2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&e0.enqueueReplaceState(t,t.state,null)}function Fy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Jw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Va(a):(a=ta(t)?lc:Mi.current,i.context=ju(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($y(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&e0.enqueueReplaceState(i,i.state,null),jp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Eu(e,t){try{var n="",r=t;do n+=rB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Jx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ry(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ez=typeof WeakMap=="function"?WeakMap:Map;function $M(e,t,n){n=to(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dp||(Dp=!0,Yy=r),Ry(e,t)},n}function FM(e,t,n){n=to(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ry(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ry(e,t),typeof r!="function"&&(el===null?el=new Set([this]):el.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function O2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ez;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wz.bind(null,e,t,n),t.then(e,e))}function I2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=to(-1,1),t.tag=2,Jo(n,t,1))),n.lanes|=1),e)}var Dz=vo.ReactCurrentOwner,Zi=!1;function Ri(e,t,n,r){t.child=e===null?mM(t,null,n,r):Pu(t,e.child,n,r)}function L2(e,t,n,r,i){n=n.render;var a=t.ref;return yu(t,i),r=i1(e,t,n,r,a,i),n=a1(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,co(e,t,i)):(lr&&n&&qw(t),t.flags|=1,Ri(e,t,r,i),t.child)}function $2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!p1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,RM(e,t,a,r,i)):(e=Qh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:hf,n(s,r)&&e.ref===t.ref)return co(e,t,i)}return t.flags|=1,e=nl(a,r),e.ref=t.ref,e.return=t,t.child=e}function RM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(hf(a,r)&&e.ref===t.ref)if(Zi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Zi=!0);else return t.lanes=e.lanes,co(e,t,i)}return By(e,t,n,r,i)}function BM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(lu,ha),ha|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gn(lu,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Gn(lu,ha),ha|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Gn(lu,ha),ha|=r;return Ri(e,t,i,n),t.child}function zM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function By(e,t,n,r,i){var a=ta(n)?lc:Mi.current;return a=ju(t,a),yu(t,i),n=i1(e,t,n,r,a,i),r=a1(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,co(e,t,i)):(lr&&r&&qw(t),t.flags|=1,Ri(e,t,n,i),t.child)}function F2(e,t,n,r,i){if(ta(n)){var a=!0;wp(t)}else a=!1;if(yu(t,i),t.stateNode===null)Gh(e,t),LM(t,n,r),Fy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Va(c):(c=ta(n)?lc:Mi.current,c=ju(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&M2(t,s,r,c),Fo=!1;var h=t.memoizedState;s.state=h,jp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ea.current||Fo?(typeof d=="function"&&($y(t,n,d,r),l=t.memoizedState),(o=Fo||D2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,pM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ts(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Va(l):(l=ta(n)?lc:Mi.current,l=ju(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&M2(t,s,r,l),Fo=!1,h=t.memoizedState,s.state=h,jp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ea.current||Fo?(typeof m=="function"&&($y(t,n,m,r),p=t.memoizedState),(c=Fo||D2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return zy(e,t,n,r,a,i)}function zy(e,t,n,r,i,a){zM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&S2(t,n,!1),co(e,t,a);r=t.stateNode,Dz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pu(t,e.child,null,a),t.child=Pu(t,null,o,a)):Ri(e,t,o,a),t.memoizedState=r.state,i&&S2(t,n,!0),t.child}function UM(e){var t=e.stateNode;t.pendingContext?k2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k2(e,t.context,!1),e1(e,t.containerInfo)}function R2(e,t,n,r,i){return Au(),Gw(i),t.flags|=256,Ri(e,t,n,r),t.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function Vy(e){return{baseLanes:e,cachePool:null,transitions:null}}function VM(e,t,n){var r=t.pendingProps,i=hr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gn(hr,i&1),e===null)return _y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=r0(s,r,0,null),e=tc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vy(n),t.memoizedState=Uy,e):l1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Mz(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=nl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=nl(o,a):(a=tc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Vy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Uy,r}return a=e.child,e=a.sibling,r=nl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function l1(e,t){return t=r0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ch(e,t,n,r){return r!==null&&Gw(r),Pu(t,e.child,null,n),e=l1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mz(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Jx(Error(Ge(422))),ch(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=r0({mode:"visible",children:r.children},i,0,null),a=tc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Pu(t,e.child,null,s),t.child.memoizedState=Vy(s),t.memoizedState=Uy,a);if(!(t.mode&1))return ch(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ge(419)),r=Jx(a,r,void 0),ch(e,t,s,r)}if(o=(s&e.childLanes)!==0,Zi||o){if(r=ri,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,lo(e,i),ls(r,e,i,-1))}return h1(),r=Jx(Error(Ge(421))),ch(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Hz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xa=Zo(i.nextSibling),ya=t,lr=!0,rs=null,e!==null&&($a[Fa++]=Xs,$a[Fa++]=Qs,$a[Fa++]=cc,Xs=e.id,Qs=e.overflow,cc=t),t=l1(t,r.children),t.flags|=4096,t)}function B2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ly(e.return,t,n)}function ev(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function WM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ri(e,t,r.children,n),r=hr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B2(e,n,t);else if(e.tag===19)B2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gn(hr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ap(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ev(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ap(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ev(t,!0,n,null,a);break;case"together":ev(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function co(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Oz(e,t,n){switch(t.tag){case 3:UM(t),Au();break;case 5:gM(t);break;case 1:ta(t.type)&&wp(t);break;case 4:e1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Gn(Np,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gn(hr,hr.current&1),t.flags|=128,null):n&t.child.childLanes?VM(e,t,n):(Gn(hr,hr.current&1),e=co(e,t,n),e!==null?e.sibling:null);Gn(hr,hr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gn(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,BM(e,t,n)}return co(e,t,n)}var HM,Wy,qM,KM;HM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wy=function(){};qM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kl(Ms.current);var a=null;switch(n){case"input":i=fy(e,i),r=fy(e,r),a=[];break;case"select":i=vr({},i,{value:void 0}),r=vr({},r,{value:void 0}),a=[];break;case"textarea":i=py(e,i),r=py(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yp)}xy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(of.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(of.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};KM=function(e,t,n,r){n!==r&&(t.flags|=4)};function yd(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ni(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Iz(e,t,n){var r=t.pendingProps;switch(Kw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(t),null;case 1:return ta(t.type)&&bp(),Ni(t),null;case 3:return r=t.stateNode,Tu(),rr(ea),rr(Mi),n1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rs!==null&&(Zy(rs),rs=null))),Wy(e,t),Ni(t),null;case 5:t1(t);var i=Kl(yf.current);if(n=t.type,e!==null&&t.stateNode!=null)qM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ge(166));return Ni(t),null}if(e=Kl(Ms.current),oh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ts]=t,r[xf]=a,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<$d.length;i++)tr($d[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":YN(r,a),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},tr("invalid",r);break;case"textarea":QN(r,a),tr("invalid",r)}xy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&sh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&sh(r.textContent,o,e),i=["children",""+o]):of.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&tr("scroll",r)}switch(n){case"input":Zm(r),XN(r,a,!0);break;case"textarea":Zm(r),ZN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=yp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ts]=t,e[xf]=r,HM(e,t,!1,!1),t.stateNode=e;e:{switch(s=vy(n,r),n){case"dialog":tr("cancel",e),tr("close",e),i=r;break;case"iframe":case"object":case"embed":tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<$d.length;i++)tr($d[i],e);i=r;break;case"source":tr("error",e),i=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=r;break;case"details":tr("toggle",e),i=r;break;case"input":YN(e,r),i=fy(e,r),tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=vr({},r,{value:void 0}),tr("invalid",e);break;case"textarea":QN(e,r),i=py(e,r),tr("invalid",e);break;default:i=r}xy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ND(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lf(e,l):typeof l=="number"&&lf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(of.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tr("scroll",e):l!=null&&Mw(e,a,l,s))}switch(n){case"input":Zm(e),XN(e,r,!1);break;case"textarea":Zm(e),ZN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?pu(e,!!r.multiple,a,!1):r.defaultValue!=null&&pu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ni(t),null;case 6:if(e&&t.stateNode!=null)KM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ge(166));if(n=Kl(yf.current),Kl(Ms.current),oh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ts]=t,(a=r.nodeValue!==n)&&(e=ya,e!==null))switch(e.tag){case 3:sh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ts]=t,t.stateNode=r}return Ni(t),null;case 13:if(rr(hr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&xa!==null&&t.mode&1&&!(t.flags&128))dM(),Au(),t.flags|=98560,a=!1;else if(a=oh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ge(317));a[Ts]=t}else Au(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ni(t),a=!1}else rs!==null&&(Zy(rs),rs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?qr===0&&(qr=3):h1())),t.updateQueue!==null&&(t.flags|=4),Ni(t),null);case 4:return Tu(),Wy(e,t),e===null&&pf(t.stateNode.containerInfo),Ni(t),null;case 10:return Qw(t.type._context),Ni(t),null;case 17:return ta(t.type)&&bp(),Ni(t),null;case 19:if(rr(hr),a=t.memoizedState,a===null)return Ni(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)yd(a,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ap(e),s!==null){for(t.flags|=128,yd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gn(hr,hr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Dr()>Du&&(t.flags|=128,r=!0,yd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ap(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!lr)return Ni(t),null}else 2*Dr()-a.renderingStartTime>Du&&n!==1073741824&&(t.flags|=128,r=!0,yd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Dr(),t.sibling=null,n=hr.current,Gn(hr,r?n&1|2:n&1),t):(Ni(t),null);case 22:case 23:return m1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ha&1073741824&&(Ni(t),t.subtreeFlags&6&&(t.flags|=8192)):Ni(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function _z(e,t){switch(Kw(t),t.tag){case 1:return ta(t.type)&&bp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tu(),rr(ea),rr(Mi),n1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return t1(t),null;case 13:if(rr(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));Au()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(hr),null;case 4:return Tu(),null;case 10:return Qw(t.type._context),null;case 22:case 23:return m1(),null;case 24:return null;default:return null}}var uh=!1,Ai=!1,Lz=typeof WeakSet=="function"?WeakSet:Set,vt=null;function ou(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nr(e,t,r)}else n.current=null}function Hy(e,t,n){try{n()}catch(r){Nr(e,t,r)}}var z2=!1;function $z(e,t){if(Py=gp,e=ZD(),Hw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ty={focusedElem:e,selectionRange:n},gp=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:ts(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(S){Nr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return p=z2,z2=!1,p}function Gd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Hy(t,n,a)}i=i.next}while(i!==r)}}function t0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function GM(e){var t=e.alternate;t!==null&&(e.alternate=null,GM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ts],delete t[xf],delete t[My],delete t[yz],delete t[bz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YM(e){return e.tag===5||e.tag===3||e.tag===4}function U2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ky(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yp));else if(r!==4&&(e=e.child,e!==null))for(Ky(e,t,n),e=e.sibling;e!==null;)Ky(e,t,n),e=e.sibling}function Gy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gy(e,t,n),e=e.sibling;e!==null;)Gy(e,t,n),e=e.sibling}var mi=null,ns=!1;function Oo(e,t,n){for(n=n.child;n!==null;)XM(e,t,n),n=n.sibling}function XM(e,t,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Kg,n)}catch{}switch(n.tag){case 5:Ai||ou(n,t);case 6:var r=mi,i=ns;mi=null,Oo(e,t,n),mi=r,ns=i,mi!==null&&(ns?(e=mi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mi.removeChild(n.stateNode));break;case 18:mi!==null&&(ns?(e=mi,n=n.stateNode,e.nodeType===8?Kx(e.parentNode,n):e.nodeType===1&&Kx(e,n),ff(e)):Kx(mi,n.stateNode));break;case 4:r=mi,i=ns,mi=n.stateNode.containerInfo,ns=!0,Oo(e,t,n),mi=r,ns=i;break;case 0:case 11:case 14:case 15:if(!Ai&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Hy(n,t,s),i=i.next}while(i!==r)}Oo(e,t,n);break;case 1:if(!Ai&&(ou(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nr(n,t,o)}Oo(e,t,n);break;case 21:Oo(e,t,n);break;case 22:n.mode&1?(Ai=(r=Ai)||n.memoizedState!==null,Oo(e,t,n),Ai=r):Oo(e,t,n);break;default:Oo(e,t,n)}}function V2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lz),t.forEach(function(r){var i=qz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function es(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:mi=o.stateNode,ns=!1;break e;case 3:mi=o.stateNode.containerInfo,ns=!0;break e;case 4:mi=o.stateNode.containerInfo,ns=!0;break e}o=o.return}if(mi===null)throw Error(Ge(160));XM(a,s,i),mi=null,ns=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QM(t,e),t=t.sibling}function QM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(es(t,e),ks(e),r&4){try{Gd(3,e,e.return),t0(3,e)}catch(g){Nr(e,e.return,g)}try{Gd(5,e,e.return)}catch(g){Nr(e,e.return,g)}}break;case 1:es(t,e),ks(e),r&512&&n!==null&&ou(n,n.return);break;case 5:if(es(t,e),ks(e),r&512&&n!==null&&ou(n,n.return),e.flags&32){var i=e.stateNode;try{lf(i,"")}catch(g){Nr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&yD(i,a),vy(o,s);var c=vy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?ND(i,f):d==="dangerouslySetInnerHTML"?kD(i,f):d==="children"?lf(i,f):Mw(i,d,f,c)}switch(o){case"input":my(i,a);break;case"textarea":bD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?pu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?pu(i,!!a.multiple,a.defaultValue,!0):pu(i,!!a.multiple,a.multiple?[]:"",!1))}i[xf]=a}catch(g){Nr(e,e.return,g)}}break;case 6:if(es(t,e),ks(e),r&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nr(e,e.return,g)}}break;case 3:if(es(t,e),ks(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ff(t.containerInfo)}catch(g){Nr(e,e.return,g)}break;case 4:es(t,e),ks(e);break;case 13:es(t,e),ks(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(d1=Dr())),r&4&&V2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ai=(c=Ai)||d,es(t,e),Ai=c):es(t,e),ks(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(vt=e,d=e.child;d!==null;){for(f=vt=d;vt!==null;){switch(h=vt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Gd(4,h,h.return);break;case 1:ou(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nr(r,n,g)}}break;case 5:ou(h,h.return);break;case 22:if(h.memoizedState!==null){H2(f);continue}}m!==null?(m.return=h,vt=m):H2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=SD("display",s))}catch(g){Nr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Nr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:es(t,e),ks(e),r&4&&V2(e);break;case 21:break;default:es(t,e),ks(e)}}function ks(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YM(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lf(i,""),r.flags&=-33);var a=U2(e);Gy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=U2(e);Ky(e,o,s);break;default:throw Error(Ge(161))}}catch(l){Nr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fz(e,t,n){vt=e,ZM(e)}function ZM(e,t,n){for(var r=(e.mode&1)!==0;vt!==null;){var i=vt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||uh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ai;o=uh;var c=Ai;if(uh=s,(Ai=l)&&!c)for(vt=i;vt!==null;)s=vt,l=s.child,s.tag===22&&s.memoizedState!==null?q2(i):l!==null?(l.return=s,vt=l):q2(i);for(;a!==null;)vt=a,ZM(a),a=a.sibling;vt=i,uh=o,Ai=c}W2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,vt=a):W2(e)}}function W2(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ai||t0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ai)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ts(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&P2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}P2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ff(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Ai||t.flags&512&&qy(t)}catch(h){Nr(t,t.return,h)}}if(t===e){vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,vt=n;break}vt=t.return}}function H2(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,vt=n;break}vt=t.return}}function q2(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{t0(4,t)}catch(l){Nr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Nr(t,i,l)}}var a=t.return;try{qy(t)}catch(l){Nr(t,a,l)}break;case 5:var s=t.return;try{qy(t)}catch(l){Nr(t,s,l)}}}catch(l){Nr(t,t.return,l)}if(t===e){vt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,vt=o;break}vt=t.return}}var Rz=Math.ceil,Ep=vo.ReactCurrentDispatcher,c1=vo.ReactCurrentOwner,Ua=vo.ReactCurrentBatchConfig,bn=0,ri=null,Rr=null,gi=0,ha=0,lu=ml(0),qr=0,Sf=null,dc=0,n0=0,u1=0,Yd=null,Qi=null,d1=0,Du=1/0,Ws=null,Dp=!1,Yy=null,el=null,dh=!1,qo=null,Mp=0,Xd=0,Xy=null,Yh=-1,Xh=0;function Ui(){return bn&6?Dr():Yh!==-1?Yh:Yh=Dr()}function tl(e){return e.mode&1?bn&2&&gi!==0?gi&-gi:kz.transition!==null?(Xh===0&&(Xh=LD()),Xh):(e=_n,e!==0||(e=window.event,e=e===void 0?16:VD(e.type)),e):1}function ls(e,t,n,r){if(50<Xd)throw Xd=0,Xy=null,Error(Ge(185));Jf(e,n,r),(!(bn&2)||e!==ri)&&(e===ri&&(!(bn&2)&&(n0|=n),qr===4&&Vo(e,gi)),na(e,r),n===1&&bn===0&&!(t.mode&1)&&(Du=Dr()+500,Zg&&hl()))}function na(e,t){var n=e.callbackNode;kB(e,t);var r=pp(e,e===ri?gi:0);if(r===0)n!==null&&t2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&t2(n),t===1)e.tag===0?wz(K2.bind(null,e)):lM(K2.bind(null,e)),xz(function(){!(bn&6)&&hl()}),n=null;else{switch($D(r)){case 1:n=$w;break;case 4:n=ID;break;case 16:n=hp;break;case 536870912:n=_D;break;default:n=hp}n=sO(n,JM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function JM(e,t){if(Yh=-1,Xh=0,bn&6)throw Error(Ge(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=pp(e,e===ri?gi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Op(e,r);else{t=r;var i=bn;bn|=2;var a=tO();(ri!==e||gi!==t)&&(Ws=null,Du=Dr()+500,ec(e,t));do try{Uz();break}catch(o){eO(e,o)}while(!0);Xw(),Ep.current=a,bn=i,Rr!==null?t=0:(ri=null,gi=0,t=qr)}if(t!==0){if(t===2&&(i=Sy(e),i!==0&&(r=i,t=Qy(e,i))),t===1)throw n=Sf,ec(e,0),Vo(e,r),na(e,Dr()),n;if(t===6)Vo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Bz(i)&&(t=Op(e,r),t===2&&(a=Sy(e),a!==0&&(r=a,t=Qy(e,a))),t===1))throw n=Sf,ec(e,0),Vo(e,r),na(e,Dr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ge(345));case 2:Fl(e,Qi,Ws);break;case 3:if(Vo(e,r),(r&130023424)===r&&(t=d1+500-Dr(),10<t)){if(pp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ui(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dy(Fl.bind(null,e,Qi,Ws),t);break}Fl(e,Qi,Ws);break;case 4:if(Vo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-os(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rz(r/1960))-r,10<r){e.timeoutHandle=Dy(Fl.bind(null,e,Qi,Ws),r);break}Fl(e,Qi,Ws);break;case 5:Fl(e,Qi,Ws);break;default:throw Error(Ge(329))}}}return na(e,Dr()),e.callbackNode===n?JM.bind(null,e):null}function Qy(e,t){var n=Yd;return e.current.memoizedState.isDehydrated&&(ec(e,t).flags|=256),e=Op(e,t),e!==2&&(t=Qi,Qi=n,t!==null&&Zy(t)),e}function Zy(e){Qi===null?Qi=e:Qi.push.apply(Qi,e)}function Bz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ds(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vo(e,t){for(t&=~u1,t&=~n0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-os(t),r=1<<n;e[n]=-1,t&=~r}}function K2(e){if(bn&6)throw Error(Ge(327));bu();var t=pp(e,0);if(!(t&1))return na(e,Dr()),null;var n=Op(e,t);if(e.tag!==0&&n===2){var r=Sy(e);r!==0&&(t=r,n=Qy(e,r))}if(n===1)throw n=Sf,ec(e,0),Vo(e,t),na(e,Dr()),n;if(n===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fl(e,Qi,Ws),na(e,Dr()),null}function f1(e,t){var n=bn;bn|=1;try{return e(t)}finally{bn=n,bn===0&&(Du=Dr()+500,Zg&&hl())}}function fc(e){qo!==null&&qo.tag===0&&!(bn&6)&&bu();var t=bn;bn|=1;var n=Ua.transition,r=_n;try{if(Ua.transition=null,_n=1,e)return e()}finally{_n=r,Ua.transition=n,bn=t,!(bn&6)&&hl()}}function m1(){ha=lu.current,rr(lu)}function ec(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gz(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(Kw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bp();break;case 3:Tu(),rr(ea),rr(Mi),n1();break;case 5:t1(r);break;case 4:Tu();break;case 13:rr(hr);break;case 19:rr(hr);break;case 10:Qw(r.type._context);break;case 22:case 23:m1()}n=n.return}if(ri=e,Rr=e=nl(e.current,null),gi=ha=t,qr=0,Sf=null,u1=n0=dc=0,Qi=Yd=null,ql!==null){for(t=0;t<ql.length;t++)if(n=ql[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ql=null}return e}function eO(e,t){do{var n=Rr;try{if(Xw(),qh.current=Tp,Pp){for(var r=xr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pp=!1}if(uc=0,ni=Wr=xr=null,Kd=!1,bf=0,c1.current=null,n===null||n.return===null){qr=1,Sf=t,Rr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=gi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=I2(s);if(m!==null){m.flags&=-257,_2(m,s,o,a,t),m.mode&1&&O2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){O2(a,c,t),h1();break e}l=Error(Ge(426))}}else if(lr&&o.mode&1){var y=I2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_2(y,s,o,a,t),Gw(Eu(l,o));break e}}a=l=Eu(l,o),qr!==4&&(qr=2),Yd===null?Yd=[a]:Yd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=$M(a,l,t);A2(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(el===null||!el.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=FM(a,o,t);A2(a,S);break e}}a=a.return}while(a!==null)}rO(n)}catch(C){t=C,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function tO(){var e=Ep.current;return Ep.current=Tp,e===null?Tp:e}function h1(){(qr===0||qr===3||qr===2)&&(qr=4),ri===null||!(dc&268435455)&&!(n0&268435455)||Vo(ri,gi)}function Op(e,t){var n=bn;bn|=2;var r=tO();(ri!==e||gi!==t)&&(Ws=null,ec(e,t));do try{zz();break}catch(i){eO(e,i)}while(!0);if(Xw(),bn=n,Ep.current=r,Rr!==null)throw Error(Ge(261));return ri=null,gi=0,qr}function zz(){for(;Rr!==null;)nO(Rr)}function Uz(){for(;Rr!==null&&!mB();)nO(Rr)}function nO(e){var t=aO(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?rO(e):Rr=t,c1.current=null}function rO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_z(n,t),n!==null){n.flags&=32767,Rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Rr=null;return}}else if(n=Iz(n,t,ha),n!==null){Rr=n;return}if(t=t.sibling,t!==null){Rr=t;return}Rr=t=e}while(t!==null);qr===0&&(qr=5)}function Fl(e,t,n){var r=_n,i=Ua.transition;try{Ua.transition=null,_n=1,Vz(e,t,n,r)}finally{Ua.transition=i,_n=r}return null}function Vz(e,t,n,r){do bu();while(qo!==null);if(bn&6)throw Error(Ge(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(SB(e,a),e===ri&&(Rr=ri=null,gi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dh||(dh=!0,sO(hp,function(){return bu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ua.transition,Ua.transition=null;var s=_n;_n=1;var o=bn;bn|=4,c1.current=null,$z(e,n),QM(n,e),cz(Ty),gp=!!Py,Ty=Py=null,e.current=n,Fz(n),hB(),bn=o,_n=s,Ua.transition=a}else e.current=n;if(dh&&(dh=!1,qo=e,Mp=i),a=e.pendingLanes,a===0&&(el=null),xB(n.stateNode),na(e,Dr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dp)throw Dp=!1,e=Yy,Yy=null,e;return Mp&1&&e.tag!==0&&bu(),a=e.pendingLanes,a&1?e===Xy?Xd++:(Xd=0,Xy=e):Xd=0,hl(),null}function bu(){if(qo!==null){var e=$D(Mp),t=Ua.transition,n=_n;try{if(Ua.transition=null,_n=16>e?16:e,qo===null)var r=!1;else{if(e=qo,qo=null,Mp=0,bn&6)throw Error(Ge(331));var i=bn;for(bn|=4,vt=e.current;vt!==null;){var a=vt,s=a.child;if(vt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(vt=c;vt!==null;){var d=vt;switch(d.tag){case 0:case 11:case 15:Gd(8,d,a)}var f=d.child;if(f!==null)f.return=d,vt=f;else for(;vt!==null;){d=vt;var h=d.sibling,m=d.return;if(GM(d),d===c){vt=null;break}if(h!==null){h.return=m,vt=h;break}vt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}vt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,vt=s;else e:for(;vt!==null;){if(a=vt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Gd(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,vt=x;break e}vt=a.return}}var b=e.current;for(vt=b;vt!==null;){s=vt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,vt=w;else e:for(s=b;vt!==null;){if(o=vt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:t0(9,o)}}catch(C){Nr(o,o.return,C)}if(o===s){vt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,vt=S;break e}vt=o.return}}if(bn=i,hl(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Kg,e)}catch{}r=!0}return r}finally{_n=n,Ua.transition=t}}return!1}function G2(e,t,n){t=Eu(n,t),t=$M(e,t,1),e=Jo(e,t,1),t=Ui(),e!==null&&(Jf(e,1,t),na(e,t))}function Nr(e,t,n){if(e.tag===3)G2(e,e,n);else for(;t!==null;){if(t.tag===3){G2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(el===null||!el.has(r))){e=Eu(n,e),e=FM(t,e,1),t=Jo(t,e,1),e=Ui(),t!==null&&(Jf(t,1,e),na(t,e));break}}t=t.return}}function Wz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ui(),e.pingedLanes|=e.suspendedLanes&n,ri===e&&(gi&n)===n&&(qr===4||qr===3&&(gi&130023424)===gi&&500>Dr()-d1?ec(e,0):u1|=n),na(e,t)}function iO(e,t){t===0&&(e.mode&1?(t=th,th<<=1,!(th&130023424)&&(th=4194304)):t=1);var n=Ui();e=lo(e,t),e!==null&&(Jf(e,t,n),na(e,n))}function Hz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iO(e,n)}function qz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(t),iO(e,n)}var aO;aO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ea.current)Zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zi=!1,Oz(e,t,n);Zi=!!(e.flags&131072)}else Zi=!1,lr&&t.flags&1048576&&cM(t,Sp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gh(e,t),e=t.pendingProps;var i=ju(t,Mi.current);yu(t,n),i=i1(null,t,r,e,i,n);var a=a1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ta(r)?(a=!0,wp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jw(t),i.updater=e0,t.stateNode=i,i._reactInternals=t,Fy(t,r,e,n),t=zy(null,t,r,!0,a,n)):(t.tag=0,lr&&a&&qw(t),Ri(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Gz(r),e=ts(r,e),i){case 0:t=By(null,t,r,e,n);break e;case 1:t=F2(null,t,r,e,n);break e;case 11:t=L2(null,t,r,e,n);break e;case 14:t=$2(null,t,r,ts(r.type,e),n);break e}throw Error(Ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),By(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),F2(e,t,r,i,n);case 3:e:{if(UM(t),e===null)throw Error(Ge(387));r=t.pendingProps,a=t.memoizedState,i=a.element,pM(e,t),jp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Eu(Error(Ge(423)),t),t=R2(e,t,r,n,i);break e}else if(r!==i){i=Eu(Error(Ge(424)),t),t=R2(e,t,r,n,i);break e}else for(xa=Zo(t.stateNode.containerInfo.firstChild),ya=t,lr=!0,rs=null,n=mM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Au(),r===i){t=co(e,t,n);break e}Ri(e,t,r,n)}t=t.child}return t;case 5:return gM(t),e===null&&_y(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Ey(r,i)?s=null:a!==null&&Ey(r,a)&&(t.flags|=32),zM(e,t),Ri(e,t,s,n),t.child;case 6:return e===null&&_y(t),null;case 13:return VM(e,t,n);case 4:return e1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pu(t,null,r,n):Ri(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),L2(e,t,r,i,n);case 7:return Ri(e,t,t.pendingProps,n),t.child;case 8:return Ri(e,t,t.pendingProps.children,n),t.child;case 12:return Ri(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Gn(Np,r._currentValue),r._currentValue=s,a!==null)if(ds(a.value,s)){if(a.children===i.children&&!ea.current){t=co(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=to(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ly(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ge(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ly(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ri(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yu(t,n),i=Va(i),r=r(i),t.flags|=1,Ri(e,t,r,n),t.child;case 14:return r=t.type,i=ts(r,t.pendingProps),i=ts(r.type,i),$2(e,t,r,i,n);case 15:return RM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ts(r,i),Gh(e,t),t.tag=1,ta(r)?(e=!0,wp(t)):e=!1,yu(t,n),LM(t,r,i),Fy(t,r,i,n),zy(null,t,r,!0,e,n);case 19:return WM(e,t,n);case 22:return BM(e,t,n)}throw Error(Ge(156,t.tag))};function sO(e,t){return OD(e,t)}function Kz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(e,t,n,r){return new Kz(e,t,n,r)}function p1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gz(e){if(typeof e=="function")return p1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Iw)return 11;if(e===_w)return 14}return 2}function nl(e,t){var n=e.alternate;return n===null?(n=Ba(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")p1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Zc:return tc(n.children,i,a,t);case Ow:s=8,i|=8;break;case ly:return e=Ba(12,n,t,i|2),e.elementType=ly,e.lanes=a,e;case cy:return e=Ba(13,n,t,i),e.elementType=cy,e.lanes=a,e;case uy:return e=Ba(19,n,t,i),e.elementType=uy,e.lanes=a,e;case gD:return r0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hD:s=10;break e;case pD:s=9;break e;case Iw:s=11;break e;case _w:s=14;break e;case $o:s=16,r=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=Ba(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function tc(e,t,n,r){return e=Ba(7,e,r,t),e.lanes=n,e}function r0(e,t,n,r){return e=Ba(22,e,r,t),e.elementType=gD,e.lanes=n,e.stateNode={isHidden:!1},e}function tv(e,t,n){return e=Ba(6,e,null,t),e.lanes=n,e}function nv(e,t,n){return t=Ba(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lx(0),this.expirationTimes=Lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g1(e,t,n,r,i,a,s,o,l){return e=new Yz(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ba(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jw(a),e}function Xz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function oO(e){if(!e)return ol;e=e._reactInternals;e:{if(Cc(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var n=e.type;if(ta(n))return oM(e,n,t)}return t}function lO(e,t,n,r,i,a,s,o,l){return e=g1(n,r,!0,e,i,a,s,o,l),e.context=oO(null),n=e.current,r=Ui(),i=tl(n),a=to(r,i),a.callback=t??null,Jo(n,a,i),e.current.lanes=i,Jf(e,i,r),na(e,r),e}function i0(e,t,n,r){var i=t.current,a=Ui(),s=tl(i);return n=oO(n),t.context===null?t.context=n:t.pendingContext=n,t=to(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jo(i,t,s),e!==null&&(ls(e,i,s,a),Hh(e,i,s)),s}function Ip(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function x1(e,t){Y2(e,t),(e=e.alternate)&&Y2(e,t)}function Qz(){return null}var cO=typeof reportError=="function"?reportError:function(e){console.error(e)};function v1(e){this._internalRoot=e}a0.prototype.render=v1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));i0(e,t,null,null)};a0.prototype.unmount=v1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fc(function(){i0(null,e,null,null)}),t[oo]=null}};function a0(e){this._internalRoot=e}a0.prototype.unstable_scheduleHydration=function(e){if(e){var t=BD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Uo.length&&t!==0&&t<Uo[n].priority;n++);Uo.splice(n,0,e),n===0&&UD(e)}};function y1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X2(){}function Zz(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Ip(s);a.call(c)}}var s=lO(t,r,e,0,null,!1,!1,"",X2);return e._reactRootContainer=s,e[oo]=s.current,pf(e.nodeType===8?e.parentNode:e),fc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Ip(l);o.call(c)}}var l=g1(e,0,!1,null,null,!1,!1,"",X2);return e._reactRootContainer=l,e[oo]=l.current,pf(e.nodeType===8?e.parentNode:e),fc(function(){i0(t,l,n,r)}),l}function o0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Ip(s);o.call(l)}}i0(t,s,e,i)}else s=Zz(n,t,e,i,r);return Ip(s)}FD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ld(t.pendingLanes);n!==0&&(Fw(t,n|1),na(t,Dr()),!(bn&6)&&(Du=Dr()+500,hl()))}break;case 13:fc(function(){var r=lo(e,1);if(r!==null){var i=Ui();ls(r,e,1,i)}}),x1(e,1)}};Rw=function(e){if(e.tag===13){var t=lo(e,134217728);if(t!==null){var n=Ui();ls(t,e,134217728,n)}x1(e,134217728)}};RD=function(e){if(e.tag===13){var t=tl(e),n=lo(e,t);if(n!==null){var r=Ui();ls(n,e,t,r)}x1(e,t)}};BD=function(){return _n};zD=function(e,t){var n=_n;try{return _n=e,t()}finally{_n=n}};by=function(e,t,n){switch(t){case"input":if(my(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qg(r);if(!i)throw Error(Ge(90));vD(r),my(r,i)}}}break;case"textarea":bD(e,n);break;case"select":t=n.value,t!=null&&pu(e,!!n.multiple,t,!1)}};AD=f1;PD=fc;var Jz={usingClientEntryPoint:!1,Events:[tm,nu,Qg,CD,jD,f1]},bd={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e6={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DD(e),e===null?null:e.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||Qz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Kg=fh.inject(e6),Ds=fh}catch{}}ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jz;ja.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y1(t))throw Error(Ge(200));return Xz(e,t,null,n)};ja.createRoot=function(e,t){if(!y1(e))throw Error(Ge(299));var n=!1,r="",i=cO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=g1(e,1,!1,null,null,n,!1,r,i),e[oo]=t.current,pf(e.nodeType===8?e.parentNode:e),new v1(t)};ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=DD(t),e=e===null?null:e.stateNode,e};ja.flushSync=function(e){return fc(e)};ja.hydrate=function(e,t,n){if(!s0(t))throw Error(Ge(200));return o0(null,e,t,!0,n)};ja.hydrateRoot=function(e,t,n){if(!y1(e))throw Error(Ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=cO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=lO(t,null,e,1,n??null,i,!1,a,s),e[oo]=t.current,pf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new a0(t)};ja.render=function(e,t,n){if(!s0(t))throw Error(Ge(200));return o0(null,e,t,!1,n)};ja.unmountComponentAtNode=function(e){if(!s0(e))throw Error(Ge(40));return e._reactRootContainer?(fc(function(){o0(null,null,e,!1,function(){e._reactRootContainer=null,e[oo]=null})}),!0):!1};ja.unstable_batchedUpdates=f1;ja.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!s0(n))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return o0(e,t,n,!1,r)};ja.version="18.3.1-next-f1338f8080-20240426";function uO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uO)}catch(e){console.error(e)}}uO(),uD.exports=ja;var Yu=uD.exports,Q2=Yu;sy.createRoot=Q2.createRoot,sy.hydrateRoot=Q2.hydrateRoot;const t6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),dO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],fO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],n6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],mO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],r6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],i6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],a6=new Set([10244]),s6=(e,t)=>{var i;if(a6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return i6.some(a=>r.includes(a))},o6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},mh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},hO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,pO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},ma=(e,t=2)=>Number.isFinite(e)?hO()&&Math.abs(e)>=1e4?pO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",_o=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return hO()&&t>=1e4?pO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var l6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>v.createElement("svg",{ref:c,...l6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${c6(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},gO=Zt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),u6=Zt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),b1=Zt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),xO=Zt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),d6=Zt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),f6=Zt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),vO=Zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Jy=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),m6=Zt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),fs=Zt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),h6=Zt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),p6=Zt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),g6=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),x6=Zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Nf=Zt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),v6=Zt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),w1=Zt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),y6=Zt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),yO=Zt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),b6=Zt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),k1=Zt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),w6=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),S1=Zt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),k6=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),N1=Zt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),sa=Zt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Z2=Zt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),S6=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),N6=Zt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),C6=Zt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),bO=Zt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Mu=Zt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),l0=Zt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),c0=Zt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),_p=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),j6=Zt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Ko=Zt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),nc=Zt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),A6=Zt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),jr=Zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),P6=Zt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),wO=Zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ki=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cf=Zt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),C1=({className:e})=>u.jsx(S6,{className:e,strokeWidth:3.2}),rm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},j1=({className:e=""})=>{const t=rm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},A1=({className:e=""})=>{const t=rm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},P1=({className:e=""})=>{const t=rm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},T1=({className:e=""})=>{const t=rm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},T6=[{id:"overview",label:"Overview",icon:nc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:nc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Ko},{id:"top-players",label:"Top Players",icon:nc},{id:"top-skills-outgoing",label:"Top Skills",icon:b1},{id:"squad-composition",label:"Classes",icon:jr},{id:"timeline",label:"Squad vs Enemy",icon:jr},{id:"map-distribution",label:"Map Distribution",icon:N1}]},{id:"roster",label:"Roster Intel",icon:Nf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Nf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:jr},{id:"fight-comp",label:"Fight Comp",icon:Ko}]},{id:"offense",label:"Offensive Stats",icon:Ko,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Ko},{id:"player-breakdown",label:"Player Breakdown",icon:S1},{id:"spike-damage",label:"Spike Damage",icon:Cf},{id:"conditions-outgoing",label:"Conditions",icon:l0}]},{id:"defense",label:"Defensive Stats",icon:Mu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:C6},{id:"defense-detailed",label:"Defense Detailed",icon:Mu},{id:"defense-mitigation",label:"Damage Mitigation",icon:P1},{id:"support-detailed",label:"Support Detailed",icon:C1},{id:"healing-stats",label:"Healing Stats",icon:yO},{id:"boon-output",label:"Boon Output",icon:A1}]},{id:"other",label:"Other Metrics",icon:_p,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:w1},{id:"special-buffs",label:"Special Buffs",icon:_p},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:T1},{id:"skill-usage",label:"Skill Usage",icon:k1},{id:"apm-stats",label:"APM Breakdown",icon:j1}]}],E6=(e,t=!0)=>{const[n,r]=v.useState(!1),[i,a]=v.useState("overview"),s=v.useRef(null),o=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>T6,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const p=m==="kdr"?"overview":m,g=s.current,y=document.getElementById(p);if(g&&y){const x=g.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+g.scrollTop,S=Math.max(0,g.scrollHeight-g.clientHeight),C=Math.min(Math.max(w-16,0),S);g.scrollTo({top:C,behavior:"smooth"}),a(p)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(p));r(!1)};v.useEffect(()=>{if(e)return;const m=p=>{const g=s.current;if(!g)return;const y=p.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&g.contains(y))&&p.deltaY!==0&&!(g.scrollHeight<=g.clientHeight)){if(l.current+=p.deltaY,o.current===null){const x=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,o.current=null;return}const w=b*.2;l.current=b-w,g.scrollBy({top:w,behavior:"auto"}),o.current=requestAnimationFrame(x)};o.current=requestAnimationFrame(x)}p.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),l.current=0}},[e]);const h=m=>{var x;const p=Math.max(0,d.findIndex(b=>b.id===i)),g=Math.min(Math.max(p+m,0),d.length-1),y=(x=d[g])==null?void 0:x.id;y&&f(y)};return v.useEffect(()=>{if(!t)return;const m=s.current;if(!m)return;let p=0;const g=()=>{var w;const x=m.getBoundingClientRect().top;let b=((w=d[0])==null?void 0:w.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);if(!C)return;C.getBoundingClientRect().top-x<=24&&(b=S.id)}),a(S=>S===b?S:b)},y=()=>{p&&cancelAnimationFrame(p),p=requestAnimationFrame(g)};return g(),m.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{p&&cancelAnimationFrame(p),m.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:i,setActiveNavId:a,scrollContainerRef:s,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:h}},J2=["selfBuffs","groupBuffs","squadBuffs"],Vs=(e,t,n=0)=>t?e/t:n,eC=e=>e!=null&&e.classification?e.classification==="Boon":!0,kO=e=>`b${e}`,D6=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},SO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},M6=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Vs(a-i,i,1):t==="squadBuffs"?h=Vs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Vs(d,r):Vs(d,r)*100,p=n?Vs(f,r):Vs(f,r)*100;else{const g=Vs(d,r)/(h||1),y=Vs(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},NO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=M6(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Vs(i,s):a},O6=(e,t,n,r,i)=>{const a=NO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},I6=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,b=D6(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=x,w.squadSupported+=f,J2.forEach(S=>{(m[S]||[]).forEach(N=>{var Q,ie,ce,K;if(typeof(N==null?void 0:N.id)!="number")return;const A=kO(N.id),E=l[A];if(!eC(E))return;const _=(E==null?void 0:E.stacking)??!1,T=((ie=(Q=N.buffData)==null?void 0:Q[0])==null?void 0:ie.generation)??0,M=((K=(ce=N.buffData)==null?void 0:ce[0])==null?void 0:K.wasted)??0,{generationMs:O,wastedMs:Y}=SO(S,_,T,M,o,x,f);!O&&!Y||(t.has(A)||t.set(A,E||{}),w.boons[A]||(w.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[A][S].generationMs+=O,w.boons[A][S].wastedMs+=Y)})})})}),{boonTables:Array.from(t.keys()).filter(a=>eC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!J2.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},tC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[kO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return SO(t,d,f,h,r,i,a)},_6={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},L6={methods:_6},$6=L6,E1="count",F6=e=>(e||0)/1e3,R6=(e,t)=>{var i;if(!e)return 0;const n=(i=$6.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},CO=(e,t,n)=>n==="duration"?F6(t):n==="tiered"?R6(e,t):e;function B6(e,t=E1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return CO(r,i,t)}function z6(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=tC(o,"selfBuffs",1122,n,l,a,r),d=tC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function U6(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function V6(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function W6(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const nC=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},rC=(e,t=E1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return CO(r,i,t)},iC=e=>U6(e),aC=e=>W6(e),sC=e=>V6(e),oC=(e,t=E1)=>B6(e,t),H6=(e,t)=>z6(e,t),q6="count",jO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},eb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},K6={uploading:!1,message:null,url:null,buildStatus:"idle"},lC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),AO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},hh=e=>{if(e)return AO[e]},jf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=lC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=lC.get(i);if(a)return a}return null},Gc=e=>jf(e),PO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=jf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(AO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Zh=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=jf(i);if(a)return a}return e?jf(e):null},G6=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},Y6=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},X6=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},Q6=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||G6,s=PO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,b=r[`${y.id}`].icon||b));const w=Zh(x,y.id,i);if(!w)return;const S=i==null?void 0:i[`b${y.id}`],C=S==null?void 0:S.name,N=s.get(w)||(S==null?void 0:S.icon),A=x.startsWith("Skill ")?C||w:x,E=b||(S==null?void 0:S.icon),_=Number(y.connectedHits??0),T=Number(y.hits??0),M=_>0?_:T,O=Number(y.totalDamage??0);if(!Number.isFinite(M)&&!Number.isFinite(O))return;const Y=l[w]||{name:w,icon:N,applications:0,damage:0};Y.applications+=Number.isFinite(M)?M:0,Y.damage+=Number.isFinite(O)?O:0,!Y.icon&&N&&(Y.icon=N),l[w]=Y;const Q=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};Q.applications+=Number.isFinite(M)?M:0,Q.damage+=Number.isFinite(O)?O:0;const ie=Q.skills[A]||{name:A,hits:0,damage:0,icon:E};ie.hits+=Number.isFinite(M)?M:0,ie.damage+=Number.isFinite(O)?O:0,!ie.icon&&E&&(ie.icon=E),Q.skills[A]=ie,!Q.icon&&N&&(Q.icon=N),o[p][w]=Q})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],x=jf(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const b=x;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([S,C])=>{var M;const N=c.get(S);if(!N)return;f+=1;const A=Y6(C),E=X6(C);d+=A;const _=((M=o[N])==null?void 0:M[b])||{applications:0,damage:0,skills:{}};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+A,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+E,o[N]=o[N]||{},o[N][b]=_;const T=l[b]||{name:b,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+A,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+E,l[b]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Af={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},Z6={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function rc(e){return Af[e]||Af.Unknown}function J6(e){return e?Z6[e]||e:"Unknown"}function Gl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Af[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=J6(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const eU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},$i=(e,t)=>eU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Fd=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0),s=r||eb,o=n||jO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=S=>Array.isArray(S)&&S.some(C=>C&&Number(C.count)>0),p=new Map,g=new Map;e.forEach(S=>{var A;const C=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);C&&p.set(String(C),S);const N=(S==null?void 0:S.permalink)||((A=S==null?void 0:S.details)==null?void 0:A.permalink);typeof N=="string"&&N.trim()&&g.set(N.trim(),S)});const y=h.map(S=>{var T;if(!S||typeof S!="object")return S;const C=S.id?String(S.id):"",N=typeof S.permalink=="string"?S.permalink.trim():"",A=(C?p.get(C):void 0)||(N?g.get(N):void 0);if(!A)return S;let E=S;if(Number(S.timestamp)<=0){const M=$i(A==null?void 0:A.details,A);M&&(E={...E,timestamp:M})}const _=(T=A==null?void 0:A.details)==null?void 0:T.teamBreakdown;return m(_)&&(E={...E,teamBreakdown:_}),E}),x=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],w=x.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(C=>Number((C==null?void 0:C.damage)||0)>0||Number((C==null?void 0:C.hits)||0)>0))?x:y.map((S,C)=>{const N=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},A=Object.entries(N).map(([K,G])=>({label:String(K||"Unknown"),count:Number(G||0)})).filter(K=>K.count>0).sort((K,G)=>G.count-K.count||K.label.localeCompare(G.label)),E=A.reduce((K,G)=>K+G.count,0),_=A.map(K=>({label:K.label,damage:K.count,hits:0,share:E>0?K.count/E:0})),T=Number((S==null?void 0:S.enemyDowns)||0),M=Number((S==null?void 0:S.enemyDeaths)||0),O=Number((S==null?void 0:S.alliesDown)||0),Y=Number((S==null?void 0:S.alliesDead)||0),Q=Number((S==null?void 0:S.totalOutgoingDamage)||0),ie=Number((S==null?void 0:S.totalIncomingDamage)||0),ce=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Y>0?M/Y:M},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:M},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:T},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Y},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:O},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Q-ie},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Q},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ie},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${C+1}`),shortLabel:`F${C+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:_,squadMetrics:ce}});return{...f,fightBreakdown:y,fightDiffMode:w}},c=(()=>{if(t)return l(t);const f=i||q6,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,x=0,b=0,w=0,S=0,C=0,N=0;const A=D=>{const q=((D==null?void 0:D.players)||[]).filter(ot=>!ot.notInSquad);let Ee=0,de=0,Be=0,Ce=0;return q.forEach(ot=>{var Vt;const ht=(Vt=ot.defenses)==null?void 0:Vt[0];if(!ht)return;const kt=Number(ht.downCount||0),qt=Number(ht.deadCount||0);Ee+=kt+qt,Be+=qt}),q.forEach(ot=>{!ot.statsTargets||ot.statsTargets.length===0||ot.statsTargets.forEach(ht=>{const kt=ht==null?void 0:ht[0];if(!kt)return;const qt=Number(kt.downed||0),Vt=Number(kt.killed||0);de+=qt+Vt,Ce+=Vt})}),{squadDownsDeaths:Ee,enemyDownsDeaths:de,squadDeaths:Be,enemyDeaths:Ce}},E=D=>{const{squadDownsDeaths:H,enemyDownsDeaths:q}=A(D);return H>0||q>0?q>H:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},_=new Map,T=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),M={},O={},Y=new Map,Q={},ie={},ce={},K=new Map,G=new Map,L=new Set(Object.keys(Af)),P=Object.keys(Af).filter(D=>D&&D!=="Unknown").sort((D,H)=>H.length-D.length),j=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],W=D=>{if(!D)return"Unknown";const H=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(L.has(H))return H;const q=H.toLowerCase();for(const de of P)if(q.includes(de.toLowerCase()))return de;return j.find(de=>q.includes(de.toLowerCase()))||H||"Unknown"},k=D=>D!=null&&D.classification?D.classification==="Boon":!0,I=new Map,ae=new Map,ee=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),U=D=>{const H=Number(D);return Number.isFinite(H)?H:0},ne=D=>{const H=String(D).split("|"),q=H[0]||"Unknown",Ee=W(H[1]||"Unknown"),de=H[2]||q||"Unknown";return{name:q,profession:Ee,account:de}},F=(D,H,q)=>{let Ee=D.get(H);return Ee?q.profession&&!Ee.professionList.includes(q.profession)&&Ee.professionList.push(q.profession):(Ee={account:q.account,name:q.name,profession:q.profession,professionList:q.profession?[q.profession]:[],activeMs:0,mitigationTotals:ee()},D.set(H,Ee)),Ee},J=(D,H,q)=>{let Ee=D.get(H);return Ee?q.profession&&!Ee.professionList.includes(q.profession)&&Ee.professionList.push(q.profession):(Ee={account:q.account,name:q.name,profession:q.profession,professionList:q.profession?[q.profession]:[],activeMs:0,mitigationTotals:ee(),minion:q.minion},D.set(H,Ee)),Ee},ue=(D,H)=>{D.totalHits+=U((H==null?void 0:H.skill_hits)??(H==null?void 0:H.skillHits)),D.blocked+=U(H==null?void 0:H.blocked),D.evaded+=U(H==null?void 0:H.evaded),D.glanced+=U(H==null?void 0:H.glanced),D.missed+=U(H==null?void 0:H.missed),D.invulned+=U(H==null?void 0:H.invulned),D.interrupted+=U(H==null?void 0:H.interrupted),D.totalMitigation+=U((H==null?void 0:H.avoided_damage)??(H==null?void 0:H.avoidedDamage)),D.minMitigation+=U((H==null?void 0:H.min_avoided_damage)??(H==null?void 0:H.minAvoidedDamage))},re=D=>Object.values(D).some(H=>H>0),V=(D,H,q)=>{var Be,Ce,ot,ht;const Ee=`s${D}`;if((Be=H==null?void 0:H[Ee])!=null&&Be.name)return H[Ee].name;if((Ce=H==null?void 0:H[String(D)])!=null&&Ce.name)return H[String(D)].name;const de=`b${D}`;return(ot=q==null?void 0:q[de])!=null&&ot.name?q[de].name:(ht=q==null?void 0:q[String(D)])!=null&&ht.name?q[String(D)].name:`Unknown Skill ${D}`},B=new Map,$=D=>{const H=B.get(D);if(!H)return{hasSkill:!1,avg:1,min:1,hits:0};const q=H.connectedHits||0,Ee=q>0?H.totalDamage/q:0,de=H.minCount>0?H.minTotal/H.minCount:0;return{hasSkill:!0,avg:Ee,min:de,hits:q}},te="Ashtonlightstone.9145",ke="Illusionary Warden",Ve=[],oe=[],Ye=[],Oe=[],bt=new Map,Xt=new Map,Nn=(D,H,q)=>{const Ee=D.get(H)||ee();return Ee.totalHits+=q.totalHits,Ee.blocked+=q.blocked,Ee.evaded+=q.evaded,Ee.glanced+=q.glanced,Ee.missed+=q.missed,Ee.invulned+=q.invulned,Ee.interrupted+=q.interrupted,D.set(H,Ee),Ee};a.forEach(D=>{const H=D.details;if(!H)return;(H.targets||[]).forEach(Ee=>{const de=(Ee==null?void 0:Ee.totalDamageDist)||[],Be=Array.isArray(de)?de[0]:null;Be==null||Be.forEach(Ce=>{if(!(Ce!=null&&Ce.id))return;const ot=Number(Ce.id),ht=B.get(ot)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ht.totalDamage+=Number(Ce.totalDamage||0),ht.connectedHits+=Number(Ce.connectedHits||0);const kt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;ht.minTotal+=kt,ht.minCount+=1,B.set(ot,ht)})})}),a.forEach((D,H)=>{var en,an;const q=D.details;if(!q)return;const Ee=q.players,de=q.targets||[],Be=q.skillMap||{},Ce=q.buffMap||{},ot=new Map,ht=new Map;de.forEach(z=>{const le=(z==null?void 0:z.totalDamageDist)||[],De=Array.isArray(le)?le[0]:null;De==null||De.forEach(qe=>{var It;if(!(qe!=null&&qe.id))return;const Te=Number(qe.id),se=((It=Be==null?void 0:Be[Te])==null?void 0:It.name)||qe.name||qe.skillName||String(Te),_e=ot.get(Te)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};_e.totalDamage+=Number(qe.totalDamage||0),_e.connectedHits+=Number(qe.connectedHits||0);const Ne=Number.isFinite(Number(qe.min))?Number(qe.min):0;_e.minTotal+=Ne,_e.minCount+=1,ot.set(Te,_e);const nt=ht.get(se)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};nt.totalDamage+=Number(qe.totalDamage||0),nt.connectedHits+=Number(qe.connectedHits||0);const Bt=Number.isFinite(Number(qe.min))?Number(qe.min):0;nt.minTotal+=Bt,nt.minCount+=1,ht.set(se,nt)})});const kt=z=>{const le=ot.get(z);if(!le||le.connectedHits<=0)return{avg:1,min:1};const De=le.connectedHits>0?le.totalDamage/le.connectedHits:0,qe=le.minCount>0?le.minTotal/le.minCount:De;return{avg:De||1,min:qe||1}},qt=z=>{const le=ht.get(z);if(!le||le.connectedHits<=0)return{avg:1,min:1};const De=le.connectedHits>0?le.totalDamage/le.connectedHits:0,qe=le.minCount>0?le.minTotal/le.minCount:De;return{avg:De||1,min:qe||1}},Vt=q.combatReplayMetaData||{},yn=(Vt==null?void 0:Vt.inchToPixel)>0?Vt.inchToPixel:1,He=(Vt==null?void 0:Vt.pollingRate)>0?Vt.pollingRate:1,Qe=5e3,rt=z=>Array.isArray(z)?z.map(le=>Array.isArray(le)?[Number(le[0]),Number(le[1])]:null).filter(le=>!!le&&Number.isFinite(le[0])):[];let Dt=[],lt=q.durationMS||0,ve=!1;const ye=Ee.find(z=>(z==null?void 0:z.hasCommanderTag)&&!(z!=null&&z.notInSquad));(en=ye==null?void 0:ye.combatReplayData)!=null&&en.positions&&(Dt=ye.combatReplayData.positions,rt(ye.combatReplayData.dead).forEach(([le])=>{le>0&&(ve=!0,lt=Math.min(lt,le))}));const Re=z=>{var nt;const le=(nt=z.statsAll)==null?void 0:nt[0];if((le==null?void 0:le.distToCom)!==void 0&&(le==null?void 0:le.distToCom)!=="Infinity")return Math.round(Number(le.distToCom));if((le==null?void 0:le.stackDist)!==void 0)return Math.round(Number(le.stackDist))||0;if(z.hasCommanderTag)return 0;const De=z.combatReplayData;if(!(De!=null&&De.positions)||!Dt.length)return 0;const qe=De.positions,Te=rt(De.dead),se=rt(De.down),_e=Math.floor((De.start||0)/He);let Ne=0;if(Te.length&&se.length)for(const[Bt]of Te){if(Bt<0)continue;const It=Math.max(0,Math.floor(Bt/He))-_e;for(const[ft,Et]of se){if(Bt!==Et)continue;const zt=ve&&ft>lt?Math.max(1,Math.floor(lt/He)):It,Ht=Math.max(0,Math.min(zt,qe.length,Dt.length));if(Ht<=0)continue;let St=0;for(let Pt=0;Pt<Ht;Pt++){const[Fe,at]=qe[Pt],[gt,Nt]=Dt[Pt];St+=Math.hypot(Fe-gt,at-Nt)}Ne=Math.round(St/Ht/yn)}}return Ne},Ae=Ee.filter(z=>!z.notInSquad);x+=Ae.length,b+=de.filter(z=>!z.isFake).length,H6(Ee,{durationMS:q.durationMS,buffMap:q.buffMap});const{squadDeaths:tt,enemyDeaths:fe}=A(q);w+=tt,S+=fe,N+=tt,C+=fe,E(q)?g++:y++;const Je=q.skillMap?Number((an=Object.keys(q.skillMap).find(z=>{var le,De;return((De=(le=q.skillMap)==null?void 0:le[z])==null?void 0:De.name)==="Battle Standard"}))==null?void 0:an.replace(/^s/,"")):null;Ee.forEach((z,le)=>{var Bs,zs,Mc,jl,ua,Oc,zm,ld,Pa,Al,Ya,Xa,Ic;if(z.notInSquad)return;const De=z.account||"Unknown",qe=De!=="Unknown"?De:z.name||"Unknown",Te=z.name||"Unknown";_.has(qe)||_.set(qe,{name:Te,account:qe,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:z.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const se=_.get(qe);if(z.hasCommanderTag&&(se.isCommander=!0),Te!=="Unknown"&&se.characterNames.add(String(Te)),z.profession&&z.profession!=="Unknown"){se.profession=z.profession,se.professions.add(z.profession);const je=Array.isArray(z.activeTimes)&&typeof z.activeTimes[0]=="number"?z.activeTimes[0]:q.durationMS||0;se.professionTimeMs[z.profession]=(se.professionTimeMs[z.profession]||0)+je}se.logsJoined++,se.downContrib+=iC(z),se.cleanses+=nC(z),se.strips+=rC(z,f),se.healing+=aC(z),se.barrier+=sC(z),se.cc+=oC(z,f),se.stab+=z.stabGeneration||0;const _e=Re(z);_e<=Qe&&(se.totalDist+=_e,se.distCount++),(Bs=z.defenses)!=null&&Bs[0]&&(se.dodges+=z.defenses[0].dodgeCount||0,se.downs+=z.defenses[0].downCount||0,se.deaths+=z.defenses[0].deadCount||0),q.durationMS&&(se.totalFightMs+=q.durationMS);const Ne=Array.isArray(z.activeTimes)&&typeof z.activeTimes[0]=="number"?z.activeTimes[0]:q.durationMS||0;se.squadActiveMs+=Ne;const nt=$i(q,D),Bt=Number((q==null?void 0:q.durationMS)||0);nt>0&&((se.firstSeenFightTs<=0||nt<se.firstSeenFightTs)&&(se.firstSeenFightTs=nt),se.lastSeenFightTs<=0||nt>se.lastSeenFightTs?(se.lastSeenFightTs=nt,se.lastSeenFightDurationMs=Bt):nt===se.lastSeenFightTs&&Bt>se.lastSeenFightDurationMs&&(se.lastSeenFightDurationMs=Bt)),se.defenseActiveMs+=Ne,se.supportActiveMs+=Ne,se.healingActiveMs+=Ne,Array.isArray(z.buffUptimes)&&z.buffUptimes.length>0&&z.buffUptimes.forEach(je=>{var Um,Tl,Vm,Wm,Hm,Ea;if(typeof(je==null?void 0:je.id)!="number")return;const We=`b${je.id}`,Ze=((Um=q.buffMap)==null?void 0:Um[We])||((Tl=q.buffMap)==null?void 0:Tl[String(je.id)]);if(!Ze||k(Ze))return;const ct=Number(((Wm=(Vm=je.buffData)==null?void 0:Vm[0])==null?void 0:Wm.uptime)??0),Ut=Number(((Ea=(Hm=je.buffData)==null?void 0:Hm[0])==null?void 0:Ea.presence)??0);if((!Number.isFinite(ct)||ct<=0)&&(!Number.isFinite(Ut)||Ut<=0))return;const dr=(Ze==null?void 0:Ze.stacking)??!1,Fn=(dr?Number.isFinite(ct)?ct:0:Number.isFinite(ct)?ct/100:0)*Ne,wi=dr?Ut:ct,To=Math.min(Math.max(Number.isFinite(wi)?wi:0,0),100)/100*Ne,ki=Number.isFinite(Fn)&&Fn>0,Pl=Number.isFinite(To)&&To>0;if(!ki&&!Pl)return;const li=Gc(Ze==null?void 0:Ze.name);if(li&&t6.has(li)&&(!(Ze!=null&&Ze.classification)||Ze.classification==="Condition")){const Qa=Fn/1e3,Gi=Ze==null?void 0:Ze.icon,El=Q[li]||{name:li,icon:Gi,applications:0,damage:0};El.applicationsFromUptime=(El.applicationsFromUptime||0)+Qa,!El.icon&&Gi&&(El.icon=Gi),Q[li]=El;const Dl=se.outgoingConditions[li]||{applications:0,damage:0,skills:{},icon:Gi};Dl.applicationsFromUptime=(Dl.applicationsFromUptime||0)+Qa,!Dl.icon&&Gi&&(Dl.icon=Gi),se.outgoingConditions[li]=Dl;const Eo=ie[li]||{name:li,icon:Gi,applications:0,damage:0};Eo.applicationsFromUptime=(Eo.applicationsFromUptime||0)+Qa,!Eo.icon&&Gi&&(Eo.icon=Gi),ie[li]=Eo;const Do=se.incomingConditions[li]||{applications:0,damage:0,skills:{},icon:Gi};Do.applicationsFromUptime=(Do.applicationsFromUptime||0)+Qa,!Do.icon&&Gi&&(Do.icon=Gi),se.incomingConditions[li]=Do}K.has(We)||K.set(We,{name:Ze==null?void 0:Ze.name,stacking:dr,icon:Ze==null?void 0:Ze.icon}),G.has(We)||G.set(We,new Map);const _c=G.get(We),cd=se.account||z.account||z.name||"Unknown";let Ta=_c.get(cd);Ta||(Ta={account:cd,profession:se.profession||z.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},_c.set(cd,Ta));const ci=z.profession||se.profession;ci&&ci!=="Unknown"&&(Ta.professions.add(ci),Ta.professionTimeMs[ci]=(Ta.professionTimeMs[ci]||0)+Ne,Ta.profession=ci),Ta.totalMs+=ki?Fn:0,Ta.uptimeMs+=Pl?To:0,Ta.durationMs+=Ne}),(zs=z.defenses)!=null&&zs[0]&&fO.forEach(je=>{const We=Number(z.defenses[0][je.field]??0);Number.isFinite(We)&&(se.defenseTotals[je.id]=(se.defenseTotals[je.id]||0)+We)}),(Mc=z.support)!=null&&Mc[0]&&mO.forEach(je=>{let We=Number(z.support[0][je.field]??0);Number.isFinite(We)&&(T.has(je.field)&&We>999999&&(We=0),se.supportTotals[je.id]=(se.supportTotals[je.id]||0)+We)});const It=(je,We)=>{Number.isFinite(We)&&(se.healingTotals[je]=(se.healingTotals[je]||0)+We)},ft=(je,We)=>Array.isArray(je)?je.reduce((Ze,ct)=>Ze+Number((ct==null?void 0:ct[We])??0),0):0,Et=(je,We,Ze)=>{if(!Number.isFinite(Ze)||Ze<=0)return;const ct=Ee[We],Ut=We===le,dr=ct==null?void 0:ct.notInSquad,Pn=!dr,Fn=Pn&&(ct==null?void 0:ct.group)!=null&&ct.group===z.group;It(je,Ze),Pn&&It(`squad${je[0].toUpperCase()}${je.slice(1)}`,Ze),Fn&&It(`group${je[0].toUpperCase()}${je.slice(1)}`,Ze),Ut&&It(`self${je[0].toUpperCase()}${je.slice(1)}`,Ze),dr&&It(`offSquad${je[0].toUpperCase()}${je.slice(1)}`,Ze)};if(Array.isArray(z.rotation)){let je=0;z.rotation.forEach(We=>{var ct;if(!(We!=null&&We.id)||!s6(We.id,q.skillMap))return;const Ze=((ct=We.skills)==null?void 0:ct.length)||0;Ze>0&&(je+=Ze,It(`resUtility_s${We.id}`,Ze))}),je>0&&It("resUtility",je)}const zt=(jl=z.extHealingStats)==null?void 0:jl.outgoingHealingAllies;Array.isArray(zt)&&zt.forEach((je,We)=>{const Ze=ft(je,"healing"),ct=ft(je,"downedHealing");Et("healing",We,Ze),Et("downedHealing",We,ct)});const Ht=(ua=z.extBarrierStats)==null?void 0:ua.outgoingBarrierAllies;Array.isArray(Ht)&&Ht.forEach((je,We)=>{const Ze=ft(je,"barrier");Et("barrier",We,Ze)});const St=(Oc=z.statsAll)==null?void 0:Oc[0],Pt=(zm=z.dpsAll)==null?void 0:zm[0],Fe=(ld=z.support)==null?void 0:ld[0];if(dO.forEach(je=>{if(je.id==="downContributionPercent"||!je.field)return;let We=0,Ze=0;je.source==="dpsAll"&&Pt?We=Number(Pt[je.field]??0):je.source==="statsAll"&&St?(We=Number(St[je.field]??0),Ze=Number(St[je.denomField||je.weightField||"connectedDamageCount"]??0)):je.source==="support"&&Fe?We=Number(Fe[je.field]??0):z.statsTargets&&z.statsTargets.forEach(ct=>{ct!=null&&ct[0]&&(We+=Number(ct[0][je.field]??0),Ze+=Number(ct[0][je.denomField||je.weightField||"connectedDamageCount"]??0))}),Number.isFinite(We)&&(se.offenseTotals[je.id]=(se.offenseTotals[je.id]||0)+We,je.isRate&&Ze>0&&(se.offenseRateWeights[je.id]=(se.offenseRateWeights[je.id]||0)+Ze))}),z.targetDamageDist&&Number.isFinite(Je)){const je=z.targetDamageDist.flatMap(We=>We||[]).flatMap(We=>We||[]).reduce((We,Ze)=>Ze!=null&&Ze.id&&Ze.id===Je?We+((Ze==null?void 0:Ze.connectedHits)||0):We,0);se.offenseTotals.battleStandardHits=(se.offenseTotals.battleStandardHits||0)+je}se.revives+=((Al=(Pa=z.support)==null?void 0:Pa[0])==null?void 0:Al.resurrects)||0,Pt&&(se.damage+=Pt.damage||0,se.dps+=Pt.dps||0);const at=je=>{var Ut,dr,Pn,Fn;let We=`Skill ${je.id}`;const Ze=((Ut=q.skillMap)==null?void 0:Ut[`s${je.id}`])||((dr=q.skillMap)==null?void 0:dr[`${je.id}`]);let ct=Ze==null?void 0:Ze.icon;if(Ze!=null&&Ze.name&&(We=Ze.name),We.startsWith("Skill ")){const wi=Zh(We,je.id,q.buffMap);wi&&(We=wi,ct=((Fn=(Pn=q.buffMap)==null?void 0:Pn[`b${je.id}`])==null?void 0:Fn.icon)||ct)}return{name:We,icon:ct}},gt=je=>{if(!(je!=null&&je.id))return;const{name:We,icon:Ze}=at(je);M[je.id]||(M[je.id]={name:We,icon:Ze,damage:0,hits:0,downContribution:0}),M[je.id].name.startsWith("Skill ")&&!We.startsWith("Skill ")&&(M[je.id].name=We),!M[je.id].icon&&Ze&&(M[je.id].icon=Ze),M[je.id].damage+=je.totalDamage,M[je.id].hits+=je.connectedHits,M[je.id].downContribution+=Number(je.downContribution||0)},Nt=z.account||z.name||"Unknown",cn=z.profession||"Unknown",Cn=`${Nt}|${cn}`;let $n=Y.get(Cn);$n||($n={key:Cn,account:Nt,displayName:Nt,profession:cn,professionList:[cn],totalFightMs:0,skills:new Map},Y.set(Cn,$n)),$n.professionList.includes(cn)||$n.professionList.push(cn),$n.totalFightMs+=q.durationMS||0;const _r=je=>{if(!(je!=null&&je.id))return;const{name:We,icon:Ze}=at(je),ct=`s${je.id}`;let Ut=$n.skills.get(ct);Ut||(Ut={id:ct,name:We,icon:Ze,damage:0,downContribution:0},$n.skills.set(ct,Ut)),Ut.name.startsWith("Skill ")&&!We.startsWith("Skill ")&&(Ut.name=We),!Ut.icon&&Ze&&(Ut.icon=Ze),Ut.damage+=Number(je.totalDamage||0),Ut.downContribution+=Number(je.downContribution||0)};if(h==="total")(Ya=z.totalDamageDist)==null||Ya.forEach(je=>{je==null||je.forEach(We=>{gt(We),_r(We)})});else{const je=new Map;(Xa=z.targetDamageDist)==null||Xa.forEach(Ze=>{Ze==null||Ze.forEach(ct=>{ct==null||ct.forEach(Ut=>{const dr=Number(Ut==null?void 0:Ut.id);if(Number.isFinite(dr)){const Pn=je.get(dr)||{damage:0,hits:0,downContribution:0};Pn.damage+=Number((Ut==null?void 0:Ut.totalDamage)||0),Pn.hits+=Number((Ut==null?void 0:Ut.connectedHits)||0),Pn.downContribution+=Number((Ut==null?void 0:Ut.downContribution)||0),je.set(dr,Pn)}gt(Ut),_r(Ut)})})}),!(q!=null&&q.detailedWvW)&&((Ic=z.totalDamageDist)==null||Ic.forEach(Ze=>{Ze==null||Ze.forEach(ct=>{const Ut=Number(ct==null?void 0:ct.id);if(!Number.isFinite(Ut))return;const dr=je.get(Ut);if(!dr){gt(ct),_r(ct);return}const Pn=Number((ct==null?void 0:ct.totalDamage)||0),Fn=Number((ct==null?void 0:ct.connectedHits)||0),wi=Number((ct==null?void 0:ct.downContribution)||0),Po=Pn-Number(dr.damage||0),To=Fn-Number(dr.hits||0),ki=wi-Number(dr.downContribution||0);if(Po<=0&&To<=0&&ki<=0)return;const Pl={...ct,totalDamage:Math.max(0,Po),connectedHits:Math.max(0,To),downContribution:Math.max(0,ki)};gt(Pl),_r(Pl)})}))}z.totalDamageTaken&&z.totalDamageTaken.forEach(je=>{je==null||je.forEach(We=>{var dr,Pn,Fn,wi;if(!(We!=null&&We.id))return;let Ze=`Skill ${We.id}`;const ct=((dr=q.skillMap)==null?void 0:dr[`s${We.id}`])||((Pn=q.skillMap)==null?void 0:Pn[`${We.id}`]);let Ut=ct==null?void 0:ct.icon;if(ct!=null&&ct.name&&(Ze=ct.name),Ze.startsWith("Skill ")){const Po=Zh(Ze,We.id,q.buffMap);Po&&(Ze=Po,Ut=((wi=(Fn=q.buffMap)==null?void 0:Fn[`b${We.id}`])==null?void 0:wi.icon)||Ut)}O[We.id]||(O[We.id]={name:Ze,icon:Ut,damage:0,hits:0}),(!O[We.id].name.startsWith("Skill ")||Ze.startsWith("Skill "))&&(O[We.id].name=Ze),!O[We.id].icon&&Ut&&(O[We.id].icon=Ut),O[We.id].damage+=We.totalDamage,O[We.id].hits+=We.hits})})}),de.forEach(z=>{if(z!=null&&z.isFake)return;const le=W((z==null?void 0:z.profession)||(z==null?void 0:z.name)||(z==null?void 0:z.id));le&&(ce[le]=(ce[le]||0)+1)});const $e=Q6({players:Ee,targets:de,skillMap:q.skillMap,buffMap:q.buffMap,getPlayerKey:z=>z.account&&z.account!=="Unknown"?z.account:z.name||null}),et=PO(q.buffMap);Object.entries($e.playerConditions).forEach(([z,le])=>{const De=_.get(z);De&&Object.entries(le).forEach(([qe,Te])=>{const se=De.outgoingConditions[qe]||{applications:0,damage:0,skills:{},icon:Te.icon};se.applications+=Number(Te.applications||0),se.damage+=Number(Te.damage||0),Te.applicationsFromBuffs&&(se.applicationsFromBuffs=(se.applicationsFromBuffs||0)+Te.applicationsFromBuffs),Te.applicationsFromBuffsActive&&(se.applicationsFromBuffsActive=(se.applicationsFromBuffsActive||0)+Te.applicationsFromBuffsActive),Object.entries(Te.skills||{}).forEach(([_e,Ne])=>{const nt=se.skills[_e]||{name:Ne.name,hits:0,damage:0,icon:Ne.icon};nt.hits+=Number(Ne.hits||0),nt.damage+=Number(Ne.damage||0),!nt.icon&&Ne.icon&&(nt.icon=Ne.icon),se.skills[_e]=nt}),!se.icon&&Te.icon&&(se.icon=Te.icon),De.outgoingConditions[qe]=se})}),Object.entries($e.summary).forEach(([z,le])=>{const De=Q[z]||{name:le.name||z,icon:le.icon,applications:0,damage:0};De.applications+=Number(le.applications||0),De.damage+=Number(le.damage||0),le.applicationsFromBuffs&&(De.applicationsFromBuffs=(De.applicationsFromBuffs||0)+le.applicationsFromBuffs),le.applicationsFromBuffsActive&&(De.applicationsFromBuffsActive=(De.applicationsFromBuffsActive||0)+le.applicationsFromBuffsActive),!De.icon&&le.icon&&(De.icon=le.icon),Q[z]=De}),Ae.forEach(z=>{const le=z.account&&z.account!=="Unknown"?z.account:z.name||"Unknown",De=_.get(le);!De||!z.totalDamageTaken||z.totalDamageTaken.forEach(qe=>qe==null?void 0:qe.forEach(Te=>{var Pt,Fe,at,gt,Nt,cn;if(!(Te!=null&&Te.id))return;let se=`Skill ${Te.id}`;const _e=((Pt=q.skillMap)==null?void 0:Pt[`s${Te.id}`])||((Fe=q.skillMap)==null?void 0:Fe[`${Te.id}`]);_e!=null&&_e.name&&(se=_e.name);const Ne=Zh(se,Te.id,q.buffMap);if(!Ne)return;const nt=(gt=(at=q.buffMap)==null?void 0:at[`b${Te.id}`])==null?void 0:gt.name,Bt=et.get(Ne)||((cn=(Nt=q.buffMap)==null?void 0:Nt[`b${Te.id}`])==null?void 0:cn.icon),It=(_e==null?void 0:_e.icon)||Bt;se.startsWith("Skill ")&&(nt||Ne)&&(se=nt||Ne);const ft=Number(Te.hits??0),Et=Number(Te.totalDamage??0),zt=ie[Ne]||{name:Ne,icon:Bt,applications:0,damage:0};zt.applications+=Number.isFinite(ft)?ft:0,zt.damage+=Number.isFinite(Et)?Et:0,!zt.icon&&Bt&&(zt.icon=Bt),ie[Ne]=zt;const Ht=De.incomingConditions[Ne]||{applications:0,damage:0,skills:{},icon:Bt};Ht.applications+=Number.isFinite(ft)?ft:0,Ht.damage+=Number.isFinite(Et)?Et:0;const St=Ht.skills[se]||{name:se,hits:0,damage:0,icon:It};St.hits+=Number.isFinite(ft)?ft:0,St.damage+=Number.isFinite(Et)?Et:0,!St.icon&&It&&(St.icon=It),Ht.skills[se]=St,!Ht.icon&&Bt&&(Ht.icon=Bt),De.incomingConditions[Ne]=Ht}))});const Gt=q.player_damage_mitigation||q.playerDamageMitigation,Mn=Gt&&typeof Gt=="object"&&Object.keys(Gt).length>0;Mn&&Object.entries(Gt).forEach(([z,le])=>{if(!le||typeof le!="object")return;const De=ne(z),qe=F(I,De.account,De);Object.values(le).forEach(Te=>{U((Te==null?void 0:Te.avoided_damage)??(Te==null?void 0:Te.avoidedDamage))<=0||ue(qe.mitigationTotals,Te)})});const kn=q.player_minion_damage_mitigation||q.playerMinionDamageMitigation,tn=kn&&typeof kn=="object"&&Object.keys(kn).length>0;tn&&Object.entries(kn).forEach(([z,le])=>{if(!le||typeof le!="object")return;const De=ne(z);Object.entries(le).forEach(([qe,Te])=>{if(!Te||typeof Te!="object")return;const se=`${De.account}::${qe}`,_e=J(ae,se,{...De,minion:String(qe||"Unknown")});Object.values(Te).forEach(Ne=>{ue(_e.mitigationTotals,Ne)})})}),(!Mn||!tn)&&(Mn||Ae.forEach(z=>{const le=(z==null?void 0:z.totalDamageTaken)||[];if(!Array.isArray(le)||le.length===0)return;const De=z.account||z.name||"Unknown",qe={account:De,name:z.name||De,profession:W(z.profession||"Unknown")};F(I,De,qe);const Te=q.skillMap||{},se=q.buffMap||{},_e=Array.isArray(le)?le[0]:null;if(_e==null||_e.forEach(Ne=>{if(!(Ne!=null&&Ne.id))return;const nt=U(Ne.blocked),Bt=U(Ne.evaded),It=U(Ne.glance??Ne.glanced),ft=U(Ne.missed),Et=U(Ne.invulned),zt=U(Ne.interrupted),Ht=U(Ne.hits??Ne.connectedHits),St=Number(Ne.id),Pt=V(St,Te,se);if(Nn(bt,`${De}::${St}`,{totalHits:Ht,blocked:nt,evaded:Bt,glanced:It,missed:ft,invulned:Et,interrupted:zt}),De===te){const Fe=B.get(St),at=$(St),gt=at.hasSkill?at.hits>0?at.avg:0:1,Nt=at.hasSkill?at.min||0:1,cn=at.hits>0?It*gt/2+(nt+Bt+ft+Et+zt)*gt:0,Cn=at.hits>0?It*Nt/2+(nt+Bt+ft+Et+zt)*Nt:0;Ye.push({logId:D.filePath||D.id||H,skillId:Ne.id,skillName:Pt,blocked:nt,evaded:Bt,glanced:It,missed:ft,invulned:Et,interrupted:zt,totalAvoids:nt+Bt+It+ft+Et+zt,avg:gt,min:Nt,enemyHits:(Fe==null?void 0:Fe.connectedHits)??0,enemyTotalDmg:(Fe==null?void 0:Fe.totalDamage)??0,avoidDmg:cn,avoidMinDmg:Cn})}}),De===te){const Ne=(nt,Bt)=>{let It=0,ft=0,Et=0;if(!Array.isArray(nt))return{total:It,minTotal:ft,hits:Et};for(const zt of nt){if(!(zt!=null&&zt.id))continue;const Ht=U(zt.blocked),St=U(zt.evaded),Pt=U(zt.glance??zt.glanced),Fe=U(zt.missed),at=U(zt.invulned),gt=U(zt.interrupted),Nt=V(Number(zt.id),Be,Ce),cn=Bt(Number(zt.id),Nt);(cn.hits??0)>0&&(It+=Pt*cn.avg/2+(Ht+St+Fe+at+gt)*cn.avg,ft+=Pt*cn.min/2+(Ht+St+Fe+at+gt)*cn.min),Et+=U(zt.hits??zt.connectedHits)}return{total:It,minTotal:ft,hits:Et}};Oe.push({logId:D.filePath||D.id||H,variant:"current_global_name_taken0",...Ne(_e,(nt,Bt)=>{const It=$(nt),ft=It.hasSkill?It.hits>0?It.avg:0:1,Et=It.hasSkill?It.min||0:1;return{avg:ft,min:Et,hits:It.hits}})})}}),tn||Ae.forEach(z=>{const le=(z==null?void 0:z.minions)||[];if(!Array.isArray(le)||le.length===0)return;const De=z.account||z.name||"Unknown",qe={account:De,name:z.name||De,profession:W(z.profession||"Unknown")},Te=q.skillMap||{},se=q.buffMap||{};le.forEach(_e=>{const Ne=(_e==null?void 0:_e.totalDamageTakenDist)||[];if(!Array.isArray(Ne)||Ne.length===0)return;let nt=String((_e==null?void 0:_e.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";nt.toUpperCase().includes("UNKNOWN")&&(nt="Unknown");const Bt=`${De}::${nt}`;J(ae,Bt,{...qe,minion:nt});const It=Array.isArray(Ne)?Ne[0]:null;if(It==null||It.forEach(ft=>{if(!(ft!=null&&ft.id))return;const Et=U(ft.blocked),zt=U(ft.evaded),Ht=U(ft.glance??ft.glanced),St=U(ft.missed),Pt=U(ft.invulned),Fe=U(ft.interrupted),at=U(ft.hits??ft.connectedHits),gt=Number(ft.id),Nt=V(gt,Te,se);if(Nn(Xt,`${Bt}::${gt}`,{totalHits:at,blocked:Et,evaded:zt,glanced:Ht,missed:St,invulned:Pt,interrupted:Fe}),De===te&&nt===ke){const cn=B.get(gt),Cn=$(gt),$n=Cn.hasSkill?Cn.hits>0?Cn.avg:0:1,_r=Cn.hasSkill?Cn.min||0:1,Bs=Cn.hits>0?Ht*$n/2+(Et+zt+St+Pt+Fe)*$n:0,zs=Cn.hits>0?Ht*_r/2+(Et+zt+St+Pt+Fe)*_r:0;Ve.push({logId:D.filePath||D.id||H,skillId:ft.id,skillName:Nt,blocked:Et,evaded:zt,glanced:Ht,missed:St,invulned:Pt,interrupted:Fe,totalAvoids:Et+zt+Ht+St+Pt+Fe,avg:$n,min:_r,enemyHits:(cn==null?void 0:cn.connectedHits)??0,enemyTotalDmg:(cn==null?void 0:cn.totalDamage)??0,avoidDmg:Bs,avoidMinDmg:zs})}}),De===te&&nt===ke){const ft=(St,Pt)=>{let Fe=0,at=0,gt=0;if(!Array.isArray(St))return{total:Fe,minTotal:at,hits:gt};for(const Nt of St){if(!(Nt!=null&&Nt.id))continue;const cn=U(Nt.blocked),Cn=U(Nt.evaded),$n=U(Nt.glance??Nt.glanced),_r=U(Nt.missed),Bs=U(Nt.invulned),zs=U(Nt.interrupted),Mc=V(Number(Nt.id),Be,Ce),{avg:jl,min:ua}=Pt(Number(Nt.id),Mc);U(Nt.hits??Nt.connectedHits)>0&&(Fe+=$n*jl/2+(cn+Cn+_r+Bs+zs)*jl,at+=$n*ua/2+(cn+Cn+_r+Bs+zs)*ua),gt+=U(Nt.hits??Nt.connectedHits)}return{total:Fe,minTotal:at,hits:gt}},Et=Array.isArray(Ne)?Ne[0]||[]:[],zt=Array.isArray(Ne)?Ne.flat():[],Ht=Array.isArray(_e==null?void 0:_e.totalDamageTaken)?_e.totalDamageTaken[0]||[]:[];oe.push({logId:D.filePath||D.id||H,variant:"current_global_name_dist0",...ft(Et,(St,Pt)=>{const Fe=$(St),at=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,gt=Fe.hasSkill&&Fe.min||0;return{avg:at,min:gt}})}),oe.push({logId:D.filePath||D.id||H,variant:"local_name_dist0",...ft(Et,(St,Pt)=>qt(Pt))}),oe.push({logId:D.filePath||D.id||H,variant:"local_id_dist0",...ft(Et,St=>kt(St))}),oe.push({logId:D.filePath||D.id||H,variant:"global_name_alllists",...ft(zt,(St,Pt)=>{const Fe=$(St),at=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,gt=Fe.hasSkill&&Fe.min||0;return{avg:at,min:gt}})}),oe.push({logId:D.filePath||D.id||H,variant:"global_name_taken0",...ft(Ht,(St,Pt)=>{const Fe=$(St),at=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,gt=Fe.hasSkill&&Fe.min||0;return{avg:at,min:gt}})})}})}))}),Ve.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Ve),oe.length>0&&console.table(oe),console.groupEnd()),Ye.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ye),Oe.length>0&&console.table(Oe),console.groupEnd());const En=(D,H)=>{const q=new Map,Ee=de=>{let Be=q.get(de);return Be||(Be=ee(),q.set(de,Be)),Be};H.forEach((de,Be)=>{const Ce=Be.lastIndexOf("::"),ot=Ce>-1?Be.slice(0,Ce):Be,ht=Ce>-1?Number(Be.slice(Ce+2)):Number.NaN,kt=Number.isFinite(ht)?$(ht):{hasSkill:!1,avg:0,min:0,hits:0};if(!kt.hasSkill||kt.hits<=0)return;const qt=kt.avg,Vt=kt.min,yn=de.glanced*qt/2+(de.blocked+de.evaded+de.missed+de.invulned+de.interrupted)*qt,He=de.glanced*Vt/2+(de.blocked+de.evaded+de.missed+de.invulned+de.interrupted)*Vt;if(yn<=0)return;const Qe=Ee(ot);Qe.totalHits+=de.totalHits,Qe.blocked+=de.blocked,Qe.evaded+=de.evaded,Qe.glanced+=de.glanced,Qe.missed+=de.missed,Qe.invulned+=de.invulned,Qe.interrupted+=de.interrupted,Qe.totalMitigation+=yn,Qe.minMitigation+=He}),D.forEach((de,Be)=>{const Ce=q.get(Be)||ee();de.mitigationTotals.totalHits=Ce.totalHits,de.mitigationTotals.blocked=Ce.blocked,de.mitigationTotals.evaded=Ce.evaded,de.mitigationTotals.glanced=Ce.glanced,de.mitigationTotals.missed=Ce.missed,de.mitigationTotals.invulned=Ce.invulned,de.mitigationTotals.interrupted=Ce.interrupted,de.mitigationTotals.totalMitigation=Ce.totalMitigation,de.mitigationTotals.minMitigation=Ce.minMitigation})};En(I,bt),En(ae,Xt);const he=p>0?Math.round(x/p):0,Le=p>0?Math.round(b/p):0,pt=w>0?(S/w).toFixed(2):S>0?"":"0.00",Jt=C>0?(N/C).toFixed(2):N>0?"":"0.00",pn=(D,H)=>{const Ee=D.filter(Ce=>Number.isFinite(Ce.value)&&(H?Ce.value>0:Ce.value>=0)).sort((Ce,ot)=>{const ht=H?ot.value-Ce.value:Ce.value-ot.value;return ht!==0?ht:Ce.account.localeCompare(ot.account)});let de=null,Be=0;return Ee.map((Ce,ot)=>((de===null||Ce.value!==de)&&(Be=ot+1,de=Ce.value),{rank:Be,...Ce}))},Pr=Array.from(_.values()).map(D=>{const H=Array.from(D.professions).filter(q=>q!=="Unknown");if(D.professionList=H,H.length>0){let q=H[0],Ee=D.professionTimeMs[q]||0;H.forEach(de=>{const Be=D.professionTimeMs[de]||0;Be>Ee&&(Ee=Be,q=de)}),D.profession=q}return{key:D.account,stat:D}}),sr=D=>{const H=_.get(D.account);if(!H){const de=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:de}}const q=H.professionList&&H.professionList.length>0?H.professionList:Array.from(H.professions||[]).filter(de=>de&&de!=="Unknown"),Ee=H.profession||D.profession;return{...D,profession:Ee,professionList:q.length>0?q:Ee?[Ee]:[],activeMs:H.defenseActiveMs||H.totalFightMs||D.activeMs}},Zr=Array.from(I.values()).map(sr).filter(D=>re(D.mitigationTotals)).sort((D,H)=>D.account.localeCompare(H.account)),si=Array.from(ae.values()).map(sr).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,H)=>{const q=D.account.localeCompare(H.account);return q!==0?q:String(D.minion||"").localeCompare(String(H.minion||""))}),vi=(D,H)=>{switch(H){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},wn=(D,H)=>pn(Pr.map(({stat:q})=>({account:q.account,profession:q.profession,professionList:q.professionList,value:vi(q,D),count:q.logsJoined})),H),fn={downContrib:wn("downContrib",!0),barrier:wn("barrier",!0),healing:wn("healing",!0),dodges:wn("dodges",!0),strips:wn("strips",!0),cleanses:wn("cleanses",!0),cc:wn("cc",!0),stability:wn("stability",!0),revives:wn("revives",!0),participation:wn("participation",!0),dps:wn("dps",!0),damage:wn("damage",!0),closestToTag:wn("closestToTag",!1).filter(D=>Number.isFinite(D.value))},yi={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},ln=D=>{const H=D==null?void 0:D[0];return{value:(H==null?void 0:H.value)??0,player:(H==null?void 0:H.account)??"-",count:(H==null?void 0:H.count)??0,profession:(H==null?void 0:H.profession)??"Unknown",professionList:(H==null?void 0:H.professionList)??[]}},Or={maxDownContrib:ln([]),maxBarrier:ln([]),maxHealing:ln([]),maxDodges:ln([]),maxStrips:ln([]),maxCleanses:ln([]),maxCC:ln([]),maxStab:ln([]),closestToTag:ln([])},Tr={},od=(D,H)=>{if(H==="closestToTag")return vi(D,H);const q=Math.max(1,(D.totalFightMs||0)/1e3);return vi(D,H)/q};Object.values(yi).forEach(D=>{const H=D!=="closestToTag";Tr[D]=pn(Pr.map(({stat:q})=>({account:q.account,profession:q.profession,professionList:q.professionList,value:od(q,D),count:q.logsJoined})),H)}),Or.maxDownContrib=ln(Tr.downContrib),Or.maxBarrier=ln(Tr.barrier),Or.maxHealing=ln(Tr.healing),Or.maxDodges=ln(Tr.dodges),Or.maxStrips=ln(Tr.strips),Or.maxCleanses=ln(Tr.cleanses),Or.maxCC=ln(Tr.cc),Or.maxStab=ln(Tr.stability),Or.closestToTag=ln(Tr.closestToTag);const Ao={maxDownContrib:ln(fn.downContrib),maxBarrier:ln(fn.barrier),maxHealing:ln(fn.healing),maxDodges:ln(fn.dodges),maxStrips:ln(fn.strips),maxCleanses:ln(fn.cleanses),maxCC:ln(fn.cc),maxStab:ln(fn.stability),closestToTag:ln(fn.closestToTag)};let wl={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Dc,kl,Sl=0;if(s!=null&&s.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},H=Be=>{const Ce=D[Be];return Ce?Number(o[Ce]||0)>0:!1},q=[],Ee=Be=>[...Be||[]].filter(Ce=>H(Ce==null?void 0:Ce.name)).sort((Ce,ot)=>ot.ratio-Ce.ratio||Ce.rank-ot.rank||Ce.name.localeCompare(ot.name)).slice(0,3),de=Be=>{var ot;if(!Be)return;const Ce=Ee(Be.contribs);return{...Be,player:Be.name,reason:((ot=Ce[0])==null?void 0:ot.name)||"Top Performance",topStats:Ce}};Pr.forEach(({stat:Be})=>{let Ce=0;const ot=[],ht=(kt,qt,Vt,yn,He=!0)=>{var rt,Dt;if(Vt<=0)return;const Qe=((rt=qt[0])==null?void 0:rt.value)||0;if(Qe&&Number.isFinite(kt)&&(He?kt>0:kt<Number.POSITIVE_INFINITY)){const lt=He?kt/Qe:Qe/kt;Ce+=lt*Vt;const ve=((Dt=qt.find(ye=>ye.account===Be.account))==null?void 0:Dt.rank)||0;ot.push({name:yn,ratio:lt,val:kt.toLocaleString(),rank:ve})}};ht(Be.downContrib,fn.downContrib,o.downContribution,"Down Contribution"),ht(Be.healing,fn.healing,o.healing,"Healing"),ht(Be.cleanses,fn.cleanses,o.cleanses,"Cleanses"),ht(Be.strips,fn.strips,o.strips,"Strips"),ht(Be.stab,fn.stability,o.stability,"Stability"),ht(Be.cc,fn.cc,o.cc,"CC"),ht(Be.revives,fn.revives,o.revives,"Revives"),ht(vi(Be,"closestToTag"),fn.closestToTag,o.distanceToTag,"Distance to Tag",!1),ht(Be.logsJoined,fn.participation,o.participation,"Participation"),ht(Be.dodges,fn.dodges,o.dodging,"Dodging"),ht(Be.dps,fn.dps,o.dps,"DPS"),ht(Be.damage,fn.damage,o.damage,"Damage"),q.push({...Be,score:Ce,contribs:ot.filter(kt=>H(kt.name))})}),q.sort((Be,Ce)=>Ce.score-Be.score),q[0]&&q[0].score>0&&(wl=de(q[0])||wl),Dc=de(q[1]),kl=de(q[2]),Sl=q.length>0?q.reduce((Be,Ce)=>Be+Ce.score,0)/q.length:0}const Nl=Object.values(M).sort((D,H)=>H.damage-D.damage||H.hits-D.hits||String(D.name||"").localeCompare(String(H.name||""))).slice(0,25),Z=Object.values(M).sort((D,H)=>H.downContribution-D.downContribution||H.hits-D.hits||String(D.name||"").localeCompare(String(H.name||""))).slice(0,25),ge=m==="downContribution"?Z:Nl,Se=Object.values(O).sort((D,H)=>H.damage-D.damage).slice(0,25),dt=D=>{const H=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=H.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return q?`${q[1]} Borderlands`:H||"Unknown"},mt=(D,H)=>dt((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||(H==null?void 0:H.fightName)||(H==null?void 0:H.encounterName)||"Unknown"),Lt=(D,H)=>{const q=(H==null?void 0:H.permalink)||(D==null?void 0:D.permalink);if(typeof q=="string"&&q.trim().length>0)return q.trim();const Ee=D==null?void 0:D.uploadLinks;if(!Array.isArray(Ee))return"";for(const de of Ee){if(typeof de=="string"&&de.trim().length>0)return de.trim();if(de&&typeof de=="object"){const Be=de.permalink||de.link||de.url||de.reportLink;if(typeof Be=="string"&&Be.trim().length>0)return Be.trim()}}return""},Kt={};a.forEach(D=>{const H=mt(D==null?void 0:D.details,D);Kt[H]=(Kt[H]||0)+1});const Ot=Object.entries(Kt).map(([D,H])=>{const q=String(D).trim(),Ee=/eternal battlegrounds|^ebg$/i.test(q);let de="#64748b";return Ee?de="#ffffff":/red/i.test(q)?de="#ef4444":/blue/i.test(q)?de="#3b82f6":/green/i.test(q)&&(de="#22c55e"),{name:D,value:H,color:de}}).sort((D,H)=>H.value-D.value),{boonTables:Tt}=I6(a),gn=a.map((D,H)=>{var Ee,de;const q=((Ee=D.details)==null?void 0:Ee.players)||[];return{index:H+1,label:`Log ${H+1}`,timestamp:$i(D.details,D),squadCount:q.filter(Be=>!Be.notInSquad).length,friendlyCount:q.length,enemies:((de=D.details)==null?void 0:de.targets).filter(Be=>!Be.isFake).length}}).sort((D,H)=>D.timestamp-H.timestamp),Ir={};Array.from(_.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(Ir[D.profession]=(Ir[D.profession]||0)+1)});const Ke=Object.entries(Ir).map(([D,H])=>({name:D,value:H,color:rc(D)})).sort((D,H)=>H.value-D.value),Ft={};Object.keys(ce).length===0&&a.forEach(D=>{var H,q;(q=(H=D.details)==null?void 0:H.targets)==null||q.forEach(Ee=>{if(Ee.isFake)return;const de=Ee.profession&&Ee.profession!=="Unknown"?Ee.profession:Ee.name||Ee.id||"Unknown",Be=W(de);Ft[Be]=(Ft[Be]||0)+1})});const mn=Object.keys(ce).length>0?ce:Ft,xn=Object.entries(mn).map(([D,H])=>({name:D,value:H,color:rc(D)})).sort((D,H)=>H.value-D.value),Ln=a.map((D,H)=>({log:D,originalIndex:H})).sort((D,H)=>$i(D.log.details,D.log)-$i(H.log.details,H.log)),oi=Ln.map(({log:D},H)=>{const q=D.details;if(!q)return null;const Ee=q.players||[],de=Ee.filter(fe=>!fe.notInSquad),Be=Ee.filter(fe=>fe.notInSquad),ot=(q.targets||[]).filter(fe=>!fe.isFake),ht=de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.dpsAll)==null?void 0:Je[0])==null?void 0:$e.damage)||0)},0),kt=de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.damageTaken)||0)},0),{enemyDeaths:qt,enemyDownsDeaths:Vt}=A(q),yn=E(q),He=$i(q,D),Qe=mt(q,D),rt=fe=>{if(!fe||typeof fe!="object")return;const ze=fe.teamID??fe.teamId??fe.team??fe.teamColor??fe.team_color;if(ze!=null)return ze;const Je=Object.keys(fe).find($e=>/^team/i.test($e));return Je?fe[Je]:void 0},Dt=(fe,ze)=>{const Je={};return fe.forEach($e=>{const et=ze($e),Gt=W(et);Gt&&(Je[Gt]=(Je[Gt]||0)+1)}),Je},lt=Dt(de,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),ve=Dt(Be,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),ye=Dt(ot,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id)),Re=new Set;de.forEach(fe=>{const ze=rt(fe);ze!=null&&Re.add(String(ze))});const Ae=new Map;ot.forEach(fe=>{if((fe==null?void 0:fe.enemyPlayer)===!1)return;const ze=rt(fe);if(ze==null)return;const Je=String(ze);Re.has(Je)||Ae.set(Je,(Ae.get(Je)||0)+1)});const tt=Array.from(Ae.entries()).sort((fe,ze)=>{const Je=ze[1]-fe[1];return Je!==0?Je:fe[0].localeCompare(ze[0],void 0,{numeric:!0})}).slice(0,3).map(([fe,ze])=>({teamId:fe,count:ze}));return{id:D.filePath||`fight-${H}`,label:D.encounterName||`Fight ${H+1}`,permalink:Lt(q,D),timestamp:He,mapName:Qe,duration:mh(q.durationMS),isWin:yn,squadCount:de.length,allyCount:Be.length,enemyCount:ot.length,teamBreakdown:tt,alliesDown:de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.downCount)||0)},0),alliesDead:de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.deadCount)||0)},0),alliesRevived:de.reduce((fe,ze)=>{var Je,$e;return Number((($e=(Je=ze.statsAll)==null?void 0:Je[0])==null?void 0:$e.saved)||0)>0?fe+1:fe},0),rallies:0,enemyDeaths:qt,enemyDowns:Math.max(0,Vt-qt),totalOutgoingDamage:ht,totalIncomingDamage:kt,incomingBarrierAbsorbed:de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.damageBarrier)||0)},0),outgoingBarrierAbsorbed:de.reduce((fe,ze)=>{var et;const Je=(et=ze.extBarrierStats)==null?void 0:et.outgoingBarrier;if(!Array.isArray(Je))return fe;let $e=0;return Je.forEach(Gt=>{if(Array.isArray(Gt)){Gt.forEach(Mn=>{$e+=Number((Mn==null?void 0:Mn.barrier)||0)});return}$e+=Number((Gt==null?void 0:Gt.barrier)||0)}),fe+$e},0),squadClassCountsFight:lt,allyClassCountsFight:ve,enemyClassCounts:ye}}).filter(Boolean),Dn=Ln.map(({log:D},H)=>{const q=D.details;if(!q)return null;const de=(Array.isArray(q.players)?q.players:[]).filter(z=>!z.notInSquad),Be=Array.isArray(q.targets)?q.targets:[],Ce=$i(q,D),ot=mt(q,D),ht=Number(q.durationMS||0),{squadDownsDeaths:kt,enemyDownsDeaths:qt,squadDeaths:Vt,enemyDeaths:yn}=A(q),He=new Map,Qe=(z,le,De)=>{const qe=He.get(z)||{label:z,damage:0,hits:0};qe.damage+=le,qe.hits+=De,He.set(z,qe)};if(de.forEach(z=>{(Array.isArray(z==null?void 0:z.statsTargets)?z.statsTargets:[]).forEach((De,qe)=>{const Te=Array.isArray(De)?De[0]:De,se=Number((Te==null?void 0:Te.damage)??(Te==null?void 0:Te.totalDmg)??(Te==null?void 0:Te.connectedDmg)??0),_e=Number((Te==null?void 0:Te.connectedHits)??(Te==null?void 0:Te.connectedDamageCount)??(Te==null?void 0:Te.hits)??0);if(se<=0&&_e<=0)return;const Ne=Be[qe];if(Ne!=null&&Ne.isFake)return;const nt=(Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.id)||`Target ${qe+1}`,Bt=W(nt);Qe(Bt||String(nt),se,_e)})}),He.size===0){const z=new Map,le=De=>{if(!Array.isArray(De)||De.length===0)return[];const qe=De[0];if(Array.isArray(qe)&&Array.isArray(qe[0])){if(typeof qe[0][0]=="number")return qe;if(Array.isArray(qe[0])&&typeof qe[0][0]=="number")return De.map(Te=>Array.isArray(Te)?Te[0]||[]:[])}return[]};de.forEach(De=>{le(De==null?void 0:De.targetDamage1S).forEach((Te,se)=>{if(!Array.isArray(Te)||Te.length===0)return;const _e=Te.map(nt=>Number(nt)).filter(nt=>Number.isFinite(nt)&&nt>=0);if(_e.length===0)return;const Ne=Math.max(0,_e[_e.length-1]||0);Ne<=0||z.set(se,(z.get(se)||0)+Ne)})}),z.forEach((De,qe)=>{if(De<=0)return;const Te=Be[qe];if(Te!=null&&Te.isFake)return;const se=(Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id)||`Target ${qe+1}`,_e=W(se);Qe(_e||String(se),De,0)})}if(He.size===0&&Be.forEach((z,le)=>{if(z!=null&&z.isFake)return;const De=Array.isArray(z==null?void 0:z.totalDamageTaken)?z.totalDamageTaken:Array.isArray(z==null?void 0:z.totalDamageDist)?z.totalDamageDist:[];let qe=0,Te=0;if(De.forEach(Ne=>{qe+=Number((Ne==null?void 0:Ne.totalDamage)||(Ne==null?void 0:Ne.damage)||0),Te+=Number((Ne==null?void 0:Ne.connectedHits)||(Ne==null?void 0:Ne.hits)||0)}),qe<=0&&Number((z==null?void 0:z.damageTaken)||0)>0&&(qe=Number(z.damageTaken||0)),qe<=0&&Te<=0)return;const se=(z==null?void 0:z.profession)||(z==null?void 0:z.name)||(z==null?void 0:z.id)||`Target ${le+1}`,_e=W(se);Qe(_e||String(se),qe,Te)}),He.size===0){const z=new Map;Be.forEach((le,De)=>{if(le!=null&&le.isFake)return;const qe=(le==null?void 0:le.profession)||(le==null?void 0:le.name)||(le==null?void 0:le.id)||`Target ${De+1}`,Te=W(qe)||String(qe);z.set(Te,(z.get(Te)||0)+1)}),z.forEach((le,De)=>{le>0&&Qe(De,le,0)})}const rt=Array.from(He.values()).sort((z,le)=>le.damage-z.damage||le.hits-z.hits||z.label.localeCompare(le.label)),Dt=rt.reduce((z,le)=>z+le.damage,0),lt=rt.map(z=>({label:z.label,damage:z.damage,hits:z.hits,share:Dt>0?z.damage/Dt:0})),ve=Be.filter(z=>!(z!=null&&z.isFake)).length,ye=de.length,Re=de.reduce((z,le)=>{var De,qe;return z+Number(((qe=(De=le==null?void 0:le.dpsAll)==null?void 0:De[0])==null?void 0:qe.damage)||0)},0),Ae=de.reduce((z,le)=>{var De,qe;return z+Number(((qe=(De=le==null?void 0:le.defenses)==null?void 0:De[0])==null?void 0:qe.damageTaken)||0)},0),tt=de.reduce((z,le)=>{var De,qe;return z+Number(((qe=(De=le==null?void 0:le.defenses)==null?void 0:De[0])==null?void 0:qe.damageBarrier)||0)},0),fe=de.reduce((z,le)=>{var Te;const De=(Te=le==null?void 0:le.extBarrierStats)==null?void 0:Te.outgoingBarrier;if(!Array.isArray(De))return z;let qe=0;return De.forEach(se=>{Array.isArray(se)?se.forEach(_e=>{qe+=Number((_e==null?void 0:_e.barrier)||0)}):qe+=Number((se==null?void 0:se.barrier)||0)}),z+qe},0),ze=de.reduce((z,le)=>{var De,qe;return Number(((qe=(De=le==null?void 0:le.statsAll)==null?void 0:De[0])==null?void 0:qe.saved)||0)>0?z+1:z},0),Je=de.reduce((z,le)=>z+Number(nC(le)||0),0),$e=de.reduce((z,le)=>z+Number(rC(le)||0),0),et=de.reduce((z,le)=>z+Number((le==null?void 0:le.stabGeneration)||0),0),Gt=de.reduce((z,le)=>z+Number(aC(le)||0),0),Mn=de.reduce((z,le)=>z+Number(sC(le)||0),0),kn=de.reduce((z,le)=>z+Number(oC(le)||0),0),tn=de.reduce((z,le)=>z+Number(iC(le)||0),0),en=Vt>0?yn/Vt:yn,an=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:E(q)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:ye},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:ve},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:en},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:yn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,qt-yn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Vt},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,kt-Vt)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Re-Ae},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Re},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ae},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Je},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:$e},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:et},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Gt},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:Mn},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:tt},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:fe},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:kn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:tn},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ze}];return{id:D.filePath||D.id||`fight-${H+1}`,shortLabel:`F${H+1}`,fullLabel:`${ot||D.encounterName||"Unknown Map"}  ${mh(ht)}`,mapName:ot,timestamp:Ce,duration:mh(ht),isWin:E(q),targetFocus:lt,squadMetrics:an}}).filter(Boolean),bi=Array.from(_.values()).map(D=>{const H=Object.entries(D.professionTimeMs||{}).map(([q,Ee])=>({profession:q,timeMs:Number(Ee||0)})).filter(q=>q.profession&&q.profession!=="Unknown"&&q.timeMs>0).sort((q,Ee)=>{const de=Ee.timeMs-q.timeMs;return de!==0?de:q.profession.localeCompare(Ee.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((q,Ee)=>q.localeCompare(Ee)),classTimes:H,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const q=Number(D.firstSeenFightTs||0),Ee=Number(D.lastSeenFightTs||0),de=Math.max(0,Number(D.lastSeenFightDurationMs||0));return q>0&&Ee>0?Math.max(0,Ee+de-q):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,H)=>{const q=H.squadTimeMs-D.squadTimeMs;return q!==0?q:String(D.account).localeCompare(String(H.account))}),Cl=a.map(D=>D).sort((D,H)=>$i(D.details,D)-$i(H.details,H)).map((D,H)=>{const q=D==null?void 0:D.details,Ee=Array.isArray(q==null?void 0:q.players)?q.players.filter(Ce=>!(Ce!=null&&Ce.notInSquad)):[],de=new Map;Ee.forEach(Ce=>{const ot=Number(Ce==null?void 0:Ce.group),ht=Number.isFinite(ot)&&ot>0?ot:0;de.has(ht)||de.set(ht,{party:ht,players:[],classCounts:{}});const kt=W((Ce==null?void 0:Ce.profession)||(Ce==null?void 0:Ce.name)||"Unknown"),qt=String((Ce==null?void 0:Ce.account)||"Unknown"),Vt=String((Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.character_name)||""),yn=!!(Ce!=null&&Ce.hasCommanderTag),He=de.get(ht);He.players.push({account:qt,characterName:Vt,profession:kt,isCommander:yn}),He.classCounts[kt]=(He.classCounts[kt]||0)+1});const Be=Array.from(de.values()).map(Ce=>({...Ce,players:Ce.players.sort((ot,ht)=>{const kt=+!!ht.isCommander-+!!ot.isCommander;if(kt!==0)return kt;const qt=String(ot.profession).localeCompare(String(ht.profession));return qt!==0?qt:String(ot.account).localeCompare(String(ht.account))})})).sort((Ce,ot)=>Ce.party===0&&ot.party!==0?1:ot.party===0&&Ce.party!==0?-1:Ce.party-ot.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${H+1}`),label:`F${H+1}`,timestamp:$i(q,D),mapName:mt(q,D),duration:mh(Number((q==null?void 0:q.durationMS)||0)),parties:Be}}),Sx=(D,H)=>{const q=(H==null?void 0:H.skillMap)||{},Ee=(H==null?void 0:H.buffMap)||{};let de=0,Be="";const Ce=kt=>{const qt=Number(kt);if(!Number.isFinite(qt))return String(kt||"Unknown Skill");const Vt=(q==null?void 0:q[`s${qt}`])||(q==null?void 0:q[`${qt}`]);if(Vt!=null&&Vt.name)return String(Vt.name);const yn=(Ee==null?void 0:Ee[`b${qt}`])||(Ee==null?void 0:Ee[`${qt}`]);return yn!=null&&yn.name?String(yn.name):`Skill ${qt}`},ot=kt=>{if(!kt||typeof kt!="object")return;const qt=[Number(kt.max),Number(kt.maxDamage),Number(kt.maxHit)].filter(yn=>Number.isFinite(yn)),Vt=qt.length>0?Math.max(...qt):0;Vt>de&&(de=Vt,Be=Ce(kt.id))};let ht=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(kt=>{Array.isArray(kt)&&kt.forEach(qt=>{Array.isArray(qt)&&qt.forEach(Vt=>{ht=!0,ot(Vt)})})}),(!ht||de<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(kt=>{Array.isArray(kt)&&kt.forEach(qt=>ot(qt))}),{peak:de,skillName:Be||"Unknown Skill"}},Nx=(()=>{const D=He=>String(He||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=He=>D(He).toLowerCase().split(/[^a-z0-9]+/i).map(Qe=>Qe.trim()).filter(Boolean).map(Qe=>Qe.length>3&&Qe.endsWith("s")?Qe.slice(0,-1):Qe),q=(He,Qe)=>{const rt=D(He),Dt=D(Qe);if(!Dt)return rt;if(!rt)return Dt;const lt=H(rt),ve=H(Dt),ye=new Set(lt),Re=new Set(ve),Ae=ve.length>0&&ve.every(fe=>ye.has(fe)),tt=lt.length>0&&lt.every(fe=>Re.has(fe));return Ae||tt?rt:`${rt} - ${Dt}`},Ee=[],de=new Map,Be=He=>{const Qe=Ae=>{if(!Array.isArray(Ae)||Ae.length===0)return[];const tt=[];for(let fe=0;fe<Ae.length;fe+=1){const ze=Number(Ae[fe]||0),Je=fe>0?Number(Ae[fe-1]||0):0;tt.push(Math.max(0,ze-Je))}return tt},rt=Ae=>{if(!Array.isArray(Ae))return[];const tt=Ae.reduce((ze,Je)=>Math.max(ze,Array.isArray(Je)?Je.length:0),0);if(tt<=0)return[];const fe=new Array(tt).fill(0);return Ae.forEach(ze=>{if(Array.isArray(ze))for(let Je=0;Je<tt;Je+=1)fe[Je]+=Number(ze[Je]||0)}),fe},Dt=Ae=>Array.isArray(Ae)?Ae.map(tt=>Number(tt||0)):null,ve=(Ae=>{if(!Array.isArray(Ae)||Ae.length===0)return null;const tt=Ae[0];if(!Array.isArray(tt))return null;if(Array.isArray(tt[0])&&Array.isArray(tt[0][0]))return rt(tt);if(Array.isArray(tt[0])&&!Array.isArray(tt[0][0])){const fe=Ae.map(ze=>Dt(Array.isArray(ze)?ze[0]:null)).filter(ze=>Array.isArray(ze)&&ze.length>0);if(fe.length>0)return rt(fe)}return null})(He==null?void 0:He.targetDamage1S),ye=Array.isArray(He==null?void 0:He.damage1S)&&Array.isArray(He.damage1S[0])?He.damage1S[0]:null,Re=ve||(Array.isArray(ye)?ye.map(Ae=>Number(Ae||0)):[]);return Qe(Re)},Ce=(He,Qe)=>{if(!Array.isArray(He)||He.length===0||Qe<=0)return 0;let rt=0,Dt=0;for(let lt=0;lt<He.length;lt+=1)rt+=Number(He[lt]||0),lt>=Qe&&(rt-=Number(He[lt-Qe]||0)),lt>=Qe-1&&rt>Dt&&(Dt=rt);return Math.max(0,Dt)},ot=(He,Qe)=>{if(!Array.isArray(He)||He.length===0||Qe<=0)return[];const rt=[];for(let Dt=0;Dt<He.length;Dt+=Qe){const lt=Math.min(Dt+Qe,He.length),ve=He.slice(Dt,lt).reduce((ye,Re)=>ye+Number(Re||0),0);rt.push(ve)}return rt},ht=(He,Qe)=>{const rt=Number(He);if(!Number.isFinite(rt))return{name:String(He||"Unknown Skill"),icon:void 0};const Dt=(Qe==null?void 0:Qe.skillMap)||{},lt=(Qe==null?void 0:Qe.buffMap)||{},ve=(Dt==null?void 0:Dt[`s${rt}`])||(Dt==null?void 0:Dt[`${rt}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const ye=(lt==null?void 0:lt[`b${rt}`])||(lt==null?void 0:lt[`${rt}`]);return ye!=null&&ye.name?{name:String(ye.name),icon:ye==null?void 0:ye.icon}:{name:`Skill ${rt}`,icon:void 0}},kt=He=>Array.isArray(He)?He.map(Qe=>Array.isArray(Qe)?[Number(Qe[0]),Number(Qe[1])]:Qe&&typeof Qe=="object"?[Number(Qe.time),Number(Qe.value)]:null).filter(Qe=>!!Qe&&Number.isFinite(Qe[0])&&Qe[0]>=0):[],qt=(He,Qe,rt,Dt,lt)=>{if(!He.length||Dt<=0)return[];const ve=Math.max(Dt*5e3,lt||0),ye=et=>et.reduce((Gt,Mn)=>Mn>=0&&Mn<=ve+2e3?Gt+1:Gt,0),Re=He.map(et=>Number(et||0)).filter(et=>Number.isFinite(et)&&et>=0);if(!Re.length)return[];const Ae=[Re],tt=Re.reduce((et,Gt)=>Math.max(et,Gt),0),fe=Re.reduce((et,Gt)=>Math.min(et,Gt),Number.POSITIVE_INFINITY);tt>ve*20&&Ae.push(Re.map(et=>et/1e3)),tt<=ve*2&&fe>=0&&tt>0&&tt<Math.max(120,Dt*5+10)&&Ae.push(Re.map(et=>et*1e3));let ze=Re,Je=0,$e=-1;return Ae.forEach(et=>{const Gt=et.reduce((kn,tn)=>Math.min(kn,tn),Number.POSITIVE_INFINITY),Mn=new Set([0,...Qe,...rt]);if(Number.isFinite(Gt)&&ve>0&&Gt>ve){const kn=Math.floor(Gt/ve)*ve;Mn.add(kn),Mn.add(Math.max(0,kn-ve))}Mn.forEach(kn=>{const tn=et.map(an=>an-kn),en=ye(tn);en>$e&&($e=en,Je=kn,ze=et)})}),ze.map(et=>et-Je).filter(et=>Number.isFinite(et)&&et>=0)},Vt=(He,Qe,rt,Dt,lt)=>{const ve=qt(He,Qe,rt,Dt,lt);return Array.from(new Set(ve.map(ye=>Math.floor(ye/5e3)).filter(ye=>Number.isFinite(ye)&&ye>=0&&ye<Dt)))};a.map(He=>({log:He,ts:$i(He==null?void 0:He.details,He)})).sort((He,Qe)=>He.ts-Qe.ts).forEach(({log:He},Qe)=>{const rt=He==null?void 0:He.details;if(!rt)return;const Dt=D(rt.fightName||He.fightName||`Fight ${Qe+1}`),lt=mt(rt,He),ve=q(Dt,String(lt||"")),ye={},Re=Array.isArray(rt.players)?rt.players:[],Ae=Re.flatMap($e=>{const et=$e==null?void 0:$e.combatReplayData;return Array.isArray(et)?et.map(Gt=>Number(Gt==null?void 0:Gt.start)):[Number(et==null?void 0:et.start)]}).filter($e=>Number.isFinite($e)&&$e>=0);Re.forEach($e=>{if($e!=null&&$e.notInSquad)return;const et=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown"),Gt=String(($e==null?void 0:$e.character_name)||($e==null?void 0:$e.display_name)||($e==null?void 0:$e.name)||""),Mn=String(($e==null?void 0:$e.profession)||"Unknown"),kn=`${et}|${Mn}`,tn=Sx($e,rt),en=Number(tn.peak||0),an=Be($e),z=Number(Ce(an,1)||0),le=Number(Ce(an,5)||0),De=Number(Ce(an,30)||0),qe=Math.max(0,Math.ceil(Number((rt==null?void 0:rt.durationMS)||0)/5e3)),Te=Math.max(0,Math.ceil(an.length/5)),se=Math.max(qe,Te),_e=ot(an,5),Ne=Array.from({length:se},(Fe,at)=>Number(_e[at]||0)),nt=new Map,Bt=Fe=>{if(!Fe||typeof Fe!="object"||Fe.indirectDamage)return;const at=Number(Fe.totalDamage||0);if(!Number.isFinite(at)||at<=0)return;const gt=Number(Fe.connectedHits||Fe.hits||0),Nt=ht(Fe.id,rt),cn=Nt.name,Cn=nt.get(cn)||{skillName:cn,damage:0,hits:0,icon:Nt.icon};Cn.damage+=at,Cn.hits+=Number.isFinite(gt)?gt:0,!Cn.icon&&Nt.icon&&(Cn.icon=Nt.icon),nt.set(cn,Cn)},It=new Map;Array.isArray($e==null?void 0:$e.targetDamageDist)&&$e.targetDamageDist.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(at=>{Array.isArray(at)&&at.forEach(gt=>{const Nt=Number(gt==null?void 0:gt.id),cn=Number((gt==null?void 0:gt.totalDamage)||0);if(Number.isFinite(Nt)){const Cn=It.get(Nt)||{damage:0,hits:0};Cn.damage+=Number.isFinite(cn)?cn:0,Cn.hits+=Number((gt==null?void 0:gt.connectedHits)||(gt==null?void 0:gt.hits)||0),It.set(Nt,Cn)}Bt(gt)})})}),!(rt!=null&&rt.detailedWvW)&&Array.isArray($e==null?void 0:$e.totalDamageDist)&&$e.totalDamageDist.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(at=>{const gt=Number(at==null?void 0:at.id);if(!Number.isFinite(gt)){Bt(at);return}const Nt=It.get(gt);if(!Nt){Bt(at);return}const cn=Number((at==null?void 0:at.totalDamage)||0),Cn=Number((at==null?void 0:at.connectedHits)||(at==null?void 0:at.hits)||0),$n=cn-Number(Nt.damage||0),_r=Cn-Number(Nt.hits||0);$n<=0&&_r<=0||Bt({...at,totalDamage:Math.max(0,$n),connectedHits:Math.max(0,_r),hits:Math.max(0,_r)})})});const Et=(()=>{const Fe=$e==null?void 0:$e.combatReplayData;return Array.isArray(Fe)?Fe.filter(at=>at&&typeof at=="object"):Fe&&typeof Fe=="object"?[Fe]:[]})(),zt=Et.map(Fe=>Number(Fe==null?void 0:Fe.start)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0),Ht=Et.flatMap(Fe=>kt(Fe==null?void 0:Fe.down).map(([at])=>Number(at||0))),St=Et.flatMap(Fe=>kt(Fe==null?void 0:Fe.dead).map(([at])=>Number(at||0)));ye[kn]={hit:en,burst1s:z,burst5s:le,burst30s:De,skillName:tn.skillName,buckets5s:Ne,downIndices5s:Vt(Ht,zt,Ae,se,Number((rt==null?void 0:rt.durationMS)||0)),deathIndices5s:Vt(St,zt,Ae,se,Number((rt==null?void 0:rt.durationMS)||0)),skillRows:Array.from(nt.values()).sort((Fe,at)=>at.damage-Fe.damage).slice(0,50)};const Pt=de.get(kn)||{key:kn,account:et,displayName:et,characterName:Gt,profession:Mn,professionList:[Mn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Pt.logs+=1,Pt.professionList.includes(Mn)||Pt.professionList.push(Mn),!Pt.characterName&&Gt&&(Pt.characterName=Gt),en>Pt.peakHit&&(Pt.peakHit=en,Pt.peakFightLabel=ve,Pt.peakSkillName=tn.skillName),z>Pt.peak1s&&(Pt.peak1s=z),le>Pt.peak5s&&(Pt.peak5s=le),De>Pt.peak30s&&(Pt.peak30s=De),de.set(kn,Pt)});const tt=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.hit)||0)),0),fe=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.burst1s)||0)),0),ze=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.burst5s)||0)),0),Je=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.burst30s)||0)),0);Ee.push({id:He.filePath||He.id||`fight-${Qe+1}`,shortLabel:`F${Qe+1}`,fullLabel:ve,timestamp:$i(rt,He),values:ye,maxHit:tt,max1s:fe,max5s:ze,max30s:Je})});const yn=Array.from(de.values()).sort((He,Qe)=>Qe.peakHit!==He.peakHit?Qe.peakHit-He.peakHit:He.displayName.localeCompare(Qe.displayName));return{fights:Ee,players:yn}})(),Cx=(()=>{const D=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=ve=>D(ve).toLowerCase().split(/[^a-z0-9]+/i).map(ye=>ye.trim()).filter(Boolean).map(ye=>ye.length>3&&ye.endsWith("s")?ye.slice(0,-1):ye),q=(ve,ye)=>{const Re=D(ve),Ae=D(ye);if(!Ae)return Re;if(!Re)return Ae;const tt=H(Re),fe=H(Ae),ze=new Set(tt),Je=new Set(fe),$e=fe.length>0&&fe.every(Gt=>ze.has(Gt)),et=tt.length>0&&tt.every(Gt=>Je.has(Gt));return $e||et?Re:`${Re} - ${Ae}`},Ee=[],de=new Map,Be=(ve,ye)=>{const Re=Number(ve);if(!Number.isFinite(Re))return{name:String(ve||"Unknown Skill"),icon:void 0};const Ae=(ye==null?void 0:ye.skillMap)||{},tt=(ye==null?void 0:ye.buffMap)||{},fe=(Ae==null?void 0:Ae[`s${Re}`])||(Ae==null?void 0:Ae[`${Re}`]);if(fe!=null&&fe.name)return{name:String(fe.name),icon:fe==null?void 0:fe.icon};const ze=(tt==null?void 0:tt[`b${Re}`])||(tt==null?void 0:tt[`${Re}`]);return ze!=null&&ze.name?{name:String(ze.name),icon:ze==null?void 0:ze.icon}:{name:`Skill ${Re}`,icon:void 0}},Ce=(ve,ye)=>{let Re=0,Ae="";const tt=fe=>{if(!fe||typeof fe!="object"||fe.indirectDamage)return;const ze=[Number(fe.max),Number(fe.maxDamage),Number(fe.maxHit)].filter($e=>Number.isFinite($e)),Je=ze.length>0?Math.max(...ze):0;Je>Re&&(Re=Je,Ae=Be(fe.id,ye).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(ze=>tt(ze))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(ze=>{Array.isArray(ze)&&ze.forEach(Je=>tt(Je))})}),{peak:Re,skillName:Ae||"Unknown Skill"}},ot=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=[];for(let Re=0;Re<ve.length;Re+=1){const Ae=Number(ve[Re]||0),tt=Re>0?Number(ve[Re-1]||0):0;ye.push(Math.max(0,Ae-tt))}return ye},ht=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=ve.reduce((Ae,tt)=>Math.max(Ae,Array.isArray(tt)?tt.length:0),0);if(ye<=0)return[];const Re=new Array(ye).fill(0);return ve.forEach(Ae=>{if(Array.isArray(Ae))for(let tt=0;tt<ye;tt+=1)Re[tt]+=Number(Ae[tt]||0)}),Re},kt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=ve[0];if(typeof ye=="number")return ve.map(Re=>Number(Re||0));if(Array.isArray(ye)&&ye.length>0){if(typeof ye[0]=="number")return ye.map(Re=>Number(Re||0));if(Array.isArray(ye[0])){const Re=ye.map(Ae=>Array.isArray(Ae)?Ae.map(tt=>Number(tt||0)):null).filter(Ae=>Array.isArray(Ae)&&Ae.length>0);if(Re.length>0)return ht(Re)}}return[]},qt=ve=>{const ye=kt(ve==null?void 0:ve.powerDamage1S),Re=kt(ve==null?void 0:ve.damage1S),Ae=ye.length>0?ye:Re;return ot(Ae)},Vt=(ve,ye)=>{const Re=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(Re)||!Array.isArray(Re[ye]))return[];const Ae=Re[ye];if(!Array.isArray(Ae)||Ae.length===0)return[];if(typeof Ae[0]=="number")return Ae.map(tt=>Number(tt||0));if(Array.isArray(Ae[0])&&!Array.isArray(Ae[0][0]))return Ae[0].map(tt=>Number(tt||0));if(Array.isArray(Ae[0])&&Array.isArray(Ae[0][0])){const fe=Ae[0].map(ze=>Array.isArray(ze)?ze.map(Je=>Number(Je||0)):null).filter(ze=>Array.isArray(ze)&&ze.length>0);return ht(fe)}return[]},yn=(ve,ye)=>{if(!Array.isArray(ve)||ve.length===0||ye<=0)return 0;let Re=0,Ae=0;for(let tt=0;tt<ve.length;tt+=1)Re+=Number(ve[tt]||0),tt>=ye&&(Re-=Number(ve[tt-ye]||0)),tt>=ye-1&&Re>Ae&&(Ae=Re);return Math.max(0,Ae)},He=(ve,ye)=>{if(!Array.isArray(ve)||ve.length===0||ye<=0)return[];const Re=[];for(let Ae=0;Ae<ve.length;Ae+=ye){const tt=Math.min(Ae+ye,ve.length),fe=ve.slice(Ae,tt).reduce((ze,Je)=>ze+Number(Je||0),0);Re.push(fe)}return Re},Qe=ve=>Array.isArray(ve)?ve.map(ye=>Array.isArray(ye)?[Number(ye[0]),Number(ye[1])]:ye&&typeof ye=="object"?[Number(ye.time),Number(ye.value)]:null).filter(ye=>!!ye&&Number.isFinite(ye[0])&&ye[0]>=0):[],rt=(ve,ye,Re,Ae,tt)=>{if(!ve.length||Ae<=0)return[];const fe=Math.max(Ae*5e3,tt||0),ze=en=>en.reduce((an,z)=>z>=0&&z<=fe+2e3?an+1:an,0),Je=ve.map(en=>Number(en||0)).filter(en=>Number.isFinite(en)&&en>=0);if(!Je.length)return[];const $e=[Je],et=Je.reduce((en,an)=>Math.max(en,an),0),Gt=Je.reduce((en,an)=>Math.min(en,an),Number.POSITIVE_INFINITY);et>fe*20&&$e.push(Je.map(en=>en/1e3)),et<=fe*2&&Gt>=0&&et>0&&et<Math.max(120,Ae*5+10)&&$e.push(Je.map(en=>en*1e3));let Mn=Je,kn=0,tn=-1;return $e.forEach(en=>{const an=en.reduce((le,De)=>Math.min(le,De),Number.POSITIVE_INFINITY),z=new Set([0,...ye,...Re]);if(Number.isFinite(an)&&fe>0&&an>fe){const le=Math.floor(an/fe)*fe;z.add(le),z.add(Math.max(0,le-fe))}z.forEach(le=>{const De=en.map(Te=>Te-le),qe=ze(De);qe>tn&&(tn=qe,kn=le,Mn=en)})}),Mn.map(en=>en-kn).filter(en=>Number.isFinite(en)&&en>=0)},Dt=(ve,ye,Re,Ae,tt)=>{const fe=rt(ve,ye,Re,Ae,tt);return Array.from(new Set(fe.map(ze=>Math.floor(ze/5e3)).filter(ze=>Number.isFinite(ze)&&ze>=0&&ze<Ae)))};a.map(ve=>({log:ve,ts:$i(ve==null?void 0:ve.details,ve)})).sort((ve,ye)=>ve.ts-ye.ts).forEach(({log:ve},ye)=>{const Re=ve==null?void 0:ve.details;if(!Re)return;const Ae=D(Re.fightName||ve.fightName||`Fight ${ye+1}`),tt=mt(Re,ve),fe=q(Ae,String(tt||"")),ze={},$e=(Array.isArray(Re.players)?Re.players:[]).filter(se=>!(se!=null&&se.notInSquad)),et=$e.flatMap(se=>{const _e=se==null?void 0:se.combatReplayData;return Array.isArray(_e)?_e.map(Ne=>Number(Ne==null?void 0:Ne.start)):[Number(_e==null?void 0:_e.start)]}).filter(se=>Number.isFinite(se)&&se>=0),Gt=$e.flatMap(se=>{const _e=se==null?void 0:se.combatReplayData;return(Array.isArray(_e)?_e:_e?[_e]:[]).flatMap(nt=>Qe(nt==null?void 0:nt.down).map(([Bt])=>Number(Bt||0)))}),Mn=$e.flatMap(se=>{const _e=se==null?void 0:se.combatReplayData;return(Array.isArray(_e)?_e:_e?[_e]:[]).flatMap(nt=>Qe(nt==null?void 0:nt.dead).map(([Bt])=>Number(Bt||0)))}),kn=new Map,tn=new Map,en=new Map;(Array.isArray(Re.targets)?Re.targets:[]).forEach((se,_e)=>{if(!se||se.isFake||!se.enemyPlayer)return;const Ne=W((se==null?void 0:se.profession)||(se==null?void 0:se.name)||(se==null?void 0:se.id))||"Unknown";en.set(Ne,(en.get(Ne)||0)+1);const nt=tn.get(Ne)||new Map;Array.isArray(se==null?void 0:se.totalDamageDist)&&se.totalDamageDist.forEach(Ht=>{Array.isArray(Ht)&&Ht.forEach(St=>{if(!St||typeof St!="object"||St.indirectDamage)return;const Pt=Number(St.totalDamage||0);if(!Number.isFinite(Pt)||Pt<=0)return;const Fe=Number(St.connectedHits||St.hits||0),at=Be(St.id,Re),gt=at.name,Nt=nt.get(gt)||{skillName:gt,damage:0,hits:0,icon:at.icon};Nt.damage+=Pt,Nt.hits+=Number.isFinite(Fe)?Fe:0,!Nt.icon&&at.icon&&(Nt.icon=at.icon),nt.set(gt,Nt)})}),tn.set(Ne,nt);const Bt=ht($e.map(Ht=>Vt(Ht,_e))),It=Bt.length>0?ot(Bt):qt(se),ft=Ce(se,Re);let Et=kn.get(Ne);Et||(Et={perSecond:[],hit:0,skillName:""},kn.set(Ne,Et)),It.length>Et.perSecond.length&&(Et.perSecond.length=It.length);for(let Ht=0;Ht<It.length;Ht+=1)Et.perSecond[Ht]=Number(Et.perSecond[Ht]||0)+Number(It[Ht]||0);const zt=Number(ft.peak||0);zt>Et.hit&&(Et.hit=zt,Et.skillName=ft.skillName||"Unknown Skill")});const z=Array.from(kn.values()).some(se=>Array.isArray(se.perSecond)&&se.perSecond.some(_e=>Number(_e||0)>0));if(kn.size===0||!z){const se=ht($e.map(Ne=>{const nt=kt(Ne==null?void 0:Ne.powerDamageTaken1S);return ot(nt)})),_e=Array.from(en.values()).reduce((Ne,nt)=>Ne+Number(nt||0),0);se.length>0&&_e>0&&en.forEach((Ne,nt)=>{const Bt=Number(Ne||0)/_e,It=se.map(Et=>Number(Et||0)*Bt),ft=kn.get(nt);kn.set(nt,{perSecond:It,hit:Number((ft==null?void 0:ft.hit)||0),skillName:String((ft==null?void 0:ft.skillName)||"")})})}kn.forEach((se,_e)=>{var at;const Ne=_e,nt=Number(se.hit||0),Bt=Number(yn(se.perSecond,1)||0),It=Number(yn(se.perSecond,5)||0),ft=Number(yn(se.perSecond,30)||0),Et=Math.max(0,Math.ceil(Number((Re==null?void 0:Re.durationMS)||0)/5e3)),zt=Math.max(0,Math.ceil(se.perSecond.length/5)),Ht=Math.max(Et,zt),St=He(se.perSecond,5),Pt=Array.from({length:Ht},(gt,Nt)=>Number(St[Nt]||0));ze[Ne]={hit:nt,burst1s:Bt,burst5s:It,burst30s:ft,skillName:se.skillName||"Unknown Skill",buckets5s:Pt,downIndices5s:Dt(Gt,[],et,Ht,Number((Re==null?void 0:Re.durationMS)||0)),deathIndices5s:Dt(Mn,[],et,Ht,Number((Re==null?void 0:Re.durationMS)||0)),skillRows:Array.from(((at=tn.get(_e))==null?void 0:at.values())||[]).sort((gt,Nt)=>Nt.damage-gt.damage).slice(0,50)};const Fe=de.get(Ne)||{key:Ne,account:_e,displayName:_e,characterName:"",profession:_e,professionList:[_e],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Fe.logs+=1,nt>Fe.peakHit&&(Fe.peakHit=nt,Fe.peakFightLabel=fe,Fe.peakSkillName=se.skillName||"Unknown Skill"),Bt>Fe.peak1s&&(Fe.peak1s=Bt),It>Fe.peak5s&&(Fe.peak5s=It),ft>Fe.peak30s&&(Fe.peak30s=ft),de.set(Ne,Fe)});const le=Object.values(ze).reduce((se,_e)=>Math.max(se,Number((_e==null?void 0:_e.hit)||0)),0),De=Object.values(ze).reduce((se,_e)=>Math.max(se,Number((_e==null?void 0:_e.burst1s)||0)),0),qe=Object.values(ze).reduce((se,_e)=>Math.max(se,Number((_e==null?void 0:_e.burst5s)||0)),0),Te=Object.values(ze).reduce((se,_e)=>Math.max(se,Number((_e==null?void 0:_e.burst30s)||0)),0);Ee.push({id:ve.filePath||ve.id||`fight-${ye+1}`,shortLabel:`F${ye+1}`,fullLabel:fe,timestamp:$i(Re,ve),values:ze,maxHit:le,max1s:De,max5s:qe,max30s:Te})});const lt=Array.from(de.values()).sort((ve,ye)=>ye.peakHit!==ve.peakHit?ye.peakHit-ve.peakHit:ve.displayName.localeCompare(ye.displayName));return{fights:Ee,players:lt}})(),jx=Array.from(G.entries()).map(([D,H])=>{const q=K.get(D)||{},Ee=Array.from(H.values()).map(de=>{var yn,He;const Be=Array.from(de.professions||[]).filter(Qe=>Qe&&Qe!=="Unknown");let Ce=de.profession||"Unknown";if(Be.length>0){Ce=Be[0];let Qe=((yn=de.professionTimeMs)==null?void 0:yn[Ce])||0;Be.forEach(rt=>{var lt;const Dt=((lt=de.professionTimeMs)==null?void 0:lt[rt])||0;Dt>Qe&&(Qe=Dt,Ce=rt)})}const ot=de.durationMs||0,ht=de.totalMs/1e3,kt=ot>0?de.totalMs/ot:0,qt=((He=_.get(de.account))==null?void 0:He.supportActiveMs)||ot,Vt=qt>0?de.uptimeMs/qt:0;return{account:de.account,profession:Ce,professionList:Be,total:ht,perSecond:kt,uptimePerSecond:Vt,duration:ot/1e3}}).filter(de=>de.total>0||de.perSecond>0);return{id:D,name:q.name||D,icon:q.icon,rows:Ee}}).filter(D=>D.rows.length>0),Ax=Array.from(Y.values()).map(D=>{const H=Array.from(D.skills.values()).sort((Ee,de)=>de.damage-Ee.damage),q=H.reduce((Ee,de)=>(Ee[de.id]=de,Ee),{});return{key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:H,skillMap:q}}).sort((D,H)=>D.displayName.localeCompare(H.displayName));return{total:p,wins:g,losses:y,avgSquadSize:he,avgEnemies:Le,squadKDR:pt,enemyKDR:Jt,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:fn,...Ao,outgoingConditionSummary:Object.values(Q).sort((D,H)=>H.damage-D.damage),incomingConditionSummary:Object.values(ie).sort((D,H)=>H.damage-D.damage),outgoingConditionPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:ge,topIncomingSkills:Se,topSkillsByDamage:Nl,topSkillsByDownContribution:Z,playerSkillBreakdowns:Ax,topSkillsMetric:m,mapData:Ot,timelineData:gn,boonTables:Tt,offensePlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs})),damageMitigationPlayers:Zr,damageMitigationMinions:si,supportPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:wl,silver:Dc,bronze:kl,squadClassData:Ke,enemyClassData:xn,fightBreakdown:oi,fightDiffMode:Dn,attendanceData:bi,squadCompByFight:Cl,spikeDamage:Nx,incomingStrikeDamage:Cx,specialTables:jx,topStatsPerSecond:Or,topStatsLeaderboardsPerSecond:Tr,avgMvpScore:Sl}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(x=>{const b=x.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=$i(b,x)||Date.now(),N={id:x.filePath||x.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(E=>{if(E.notInSquad)return;const _=E.account||E.name||"Unknown",T=E.profession||"Unknown",M=`${_}|${T}`;let O=h.get(M);O||(O={key:M,account:_,displayName:_,profession:T,professionList:[T],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(M,O)),O.logs++;const Y=(Array.isArray(E.activeTimes)?E.activeTimes[0]:0)/1e3;O.totalActiveSeconds=(O.totalActiveSeconds||0)+Y,N.playerActiveSeconds[M]=Y,(E.rotation||[]).forEach(Q=>{var L,P,j;if(!(Q!=null&&Q.id))return;const ie=((L=Q.skills)==null?void 0:L.length)||0;if(ie<=0)return;const ce=`s${Q.id}`,K=((P=w[ce])==null?void 0:P.name)||`Skill ${Q.id}`,G=(j=w[ce])==null?void 0:j.icon;O.skillTotals[ce]=(O.skillTotals[ce]||0)+ie,f.set(ce,(f.get(ce)||0)+ie),p.set(ce,K),G&&!g.has(ce)&&g.set(ce,G),N.skillEntries[ce]||(N.skillEntries[ce]={name:K,icon:G,players:{}}),!N.skillEntries[ce].icon&&G&&(N.skillEntries[ce].icon=G),N.skillEntries[ce].players[M]=(N.skillEntries[ce].players[M]||0)+ie})}),m.push(N)});const y=Array.from(f.entries()).map(([x,b])=>({id:x,name:p.get(x)||x,total:b,icon:g.get(x)})).sort((x,b)=>b.total-x.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},tU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const g=new Set;let y=null,x=null;e.forEach(T=>{const M=T.details;if(!M)return;const O=M.timeStartStd||M.timeStart||M.uploadTime||T.uploadTime,Y=M.timeEndStd||M.timeEnd||M.uploadTime||T.uploadTime,Q=O?new Date(O):null,ie=Y?new Date(Y):null;Q&&!Number.isNaN(Q.getTime())&&(!y||Q<y)&&(y=Q),ie&&!Number.isNaN(ie.getTime())&&(!x||ie>x)&&(x=ie),(M.players||[]).forEach(K=>{if(!(K!=null&&K.notInSquad)&&K!=null&&K.hasCommanderTag){const G=(K==null?void 0:K.name)||(K==null?void 0:K.account)||"Unknown";g.add(G)}})});const b=Array.from(g).sort((T,M)=>T.localeCompare(M)),w=y||new Date,S=x||w,C=w.toISOString(),N=S.toISOString(),A=`${w.toLocaleString()} - ${S.toLocaleString()}`,E=T=>String(T).padStart(2,"0");return{id:`${w.getFullYear()}${E(w.getMonth()+1)}${E(w.getDate())}-${E(w.getHours())}${E(w.getMinutes())}${E(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:C,dateEnd:N,dateLabel:A,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=Fd({logs:e,statsViewSettings:r}),b=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...g,fightDiffMode:b}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),b=await window.electronAPI.mockWebReport({meta:y,stats:x});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function nU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const rU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function rl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Uc=null;function TO(e={}){return Uc||(e.includeStyleProperties?(Uc=e.includeStyleProperties,Uc):(Uc=rl(window.getComputedStyle(document.documentElement)),Uc))}function Lp(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function iU(e){const t=Lp(e,"border-left-width"),n=Lp(e,"border-right-width");return e.clientWidth+t+n}function aU(e){const t=Lp(e,"border-top-width"),n=Lp(e,"border-bottom-width");return e.clientHeight+t+n}function EO(e,t={}){const n=t.width||iU(e),r=t.height||aU(e);return{width:n,height:r}}function sU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const da=16384;function oU(e){(e.width>da||e.height>da)&&(e.width>da&&e.height>da?e.width>e.height?(e.height*=da/e.width,e.width=da):(e.width*=da/e.height,e.height=da):e.width>da?(e.height*=da/e.width,e.width=da):(e.width*=da/e.height,e.height=da))}function $p(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function lU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function cU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),lU(i)}const ra=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ra(n,t)};function uU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function dU(e,t){return TO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function fU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?uU(n):dU(n,r);return document.createTextNode(`${i}{${a}}`)}function cC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=rU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(fU(s,n,i,r)),t.appendChild(o)}function mU(e,t,n){cC(e,t,":before",n),cC(e,t,":after",n)}const uC="application/font-woff",dC="image/jpeg",hU={woff:uC,woff2:uC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:dC,jpeg:dC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function pU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function D1(e){const t=pU(e).toLowerCase();return hU[t]||""}function gU(e){return e.split(/,/)[1]}function tb(e){return e.search(/^(data:)/)!==-1}function xU(e,t){return`data:${t};base64,${e}`}async function DO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const rv={};function vU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function M1(e,t,n){const r=vU(e,t,n.includeQueryParams);if(rv[r]!=null)return rv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await DO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),gU(o)));i=xU(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return rv[r]=i,i}async function yU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):$p(t)}async function bU(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return $p(o)}const n=e.poster,r=D1(n),i=await M1(n,r,t);return $p(i)}async function wU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await u0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function kU(e,t){return ra(e,HTMLCanvasElement)?yU(e):ra(e,HTMLVideoElement)?bU(e,t):ra(e,HTMLIFrameElement)?wU(e,t):e.cloneNode(MO(e))}const SU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",MO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function NU(e,t,n){var r,i;if(MO(t))return t;let a=[];return SU(e)&&e.assignedNodes?a=rl(e.assignedNodes()):ra(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=rl(e.contentDocument.body.childNodes):a=rl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ra(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>u0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function CU(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):TO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ra(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function jU(e,t){ra(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ra(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function AU(e,t){if(ra(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function PU(e,t,n){return ra(t,Element)&&(CU(e,t,n),mU(e,t,n),jU(e,t),AU(e,t)),t}async function TU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await u0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function u0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>kU(r,t)).then(r=>NU(e,r,t)).then(r=>PU(e,r,t)).then(r=>TU(r,t))}const OO=/url\((['"]?)([^'"]+?)\1\)/g,EU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,DU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function MU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function OU(e){const t=[];return e.replace(OO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!tb(n))}async function IU(e,t,n,r,i){try{const a=n?nU(t,n):t,s=D1(t);let o;return i||(o=await M1(a,s,r)),e.replace(MU(t),`$1${o}$3`)}catch{}return e}function _U(e,{preferredFontFormat:t}){return t?e.replace(DU,n=>{for(;;){const[r,,i]=EU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function IO(e){return e.search(OO)!==-1}async function _O(e,t,n){if(!IO(e))return e;const r=_U(e,n);return OU(r).reduce((a,s)=>a.then(o=>IU(o,s,t,n)),Promise.resolve(r))}async function Vc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await _O(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function LU(e,t){await Vc("background",e,t)||await Vc("background-image",e,t),await Vc("mask",e,t)||await Vc("-webkit-mask",e,t)||await Vc("mask-image",e,t)||await Vc("-webkit-mask-image",e,t)}async function $U(e,t){const n=ra(e,HTMLImageElement);if(!(n&&!tb(e.src))&&!(ra(e,SVGImageElement)&&!tb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await M1(r,D1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function FU(e,t){const r=rl(e.childNodes).map(i=>LO(i,t));await Promise.all(r).then(()=>e)}async function LO(e,t){ra(e,Element)&&(await LU(e,t),await $U(e,t),await FU(e,t))}function RU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const fC={};async function mC(e){let t=fC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},fC[e]=t,t}async function hC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),DO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function pC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function BU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{rl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=mC(l).then(d=>hC(d,t)).then(d=>pC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(mC(i.href).then(o=>hC(o,t)).then(o=>pC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{rl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function zU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>IO(t.style.getPropertyValue("src")))}async function UU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=rl(e.ownerDocument.styleSheets),r=await BU(n,t);return zU(r)}function $O(e){return e.trim().replace(/["']/g,"")}function VU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add($O(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function WU(e,t){const n=await UU(e,t),r=VU(e);return(await Promise.all(n.filter(a=>r.has($O(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return _O(a.cssText,s,t)}))).join(`
`)}async function HU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await WU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function qU(e,t={}){const{width:n,height:r}=EO(e,t),i=await u0(e,t,!0);return await HU(i,t),await LO(i,t),RU(i,t),await cU(i,n,r)}async function KU(e,t={}){const{width:n,height:r}=EO(e,t),i=await qU(e,t),a=await $p(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||sU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||oU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function GU(e,t={}){return(await KU(e,t)).toDataURL()}const YU=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=g,b=!1;for(const S of y){const C=S[1];if(!C)continue;const N=await c(C);N&&(x=x.replace(S[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>GU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},XU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>Fd(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,y]=v.useState(0),[x,b]=v.useState(null),w=v.useRef(0),[S,C]=v.useState(0),N=v.useRef(null),A=v.useRef(null),[E,_]=v.useState(!1),T=v.useRef(null),M=v.useRef(""),O=v.useRef(void 0),Y=v.useRef(""),Q=v.useMemo(()=>{if(!r){M.current="",O.current=void 0;return}const L={...r};delete L.topSkillsMetric;const P=JSON.stringify(L);return M.current!==P&&(M.current=P,O.current=L),O.current},[r]),ie=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}),[e,t,n,Q,i]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!E&&s)return A.current||(A.current=new Worker(new URL(""+new URL("statsWorker-rADSbIxs.js",import.meta.url).href,import.meta.url),{type:"module"}),A.current.onmessage=L=>{var P;((P=L.data)==null?void 0:P.type)==="result"&&(l(L.data.result),typeof L.data.computeId=="number"?d(L.data.computeId):d(j=>j+1),typeof L.data.logCount=="number"&&h(L.data.logCount),typeof L.data.token=="number"&&p(L.data.token),typeof L.data.completedAt=="number"&&y(L.data.completedAt),typeof L.data.flushId=="number"&&b(L.data.flushId))},A.current.onerror=L=>{var P;console.warn("[StatsWorker] Worker error. Falling back to main thread.",L),(P=A.current)==null||P.terminate(),A.current=null,_(!0)},A.current.onmessageerror=L=>{var P;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",L),(P=A.current)==null||P.terminate(),A.current=null,_(!0)},N.current!==null&&A.current.postMessage({type:"flush",flushId:N.current})),()=>{var L;(L=A.current)==null||L.terminate(),A.current=null}},[E,s]),v.useEffect(()=>{var L;if(!(!A.current||E||!s))try{w.current+=1,C(w.current),A.current.postMessage({type:"reset",token:w.current}),A.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}}),T.current&&(window.clearTimeout(T.current),T.current=null);let P=0;const j=()=>{if(!A.current)return;const W=5;for(let k=0;k<W&&P<e.length;k+=1,P+=1)A.current.postMessage({type:"log",payload:e[P]});P<e.length?T.current=window.setTimeout(j,0):(T.current=null,A.current.postMessage({type:"flush"}))};j()}catch(P){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",P),(L=A.current)==null||L.terminate(),A.current=null,_(!0)}},[ie,e,t,n,Q,i,s]);const ce=v.useMemo(()=>!E&&typeof Worker<"u"&&s?null:Fd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}),[E,e,t,n,Q,i,s]),K=v.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return"worker";const L=e[0],P=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(L==null?void 0:L.filePath)||(L==null?void 0:L.name)||"",lastLogPath:(P==null?void 0:P.filePath)||(P==null?void 0:P.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:M.current})},[E,s,e,t,i]);return v.useEffect(()=>{!E&&typeof Worker<"u"&&s||Y.current!==K&&(Y.current=K,d(L=>L+1),h(e.length),p(w.current),y(Date.now()))},[K,E,e.length,s]),{result:E||typeof Worker>"u"||!s?ce??Fd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}):o,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:S,lastComputedAt:g,lastComputedFlushId:x,requestFlush:()=>{const L=Date.now();return N.current=L,A.current&&!E&&A.current.postMessage({type:"flush",flushId:L}),L}}},QU=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=o6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const A=Number(N);if(!Number.isFinite(A)||A<=0)return;const E=r.get(C),_=(E==null?void 0:E.name)||C,T=E==null?void 0:E.icon,M=a(_,C);f+=A,M&&(h+=A);let O=l.skillMap.get(C);O||(O={id:C,name:_,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&T&&(O.icon=T),O.totalCasts+=A;const Y=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(Y,A)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,S={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:b,apsNoAuto:w};l.playerRows.push(S)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var S;const y=Number(((S=d.playerCounts)==null?void 0:S.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(g.totalActiveSeconds||0),b=x>0?y/(x/60):0,w=x>0?y/x:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),ZU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,b=!1;if(Object.entries(g.players).forEach(([w,S])=>{var N;if(n.size>0&&!n.has(w))return;let C=S;if(f){const A=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=A>0?S/A:0}y[w]=C,C>d&&(d=C),x=!0,b=!0}),n.size>0){if(!b)return null}else if(!x)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function FO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=FO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function An(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=FO(e))&&(r&&(r+=" "),r+=t);return r}var JU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function O1(e){if(typeof e!="string")return!1;var t=JU;return t.includes(e)}var e8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t8=new Set(e8);function RO(e){return typeof e!="string"?!1:t8.has(e)}function BO(e){return typeof e=="string"&&e.startsWith("data-")}function Ha(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RO(n)||BO(n))&&(t[n]=e[n]);return t}function Ou(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ha(t)}return typeof e=="object"&&!Array.isArray(e)?Ha(e):null}function Vi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RO(n)||BO(n)||O1(n))&&(t[n]=e[n]);return t}function n8(e){return e==null?null:v.isValidElement(e)?Vi(e.props):typeof e=="object"&&!Array.isArray(e)?Vi(e):null}var r8=["children","width","height","viewBox","className","style","title","desc"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(null,arguments)}function i8(e,t){if(e==null)return{};var n,r,i=a8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var I1=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=i8(e,r8),f=a||{width:r,height:i,x:0,y:0},h=An("recharts-surface",s);return v.createElement("svg",nb({},Vi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),s8=["children","className"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,i=l8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ia=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=o8(e,s8),a=An("recharts-layer",r);return v.createElement("g",rb({className:a},Vi(i),{ref:t}),n)}),zO=v.createContext(null),c8=()=>v.useContext(zO);function Kn(e){return function(){return e}}const UO=Math.cos,Fp=Math.sin,vs=Math.sqrt,Rp=Math.PI,d0=2*Rp,ib=Math.PI,ab=2*ib,Rl=1e-6,u8=ab-Rl;function VO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function d8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class f8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VO:d8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Rl)if(!(Math.abs(f*l-c*d)>Rl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,x=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((ib-Math.acos((g+h-y)/(2*x*b)))/2),S=w/b,C=w/x;Math.abs(S-1)>Rl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Rl||Math.abs(this._y1-d)>Rl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%ab+ab),h>u8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Rl&&this._append`A${r},${r},0,${+(h>=ib)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new f8(t)}function L1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function f0(e){return new WO(e)}function HO(e){return e[0]}function qO(e){return e[1]}function KO(e,t){var n=Kn(!0),r=null,i=f0,a=null,s=_1(o);e=typeof e=="function"?e:e===void 0?HO:Kn(e),t=typeof t=="function"?t:t===void 0?qO:Kn(t);function o(l){var c,d=(l=L1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Kn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function ph(e,t,n){var r=null,i=Kn(!0),a=null,s=f0,o=null,l=_1(c);e=typeof e=="function"?e:e===void 0?HO:Kn(+e),t=typeof t=="function"?t:Kn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?qO:Kn(+n);function c(f){var h,m,p,g=(f=L1(f)).length,y,x=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],S[p]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return o=null,b+""||null}function d(){return KO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Kn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class GO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function m8(e){return new GO(e,!0)}function h8(e){return new GO(e,!1)}const $1={draw(e,t){const n=vs(t/Rp);e.moveTo(n,0),e.arc(0,0,n,0,d0)}},p8={draw(e,t){const n=vs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},YO=vs(1/3),g8=YO*2,x8={draw(e,t){const n=vs(t/g8),r=n*YO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},v8={draw(e,t){const n=vs(t),r=-n/2;e.rect(r,r,n,n)}},y8=.8908130915292852,XO=Fp(Rp/10)/Fp(7*Rp/10),b8=Fp(d0/10)*XO,w8=-UO(d0/10)*XO,k8={draw(e,t){const n=vs(t*y8),r=b8*n,i=w8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=d0*a/5,o=UO(s),l=Fp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},iv=vs(3),S8={draw(e,t){const n=-vs(t/(iv*3));e.moveTo(0,n*2),e.lineTo(-iv*n,-n),e.lineTo(iv*n,-n),e.closePath()}},Da=-.5,Ma=vs(3)/2,sb=1/vs(12),N8=(sb/2+1)*3,C8={draw(e,t){const n=vs(t/N8),r=n/2,i=n*sb,a=r,s=n*sb+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Da*r-Ma*i,Ma*r+Da*i),e.lineTo(Da*a-Ma*s,Ma*a+Da*s),e.lineTo(Da*o-Ma*l,Ma*o+Da*l),e.lineTo(Da*r+Ma*i,Da*i-Ma*r),e.lineTo(Da*a+Ma*s,Da*s-Ma*a),e.lineTo(Da*o+Ma*l,Da*l-Ma*o),e.closePath()}};function j8(e,t){let n=null,r=_1(i);e=typeof e=="function"?e:Kn(e||$1),t=typeof t=="function"?t:Kn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Kn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Kn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Bp(){}function zp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A8(e){return new QO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P8(e){return new ZO(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T8(e){return new JO(e)}function eI(e){this._context=e}eI.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function E8(e){return new eI(e)}function gC(e){return e<0?-1:1}function xC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(gC(a)+gC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function vC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function av(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Up(e){this._context=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:av(this,this._t0,vC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,av(this,vC(this,n=xC(this,e,t)),n);break;default:av(this,this._t0,n=xC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function tI(e){this._context=new nI(e)}(tI.prototype=Object.create(Up.prototype)).point=function(e,t){Up.prototype.point.call(this,t,e)};function nI(e){this._context=e}nI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function D8(e){return new Up(e)}function M8(e){return new tI(e)}function rI(e){this._context=e}rI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=yC(e),i=yC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function O8(e){return new rI(e)}function m0(e,t){this._context=e,this._t=t}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function I8(e){return new m0(e,.5)}function _8(e){return new m0(e,0)}function L8(e){return new m0(e,1)}function mc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ob(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $8(e,t){return e[t]}function F8(e){const t=[];return t.key=e,t}function R8(){var e=Kn([]),t=ob,n=mc,r=$8;function i(a){var s=Array.from(e.apply(this,arguments),F8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=L1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Kn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Kn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ob:typeof a=="function"?a:Kn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??mc,i):n},i}function B8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}mc(e,t)}}function z8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}mc(e,t)}}function U8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,x=g[r-1][1]||0;m+=y-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mc(e,t)}}var h0={},iI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(iI);var F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(F1);var p0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(p0);var g0={},aI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(aI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aI,n=p0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(g0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI,n=F1,r=p0,i=g0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(h0);var V8=h0.get;const hc=xs(V8);var W8=4;function Go(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Go(o)+a:i+a},"")}var Ei=e=>e===0?0:e>0?1:-1,_s=e=>typeof e=="number"&&e!=+e,uo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,At=e=>(typeof e=="number"||e instanceof Number)&&!_s(e),Ls=e=>At(e)||typeof e=="string",H8=0,Pf=e=>{var t=++H8;return"".concat(e||"").concat(t)},ba=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&typeof t!="string")return r;var a;if(uo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return _s(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},sI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ti(e,t,n){return At(e)&&At(t)?Go(e+n*(t-e)):t}function oI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hc(r,t))===n)}var Kr=e=>e===null||typeof e>"u",im=e=>Kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function q8(e){return e!=null}function am(){}var K8=["type","size","sizeType"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(null,arguments)}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){G8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8(e,t,n){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y8(e){var t=X8(e,"string");return typeof t=="symbol"?t:t+""}function X8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q8(e,t){if(e==null)return{};var n,r,i=Z8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lI={symbolCircle:$1,symbolCross:p8,symbolDiamond:x8,symbolSquare:v8,symbolStar:k8,symbolTriangle:S8,symbolWye:C8},J8=Math.PI/180,eV=e=>{var t="symbol".concat(im(e));return lI[t]||$1},tV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*J8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nV=(e,t)=>{lI["symbol".concat(im(e))]=t},R1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Q8(e,K8),a=wC(wC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=eV(s),m=j8().type(h).size(tV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Vi(a);return At(c)&&At(d)&&At(n)?v.createElement("path",lb({},f,{className:An("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};R1.registerSymbol=nV;var cI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,B1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{O1(i)&&(r[i]=a=>n[i](n,a))}),r},rV=(e,t,n)=>r=>(e(t,n,r),null),z1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];O1(i)&&typeof a=="function"&&(r||(r={}),r[i]=rV(a,t,n))}),r};function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t){var n=iV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vp.apply(null,arguments)}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _a=32,fV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function mV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=_a/2,a=_a/6,s=_a/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:_a,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(_a,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(_a/8,"h").concat(_a,"v").concat(_a*3/4,"h").concat(-_a,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=lV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(R1,{fill:o,cx:i,cy:i,size:_a,sizeType:"diameter",type:l})}function hV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:_a,height:_a},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=An({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",Vp({className:m,style:l,key:"legend-item-".concat(f)},z1(e,d,f)),v.createElement(I1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},v.createElement(mV,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var pV=e=>{var t=Gr(e,fV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(hV,Vp({},t,{payload:n})))},uI={},dI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(dI);var fI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(fI);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(U1);var mI={},x0={},hI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(hI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(x0);var pI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(pI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0,n=pI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(mI);var gI={},xI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(xI);var vI={},V1={},yI={},W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(W1);var H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(H1);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=H1,r=q1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,x,b,w){const S=h(p,g,y,x,b,w);return S!==void 0?!!S:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let S=!1;if(h(w,y,g,d,f,m)&&(S=!0),S){p.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(yI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(V1);var bI={},K1={},wI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(wI);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(v0);var G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",E="[object BigInt64Array]",_="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=_,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=A,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(G1);var kI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(kI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI,n=v0,r=G1,i=H1,a=kI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,o(b,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(bI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=bI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(vI);var SI={},NI={},CI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=v0,r=G1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(CI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CI;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(NI);var jI={},Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Y1);var AI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(AI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=Y1,r=AI,i=g0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(jI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=p0,r=NI,i=h0,a=jI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(SI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=xI,r=vI,i=SI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(gI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI,n=fI,r=U1,i=mI,a=gI;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(uI);var gV=uI.uniqBy;const NC=xs(gV);function PI(e,t,n){return t===!0?NC(e,n):typeof t=="function"?NC(e,t):e}var TI={exports:{}},EI={},DI={exports:{}},MI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=v;function xV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vV=typeof Object.is=="function"?Object.is:xV,yV=Iu.useState,bV=Iu.useEffect,wV=Iu.useLayoutEffect,kV=Iu.useDebugValue;function SV(e,t){var n=t(),r=yV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return wV(function(){i.value=n,i.getSnapshot=t,sv(i)&&a({inst:i})},[e,n,t]),bV(function(){return sv(i)&&a({inst:i}),e(function(){sv(i)&&a({inst:i})})},[e]),kV(n),n}function sv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vV(e,n)}catch{return!0}}function NV(e,t){return t()}var CV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NV:SV;MI.useSyncExternalStore=Iu.useSyncExternalStore!==void 0?Iu.useSyncExternalStore:CV;DI.exports=MI;var jV=DI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=v,AV=jV;function PV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TV=typeof Object.is=="function"?Object.is:PV,EV=AV.useSyncExternalStore,DV=y0.useRef,MV=y0.useEffect,OV=y0.useMemo,IV=y0.useDebugValue;EI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=DV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=OV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,TV(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=EV(e,a[0],a[1]);return MV(function(){s.hasValue=!0,s.value=o},[o]),IV(o),o};TI.exports=EI;var _V=TI.exports,X1=v.createContext(null),LV=e=>e,Yn=()=>{var e=v.useContext(X1);return e?e.store.dispatch:LV},Jh=()=>{},$V=()=>Jh,FV=(e,t)=>e===t;function Ct(e){var t=v.useContext(X1);return _V.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$V,t?t.store.getState:Jh,t?t.store.getState:Jh,t?e:Jh,FV)}function RV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function BV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var CC=e=>Array.isArray(e)?e:[e];function UV(e){const t=Array.isArray(e[0])?e[0]:e;return zV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function VV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var WV=class{constructor(e){this.value=e}deref(){return this.value}},HV=typeof WeakRef<"u"?WeakRef:WV,qV=0,jC=1;function gh(){return{s:qV,v:void 0,o:null,p:null}}function OI(e,t={}){let n=gh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=gh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=gh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===jC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new HV(d):d}return c.s=jC,c.v=d,d}return s.clearCache=()=>{n=gh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function KV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),RV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=OI,argsMemoizeOptions:p=[]}=d,g=CC(h),y=CC(p),x=UV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=VV(x,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var pe=KV(OI),GV=Object.assign((e,t=pe)=>{BV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>GV}),II={},_I={},LI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(LI);var $I={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})($I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI,n=$I,r=g0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(_I);var FI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(FI);var Z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=x0,r=W1,i=q1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(Z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_I,n=FI,r=Z1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(II);var YV=II.sortBy;const b0=xs(YV);var RI=e=>e.legend.settings,XV=e=>e.legend.size,QV=e=>e.legend.payload,ZV=pe([QV,RI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?b0(r,n):r});function JV(){return Ct(ZV)}var xh=1;function BI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>xh||Math.abs(s.left-t.left)>xh||Math.abs(s.top-t.top)>xh||Math.abs(s.width-t.width)>xh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e9=typeof Symbol=="function"&&Symbol.observable||"@@observable",AC=e9,ov=()=>Math.random().toString(36).substring(7).split("").join("."),t9={INIT:`@@redux/INIT${ov()}`,REPLACE:`@@redux/REPLACE${ov()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ov()}`},Wp=t9;function J1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zI(e,t,n){if(typeof e!="function")throw new Error(fi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fi(1));return n(zI)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(fi(3));return i}function f(y){if(typeof y!="function")throw new Error(fi(4));if(l)throw new Error(fi(5));let x=!0;c();const b=o++;return s.set(b,y),function(){if(x){if(l)throw new Error(fi(6));x=!1,c(),s.delete(b),a=null}}}function h(y){if(!J1(y))throw new Error(fi(7));if(typeof y.type>"u")throw new Error(fi(8));if(typeof y.type!="string")throw new Error(fi(17));if(l)throw new Error(fi(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(fi(10));r=y,h({type:Wp.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(fi(11));function b(){const S=x;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[AC](){return this}}}return h({type:Wp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[AC]:p}}function n9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wp.INIT})>"u")throw new Error(fi(12));if(typeof n(void 0,{type:Wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fi(13))})}function UI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{n9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(fi(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Hp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function r9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(fi(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Hp(...o)(i.dispatch),{...i,dispatch:a}}}function VI(e){return J1(e)&&"type"in e&&typeof e.type=="string"}var WI=Symbol.for("immer-nothing"),PC=Symbol.for("immer-draftable"),Wi=Symbol.for("immer-state");function is(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var va=Object,_u=va.getPrototypeOf,qp="constructor",w0="prototype",cb="configurable",Kp="enumerable",ep="writable",Tf="value",fo=e=>!!e&&!!e[Wi];function ms(e){var t;return e?HI(e)||S0(e)||!!e[PC]||!!((t=e[qp])!=null&&t[PC])||N0(e)||C0(e):!1}var i9=va[w0][qp].toString(),TC=new WeakMap;function HI(e){if(!e||!ek(e))return!1;const t=_u(e);if(t===null||t===va[w0])return!0;const n=va.hasOwnProperty.call(t,qp)&&t[qp];if(n===Object)return!0;if(!Yc(n))return!1;let r=TC.get(n);return r===void 0&&(r=Function.toString.call(n),TC.set(n,r)),r===i9}function k0(e,t,n=!0){sm(e)===0?(n?Reflect.ownKeys(e):va.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function sm(e){const t=e[Wi];return t?t.type_:S0(e)?1:N0(e)?2:C0(e)?3:0}var EC=(e,t,n=sm(e))=>n===2?e.has(t):va[w0].hasOwnProperty.call(e,t),ub=(e,t,n=sm(e))=>n===2?e.get(t):e[t],Gp=(e,t,n,r=sm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function a9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var S0=Array.isArray,N0=e=>e instanceof Map,C0=e=>e instanceof Set,ek=e=>typeof e=="object",Yc=e=>typeof e=="function",lv=e=>typeof e=="boolean";function s9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var qs=e=>e.copy_||e.base_,tk=e=>e.modified_?e.copy_:e.base_;function db(e,t){if(N0(e))return new Map(e);if(C0(e))return new Set(e);if(S0(e))return Array[w0].slice.call(e);const n=HI(e);if(t===!0||t==="class_only"&&!n){const r=va.getOwnPropertyDescriptors(e);delete r[Wi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[ep]===!1&&(o[ep]=!0,o[cb]=!0),(o.get||o.set)&&(r[s]={[cb]:!0,[ep]:!0,[Kp]:o[Kp],[Tf]:e[s]})}return va.create(_u(e),r)}else{const r=_u(e);if(r!==null&&n)return{...e};const i=va.create(r);return va.assign(i,e)}}function nk(e,t=!1){return j0(e)||fo(e)||!ms(e)||(sm(e)>1&&va.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),va.freeze(e),t&&k0(e,(n,r)=>{nk(r,!0)},!1)),e}function o9(){is(2)}var vh={[Tf]:o9};function j0(e){return e===null||!ek(e)?!0:va.isFrozen(e)}var Yp="MapSet",fb="Patches",DC="ArrayMethods",qI={};function pc(e){const t=qI[e];return t||is(0,e),t}var MC=e=>!!qI[e],Ef,KI=()=>Ef,l9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MC(Yp)?pc(Yp):void 0,arrayMethodsPlugin_:MC(DC)?pc(DC):void 0});function OC(e,t){t&&(e.patchPlugin_=pc(fb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mb(e){hb(e),e.drafts_.forEach(c9),e.drafts_=null}function hb(e){e===Ef&&(Ef=e.parent_)}var IC=e=>Ef=l9(Ef,e);function c9(e){const t=e[Wi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _C(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Wi].modified_&&(mb(t),is(4)),ms(e)&&(e=LC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Wi].base_,e,t)}else e=LC(t,n);return u9(t,e,!0),mb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WI?e:void 0}function LC(e,t){if(j0(t))return t;const n=t[Wi];if(!n)return Xp(t,e.handledSet_,e);if(!A0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);XI(n,e)}return n.copy_}function u9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nk(t,n)}function GI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var A0=(e,t)=>e.scope_===t,d9=[];function YI(e,t,n,r){const i=qs(e),a=e.type_;if(r!==void 0&&ub(i,r,a)===t){Gp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;k0(i,(l,c)=>{if(fo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??d9;for(const o of s)Gp(i,o,n,a)}function f9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!A0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=tk(a);YI(e,a.draft_??a,s,n),XI(a,i)})}function XI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}GI(e)}}function m9(e,t,n){const{scope_:r}=e;if(fo(n)){const i=n[Wi];A0(i,r)&&i.callbacks_.push(function(){tp(e);const s=tk(i);YI(e,n,s,t)})}else ms(n)&&e.callbacks_.push(function(){const a=qs(e);e.type_===3?a.has(n)&&Xp(n,r.handledSet_,r):ub(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Xp(ub(e.copy_,t,e.type_),r.handledSet_,r)})}function Xp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||fo(e)||t.has(e)||!ms(e)||j0(e)||(t.add(e),k0(e,(r,i)=>{if(fo(i)){const a=i[Wi];if(A0(a,n)){const s=tk(a);Gp(e,r,s,e.type_),GI(a)}}else ms(i)&&Xp(i,t,n)})),e}function h9(e,t){const n=S0(e),r={type_:n?1:0,scope_:t?t.scope_:KI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Qp;n&&(i=[r],a=Df);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Qp={get(e,t){if(t===Wi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=qs(e);if(!EC(i,t,e.type_))return p9(e,i,t);const a=i[t];if(e.finalized_||!ms(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&s9(t))return a;if(a===cv(e.base_,t)){tp(e);const s=e.type_===1?+t:t,o=gb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in qs(e)},ownKeys(e){return Reflect.ownKeys(qs(e))},set(e,t,n){const r=QI(qs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cv(qs(e),t),a=i==null?void 0:i[Wi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(a9(n,i)&&(n!==void 0||EC(e.base_,t,e.type_)))return!0;tp(e),pb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),m9(e,t,n)),!0},deleteProperty(e,t){return tp(e),cv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ep]:!0,[cb]:e.type_!==1||t!=="length",[Kp]:r[Kp],[Tf]:n[t]}},defineProperty(){is(11)},getPrototypeOf(e){return _u(e.base_)},setPrototypeOf(){is(12)}},Df={};for(let e in Qp){let t=Qp[e];Df[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Df.deleteProperty=function(e,t){return Df.set.call(this,e,t,void 0)};Df.set=function(e,t,n){return Qp.set.call(this,e[0],t,n,e[0])};function cv(e,t){const n=e[Wi];return(n?qs(n):e)[t]}function p9(e,t,n){var i;const r=QI(t,n);return r?Tf in r?r[Tf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function QI(e,t){if(!(t in e))return;let n=_u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_u(n)}}function pb(e){e.modified_||(e.modified_=!0,e.parent_&&pb(e.parent_))}function tp(e){e.copy_||(e.assigned_=new Map,e.copy_=db(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var g9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Yc(n)&&!Yc(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}Yc(r)||is(6),i!==void 0&&!Yc(i)&&is(7);let a;if(ms(n)){const s=IC(this),o=gb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?mb(s):hb(s)}return OC(s,i),_C(a,s)}else if(!n||!ek(n)){if(a=r(n),a===void 0&&(a=n),a===WI&&(a=void 0),this.autoFreeze_&&nk(a,!0),i){const s=[],o=[];pc(fb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else is(1,n)},this.produceWithPatches=(n,r)=>{if(Yc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},lv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),lv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),lv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ms(t)||is(8),fo(t)&&(t=cs(t));const n=IC(this),r=gb(n,t,void 0);return r[Wi].isManual_=!0,hb(n),r}finishDraft(t,n){const r=t&&t[Wi];(!r||!r.isManual_)&&is(9);const{scope_:i}=r;return OC(i,n),_C(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=pc(fb).applyPatches_;return fo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function gb(e,t,n,r){const[i,a]=N0(t)?pc(Yp).proxyMap_(t,n):C0(t)?pc(Yp).proxySet_(t,n):h9(t,n);return((n==null?void 0:n.scope_)??KI()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?f9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function cs(e){return fo(e)||is(10,e),ZI(e)}function ZI(e){if(!ms(e)||j0(e))return e;const t=e[Wi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=db(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=db(e,!0);return k0(n,(i,a)=>{Gp(n,i,ZI(a))},r),t&&(t.finalized_=!1),n}var x9=new g9,JI=x9.produce;function e5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var v9=e5(),y9=e5,b9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hp:Hp.apply(null,arguments)};function qa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(wa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>VI(r)&&r.type===e,n}var t5=class Rd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Rd.prototype)}static get[Symbol.species](){return Rd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Rd(...t[0].concat(this)):new Rd(...t.concat(this))}};function $C(e){return ms(e)?JI(e,()=>{}):e}function yh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function w9(e){return typeof e=="boolean"}var k9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new t5;return n&&(w9(n)?s.push(v9):s.push(y9(n.extraArgument))),s},n5="RTK_autoBatch",or=()=>e=>({payload:e,meta:{[n5]:!0}}),FC=e=>t=>{setTimeout(t,e)},r5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FC(10):e.type==="callback"?e.queueNotification:FC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[n5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},S9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new t5(e);return r&&i.push(r5(typeof r=="object"?r:void 0)),i};function N9(e){const t=k9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(J1(n))o=UI(n);else throw new Error(wa(1));let l;typeof r=="function"?l=r(t):l=t();let c=Hp;i&&(c=b9({trace:!1,...typeof i=="object"&&i}));const d=r9(...l),f=S9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return zI(o,a,m)}function i5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(wa(28));if(o in t)throw new Error(wa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function C9(e){return typeof e=="function"}function j9(e,t){let[n,r,i]=i5(t),a;if(C9(e))a=()=>$C(e());else{const o=$C(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(fo(d)){const m=f(d,l);return m===void 0?d:m}else{if(ms(d))return JI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var A9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P9=(e=21)=>{let t="",n=e;for(;n--;)t+=A9[Math.random()*64|0];return t},T9=Symbol.for("rtk-slice-createasyncthunk");function E9(e,t){return`${e}/${t}`}function D9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[T9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(wa(11));const o=(typeof i.reducers=="function"?i.reducers(O9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(wa(12));if(N in c.sliceCaseReducersByType)throw new Error(wa(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return c.actionCreators[S]=C,d},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,d}};l.forEach(S=>{const C=o[S],N={reducerName:S,type:E9(a,S),createNotation:typeof i.reducers=="function"};_9(C)?$9(N,C,d,t):I9(N,C,d)});function f(){const[S={},C=[],N=void 0]=typeof i.extraReducers=="function"?i5(i.extraReducers):[i.extraReducers],A={...S,...c.sliceCaseReducersByType};return j9(i.initialState,E=>{for(let _ in A)E.addCase(_,A[_]);for(let _ of c.sliceMatchers)E.addMatcher(_.matcher,_.reducer);for(let _ of C)E.addMatcher(_.matcher,_.reducer);N&&E.addDefaultCase(N)})}const h=S=>S,m=new Map,p=new WeakMap;let g;function y(S,C){return g||(g=f()),g(S,C)}function x(){return g||(g=f()),g.getInitialState()}function b(S,C=!1){function N(E){let _=E[S];return typeof _>"u"&&C&&(_=yh(p,N,x)),_}function A(E=h){const _=yh(m,C,()=>new WeakMap);return yh(_,E,()=>{const T={};for(const[M,O]of Object.entries(i.selectors??{}))T[M]=M9(O,E,()=>yh(p,E,x),C);return T})}return{reducerPath:S,getSelectors:A,get selectors(){return A(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(S,{reducerPath:C,...N}={}){const A=C??s;return S.inject({reducerPath:A,reducer:y},N),{...w,...b(A,!0)}}};return w}}function M9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var oa=D9();function O9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function I9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!L9(r))throw new Error(wa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?qa(e,s):qa(e))}function _9(e){return e._reducerDefinitionType==="asyncThunk"}function L9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(wa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||bh,pending:o||bh,rejected:l||bh,settled:c||bh})}function bh(){}var F9="task",a5="listener",s5="completed",rk="cancelled",R9=`task-${rk}`,B9=`task-${s5}`,xb=`${a5}-${rk}`,z9=`${a5}-${s5}`,P0=class{constructor(e){Ex(this,"name","TaskAbortError");Ex(this,"message");this.code=e,this.message=`${F9} ${rk} (reason: ${e})`}},ik=(e,t)=>{if(typeof e!="function")throw new TypeError(wa(32))},Zp=()=>{},o5=(e,t=Zp)=>(e.catch(t),e),l5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ic=e=>{if(e.aborted)throw new P0(e.reason)};function c5(e,t){let n=Zp;return new Promise((r,i)=>{const a=()=>i(new P0(e.reason));if(e.aborted){a();return}n=l5(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Zp})}var U9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof P0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Jp=e=>t=>o5(c5(e,t).then(n=>(ic(e),n))),u5=e=>{const t=Jp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:wu}=Object,RC={},T0="listenerMiddleware",V9=(e,t)=>{const n=r=>l5(e,()=>r.abort(e.reason));return(r,i)=>{ik(r);const a=new AbortController;n(a);const s=U9(async()=>{ic(e),ic(a.signal);const o=await r({pause:Jp(a.signal),delay:u5(a.signal),signal:a.signal});return ic(a.signal),o},()=>a.abort(B9));return i!=null&&i.autoJoin&&t.push(s.catch(Zp)),{result:Jp(e)(s),cancel(){a.abort(R9)}}}},W9=(e,t)=>{const n=async(r,i)=>{ic(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await c5(t,Promise.race(o));return ic(t),l}finally{a()}};return(r,i)=>o5(n(r,i))},d5=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=qa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wa(21));return ik(a),{predicate:i,type:t,effect:a}},f5=wu(e=>{const{type:t,predicate:n,effect:r}=d5(e);return{id:P9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wa(22))}}},{withTypes:()=>f5}),BC=(e,t)=>{const{type:n,effect:r,predicate:i}=d5(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},vb=e=>{e.pending.forEach(t=>{t.abort(xb)})},H9=(e,t)=>()=>{for(const n of t.keys())vb(n);e.clear()},zC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},m5=wu(qa(`${T0}/add`),{withTypes:()=>m5}),q9=qa(`${T0}/removeAll`),h5=wu(qa(`${T0}/remove`),{withTypes:()=>h5}),K9=(...e)=>{console.error(`${T0}/error`,...e)},om=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=K9}=e;ik(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&vb(m)}),l=m=>{const p=BC(t,m)??f5(m);return o(p)};wu(l,{withTypes:()=>l});const c=m=>{const p=BC(t,m);return p&&(p.unsubscribe(),m.cancelActive&&vb(p)),!!p};wu(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const x=new AbortController,b=W9(l,x.signal),w=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,wu({},g,{getOriginalState:y,condition:(S,C)=>b(S,C).then(Boolean),take:b,delay:u5(x.signal),pause:Jp(x.signal),extra:a,signal:x.signal,fork:V9(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,N)=>{S!==x&&(S.abort(xb),N.delete(S))})},cancel:()=>{x.abort(xb),m.pending.delete(x)},throwIfCancelled:()=>{ic(x.signal)}})))}catch(S){S instanceof P0||zC(s,S,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(z9),i(m),m.pending.delete(x)}},f=H9(t,n);return{middleware:m=>p=>g=>{if(!VI(g))return p(g);if(m5.match(g))return l(g.payload);if(q9.match(g)){f();return}if(h5.match(g))return c(g.payload);let y=m.getState();const x=()=>{if(y===RC)throw new Error(wa(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const C of S){let N=!1;try{N=C.predicate(g,w,y)}catch(A){N=!1,zC(s,A,{raisedBy:"predicate"})}N&&d(C,g,m,x)}}}finally{y=RC}return b},startListening:l,stopListening:c,clearListeners:f}};function wa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},p5=oa({name:"chartLayout",initialState:G9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Y9,setLayout:X9,setChartSize:Q9,setScale:Z9}=p5.actions,J9=p5.reducer;function g5(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ur(e){return Number.isFinite(e)}function $s(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){eW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eW(e,t,n){return(t=tW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ir(e,t,n){return Kr(e)||Kr(t)?n:Ls(t)?hc(e,t,n):typeof t=="function"?t(e):n}var rW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&At(e[a]))return cu(cu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&At(e[s]))return cu(cu({},e),{},{[s]:e[s]+(i||0)})}return e},pl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",x5=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},v5=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?Ei(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,b)=>{var w=r?r.indexOf(x):x;return{coordinate:s(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!_s(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:s(x)+g,value:x,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+g,value:x,offset:g,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+g,value:r?r[x]:x,index:b,offset:g}))},VC=1e-4,iW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-VC,a=Math.max(r[0],r[1])+VC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},aW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=_s(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},sW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=_s(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},oW={sign:aW,expand:B8,none:mc,silhouette:z8,wiggle:U8,positive:sW},lW=(e,t,n)=>{var r,i=(r=oW[n])!==null&&r!==void 0?r:mc,a=R8().keys(t).value((o,l)=>Number(ir(o,l,0))).order(ob).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=ir(e[d],t[l],0);Array.isArray(f)&&f.length===2&&At(f[0])&&At(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function WC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kr(i[t.dataKey])){var o=oI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ir(i,Kr(s)?t.dataKey:s);return Kr(l)?null:t.scale(l)}var cW=e=>{var t=e.flat(2).filter(At);return[Math.min(...t),Math.max(...t)]},uW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dW=(e,t,n)=>{if(e!=null)return uW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=g5(c,t,n),f=cW(d);return!Ur(f[0])||!Ur(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},HC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=b0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function KC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return cu(cu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function E0(e,t){if(e)return String(e);if(typeof t=="string")return t}var fW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mW=(e,t)=>t==="centric"?e.angle:e.radius,yo=e=>e.layout.width,bo=e=>e.layout.height,hW=e=>e.layout.scale,y5=e=>e.layout.margin,D0=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),M0=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),b5="data-recharts-item-index",w5="data-recharts-item-id",lm=60;function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){pW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vW=e=>e.brush.height;function yW(e){var t=M0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:lm;return n+i}return n},0)}function bW(e){var t=M0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:lm;return n+i}return n},0)}function wW(e){var t=D0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kW(e){var t=D0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ii=pe([yo,bo,y5,vW,yW,bW,wW,kW,RI,XV],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=wh(wh({},f),d),m=h.bottom;h.bottom+=r,h=rW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return wh(wh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),SW=pe(ii,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),k5=pe(yo,bo,(e,t)=>({x:0,y:0,width:e,height:t})),NW=v.createContext(null),la=()=>v.useContext(NW)!=null,O0=e=>e.brush,I0=pe([O0,ii,y5],(e,t,n)=>({height:e.height,x:At(e.x)?e.x:t.left,y:At(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:At(e.width)?e.width:t.width})),S5={},N5={},C5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return x.schedule=m,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(C5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C5;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(N5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(S5);var CW=S5.throttle;const jW=xs(CW);var tg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},j5=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=uo(r)?e:Number(r),l=uo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},AW={width:0,height:0,overflow:"visible"},PW={width:0,overflowX:"visible"},TW={height:0,overflowY:"visible"},EW={},DW=e=>{var{width:t,height:n}=e,r=uo(t),i=uo(n);return r&&i?AW:r?PW:i?TW:EW};function MW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(null,arguments)}function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(r){OW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A5=v.createContext({width:-1,height:-1});function LW(e){return $s(e.width)&&$s(e.height)}function P5(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return LW(i)?v.createElement(A5.Provider,{value:i},t):null}var ak=()=>v.useContext(A5),$W=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),y=v.useRef();y.current=m,v.useImperativeHandle(t,()=>g.current);var[x,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((E,_)=>{b(T=>{var M=Math.round(E),O=Math.round(_);return T.containerWidth===M&&T.containerHeight===O?T:{containerWidth:M,containerHeight:O}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return am;var E=O=>{var Y,{width:Q,height:ie}=O[0].contentRect;w(Q,ie),(Y=y.current)===null||Y===void 0||Y.call(y,Q,ie)};d>0&&(E=jW(E,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(E),{width:T,height:M}=g.current.getBoundingClientRect();return w(T,M),_.observe(g.current),()=>{_.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=x;tg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:A}=j5(S,C,{width:i,height:a,aspect:n,maxHeight:l});return tg(N!=null&&N>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,A,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:An("recharts-responsive-container",h),style:XC(XC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:DW({width:i,height:a})},v.createElement(P5,{width:N,height:A},c)))}),gc=v.forwardRef((e,t)=>{var n=ak();if($s(n.width)&&$s(n.height))return e.children;var{width:r,height:i}=MW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=j5(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return At(a)&&At(s)?v.createElement(P5,{width:a,height:s},e.children):v.createElement($W,yb({},e,{width:r,height:i,ref:t}))});function T5(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var _0=()=>{var e,t=la(),n=Ct(SW),r=Ct(I0),i=(e=Ct(O0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},FW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},E5=()=>{var e;return(e=Ct(ii))!==null&&e!==void 0?e:FW},sk=()=>Ct(yo),ok=()=>Ct(bo),RW=()=>Ct(e=>e.layout.margin),Bn=e=>e.layout.layoutType,cm=()=>Ct(Bn),BW=()=>{var e=cm();return e!==void 0},L0=e=>{var t=Yn(),n=la(),{width:r,height:i}=e,a=ak(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&$s(s)&&$s(o)&&t(Q9({width:s,height:o}))},[t,n,s,o]),null},D5=Symbol.for("immer-nothing"),QC=Symbol.for("immer-draftable"),Na=Symbol.for("immer-state");function as(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mf=Object.getPrototypeOf;function Lu(e){return!!e&&!!e[Na]}function xc(e){var t;return e?M5(e)||Array.isArray(e)||!!e[QC]||!!((t=e.constructor)!=null&&t[QC])||um(e)||F0(e):!1}var zW=Object.prototype.constructor.toString(),ZC=new WeakMap;function M5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=ZC.get(n);return r===void 0&&(r=Function.toString.call(n),ZC.set(n,r)),r===zW}function ng(e,t,n=!0){$0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function $0(e){const t=e[Na];return t?t.type_:Array.isArray(e)?1:um(e)?2:F0(e)?3:0}function bb(e,t){return $0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O5(e,t,n){const r=$0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function UW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function um(e){return e instanceof Map}function F0(e){return e instanceof Set}function Bl(e){return e.copy_||e.base_}function wb(e,t){if(um(e))return new Map(e);if(F0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=M5(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Na];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Mf(e),r)}else{const r=Mf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function lk(e,t=!1){return R0(e)||Lu(e)||!xc(e)||($0(e)>1&&Object.defineProperties(e,{set:kh,add:kh,clear:kh,delete:kh}),Object.freeze(e),t&&Object.values(e).forEach(n=>lk(n,!0))),e}function VW(){as(2)}var kh={value:VW};function R0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WW={};function vc(e){const t=WW[e];return t||as(0,e),t}var Of;function I5(){return Of}function HW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function JC(e,t){t&&(vc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kb(e){Sb(e),e.drafts_.forEach(qW),e.drafts_=null}function Sb(e){e===Of&&(Of=e.parent_)}function ej(e){return Of=HW(Of,e)}function qW(e){const t=e[Na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Na].modified_&&(kb(t),as(4)),xc(e)&&(e=rg(t,e),t.parent_||ig(t,e)),t.patches_&&vc("Patches").generateReplacementPatches_(n[Na].base_,e,t.patches_,t.inversePatches_)):e=rg(t,n,[]),kb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D5?e:void 0}function rg(e,t,n){if(R0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Na];if(!i)return ng(t,(a,s)=>nj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ig(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),ng(s,(l,c)=>nj(e,i,a,l,c,n,o),r),ig(e,a,!1),n&&e.patches_&&vc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function nj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=R0(i);if(!(o&&!s)){if(Lu(i)){const l=a&&t&&t.type_!==3&&!bb(t.assigned_,r)?a.concat(r):void 0,c=rg(e,i,l);if(O5(n,r,c),Lu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(xc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;rg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(um(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ig(e,i)}}}function ig(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lk(t,n)}function KW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:I5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ck;n&&(i=[r],a=If);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var ck={get(e,t){if(t===Na)return e;const n=Bl(e);if(!bb(n,t))return GW(e,n,t);const r=n[t];return e.finalized_||!xc(r)?r:r===uv(e.base_,t)?(dv(e),e.copy_[t]=Cb(r,e)):r},has(e,t){return t in Bl(e)},ownKeys(e){return Reflect.ownKeys(Bl(e))},set(e,t,n){const r=_5(Bl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=uv(Bl(e),t),a=i==null?void 0:i[Na];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(UW(n,i)&&(n!==void 0||bb(e.base_,t)))return!0;dv(e),Nb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return uv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dv(e),Nb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){as(11)},getPrototypeOf(e){return Mf(e.base_)},setPrototypeOf(){as(12)}},If={};ng(ck,(e,t)=>{If[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});If.deleteProperty=function(e,t){return If.set.call(this,e,t,void 0)};If.set=function(e,t,n){return ck.set.call(this,e[0],t,n,e[0])};function uv(e,t){const n=e[Na];return(n?Bl(n):e)[t]}function GW(e,t,n){var i;const r=_5(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function _5(e,t){if(!(t in e))return;let n=Mf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Mf(n)}}function Nb(e){e.modified_||(e.modified_=!0,e.parent_&&Nb(e.parent_))}function dv(e){e.copy_||(e.copy_=wb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&as(6),r!==void 0&&typeof r!="function"&&as(7);let i;if(xc(t)){const a=ej(this),s=Cb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?kb(a):Sb(a)}return JC(a,r),tj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===D5&&(i=void 0),this.autoFreeze_&&lk(i,!0),r){const a=[],s=[];vc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else as(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xc(e)||as(8),Lu(e)&&(e=XW(e));const t=ej(this),n=Cb(e,void 0);return n[Na].isManual_=!0,Sb(t),n}finishDraft(e,t){const n=e&&e[Na];(!n||!n.isManual_)&&as(9);const{scope_:r}=n;return JC(r,t),tj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=vc("Patches").applyPatches_;return Lu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Cb(e,t){const n=um(e)?vc("MapSet").proxyMap_(e,t):F0(e)?vc("MapSet").proxySet_(e,t):KW(e,t);return(t?t.scope_:I5()).drafts_.push(n),n}function XW(e){return Lu(e)||as(10,e),L5(e)}function L5(e){if(!xc(e)||R0(e))return e;const t=e[Na];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wb(e,!0);return ng(n,(i,a)=>{O5(n,i,L5(a))},r),t&&(t.finalized_=!1),n}var QW=new YW;QW.produce;var ZW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$5=oa({name:"legend",initialState:ZW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:or()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=cs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:or()},removeLegendPayload:{reducer(e,t){var n=cs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:or()}}}),{setLegendSize:rj,setLegendSettings:JW,addLegendPayload:F5,replaceLegendPayload:R5,removeLegendPayload:B5}=$5.actions,eH=$5.reducer,tH=["contextPayload"];function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(null,arguments)}function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(r){nH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nH(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){if(e==null)return{};var n,r,i=sH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oH(e){return e.value}function lH(e){var{contextPayload:t}=e,n=aH(e,tH),r=PI(t,e.payloadUniqBy,oH),i=$u($u({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(pV,i)}function cH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),$u($u({},c),d)}function uH(e){var t=Yn();return v.useEffect(()=>{t(JW(e))},[t,e]),null}function dH(e){var t=Yn();return v.useEffect(()=>(t(rj(e)),()=>{t(rj({width:0,height:0}))}),[t,e]),null}function fH(e,t,n,r){return e==="vertical"&&At(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var mH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function z5(e){var t=Gr(e,mH),n=JV(),r=c8(),i=RW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=BI([n]),f=sk(),h=ok();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=fH(t.layout,s,a,m),g=l?o:$u($u({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},cH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(uH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(dH,{width:c.width,height:c.height}),v.createElement(lH,jb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Yu.createPortal(x,y)}z5.displayName="Legend";function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e){return Array.isArray(e)&&Ls(e[0])&&Ls(e[1])?e.join(" ~ "):e}var vH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?b0(a,o):a).map((A,E)=>{if(A.type==="none")return null;var _=A.formatter||s||xH,{value:T,name:M}=A,O=T,Y=M;if(_){var Q=_(T,M,A,E,a);if(Array.isArray(Q))[O,Y]=Q;else if(Q!=null)O=Q;else return null}var ie=fv({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ie},Ls(Y)?v.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Ls(Y)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=fv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=fv({margin:0},i),y=!Kr(d),x=y?d:"",b=An("recharts-default-tooltip",l),w=An("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Ab({className:b,style:p},S),v.createElement("p",{className:w,style:g},v.isValidElement(x)?x:"".concat(x)),m())},wd="recharts-tooltip-wrapper",yH={visibility:"hidden"};function bH(e){var{coordinate:t,translateX:n,translateY:r}=e;return An(wd,{["".concat(wd,"-right")]:At(n)&&t&&At(t.x)&&n>=t.x,["".concat(wd,"-left")]:At(n)&&t&&At(t.x)&&n<t.x,["".concat(wd,"-bottom")]:At(r)&&t&&At(t.y)&&r>=t.y,["".concat(wd,"-top")]:At(r)&&t&&At(t.y)&&r<t.y})}function sj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&At(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function wH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=sj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=sj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=wH({translateX:d,translateY:f,useTranslate3d:o})):c=yH,{cssProperties:c,cssClasses:bH({translateX:d,translateY:f,coordinate:n})}}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){Pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n){return(t=SH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CH extends v.PureComponent{constructor(){super(...arguments),Pb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=kH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),S=x?{}:Sh(Sh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Sh(Sh({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var U5=()=>{var e;return(e=Ct(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=PH(e,"string");return typeof t=="symbol"?t:t+""}function PH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uj={curveBasisClosed:P8,curveBasisOpen:T8,curveBasis:A8,curveBumpX:m8,curveBumpY:h8,curveLinearClosed:E8,curveLinear:f0,curveMonotoneX:D8,curveMonotoneY:M8,curveNatural:O8,curveStep:I8,curveStepAfter:L8,curveStepBefore:_8},ag=e=>Ur(e.x)&&Ur(e.y),dj=e=>e.base!=null&&ag(e.base)&&ag(e),kd=e=>e.x,Sd=e=>e.y,TH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(im(e));return(n==="curveMonotone"||n==="curveBump")&&t?uj["".concat(n).concat(t==="vertical"?"Y":"X")]:uj[n]||f0},EH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=TH(t,i),o=a?n.filter(ag):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>cj(cj({},m),{},{base:r[p]}));i==="vertical"?l=ph().y(Sd).x1(kd).x0(m=>m.base.x):l=ph().x(kd).y1(Sd).y0(m=>m.base.y);var d=l.defined(dj).curve(s),f=a?c.filter(dj):c;return d(f)}i==="vertical"&&At(r)?l=ph().y(Sd).x1(kd).x0(r):At(r)?l=ph().x(kd).y1(Sd).y0(r):l=KO().x(kd).y(Sd);var h=l.defined(ag).curve(s);return h(o)},uk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=cm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?EH(s):r;return v.createElement("path",Tb({},Ha(e),B1(e),{className:An("recharts-curve",t),d:o===null?void 0:o,ref:i}))},DH=["x","y","top","left","width","height","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var n,r,i=$H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),RH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=LH(e,DH),c=MH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!At(t)||!At(n)||!At(a)||!At(s)||!At(r)||!At(i)?null:v.createElement("path",Eb({},Vi(c),{className:An("recharts-cross",o),d:FH(t,n,a,s,r,i)}))};function BH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){zH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zH(e,t,n){return(t=UH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V5=(e,t,n)=>e.map(r=>"".concat(WH(r)," ").concat(t,"ms ").concat(n)).join(","),HH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),_f=(e,t)=>Object.keys(t).reduce((n,r)=>hj(hj({},n),{},{[r]:e(r,t[r])}),{});function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sg=(e,t,n)=>e+(t-e)*n,Db=e=>{var{from:t,to:n}=e;return t!==n},W5=(e,t,n)=>{var r=_f((i,a)=>{if(Db(a)){var[s,o]=e(a.from,a.to,a.velocity);return Hr(Hr({},a),{},{from:s,velocity:o})}return a},t);return n<1?_f((i,a)=>Db(a)&&r[i]!=null?Hr(Hr({},a),{},{velocity:sg(a.velocity,r[i].velocity,n),from:sg(a.from,r[i].from,n)}):a,t):W5(e,r,n-1)};function YH(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Hr(Hr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>_f((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Db).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=W5(n,o,p),i(Hr(Hr(Hr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function XH(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Hr(Hr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=_f((g,y)=>sg(...y,n(h)),l);if(a(Hr(Hr(Hr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=_f((g,y)=>sg(...y,n(1)),l);a(Hr(Hr(Hr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const QH=(e,t,n,r,i,a)=>{var s=HH(e,t);return n==null?()=>(i(Hr(Hr({},e),t)),()=>{}):n.isStepper===!0?YH(e,t,n,s,i,a):XH(e,t,n,r,s,i,a)};var og=1e-4,H5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],q5=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),gj=(e,t)=>n=>{var r=H5(e,t);return q5(r,n)},ZH=(e,t)=>n=>{var r=H5(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return q5(i,n)},JH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},e7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=JH(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},t7=(e,t,n,r)=>{var i=gj(e,n),a=gj(t,r),s=ZH(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<og||p<og)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},xj=function(){return t7(...e7(...arguments))},n7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<og&&Math.abs(f)<og?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},r7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xj(e);case"spring":return n7();default:if(e.split("(")[0]==="cubic-bezier")return xj(e)}return typeof e=="function"?e:null};function i7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class a7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function s7(){return i7(new a7)}var o7=v.createContext(s7);function l7(e,t){var n=v.useContext(o7);return v.useMemo(()=>t??n(e),[e,t,n])}var c7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),B0={isSsr:c7()},u7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vj={t:0},mv={t:1};function z0(e){var t=Gr(e,u7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!B0.isSsr:n,f=l7(t.animationId,t.animationManager),[h,m]=v.useState(d?vj:mv),p=v.useRef(null);return v.useEffect(()=>{d||m(mv)},[d]),v.useEffect(()=>{if(!d||!r)return am;var g=QH(vj,mv,r7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function U0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Pf(t)),r=v.useRef(e);return r.current!==e&&(n.current=Pf(t),r.current=e),n.current}var d7=["radius"],f7=["radius"],yj,bj,wj,kj,Sj,Nj,Cj,jj,Aj,Pj;function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ej(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return(t=h7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lg.apply(null,arguments)}function Dj(e,t){if(e==null)return{};var n,r,i=g7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ss(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Mj=(e,t,n,r,i)=>{var a=Go(n),s=Go(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Sr(yj||(yj=Ss(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Sr(bj||(bj=Ss(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Sr(wj||(wj=Ss(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Sr(kj||(kj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Sr(Sj||(Sj=Ss(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Sr(Nj||(Nj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Sr(Cj||(Cj=Ss(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Sr(jj||(jj=Ss(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Sr(Aj||(Aj=Ss(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=Sr(Pj||(Pj=Ss(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Oj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K5=e=>{var t=Gr(e,Oj),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=v.useRef(o),x=v.useRef(l),b=v.useRef(a),w=v.useRef(s),S=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=U0(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=An("recharts-rectangle",d);if(!g){var A=Vi(t),{radius:E}=A,_=Dj(A,d7);return v.createElement("path",lg({},_,{x:Go(a),y:Go(s),width:Go(o),height:Go(l),radius:typeof c=="number"?c:void 0,className:N,d:Mj(a,s,o,l,c)}))}var T=y.current,M=x.current,O=b.current,Y=w.current,Q="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),ce=V5(["strokeDasharray"],h,typeof f=="string"?f:Oj.animationEasing);return v.createElement(z0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},K=>{var G=Ti(T,o,K),L=Ti(M,l,K),P=Ti(O,a,K),j=Ti(Y,s,K);n.current&&(y.current=G,x.current=L,b.current=P,w.current=j);var W;p?K>0?W={transition:ce,strokeDasharray:ie}:W={strokeDasharray:Q}:W={strokeDasharray:ie};var k=Vi(t),{radius:I}=k,ae=Dj(k,f7);return v.createElement("path",lg({},ae,{radius:typeof c=="number"?c:void 0,className:N,d:Mj(P,j,G,L,c),ref:n,style:Ej(Ej({},W),t.style)}))})};function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg=Math.PI/180,b7=e=>e*180/Math.PI,Br=(e,t,n,r)=>({x:e+Math.cos(-cg*r)*n,y:t+Math.sin(-cg*r)*n}),G5=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},w7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},k7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=w7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:b7(l),angleInRadian:l}},S7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},N7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},C7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=k7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=S7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?_j(_j({},t),{},{radius:i,angle:N7(d,t)}):null};function Y5(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Br(t,n,r,i),o=Br(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Lj,$j,Fj,Rj,Bj,zj,Uj;function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}function Yl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j7=(e,t)=>{var n=Ei(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/cg,f=l?i:i+a*d,h=Br(t,n,c,f),m=Br(t,n,r,f),p=l?i-a*d:i,g=Br(t,n,c*Math.cos(d*cg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},X5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=j7(a,s),l=a+o,c=Br(t,n,i,a),d=Br(t,n,i,l),f=Sr(Lj||(Lj=Yl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Br(t,n,r,a),m=Br(t,n,r,l);f+=Sr($j||($j=Yl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Sr(Fj||(Fj=Yl(["L ",","," Z"])),t,n);return f},A7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Ei(c-l),{circleTangency:f,lineTangency:h,theta:m}=Nh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Nh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(x<0)return s?Sr(Rj||(Rj=Yl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):X5({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=Sr(Bj||(Bj=Yl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=Nh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:A,theta:E}=Nh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-C-E;if(_<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Sr(zj||(zj=Yl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(d<0),N.x,N.y,r,r,+(_>180),+(d>0),w.x,w.y,a,a,+(d<0),S.x,S.y)}else b+=Sr(Uj||(Uj=Yl(["L",",","Z"])),t,n);return b},P7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q5=e=>{var t=Gr(e,P7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=An("recharts-sector",f),m=a-i,p=ba(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=A7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=X5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",Mb({},Vi(t),{className:h,d:g}))};function T7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(cI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Br(r,i,a,o),c=Br(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Y5(t)}}var Z5={},J5={},e_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(e_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(J5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z1,n=J5;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(Z5);var E7=Z5.range;const t_=xs(E7);function il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dk(e){let t,n,r;e.length!==2?(t=il,n=(o,l)=>il(e(o),l),r=(o,l)=>e(o)-l):(t=e===il||e===D7?e:M7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function M7(){return 0}function n_(e){return e===null?NaN:+e}function*O7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const I7=dk(il),dm=I7.right;dk(n_).center;class Vj extends Map{constructor(t,n=$7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Wj(this,t))}has(t){return super.has(Wj(this,t))}set(t,n){return super.set(_7(this,t),n)}delete(t){return super.delete(L7(this,t))}}function Wj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function L7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function F7(e=il){if(e===il)return r_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function r_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const R7=Math.sqrt(50),B7=Math.sqrt(10),z7=Math.sqrt(2);function ug(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=R7?10:a>=B7?5:a>=z7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?ug(e,t,n*2):[o,l,c]}function Ob(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?ug(t,e,n):ug(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Ib(e,t,n){return t=+t,e=+e,n=+n,ug(e,t,n)[2]}function _b(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ib(t,e,n):Ib(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Hj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function i_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?r_:F7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));i_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Nd(e,n,t),i(e[r],a)>0&&Nd(e,n,r);s<o;){for(Nd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Nd(e,n,o):(++o,Nd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Nd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function U7(e,t,n){if(e=Float64Array.from(O7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return qj(e);if(t>=1)return Hj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Hj(i_(e,a).subarray(0,a+1)),o=qj(e.subarray(a+1));return s+(o-s)*(i-a)}}function V7(e,t,n=n_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function W7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lb=Symbol("implicit");function fk(){var e=new Vj,t=[],n=[],r=Lb;function i(a){let s=e.get(a);if(s===void 0){if(r!==Lb)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Vj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fk(t,n).unknown(r)},Ga.apply(i,arguments),i}function mk(){var e=fk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=W7(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ga.apply(f(),arguments)}function a_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a_(t())},e}function H7(){return a_(mk.apply(null,arguments).paddingInner(1))}function hk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function s_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fm(){}var Lf=.7,dg=1/Lf,ku="\\s*([+-]?\\d+)\\s*",$f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q7=/^#([0-9a-f]{3,8})$/,K7=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),G7=new RegExp(`^rgb\\(${Os},${Os},${Os}\\)$`),Y7=new RegExp(`^rgba\\(${ku},${ku},${ku},${$f}\\)$`),X7=new RegExp(`^rgba\\(${Os},${Os},${Os},${$f}\\)$`),Q7=new RegExp(`^hsl\\(${$f},${Os},${Os}\\)$`),Z7=new RegExp(`^hsla\\(${$f},${Os},${Os},${$f}\\)$`),Kj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hk(fm,Ff,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gj,formatHex:Gj,formatHex8:J7,formatHsl:eq,formatRgb:Yj,toString:Yj});function Gj(){return this.rgb().formatHex()}function J7(){return this.rgb().formatHex8()}function eq(){return o_(this).formatHsl()}function Yj(){return this.rgb().formatRgb()}function Ff(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=q7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xj(t):n===3?new Ji(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ch(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ch(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=K7.exec(e))?new Ji(t[1],t[2],t[3],1):(t=G7.exec(e))?new Ji(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y7.exec(e))?Ch(t[1],t[2],t[3],t[4]):(t=X7.exec(e))?Ch(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Q7.exec(e))?Jj(t[1],t[2]/100,t[3]/100,1):(t=Z7.exec(e))?Jj(t[1],t[2]/100,t[3]/100,t[4]):Kj.hasOwnProperty(e)?Xj(Kj[e]):e==="transparent"?new Ji(NaN,NaN,NaN,0):null}function Xj(e){return new Ji(e>>16&255,e>>8&255,e&255,1)}function Ch(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ji(e,t,n,r)}function tq(e){return e instanceof fm||(e=Ff(e)),e?(e=e.rgb(),new Ji(e.r,e.g,e.b,e.opacity)):new Ji}function $b(e,t,n,r){return arguments.length===1?tq(e):new Ji(e,t,n,r??1)}function Ji(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hk(Ji,$b,s_(fm,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lf:Math.pow(Lf,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ji(ac(this.r),ac(this.g),ac(this.b),fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qj,formatHex:Qj,formatHex8:nq,formatRgb:Zj,toString:Zj}));function Qj(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}`}function nq(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}${Xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zj(){const e=fg(this.opacity);return`${e===1?"rgb(":"rgba("}${ac(this.r)}, ${ac(this.g)}, ${ac(this.b)}${e===1?")":`, ${e})`}`}function fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ac(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xl(e){return e=ac(e),(e<16?"0":"")+e.toString(16)}function Jj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ss(e,t,n,r)}function o_(e){if(e instanceof ss)return new ss(e.h,e.s,e.l,e.opacity);if(e instanceof fm||(e=Ff(e)),!e)return new ss;if(e instanceof ss)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ss(s,o,l,e.opacity)}function rq(e,t,n,r){return arguments.length===1?o_(e):new ss(e,t,n,r??1)}function ss(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hk(ss,rq,s_(fm,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new ss(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lf:Math.pow(Lf,e),new ss(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ji(hv(e>=240?e-240:e+120,i,r),hv(e,i,r),hv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ss(eA(this.h),jh(this.s),jh(this.l),fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fg(this.opacity);return`${e===1?"hsl(":"hsla("}${eA(this.h)}, ${jh(this.s)*100}%, ${jh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eA(e){return e=(e||0)%360,e<0?e+360:e}function jh(e){return Math.max(0,Math.min(1,e||0))}function hv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pk=e=>()=>e;function iq(e,t){return function(n){return e+n*t}}function aq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sq(e){return(e=+e)==1?l_:function(t,n){return n-t?aq(t,n,e):pk(isNaN(t)?n:t)}}function l_(e,t){var n=t-e;return n?iq(e,n):pk(isNaN(e)?t:e)}const tA=function e(t){var n=sq(t);function r(i,a){var s=n((i=$b(i)).r,(a=$b(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=l_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function oq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function lq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Xu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function uq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pv=new RegExp(Fb.source,"g");function fq(e){return function(){return e}}function mq(e){return function(t){return e(t)+""}}function hq(e,t){var n=Fb.lastIndex=pv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Fb.exec(e))&&(i=pv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:mg(r,i)})),n=pv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?mq(l[0].x):fq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Xu(e,t){var n=typeof t,r;return t==null||n==="boolean"?pk(t):(n==="number"?mg:n==="string"?(r=Ff(t))?(t=r,tA):hq:t instanceof Ff?tA:t instanceof Date?uq:lq(t)?oq:Array.isArray(t)?cq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dq:mg)(e,t)}function gk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pq(e,t){t===void 0&&(t=e,e=Xu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function gq(e){return function(){return e}}function hg(e){return+e}var nA=[0,1];function zi(e){return e}function Rb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gq(isNaN(t)?NaN:.5)}function xq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Rb(i,r),a=n(s,a)):(r=Rb(r,i),a=n(a,s)),function(o){return a(r(o))}}function yq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Rb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=dm(e,o,1,r)-1;return a[l](i[l](o))}}function mm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function V0(){var e=nA,t=nA,n=Xu,r,i,a,s=zi,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==zi&&(s=xq(e[0],e[h-1])),o=h>2?yq:vq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),mg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,hg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=gk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:zi,d()):s!==zi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function xk(){return V0()(zi,zi)}function bq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fu(e){return e=pg(Math.abs(e)),e?e[1]:NaN}function wq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function kq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Sq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rf(e){if(!(t=Sq.exec(e)))throw new Error("invalid format: "+e);var t;return new vk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rf.prototype=vk.prototype;function vk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var gg;function Cq(e,t){var n=pg(e,t);if(!n)return gg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(gg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pg(e,Math.max(0,t+a-1))[0]}function rA(e,t){var n=pg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const iA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rA(e*100,t),r:rA,s:Cq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aA(e){return e}var sA=Array.prototype.map,oA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jq(e){var t=e.grouping===void 0||e.thousands===void 0?aA:wq(sA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?aA:kq(sA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=Rf(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):iA[N]||(S===void 0&&(S=12),C=!0,N="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),E=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),_=iA[N],T=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(O){var Y=A,Q=E,ie,ce,K;if(N==="c")Q=_(O)+Q,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:_(Math.abs(O),S),C&&(O=Nq(O)),G&&+O==0&&g!=="+"&&(G=!1),Y=(G?g==="("?g:o:g==="-"||g==="("?"":g)+Y,Q=(N==="s"&&!isNaN(O)&&gg!==void 0?oA[8+gg/3]:"")+Q+(G&&g==="("?")":""),T){for(ie=-1,ce=O.length;++ie<ce;)if(K=O.charCodeAt(ie),48>K||K>57){Q=(K===46?i+O.slice(ie+1):O.slice(ie))+Q,O=O.slice(0,ie);break}}}w&&!x&&(O=t(O,1/0));var L=Y.length+O.length+Q.length,P=L<b?new Array(b-L+1).join(m):"";switch(w&&x&&(O=t(P+O,P.length?b-Q.length:1/0),P=""),p){case"<":O=Y+O+Q+P;break;case"=":O=Y+P+O+Q;break;case"^":O=P.slice(0,L=P.length>>1)+Y+O+Q+P.slice(L);break;default:O=P+Y+O+Q;break}return a(O)}return M.toString=function(){return f+""},M}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Fu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=Rf(f),f.type="f",f),{suffix:oA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Ah,yk,c_;Aq({thousands:",",grouping:[3],currency:["$",""]});function Aq(e){return Ah=jq(e),yk=Ah.format,c_=Ah.formatPrefix,Ah}function Pq(e){return Math.max(0,-Fu(Math.abs(e)))}function Tq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fu(t)/3)))*3-Fu(Math.abs(e)))}function Eq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fu(t)-Fu(e))+1}function u_(e,t,n,r){var i=_b(e,t,n),a;switch(r=Rf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Tq(i,s))&&(r.precision=a),c_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Eq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Pq(i))&&(r.precision=a-(r.type==="%")*2);break}}return yk(r)}function gl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ob(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return u_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Ib(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function d_(){var e=xk();return e.copy=function(){return mm(e,d_())},Ga.apply(e,arguments),gl(e)}function f_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return f_(e).unknown(t)},e=arguments.length?Array.from(e,hg):[0,1],gl(n)}function m_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function lA(e){return Math.log(e)}function cA(e){return Math.exp(e)}function Dq(e){return-Math.log(-e)}function Mq(e){return-Math.exp(-e)}function Oq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Iq(e){return e===10?Oq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _q(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uA(e){return(t,n)=>-e(-t,n)}function bk(e){const t=e(lA,cA),n=t.domain;let r=10,i,a;function s(){return i=_q(r),a=Iq(r),n()[0]<0?(i=uA(i),a=uA(a),e(Dq,Mq)):e(lA,cA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=Ob(c,d,y))}else x=Ob(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Rf(l)).precision==null&&(l.trim=!0),l=yk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(m_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function h_(){const e=bk(V0()).domain([1,10]);return e.copy=()=>mm(e,h_()).base(e.base()),Ga.apply(e,arguments),e}function dA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wk(e){var t=1,n=e(dA(t),fA(t));return n.constant=function(r){return arguments.length?e(dA(t=+r),fA(t)):t},gl(n)}function p_(){var e=wk(V0());return e.copy=function(){return mm(e,p_()).constant(e.constant())},Ga.apply(e,arguments)}function mA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $q(e){return e<0?-e*e:e*e}function kk(e){var t=e(zi,zi),n=1;function r(){return n===1?e(zi,zi):n===.5?e(Lq,$q):e(mA(n),mA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},gl(t)}function Sk(){var e=kk(V0());return e.copy=function(){return mm(e,Sk()).exponent(e.exponent())},Ga.apply(e,arguments),e}function Fq(){return Sk.apply(null,arguments).exponent(.5)}function hA(e){return Math.sign(e)*e*e}function Rq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function g_(){var e=xk(),t=[0,1],n=!1,r;function i(a){var s=Rq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(hA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,hg)).map(hA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return g_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ga.apply(i,arguments),gl(i)}function x_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=V7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[dm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(il),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return x_().domain(e).range(t).unknown(r)},Ga.apply(a,arguments)}function v_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[dm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return v_().domain([e,t]).range(i).unknown(a)},Ga.apply(gl(s),arguments)}function y_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[dm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y_().domain(e).range(t).unknown(n)},Ga.apply(i,arguments)}const gv=new Date,xv=new Date;function Yr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Yr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(gv.setTime(+a),xv.setTime(+s),e(gv),e(xv),Math.floor(n(gv,xv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const xg=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):xg);xg.range;const Zs=1e3,za=Zs*60,Js=za*60,mo=Js*24,Nk=mo*7,pA=mo*30,vv=mo*365,Ql=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCSeconds());Ql.range;const Ck=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zs)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getMinutes());Ck.range;const jk=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCMinutes());jk.range;const Ak=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zs-e.getMinutes()*za)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getHours());Ak.range;const Pk=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getUTCHours());Pk.range;const hm=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*za)/mo,e=>e.getDate()-1);hm.range;const W0=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mo,e=>e.getUTCDate()-1);W0.range;const b_=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mo,e=>Math.floor(e/mo));b_.range;function jc(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*za)/Nk)}const H0=jc(0),vg=jc(1),Bq=jc(2),zq=jc(3),Ru=jc(4),Uq=jc(5),Vq=jc(6);H0.range;vg.range;Bq.range;zq.range;Ru.range;Uq.range;Vq.range;function Ac(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Nk)}const q0=Ac(0),yg=Ac(1),Wq=Ac(2),Hq=Ac(3),Bu=Ac(4),qq=Ac(5),Kq=Ac(6);q0.range;yg.range;Wq.range;Hq.range;Bu.range;qq.range;Kq.range;const Tk=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Tk.range;const Ek=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ek.range;const ho=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ho.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ho.range;const po=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});po.range;function w_(e,t,n,r,i,a){const s=[[Ql,1,Zs],[Ql,5,5*Zs],[Ql,15,15*Zs],[Ql,30,30*Zs],[a,1,za],[a,5,5*za],[a,15,15*za],[a,30,30*za],[i,1,Js],[i,3,3*Js],[i,6,6*Js],[i,12,12*Js],[r,1,mo],[r,2,2*mo],[n,1,Nk],[t,1,pA],[t,3,3*pA],[e,1,vv]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=dk(([,,y])=>y).right(s,h);if(m===s.length)return e.every(_b(c/vv,d/vv,f));if(m===0)return xg.every(Math.max(_b(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[Gq,Yq]=w_(po,Ek,q0,b_,Pk,jk),[Xq,Qq]=w_(ho,Tk,H0,hm,Ak,Ck);function yv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Zq(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=jd(i),d=Ad(i),f=jd(a),h=Ad(a),m=jd(s),p=Ad(s),g=jd(o),y=Ad(o),x=jd(l),b=Ad(l),w={a:K,A:G,b:L,B:P,c:null,d:wA,e:wA,f:wK,g:DK,G:OK,H:vK,I:yK,j:bK,L:k_,m:kK,M:SK,p:j,q:W,Q:NA,s:CA,S:NK,u:CK,U:jK,V:AK,w:PK,W:TK,x:null,X:null,y:EK,Y:MK,Z:IK,"%":SA},S={a:k,A:I,b:ae,B:ee,c:null,d:kA,e:kA,f:FK,g:GK,G:XK,H:_K,I:LK,j:$K,L:N_,m:RK,M:BK,p:U,q:ne,Q:NA,s:CA,S:zK,u:UK,U:VK,V:WK,w:HK,W:qK,x:null,X:null,y:KK,Y:YK,Z:QK,"%":SA},C={a:T,A:M,b:O,B:Y,c:Q,d:yA,e:yA,f:hK,g:vA,G:xA,H:bA,I:bA,j:uK,L:mK,m:cK,M:dK,p:_,q:lK,Q:gK,s:xK,S:fK,u:rK,U:iK,V:aK,w:nK,W:sK,x:ie,X:ce,y:vA,Y:xA,Z:oK,"%":pK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(F,J){return function(ue){var re=[],V=-1,B=0,$=F.length,te,ke,Ve;for(ue instanceof Date||(ue=new Date(+ue));++V<$;)F.charCodeAt(V)===37&&(re.push(F.slice(B,V)),(ke=gA[te=F.charAt(++V)])!=null?te=F.charAt(++V):ke=te==="e"?" ":"0",(Ve=J[te])&&(te=Ve(ue,ke)),re.push(te),B=V+1);return re.push(F.slice(B,V)),re.join("")}}function A(F,J){return function(ue){var re=Cd(1900,void 0,1),V=E(re,F,ue+="",0),B,$;if(V!=ue.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(J&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(B=bv(Cd(re.y,0,1)),$=B.getUTCDay(),B=$>4||$===0?yg.ceil(B):yg(B),B=W0.offset(B,(re.V-1)*7),re.y=B.getUTCFullYear(),re.m=B.getUTCMonth(),re.d=B.getUTCDate()+(re.w+6)%7):(B=yv(Cd(re.y,0,1)),$=B.getDay(),B=$>4||$===0?vg.ceil(B):vg(B),B=hm.offset(B,(re.V-1)*7),re.y=B.getFullYear(),re.m=B.getMonth(),re.d=B.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),$="Z"in re?bv(Cd(re.y,0,1)).getUTCDay():yv(Cd(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-($+5)%7:re.w+re.U*7-($+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,bv(re)):yv(re)}}function E(F,J,ue,re){for(var V=0,B=J.length,$=ue.length,te,ke;V<B;){if(re>=$)return-1;if(te=J.charCodeAt(V++),te===37){if(te=J.charAt(V++),ke=C[te in gA?J.charAt(V++):te],!ke||(re=ke(F,ue,re))<0)return-1}else if(te!=ue.charCodeAt(re++))return-1}return re}function _(F,J,ue){var re=c.exec(J.slice(ue));return re?(F.p=d.get(re[0].toLowerCase()),ue+re[0].length):-1}function T(F,J,ue){var re=m.exec(J.slice(ue));return re?(F.w=p.get(re[0].toLowerCase()),ue+re[0].length):-1}function M(F,J,ue){var re=f.exec(J.slice(ue));return re?(F.w=h.get(re[0].toLowerCase()),ue+re[0].length):-1}function O(F,J,ue){var re=x.exec(J.slice(ue));return re?(F.m=b.get(re[0].toLowerCase()),ue+re[0].length):-1}function Y(F,J,ue){var re=g.exec(J.slice(ue));return re?(F.m=y.get(re[0].toLowerCase()),ue+re[0].length):-1}function Q(F,J,ue){return E(F,t,J,ue)}function ie(F,J,ue){return E(F,n,J,ue)}function ce(F,J,ue){return E(F,r,J,ue)}function K(F){return s[F.getDay()]}function G(F){return a[F.getDay()]}function L(F){return l[F.getMonth()]}function P(F){return o[F.getMonth()]}function j(F){return i[+(F.getHours()>=12)]}function W(F){return 1+~~(F.getMonth()/3)}function k(F){return s[F.getUTCDay()]}function I(F){return a[F.getUTCDay()]}function ae(F){return l[F.getUTCMonth()]}function ee(F){return o[F.getUTCMonth()]}function U(F){return i[+(F.getUTCHours()>=12)]}function ne(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var J=N(F+="",w);return J.toString=function(){return F},J},parse:function(F){var J=A(F+="",!1);return J.toString=function(){return F},J},utcFormat:function(F){var J=N(F+="",S);return J.toString=function(){return F},J},utcParse:function(F){var J=A(F+="",!0);return J.toString=function(){return F},J}}}var gA={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,Jq=/^%/,eK=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tK(e){return e.replace(eK,"\\$&")}function jd(e){return new RegExp("^(?:"+e.map(tK).join("|")+")","i")}function Ad(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nK(e,t,n){var r=ai.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=ai.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xA(e,t,n){var r=ai.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vA(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lK(e,t,n){var r=ai.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cK(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yA(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=ai.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bA(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=ai.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=ai.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=ai.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pK(e,t,n){var r=Jq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gK(e,t,n){var r=ai.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=ai.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wA(e,t){return Sn(e.getDate(),t,2)}function vK(e,t){return Sn(e.getHours(),t,2)}function yK(e,t){return Sn(e.getHours()%12||12,t,2)}function bK(e,t){return Sn(1+hm.count(ho(e),e),t,3)}function k_(e,t){return Sn(e.getMilliseconds(),t,3)}function wK(e,t){return k_(e,t)+"000"}function kK(e,t){return Sn(e.getMonth()+1,t,2)}function SK(e,t){return Sn(e.getMinutes(),t,2)}function NK(e,t){return Sn(e.getSeconds(),t,2)}function CK(e){var t=e.getDay();return t===0?7:t}function jK(e,t){return Sn(H0.count(ho(e)-1,e),t,2)}function S_(e){var t=e.getDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function AK(e,t){return e=S_(e),Sn(Ru.count(ho(e),e)+(ho(e).getDay()===4),t,2)}function PK(e){return e.getDay()}function TK(e,t){return Sn(vg.count(ho(e)-1,e),t,2)}function EK(e,t){return Sn(e.getFullYear()%100,t,2)}function DK(e,t){return e=S_(e),Sn(e.getFullYear()%100,t,2)}function MK(e,t){return Sn(e.getFullYear()%1e4,t,4)}function OK(e,t){var n=e.getDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function IK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function kA(e,t){return Sn(e.getUTCDate(),t,2)}function _K(e,t){return Sn(e.getUTCHours(),t,2)}function LK(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function $K(e,t){return Sn(1+W0.count(po(e),e),t,3)}function N_(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function FK(e,t){return N_(e,t)+"000"}function RK(e,t){return Sn(e.getUTCMonth()+1,t,2)}function BK(e,t){return Sn(e.getUTCMinutes(),t,2)}function zK(e,t){return Sn(e.getUTCSeconds(),t,2)}function UK(e){var t=e.getUTCDay();return t===0?7:t}function VK(e,t){return Sn(q0.count(po(e)-1,e),t,2)}function C_(e){var t=e.getUTCDay();return t>=4||t===0?Bu(e):Bu.ceil(e)}function WK(e,t){return e=C_(e),Sn(Bu.count(po(e),e)+(po(e).getUTCDay()===4),t,2)}function HK(e){return e.getUTCDay()}function qK(e,t){return Sn(yg.count(po(e)-1,e),t,2)}function KK(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function GK(e,t){return e=C_(e),Sn(e.getUTCFullYear()%100,t,2)}function YK(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function XK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Bu(e):Bu.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function QK(){return"+0000"}function SA(){return"%"}function NA(e){return+e}function CA(e){return Math.floor(+e/1e3)}var Wc,j_,A_;ZK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZK(e){return Wc=Zq(e),j_=Wc.format,Wc.parse,A_=Wc.utcFormat,Wc.utcParse,Wc}function JK(e){return new Date(e)}function eG(e){return e instanceof Date?+e:+new Date(+e)}function Dk(e,t,n,r,i,a,s,o,l,c){var d=xk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?x:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,eG)):h().map(JK)},d.ticks=function(N){var A=h();return e(A[0],A[A.length-1],N??10)},d.tickFormat=function(N,A){return A==null?C:c(A)},d.nice=function(N){var A=h();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?h(m_(A,N)):d},d.copy=function(){return mm(d,Dk(e,t,n,r,i,a,s,o,l,c))},d}function tG(){return Ga.apply(Dk(Xq,Qq,ho,Tk,H0,hm,Ak,Ck,Ql,j_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nG(){return Ga.apply(Dk(Gq,Yq,po,Ek,q0,W0,Pk,jk,Ql,A_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K0(){var e=0,t=1,n,r,i,a,s=zi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(Xu),c.rangeRound=d(gk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function P_(){var e=gl(K0()(zi));return e.copy=function(){return xl(e,P_())},wo.apply(e,arguments)}function T_(){var e=bk(K0()).domain([1,10]);return e.copy=function(){return xl(e,T_()).base(e.base())},wo.apply(e,arguments)}function E_(){var e=wk(K0());return e.copy=function(){return xl(e,E_()).constant(e.constant())},wo.apply(e,arguments)}function Mk(){var e=kk(K0());return e.copy=function(){return xl(e,Mk()).exponent(e.exponent())},wo.apply(e,arguments)}function rG(){return Mk.apply(null,arguments).exponent(.5)}function D_(){var e=[],t=zi;function n(r){if(r!=null&&!isNaN(r=+r))return t((dm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(il),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>U7(e,a/r))},n.copy=function(){return D_(t).domain(e)},wo.apply(n,arguments)}function G0(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=zi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,c=pq(g,[x,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(Xu),m.rangeRound=p(gk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function M_(){var e=gl(G0()(zi));return e.copy=function(){return xl(e,M_())},wo.apply(e,arguments)}function O_(){var e=bk(G0()).domain([.1,1,10]);return e.copy=function(){return xl(e,O_()).base(e.base())},wo.apply(e,arguments)}function I_(){var e=wk(G0());return e.copy=function(){return xl(e,I_()).constant(e.constant())},wo.apply(e,arguments)}function Ok(){var e=kk(G0());return e.copy=function(){return xl(e,Ok()).exponent(e.exponent())},wo.apply(e,arguments)}function iG(){return Ok.apply(null,arguments).exponent(.5)}const Bd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mk,scaleDiverging:M_,scaleDivergingLog:O_,scaleDivergingPow:Ok,scaleDivergingSqrt:iG,scaleDivergingSymlog:I_,scaleIdentity:f_,scaleImplicit:Lb,scaleLinear:d_,scaleLog:h_,scaleOrdinal:fk,scalePoint:H7,scalePow:Sk,scaleQuantile:x_,scaleQuantize:v_,scaleRadial:g_,scaleSequential:P_,scaleSequentialLog:T_,scaleSequentialPow:Mk,scaleSequentialQuantile:D_,scaleSequentialSqrt:rG,scaleSequentialSymlog:E_,scaleSqrt:Fq,scaleSymlog:p_,scaleThreshold:y_,scaleTime:tG,scaleUtc:nG,tickFormat:u_},Symbol.toStringTag,{value:"Module"}));var vl=e=>e.chartData,Ik=pe([vl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_k=(e,t,n,r)=>r?Ik(e):vl(e);function ll(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ur(t)&&Ur(n))return!0}return!1}function jA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function __(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Ur(n))i=n;else if(typeof n=="function")return;if(Ur(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ll(s))return s}}function aG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ll(r))return jA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(At(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&HC.test(i)){var l=HC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(At(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&qC.test(a)){var d=qC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ll(h))return t==null?h:jA(h,t,n)}}}var Qu=1e9,sG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$k,cr=!0,Ka="[DecimalError] ",sc=Ka+"Invalid argument: ",Lk=Ka+"Exponent out of range: ",Zu=Math.floor,zl=Math.pow,oG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,ti=1e7,nr=7,L_=9007199254740991,bg=Zu(L_/nr),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};yt.dividedBy=yt.div=function(e){return no(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,n=t.constructor;return Vn(no(t,new n(e),0,1),n.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return zr(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ga))throw Error(Ka+"NaN");if(n.s<1)throw Error(Ka+(n.s?"NaN":"-Infinity"));return n.eq(ga)?new r(0):(cr=!1,t=no(Bf(n,a),Bf(e,a),a),cr=!0,Vn(t,i))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?R_(t,e):$_(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ka+"NaN");return n.s?(cr=!1,t=no(n,e,0,1).times(e),cr=!0,n.minus(t)):Vn(new r(n),i)};yt.naturalExponential=yt.exp=function(){return F_(this)};yt.naturalLogarithm=yt.ln=function(){return Bf(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$_(t,e):R_(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sc+e);if(t=zr(i)+1,r=i.d.length-1,n=r*nr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};yt.squareRoot=yt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ka+"NaN")}for(e=zr(o),cr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Es(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(no(o,a,s+2)).times(.5),Es(a.d).slice(0,s)===(t=Es(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Vn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return cr=!0,Vn(r,n)};yt.times=yt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ti|0,t=o/ti|0;a[i]=(a[i]+t)%ti|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,cr?Vn(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fs(e,0,Qu),t===void 0?t=r.rounding:Fs(t,0,8),Vn(n,e+zr(n)+1,t))};yt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=yc(r,!0):(Fs(e,0,Qu),t===void 0?t=i.rounding:Fs(t,0,8),r=Vn(new i(r),e+1,t),n=yc(r,!0,e+1)),n};yt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?yc(i):(Fs(e,0,Qu),t===void 0?t=a.rounding:Fs(t,0,8),r=Vn(new a(i),e+zr(i)+1,t),n=yc(r.abs(),!1,e+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return Vn(new t(e),zr(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ga);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ka+"Infinity");return o}if(o.eq(ga))return o;if(r=l.precision,e.eq(ga))return Vn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=L_){for(i=new l(ga),t=Math.ceil(r/nr+4),cr=!1;n%2&&(i=i.times(o),PA(i.d,t)),n=Zu(n/2),n!==0;)o=o.times(o),PA(o.d,t);return cr=!0,e.s<0?new l(ga).div(i):Vn(i,r)}}else if(a<0)throw Error(Ka+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,cr=!1,i=e.times(Bf(o,r+c)),cr=!0,i=F_(i),i.s=a,i};yt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zr(i),r=yc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fs(e,1,Qu),t===void 0?t=a.rounding:Fs(t,0,8),i=Vn(new a(i),e,t),n=zr(i),r=yc(i,e<=n||n<=a.toExpNeg,e)),r};yt.toSignificantDigits=yt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fs(e,1,Qu),t===void 0?t=r.rounding:Fs(t,0,8)),Vn(new r(n),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zr(e),n=e.constructor;return yc(e,t<=n.toExpNeg||t>=n.toExpPos)};function $_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cr?Vn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/nr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ti|0,l[a]%=ti;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,cr?Vn(t,f):t}function Fs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sc+e)}function Es(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=nr-r.length,n&&(a+=Ro(n)),a+=r;s=e[t],r=s+"",n=nr-r.length,n&&(a+=Ro(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var no=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ti|0,s=a/ti|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ti+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,x,b,w,S,C,N,A,E,_=r.constructor,T=r.s==i.s?1:-1,M=r.d,O=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Ka+"Division by zero");for(l=r.e-i.e,A=O.length,C=M.length,m=new _(T),p=m.d=[],c=0;O[c]==(M[c]||0);)++c;if(O[c]>(M[c]||0)&&--l,a==null?b=a=_.precision:s?b=a+(zr(r)-zr(i))+1:b=a,b<0)return new _(0);if(b=b/nr+2|0,c=0,A==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*ti+(M[c]||0),p[c]=w/O|0,d=w%O|0;else{for(d=ti/(O[0]+1)|0,d>1&&(O=e(O,d),M=e(M,d),A=O.length,C=M.length),S=A,g=M.slice(0,A),y=g.length;y<A;)g[y++]=0;E=O.slice(),E.unshift(0),N=O[0],O[1]>=ti/2&&++N;do d=0,o=t(O,g,A,y),o<0?(x=g[0],A!=y&&(x=x*ti+(g[1]||0)),d=x/N|0,d>1?(d>=ti&&(d=ti-1),f=e(O,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,A<h?E:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(O,g,A,y),o<1&&(d++,n(g,A<y?E:O,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=M[S]||0:(g=[M[S]],y=1);while((S++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,Vn(m,s?a+zr(m)+1:a)}}();function F_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(zr(e)>16)throw Error(Lk+zr(e));if(!e.s)return new d(ga);for(cr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(zl(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(ga),d.precision=o;;){if(i=Vn(i.times(e),o),n=n.times(++l),s=a.plus(no(i,n,o)),Es(s.d).slice(0,o)===Es(a.d).slice(0,o)){for(;c--;)a=Vn(a.times(a),o);return d.precision=f,t==null?(cr=!0,Vn(a,f)):a}a=s}}function zr(e){for(var t=e.e*nr,n=e.d[0];n>=10;n/=10)t++;return t}function wv(e,t,n){if(t>e.LN10.sd())throw cr=!0,n&&(e.precision=n),Error(Ka+"LN10 precision limit exceeded");return Vn(new e(e.LN10),t)}function Ro(e){for(var t="";e--;)t+="0";return t}function Bf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ka+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new g(0);if(t==null?(cr=!1,c=y):c=t,m.eq(10))return t==null&&(cr=!0),wv(g,c);if(c+=h,g.precision=c,n=Es(p),r=n.charAt(0),a=zr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Es(m.d),r=n.charAt(0),f++;a=zr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=wv(g,c+2,y).times(a+""),m=Bf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(cr=!0,Vn(m,y)):m;for(o=s=m=no(m.minus(ga),m.plus(ga),c),d=Vn(m.times(m),c),i=3;;){if(s=Vn(s.times(d),c),l=o.plus(no(s,new g(i),c)),Es(l.d).slice(0,c)===Es(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(wv(g,c+2,y).times(a+""))),o=no(o,new g(f),c),g.precision=y,t==null?(cr=!0,Vn(o,y)):o;o=l,i+=2}}function AA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Zu(n/nr),e.d=[],r=(n+1)%nr,n<0&&(r+=nr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nr;r<i;)e.d.push(+t.slice(r,r+=nr));t=t.slice(r),r=nr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),cr&&(e.e>bg||e.e<-bg))throw Error(Lk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Vn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=nr,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/nr),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=nr,i=r-nr+s}if(n!==void 0&&(a=zl(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/zl(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=zr(e),f.length=1,t=t-a-1,f[0]=zl(10,(nr-t%nr)%nr),e.e=Zu(-t/nr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=zl(10,nr-r),f[d]=i>0?(c/zl(10,s-i)%zl(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ti&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ti)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(cr&&(e.e>bg||e.e<-bg))throw Error(Lk+zr(e));return e}function R_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cr?Vn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/nr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ti-1;--l[a],l[i]+=ti}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,cr?Vn(t,m):t):new h(0)}function yc(e,t,n){var r,i=zr(e),a=Es(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ro(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ro(-i-1)+a,n&&(r=n-s)>0&&(a+=Ro(r))):i>=s?(a+=Ro(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ro(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ro(r))),e.s<0?"-"+a:a}function PA(e,t){if(e.length>t)return e.length=t,!0}function B_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(sc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return AA(s,a.toString())}else if(typeof a!="string")throw Error(sc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,oG.test(a))AA(s,a);else throw Error(sc+a)}if(i.prototype=yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=B_,i.config=i.set=lG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function lG(e){if(!e||typeof e!="object")throw Error(Ka+"Object expected");var t,n,r,i=["precision",1,Qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Zu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(sc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sc+n+": "+r);return this}var $k=B_(sG);ga=new $k(1);const On=$k;var cG=e=>e,z_={},U_=e=>e===z_,TA=e=>function t(){return arguments.length===0||arguments.length===1&&U_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},V_=(e,t)=>e===1?t:TA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==z_).length;return a>=e?t(...r):V_(e-a,TA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>U_(d)?o.shift():d);return t(...c,...o)}))}),uG=e=>V_(e.length,e),Bb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},dG=uG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),fG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return cG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function W_(e){var t;return e===0?t=1:t=Math.floor(new On(e).abs().log(10).toNumber())+1,t}function H_(e,t,n){for(var r=new On(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var q_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},K_=(e,t,n)=>{if(e.lte(0))return new On(0);var r=W_(e.toNumber()),i=new On(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new On(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new On(l.toNumber()):new On(Math.ceil(l.toNumber()))},mG=(e,t,n)=>{var r=new On(1),i=new On(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new On(10).pow(W_(e)-1),i=new On(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new On(Math.floor(e)))}else e===0?i=new On(Math.floor((t-1)/2)):n||(i=new On(Math.floor(e)));var s=Math.floor((t-1)/2),o=fG(dG(l=>i.add(new On(l-s).mul(r)).toNumber()),Bb);return o(0,t)},G_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new On(0),tickMin:new On(0),tickMax:new On(0)};var s=K_(new On(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new On(0):(o=new On(t).add(n).div(2),o=o.sub(new On(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new On(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?G_(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new On(l).mul(s)),tickMax:o.add(new On(c).mul(s))})},hG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=q_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Bb(0,i-1).map(()=>1/0)]:[...Bb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return mG(o,i,a);var{step:d,tickMin:f,tickMax:h}=G_(o,l,s,a,0),m=H_(f,h.add(new On(.1).mul(d)),d);return n>r?m.reverse():m},pG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=q_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=K_(new On(o).sub(s).div(l-1),a,0),d=[...H_(new On(s),new On(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},gG=e=>e.rootProps.barCategoryGap,pm=e=>e.rootProps.stackOffset,Y_=e=>e.rootProps.reverseStackOrder,Fk=e=>e.options.chartName,Rk=e=>e.rootProps.syncId,X_=e=>e.rootProps.syncMethod,Bk=e=>e.options.eventEmitter,pi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ks={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Y0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},xG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ks.angleAxisId,includeHidden:!1,name:void 0,reversed:Ks.reversed,scale:Ks.scale,tick:Ks.tick,tickCount:void 0,ticks:void 0,type:Ks.type,unit:void 0},vG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},yG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ks.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ks.scale,tick:Ks.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:"category",unit:void 0},zk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yG:xG,Uk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bG:vG,X0=e=>e.polarOptions,Vk=pe([yo,bo,ii],G5),Q_=pe([X0,Vk],(e,t)=>{if(e!=null)return ba(e.innerRadius,t,0)}),Z_=pe([X0,Vk],(e,t)=>{if(e!=null)return ba(e.outerRadius,t,t*.8)}),wG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},J_=pe([X0],wG);pe([zk,J_],Y0);var e3=pe([Vk,Q_,Z_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});pe([Uk,e3],Y0);var t3=pe([Bn,X0,Q_,Z_,yo,bo],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ba(s,i,i/2),cy:ba(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ur=(e,t)=>t,gm=(e,t,n)=>n;function n3(e){return e==null?void 0:e.id}function r3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=n3(o);c.forEach((f,h)=>{var m=a==null||i?h:String(ir(f,a,null)),p=ir(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function Wk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Q0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Z0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Xr=e=>{var t=Bn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ju=e=>e.tooltip.settings.axisId;function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){SG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SG(e,t,n){return(t=NG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zb=[0,"auto"],Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},i3=(e,t)=>e.cartesianAxis.xAxis[t],ko=(e,t)=>{var n=i3(e,t);return n??Jr},ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lm},a3=(e,t)=>e.cartesianAxis.yAxis[t],So=(e,t)=>{var n=a3(e,t);return n??ei},jG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??jG},yr=(e,t,n)=>{switch(t){case"xAxis":return ko(e,n);case"yAxis":return So(e,n);case"zAxis":return Hk(e,n);case"angleAxis":return zk(e,n);case"radiusAxis":return Uk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},AG=(e,t,n)=>{switch(t){case"xAxis":return ko(e,n);case"yAxis":return So(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xm=(e,t,n)=>{switch(t){case"xAxis":return ko(e,n);case"yAxis":return So(e,n);case"angleAxis":return zk(e,n);case"radiusAxis":return Uk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},s3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var o3=e=>e.graphicalItems.cartesianItems,PG=pe([ur,gm],qk),Kk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),vm=pe([o3,yr,PG],Kk,{memoizeOptions:{resultEqualityCheck:Z0}}),l3=pe([vm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Wk)),c3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TG=pe([vm],c3),Gk=e=>e.map(t=>t.data).filter(Boolean).flat(1),EG=pe([vm],Gk,{memoizeOptions:{resultEqualityCheck:Z0}}),Yk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Xk=pe([EG,_k],Yk),Qk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ir(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ir(i,r)}))):e.map(r=>({value:r})),J0=pe([Xk,yr,vm],Qk);function u3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function np(e){if(Ls(e)||e instanceof Date){var t=Number(e);if(Ur(t))return t}}function DA(e){if(Array.isArray(e)){var t=[np(e[0]),np(e[1])];return ll(t)?t:void 0}var n=np(e);if(n!=null)return[n,n]}function go(e){return e.map(np).filter(q8)}function DG(e,t,n){return!n||typeof t!="number"||_s(t)?[]:n.length?go(n.flatMap(r=>{var i=ir(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ur(a)||!Ur(s)))return[t-a,t+s]})):[]}var Qr=e=>{var t=Xr(e),n=Ju(e);return xm(e,t,n)},ym=pe([Qr],e=>e==null?void 0:e.dataKey),MG=pe([l3,_k,Qr],r3),d3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(n3);return[o,{stackedData:lW(e,d,n),graphicalItems:c}]}))},OG=pe([MG,l3,pm,Y_],d3),f3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=dW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},IG=pe([yr],e=>e.allowDataOverflow),Zk=e=>{var t;if(e==null||!("domain"in e))return zb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=go(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:zb},Jk=pe([yr],Zk),eS=pe([Jk,IG],__),_G=pe([OG,vl,ur,eS],f3,{memoizeOptions:{resultEqualityCheck:Q0}}),ex=e=>e.errorBars,LG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>u3(n,r)),kg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},tS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>u3(i,x)),h=ir(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=DG(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=DA(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=DA(ir(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Ur(a)&&Ur(s))return[a,s]},$G=pe([Xk,yr,TG,ex,ur],tS,{memoizeOptions:{resultEqualityCheck:Q0}});function FG(e){var{value:t}=e;if(Ls(t)||t instanceof Date)return t}var RG=(e,t,n)=>{var r=e.map(FG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sI(r))?t_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},m3=e=>e.referenceElements.dots,ed=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),BG=pe([m3,ur,gm],ed),h3=e=>e.referenceElements.areas,zG=pe([h3,ur,gm],ed),p3=e=>e.referenceElements.lines,UG=pe([p3,ur,gm],ed),g3=(e,t)=>{if(e!=null){var n=go(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VG=pe(BG,ur,g3),x3=(e,t)=>{if(e!=null){var n=go(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WG=pe([zG,ur],x3);function HG(e){var t;if(e.x!=null)return go([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:go(n)}function qG(e){var t;if(e.y!=null)return go([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:go(n)}var v3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?HG(r):qG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KG=pe([UG,ur],v3),GG=pe(VG,KG,WG,(e,t,n)=>kg(e,n,t)),nS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?kg(r,a,i):kg(a,i);return aG(t,c,e.allowDataOverflow)},YG=pe([yr,Jk,eS,_G,$G,GG,Bn,ur],nS,{memoizeOptions:{resultEqualityCheck:Q0}}),XG=[0,1],rS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=pl(t,a);if(c&&o==null){var d;return t_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?RG(r,e,c):i==="expand"?XG:s}},iS=pe([yr,Bn,Xk,J0,pm,ur,YG],rS),y3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(im(a));return o in Bd?o:"point"}}},td=pe([yr,Bn,s3,Fk,ur],y3);function QG(e){if(e!=null){if(e in Bd)return Bd[e]();var t="scale".concat(im(e));if(t in Bd)return Bd[t]()}}function aS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=QG(t);if(i!=null){var a=i.domain(n).range(r);return iW(a),a}}}var sS=(e,t,n)=>{var r=Zk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ll(e))return hG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ll(e))return pG(e,t.tickCount,t.allowDecimals)}},oS=pe([iS,xm,td],sS),lS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ll(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},ZG=pe([yr,iS,oS,ur],lS),JG=pe(J0,yr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(go(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),b3=pe(JG,Bn,gG,ii,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ur(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ba(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),eY=(e,t,n)=>{var r=ko(e,t);return r==null||typeof r.padding!="string"?0:b3(e,"xAxis",t,n,r.padding)},tY=(e,t,n)=>{var r=So(e,t);return r==null||typeof r.padding!="string"?0:b3(e,"yAxis",t,n,r.padding)},nY=pe(ko,eY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),rY=pe(So,tY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),iY=pe([ii,nY,I0,O0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),aY=pe([ii,Bn,rY,I0,O0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return iY(e,n,r);case"yAxis":return aY(e,n,r);case"zAxis":return(i=Hk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return J_(e);case"radiusAxis":return e3(e,n);default:return}},w3=pe([yr,bm],Y0),tx=pe([yr,td,ZG,w3],aS);pe([vm,ex,ur],LG);function k3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var nx=(e,t)=>t,rx=(e,t,n)=>n,sY=pe(D0,nx,rx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(k3)),oY=pe(M0,nx,rx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(k3)),S3=(e,t)=>({width:e.width,height:t.height}),lY=(e,t)=>{var n=typeof t.width=="number"?t.width:lm;return{width:n,height:e.height}},cY=pe(ii,ko,S3),uY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fY=pe(bo,ii,sY,nx,rx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=S3(t,o);s==null&&(s=uY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),mY=pe(yo,ii,oY,nx,rx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=lY(t,o);s==null&&(s=dY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),hY=(e,t)=>{var n=ko(e,t);if(n!=null)return fY(e,n.orientation,n.mirror)},pY=pe([ii,ko,hY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),gY=(e,t)=>{var n=So(e,t);if(n!=null)return mY(e,n.orientation,n.mirror)},xY=pe([ii,So,gY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),vY=pe(ii,So,(e,t)=>{var n=typeof t.width=="number"?t.width:lm;return{width:n,height:e.height}}),N3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=pl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&sI(l))return l}},cS=pe([Bn,J0,yr,ur],N3),C3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=pl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},uS=pe([Bn,J0,xm,ur],C3),MA=pe([Bn,AG,td,tx,cS,uS,bm,oS,ur],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=pl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),yY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=pl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Ei(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:r(w)+p,value:x,offset:p}});return y.filter(x=>Ur(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:r(x)+p,value:x,index:b,offset:p})).filter(x=>Ur(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,b)=>({coordinate:r(x)+p,value:s?s[x]:x,index:b,offset:p}))}},j3=pe([Bn,xm,td,tx,oS,bm,cS,uS,ur],yY),bY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=pl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ei(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},A3=pe([Bn,xm,tx,bm,cS,uS,ur],bY),P3=pe(yr,tx,(e,t)=>{if(!(e==null||t==null))return wg(wg({},e),{},{scale:t})}),wY=pe([yr,td,iS,w3],aS);pe((e,t,n)=>Hk(e,n),wY,(e,t)=>{if(!(e==null||t==null))return wg(wg({},e),{},{scale:t})});var kY=pe([Bn,D0,M0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),T3=e=>e.options.defaultTooltipEventType,E3=e=>e.options.validateTooltipEventTypes;function D3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function dS(e,t){var n=T3(e),r=E3(e);return D3(t,n,r)}function SY(e){return Ct(t=>dS(t,e))}var M3=(e,t)=>{var n,r=Number(t);if(!(_s(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},NY=e=>e.tooltip.settings,Wo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},CY={itemInteraction:{click:Wo,hover:Wo},axisInteraction:{click:Wo,hover:Wo},keyboardInteraction:Wo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O3=oa({name:"tooltip",initialState:CY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:or()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=cs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:or()},removeTooltipEntrySettings:{reducer(e,t){var n=cs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:or()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:jY,replaceTooltipEntrySettings:AY,removeTooltipEntrySettings:PY,setTooltipSettingsState:TY,setActiveMouseOverItemIndex:I3,mouseLeaveItem:EY,mouseLeaveChart:_3,setActiveClickItemIndex:DY,setMouseOverAxisIndex:L3,setMouseClickAxisIndex:MY,setSyncInteraction:Ub,setKeyboardInteraction:Vb}=O3.actions,OY=O3.reducer;function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){IY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FY(e){return e.index!=null}var $3=(e,t,n,r)=>{if(t==null)return Wo;var i=$Y(e,t,n);if(i==null)return Wo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(FY(i)){if(a)return Ph(Ph({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ph(Ph({},Wo),{},{coordinate:i.coordinate})};function RY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function BY(e,t){var n=RY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function zY(e,t,n){if(n==null||t==null)return!0;var r=ir(e,t);return r==null||!ll(n)?!0:BY(r,n)}var fS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Ur(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||zY(c,n,r)?String(l):null},F3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},R3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},wm=e=>e.options.tooltipPayloadSearcher,nd=e=>e.tooltip;function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){UY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e,t){return e??t}var B3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,x=HY(g,o),b=Array.isArray(x)?g5(x,c,d):x,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,S=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=oI(b,r,i):C=a(b,t,l,S),Array.isArray(C))C.forEach(A=>{var E=_A(_A({},y),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(KC({tooltipEntrySettings:E,dataKey:A.dataKey,payload:A.payload,value:ir(A.payload,A.dataKey),name:A.name}))});else{var N;h.push(KC({tooltipEntrySettings:y,dataKey:w,payload:C,value:ir(C,w),name:(N=ir(C,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},mS=pe([Qr,Bn,s3,Fk,Xr],y3),qY=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KY=pe([Xr,Ju],qk),rd=pe([qY,Qr,KY],Kk,{memoizeOptions:{resultEqualityCheck:Z0}}),GY=pe([rd],e=>e.filter(Wk)),YY=pe([rd],Gk,{memoizeOptions:{resultEqualityCheck:Z0}}),id=pe([YY,vl],Yk),XY=pe([GY,vl,Qr],r3),hS=pe([id,Qr,rd],Qk),z3=pe([Qr],Zk),QY=pe([Qr],e=>e.allowDataOverflow),U3=pe([z3,QY],__),ZY=pe([rd],e=>e.filter(Wk)),JY=pe([XY,ZY,pm,Y_],d3),eX=pe([JY,vl,Xr,U3],f3),tX=pe([rd],c3),nX=pe([id,Qr,tX,ex,Xr],tS,{memoizeOptions:{resultEqualityCheck:Q0}}),rX=pe([m3,Xr,Ju],ed),iX=pe([rX,Xr],g3),aX=pe([h3,Xr,Ju],ed),sX=pe([aX,Xr],x3),oX=pe([p3,Xr,Ju],ed),lX=pe([oX,Xr],v3),cX=pe([iX,lX,sX],kg),uX=pe([Qr,z3,U3,eX,nX,cX,Bn,Xr],nS),km=pe([Qr,Bn,id,hS,pm,Xr,uX],rS),dX=pe([km,Qr,mS],sS),fX=pe([Qr,km,dX,Xr],lS),V3=e=>{var t=Xr(e),n=Ju(e),r=!1;return bm(e,t,n,r)},W3=pe([Qr,V3],Y0),H3=pe([Qr,mS,fX,W3],aS),mX=pe([Bn,hS,Qr,Xr],N3),hX=pe([Bn,hS,Qr,Xr],C3),pX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=pl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ei(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},No=pe([Bn,Qr,mS,H3,V3,mX,hX,Xr],pX),pS=pe([T3,E3,NY],(e,t,n)=>D3(n.shared,e,t)),q3=e=>e.tooltip.settings.trigger,gS=e=>e.tooltip.settings.defaultIndex,Sm=pe([nd,pS,q3,gS],$3),zu=pe([Sm,id,ym,km],fS),K3=pe([No,zu],M3),G3=pe([Sm],e=>{if(e)return e.dataKey}),gX=pe([Sm],e=>{if(e)return e.graphicalItemId}),Y3=pe([nd,pS,q3,gS],R3),xX=pe([yo,bo,Bn,ii,No,gS,Y3,wm],F3),vX=pe([Sm,xX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yX=pe([Sm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bX=pe([Y3,zu,vl,ym,K3,wm,pS],B3),wX=pe([bX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=()=>Ct(Qr),jX=()=>{var e=CX(),t=Ct(No),n=Ct(H3);return eg(!e||!n?void 0:$A($A({},e),{},{scale:n}),t)};function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){AX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},DX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Hc(Hc(Hc({},r),Br(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Hc(Hc(Hc({},r),Br(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var X3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(Ei(p-m)!==Ei(g-p)){var x=[];if(Ei(g-p)===Ei(i[1]-i[0])){y=g;var b=p+i[1]-i[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),A=Math.max(m,g);if(e>(N+p)/2&&e<=(A+p)/2){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var _=0;_<s;_++){var T=t[_];if(T!=null){var M=t[_+1],O=t[_-1];if(_===0&&M!=null&&e<=(T.coordinate+M.coordinate)/2||_===s-1&&O!=null&&e>(T.coordinate+O.coordinate)/2||_>0&&_<s-1&&O!=null&&M!=null&&e>(T.coordinate+O.coordinate)/2&&e<=(T.coordinate+M.coordinate)/2)return T.index}}return-1},OX=()=>Ct(Fk),xS=(e,t)=>t,Q3=(e,t,n)=>n,vS=(e,t,n,r)=>r,IX=pe(No,e=>b0(e,t=>t.coordinate)),yS=pe([nd,xS,Q3,vS],$3),bS=pe([yS,id,ym,km],fS),_X=(e,t,n)=>{if(t!=null){var r=nd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z3=pe([nd,xS,Q3,vS],R3),Sg=pe([yo,bo,Bn,ii,No,vS,Z3,wm],F3),LX=pe([yS,Sg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),J3=pe([No,bS],M3),$X=pe([Z3,bS,vl,ym,J3,wm,xS],B3),FX=pe([yS,bS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),RX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&MX(e,s)){var o=fW(e,t),l=X3(o,a,i,n,r),c=EX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},BX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=C7(e,n);if(o){var l=mW(o,t),c=X3(l,s,a,r,i),d=DX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},zX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?RX(e,t,r,i,a,s,o):BX(e,t,n,r,i,a,s)},UX=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),VX=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(pi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kG}});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=HX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KX={},GX={zIndexMap:Object.values(pi).reduce((e,t)=>BA(BA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KX)},YX=new Set(Object.values(pi));function XX(e){return YX.has(e)}var eL=oa({name:"zIndex",initialState:GX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:or()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!XX(n)&&delete e.zIndexMap[n])},prepare:or()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:or()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:or()}}}),{registerZIndexPortal:QX,unregisterZIndexPortal:ZX,registerZIndexPortalElement:JX,unregisterZIndexPortalElement:eQ}=eL.actions,tQ=eL.reducer;function ys(e){var{zIndex:t,children:n}=e,r=BW(),i=r&&t!==void 0&&t!==0,a=la(),s=Yn();v.useLayoutEffect(()=>i?(s(QX({zIndex:t})),()=>{s(ZX({zIndex:t}))}):am,[s,t,i]);var o=Ct(l=>UX(l,t,a));return i?o?Yu.createPortal(n,o):null:n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wb.apply(null,arguments)}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function sQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=RH,y=pi.cursorLine;else if(d==="BarChart")p=BH(o,f,a,s),g=K5,y=pi.cursorRectangle;else if(o==="radial"&&cI(f)){var{cx:x,cy:b,radius:w,startAngle:S,endAngle:C}=Y5(f);p={cx:x,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},g=Q5,y=pi.cursorLine}else p={points:T7(o,f,a)},g=uk,y=pi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,A=Th(Th(Th(Th({stroke:"#ccc",pointerEvents:"none"},a),p),Ou(l)),{},{payload:h,payloadIndex:m,className:An("recharts-tooltip-cursor",N)});return v.createElement(ys,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(aQ,{cursor:l,cursorComp:g,cursorProps:A}))}function oQ(e){var t=jX(),n=E5(),r=cm(),i=OX();return t==null||n==null||r==null||i==null?null:v.createElement(sQ,Wb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var tL=v.createContext(null),lQ=()=>v.useContext(tL),nL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,C;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(nL);var cQ=nL.exports;const uQ=xs(cQ);var zf=new uQ,Hb="recharts.syncEvent.tooltip",UA="recharts.syncEvent.brush";function rL(e,t){if(t){var n=Number.parseInt(t,10);if(!_s(n))return e==null?void 0:e[n]}}var dQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iL=oa({name:"options",initialState:dQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fQ=iL.reducer,{createEventEmitter:mQ}=iL.actions;function hQ(e){return e.tooltip.syncInteraction}var pQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aL=oa({name:"chartData",initialState:pQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:VA,setDataStartEndIndexes:gQ,setComputedData:uge}=aL.actions,xQ=aL.reducer,vQ=["x","y"];function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kQ(e,t){if(e==null)return{};var n,r,i=SQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NQ(){var e=Ct(Rk),t=Ct(Bk),n=Yn(),r=Ct(X_),i=Ct(No),a=cm(),s=_0(),o=Ct(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return am;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=kQ(m,vQ),{x,y:b,width:w,height:S}=d.payload.sourceViewBox,C=qc(qc({},y),{},{x:s.x+(w?(p-x)/w:0)*s.width,y:s.y+(S?(g-b)/S:0)*s.height});n(qc(qc({},d),{},{payload:qc(qc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,A);N=i[E]}else r==="value"&&(N=i.find(ce=>String(ce.value)===d.payload.label));var{coordinate:_}=d.payload;if(N==null||d.payload.active===!1||_==null||s==null){n(Ub({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:M}=_,O=Math.min(T,s.x+s.width),Y=Math.min(M,s.y+s.height),Q={x:a==="horizontal"?N.coordinate:O,y:a==="horizontal"?Y:N.coordinate},ie=Ub({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ie)}}};return zf.on(Hb,l),()=>{zf.off(Hb,l)}},[o,n,t,e,r,i,a,s])}function CQ(){var e=Ct(Rk),t=Ct(Bk),n=Yn();v.useEffect(()=>{if(e==null)return am;var r=(i,a,s)=>{t!==s&&e===i&&n(gQ(a))};return zf.on(UA,r),()=>{zf.off(UA,r)}},[n,t,e])}function jQ(){var e=Yn();v.useEffect(()=>{e(mQ())},[e]),NQ(),CQ()}function AQ(e,t,n,r,i,a){var s=Ct(m=>_X(m,e,t)),o=Ct(Bk),l=Ct(Rk),c=Ct(X_),d=Ct(hQ),f=d==null?void 0:d.active,h=_0();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Ub({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});zf.emit(Hb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){PQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DQ(e){return e.dataKey}function MQ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(vH,t)}var KA=[],OQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bc(e){var t,n,r=Gr(e,OQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,A=Yn(),E=typeof S=="number"?String(S):S;v.useEffect(()=>{A(TY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:E}))},[A,b,w,N,i,E]);var _=_0(),T=U5(),M=SY(b),{activeIndex:O,isActive:Y}=(t=Ct(U=>FX(U,M,w,E)))!==null&&t!==void 0?t:{},Q=Ct(U=>$X(U,M,w,E)),ie=Ct(U=>J3(U,M,w,E)),ce=Ct(U=>LX(U,M,w,E)),K=Q,G=lQ(),L=(n=i??Y)!==null&&n!==void 0?n:!1,[P,j]=BI([K,L]),W=M==="axis"?ie:void 0;AQ(M,w,ce,W,O,L);var k=C??G;if(k==null||_==null||M==null)return null;var I=K??KA;L||(I=KA),c&&I.length&&(I=PI(I.filter(U=>U.value!=null&&(U.hide!==!0||r.includeHidden)),h,DQ));var ae=I.length>0,ee=v.createElement(CH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:L,coordinate:ce,hasPayload:ae,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:_,wrapperStyle:y,lastBoundingBox:P,innerRef:j,hasPortalFromProps:!!C},MQ(l,qA(qA({},r),{},{payload:I,label:W,active:L,activeIndex:O,coordinate:ce,accessibilityLayer:T})));return v.createElement(v.Fragment,null,Yu.createPortal(ee,k),L&&v.createElement(oQ,{cursor:x,tooltipEventType:M,coordinate:ce,payload:I,index:O}))}var Uu=e=>null;Uu.displayName="Cell";function IQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $Q{constructor(t){IQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ={cacheSize:2e3,enableCache:!0},sL=FQ({},UQ),YA=new $Q(sL.cacheSize),VQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XA="recharts_measurement_span";function WQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var QA=(e,t)=>{try{var n=document.getElementById(XA);n||(n=document.createElement("span"),n.setAttribute("id",XA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,VQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Qd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||B0.isSsr)return{width:0,height:0};if(!sL.enableCache)return QA(t,n);var r=WQ(t,n),i=YA.get(r);if(i)return i;var a=QA(t,n);return YA.set(r,a),a},oL;function HQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QQ=["cm","mm","pt","pc","in","Q","px"];function ZQ(e){return QQ.includes(e)}var uu="NaN";function JQ(e,t){return e*XQ[t]}class hi{static parse(t){var n,[,r,i]=(n=YQ.exec(t))!==null&&n!==void 0?n:[];return r==null?hi.NaN:new hi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_s(t)&&(this.unit=""),n!==""&&!GQ.test(n)&&(this.num=NaN,this.unit=""),ZQ(n)&&(this.num=JQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new hi(NaN,""):new hi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hi(NaN,""):new hi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hi(NaN,""):new hi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hi(NaN,""):new hi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _s(this.num)}}oL=hi;HQ(hi,"NaN",new oL(NaN,""));function lL(e){if(e==null||e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=ZA.exec(t))!==null&&n!==void 0?n:[],s=hi.parse(r??""),o=hi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return uu;t=t.replace(ZA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=JA.exec(t))!==null&&c!==void 0?c:[],m=hi.parse(d??""),p=hi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return uu;t=t.replace(JA,g.toString())}return t}var eP=/\(([^()]*)\)/;function eZ(e){for(var t=e,n;(n=eP.exec(t))!=null;){var[,r]=n;t=t.replace(eP,lL(r))}return t}function tZ(e){var t=e.replace(/\s+/g,"");return t=eZ(t),t=lL(t),t}function nZ(e){try{return tZ(e)}catch{return uu}}function kv(e){var t=nZ(e.slice(5,-1));return t===uu?"":t}var rZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iZ=["dx","dy","angle","className","breakAll"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function tP(e,t){if(e==null)return{};var n,r,i=aZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cL=/[ \f\n\r\t\v\u2028\u2029]+/,uL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Kr(t)||(n?i=t.toString().split(""):i=t.toString().split(cL));var a=i.map(o=>({word:o,width:Qd(o,r).width})),s=n?0:Qd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function sZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var dL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),fL=e=>e.reduce((t,n)=>t.width>n.width?t:n),oZ="",nP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=uL({breakAll:n,style:r,children:l+oZ});if(!c)return[!1,[]];var d=dL(c.wordsWithComputedWidth,a,s,o),f=d.length>i||fL(d).width>Number(a);return[f,d]},lZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=At(a),d=String(s),f=dL(t,r,n,i);if(!c||i)return f;var h=f.length>a||fL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),b=x-1,[w,S]=nP(d,b,l,o,a,r,n,i),[C]=nP(d,x,l,o,a,r,n,i);if(!w&&!C&&(m=x+1),w&&C&&(p=x-1),!w&&C){y=S;break}g++}return y||f},rP=e=>{var t=Kr(e)?[]:e.toString().split(cL);return[{words:t,width:void 0}]},cZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!B0.isSsr){var o,l,c=uL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return rP(r);return lZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return rP(r)},mL="#808080",uZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:mL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ix=v.forwardRef((e,t)=>{var n=Gr(e,uZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=tP(n,rZ),h=v.useMemo(()=>cZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:x}=f,b=tP(f,iZ);if(!Ls(r)||!Ls(i)||h.length===0)return null;var w=Number(r)+(At(m)?m:0),S=Number(i)+(At(p)?p:0);if(!Ur(w)||!Ur(S))return null;var C;switch(d){case"start":C=kv("calc(".concat(s,")"));break;case"middle":C=kv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=kv("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var A=h[0].width,{width:E}=f;N.push("scale(".concat(At(E)&&At(A)?E/A:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",qb({},Vi(b),{ref:t,x:w,y:S,className:An("recharts-text",y),textAnchor:c,fill:o.includes("url")?mL:o}),h.map((_,T)=>{var M=_.words.join(x?"":" ");return v.createElement("tspan",{x:w,dy:T===0?C:a,key:"".concat(M,"-").concat(T)},M)}))});ix.displayName="Text";var dZ=["labelRef"],fZ=["content"];function iP(e,t){if(e==null)return{};var n,r,i=mZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(r){hZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(null,arguments)}var hL=v.createContext(null),xZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(hL.Provider,{value:l},o)},pL=()=>{var e=v.useContext(hL),t=_0();return e||T5(t)},vZ=v.createContext(null),yZ=()=>{var e=v.useContext(vZ),t=Ct(t3);return e||t},bZ=e=>{var{value:t,formatter:n}=e,r=Kr(e.children)?t:e.children;return typeof n=="function"?n(r):r},wS=e=>e!=null&&typeof e=="function",wZ=(e,t)=>{var n=Ei(t-e),r=Math.min(Math.abs(t-e),360);return n*r},kZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=wZ(f,h),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=h-y*a,b=!m;break;case"end":x=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Br(o,l,p,x),S=Br(o,l,p,x+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Kr(e.id)?Pf("recharts-radial-line-"):e.id;return v.createElement("text",Gs({},r,{dominantBaseline:"central",className:An("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},SZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Br(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Br(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Kb=e=>"cx"in e&&At(e.cx),NZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Kb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,x=y*r,b=y>0?"end":"start",w=y>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",A=S>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return Er(Er({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:w};return Er(Er({},_),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Er(Er({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var M={x:m+p+C,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Er(Er({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Er({x:m+C,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},O):i==="insideRight"?Er({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?Er({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:w},O):i==="insideBottom"?Er({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?Er({x:f+C,y:o+x,textAnchor:A,verticalAnchor:w},O):i==="insideTopRight"?Er({x:f+l-C,y:o+x,textAnchor:N,verticalAnchor:w},O):i==="insideBottomLeft"?Er({x:h+C,y:o+d-x,textAnchor:A,verticalAnchor:b},O):i==="insideBottomRight"?Er({x:h+c-C,y:o+d-x,textAnchor:N,verticalAnchor:b},O):i&&typeof i=="object"&&(At(i.x)||uo(i.x))&&(At(i.y)||uo(i.y))?Er({x:s+ba(i.x,p),y:o+ba(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Er({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},CZ={angle:0,offset:5,zIndex:pi.label,position:"middle",textBreakAll:!1};function Bo(e){var t=Gr(e,CZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=yZ(),f=pL(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:Kb(n)?m=n:m=T5(n),!m||Kr(i)&&Kr(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Er(Er({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=y,b=iP(y,dZ);return v.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,S=iP(y,fZ);if(p=v.createElement(s,S),v.isValidElement(p))return p}else p=bZ(t);var C=Vi(t);if(Kb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return kZ(t,r,p,C,m);g=SZ(m,t.offset,t.position)}else g=NZ(t,m);return v.createElement(ys,{zIndex:t.zIndex},v.createElement(ix,Gs({ref:c,className:An("recharts-label",o)},C,g,{textAnchor:sZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}Bo.displayName="Label";var jZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Bo,Gs({key:"label-implicit"},r)):Ls(e)?v.createElement(Bo,Gs({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Bo?v.cloneElement(e,Er({key:"label-implicit"},r)):v.createElement(Bo,Gs({key:"label-implicit",content:e},r)):wS(e)?v.createElement(Bo,Gs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Bo,Gs({},e,{key:"label-implicit"},r)):null};function AZ(e){var{label:t,labelRef:n}=e,r=pL();return jZ(t,r,n)||null}var gL={},xL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(xL);var vL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(vL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xL,n=vL,r=x0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(gL);var PZ=gL.last;const TZ=xs(PZ);var EZ=["valueAccessor"],DZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}function sP(e,t){if(e==null)return{};var n,r,i=MZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OZ=e=>Array.isArray(e.value)?TZ(e.value):e.value,yL=v.createContext(void 0),IZ=yL.Provider,bL=v.createContext(void 0),_Z=bL.Provider;function LZ(){return v.useContext(yL)}function $Z(){return v.useContext(bL)}function rp(e){var{valueAccessor:t=OZ}=e,n=sP(e,EZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=sP(n,DZ),c=LZ(),d=$Z(),f=c||d;return!f||!f.length?null:v.createElement(ys,{zIndex:o??pi.label},v.createElement(ia,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Kr(r)?t(h,m):ir(h&&h.payload,r),y=Kr(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(Bo,Ng({key:"label-".concat(m)},Vi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}rp.displayName="LabelList";function wL(e){var{label:t}=e;return t?t===!0?v.createElement(rp,{key:"labelList-implicit"}):v.isValidElement(t)||wS(t)?v.createElement(rp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(rp,Ng({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}var kL=e=>{var{cx:t,cy:n,r,className:i}=e,a=An("recharts-dot",i);return At(t)&&At(n)&&At(r)?v.createElement("circle",Gb({},Ha(e),B1(e),{className:a,cx:t,cy:n,r})):null},SL=e=>e.graphicalItems.polarItems,FZ=pe([ur,gm],qk),ax=pe([SL,yr,FZ],Kk),RZ=pe([ax],Gk),sx=pe([RZ,Ik],Yk),BZ=pe([sx,yr,ax],Qk);pe([sx,yr,ax],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=ir(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ir(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var oP=()=>{},zZ=pe([sx,yr,ax,ex,ur],tS),UZ=pe([yr,Jk,eS,oP,zZ,oP,Bn,ur],nS),NL=pe([yr,Bn,sx,BZ,pm,ur,UZ],rS),VZ=pe([NL,yr,td],sS);pe([yr,NL,VZ,ur],lS);var WZ={radiusAxis:{},angleAxis:{}},CL=oa({name:"polarAxis",initialState:WZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dge,removeRadiusAxis:fge,addAngleAxis:mge,removeAngleAxis:hge}=CL.actions,HZ=CL.reducer;function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(r){qZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YZ=(e,t)=>t,kS=pe([SL,YZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),XZ=[],SS=(e,t,n)=>(n==null?void 0:n.length)===0?XZ:n,jL=pe([Ik,kS,SS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>cP(cP({},t.presentationProps),a.props))),i!=null)return i}}),QZ=pe([jL,kS,SS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=ir(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:E0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),ZZ=pe([jL,kS,SS,ii],(e,t,n,r)=>{if(!(t==null||e==null))return dee({offset:r,pieSettings:t,displayedData:e,cells:n})}),AL={exports:{}},Hn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=60103,lx=60106,Nm=60107,Cm=60108,jm=60114,Am=60109,Pm=60110,Tm=60112,Em=60113,NS=60120,Dm=60115,Mm=60116,PL=60121,TL=60122,EL=60117,DL=60129,ML=60131;if(typeof Symbol=="function"&&Symbol.for){var di=Symbol.for;ox=di("react.element"),lx=di("react.portal"),Nm=di("react.fragment"),Cm=di("react.strict_mode"),jm=di("react.profiler"),Am=di("react.provider"),Pm=di("react.context"),Tm=di("react.forward_ref"),Em=di("react.suspense"),NS=di("react.suspense_list"),Dm=di("react.memo"),Mm=di("react.lazy"),PL=di("react.block"),TL=di("react.server.block"),EL=di("react.fundamental"),DL=di("react.debug_trace_mode"),ML=di("react.legacy_hidden")}function bs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ox:switch(e=e.type,e){case Nm:case jm:case Cm:case Em:case NS:return e;default:switch(e=e&&e.$$typeof,e){case Pm:case Tm:case Mm:case Dm:case Am:return e;default:return t}}case lx:return t}}}var JZ=Am,eJ=ox,tJ=Tm,nJ=Nm,rJ=Mm,iJ=Dm,aJ=lx,sJ=jm,oJ=Cm,lJ=Em;Hn.ContextConsumer=Pm;Hn.ContextProvider=JZ;Hn.Element=eJ;Hn.ForwardRef=tJ;Hn.Fragment=nJ;Hn.Lazy=rJ;Hn.Memo=iJ;Hn.Portal=aJ;Hn.Profiler=sJ;Hn.StrictMode=oJ;Hn.Suspense=lJ;Hn.isAsyncMode=function(){return!1};Hn.isConcurrentMode=function(){return!1};Hn.isContextConsumer=function(e){return bs(e)===Pm};Hn.isContextProvider=function(e){return bs(e)===Am};Hn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ox};Hn.isForwardRef=function(e){return bs(e)===Tm};Hn.isFragment=function(e){return bs(e)===Nm};Hn.isLazy=function(e){return bs(e)===Mm};Hn.isMemo=function(e){return bs(e)===Dm};Hn.isPortal=function(e){return bs(e)===lx};Hn.isProfiler=function(e){return bs(e)===jm};Hn.isStrictMode=function(e){return bs(e)===Cm};Hn.isSuspense=function(e){return bs(e)===Em};Hn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nm||e===jm||e===DL||e===Cm||e===Em||e===NS||e===ML||typeof e=="object"&&e!==null&&(e.$$typeof===Mm||e.$$typeof===Dm||e.$$typeof===Am||e.$$typeof===Pm||e.$$typeof===Tm||e.$$typeof===EL||e.$$typeof===PL||e[0]===TL)};Hn.typeOf=bs;AL.exports=Hn;var cJ=AL.exports,uP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dP=null,Sv=null,OL=e=>{if(e===dP&&Array.isArray(Sv))return Sv;var t=[];return v.Children.forEach(e,n=>{Kr(n)||(cJ.isFragment(n)?t=t.concat(OL(n.props.children)):t.push(n))}),Sv=t,dP=e,t};function IL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>uP(i)):r=[uP(t)],OL(e).forEach(i=>{var a=hc(i,"type.displayName")||hc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var _L=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,LL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(LL);var uJ=LL.isPlainObject;const dJ=xs(uJ);var fP,mP,hP,pP,gP;function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(null,arguments)}function Pd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yP=(e,t,n,r,i)=>{var a=n-r,s;return s=Sr(fP||(fP=Pd(["M ",",",""])),e,t),s+=Sr(mP||(mP=Pd(["L ",",",""])),e+n,t),s+=Sr(hP||(hP=Pd(["L ",",",""])),e+n-a/2,t+i),s+=Sr(pP||(pP=Pd(["L ",",",""])),e+n-a/2-r,t+i),s+=Sr(gP||(gP=Pd(["L ",","," Z"])),e,t),s},pJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gJ=e=>{var t=Gr(e,pJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),b=v.useRef(n),w=v.useRef(r),S=U0(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Q=h.current.getTotalLength();Q&&p(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=An("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",Cg({},Vi(t),{className:C,d:yP(n,r,i,a,s)})));var N=g.current,A=y.current,E=x.current,_=b.current,T=w.current,M="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),Y=V5(["strokeDasharray"],c,l);return v.createElement(z0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Q=>{var ie=Ti(N,i,Q),ce=Ti(A,a,Q),K=Ti(E,s,Q),G=Ti(_,n,Q),L=Ti(T,r,Q);h.current&&(g.current=ie,y.current=ce,x.current=K,b.current=G,w.current=L);var P=Q>0?{transition:Y,strokeDasharray:O}:{strokeDasharray:M};return v.createElement("path",Cg({},Vi(t),{className:C,d:yP(G,L,ie,ce,K),ref:h,style:vP(vP({},P),t.style)}))})},xJ=["option","shapeType","activeClassName"];function vJ(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SJ(e,t){return jg(jg({},t),e)}function NJ(e,t){return e==="symbols"}function wP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(K5,n);case"trapezoid":return v.createElement(gJ,n);case"sector":return v.createElement(Q5,n);case"symbols":if(NJ(t))return v.createElement(R1,n);break;case"curve":return v.createElement(uk,n);default:return null}}function CJ(e){return v.isValidElement(e)?e.props:e}function $L(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=vJ(e,xJ),a;if(v.isValidElement(t))a=v.cloneElement(t,jg(jg({},i),CJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(dJ(t)&&typeof t!="boolean"){var s=SJ(t,i);a=v.createElement(wP,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(wP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(ia,{className:r},a):a}var jJ=(e,t,n)=>{var r=Yn();return(i,a)=>s=>{e==null||e(i,a,s),r(I3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},AJ=e=>{var t=Yn();return(n,r)=>i=>{e==null||e(n,r,i),t(EY())}},PJ=(e,t,n)=>{var r=Yn();return(i,a)=>s=>{e==null||e(i,a,s),r(DY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function FL(e){var{tooltipEntrySettings:t}=e,n=Yn(),r=la(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(jY(t)):i.current!==t&&n(AY({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(PY(i.current)),i.current=null)},[n]),null}function TJ(e){var{legendPayload:t}=e,n=Yn(),r=la(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(F5(t)):i.current!==t&&n(R5({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(B5(i.current)),i.current=null)},[n]),null}function EJ(e){var{legendPayload:t}=e,n=Yn(),r=Ct(Bn),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(F5(t)):i.current!==t&&n(R5({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(B5(i.current)),i.current=null)},[n]),null}var Nv,DJ=()=>{var[e]=v.useState(()=>Pf("uid-"));return e},MJ=(Nv=WR.useId)!==null&&Nv!==void 0?Nv:DJ;function OJ(e,t){var n=MJ();return t||(e?"".concat(e,"-").concat(n):n)}var IJ=v.createContext(void 0),RL=e=>{var{id:t,type:n,children:r}=e,i=OJ("recharts-".concat(n),t);return v.createElement(IJ.Provider,{value:i},r(i))},_J={cartesianItems:[],polarItems:[]},BL=oa({name:"graphicalItems",initialState:_J,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:or()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=cs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:or()},removeCartesianGraphicalItem:{reducer(e,t){var n=cs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:or()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:or()},removePolarGraphicalItem:{reducer(e,t){var n=cs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:or()}}}),{addCartesianGraphicalItem:LJ,replaceCartesianGraphicalItem:$J,removeCartesianGraphicalItem:FJ,addPolarGraphicalItem:RJ,removePolarGraphicalItem:BJ}=BL.actions,zJ=BL.reducer,UJ=e=>{var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(LJ(e)):n.current!==e&&t($J({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(FJ(n.current)),n.current=null)},[t]),null},VJ=v.memo(UJ);function WJ(e){var t=Yn();return v.useLayoutEffect(()=>(t(RJ(e)),()=>{t(BJ(e))}),[t,e]),null}var HJ=["key"],qJ=["onMouseEnter","onClick","onMouseLeave"],KJ=["id"],GJ=["id"];function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){YJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YJ(e,t,n){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(null,arguments)}function cx(e,t){if(e==null)return{};var n,r,i=ZJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JJ(e){var t=v.useMemo(()=>IL(e.children,Uu),[e.children]),n=Ct(r=>QZ(r,e.id,t));return n==null?null:v.createElement(EJ,{legendPayload:n})}var eee=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:E0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return v.createElement(FL,{tooltipEntrySettings:f})}),tee=(e,t)=>e>t?"start":e<t?"end":"middle",nee=(e,t,n)=>ba(typeof t=="function"?t(e):t,n,n*.8),ree=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=G5(a,s),l=i+ba(e.cx,a,a/2),c=r+ba(e.cy,s,s/2),d=ba(e.innerRadius,o,0),f=nee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},iee=(e,t)=>{var n=Ei(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function aee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var see=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=An("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=cx(t,HJ);return v.createElement(uk,cl({},i,{type:"linear",className:n}))},oee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=An("recharts-pie-label-text",aee(e));return v.createElement(ix,cl({},t,{alignmentBaseline:"middle",className:i}),r)};function lee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ha(n),l=Ou(i),c=Ou(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Br(h.cx,h.cy,h.outerRadius+d,p),y=Cr(Cr(Cr(Cr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:tee(g.x,h.cx)},g),x=Cr(Cr(Cr(Cr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Br(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(ys,{zIndex:pi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(ia,null,a&&see(a,x),oee(i,y,ir(h,s))))});return v.createElement(ia,{className:"recharts-pie-labels"},f)}function cee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(wL,{label:i}):v.createElement(lee,{sectors:t,props:n,showLabels:r})}function uee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Ct(zu),l=Ct(G3),c=Ct(gX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=cx(i,qJ),p=jJ(d,i.dataKey,s),g=AJ(h),y=PJ(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,S=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&S?n:C,A=Cr(Cr({},x),{},{stroke:x.stroke,tabIndex:-1,[b5]:b,[w5]:s});return v.createElement(ia,cl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},z1(m,x,b),{onMouseEnter:p(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),v.createElement($L,cl({option:a??N,index:b,shapeType:"sector",isActive:S},A)))}))}function dee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=iee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>ir(N,c,0)!==0).length,x=(p>=360?y:y-1)*g,b=p-y*h-x,w=r.reduce((N,A)=>{var E=ir(A,c,0);return N+(At(E)?E:0)},0),S;if(w>0){var C;S=r.map((N,A)=>{var E=ir(N,c,0),_=ir(N,d,A),T=ree(n,a,N),M=(At(E)?E:0)/w,O,Y=Cr(Cr({},N),i&&i[A]&&i[A].props);A?O=C.endAngle+Ei(m)*g*(E!==0?1:0):O=o;var Q=O+Ei(m)*((E!==0?h:0)+M*b),ie=(O+Q)/2,ce=(T.innerRadius+T.outerRadius)/2,K=[{name:_,value:E,payload:Y,dataKey:c,type:f,graphicalItemId:n.id}],G=Br(T.cx,T.cy,ce,ie);return C=Cr(Cr(Cr(Cr({},n.presentationProps),{},{percent:M,cornerRadius:typeof s=="string"?parseFloat(s):s,name:_,tooltipPayload:K,midAngle:ie,middleRadius:ce,tooltipPosition:G},Y),T),{},{value:E,dataKey:c,startAngle:O,endAngle:Q,payload:Y,paddingAngle:Ei(m)*g}),C})}return S}function fee(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(_Z,{value:t?i:void 0},r)}function mee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=U0(t,"recharts-pie-"),p=n.current,[g,y]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=v.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return v.createElement(fee,{showLabels:!g,sectors:i},v.createElement(z0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},w=>{var S=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((A,E)=>{var _=p&&p[E],T=E>0?hc(A,"paddingAngle",0):0;if(_){var M=Ti(_.endAngle-_.startAngle,A.endAngle-A.startAngle,w),O=Cr(Cr({},A),{},{startAngle:N+T,endAngle:N+M+T});S.push(O),N=O.endAngle}else{var{endAngle:Y,startAngle:Q}=A,ie=Ti(0,Y-Q,w),ce=Cr(Cr({},A),{},{startAngle:N+T,endAngle:N+ie+T});S.push(ce),N=ce.endAngle}}),n.current=S,v.createElement(ia,null,v.createElement(uee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(cee,{showLabels:!g,sectors:i,props:t}),t.children)}var hee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pi.area};function pee(e){var{id:t}=e,n=cx(e,KJ),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>IL(e.children,Uu),[e.children]),o=Ct(d=>ZZ(d,t,s)),l=v.useRef(null),c=An("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(ia,{tabIndex:a,className:c})):v.createElement(ys,{zIndex:e.zIndex},v.createElement(eee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(ia,{tabIndex:a,className:c},v.createElement(mee,{props:Cr(Cr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Ag(e){var t=Gr(e,hee),{id:n}=t,r=cx(t,GJ),i=Ha(r);return v.createElement(RL,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(WJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement(JJ,cl({},r,{id:a})),v.createElement(pee,cl({},r,{id:a}))))}Ag.displayName="Pie";var gee=["points"];function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){xee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xee(e,t,n){return(t=vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}function bee(e,t){if(e==null)return{};var n,r,i=wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=An(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=bee(a,gee);return v.createElement(kL,Pg({},o,{className:i}))}function See(e,t){return e==null?!1:t?!0:e.length===1}function Nee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=pi.scatter}=e;if(!See(t,n))return null;var d=_L(n),f=n8(n),h=t.map((p,g)=>{var y,x,b=Cv(Cv(Cv({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement(kee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(ys,{zIndex:c},v.createElement(ia,Pg({className:r},m),h))}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pee={xAxis:{},yAxis:{},zAxis:{}},zL=oa({name:"cartesianAxis",initialState:Pee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:or()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:or()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:or()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:or()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:or()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:or()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:or()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:or()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:or()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=CP(CP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Tee,replaceXAxis:Eee,removeXAxis:Dee,addYAxis:Mee,replaceYAxis:Oee,removeYAxis:Iee,addZAxis:pge,replaceZAxis:gge,removeZAxis:xge,updateYAxisWidth:_ee}=zL.actions,Lee=zL.reducer,$ee=pe([ii],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fee=pe([$ee,yo,bo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),CS=()=>Ct(Fee),Ree=()=>Ct(wX);function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){Bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t,n){return(t=zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=jv(jv(jv({},o),Ou(i)),B1(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(kL,l),v.createElement(ia,{className:"recharts-active-dot",clipPath:s},c)};function Wee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=pi.activeDot}=e,o=Ct(zu),l=Ree();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Kr(c)?null:v.createElement(ys,{zIndex:s},v.createElement(Vee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var UL=e=>{var{chartData:t}=e,n=Yn(),r=la();return v.useEffect(()=>r?()=>{}:(n(VA(t)),()=>{n(VA(void 0))}),[t,n,r]),null},AP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VL=oa({name:"brush",initialState:AP,reducers:{setBrushSettings(e,t){return t.payload==null?AP:t.payload}}}),{setBrushSettings:vge}=VL.actions,Hee=VL.reducer;function qee(e,t,n){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jS{static create(t){return new jS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}qee(jS,"EPS",1e-4);function Yee(e){return(e%180+180)%180}var Xee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Qee={dots:[],areas:[],lines:[]},WL=oa({name:"referenceElements",initialState:Qee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=cs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=cs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=cs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:yge,removeDot:bge,addArea:wge,removeArea:kge,addLine:Sge,removeLine:Nge}=WL.actions,Zee=WL.reducer,Jee=v.createContext(void 0),ete=e=>{var{children:t}=e,[n]=v.useState("".concat(Pf("recharts"),"-clip")),r=CS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(Jee.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function HL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function tte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Xee(r,n)}function nte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Uf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function rte(e,t){return HL(e,t+1)}function ite(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:HL(r,c)};var g=l,y,x=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Uf(e,b,x,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ate(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,S,C=()=>(S===void 0&&(S=n(b,w)),S),N=b.coordinate,A=p===d||Uf(e,N,C,f,l);if(!A)return h=!1,1;A&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ste(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=ji(ji({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=ji(ji({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Uf(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=ji(ji({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function ute(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=ji(ji({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Uf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=ji(ji({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],S,C=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=ji(ji({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=ji(ji({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=Uf(e,w.tickCoord,C,l,c);A&&(l=w.tickCoord+e*(C()/2+i),s[b]=ji(ji({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function AS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(At(l)||B0.isSsr){var h;return(h=rte(i,At(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Qd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return p==="width"?tte(Qd(C,{fontSize:t,letterSpacing:n}),g,f):Qd(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?Ei(i[1].coordinate-i[0].coordinate):1,b=nte(a,x,p);return l==="equidistantPreserveStart"?ite(x,b,y,i,s):l==="equidistantPreserveEnd"?ate(x,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=ute(x,b,y,i,s,l==="preserveStartEnd"):m=cte(x,b,y,i,s),m.filter(w=>w.isShow))}var dte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},fte=["axisLine","width","height","className","hide","ticks","axisType"];function mte(e,t){if(e==null)return{};var n,r,i=hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(null,arguments)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ro={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pi.axis};function vte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Fr(Fr(Fr({},l),Ha(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Fr(Fr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Fr(Fr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",wc({},c,{className:An("recharts-cartesian-axis-line",hc(o,"className"))}))}function yte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,x=At(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=x;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function bte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function kte(e){var{option:t,tickProps:n,value:r}=e,i,a=An(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Fr(Fr({},n),{},{className:a}));else if(typeof t=="function")i=t(Fr(Fr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=An(s,t==null?void 0:t.className)),i=v.createElement(ix,wc({},n,{className:s}),r)}return i}var Ste=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,A=AS(Fr(Fr({},S),{},{ticks:n}),b,w),E=bte(d,f),_=wte(d,f),T=Ha(S),M=Ou(r),O={};typeof i=="object"&&(O=i);var Y=Fr(Fr({},T),{},{fill:"none"},O),Q=A.map(K=>Fr({entry:K},yte(K,h,m,p,g,d,y,f,x))),ie=Q.map(K=>{var{entry:G,line:L}=K;return v.createElement(ia,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&v.createElement("line",wc({},Y,L,{className:An("recharts-cartesian-axis-tick-line",hc(i,"className"))})))}),ce=Q.map((K,G)=>{var{entry:L,tick:P}=K,j=Fr(Fr(Fr(Fr({textAnchor:E,verticalAnchor:_},T),{},{stroke:"none",fill:a},M),P),{},{index:G,payload:L,visibleTicksCount:A.length,tickFormatter:s,padding:l},c);return v.createElement(ia,wc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},z1(C,L,G)),r&&v.createElement(kte,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(L.value,G):L.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ce.length>0&&v.createElement(ys,{zIndex:pi.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ce)),ie.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ie))}),Nte=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=mte(e,fte),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return dte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==h)&&(f(S),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(ys,{zIndex:e.zIndex},v.createElement(ia,{className:An("recharts-cartesian-axis",a)},v.createElement(vte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ha(e)}),v.createElement(Ste,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(xZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(AZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),PS=v.forwardRef((e,t)=>{var n=Gr(e,ro);return v.createElement(Nte,wc({},n,{ref:t}))});PS.displayName="CartesianAxis";var Cte=["x1","y1","x2","y2","key"],jte=["offset"],Ate=["xAxisId","yAxisId"],Pte=["xAxisId","yAxisId"];function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}function Tg(e,t){if(e==null)return{};var n,r,i=Mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ote=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qL(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Tg(n,Cte),f=(i=Ha(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Tg(f,jte);r=v.createElement("line",Zl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Ite(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Tg(e,Ate),l=i.map((c,d)=>{var f=Pi(Pi({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(qL,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _te(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Tg(e,Pte),l=i.map((c,d)=>{var f=Pi(Pi({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(qL,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $te(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Fte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return x5(AS(Pi(Pi(Pi({},ro),n),{},{ticks:v5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Rte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return x5(AS(Pi(Pi(Pi({},ro),n),{},{ticks:v5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Bte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pi.grid};function Vf(e){var t=sk(),n=ok(),r=E5(),i=Pi(Pi({},Gr(e,Bte)),{},{x:At(e.x)?e.x:r.left,y:At(e.y)?e.y:r.top,width:At(e.width)?e.width:r.width,height:At(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=la(),g=Ct(_=>MA(_,"xAxis",a,p)),y=Ct(_=>MA(_,"yAxis",s,p));if(!$s(c)||!$s(d)||!At(o)||!At(l))return null;var x=i.verticalCoordinatesGenerator||Fte,b=i.horizontalCoordinatesGenerator||Rte,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?Pi(Pi({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);tg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof x=="function"){var A=m&&m.length,E=x({xAxis:g?Pi(Pi({},g),{},{ticks:A?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},A?!0:f);tg(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(S=E)}return v.createElement(ys,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Ote,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Lte,Zl({},i,{horizontalPoints:w})),v.createElement($te,Zl({},i,{verticalPoints:S})),v.createElement(Ite,Zl({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),v.createElement(_te,Zl({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y}))))}Vf.displayName="CartesianGrid";var zte={},KL=oa({name:"errorBars",initialState:zte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Cge,replaceErrorBar:jge,removeErrorBar:Age}=KL.actions,Ute=KL.reducer,Vte=["children"];function Wte(e,t){if(e==null)return{};var n,r,i=Hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kte=v.createContext(qte);function Gte(e){var{children:t}=e,n=Wte(e,Vte);return v.createElement(Kte.Provider,{value:n},t)}function GL(e,t){var n,r,i=Ct(c=>ko(c,e)),a=Ct(c=>So(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Jr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ei.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Yte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=CS(),{needClipX:a,needClipY:s,needClip:o}=GL(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var YL=(e,t,n,r)=>P3(e,"xAxis",t,r),XL=(e,t,n,r)=>A3(e,"xAxis",t,r),QL=(e,t,n,r)=>P3(e,"yAxis",n,r),ZL=(e,t,n,r)=>A3(e,"yAxis",n,r),Xte=pe([Bn,YL,QL,XL,ZL],(e,t,n,r,i)=>pl(e,"xAxis")?eg(t,r,!1):eg(n,i,!1)),Qte=(e,t,n,r,i)=>i;function Zte(e){return e.type==="line"}var Jte=pe([o3,Qte],(e,t)=>e.filter(Zte).find(n=>n.id===t)),ene=pe([Bn,YL,QL,XL,ZL,Jte,Xte,_k],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Hne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function tne(e){var t=Ou(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var nne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=v;function rne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ine=typeof Object.is=="function"?Object.is:rne,ane=Om.useSyncExternalStore,sne=Om.useRef,one=Om.useEffect,lne=Om.useMemo,cne=Om.useDebugValue;nne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=sne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=lne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,ine(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=ane(e,a[0],a[1]);return one(function(){s.hasValue=!0,s.value=o},[o]),cne(o),o};function une(e){e()}function dne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){une(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var DP={notify(){},get:()=>[]};function fne(e,t){let n,r=DP,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=dne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=DP)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var mne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hne=mne(),pne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gne=pne(),xne=()=>hne||gne?v.useLayoutEffect:v.useEffect,vne=xne();function MP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yne(e,t){if(MP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!MP(e[n[i]],t[n[i]]))return!1;return!0}var Av=Symbol.for("react-redux-context"),Pv=typeof globalThis<"u"?globalThis:{};function bne(){if(!v.createContext)return{};const e=Pv[Av]??(Pv[Av]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var wne=bne();function kne(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=fne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);vne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||wne;return v.createElement(o.Provider,{value:a},t)}var Sne=kne,Nne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function TS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Nne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yne(e[r],t[r]))return!1}else if(!Cne(e[r],t[r]))return!1;return!0}var jne=["id"],Ane=["type","layout","connectNulls","needClip","shape"],Pne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(null,arguments)}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ES(e,t){if(e==null)return{};var n,r,i=Mne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var One=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:E0(n,t),payload:e}]},Ine=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:E0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(FL,{tooltipEntrySettings:f})}),JL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _ne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Lne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return JL(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[..._ne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function $ne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=ES(r,jne),c=Ha(l);return v.createElement(Nee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Fne(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ps(Ps({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(IZ,{value:t?i:void 0},n)}function IP(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=ES(a,Ane),h=Ps(Ps({},Vi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement($L,Wf({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement($ne,{points:r,clipPathId:t,props:a}))}function Rne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,x=i.current,b=U0(s,"recharts-line-"),w=v.useRef(b),[S,C]=v.useState(!1),N=!S,A=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),E=v.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),_=Rne(r.current),T=v.useRef(0);w.current!==b&&(T.current=a.current,w.current=b);var M=T.current;return v.createElement(Fne,{points:s,showLabels:N},n.children,v.createElement(z0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:E,key:b},O=>{var Y=Ti(M,_+M,O),Q=Math.min(Y,_),ie;if(l)if(o){var ce="".concat(o).split(/[,\s]+/gim).map(L=>parseFloat(L));ie=Lne(Q,_,ce)}else ie=JL(_,Q);else ie=o==null?void 0:String(o);if(O>0&&_>0&&(i.current=s,a.current=Math.max(a.current,Q)),x){var K=x.length/s.length,G=O===1?s:s.map((L,P)=>{var j=Math.floor(P*K);if(x[j]){var W=x[j];return Ps(Ps({},L),{},{x:Ti(W.x,L.x,O),y:Ti(W.y,L.y,O)})}return h?Ps(Ps({},L),{},{x:Ti(m*2,L.x,O),y:Ti(p/2,L.y,O)}):Ps(Ps({},L),{},{x:L.x,y:L.y})});return i.current=G,v.createElement(IP,{props:n,points:G,clipPathId:t,pathRef:r,strokeDasharray:ie})}return v.createElement(IP,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ie})}),v.createElement(wL,{label:n.label}))}function zne(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(Bne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Une=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:ir(e.payload,t)}};class Vne extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=An("recharts-line",i),g=f,{r:y,strokeWidth:x}=tne(n),b=_L(n),w=y*2+x,S=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return v.createElement(ys,{zIndex:m},v.createElement(ia,{className:p},h&&v.createElement("defs",null,v.createElement(Yte,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),v.createElement(Gte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Une,errorBarOffset:0},v.createElement(zne,{props:this.props,clipPathId:g}))),v.createElement(Wee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var e4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pi.line,type:"linear"};function Wne(e){var t=Gr(e,e4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=ES(t,Pne),{needClip:x}=GL(m,p),b=CS(),w=cm(),S=la(),C=Ct(T=>ene(T,m,p,S,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:A,x:E,y:_}=b;return v.createElement(Vne,Wf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:A,left:E,top:_,needClip:x}))}function Hne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=ir(c,s);if(t==="horizontal"){var h=WC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Kr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Kr(f)?null:n.scale(f),g=WC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function qne(e){var t=Gr(e,e4),n=la();return v.createElement(RL,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(TJ,{legendPayload:One(t)}),v.createElement(Ine,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(VJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Wne,Wf({},t,{id:r}))))}var Ys=v.memo(qne,TS);Ys.displayName="Line";var Kne=["domain","range"],Gne=["domain","range"];function _P(e,t){if(e==null)return{};var n,r,i=Yne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function t4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=_P(e,Kne),{domain:a,range:s}=t,o=_P(t,Gne);return!LP(n,a)||!LP(r,s)?!1:TS(i,o)}var Xne=["dangerouslySetInnerHTML","ticks","scale"],Qne=["id","scale"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}function $P(e,t){if(e==null)return{};var n,r,i=Zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jne(e){var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Tee(e)):n.current!==e&&t(Eee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var ere=e=>{var{xAxisId:t,className:n}=e,r=Ct(k5),i=la(),a="xAxis",s=Ct(x=>j3(x,a,t,i)),o=Ct(x=>cY(x,t)),l=Ct(x=>pY(x,t)),c=Ct(x=>i3(x,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=$P(e,Xne),{id:p,scale:g}=c,y=$P(c,Qne);return v.createElement(PS,Yb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:An("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},tre={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,angle:Jr.angle,axisLine:ro.axisLine,height:Jr.height,hide:!1,includeHidden:Jr.includeHidden,interval:Jr.interval,minTickGap:Jr.minTickGap,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,tickLine:ro.tickLine,tickSize:ro.tickSize,type:Jr.type,xAxisId:0},nre=e=>{var t=Gr(e,tre);return v.createElement(v.Fragment,null,v.createElement(Jne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(ere,t))},Hf=v.memo(nre,t4);Hf.displayName="XAxis";var rre=["dangerouslySetInnerHTML","ticks","scale"],ire=["id","scale"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function FP(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sre(e){var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Oee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Iee(n.current)),n.current=null)},[t]),null}var ore=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=Ct(k5),l=la(),c=Yn(),d="yAxis",f=Ct(N=>vY(N,t)),h=Ct(N=>xY(N,t)),m=Ct(N=>j3(N,d,t,l)),p=Ct(N=>a3(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||wS(i)||v.isValidElement(i)||p==null)){var N=a.current;if(N){var A=N.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&c(_ee({id:t,width:A}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,b=FP(e,rre),{id:w,scale:S}=p,C=FP(p,ire);return v.createElement(PS,Xb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:An("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},lre={allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,angle:ei.angle,axisLine:ro.axisLine,hide:!1,includeHidden:ei.includeHidden,interval:ei.interval,minTickGap:ei.minTickGap,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,tickLine:ro.tickLine,tickSize:ro.tickSize,type:ei.type,width:ei.width,yAxisId:0},cre=e=>{var t=Gr(e,lre);return v.createElement(v.Fragment,null,v.createElement(sre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(ore,t))},qf=v.memo(cre,t4);qf.displayName="YAxis";var ure=(e,t)=>t,DS=pe([ure,Bn,t3,Xr,W3,No,IX,ii],zX),MS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},n4=qa("mouseClick"),r4=om();r4.startListening({actionCreator:n4,effect:(e,t)=>{var n=e.payload,r=DS(t.getState(),MS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Qb=qa("mouseMove"),i4=om(),Eh=null;i4.startListening({actionCreator:Qb,effect:(e,t)=>{var n=e.payload;Eh!==null&&cancelAnimationFrame(Eh);var r=MS(n);Eh=requestAnimationFrame(()=>{var i=t.getState(),a=dS(i,i.tooltip.settings.shared);if(a==="axis"){var s=DS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(L3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(_3())}Eh=null})}});function dre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var RP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},a4=oa({name:"rootProps",initialState:RP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:RP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fre=a4.reducer,{updateOptions:mre}=a4.actions,s4=oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hre}=s4.actions,pre=s4.reducer,o4=qa("keyDown"),l4=qa("focus"),OS=om();OS.startListening({actionCreator:o4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=fS(i,id(n),ym(n),km(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=No(n);if(a==="Enter"){var c=Sg(n,"axis","hover",String(i.index));t.dispatch(Vb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=kY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=Sg(n,"axis","hover",String(m));t.dispatch(Vb({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});OS.startListening({actionCreator:l4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Sg(n,"axis","hover",String(a));t.dispatch(Vb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ia=qa("externalEvent"),c4=om(),Tv=new Map;c4.startListening({actionCreator:Ia,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Tv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:vX(o),activeDataKey:G3(o),activeIndex:zu(o),activeLabel:K3(o),activeTooltipIndex:zu(o),isTooltipActive:yX(o)};n(l,r)}finally{Tv.delete(i)}});Tv.set(i,s)}}});var gre=pe([nd],e=>e.tooltipItemPayloads),xre=pe([gre,wm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),u4=qa("touchMove"),d4=om();d4.startListening({actionCreator:u4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=dS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=DS(r,MS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(L3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(b5),f=(o=c.getAttribute(w5))!==null&&o!==void 0?o:void 0,h=rd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=xre(r,d,f);t.dispatch(I3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var vre=UI({brush:Hee,cartesianAxis:Lee,chartData:xQ,errorBars:Ute,graphicalItems:zJ,layout:J9,legend:eH,options:fQ,polarAxis:HZ,polarOptions:pre,referenceElements:Zee,rootProps:fre,tooltip:OY,zIndex:tQ}),yre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return N9({reducer:vre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([r4.middleware,i4.middleware,OS.middleware,c4.middleware,d4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(r5({type:"raf"}))},devTools:{serialize:{replacer:dre},name:"recharts-".concat(n)}})};function f4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=la(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=yre(t,r));var s=X1;return v.createElement(Sne,{context:s,store:a.current},n)}function bre(e){var{layout:t,margin:n}=e,r=Yn(),i=la();return v.useEffect(()=>{i||(r(X9(t)),r(Y9(n)))},[r,i,t,n]),null}var m4=v.memo(bre,TS);function h4(e){var t=Yn();return v.useEffect(()=>{t(mre(e))},[t,e]),null}function BP(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Yn();return v.useLayoutEffect(()=>(r.current&&i(JX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(eQ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function zP(e){var{children:t,isPanorama:n}=e,r=Ct(VX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(BP,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(BP,{key:s,zIndex:s,isPanorama:n})))}var wre=["children"];function kre(e,t){if(e==null)return{};var n,r,i=Sre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(null,arguments)}var Nre={width:"100%",height:"100%",display:"block"},Cre=v.forwardRef((e,t)=>{var n=sk(),r=ok(),i=U5();if(!$s(n)||!$s(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(I1,Eg({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Nre,ref:t}),a)}),jre=e=>{var{children:t}=e,n=Ct(I0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(I1,{width:r,height:i,x:s,y:a},t)},UP=v.forwardRef((e,t)=>{var{children:n}=e,r=kre(e,wre),i=la();return i?v.createElement(jre,null,v.createElement(zP,{isPanorama:!0},n)):v.createElement(Cre,Eg({ref:t},r),v.createElement(zP,{isPanorama:!1},n))});function Are(){var e=Yn(),[t,n]=v.useState(null),r=Ct(hW);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ur(a)&&a!==r&&e(Z9(a))}},[t,e,r]),n}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){Tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}var Mre=()=>(jQ(),null);function Dg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ore=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:Dg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Dg((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(L0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",kc({ref:l},e)))}),Ire=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:Dg(n),containerHeight:Dg(r)}),s=v.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(L0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",kc({ref:o},e)))}),_re=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(L0,{width:n,height:r}),v.createElement("div",kc({ref:t},e)))}),Lre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return uo(n)||uo(r)?v.createElement(Ire,kc({},e,{ref:t})):v.createElement(_re,kc({},e,{ref:t}))});function $re(e){return e===!0?Ore:Lre}var Fre=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,S=v.useRef(null),C=Yn(),[N,A]=v.useState(null),[E,_]=v.useState(null),T=Are(),M=ak(),O=(M==null?void 0:M.width)>0?M.width:x,Y=(M==null?void 0:M.height)>0?M.height:i,Q=v.useCallback(F=>{T(F),typeof t=="function"&&t(F),A(F),_(F),F!=null&&(S.current=F)},[T,t,A,_]),ie=v.useCallback(F=>{C(n4(F)),C(Ia({handler:a,reactEvent:F}))},[C,a]),ce=v.useCallback(F=>{C(Qb(F)),C(Ia({handler:c,reactEvent:F}))},[C,c]),K=v.useCallback(F=>{C(_3()),C(Ia({handler:d,reactEvent:F}))},[C,d]),G=v.useCallback(F=>{C(Qb(F)),C(Ia({handler:f,reactEvent:F}))},[C,f]),L=v.useCallback(()=>{C(l4())},[C]),P=v.useCallback(F=>{C(o4(F.key))},[C]),j=v.useCallback(F=>{C(Ia({handler:s,reactEvent:F}))},[C,s]),W=v.useCallback(F=>{C(Ia({handler:o,reactEvent:F}))},[C,o]),k=v.useCallback(F=>{C(Ia({handler:l,reactEvent:F}))},[C,l]),I=v.useCallback(F=>{C(Ia({handler:h,reactEvent:F}))},[C,h]),ae=v.useCallback(F=>{C(Ia({handler:g,reactEvent:F}))},[C,g]),ee=v.useCallback(F=>{w&&C(u4(F)),C(Ia({handler:p,reactEvent:F}))},[C,w,p]),U=v.useCallback(F=>{C(Ia({handler:m,reactEvent:F}))},[C,m]),ne=$re(b);return v.createElement(tL.Provider,{value:N},v.createElement(zO.Provider,{value:E},v.createElement(ne,{width:O??(y==null?void 0:y.width),height:Y??(y==null?void 0:y.height),className:An("recharts-wrapper",r),style:Pre({position:"relative",cursor:"default",width:O,height:Y},y),onClick:ie,onContextMenu:j,onDoubleClick:W,onFocus:L,onKeyDown:P,onMouseDown:k,onMouseEnter:ce,onMouseLeave:K,onMouseMove:G,onMouseUp:I,onTouchEnd:U,onTouchMove:ee,onTouchStart:ae,ref:Q},v.createElement(Mre,null),n)))}),Rre=["width","height","responsive","children","className","style","compact","title","desc"];function Bre(e,t){if(e==null)return{};var n,r,i=zre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p4=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Bre(e,Rre),h=Ha(f);return l?v.createElement(v.Fragment,null,v.createElement(L0,{width:n,height:r}),v.createElement(UP,{otherAttributes:h,title:c,desc:d},a)):v.createElement(Fre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(UP,{otherAttributes:h,title:c,desc:d,ref:t},v.createElement(ete,null,a)))});function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}var Ure={top:5,right:5,bottom:5,left:5},Vre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ure,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Wre=v.forwardRef(function(t,n){var r,i=Gr(t.categoricalChartProps,Vre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(f4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(UL,{chartData:c.data}),v.createElement(m4,{layout:i.layout,margin:i.margin}),v.createElement(h4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(p4,Zb({},i,{ref:n})))}),Hre=["axis"],Mg=v.forwardRef((e,t)=>v.createElement(Wre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hre,tooltipPayloadSearcher:rL,categoricalChartProps:e,ref:t}));function qre(e){var t=Yn();return v.useEffect(()=>{t(hre(e))},[t,e]),null}var Kre=["layout"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(null,arguments)}function Gre(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xre={top:5,right:5,bottom:5,left:5},g4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Qre=v.forwardRef(function(t,n){var r,i=Gr(t.categoricalChartProps,g4),{layout:a}=i,s=Gre(i,Kre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(f4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(UL,{chartData:i.data}),v.createElement(m4,{layout:a,margin:i.margin}),v.createElement(h4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(qre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(p4,Jb({},s,{ref:n})))});function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tie=["item"],nie=HP(HP({},g4),{},{layout:"centric",startAngle:0,endAngle:360}),ew=v.forwardRef((e,t)=>{var n=Gr(e,nie);return v.createElement(Qre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:tie,tooltipPayloadSearcher:rL,categoricalChartProps:n,ref:t})});const In=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),qP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Zd=new Map,Su=new Map,rie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Zd.has(r)||Su.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Zd.set(r,s),s})();Su.set(r,i);try{await i}finally{Su.delete(r)}}))},iie=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Zd.get(e)||qP:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Zd.get(e);if(r){n(r);return}let i=!0;const a=Su.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Zd.set(e,l),l})();return Su.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(qP)}}).finally(()=>{Su.delete(e)}),()=>{i=!1}},[e]),t},aie=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(E=>{let _=(E==null?void 0:E.parentElement)||null;for(;_;){const T=window.getComputedStyle(_),M=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(M))return _;_=_.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,x=f.top-g.top,b=y<h.height+8&&x>y?"top":"bottom";a(b);const w=6,S=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,A=Math.min(Math.max(S,C),N);o(A-S)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},sie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},x4=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,x),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},oie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Gl(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=aie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>rc(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:x,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${y} ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Gl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},lie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(oie,{profession:e,professionList:t,className:n}),Ev=({count:e,classCounts:t,label:n,className:r})=>{const i=sie(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=x4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Gl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Ar=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i=""})=>{const a=iie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[a?u.jsx("img",{src:a,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${i}`,children:e})]})},KP=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),c=x4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${a?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Ar,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},cie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:A,skillBarData:E,selectedSkillName:_,selectedSkillIcon:T,skillUsageReady:M,skillUsageAvailable:O,isSkillUsagePerSecond:Y,skillChartData:Q,skillChartMaxY:ie,playerTotalsForSkill:ce,hoveredSkillPlayer:K,setHoveredSkillPlayer:G,getLineStrokeColor:L,getLineDashForPlayer:P,formatSkillUsageValue:j,renderProfessionIcon:W})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(In,{value:x,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const I=d.get(k);return I?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:I.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[I.logs," ",I.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(I.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(wO,{className:"w-3 h-3"})})]},I.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const I=h===k.profession,ae=k.players.map(U=>U.key),ee=ae.length>0&&ae.every(U=>o.includes(U));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(I){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${I?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),I?u.jsx(Jy,{className:"w-3.5 h-3.5"}):u.jsx(m6,{className:"w-3.5 h-3.5"})]})]})}),I&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(U=>{if(ee)return U.filter(F=>!ae.includes(F));const ne=new Set(U);return ae.forEach(F=>ne.add(F)),Array.from(ne)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ee?"Clear All":"Select All"})]}),k.players.map(U=>{const ne=o.includes(U.key);return u.jsx("button",{type:"button",onClick:()=>p(U.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${ne?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:U.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[U.account,"  ",U.profession,"  ",U.logs," ",U.logs===1?"log":"logs"]})]}),ne&&u.jsx(vO,{className:"w-4 h-4 text-cyan-300"})]})},U.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${Y?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):E.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=E.reduce((I,ae)=>Math.max(I,ae.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:E.map((I,ae)=>{const ee=Math.min(100,I.total/k*100),U=N===I.skillId;return u.jsxs("button",{type:"button",onClick:()=>A(I.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${U?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${ae+1}`}),u.jsx(Ar,{name:I.name,iconUrl:I.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:j(I.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ee}%`,backgroundColor:I.color}})})]},I.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:M?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_?u.jsx(Ar,{name:_,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",Y?"casts per second":"casts per log",")"]})]}),u.jsx(gc,{width:"100%",height:250,children:u.jsxs(Mg,{data:Q,children:[u.jsx(Vf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const I=Q[k],ae=String((I==null?void 0:I.shortLabel)??k);return ae.length>20?`${ae.slice(0,20)}`:ae}}),u.jsx(qf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ie)],allowDecimals:!1}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:I,label:ae})=>{var F;if(!k||!I||I.length===0)return null;const ee=[...I].sort((J,ue)=>(ue.value||0)-(J.value||0)),U=ee[0],ne=((F=U==null?void 0:U.payload)==null?void 0:F.fullLabel)||ae;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:ne}),u.jsx("div",{className:"space-y-1",children:ee.map(J=>{const ue=String(J.name||""),re=d.get(ue),V=(re==null?void 0:re.displayName)||ue||"Player",B=j(Number(J.value||0)),$=J.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:$},children:V}),u.jsx("span",{className:"text-gray-200 font-mono",children:B})]},`${V}-${B}`)})})]})}}),o.map(k=>{const I=K.includes(k),ae=K.length>0,ee=L(k,I,ae),U=P(k),ne=K.length>0&&!I;return u.jsx(Ys,{dataKey:k,stroke:ee,strokeWidth:I?4:3,strokeDasharray:U,opacity:ne?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,I)=>(ce.get(I)||0)-(ce.get(k)||0)).map(k=>{const I=d.get(k),ae=ce.get(k)??0,ee=K.includes(k),U=K.length>0,ne=L(k,ee,U);return u.jsxs("button",{type:"button",onClick:()=>{G(F=>F.includes(k)?F.filter(J=>J!==k):[...F,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ee?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ee,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:ne,strokeWidth:"2",strokeDasharray:P(k),strokeLinecap:"round"})}),W(I==null?void 0:I.profession,I==null?void 0:I.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(I==null?void 0:I.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(I==null?void 0:I.logs)??0," ",((I==null?void 0:I.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:j(ae)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),uie=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=h,N=w>S,A=n.current,E=(A==null?void 0:A.clientWidth)||0;if(!E){m=window.requestAnimationFrame(p);return}if(!N){i(E),s(0);return}const _=S/w,T=Math.max(20,Math.floor(E*_)),M=w-S,O=Math.max(0,E-T),Y=M>0?Math.floor(C/M*O):0;i(T),s(Y)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const x=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,x.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?S/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,x=Math.max(0,g.width-r),b=Math.min(x,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?b/x*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},hs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(uie,{containerRef:c})]})},ps=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(b=>b.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((b,w)=>{x.set(`${b.type}-${b.id}`,w)}),x},[p]),y=v.useMemo(()=>{const x=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:x,players:b}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[c];if(!x)return;const b=`${x.type}-${x.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},gr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},die=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:A,setApmView:E,formatApmValue:_,formatCastRateValue:T,formatCastCountValue:M,renderProfessionIcon:O})=>{var U;const[Y,Q]=v.useState({key:"apm",dir:"desc"}),ie=e==="apm-stats",[ce,K]=v.useState({columnId:"",dir:"desc"}),[G,L]=v.useState([]),[P,j]=v.useState([]),[W,k]=v.useState({}),I=ie?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ae=ne=>{Q(F=>({key:ne,dir:F.key===ne&&F.dir==="desc"?"asc":"desc"}))},ee=v.useMemo(()=>{const ne=[...(S==null?void 0:S.playerRows)||[]];return ne.sort((F,J)=>{const ue=Y.key==="apm"?Number(A==="perSecond"?F.aps:F.apm):Number(A==="perSecond"?F.apsNoAuto:F.apmNoAuto),re=Y.key==="apm"?Number(A==="perSecond"?J.aps:J.apm):Number(A==="perSecond"?J.apsNoAuto:J.apmNoAuto);return(Y.dir==="desc"?re-ue:ue-re)||String(F.displayName||"").localeCompare(String(J.displayName||""))}),ne},[S,Y,A]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:ne=>w(ne.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:I,children:d.map(ne=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=f!==ne.profession;h(ne.profession),p(F?ne.profession:m===ne.profession?null:ne.profession),F&&(y(x),L([]),j([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===ne.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(ne.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ne.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[ne.players.length,"p"]})})]})}),!ie&&m===ne.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:W[ne.profession]||"",onChange:F=>{const J=F.target.value;k(ue=>({...ue,[ne.profession]:J}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(ne.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ne.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(ne.skills||[]).filter(F=>{const J=(W[ne.profession]||"").trim().toLowerCase();return J?String(F.name||"").toLowerCase().includes(J):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{h(ne.profession),y(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ne.profession&&g===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),(ne.skills||[]).filter(F=>{const J=(W[ne.profession]||"").trim().toLowerCase();return J?String(F.name||"").toLowerCase().includes(J):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ne.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ie&&(()=>{const ne=S.skills||[],F=(S.playerRows||[]).map(V=>({id:V.key,label:V.displayName||V.account||V.key,icon:O(V.profession,V.professionList,"w-3 h-3")})),J=ne.map(V=>({id:V.id,label:V.name,icon:V.icon?u.jsx("img",{src:V.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ue=[...ne.map(V=>({id:V.id,label:V.name,type:"column",icon:V.icon?u.jsx("img",{src:V.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(V=>({id:V.key,label:V.displayName||V.account||V.key,type:"player",icon:O(V.profession,V.professionList,"w-3 h-3")}))],re=new Set([...G.map(V=>`column:${V}`),...P.map(V=>`player:${V}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:ue,selectedIds:re,onSelect:V=>{V.type==="column"?L(B=>B.includes(V.id)?B.filter($=>$!==V.id):[...B,V.id]):j(B=>B.includes(V.id)?B.filter($=>$!==V.id):[...B,V.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:J,selectedIds:G,onToggle:V=>{L(B=>B.includes(V)?B.filter($=>$!==V):[...B,V])},onClear:()=>L([]),buttonLabel:"Columns",buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:F,selectedIds:P,onToggle:V=>{j(B=>B.includes(V)?B.filter($=>$!==V):[...B,V])},onClear:()=>j([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:A,onChange:E,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(G.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),j([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),G.map(V=>{var $;const B=(($=ne.find(te=>te.id===V))==null?void 0:$.name)||V;return u.jsxs("button",{type:"button",onClick:()=>L(te=>te.filter(ke=>ke!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},V)}),P.map(V=>{var $;const B=(($=F.find(te=>te.id===V))==null?void 0:$.label)||V;return u.jsxs("button",{type:"button",onClick:()=>j(te=>te.filter(ke=>ke!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},V)})]})]})})(),ie?(()=>{var V,B;const ne=S.skills||[],F=G.length>0?ne.filter($=>G.includes($.id)):ne,J=P.length>0?(S.playerRows||[]).filter($=>P.includes($.key)):S.playerRows||[];if(ne.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ue=((V=F.find($=>$.id===ce.columnId))==null?void 0:V.id)||((B=F[0])==null?void 0:B.id)||"",re=[...J].map($=>{const te={},ke={};return F.forEach(Ve=>{var Oe;const oe=Number(((Oe=Ve.playerCounts)==null?void 0:Oe.get($.key))||0),Ye=A==="perSecond"?oe/Math.max(1,$.totalActiveSeconds||0):oe;ke[Ve.id]=Ye,te[Ve.id]=A==="perSecond"?T(Ye):M(Ye)}),{row:$,values:te,numericValues:ke}}).sort(($,te)=>{const ke=$.numericValues[ue]??0,Ve=te.numericValues[ue]??0;return(ce.dir==="desc"?Ve-ke:ke-Ve)||String($.row.displayName||"").localeCompare(String(te.row.displayName||""))});return u.jsx(hs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ue,sortDirection:ce.dir,onSortColumn:$=>{K(te=>({columnId:$,dir:te.columnId===$&&te.dir==="desc"?"asc":"desc"}))},columns:F.map($=>({id:$.id,label:u.jsx(Ar,{name:$.name,iconUrl:$.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:re.map(($,te)=>({id:`${S.profession}-${$.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),O($.row.profession,$.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$.row.displayName})]}),values:$.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Ar,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((U=S.playerRows)==null?void 0:U.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("apm"),className:`text-right transition-colors ${Y.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",Y.key==="apm"?Y.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ae("apmNoAuto"),className:`text-right transition-colors ${Y.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",Y.key==="apmNoAuto"?Y.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ee.map((ne,F)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(ne.profession,ne.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ne.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(A==="perSecond"?ne.aps:ne.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(A==="perSecond"?ne.apsNoAuto:ne.apmNoAuto)})]},`${S.profession}-all-${ne.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((ne,F)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(ne.profession,ne.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ne.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:M(Number(ne.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(A==="perSecond"?ne.aps||0:ne.apm||0))})]},`${S.profession}-${C.id}-${ne.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},fie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:A,skillSearch:E,setSkillSearch:_,activePlayerBreakdown:T,activePlayerSkill:M,activeClassBreakdown:O,activeClassSkill:Y,renderProfessionIcon:Q})=>{const ie=d.length,ce=((T==null?void 0:T.skills)||[]).reduce((B,$)=>B+($.damage||0),0),K=(O==null?void 0:O.players)||[],[G,L]=v.useState({key:"down",dir:"desc"}),P=e==="player-breakdown",[j,W]=v.useState([]),[k,I]=v.useState([]),[ae,ee]=v.useState({columnId:"",dir:"desc"}),[U,ne]=v.useState({}),[F,J]=v.useState({}),ue=P?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,re=v.useMemo(()=>{if(!O||!Y)return K;const B=[...K];return B.sort(($,te)=>{var he,Le;const ke=(he=$.skillMap)==null?void 0:he[Y.id],Ve=(Le=te.skillMap)==null?void 0:Le[Y.id],oe=Number((ke==null?void 0:ke.downContribution)||0),Ye=Number((Ve==null?void 0:Ve.downContribution)||0),Oe=Number((ke==null?void 0:ke.damage)||0),bt=Number((Ve==null?void 0:Ve.damage)||0),Xt=$.totalFightMs>0?Oe/($.totalFightMs/1e3):0,Nn=te.totalFightMs>0?bt/(te.totalFightMs/1e3):0;let En=0;return G.key==="down"&&(En=oe-Ye),G.key==="damage"&&(En=Oe-bt),G.key==="dps"&&(En=Xt-Nn),G.dir==="asc"?En:-En}),B},[O,K,Y,G]),V=B=>{L($=>$.key!==B?{key:B,dir:"desc"}:{key:B,dir:$.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ie," ",ie===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:P?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!P&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(B=>{const $=l===B.id;return u.jsx("button",{type:"button",onClick:()=>c(B.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${$?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:B.label},B.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:E,onChange:B=>_(B.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:ue,children:(P?"class":l)==="player"?d.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const $=h!==B.key;$&&(x(null),W([]),I([])),m(B.key),g($?B.key:p===B.key?null:B.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===B.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:B.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(B.profession,B.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:B.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[B.skills.length," skills"]})})]})}),!P&&p===B.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:U[B.key]||"",onChange:$=>{const te=$.target.value;ne(ke=>({...ke,[B.key]:te}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter($=>{const te=(U[B.key]||"").trim().toLowerCase();return te?String($.name||"").toLowerCase().includes(te):!0}).map($=>u.jsx("button",{type:"button",onClick:()=>{m(B.key),x($.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===B.key&&y===$.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:$.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:$.name})]})},$.id)),B.skills.filter($=>{const te=(U[B.key]||"").trim().toLowerCase();return te?String($.name||"").toLowerCase().includes(te):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.key)):f.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const $=b!==B.profession;$&&(A(null),W([]),I([])),w(B.profession),C($?B.profession:S===B.profession?null:B.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===B.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(B.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[B.players.length,"p"]})})]})}),!P&&S===B.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:F[B.profession]||"",onChange:$=>{const te=$.target.value;J(ke=>({...ke,[B.profession]:te}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter($=>{const te=(F[B.profession]||"").trim().toLowerCase();return te?String($.name||"").toLowerCase().includes(te):!0}).map($=>u.jsx("button",{type:"button",onClick:()=>{w(B.profession),A($.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===B.profession&&N===$.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:$.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:$.name})]})},$.id)),B.skills.filter($=>{const te=(F[B.profession]||"").trim().toLowerCase();return te?String($.name||"").toLowerCase().includes(te):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(P?"class":l)==="player"?!T||!P&&!M?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const B=T.skills||[],$=d.map(oe=>({id:oe.key,label:oe.displayName||oe.key,icon:Q(oe.profession,oe.professionList,"w-3 h-3")})),te=B.map(oe=>({id:oe.id,label:oe.name,icon:oe.icon?u.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ke=[...B.map(oe=>({id:oe.id,label:oe.name,type:"column",icon:oe.icon?u.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(oe=>({id:oe.key,label:oe.displayName||oe.key,type:"player",icon:Q(oe.profession,oe.professionList,"w-3 h-3")}))],Ve=new Set([...j.map(oe=>`column:${oe}`),...k.map(oe=>`player:${oe}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:ke,selectedIds:Ve,onSelect:oe=>{oe.type==="column"?W(Ye=>Ye.includes(oe.id)?Ye.filter(Oe=>Oe!==oe.id):[...Ye,oe.id]):I(Ye=>Ye.includes(oe.id)?Ye.filter(Oe=>Oe!==oe.id):[...Ye,oe.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:te,selectedIds:j,onToggle:oe=>{W(Ye=>Ye.includes(oe)?Ye.filter(Oe=>Oe!==oe):[...Ye,oe])},onClear:()=>W([]),buttonLabel:"Columns",buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:$,selectedIds:k,onToggle:oe=>{I(Ye=>Ye.includes(oe)?Ye.filter(Oe=>Oe!==oe):[...Ye,oe])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{W([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(oe=>{var Oe;const Ye=((Oe=B.find(bt=>bt.id===oe))==null?void 0:Oe.name)||oe;return u.jsxs("button",{type:"button",onClick:()=>W(bt=>bt.filter(Xt=>Xt!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},oe)}),k.map(oe=>{var Oe;const Ye=((Oe=$.find(bt=>bt.id===oe))==null?void 0:Oe.label)||oe;return u.jsxs("button",{type:"button",onClick:()=>I(bt=>bt.filter(Xt=>Xt!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},oe)})]})]})})(),P?(()=>{var oe,Ye;const B=T.skills||[],$=j.length>0?B.filter(Oe=>j.includes(Oe.id)):B,te=k.length>0?d.filter(Oe=>k.includes(Oe.key)):d,ke=((oe=$.find(Oe=>Oe.id===ae.columnId))==null?void 0:oe.id)||((Ye=$[0])==null?void 0:Ye.id)||"",Ve=te.map(Oe=>{const bt={},Xt={};return $.forEach(Nn=>{var Le;const En=(Le=Oe.skillMap)==null?void 0:Le[Nn.id],he=Number((En==null?void 0:En.damage)||0);Xt[Nn.id]=he,bt[Nn.id]=_o(he)}),{player:Oe,values:bt,numericValues:Xt}}).sort((Oe,bt)=>{const Xt=Oe.numericValues[ke]??0,Nn=bt.numericValues[ke]??0;return(ae.dir==="desc"?Nn-Xt:Xt-Nn)||String(Oe.player.displayName||"").localeCompare(String(bt.player.displayName||""))});return u.jsx(hs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ke,sortDirection:ae.dir,onSortColumn:Oe=>{ee(bt=>({columnId:Oe,dir:bt.columnId===Oe&&bt.dir==="desc"?"asc":"desc"}))},columns:$.map(Oe=>({id:Oe.id,label:u.jsx(Ar,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ve.map((Oe,bt)=>({id:`${Oe.player.key}-${bt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:bt+1}),Q(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Ar,{name:(M==null?void 0:M.name)||"",iconUrl:M==null?void 0:M.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",_o(ce)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:_o((M==null?void 0:M.downContribution)||0)},{label:"Total Damage",value:_o((M==null?void 0:M.damage)||0)},{label:"DPS",value:ma(T.totalFightMs>0?((M==null?void 0:M.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(B=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:B.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:B.value})]},B.label))})]})]}):!O||!P&&!Y?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const B=O.skills||[],$=K.map(oe=>({id:oe.key,label:oe.displayName||oe.key,icon:Q(oe.profession,oe.professionList,"w-3 h-3")})),te=B.map(oe=>({id:oe.id,label:oe.name,icon:oe.icon?u.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ke=[...B.map(oe=>({id:oe.id,label:oe.name,type:"column",icon:oe.icon?u.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4"}):void 0})),...K.map(oe=>({id:oe.key,label:oe.displayName||oe.key,type:"player",icon:Q(oe.profession,oe.professionList,"w-3 h-3")}))],Ve=new Set([...j.map(oe=>`column:${oe}`),...k.map(oe=>`player:${oe}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:ke,selectedIds:Ve,onSelect:oe=>{oe.type==="column"?W(Ye=>Ye.includes(oe.id)?Ye.filter(Oe=>Oe!==oe.id):[...Ye,oe.id]):I(Ye=>Ye.includes(oe.id)?Ye.filter(Oe=>Oe!==oe.id):[...Ye,oe.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:te,selectedIds:j,onToggle:oe=>{W(Ye=>Ye.includes(oe)?Ye.filter(Oe=>Oe!==oe):[...Ye,oe])},onClear:()=>W([]),buttonLabel:"Columns",buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:$,selectedIds:k,onToggle:oe=>{I(Ye=>Ye.includes(oe)?Ye.filter(Oe=>Oe!==oe):[...Ye,oe])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{W([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(oe=>{var Oe;const Ye=((Oe=B.find(bt=>bt.id===oe))==null?void 0:Oe.name)||oe;return u.jsxs("button",{type:"button",onClick:()=>W(bt=>bt.filter(Xt=>Xt!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},oe)}),k.map(oe=>{var Oe;const Ye=((Oe=$.find(bt=>bt.id===oe))==null?void 0:Oe.label)||oe;return u.jsxs("button",{type:"button",onClick:()=>I(bt=>bt.filter(Xt=>Xt!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},oe)})]})]})})(),P?(()=>{var oe,Ye;const B=O.skills||[],$=j.length>0?B.filter(Oe=>j.includes(Oe.id)):B,te=k.length>0?K.filter(Oe=>k.includes(Oe.key)):K,ke=((oe=$.find(Oe=>Oe.id===ae.columnId))==null?void 0:oe.id)||((Ye=$[0])==null?void 0:Ye.id)||"",Ve=te.map(Oe=>{const bt={},Xt={};return $.forEach(Nn=>{var Le;const En=(Le=Oe.skillMap)==null?void 0:Le[Nn.id],he=Number((En==null?void 0:En.damage)||0);Xt[Nn.id]=he,bt[Nn.id]=_o(he)}),{player:Oe,values:bt,numericValues:Xt}}).sort((Oe,bt)=>{const Xt=Oe.numericValues[ke]??0,Nn=bt.numericValues[ke]??0;return(ae.dir==="desc"?Nn-Xt:Xt-Nn)||String(Oe.player.displayName||"").localeCompare(String(bt.player.displayName||""))});return u.jsx(hs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ke,sortDirection:ae.dir,onSortColumn:Oe=>{ee(bt=>({columnId:Oe,dir:bt.columnId===Oe&&bt.dir==="desc"?"asc":"desc"}))},columns:$.map(Oe=>({id:Oe.id,label:u.jsx(Ar,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ve.map((Oe,bt)=>({id:`${Oe.player.key}-${bt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:bt+1}),Q(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Ar,{name:(Y==null?void 0:Y.name)||"",iconUrl:Y==null?void 0:Y.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[K.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>V("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:G.key==="down"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>V("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:G.key==="damage"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>V("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:G.key==="dps"?G.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:re.map(B=>{var oe;const $=(oe=B.skillMap)==null?void 0:oe[(Y==null?void 0:Y.id)||""],te=Number(($==null?void 0:$.downContribution)||0),ke=Number(($==null?void 0:$.damage)||0),Ve=B.totalFightMs>0?ke/(B.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(B.profession,B.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:B.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_o(te)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_o(ke)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ma(Ve,1)})]},`${O.profession}-${B.key}`)})})]})]})})]})})]})},v4=({className:e})=>u.jsx(j6,{className:e,style:{transform:"rotate(45deg)"}}),Co=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),gs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),mie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var P;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((P=t[0])==null?void 0:P.id)||"value",dir:"desc"}),A=f==="offense-detailed",[E,_]=v.useState([]),[T,M]=v.useState([]),O=t.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),Y=t.map(j=>({id:j.id,label:j.label})),Q=Y.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),ce=E.length>0?t.filter(j=>E.includes(j.id)):t,K=Array.from(new Map(e.offensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),G=new Set([...E.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),L=j=>{S(W=>({key:j,dir:W.key===j&&W.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(v4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...Y.map(j=>({...j,type:"column"})),...K.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):M(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(gr,{options:Q,selectedIds:E,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:K,selectedIds:T,onToggle:j=>{M(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(j=>{var k;const W=((k=Y.find(I=>I.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(I=>I.filter(ae=>ae!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>M(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ee,U;const j=ne=>Math.max(1,(ne.totalFightMs||0)/1e3),W=(ne,F,J)=>{var ue,re,V,B,$;if(F==="downContributionPercent"){const te=((ue=ne.offenseTotals)==null?void 0:ue.downContribution)||0,ke=((re=ne.offenseTotals)==null?void 0:re.damage)||0;return ke>0?te/ke*100:0}if(J.isRate){const te=((V=ne.offenseRateWeights)==null?void 0:V[F])||0,ke=((B=ne.offenseTotals)==null?void 0:B[F])||0;return te>0?ke/te*100:0}return(($=ne.offenseTotals)==null?void 0:$[F])||0},k=(ne,F)=>{const J=n&&!F.isPercent&&o==="total"?0:2,ue=c(ne,J);return F.isPercent?`${ue}%`:ue},I=((ee=ce.find(ne=>ne.id===C.columnId))==null?void 0:ee.id)||((U=ce[0])==null?void 0:U.id)||"",ae=[...e.offensePlayers].filter(ne=>T.length===0||T.includes(ne.account)).map(ne=>{const F={},J={};return ce.forEach(ue=>{const re=W(ne,ue.id,ue),V=o==="total"||ue.isPercent||ue.isRate?re:o==="per1s"?re/j(ne):re*60/j(ne);J[ue.id]=V,F[ue.id]=k(V,ue)}),{row:ne,values:F,numericValues:J}}).sort((ne,F)=>{const J=ne.numericValues[I]??0,ue=F.numericValues[I]??0;return(C.dir==="desc"?ue-J:J-ue)||String(ne.row.account||"").localeCompare(String(F.row.account||""))});return u.jsx(hs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:I,sortDirection:C.dir,onSortColumn:ne=>{N(F=>({columnId:ne,dir:F.columnId===ne&&F.dir==="desc"?"asc":"desc"}))},columns:ce.map(ne=>({id:ne.id,label:ne.label,align:"right",minWidth:90})),rows:ae.map((ne,F)=>({id:`${ne.row.account}-${F}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(ne.row.profession,ne.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ne.row.account})]}),values:ne.values}))})})()})]}):u.jsx(Co,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:j=>i(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(j=>u.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(ee=>ee.id===a)||t[0],W=ee=>Math.max(1,(ee.totalFightMs||0)/1e3),k=ee=>{var U,ne,F,J,ue;if(j.id==="downContributionPercent"){const re=((U=ee.offenseTotals)==null?void 0:U.downContribution)||0,V=((ne=ee.offenseTotals)==null?void 0:ne.damage)||0;return V>0?re/V*100:0}if(j.isRate){const re=((F=ee.offenseRateWeights)==null?void 0:F[j.id])||0,V=((J=ee.offenseTotals)==null?void 0:J[j.id])||0;return re>0?V/re*100:0}return((ue=ee.offenseTotals)==null?void 0:ue[j.id])||0},I=ee=>{const U=n&&!j.isPercent&&o==="total"?0:2,ne=c(ee,U);return j.isPercent?`${ne}%`:ne},ae=[...e.offensePlayers].map(ee=>({...ee,total:k(ee),per1s:j.isPercent||j.isRate?k(ee):k(ee)/W(ee),per60s:j.isPercent||j.isRate?k(ee):k(ee)*60/W(ee)})).sort((ee,U)=>{const ne=w.key==="fightTime"?Number(ee.totalFightMs||0):Number(o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s),F=w.key==="fightTime"?Number(U.totalFightMs||0):Number(o==="total"?U.total:o==="per1s"?U.per1s:U.per60s);return(w.dir==="desc"?F-ne:ne-F)||ee.account.localeCompare(U.account)});return u.jsx(gs,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(In,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ae.map((ee,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ee.profession,ee.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ne=o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s;return I(ne)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ee.totalFightMs?`${(ee.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${ee.account}-${U}`))})})})()})})]})},hie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var P;const C=m==="conditions-outgoing",[N,A]=v.useState([]),[E,_]=v.useState([]),[T,M]=v.useState({columnId:"all",dir:"desc"}),O=j=>{if(!j)return 0;if(s!=="outgoing"){const ae=Number(j.applicationsFromUptime);return Number.isFinite(ae)&&ae>0?ae:Number(j.applications||0)}const W=Number(j.applicationsFromUptime);if(Number.isFinite(W)&&W>0)return W;const k=Number(j.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const I=Number(j.applicationsFromBuffs);return Number.isFinite(I)&&I>0?I:Number(j.applications||0)},Y=[...e||[]].sort((j,W)=>(W.damage||0)-(j.damage||0)),Q=Y.filter(j=>j.name.toLowerCase().includes(n.trim().toLowerCase())),ie=Q.map(j=>({id:j.name,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),K=N.length>0?Y.filter(j=>N.includes(j.name)):Y,G=Array.from(new Map((t||[]).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:h(j.profession,j.professionList,"w-3 h-3")})),L=new Set([...N.map(j=>`column:${j}`),...E.map(j=>`player:${j}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...Y.map(j=>({id:j.name,label:j.name,type:"column"})),...G.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?A(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:L,className:"w-full sm:w-64"}),u.jsx(gr,{options:ie,selectedIds:N,onToggle:j=>{A(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>A([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:G,selectedIds:E,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(In,{value:c.key,onChange:j=>d({key:j,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const j=c.key,W=[{id:"all",label:"All Conditions",icon:null},...K],k=(t||[]).filter(ee=>E.length===0||E.includes(ee.account)).map(ee=>{const U=ee.conditions||{},ne={},F={};return W.forEach(J=>{if(J.id==="all"||J.name==="All Conditions"){const V=Object.values(U).reduce(($,te)=>{const ke=O(te);return $.applications+=Number(ke||0),$.damage+=Number((te==null?void 0:te.damage)||0),$},{applications:0,damage:0}),B=j==="applications"?V.applications:V.damage;F.all=B||0,ne.all=Math.round(B||0).toLocaleString();return}const ue=U[J.name],re=j==="applications"?O(ue):Number((ue==null?void 0:ue.damage)||0);F[J.name]=Number(re||0),ne[J.name]=Math.round(re||0).toLocaleString()}),{player:ee,values:ne,numericValues:F}}).filter(ee=>Object.values(ee.values).some(U=>U!=="0")),I=["all",...K.map(ee=>ee.name)].includes(T.columnId)?T.columnId:"all",ae=[...k].sort((ee,U)=>{const ne=ee.numericValues[I]??0,F=U.numericValues[I]??0;return(T.dir==="desc"?F-ne:ne-F)||String(ee.player.account||"").localeCompare(String(U.player.account||""))});return u.jsx(hs,{title:"Conditions - Dense View",subtitle:j==="applications"?"Applications":"Damage",sortColumnId:I,sortDirection:T.dir,onSortColumn:ee=>{M(U=>({columnId:ee,dir:U.columnId===ee&&U.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...K.map(ee=>({id:ee.name,label:u.jsx(Ar,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:ae.map((ee,U)=>({id:`${ee.player.account}-${U}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),h(ee.player.profession,ee.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.player.account})]}),values:ee.values}))})})()}),(N.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(j=>u.jsxs("button",{type:"button",onClick:()=>A(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j)),E.map(j=>u.jsxs("button",{type:"button",onClick:()=>_(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}):u.jsx(Co,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),Q.map(j=>u.jsx("button",{type:"button",onClick:()=>a(j.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})},j.name))]})})]}),content:u.jsx(gs,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Ar,{name:i,iconUrl:(P=e.find(j=>j.name===i))==null?void 0:P.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(In,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const W=(t||[]).map(k=>{const I=k.conditions||{};if(i==="all"){const ee=Object.values(I).reduce((U,ne)=>{const F=O(ne);return U.applications+=Number(F||0),U.damage+=Number((ne==null?void 0:ne.damage)||0),U},{applications:0,damage:0});return{...k,applications:ee.applications,damage:ee.damage}}const ae=I[i];return{...k,applications:O(ae),damage:Number((ae==null?void 0:ae.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,I)=>{const ae=c.key==="applications"?k.applications||0:k.damage||0,ee=c.key==="applications"?I.applications||0:I.damage||0,U=c.dir==="desc"?ee-ae:ae-ee;if(U!==0)return U;const ne=c.key==="applications"?(I.damage||0)-(k.damage||0):(I.applications||0)-(k.applications||0);return ne!==0?ne:String(k.account||"").localeCompare(String(I.account||""))});return W.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):W.map((k,I)=>{var V;const ae=k.conditions||{};let ee={};i==="all"?Object.values(ae).forEach(B=>{const $=(B==null?void 0:B.skills)||{};Object.values($).forEach(te=>{const ke=(te==null?void 0:te.name)||"Unknown",Ve=Number((te==null?void 0:te.hits)||0),oe=Number((te==null?void 0:te.damage)||0);if((!Number.isFinite(Ve)||Ve<=0)&&(!Number.isFinite(oe)||oe<=0))return;const Ye=ee[ke]||{name:ke,hits:0,damage:0,icon:te==null?void 0:te.icon};Ye.hits+=Number.isFinite(Ve)?Ve:0,Ye.damage+=Number.isFinite(oe)?oe:0,!Ye.icon&&(te!=null&&te.icon)&&(Ye.icon=te.icon),ee[ke]=Ye})}):ee=((V=ae[i])==null?void 0:V.skills)||{};const U=Object.values(ee).filter(B=>Number.isFinite(B.hits)&&B.hits>0).sort((B,$)=>$.hits-B.hits||B.name.localeCompare($.name)),ne=Object.values(ee).filter(B=>Number.isFinite(B.damage)&&B.damage>0).sort((B,$)=>$.damage-B.damage||B.name.localeCompare($.name)),F=i==="all"&&U.length>0,J=i==="all"&&ne.length>0,ue=Math.round(k.applications||0).toLocaleString(),re=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:I+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F?u.jsx(KP,{value:ue,label:"Condition Sources",items:U.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.hits).toLocaleString()})),className:"justify-end"}):ue}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:J?u.jsx(KP,{value:re,label:"Condition Damage Sources",items:ne.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.damage).toLocaleString()})),className:"justify-end"}):re}):null]},`${k.account}-${I}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},pie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[A,E]=v.useState({key:"value",dir:"desc"}),[_,T]=v.useState({columnId:"",dir:"desc"}),M=g==="boon-output",[O,Y]=v.useState([]),[Q,ie]=v.useState([]),ce=e.boonTables||[],G=O.length>0?ce.filter(k=>O.includes(k.id)):ce,L=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),P=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),j=new Set([...O.map(k=>`column:${k}`),...Q.map(k=>`player:${k}`)]),W=k=>{E(I=>({key:k,dir:I.key===k&&I.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(A1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...ce.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?Y(I=>I.includes(k.id)?I.filter(ae=>ae!==k.id):[...I,k.id]):ie(I=>I.includes(k.id)?I.filter(ae=>ae!==k.id):[...I,k.id])},selectedIds:j,className:"w-full sm:w-64"}),u.jsx(gr,{options:L,selectedIds:O,onToggle:k=>{Y(I=>I.includes(k)?I.filter(ae=>ae!==k):[...I,k])},onClear:()=>Y([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:P,selectedIds:Q,onToggle:k=>{ie(I=>I.includes(k)?I.filter(ae=>ae!==k):[...I,k])},onClear:()=>ie([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(In,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Y([]),ie([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(k=>{var ae;const I=((ae=ce.find(ee=>ee.id===k))==null?void 0:ae.name)||k;return u.jsxs("button",{type:"button",onClick:()=>Y(ee=>ee.filter(U=>U!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:I}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),Q.map(k=>u.jsxs("button",{type:"button",onClick:()=>ie(I=>I.filter(ae=>ae!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var ne,F;const k=G,I=((ne=k.find(J=>J.id===_.columnId))==null?void 0:ne.id)||(a&&k.some(J=>J.id===a)?a:void 0)||((F=k[0])==null?void 0:F.id)||"",ae=new Map,ee=new Map;k.forEach(J=>{const ue=new Map;J.rows.forEach(re=>{const V=re.account||re.name||re.id;V&&(ue.set(V,re),ee.has(V)||ee.set(V,re))}),ae.set(J.id,ue)});const U=Array.from(ee.entries()).filter(([J])=>Q.length===0||Q.includes(String(J))).map(([J,ue])=>{const re={};return k.forEach(V=>{var $;const B=($=ae.get(V.id))==null?void 0:$.get(J);re[V.id]=B?f(B,t,V.stacking,r,{roundCountStats:p}):"-"}),{key:J,row:ue,values:re}}).sort((J,ue)=>{var Ve,oe;if(!I)return String(J.key).localeCompare(String(ue.key));const re=k.find(Ye=>Ye.id===I),V=re?(Ve=ae.get(re.id))==null?void 0:Ve.get(J.key):null,B=re?(oe=ae.get(re.id))==null?void 0:oe.get(ue.key):null,$=V?h(V,t,re==null?void 0:re.stacking,r):0,te=B?h(B,t,re==null?void 0:re.stacking,r):0;return(_.dir==="desc"?te-$:$-te)||String(J.key).localeCompare(String(ue.key))});return u.jsx(hs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:I,sortDirection:_.dir,onSortColumn:J=>{T(ue=>({columnId:J,dir:ue.columnId===J&&ue.dir==="desc"?"asc":"desc"}))},columns:k.map(J=>({id:J.id,label:u.jsx(Ar,{name:J.name,iconUrl:J.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:U.map((J,ue)=>({id:`${J.key}-${ue}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ue+1}),m(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account||J.row.name||J.key})]}),values:J.values}))})})()})]}):u.jsx(Co,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(gs,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Ar,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(In,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(In,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>W("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>W("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,I)=>(()=>{const ae=A.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),ee=A.key==="fightTime"?Number(I.activeTimeMs||0):h(I,t,o.stacking,r);return(A.dir==="desc"?ee-ae:ae-ee)||String(k.account||"").localeCompare(String(I.account||""))})()).map((k,I)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:I+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${I}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},gie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var P;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((P=t[0])==null?void 0:P.id)||"value",dir:"desc"}),A=f==="defense-detailed",[E,_]=v.useState([]),[T,M]=v.useState([]),O=t.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),Y=t.map(j=>({id:j.id,label:j.label})),Q=Y.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),ce=E.length>0?t.filter(j=>E.includes(j.id)):t,K=Array.from(new Map(e.defensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),G=new Set([...E.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),L=j=>{S(W=>({key:j,dir:W.key===j&&W.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...Y.map(j=>({...j,type:"column"})),...K.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):M(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(gr,{options:Q,selectedIds:E,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:K,selectedIds:T,onToggle:j=>{M(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(j=>{var k;const W=((k=Y.find(I=>I.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(I=>I.filter(ae=>ae!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>M(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var ae,ee;const j=U=>Math.max(1,(U.activeMs||0)/1e3),W=(U,ne)=>{const F=ne.isPercent,ue=c(U,l&&!F&&s==="total"?0:2);return F?`${ue}%`:ue},k=((ae=ce.find(U=>U.id===C.columnId))==null?void 0:ae.id)||((ee=ce[0])==null?void 0:ee.id)||"",I=[...e.defensePlayers].filter(U=>T.length===0||T.includes(U.account)).map(U=>{const ne={},F={};return ce.forEach(J=>{var B;const ue=((B=U.defenseTotals)==null?void 0:B[J.id])||0,re=J.isPercent,V=s==="total"||re?ue:s==="per1s"?ue/j(U):ue*60/j(U);F[J.id]=V,ne[J.id]=W(V,J)}),{row:U,values:ne,numericValues:F}}).sort((U,ne)=>{const F=U.numericValues[k]??0,J=ne.numericValues[k]??0;return(C.dir==="desc"?J-F:F-J)||String(U.row.account||"").localeCompare(String(ne.row.account||""))});return u.jsx(hs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:k,sortDirection:C.dir,onSortColumn:U=>{N(ne=>({columnId:U,dir:ne.columnId===U&&ne.dir==="desc"?"asc":"desc"}))},columns:ce.map(U=>({id:U.id,label:U.label,align:"right",minWidth:90})),rows:I.map((U,ne)=>({id:`${U.row.account}-${ne}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),d(U.row.profession,U.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:U.row.account})]}),values:U.values}))})})()})]}):u.jsx(Co,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):O.map(j=>u.jsx("button",{onClick:()=>a(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(I=>I.id===i)||t[0],W=I=>Math.max(1,(I.activeMs||0)/1e3),k=[...e.defensePlayers].map(I=>{var ae,ee,U;return{...I,total:((ae=I.defenseTotals)==null?void 0:ae[j.id])||0,per1s:(((ee=I.defenseTotals)==null?void 0:ee[j.id])||0)/W(I),per60s:(((U=I.defenseTotals)==null?void 0:U[j.id])||0)*60/W(I)}}).sort((I,ae)=>{const ee=w.key==="fightTime"?Number(I.activeMs||0):Number(s==="total"?I.total:s==="per1s"?I.per1s:I.per60s),U=w.key==="fightTime"?Number(ae.activeMs||0):Number(s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s);return(w.dir==="desc"?U-ee:ee-U)||I.account.localeCompare(ae.account)});return u.jsx(gs,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:k.map((I,ae)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ae+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(I.profession,I.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ee=s==="total"?I.total:s==="per1s"?I.per1s:I.per60s;return c(ee,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:I.activeMs?`${(I.activeMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${I.account}-${ae}`))})})})()})})]})},xie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var ue,re;const C=((ue=t.find(V=>V.id==="totalMitigation"))==null?void 0:ue.id)||((re=t[0])==null?void 0:re.id)||"totalMitigation",[N,A]=v.useState({key:"value",dir:"desc"}),[E,_]=v.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[M,O]=v.useState([]),[Y,Q]=v.useState([]),[ie,ce]=v.useState([]),K=e.damageMitigationPlayers||[],G=e.damageMitigationMinions||[],L=l==="minions"?G:K,P=K.length>0||G.length>0,j=t.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),W=t.map(V=>({id:V.id,label:V.label})),k=W.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),ae=M.length>0?t.filter(V=>M.includes(V.id)):t,ee=Array.from(new Map(L.map(V=>[V.account,V])).values()).map(V=>({id:V.account,label:V.account,icon:h(V.profession,V.professionList,"w-3 h-3")})),U=Array.from(new Map(G.map(V=>[V.minion,V])).values()).filter(V=>V==null?void 0:V.minion).map(V=>({id:String(V.minion),label:String(V.minion)})),ne=new Set([...M.map(V=>`column:${V}`),...Y.map(V=>`player:${V}`)]),F=V=>{A(B=>({key:V,dir:B.key===V&&B.dir==="desc"?"asc":"desc"}))},J=V=>f(V,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),P?T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...W.map(V=>({...V,type:"column"})),...ee.map(V=>({...V,type:"player"}))],onSelect:V=>{V.type==="column"?O(B=>B.includes(V.id)?B.filter($=>$!==V.id):[...B,V.id]):Q(B=>B.includes(V.id)?B.filter($=>$!==V.id):[...B,V.id])},selectedIds:ne,className:"w-full sm:w-64"}),u.jsx(gr,{options:k,selectedIds:M,onToggle:V=>{O(B=>B.includes(V)?B.filter($=>$!==V):[...B,V])},onClear:()=>O([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:ee,selectedIds:Y,onToggle:V=>{Q(B=>B.includes(V)?B.filter($=>$!==V):[...B,V])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(gr,{options:U,selectedIds:ie,onToggle:V=>{ce(B=>B.includes(V)?B.filter($=>$!==V):[...B,V])},onClear:()=>ce([]),buttonLabel:"Minions"}),u.jsx(In,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||Y.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(V=>{var $;const B=(($=W.find(te=>te.id===V))==null?void 0:$.label)||V;return u.jsxs("button",{type:"button",onClick:()=>O(te=>te.filter(ke=>ke!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},V)}),Y.map(V=>u.jsxs("button",{type:"button",onClick:()=>Q(B=>B.filter($=>$!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},V))]}),l==="minions"&&ie.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>ce([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ie.map(V=>u.jsxs("button",{type:"button",onClick:()=>ce(B=>B.filter($=>$!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},V))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:L.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var te,ke;const V=Ve=>Math.max(1,(Ve.activeMs||0)/1e3),B=((te=ae.find(Ve=>Ve.id===E.columnId))==null?void 0:te.id)||((ke=ae[0])==null?void 0:ke.id)||"",$=[...L].filter(Ve=>Y.length===0||Y.includes(Ve.account)).filter(Ve=>l!=="minions"||!ie.length?!0:ie.includes(String(Ve.minion||""))).map(Ve=>{const oe={},Ye={};return ae.forEach(Oe=>{var Nn;const bt=((Nn=Ve.mitigationTotals)==null?void 0:Nn[Oe.id])||0,Xt=s==="total"?bt:s==="per1s"?bt/V(Ve):bt*60/V(Ve);Ye[Oe.id]=Xt,oe[Oe.id]=J(Xt)}),{row:Ve,values:oe,numericValues:Ye}}).sort((Ve,oe)=>{const Ye=Ve.numericValues[B]??0,Oe=oe.numericValues[B]??0;return(E.dir==="desc"?Oe-Ye:Ye-Oe)||String(Ve.row.account||"").localeCompare(String(oe.row.account||""))});return u.jsx(hs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:E.dir,onSortColumn:Ve=>{_(oe=>({columnId:Ve,dir:oe.columnId===Ve&&oe.dir==="desc"?"asc":"desc"}))},columns:ae.map(Ve=>({id:Ve.id,label:Ve.label,align:"right",minWidth:90})),rows:$.map((Ve,oe)=>({id:`${Ve.row.account}-${Ve.row.minion||"player"}-${oe}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),h(Ve.row.profession,Ve.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Ve.row.account}),Ve.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ve.row.minion})]})]}),values:Ve.values}))})})()})]}):u.jsx(Co,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:V=>r(V.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(V=>u.jsx("button",{onClick:()=>a(V.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===V.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:V.label},V.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const V=t.find(te=>te.id===i)||t[0],B=te=>Math.max(1,(te.activeMs||0)/1e3),$=[...L].map(te=>{var ke,Ve,oe;return{...te,total:((ke=te.mitigationTotals)==null?void 0:ke[V.id])||0,per1s:(((Ve=te.mitigationTotals)==null?void 0:Ve[V.id])||0)/B(te),per60s:(((oe=te.mitigationTotals)==null?void 0:oe[V.id])||0)*60/B(te)}}).filter(te=>l!=="minions"||!ie.length?!0:ie.includes(String(te.minion||""))).sort((te,ke)=>{const Ve=N.key==="fightTime"?Number(te.activeMs||0):Number(s==="total"?te.total:s==="per1s"?te.per1s:te.per60s),oe=N.key==="fightTime"?Number(ke.activeMs||0):Number(s==="total"?ke.total:s==="per1s"?ke.per1s:ke.per60s);return(N.dir==="desc"?oe-Ve:Ve-oe)||te.account.localeCompare(ke.account)});return u.jsx(gs,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:V.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(In,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:$.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:$.map((te,ke)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ke+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(te.profession,te.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:te.account}),te.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:te.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ve=s==="total"?te.total:s==="per1s"?te.per1s:te.per60s;return J(Ve)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:te.activeMs?`${(te.activeMs/1e3).toFixed(1)}s`:"-"})]},`${V.id}-${te.account}-${te.minion||"player"}-${ke}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},vie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var W;const[C,N]=v.useState({key:"value",dir:"desc"}),[A,E]=v.useState({columnId:((W=t[0])==null?void 0:W.id)||"value",dir:"desc"}),_=m==="support-detailed",[T,M]=v.useState([]),[O,Y]=v.useState([]),Q=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ie=t.map(k=>({id:k.id,label:k.label})),ce=ie.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),G=T.length>0?t.filter(k=>T.includes(k.id)):t,L=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),P=new Set([...T.map(k=>`column:${k}`),...O.map(k=>`player:${k}`)]),j=k=>{N(I=>({key:k,dir:I.key===k&&I.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...ie.map(k=>({...k,type:"column"})),...L.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?M(I=>I.includes(k.id)?I.filter(ae=>ae!==k.id):[...I,k.id]):Y(I=>I.includes(k.id)?I.filter(ae=>ae!==k.id):[...I,k.id])},selectedIds:P,className:"w-full sm:w-64"}),u.jsx(gr,{options:ce,selectedIds:T,onToggle:k=>{M(I=>I.includes(k)?I.filter(ae=>ae!==k):[...I,k])},onClear:()=>M([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:L,selectedIds:O,onToggle:k=>{Y(I=>I.includes(k)?I.filter(ae=>ae!==k):[...I,k])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(In,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var ae;const I=((ae=ie.find(ee=>ee.id===k))==null?void 0:ae.label)||k;return u.jsxs("button",{type:"button",onClick:()=>M(ee=>ee.filter(U=>U!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:I}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),O.map(k=>u.jsxs("button",{type:"button",onClick:()=>Y(I=>I.filter(ae=>ae!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var ne,F;const k=(J,ue)=>{var re,V,B;if(ue==="condiCleanse"){const $=((re=J.supportTotals)==null?void 0:re.condiCleanse)||0,te=((V=J.supportTotals)==null?void 0:V.condiCleanseSelf)||0;return l==="all"?$+te:$}return((B=J.supportTotals)==null?void 0:B[ue])||0},I=J=>Math.max(1,(J.activeMs||0)/1e3),ae=(J,ue)=>{const re=J.isTime?1:d&&s==="total"?0:2;return f(ue,re)},ee=((ne=G.find(J=>J.id===A.columnId))==null?void 0:ne.id)||((F=G[0])==null?void 0:F.id)||"",U=[...e.supportPlayers].filter(J=>O.length===0||O.includes(J.account)).map(J=>{const ue={},re={};return G.forEach(V=>{const B=k(J,V.id),$=s==="total"?B:s==="per1s"?B/I(J):B*60/I(J);re[V.id]=$,ue[V.id]=ae(V,$)}),{row:J,values:ue,numericValues:re}}).sort((J,ue)=>{const re=J.numericValues[ee]??0,V=ue.numericValues[ee]??0;return(A.dir==="desc"?V-re:re-V)||String(J.row.account||"").localeCompare(String(ue.row.account||""))});return u.jsx(hs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ee,sortDirection:A.dir,onSortColumn:J=>{E(ue=>({columnId:J,dir:ue.columnId===J&&ue.dir==="desc"?"asc":"desc"}))},columns:G.map(J=>({id:J.id,label:J.label,align:"right",minWidth:90})),rows:U.map((J,ue)=>({id:`${J.row.account}-${ue}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ue+1}),h(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account})]}),values:J.values}))})})()})]}):u.jsx(Co,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):Q.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(U=>U.id===i)||t[0],I=U=>{var ne,F,J;if(k.id==="condiCleanse"){const ue=((ne=U.supportTotals)==null?void 0:ne.condiCleanse)||0,re=((F=U.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?ue+re:ue}return((J=U.supportTotals)==null?void 0:J[k.id])||0},ae=U=>Math.max(1,(U.activeMs||0)/1e3),ee=[...e.supportPlayers].map(U=>({...U,total:I(U),per1s:I(U)/ae(U),per60s:I(U)*60/ae(U)})).sort((U,ne)=>{const F=C.key==="fightTime"?Number(U.activeMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s),J=C.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s);return(C.dir==="desc"?J-F:F-J)||U.account.localeCompare(ne.account)});return u.jsx(gs,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(In,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(In,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>j("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>j("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ee.map((U,ne)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ne+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(U.profession,U.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:U.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const F=s==="total"?U.total:s==="per1s"?U.per1s:U.per60s,J=k.isTime?1:d&&s==="total"?0:2;return f(F,J)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:U.activeMs?`${(U.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${U.account}-${ne}`))})})})()})})]})},yie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x})=>{var ce;const[b,w]=v.useState({key:"value",dir:"desc"}),[S,C]=v.useState({columnId:((ce=t[0])==null?void 0:ce.id)||"value",dir:"desc"}),N=f==="healing-stats",[A,E]=v.useState([]),[_,T]=v.useState([]),M=Array.from(new Map(e.healingPlayers.map(K=>[K.account,K])).values()).map(K=>({id:K.account,label:K.account,icon:d(K.profession,K.professionList,"w-3 h-3")})),O=new Set([..._.map(K=>`column:${K}`),...A.map(K=>`player:${K}`)]),Y=t.map(K=>({id:K.id,label:K.label})),Q=_.length>0?t.filter(K=>_.includes(K.id)):t,ie=K=>{w(G=>({key:K,dir:G.key===K&&G.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(gO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...Y.map(K=>({...K,type:"column"})),...M.map(K=>({...K,type:"player"}))],onSelect:K=>{K.type==="column"?T(G=>G.includes(K.id)?G.filter(L=>L!==K.id):[...G,K.id]):E(G=>G.includes(K.id)?G.filter(L=>L!==K.id):[...G,K.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(In,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(gr,{options:Y,selectedIds:_,onToggle:K=>{T(G=>G.includes(K)?G.filter(L=>L!==K):[...G,K])},onClear:()=>T([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(K=>({value:K.id,label:K.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(gr,{options:M,selectedIds:A,onToggle:K=>{E(G=>G.includes(K)?G.filter(L=>L!==K):[...G,K])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(_.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(K=>{var L;const G=((L=Y.find(P=>P.id===K))==null?void 0:L.label)||K;return u.jsxs("button",{type:"button",onClick:()=>T(P=>P.filter(j=>j!==K)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:G}),u.jsx("span",{className:"text-gray-400",children:""})]},K)}),A.map(K=>u.jsxs("button",{type:"button",onClick:()=>E(G=>G.filter(L=>L!==K)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:K}),u.jsx("span",{className:"text-gray-400",children:""})]},K))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var j,W;const K=k=>Math.max(1,(k.activeMs||0)/1e3),G=k=>{const I=k.baseField==="resUtility",ae=I||i==="total"?"":i==="offSquad"?"offSquad":i;return I?s==="all"?"resUtility":`resUtility_${s}`:ae?`${ae}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},L=[...e.healingPlayers].filter(k=>A.length===0||A.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(I=>Number(I)>0)).map(k=>{const I={},ae={};return Q.forEach(ee=>{var J;const U=G(ee),ne=Number(((J=k.healingTotals)==null?void 0:J[U])??0),F=ee.perSecond?ne/K(k):ne;ae[ee.id]=F,I[ee.id]=c(F,ee.decimals)}),{row:k,values:I,numericValues:ae}}).sort((k,I)=>{var F,J;const ae=((F=Q.find(ue=>ue.id===S.columnId))==null?void 0:F.id)||((J=Q[0])==null?void 0:J.id)||"",ee=k.numericValues[ae]??0,U=I.numericValues[ae]??0;return(S.dir==="desc"?U-ee:ee-U)||String(k.row.account||"").localeCompare(String(I.row.account||""))}),P=((j=Q.find(k=>k.id===S.columnId))==null?void 0:j.id)||((W=Q[0])==null?void 0:W.id)||"";return u.jsx(hs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:P,sortDirection:S.dir,onSortColumn:k=>{C(I=>({columnId:k,dir:I.columnId===k&&I.dir==="desc"?"asc":"desc"}))},columns:Q.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:L.map((k,I)=>({id:`${k.row.account}-${I}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:I+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(Co,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(K=>u.jsx("button",{onClick:()=>r(K.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===K.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:K.label},K.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const K=t.find(k=>k.id===n)||t[0],G=K.baseField==="resUtility",L=k=>Math.max(1,(k.activeMs||0)/1e3),P=G||i==="total"?"":i==="offSquad"?"offSquad":i,j=G?s==="all"?"resUtility":`resUtility_${s}`:P?`${P}${K.baseField[0].toUpperCase()}${K.baseField.slice(1)}`:K.baseField,W=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(I=>Number(I)>0)).map(k=>{var ee;const I=Number(((ee=k.healingTotals)==null?void 0:ee[j])??0),ae=K.perSecond?I/L(k):I;return{...k,value:ae}}).sort((k,I)=>{const ae=b.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),ee=b.key==="fightTime"?Number(I.activeMs||0):Number(I.value||0);return(b.dir==="desc"?ee-ae:ae-ee)||k.account.localeCompare(I.account)});return u.jsx(gs,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:K.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(In,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(In,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ie("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[K.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ie("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:W.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):W.map((k,I)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:I+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,K.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${K.id}-${k.account}-${I}`))})})})()})})]})},bie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",wie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("total"),[w,S]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),A=c==="special-buffs",[E,_]=v.useState([]),[T,M]=v.useState([]),O=e.specialTables||[],Q=E.length>0?O.filter(j=>E.includes(j.id)):O,ie=r.map(j=>({id:j.id,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ce=Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:l(j.profession,j.professionList,"w-3 h-3")})),K=new Set([...E.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),G=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((W,k)=>{const I=Number((W==null?void 0:W[x])??0),ae=Number((k==null?void 0:k[x])??0),ee=w==="desc"?ae-I:I-ae;return ee!==0?ee:String((W==null?void 0:W.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),j},[s,x,w]),L=j=>{if(x===j){S(W=>W==="desc"?"asc":"desc");return}b(j),S("desc")},P=j=>x!==j?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(c0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ps,{options:[...O.map(j=>({id:j.id,label:j.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,type:"player",icon:l(j.profession,j.professionList,"w-3 h-3")}))],onSelect:j=>{j.type==="column"?_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):M(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:K,className:"w-full sm:w-64"}),u.jsx(gr,{options:ie,selectedIds:E,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonIcon:u.jsx(fs,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:ce,selectedIds:T,onToggle:j=>{M(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(In,{value:x,onChange:j=>b(j),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(j=>{var k;const W=((k=O.find(I=>I.id===j))==null?void 0:k.name)||j;return u.jsxs("button",{type:"button",onClick:()=>_(I=>I.filter(ae=>ae!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>M(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var U,ne;const j=Q,W=new Map,k=new Map;j.forEach(F=>{const J=new Map;F.rows.forEach(ue=>{const re=ue.account||ue.name||ue.id;re&&(J.set(re,ue),k.has(re)||k.set(re,ue))}),W.set(F.id,J)});const I=Array.from(k.entries()).filter(([F])=>T.length===0||T.includes(String(F))).map(([F,J])=>{const ue={},re={};return j.forEach(V=>{var ke;const B=(ke=W.get(V.id))==null?void 0:ke.get(F);if(!B){ue[V.id]="-",re[V.id]=0;return}if(x==="duration"){ue[V.id]=B.duration?`${B.duration.toFixed(1)}s`:"-",re[V.id]=Number(B.duration||0);return}const $=x==="total"?B.total:B.perSecond,te=x==="total"?0:1;re[V.id]=Number($||0),ue[V.id]=o($||0,te)}),{key:F,row:J,values:ue,numericValues:re}}),ae=((U=j.find(F=>F.id===C.columnId))==null?void 0:U.id)||(i&&j.some(F=>F.id===i)?i:void 0)||((ne=j[0])==null?void 0:ne.id)||"",ee=[...I].sort((F,J)=>{if(!ae)return String(F.key).localeCompare(String(J.key));const ue=F.numericValues[ae]??0,re=J.numericValues[ae]??0;return(C.dir==="desc"?re-ue:ue-re)||String(F.key).localeCompare(String(J.key))});return u.jsx(hs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:ae,sortDirection:C.dir,onSortColumn:F=>{N(J=>({columnId:F,dir:J.columnId===F&&J.dir==="desc"?"asc":"desc"}))},columns:j.map(F=>({id:F.id,label:u.jsx(Ar,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((F,J)=>({id:`${F.key}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),l(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.account||F.row.name||F.key})]}),values:F.values}))})})()})]}):u.jsx(Co,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(j=>u.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:bie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(gs,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Ar,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",P("total")]}),u.jsxs("button",{type:"button",onClick:()=>L("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",P("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>L("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P("duration")]})]}),rows:u.jsx(u.Fragment,{children:G.map((j,W)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(j.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(j.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.duration?`${j.duration.toFixed(1)}s`:"-"})]},`${s.id}-${j.account}-${W}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},kie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Sie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("desc"),w=c==="sigil-relic-uptime",S=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,A)=>{const E=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),_=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),T=x==="desc"?_-E:E-_;return T!==0?T:String((N==null?void 0:N.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),C},[s,x]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(T1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),e?u.jsx(Co,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:kie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(gs,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Ar,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const A=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(A,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Nie=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,y]=v.useState(null);v.useEffect(()=>{var Y,Q,ie;if(c.length===0){h(""),p("");return}const M=String(((Y=c[0])==null?void 0:Y.id)||""),O=String(((Q=c[1])==null?void 0:Q.id)||((ie=c[0])==null?void 0:ie.id)||"");h(ce=>ce&&c.some(K=>String(K.id)===ce)?ce:M),p(ce=>ce&&c.some(K=>String(K.id)===ce)?ce:O)},[c]);const x=v.useMemo(()=>c.find(M=>String(M.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(M=>String(M.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!x||!b)return[];const M=new Map,O=(Y,Q,ie,ce)=>{const K=String(Y||"Unknown"),G=M.get(K)||{label:K,aDamage:0,aShare:0,bDamage:0,bShare:0};Q==="a"?(G.aDamage=Number(ie||0),G.aShare=Number(ce||0)):(G.bDamage=Number(ie||0),G.bShare=Number(ce||0)),M.set(K,G)};return(x.targetFocus||[]).forEach(Y=>O(Y.label,"a",Y.damage,Y.share)),(b.targetFocus||[]).forEach(Y=>O(Y.label,"b",Y.damage,Y.share)),Array.from(M.values()).map(Y=>({...Y,shareDelta:Y.bShare-Y.aShare})).sort((Y,Q)=>Math.abs(Q.shareDelta)-Math.abs(Y.shareDelta)||Q.bDamage+Q.aDamage-(Y.bDamage+Y.aDamage))},[x,b]),S=v.useMemo(()=>{if(!g)return w;const M=g.direction==="asc"?1:-1,O=g.key;return[...w].sort((Y,Q)=>{const ie=(Number(Y[O])-Number(Q[O]))*M;return ie!==0?ie:Y.label.localeCompare(Q.label)})},[w,g]),C=v.useMemo(()=>{if(!x||!b)return[];const M=new Map((x.squadMetrics||[]).map(Q=>[Q.metricId,Q])),O=new Map((b.squadMetrics||[]).map(Q=>[Q.metricId,Q]));return Array.from(new Set([...M.keys(),...O.keys()])).map(Q=>{const ie=M.get(Q),ce=O.get(Q),K=!!((ie==null?void 0:ie.higherIsBetter)??(ce==null?void 0:ce.higherIsBetter)??!0),G=Number((ie==null?void 0:ie.value)||0),L=Number((ce==null?void 0:ce.value)||0);return{metricId:Q,metricLabel:String((ie==null?void 0:ie.metricLabel)||(ce==null?void 0:ce.metricLabel)||Q),higherIsBetter:K,a:ie,b:ce,delta:L-G}})},[x,b]),N=M=>`${t((Number(M)||0)*100,1)}%`,A=M=>M==="squadKdr"?2:0,E=M=>{y(O=>!O||O.key!==M?{key:M,direction:"desc"}:{key:M,direction:O.direction==="desc"?"asc":"desc"})},_=M=>(g==null?void 0:g.key)===M?g.direction==="desc"?" ":" ":"",T=M=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===M?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:M=>h(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-a-${M.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:M=>p(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-b-${M.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(gs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>E("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",_("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>E("aShare"),children:[x==null?void 0:x.shortLabel," Share",_("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>E("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",_("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>E("bShare"),children:[b==null?void 0:b.shortLabel," Share",_("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>E("shareDelta"),children:["Share Delta",_("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:S.map(M=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${M.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[M.shareDelta>=0?"+":"",N(M.shareDelta)]})]},`focus-${M.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(gs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(M=>{var Q,ie;const O=M.higherIsBetter?M.delta>=0:M.delta<=0,Y=A(M.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((Q=M.a)==null?void 0:Q.value)||0),Y)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ie=M.b)==null?void 0:ie.value)||0),Y)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[M.delta>0?"+":"",t(M.delta,Y)]})]},`performer-${M.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Cie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),jie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(In,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ev,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ev,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ev,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},GP={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Aie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=GP[r]||GP.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Pie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},YP=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Tie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(nc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(p6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(c0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(_p,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:YP(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,x,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(x=m.data)==null?void 0:x.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:YP(w.val,s)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",b=[{icon:b6,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Mu,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:gO,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:P6,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Cf,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:v6,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:y6,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:bO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:h6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?s(S):o(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var _,T,M,O;const C=i==="all",N=Pie((g==null?void 0:g[S.statKey])||[],S.higherIsBetter),A=N[0],E=A?{...S.data,value:Number(A.value||0),player:A.account||((_=S.data)==null?void 0:_.player)||"-",count:A.count||((T=S.data)==null?void 0:T.count)||0,profession:A.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:A.professionList||((O=S.data)==null?void 0:O.professionList)||[]}:S.data;return u.jsx(Aie,{...S,data:E,active:C,onClick:()=>a(Y=>Y==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Eie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const x=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Ar,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(u6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var x;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Ar,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Die=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(ew,{children:[u.jsx(Ag,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(Uu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(l0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(ew,{children:[u.jsx(Ag,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(Uu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Mie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(Mg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Vf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(qf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Ys,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Ys,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Oie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(ew,{children:[u.jsx(Ag,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Uu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(z5,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),XP=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:x,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:A,setSelectedSpikeFightIndex:E,spikeDrilldownTitle:_,spikeDrilldownData:T,spikeDrilldownDownIndices:M,spikeDrilldownDeathIndices:O,spikeFightSkillRows:Y=[],spikeFightSkillTitle:Q="Skill Damage (Selected Fight)",formatWithCommas:ie,renderProfessionIcon:ce})=>{const[K,G]=v.useState(null),[L,P]=v.useState(null),j=$=>String($||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=s===e,k=S?rc(S.profession):"#fda4af",I=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",ae=$=>y==="hit"?$.peakHit:y==="1s"?$.peak1s:y==="5s"?$.peak5s:$.peak30s,ee=g.flatMap($=>$.players.map(te=>({...te,groupProfession:$.profession}))).sort(($,te)=>{const ke=ae(te)-ae($);return ke!==0?ke:$.displayName.localeCompare(te.displayName)}),U=C.reduce(($,te)=>!$||te.damage>$.damage?te:$,null),ne=$=>{if(!Number.isFinite($)||$<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date($))}catch{return""}},F=T.reduce(($,te)=>Math.max($,Number(te.value||0)),0),J=Math.max(1,F),ue=new Set(M),re=new Set(O),V=T.map(($,te)=>({...$,downMarker:ue.has(te)?Math.max(Number($.value||0),J*.88):null,deathMarker:re.has(te)?Math.max(Number($.value||0),J*.96):null})),B=$=>te=>{const ke=Number(te==null?void 0:te.cx),Ve=Number(te==null?void 0:te.cy),oe=Number(te==null?void 0:te.index);if(!Number.isFinite(ke)||!Number.isFinite(Ve)||!Number.isFinite(oe))return null;const Ye=(te==null?void 0:te.payload)||{},Oe=$==="down"?Ye==null?void 0:Ye.downMarker:Ye==null?void 0:Ye.deathMarker;if(!Number.isFinite(Number(Oe)))return null;const bt=`${$}-${oe}`,Xt=K===bt,Nn=$==="down"?"#facc15":"#ef4444",En=$==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{G(bt),P({x:ke,y:Ve,kind:$,label:String((Ye==null?void 0:Ye.label)||"")})},onMouseLeave:()=>{G(he=>he===bt?null:he),P(he=>(he==null?void 0:he.kind)===$&&(he==null?void 0:he.label)===String((Ye==null?void 0:Ye.label)||"")?null:he)},children:[u.jsx("circle",{cx:ke,cy:Ve,r:Xt?10:7,fill:En,opacity:Xt?.35:.18}),u.jsx("circle",{cx:ke,cy:Ve,r:Xt?7:5.5,fill:Nn,stroke:"#0f172a",strokeWidth:Xt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${W?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:W?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Cf,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${W?"pr-10 md:pr-0":""}`,children:[u.jsx(In,{value:y,onChange:$=>x($),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>W?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${W?"absolute top-2 right-2 md:static":""}`,"aria-label":W?`Close ${t}`:`Expand ${t}`,title:W?"Close":"Expand",children:W?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(sa,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:$=>p($.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:ee.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:ee.map($=>{const te=b===$.key;return u.jsx("button",{type:"button",onClick:()=>w($.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${te?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce($.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:$.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:$.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[$.characterName||$.displayName,"  ",$.logs," ",$.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ie(ae($)||0,0)})]})},$.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",I]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(Mg,{data:C,onClick:$=>{const te=Number($==null?void 0:$.activeTooltipIndex);Number.isFinite(te)&&E(A===te?null:te)},children:[u.jsx(Vf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(qf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:$=>ie($,0)}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:($,te)=>[ie(Number($||0),0),String(te||"")],labelFormatter:($,te)=>{var oe;const ke=(oe=te==null?void 0:te[0])==null?void 0:oe.payload;if(!ke)return"";const Ve=j(ke.fullLabel||"");return y==="hit"&&ke.skillName?`${Ve}  ${ke.skillName}`:Ve}}),u.jsx(Ys,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:k,strokeWidth:3,dot:$=>{var Ve;const te=Number((Ve=$==null?void 0:$.payload)==null?void 0:Ve.index);if(!Number.isFinite(te))return null;const ke=A===te;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:oe=>{oe.stopPropagation(),E(ke?null:te)},children:[u.jsx("circle",{cx:$.cx,cy:$.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:$.cx,cy:$.cy,r:ke?4:3,fill:k,stroke:ke?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ke?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Ys,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ce(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${I}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ie(ae(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const $=j((U==null?void 0:U.fullLabel)||S.peakFightLabel||"N/A"),te=ne(Number((U==null?void 0:U.timestamp)||0)),ke=te?`${te} - ${$}`:$;return y!=="hit"?ke:S.peakSkillName?`${S.peakSkillName}  ${ke}`:ke})()})]})]}),S&&A!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),u.jsx("button",{type:"button",onClick:()=>E(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(Mg,{data:V,children:[u.jsx(Vf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(qf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:$=>ie($,0)}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:($,te)=>{const ke=String(te||"");return ke==="Down"?["Downed","Event"]:ke==="Death"?["Dead","Event"]:[ie(Number($||0),0),"Damage"]},labelFormatter:$=>String($||"")}),u.jsx(Ys,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Ys,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("down")}),u.jsx(Ys,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("death")})]})}),L&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,L.x)}px`,top:`${Math.max(8,L.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${L.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:L.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:L.label})]})]})})]}),S&&A!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${Y.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Q}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Y.length," ",Y.length===1?"skill":"skills"]})]}),Y.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Y.map(($,te)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:$.skillName,children:$.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ie(Number($.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ie(Number($.hits||0),0)})]},`${$.skillName}-${te}`))})]})]})]})},Iie=10,Dh=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},QP=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},_ie=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Lie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const y=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),S=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||C.includes(f)}),x=b=>Number(o==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...y].sort((b,w)=>{const S=x(w)-x(b);return S!==0?c==="desc"?S:-S:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>Iie,g=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(A=>{const E=(A.classTimes||[]).map(_=>`${_.profession} (${Dh(_.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),E,QP(Number(A.combatTimeMs??A.squadTimeMs??0)),QP(A.squadTimeMs)]}),b=[y,...x].map(A=>A.map(E=>_ie(String(E??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=S,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Nf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(g6,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:Dh(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Dh(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Dh(y.squadTimeMs)})]},y.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},$ie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Fie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),c=o.trim().toLowerCase(),d=rm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",$ie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Rie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Bie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Ko,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Rie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},zie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(xO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(nc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(c0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(A6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(N6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Uie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(k6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(vO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(wO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Vie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ns="space-y-1 pr-1 max-h-72 overflow-y-auto",Wie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Hie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function qie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,aggregationResult:p}){var PN,TN;const g=n||jO,y=r||eb,x=a||K6,b=y.showTopStats,w=y.showMvp,S=y.roundCountStats,C=y.topStatsMode||"total",[N,A]=v.useState(y.topSkillsMetric||"damage"),E=(i?y.topSkillsMetric:N)||"damage",_=x.uploading,T=x.message,M=x.url,O=x.buildStatus,Y=!c&&!1,Q=!!p,{result:ie}=XU({logs:Q?[]:e,precomputedStats:Q?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ce=p||ie,{stats:K,skillUsageData:G}=ce,L=v.useMemo(()=>{var xt,nn,jt,rn,ut,zn;const R=K&&typeof K=="object"?K:{},X=Pe=>Array.isArray(Pe)?Pe:[],xe=Pe=>Pe&&typeof Pe=="object"?Pe:{},Ue=(Pe,$t)=>Pe&&typeof Pe=="object"?Pe:$t,Ie={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Me={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},me={...R,total:Number(R.total||0),timelineData:X(R.timelineData),mapData:X(R.mapData),fightBreakdown:X(R.fightBreakdown),topSkills:X(R.topSkills),topIncomingSkills:X(R.topIncomingSkills),leaderboards:xe(R.leaderboards),topStatsPerSecond:xe(R.topStatsPerSecond),topStatsLeaderboardsPerSecond:xe(R.topStatsLeaderboardsPerSecond),maxDownContrib:Ue(R.maxDownContrib,Ie),maxBarrier:Ue(R.maxBarrier,Ie),maxHealing:Ue(R.maxHealing,Ie),maxDodges:Ue(R.maxDodges,Ie),maxStrips:Ue(R.maxStrips,Ie),maxCleanses:Ue(R.maxCleanses,Ie),maxCC:Ue(R.maxCC,Ie),maxStab:Ue(R.maxStab,Ie),closestToTag:Ue(R.closestToTag,Ie),mvp:{...Me,...xe(R.mvp),topStats:X((xt=R==null?void 0:R.mvp)==null?void 0:xt.topStats)},silver:Ue(R.silver,Me),bronze:Ue(R.bronze,Me),avgMvpScore:Number(R.avgMvpScore||0),offensePlayers:X(R.offensePlayers),defensePlayers:X(R.defensePlayers),damageMitigationPlayers:X(R.damageMitigationPlayers),damageMitigationMinions:X(R.damageMitigationMinions),supportPlayers:X(R.supportPlayers),healingPlayers:X(R.healingPlayers),boonTables:X(R.boonTables),specialTables:X(R.specialTables),outgoingConditionSummary:X(R.outgoingConditionSummary),outgoingConditionPlayers:X(R.outgoingConditionPlayers),incomingConditionSummary:X(R.incomingConditionSummary),incomingConditionPlayers:X(R.incomingConditionPlayers),squadClassData:X(R.squadClassData),enemyClassData:X(R.enemyClassData),attendanceData:X(R.attendanceData),squadCompByFight:X(R.squadCompByFight),fightDiffMode:X(R.fightDiffMode),playerSkillBreakdowns:X(R.playerSkillBreakdowns)},hn=X((nn=me.leaderboards)==null?void 0:nn.downContrib).map(Pe=>({...Pe,value:Number((Pe==null?void 0:Pe.value)??0)})).filter(Pe=>Number.isFinite(Pe.value)).sort((Pe,$t)=>$t.value-Pe.value||String((Pe==null?void 0:Pe.account)||"").localeCompare(String(($t==null?void 0:$t.account)||"")))[0];return hn&&(me.maxDownContrib={...me.maxDownContrib||{},value:Number(hn.value||0),player:String(hn.account||((jt=me.maxDownContrib)==null?void 0:jt.player)||"-"),count:Number(hn.count||((rn=me.maxDownContrib)==null?void 0:rn.count)||0),profession:String(hn.profession||((ut=me.maxDownContrib)==null?void 0:ut.profession)||"Unknown"),professionList:Array.isArray(hn.professionList)?hn.professionList:((zn=me.maxDownContrib)==null?void 0:zn.professionList)||[]}),me},[K]);v.useEffect(()=>{var xe;if(!((xe=window==null?void 0:window.electronAPI)!=null&&xe.fetchImageAsDataUrl))return;const R=new Set,X=Ue=>{if(Ue){if(typeof Ue=="string"){/^https?:\/\//i.test(Ue)&&R.add(Ue);return}if(Array.isArray(Ue)){Ue.forEach(X);return}typeof Ue=="object"&&Object.entries(Ue).forEach(([Ie,Me])=>{if((Ie==="icon"||Ie==="iconUrl")&&typeof Me=="string"){/^https?:\/\//i.test(Me)&&R.add(Me);return}X(Me)})}};X(L),R.size>0&&rie(Array.from(R))},[L]);const P=v.useMemo(()=>{const R=(l==null?void 0:l.skillUsageData)??G;return{logRecords:Array.isArray(R==null?void 0:R.logRecords)?R.logRecords:[],players:Array.isArray(R==null?void 0:R.players)?R.players:[],skillOptions:Array.isArray(R==null?void 0:R.skillOptions)?R.skillOptions:[],resUtilitySkills:Array.isArray(R==null?void 0:R.resUtilitySkills)?R.resUtilitySkills:[]}},[G,l==null?void 0:l.skillUsageData]),j=P.players.length>0;v.useEffect(()=>{i||A(y.topSkillsMetric||"damage")},[y.topSkillsMetric,i]);const W=R=>{if(i){i({...y,topSkillsMetric:R});return}A(R)},{scrollContainerRef:k}=E6(c),{devMockUploadState:I,webCopyStatus:ae,setWebCopyStatus:ee,handleWebUpload:U,handleDevMockUpload:ne}=tU({logs:e,stats:L,skillUsageData:P,activeStatsViewSettings:r||eb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:F,handleShare:J}=YU(c),ue={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},re=R=>{const X=ue[R];return X?g[X]>0:!0},[V,B]=v.useState(null),[$,te]=v.useState(null),[ke,Ve]=v.useState("totalBuffs"),[oe,Ye]=v.useState("total"),[Oe,bt]=v.useState(""),[Xt,Nn]=v.useState(null),[En,he]=v.useState(""),[Le,pt]=v.useState(null),[Jt,pn]=v.useState(""),[Pr,sr]=v.useState(""),[Zr,si]=v.useState(""),[vi,wn]=v.useState(""),[fn,yi]=v.useState(""),[ln,Or]=v.useState(""),[Tr,od]=v.useState(""),[Ao,wl]=v.useState("outgoing"),[Dc,kl]=v.useState(""),[Sl,Nl]=v.useState("damage"),[Z,ge]=v.useState("damageTaken"),[Se,dt]=v.useState("totalMitigation"),[mt,Lt]=v.useState("all"),[Kt,Ot]=v.useState({key:"damage",dir:"desc"}),gn=!(mt!=="all"&&Wie.has(mt)),Ir=gn?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Ke=gn?Kt:{key:"applications",dir:Kt.key==="applications"?Kt.dir:"desc"},[Ft,mn]=v.useState("condiCleanse"),[xn,Ln]=v.useState("healing"),[oi,Dn]=v.useState("total"),[bi,Cl]=v.useState("all"),[Sx,Nx]=v.useState("total"),[Cx,jx]=v.useState("total"),[Ax,D]=v.useState("total"),[H,q]=v.useState("total"),[Ee,de]=v.useState("all"),[Be,Ce]=v.useState("squad"),[ot,ht]=v.useState("player"),[kt,qt]=v.useState(""),[Vt,yn]=v.useState(""),[He,Qe]=v.useState(null),[rt,Dt]=v.useState([]),[lt,ve]=v.useState(null),[ye,Re]=v.useState(null),[Ae,tt]=v.useState("hit"),[fe,ze]=v.useState(null),[Je,$e]=v.useState(null),[et,Gt]=v.useState("hit"),[Mn,kn]=v.useState([]),[tn,en]=v.useState(null),[an,z]=v.useState(!1),le=v.useRef(null),[De,qe]=v.useState("sizes"),[Te,se]=v.useState("total"),_e=Te==="perSecond",[Ne,nt]=v.useState(null),[Bt,It]=v.useState("total"),[ft,Et]=v.useState(null),[zt,Ht]=v.useState(null),[St,Pt]=v.useState(null),[Fe,at]=v.useState(""),[gt,Nt]=v.useState(null),[cn,Cn]=v.useState(null),[$n,_r]=v.useState(null),[Bs,zs]=v.useState(""),[Mc,jl]=v.useState("player"),[ua,Oc]=v.useState(null),[zm,ld]=v.useState(null),[Pa,Al]=v.useState(null),{apmSpecBuckets:Ya}=QU(P),Xa=L.playerSkillBreakdowns||[],Ic=v.useMemo(()=>{const R=new Map;return Xa.forEach(X=>R.set(X.key,X)),R},[Xa]),je=v.useMemo(()=>{const R=new Map;return Xa.forEach(X=>{const xe=X.profession||"Unknown";R.has(xe)||R.set(xe,{profession:xe,players:[],skills:new Map});const Ue=R.get(xe);Ue.players.push(X),X.skills.forEach(Ie=>{var me;const Me=Ue.skills.get(Ie.id)||{...Ie,damage:0,downContribution:0};Me.damage+=Number(Ie.damage||0),Me.downContribution+=Number(Ie.downContribution||0),!Me.icon&&Ie.icon&&(Me.icon=Ie.icon),(me=Me.name)!=null&&me.startsWith("Skill ")&&!Ie.name.startsWith("Skill ")&&(Me.name=Ie.name),Ue.skills.set(Ie.id,Me)})}),Array.from(R.values()).map(X=>{const xe=Array.from(X.skills.values()).sort((Ie,Me)=>Me.damage-Ie.damage),Ue=xe.reduce((Ie,Me)=>(Ie[Me.id]=Me,Ie),{});return{profession:X.profession,players:X.players,skills:xe,skillMap:Ue}}).sort((X,xe)=>X.profession.localeCompare(xe.profession))},[Xa]),We=gt&&Ic.get(gt)||null,Ze=We&&$n&&((PN=We.skillMap)==null?void 0:PN[$n])||null,ct=v.useMemo(()=>{const R=new Map;return je.forEach(X=>R.set(X.profession,X)),R},[je]),Ut=ua&&ct.get(ua)||null,dr=Ut&&Pa&&((TN=Ut.skillMap)==null?void 0:TN[Pa])||null,Pn=v.useMemo(()=>{const R=Pe=>String(Pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=Pe=>R(Pe).toLowerCase().split(/[^a-z0-9]+/i).map($t=>$t.trim()).filter(Boolean).map($t=>$t.length>3&&$t.endsWith("s")?$t.slice(0,-1):$t),xe=(Pe,$t)=>{const we=R(Pe),Un=R($t);if(!Un)return we;if(!we)return Un;const Vr=X(we),br=X(Un),fr=new Set(Vr),jn=new Set(br),Li=br.length>0&&br.every(Zn=>fr.has(Zn)),Mt=Vr.length>0&&Vr.every(Zn=>jn.has(Zn));return Li||Mt?we:`${we} - ${Un}`},Ue=Pe=>{if(Pe==null||Pe==="")return 0;if(typeof Pe=="number")return!Number.isFinite(Pe)||Pe<=0?0:Pe>1e12?Pe:Pe*1e3;if(Pe instanceof Date){const fr=Pe.getTime();return Number.isFinite(fr)&&fr>0?fr:0}const $t=String(Pe).trim();if(!$t)return 0;const we=Number($t);if(Number.isFinite(we)&&we>0)return we>1e12?we:we*1e3;const Un=Date.parse($t);if(Number.isFinite(Un)&&Un>0)return Un;const Vr=$t.replace(/([+-]\d{2})$/,"$1:00"),br=Date.parse(Vr);return Number.isFinite(br)&&br>0?br:0},Ie=(Pe,$t)=>Ue((Pe==null?void 0:Pe.uploadTime)??($t==null?void 0:$t.uploadTime)??(Pe==null?void 0:Pe.timeStartStd)??(Pe==null?void 0:Pe.timeStart)??(Pe==null?void 0:Pe.timeEndStd)??(Pe==null?void 0:Pe.timeEnd)),Me=L==null?void 0:L.spikeDamage,me=Array.isArray(Me==null?void 0:Me.fights)?Me.fights:[],it=Array.isArray(Me==null?void 0:Me.players)?Me.players:[],hn=me.some(Pe=>(Pe!=null&&Pe.values&&typeof Pe.values=="object"?Object.values(Pe.values):[]).some(we=>we&&typeof we=="object"&&(Number(we.burst1s||0)>0||Number(we.burst5s||0)>0||Number(we.burst30s||0)>0)))||it.some(Pe=>Number((Pe==null?void 0:Pe.peak1s)||0)>0||Number((Pe==null?void 0:Pe.peak5s)||0)>0||Number((Pe==null?void 0:Pe.peak30s)||0)>0);if((me.length>0||it.length>0)&&(hn||e.length===0)){const Pe=me.map((we,Un)=>{const Vr=we!=null&&we.values&&typeof we.values=="object"?we.values:{},br={};return Object.entries(Vr).forEach(([fr,jn])=>{if(jn&&typeof jn=="object"){const Li=Number(jn.damage||0);br[fr]={hit:Number(jn.hit??Li),burst1s:Number(jn.burst1s||0),burst5s:Number(jn.burst5s||0),burst30s:Number(jn.burst30s||0),skillName:String(jn.skillName||""),buckets5s:Array.isArray(jn.buckets5s)?jn.buckets5s.map(Mt=>Number(Mt||0)):void 0,downIndices5s:Array.isArray(jn.downIndices5s)?jn.downIndices5s.map(Mt=>Number(Mt)).filter(Mt=>Number.isFinite(Mt)&&Mt>=0):void 0,deathIndices5s:Array.isArray(jn.deathIndices5s)?jn.deathIndices5s.map(Mt=>Number(Mt)).filter(Mt=>Number.isFinite(Mt)&&Mt>=0):void 0,skillRows:Array.isArray(jn.skillRows)?jn.skillRows.map(Mt=>({skillName:String((Mt==null?void 0:Mt.skillName)||(Mt==null?void 0:Mt.name)||"Unknown Skill"),damage:Number((Mt==null?void 0:Mt.damage)||0),hits:Number((Mt==null?void 0:Mt.hits)||0),icon:typeof(Mt==null?void 0:Mt.icon)=="string"?Mt.icon:void 0})).filter(Mt=>Number.isFinite(Mt.damage)&&Mt.damage>0):void 0};return}br[fr]={hit:Number(jn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((we==null?void 0:we.id)||`fight-${Un+1}`),shortLabel:String((we==null?void 0:we.shortLabel)||`F${Un+1}`),fullLabel:R((we==null?void 0:we.fullLabel)||`Fight ${Un+1}`),timestamp:Number((we==null?void 0:we.timestamp)||0),values:br,maxHit:Number((we==null?void 0:we.maxHit)??(we==null?void 0:we.maxDamage)??0),max1s:Number((we==null?void 0:we.max1s)||0),max5s:Number((we==null?void 0:we.max5s)||0),max30s:Number((we==null?void 0:we.max30s)||0)}}),$t=it.map(we=>({key:String((we==null?void 0:we.key)||""),account:String((we==null?void 0:we.account)||"Unknown"),displayName:String((we==null?void 0:we.displayName)||(we==null?void 0:we.account)||"Unknown"),characterName:String((we==null?void 0:we.characterName)||(we==null?void 0:we.name)||(we==null?void 0:we.character_name)||(we==null?void 0:we.display_name)||""),profession:String((we==null?void 0:we.profession)||"Unknown"),professionList:Array.isArray(we==null?void 0:we.professionList)?we.professionList.map(Un=>String(Un)):[],logs:Number((we==null?void 0:we.logs)||0),peakHit:Number((we==null?void 0:we.peakHit)||0),peak1s:Number((we==null?void 0:we.peak1s)||0),peak5s:Number((we==null?void 0:we.peak5s)||0),peak30s:Number((we==null?void 0:we.peak30s)||0),peakFightLabel:R((we==null?void 0:we.peakFightLabel)||""),peakSkillName:String((we==null?void 0:we.peakSkillName)||"")}));return{fights:Pe,players:$t}}const nn=(Pe,$t)=>{const we=($t==null?void 0:$t.skillMap)||{},Un=($t==null?void 0:$t.buffMap)||{};let Vr=0,br="";const fr=Mt=>{const Zn=Number(Mt);if(!Number.isFinite(Zn))return String(Mt||"Unknown Skill");const sn=(we==null?void 0:we[`s${Zn}`])||(we==null?void 0:we[`${Zn}`]);if(sn!=null&&sn.name)return String(sn.name);const wt=(Un==null?void 0:Un[`b${Zn}`])||(Un==null?void 0:Un[`${Zn}`]);return wt!=null&&wt.name?String(wt.name):`Skill ${Zn}`},jn=Mt=>{if(!Mt||typeof Mt!="object")return;const Zn=[Number(Mt.max),Number(Mt.maxDamage),Number(Mt.maxHit)].filter(wt=>Number.isFinite(wt)),sn=Zn.length>0?Math.max(...Zn):0;sn>Vr&&(Vr=sn,br=fr(Mt.id))};let Li=!1;return Array.isArray(Pe==null?void 0:Pe.targetDamageDist)&&Pe.targetDamageDist.forEach(Mt=>{Array.isArray(Mt)&&Mt.forEach(Zn=>{Array.isArray(Zn)&&Zn.forEach(sn=>{Li=!0,jn(sn)})})}),(!Li||Vr<=0)&&Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(Mt=>{Array.isArray(Mt)&&Mt.forEach(Zn=>jn(Zn))}),{peak:Vr,skillName:br||"Unknown Skill"}},jt=(Pe,$t)=>{const we=sn=>{if(!Array.isArray(sn)||sn.length===0)return[];const wt=[];for(let Yt=0;Yt<sn.length;Yt+=1){const wr=Number(sn[Yt]||0),Jn=Yt>0?Number(sn[Yt-1]||0):0;wt.push(Math.max(0,wr-Jn))}return wt},Un=(sn,wt)=>{if(!Array.isArray(sn)||sn.length===0||wt<=0)return 0;let Yt=0,wr=0;for(let Jn=0;Jn<sn.length;Jn+=1)Yt+=Number(sn[Jn]||0),Jn>=wt&&(Yt-=Number(sn[Jn-wt]||0)),Jn>=wt-1&&Yt>wr&&(wr=Yt);return Math.max(0,wr)},Vr=sn=>{if(!Array.isArray(sn))return[];const wt=sn.reduce((wr,Jn)=>Math.max(wr,Array.isArray(Jn)?Jn.length:0),0);if(wt<=0)return[];const Yt=new Array(wt).fill(0);return sn.forEach(wr=>{if(Array.isArray(wr))for(let Jn=0;Jn<wt;Jn+=1)Yt[Jn]+=Number(wr[Jn]||0)}),Yt},br=sn=>Array.isArray(sn)?sn.map(wt=>Number(wt||0)):null,jn=(sn=>{if(!Array.isArray(sn)||sn.length===0)return null;const wt=sn[0];if(!Array.isArray(wt))return null;if(Array.isArray(wt[0])&&Array.isArray(wt[0][0]))return Vr(wt);if(Array.isArray(wt[0])&&!Array.isArray(wt[0][0])){const Yt=sn.map(wr=>br(Array.isArray(wr)?wr[0]:null)).filter(wr=>Array.isArray(wr)&&wr.length>0);if(Yt.length>0)return Vr(Yt)}return null})(Pe==null?void 0:Pe.targetDamage1S),Li=Array.isArray(Pe==null?void 0:Pe.damage1S)&&Array.isArray(Pe.damage1S[0])?Pe.damage1S[0]:null,Mt=jn||(Array.isArray(Li)?Li.map(sn=>Number(sn||0)):[]),Zn=we(Mt);return Un(Zn,$t)},rn=[],ut=new Map;e.forEach(Pe=>{const $t=Pe==null?void 0:Pe.details;if(!$t)return;const we=rn.length+1,Un=R($t.fightName||Pe.fightName||`Fight ${we}`),Vr=$t.zone||$t.mapName||$t.map||$t.location||"",br=xe(Un,String(Vr||"")),fr={};(Array.isArray($t.players)?$t.players:[]).forEach(wt=>{if(wt!=null&&wt.notInSquad)return;const Yt=String((wt==null?void 0:wt.account)||(wt==null?void 0:wt.name)||"Unknown"),wr=String((wt==null?void 0:wt.character_name)||(wt==null?void 0:wt.display_name)||(wt==null?void 0:wt.name)||""),Jn=String((wt==null?void 0:wt.profession)||"Unknown"),$c=`${Yt}|${Jn}`,Ym=nn(wt,$t),Fc=Number(Ym.peak||0),Rc=Number(jt(wt,1)||0),dd=Number(jt(wt,5)||0),Ml=Number(jt(wt,30)||0);fr[$c]={hit:Fc,burst1s:Rc,burst5s:dd,burst30s:Ml,skillName:Ym.skillName};const kr=ut.get($c)||{key:$c,account:Yt,displayName:Yt,characterName:wr,profession:Jn,professionList:[Jn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};kr.logs+=1,kr.professionList.includes(Jn)||kr.professionList.push(Jn),!kr.characterName&&wr&&(kr.characterName=wr),Fc>kr.peakHit&&(kr.peakHit=Fc,kr.peakFightLabel=br,kr.peakSkillName=Ym.skillName),Rc>kr.peak1s&&(kr.peak1s=Rc),dd>kr.peak5s&&(kr.peak5s=dd),Ml>kr.peak30s&&(kr.peak30s=Ml),ut.set($c,kr)});const Li=Object.values(fr).reduce((wt,Yt)=>Math.max(wt,Number((Yt==null?void 0:Yt.hit)||0)),0),Mt=Object.values(fr).reduce((wt,Yt)=>Math.max(wt,Number((Yt==null?void 0:Yt.burst1s)||0)),0),Zn=Object.values(fr).reduce((wt,Yt)=>Math.max(wt,Number((Yt==null?void 0:Yt.burst5s)||0)),0),sn=Object.values(fr).reduce((wt,Yt)=>Math.max(wt,Number((Yt==null?void 0:Yt.burst30s)||0)),0);rn.push({id:Pe.filePath||Pe.id||`fight-${we}`,shortLabel:`F${we}`,fullLabel:br,timestamp:Ie($t,Pe),values:fr,maxHit:Li,max1s:Mt,max5s:Zn,max30s:sn})});const zn=Array.from(ut.values()).sort((Pe,$t)=>$t.peakHit!==Pe.peakHit?$t.peakHit-Pe.peakHit:Pe.displayName.localeCompare($t.displayName));return{fights:rn,players:zn}},[e,L]),Fn=v.useMemo(()=>{const R=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=L==null?void 0:L.incomingStrikeDamage,xe=Array.isArray(X==null?void 0:X.fights)?X.fights:[],Ue=Array.isArray(X==null?void 0:X.players)?X.players:[];if(xe.length===0&&Ue.length===0)return{fights:[],players:[]};const Ie=xe.map((me,it)=>{const hn=me!=null&&me.values&&typeof me.values=="object"?me.values:{},xt={};return Object.entries(hn).forEach(([nn,jt])=>{if(jt&&typeof jt=="object"){const rn=Number(jt.damage||0);xt[nn]={hit:Number(jt.hit??rn),burst1s:Number(jt.burst1s||0),burst5s:Number(jt.burst5s||0),burst30s:Number(jt.burst30s||0),skillName:String(jt.skillName||""),buckets5s:Array.isArray(jt.buckets5s)?jt.buckets5s.map(ut=>Number(ut||0)):void 0,downIndices5s:Array.isArray(jt.downIndices5s)?jt.downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):void 0,deathIndices5s:Array.isArray(jt.deathIndices5s)?jt.deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):void 0,skillRows:Array.isArray(jt.skillRows)?jt.skillRows.map(ut=>({skillName:String((ut==null?void 0:ut.skillName)||(ut==null?void 0:ut.name)||"Unknown Skill"),damage:Number((ut==null?void 0:ut.damage)||0),hits:Number((ut==null?void 0:ut.hits)||0),icon:typeof(ut==null?void 0:ut.icon)=="string"?ut.icon:void 0})).filter(ut=>Number.isFinite(ut.damage)&&ut.damage>0):void 0};return}xt[nn]={hit:Number(jt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((me==null?void 0:me.id)||`fight-${it+1}`),shortLabel:String((me==null?void 0:me.shortLabel)||`F${it+1}`),fullLabel:R((me==null?void 0:me.fullLabel)||`Fight ${it+1}`),timestamp:Number((me==null?void 0:me.timestamp)||0),values:xt,maxHit:Number((me==null?void 0:me.maxHit)??(me==null?void 0:me.maxDamage)??0),max1s:Number((me==null?void 0:me.max1s)||0),max5s:Number((me==null?void 0:me.max5s)||0),max30s:Number((me==null?void 0:me.max30s)||0)}}),Me=Ue.map(me=>({key:String((me==null?void 0:me.key)||""),account:String((me==null?void 0:me.account)||"Unknown"),displayName:String((me==null?void 0:me.displayName)||(me==null?void 0:me.account)||"Unknown"),characterName:String((me==null?void 0:me.characterName)||(me==null?void 0:me.name)||(me==null?void 0:me.character_name)||(me==null?void 0:me.display_name)||""),profession:String((me==null?void 0:me.profession)||"Unknown"),professionList:Array.isArray(me==null?void 0:me.professionList)?me.professionList.map(it=>String(it)):[],logs:Number((me==null?void 0:me.logs)||0),peakHit:Number((me==null?void 0:me.peakHit)||0),peak1s:Number((me==null?void 0:me.peak1s)||0),peak5s:Number((me==null?void 0:me.peak5s)||0),peak30s:Number((me==null?void 0:me.peak30s)||0),peakFightLabel:R((me==null?void 0:me.peakFightLabel)||""),peakSkillName:String((me==null?void 0:me.peakSkillName)||"")}));return{fights:Ie,players:Me}},[L]),wi=v.useMemo(()=>{const R=new Map;return Pn.players.forEach(X=>R.set(X.key,X)),R},[Pn.players]),Po=v.useMemo(()=>{const R=Ie=>Ae==="hit"?Ie.peakHit:Ae==="1s"?Ie.peak1s:Ae==="5s"?Ie.peak5s:Ie.peak30s,X=ln.trim().toLowerCase(),xe=X?Pn.players.filter(Ie=>Ie.displayName.toLowerCase().includes(X)||Ie.account.toLowerCase().includes(X)||Ie.profession.toLowerCase().includes(X)):Pn.players,Ue=new Map;return xe.forEach(Ie=>{const Me=Ie.profession||"Unknown",me=Ue.get(Me)||[];me.push(Ie),Ue.set(Me,me)}),Array.from(Ue.entries()).map(([Ie,Me])=>({profession:Ie,players:[...Me].sort((me,it)=>R(it)-R(me)||me.displayName.localeCompare(it.displayName))})).sort((Ie,Me)=>Ie.profession.localeCompare(Me.profession))},[Pn.players,ln,Ae]),To=lt&&wi.get(lt)||null,ki=v.useMemo(()=>{if(!lt)return[];const R=xe=>xe?Number(Ae==="hit"?xe.hit||0:Ae==="1s"?xe.burst1s||0:Ae==="5s"?xe.burst5s||0:xe.burst30s||0):0,X=xe=>Number(Ae==="hit"?xe.maxHit||0:Ae==="1s"?xe.max1s||0:Ae==="5s"?xe.max5s||0:xe.max30s||0);return Pn.fights.map((xe,Ue)=>{var Ie;return{index:Ue,fightId:xe.id,shortLabel:xe.shortLabel,fullLabel:xe.fullLabel,timestamp:Number(xe.timestamp||0),damage:R(xe.values[lt]),maxDamage:X(xe),skillName:String(((Ie=xe.values[lt])==null?void 0:Ie.skillName)||"")}})},[Pn.fights,lt,Ae]),Pl=v.useMemo(()=>{const R=ki.reduce((xe,Ue)=>Math.max(xe,Number(Ue.damage||0)),0),X=ki.reduce((xe,Ue)=>Math.max(xe,Number(Ue.maxDamage||0)),0);return Math.max(1,R,X)},[ki]),li=v.useMemo(()=>{var DN,MN,ON,IN,_N,LN,$N,FN,RN;const R=ye===null?null:ki.find(be=>be.index===ye)||null;if(!R||!lt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=Pn.fights.find((be,st)=>String(be.id||"")===String(R.fightId||"")||st===R.index)||null,[xe,Ue]=lt.split("|"),Ie=e.find(be=>String((be==null?void 0:be.filePath)||(be==null?void 0:be.id)||"")===String(R.fightId||"")),Me=Ie==null?void 0:Ie.details,me=be=>Array.isArray(be)?be.map(st=>Array.isArray(st)?[Number(st[0]),Number(st[1])]:st&&typeof st=="object"?[Number(st.time),Number(st.value)]:null).filter(st=>!!st&&Number.isFinite(st[0])&&st[0]>=0):[],it=be=>String(be||"").trim().toLowerCase(),hn=it(xe),xt=it(Ue),nn=wi.get(lt),jt=new Set([it(nn==null?void 0:nn.displayName),it(nn==null?void 0:nn.characterName),it(nn==null?void 0:nn.account)].filter(Boolean)),rn=Array.isArray(Me==null?void 0:Me.players)&&((DN=Me.players.map(be=>{const st=it(be==null?void 0:be.account),Qt=it(be==null?void 0:be.name),er=it(be==null?void 0:be.profession),Tn=!!st&&st===hn,Rn=!!Qt&&(Qt===hn||jt.has(Qt)),Yi=!!st&&jt.has(st),Mo=!xt||er===xt;let Ja=0;return Tn&&(Ja+=100),Rn&&(Ja+=90),Yi&&(Ja+=80),Mo&&(Ja+=20),{player:be,score:Ja}}).filter(be=>be.score>0).sort((be,st)=>st.score-be.score)[0])==null?void 0:DN.player)||null,ut=(()=>{const be=rn==null?void 0:rn.combatReplayData;return Array.isArray(be)?be.filter(st=>st&&typeof st=="object"):be&&typeof be=="object"?[be]:[]})(),zn=ut.flatMap(be=>me(be==null?void 0:be.down).map(([st])=>st)),Pe=ut.flatMap(be=>me(be==null?void 0:be.dead).map(([st])=>st)),$t=ut.map(be=>Number(be==null?void 0:be.start)).filter(be=>Number.isFinite(be)&&be>=0),we=Array.isArray(Me==null?void 0:Me.players)?Me.players.flatMap(be=>{const st=be==null?void 0:be.combatReplayData;return Array.isArray(st)?st.map(Qt=>Number(Qt==null?void 0:Qt.start)):[Number(st==null?void 0:st.start)]}).filter(be=>Number.isFinite(be)&&be>=0).reduce((be,st)=>Math.min(be,st),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Un=[0,Number((Me==null?void 0:Me.logStartOffset)||0),...$t,Number.isFinite(we)?we:0].filter(be=>Number.isFinite(be)&&be>=0),Vr=be=>{const st=Math.max(0,Math.floor(Number(be||0)/1e3)),Qt=Math.floor(st/5)*5;return`${Qt}s-${Qt+5}s`},br=(be,st)=>{if(be.length===0||st.length===0)return[];const Qt=st.length*5e3,er=mr=>mr.reduce((ws,Bc)=>Bc>=0&&Bc<=Qt+2e3?ws+1:ws,0),Tn=[],Rn=be.map(mr=>Number(mr||0)).filter(mr=>Number.isFinite(mr)&&mr>=0);if(Rn.length===0)return[];Tn.push(Rn);const Yi=Rn.reduce((mr,ws)=>Math.max(mr,ws),0),Mo=Rn.reduce((mr,ws)=>Math.min(mr,ws),Number.POSITIVE_INFINITY);Yi>Qt*20&&Tn.push(Rn.map(mr=>mr/1e3)),Yi<=Qt*2&&Mo>=0&&Yi>0&&Yi<Math.max(120,st.length*5+10)&&Tn.push(Rn.map(mr=>mr*1e3));let Ja=Rn,BN=0,zN=-1;return Tn.forEach(mr=>{const ws=new Set(Un),Bc=mr.reduce((Ol,Tx)=>Math.min(Ol,Tx),Number.POSITIVE_INFINITY);if(Number.isFinite(Bc)&&Qt>0&&Bc>Qt){const Ol=Math.floor(Bc/Qt)*Qt;ws.add(Ol),ws.add(Math.max(0,Ol-Qt))}ws.forEach(Ol=>{const Tx=mr.map(CR=>CR-Ol),UN=er(Tx);UN>zN&&(zN=UN,BN=Ol,Ja=mr)})}),Ja.map(mr=>mr-BN).filter(mr=>Number.isFinite(mr)&&mr>=0)},fr=(be,st)=>{if(be.length===0||st.length===0)return[];const Qt=br(st,be),er=new Map;be.forEach(Rn=>{const Yi=/^(\d+)s-/.exec(String(Rn));if(!Yi)return;const Mo=Number(Yi[1]);Number.isFinite(Mo)&&er.set(Mo,Rn)});const Tn=[];return Qt.forEach(Rn=>{const Yi=Math.max(0,Math.floor(Number(Rn||0)/1e3)),Mo=Math.floor(Yi/5)*5,Ja=er.get(Mo)||Vr(Rn);be.includes(Ja)&&Tn.push(Ja)}),Array.from(new Set(Tn))},jn=(be,st)=>{if(be<=0||st.length===0)return[];const Qt=Array.from({length:be},(Rn,Yi)=>`${Yi*5}s-${(Yi+1)*5}s`),Tn=br(st,Qt).map(Rn=>Math.floor(Math.max(0,Number(Rn||0))/5e3)).filter(Rn=>Number.isFinite(Rn)&&Rn>=0&&Rn<be);return Array.from(new Set(Tn))},Li=Array.isArray((ON=(MN=X==null?void 0:X.values)==null?void 0:MN[lt])==null?void 0:ON.buckets5s)?((_N=(IN=X==null?void 0:X.values)==null?void 0:IN[lt])==null?void 0:_N.buckets5s)||[]:[],Mt=Array.isArray(($N=(LN=X==null?void 0:X.values)==null?void 0:LN[lt])==null?void 0:$N.downIndices5s)?X.values[lt].downIndices5s.map(be=>Number(be)).filter(be=>Number.isFinite(be)&&be>=0):[],Zn=Array.isArray((RN=(FN=X==null?void 0:X.values)==null?void 0:FN[lt])==null?void 0:RN.deathIndices5s)?X.values[lt].deathIndices5s.map(be=>Number(be)).filter(be=>Number.isFinite(be)&&be>=0):[];if(Li.length>0){const be=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/5e3)),st=Math.max(Li.length,be),Qt=Array.from({length:st},(Tn,Rn)=>({label:`${Rn*5}s-${(Rn+1)*5}s`,value:Number(Li[Rn]||0)})),er=Qt.map(Tn=>Tn.label);return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:Qt,downLabels:fr(er,zn),deathLabels:fr(er,Pe),downIndices:Mt.length>0?Mt.filter(Tn=>Tn<Qt.length):jn(Qt.length,zn),deathIndices:Zn.length>0?Zn.filter(Tn=>Tn<Qt.length):jn(Qt.length,Pe)}}const sn=R.shortLabel||"Fight";if(!Me||!Array.isArray(Me.players))return{title:`Fight Breakdown - ${sn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const wt=Me.players.find(be=>String((be==null?void 0:be.account)||(be==null?void 0:be.name)||"Unknown")===xe&&String((be==null?void 0:be.profession)||"Unknown")===Ue);if(!wt)return{title:`Fight Breakdown - ${sn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Yt=wt,wr=be=>{if(!Array.isArray(be)||be.length===0)return[];const st=[];for(let Qt=0;Qt<be.length;Qt+=1){const er=Number(be[Qt]||0),Tn=Qt>0?Number(be[Qt-1]||0):0;st.push(Math.max(0,er-Tn))}return st},Jn=be=>{if(!Array.isArray(be))return[];const st=be.reduce((er,Tn)=>Math.max(er,Array.isArray(Tn)?Tn.length:0),0);if(st<=0)return[];const Qt=new Array(st).fill(0);return be.forEach(er=>{if(Array.isArray(er))for(let Tn=0;Tn<st;Tn+=1)Qt[Tn]+=Number(er[Tn]||0)}),Qt},$c=be=>Array.isArray(be)?be.map(st=>Number(st||0)):null,Fc=(be=>{if(!Array.isArray(be)||be.length===0)return null;const st=be[0];if(!Array.isArray(st))return null;if(Array.isArray(st[0])&&Array.isArray(st[0][0]))return Jn(st);if(Array.isArray(st[0])&&!Array.isArray(st[0][0])){const Qt=be.map(er=>$c(Array.isArray(er)?er[0]:null)).filter(er=>Array.isArray(er)&&er.length>0);if(Qt.length>0)return Jn(Qt)}return null})(Yt==null?void 0:Yt.targetDamage1S),Rc=Array.isArray(Yt==null?void 0:Yt.damage1S)&&Array.isArray(Yt.damage1S[0])?Yt.damage1S[0]:null,dd=Fc||(Array.isArray(Rc)?Rc.map(be=>Number(be||0)):[]),Ml=wr(dd),kr=5,kR=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/(kr*1e3))),SR=Math.max(0,Math.ceil(Ml.length/kr)),NR=Math.max(kR,SR),fd=[];for(let be=0;be<NR;be+=1){const st=be*kr,Qt=Math.min(st+kr,Ml.length),er=Ml.slice(st,Qt).reduce((Tn,Rn)=>Tn+Number(Rn||0),0);fd.push({label:`${st}s-${st+kr}s`,value:er})}const EN=fd.map(be=>be.label);return{title:`Fight Breakdown - ${sn} (5s Damage Buckets)`,data:fd,downLabels:fr(EN,zn),deathLabels:fr(EN,Pe),downIndices:jn(fd.length,zn),deathIndices:jn(fd.length,Pe)}},[ye,ki,lt,e,Pn.fights,wi]),_c=v.useMemo(()=>{const R=new Map;return Fn.players.forEach(X=>R.set(X.key,X)),R},[Fn.players]),cd=v.useMemo(()=>{const R=Ie=>et==="hit"?Ie.peakHit:et==="1s"?Ie.peak1s:et==="5s"?Ie.peak5s:Ie.peak30s,X=Tr.trim().toLowerCase(),xe=X?Fn.players.filter(Ie=>Ie.displayName.toLowerCase().includes(X)||Ie.account.toLowerCase().includes(X)||Ie.profession.toLowerCase().includes(X)):Fn.players,Ue=new Map;return xe.forEach(Ie=>{const Me=Ie.profession||"Unknown",me=Ue.get(Me)||[];me.push(Ie),Ue.set(Me,me)}),Array.from(Ue.entries()).map(([Ie,Me])=>({profession:Ie,players:[...Me].sort((me,it)=>R(it)-R(me)||me.displayName.localeCompare(it.displayName))})).sort((Ie,Me)=>Ie.profession.localeCompare(Me.profession))},[Fn.players,Tr,et]),Ta=fe&&_c.get(fe)||null,ci=v.useMemo(()=>{if(!fe)return[];const R=xe=>xe?Number(et==="hit"?xe.hit||0:et==="1s"?xe.burst1s||0:et==="5s"?xe.burst5s||0:xe.burst30s||0):0,X=xe=>Number(et==="hit"?xe.maxHit||0:et==="1s"?xe.max1s||0:et==="5s"?xe.max5s||0:xe.max30s||0);return Fn.fights.map((xe,Ue)=>{var Ie;return{index:Ue,fightId:xe.id,shortLabel:xe.shortLabel,fullLabel:xe.fullLabel,timestamp:Number(xe.timestamp||0),damage:R(xe.values[fe]),maxDamage:X(xe),skillName:String(((Ie=xe.values[fe])==null?void 0:Ie.skillName)||"")}})},[Fn.fights,fe,et]),Um=v.useMemo(()=>{const R=ci.reduce((xe,Ue)=>Math.max(xe,Number(Ue.damage||0)),0),X=ci.reduce((xe,Ue)=>Math.max(xe,Number(Ue.maxDamage||0)),0);return Math.max(1,R,X)},[ci]),Tl=v.useMemo(()=>{var Me,me,it,hn,xt,nn,jt,rn;const R=Je===null?null:ci.find(ut=>ut.index===Je)||null;if(!R||!fe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=Fn.fights.find((ut,zn)=>String(ut.id||"")===String(R.fightId||"")||zn===R.index)||null,xe=Array.isArray((me=(Me=X==null?void 0:X.values)==null?void 0:Me[fe])==null?void 0:me.buckets5s)?((hn=(it=X==null?void 0:X.values)==null?void 0:it[fe])==null?void 0:hn.buckets5s)||[]:[],Ue=Array.isArray((nn=(xt=X==null?void 0:X.values)==null?void 0:xt[fe])==null?void 0:nn.downIndices5s)?X.values[fe].downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[],Ie=Array.isArray((rn=(jt=X==null?void 0:X.values)==null?void 0:jt[fe])==null?void 0:rn.deathIndices5s)?X.values[fe].deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[];if(xe.length>0){const ut=xe.map((zn,Pe)=>({label:`${Pe*5}s-${(Pe+1)*5}s`,value:Number(zn||0)}));return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:ut,downLabels:[],deathLabels:[],downIndices:Ue.filter(zn=>zn<ut.length),deathIndices:Ie.filter(zn=>zn<ut.length)}}return{title:`Fight Breakdown - ${R.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Je,ci,fe,Fn.fights]),Vm=v.useMemo(()=>{var Ue,Ie;if(Je===null||!fe)return[];const R=ci.find(Me=>Me.index===Je);if(!R)return[];const X=Fn.fights.find((Me,me)=>String(Me.id||"")===String(R.fightId||"")||me===R.index);return[...((Ie=(Ue=X==null?void 0:X.values)==null?void 0:Ue[fe])==null?void 0:Ie.skillRows)||[]].filter(Me=>Number((Me==null?void 0:Me.damage)||0)>0).sort((Me,me)=>Number(me.damage||0)-Number(Me.damage||0)).slice(0,30)},[Je,fe,ci,Fn.fights]),Wm=v.useMemo(()=>{var Ue,Ie;if(ye===null||!lt)return[];const R=ki.find(Me=>Me.index===ye);if(!R)return[];const X=Pn.fights.find((Me,me)=>String(Me.id||"")===String(R.fightId||"")||me===R.index);return[...((Ie=(Ue=X==null?void 0:X.values)==null?void 0:Ue[lt])==null?void 0:Ie.skillRows)||[]].filter(Me=>Number((Me==null?void 0:Me.damage)||0)>0).sort((Me,me)=>Number(me.damage||0)-Number(Me.damage||0)).slice(0,30)},[ye,lt,ki,Pn.fights]);v.useEffect(()=>{if(Xa.length===0){gt!==null&&Nt(null),$n!==null&&_r(null);return}if(!gt||!Ic.has(gt)){const R=Xa[0].key;Nt(R),Cn(null)}},[Xa,Ic,gt,$n]),v.useEffect(()=>{if(!We||We.skills.length===0){$n!==null&&_r(null);return}const R=We.skills.some(X=>X.id===$n);(!$n||!R)&&_r(We.skills[0].id)},[We,$n]),v.useEffect(()=>{if(je.length===0){ua!==null&&Oc(null),Pa!==null&&Al(null);return}if(!ua||!ct.has(ua)){const R=je[0].profession;Oc(R),ld(null)}},[je,ct,ua,Pa]),v.useEffect(()=>{if(!Ut||Ut.skills.length===0){Pa!==null&&Al(null);return}const R=Ut.skills.some(X=>X.id===Pa);(!Pa||!R)&&Al(Ut.skills[0].id)},[Ut,Pa]),v.useEffect(()=>{if(Pn.players.length===0){lt!==null&&ve(null);return}(!lt||!wi.has(lt))&&lt!==null&&ve(null)},[Pn.players,wi,lt]),v.useEffect(()=>{Re(null)},[lt,Ae]),v.useEffect(()=>{if(ye===null)return;ki.some(X=>X.index===ye)||Re(null)},[ki,ye]),v.useEffect(()=>{if(Fn.players.length===0){fe!==null&&ze(null);return}(!fe||!_c.has(fe))&&fe!==null&&ze(null)},[Fn.players,_c,fe]),v.useEffect(()=>{$e(null)},[fe,et]),v.useEffect(()=>{if(Je===null)return;ci.some(X=>X.index===Je)||$e(null)},[ci,Je]);const Hm=v.useMemo(()=>new Set(rt),[rt]),{playerMapByKey:Ea,playerTotalsForSkill:Qa,skillChartData:Gi,skillChartMaxY:El,groupedSkillUsagePlayers:Dl}=ZU({skillUsageData:P,selectedSkillId:He,selectedPlayers:Hm,skillUsageView:Te==="perSecond"?"perSecond":"total"}),Eo=v.useMemo(()=>{const R=new Map,X=Me=>{Me.forEach(me=>{const it=Gc(me==null?void 0:me.name)||(me==null?void 0:me.name);it&&me!=null&&me.icon&&!R.has(it)&&R.set(it,me.icon)})},xe=Me=>{Me.forEach(me=>{Object.entries((me==null?void 0:me.conditions)||{}).forEach(([it,hn])=>{const xt=Gc(it)||it;hn!=null&&hn.icon&&!R.has(xt)&&R.set(xt,hn.icon)})})},Ue=Me=>{const me=new Map;return Me.forEach(it=>{const hn=Gc(it==null?void 0:it.name)||(it==null?void 0:it.name);if(!hn)return;const xt=me.get(hn)||{name:hn,icon:(it==null?void 0:it.icon)||R.get(hn)||hh(hn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};xt.applications+=Number((it==null?void 0:it.applications)||0),xt.damage+=Number((it==null?void 0:it.damage)||0),it!=null&&it.applicationsFromUptime&&(xt.applicationsFromUptime+=Number(it.applicationsFromUptime||0)),it!=null&&it.applicationsFromBuffs&&(xt.applicationsFromBuffs+=Number(it.applicationsFromBuffs||0)),it!=null&&it.applicationsFromBuffsActive&&(xt.applicationsFromBuffsActive+=Number(it.applicationsFromBuffsActive||0)),!xt.icon&&(it!=null&&it.icon)&&(xt.icon=it.icon),xt.icon||(xt.icon=hh(hn)),me.set(hn,xt)}),Array.from(me.values())},Ie=Me=>Me.map(me=>{const it={};return Object.entries((me==null?void 0:me.conditions)||{}).forEach(([hn,xt])=>{const nn=Gc(hn)||hn;if(!nn)return;const jt=it[nn]||{icon:(xt==null?void 0:xt.icon)||R.get(nn)||hh(nn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};jt.applications+=Number((xt==null?void 0:xt.applications)||0),jt.damage+=Number((xt==null?void 0:xt.damage)||0),xt!=null&&xt.applicationsFromUptime&&(jt.applicationsFromUptime+=Number(xt.applicationsFromUptime||0)),xt!=null&&xt.applicationsFromBuffs&&(jt.applicationsFromBuffs+=Number(xt.applicationsFromBuffs||0)),xt!=null&&xt.applicationsFromBuffsActive&&(jt.applicationsFromBuffsActive+=Number(xt.applicationsFromBuffsActive||0)),!jt.icon&&(xt!=null&&xt.icon)&&(jt.icon=xt.icon),jt.icon||(jt.icon=hh(nn)),Object.values((xt==null?void 0:xt.skills)||{}).forEach(rn=>{const ut=(rn==null?void 0:rn.name)||"Unknown",zn=jt.skills[ut]||{name:ut,hits:0,damage:0,icon:rn==null?void 0:rn.icon};zn.hits+=Number((rn==null?void 0:rn.hits)||0),zn.damage+=Number((rn==null?void 0:rn.damage)||0),!zn.icon&&(rn!=null&&rn.icon)&&(zn.icon=rn.icon),jt.skills[ut]=zn}),it[nn]=jt}),{...me,conditions:it}});return(Me,me)=>(X(Me),xe(me),{summary:Ue(Me),players:Ie(me)})},[]),Do=Ao==="outgoing"?L.outgoingConditionSummary:L.incomingConditionSummary,bN=Ao==="outgoing"?L.outgoingConditionPlayers:L.incomingConditionPlayers,{summary:qm,players:HF}=v.useMemo(()=>Eo(Do||[],bN||[]),[Eo,Do,bN]);v.useEffect(()=>{if(mt==="all"||qm.some(X=>X.name===mt))return;const R=Gc(mt);R&&qm.some(X=>X.name===R)?Lt(R):Lt("all")},[mt,qm,Lt]);const qF=v.useMemo(()=>{const R={};return Qa.forEach((X,xe)=>{const Ue=Ea.get(xe);if(!Ue)return;const Ie=Ue.profession;(!R[Ie]||X>R[Ie])&&(R[Ie]=X)}),R},[Qa,Ea]),_t=v.useCallback(R=>d?d(R):!0,[d]),Xn=v.useCallback((R,X)=>{const xe=_t(R);return d?`${X} ${xe?"":"hidden"}`:`${X} transition-[opacity,transform] duration-700 ease-in-out ${xe?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[_t,d]),wN=v.useMemo(()=>Hie.find(R=>_t(R))||null,[_t]),Qn=v.useCallback(R=>R===wN,[wN]),KF=v.useMemo(()=>{const R=new Map,X=new Map;return rt.forEach(xe=>{const Ue=Ea.get(xe);if(!Ue)return;const Ie=Qa.get(xe)??0,Me=X.get(Ue.profession)||[];Me.push({key:xe,total:Ie}),X.set(Ue.profession,Me)}),X.forEach(xe=>{xe.sort((Ue,Ie)=>Ie.total-Ue.total),xe.forEach((Ue,Ie)=>{R.set(Ue.key,Ie)})}),R},[rt,Ea,Qa]),kN=["0","12 3","8 3","6 3","4 3","2 3"],GF=R=>{const X=Ea.get(R),xe=rc((X==null?void 0:X.profession)||""),Ue=Qa.get(R)??0,Ie=X!=null&&X.profession&&qF[X.profession]||1,me=.35+(Ie>0?Ue/Ie:1)*.65;return Km(xe,me)},YF=R=>{const X=KF.get(R)??0;return kN[X%kN.length]},XF=(R,X,xe)=>{if(!xe)return GF(R);const Ue=Ea.get(R),Ie=rc((Ue==null?void 0:Ue.profession)||"");return X?Km(Ie,1.2):Km(Ie,.5)},Km=(R,X)=>{const xe=R.replace("#","");if(xe.length!==6)return R;const Ue=xt=>Math.max(0,Math.min(255,xt)),Ie=xt=>Number.parseInt(xe.slice(xt,xt+2),16),Me=xt=>Ue(Math.round(xt)).toString(16).padStart(2,"0"),me=Ie(0),it=Ie(2),hn=Ie(4);return`#${Me(me*X)}${Me(it*X)}${Me(hn*X)}`},SN=v.useMemo(()=>{const R=new Map;return P.skillOptions.forEach(X=>{R.set(X.id,{name:X.name,icon:X.icon})}),R},[P.skillOptions]),ud=v.useMemo(()=>{var xt;if(rt.length===0)return[];const R=new Map,X=new Map;let xe=0;rt.forEach(nn=>{const jt=Ea.get(nn);if(!jt)return;xe+=jt.totalActiveSeconds||0,Object.entries(jt.skillTotals||{}).forEach(([ut,zn])=>{R.set(ut,(R.get(ut)||0)+Number(zn||0))});const rn=jt.profession||"Unknown";X.set(rn,(X.get(rn)||0)+(jt.totalActiveSeconds||0))});const Ue=Vt.trim().toLowerCase(),Ie=Te==="perSecond",Me=((xt=Array.from(X.entries()).sort((nn,jt)=>jt[1]-nn[1])[0])==null?void 0:xt[0])||"Unknown",me=rc(Me),it="#64748b";return Array.from(R.entries()).map(([nn,jt])=>{const rn=SN.get(nn),ut=(rn==null?void 0:rn.name)||nn,zn=Ie&&xe>0?jt/xe:jt;return{skillId:nn,name:ut,icon:rn==null?void 0:rn.icon,total:zn}}).filter(nn=>nn.total>0&&(!Ue||nn.name.toLowerCase().includes(Ue))).sort((nn,jt)=>jt.total-nn.total).map((nn,jt)=>({...nn,color:jt===0?me:Km(me,.85-Math.min(jt*.06,.4))||it}))},[rt,Ea,Vt,Te,SN]);v.useEffect(()=>{if(ud.length===0){He!==null&&Qe(null);return}(!He||!ud.some(R=>R.skillId===He))&&Qe(ud[0].skillId)},[ud,He,Qe]);const Lc=P.skillOptions.find(R=>R.id===He),QF=(Lc==null?void 0:Lc.name)||"",ZF=(Lc==null?void 0:Lc.icon)||null,JF=j&&!!He&&rt.length>0,Gm="__all__",eR=j&&Ya.length>0,Us=v.useMemo(()=>Ya.find(R=>R.profession===ft)??null,[Ya,ft]),tR=St===Gm,nR=v.useMemo(()=>{var R;return((R=Us==null?void 0:Us.skills)==null?void 0:R.find(X=>X.id===St))??null},[Us,St]);v.useEffect(()=>{if(Ya.length===0){ft!==null&&Et(null),zt!==null&&Ht(null);return}if(!ft||!Ya.some(R=>R.profession===ft)){const R=Ya[0].profession;Et(R),Ht(null)}},[Ya,ft,zt]),v.useEffect(()=>{if(!Us||Us.skills.length===0){St!==null&&Pt(null);return}const R=Us.skills.some(X=>X.id===St);(!St||!R&&St!==Gm)&&Pt(Gm)},[Us,St]);const rR=R=>{Dt(X=>X.includes(R)?X.filter(xe=>xe!==R):[...X,R])},iR=R=>{Dt(X=>X.filter(xe=>xe!==R))},aR=v.useMemo(()=>{const R=Oe.trim().toLowerCase(),X=L.boonTables||[];return R?X.filter(xe=>xe.name.toLowerCase().includes(R)):X},[L.boonTables,Oe]),sR=v.useMemo(()=>$?(L.boonTables||[]).find(R=>R.id===$)??null:null,[L.boonTables,$]),oR=v.useMemo(()=>{const R=En.trim().toLowerCase(),X=[...L.specialTables||[]].sort((xe,Ue)=>xe.name.localeCompare(Ue.name));return R?X.filter(xe=>xe.name.toLowerCase().includes(R)):X},[L.specialTables,En]),Za=v.useMemo(()=>[...L.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,xe)=>X.name.localeCompare(xe.name)),[L.specialTables]),lR=v.useMemo(()=>{const R=Jt.trim().toLowerCase();return R?Za.filter(X=>X.name.toLowerCase().includes(R)):Za},[Za,Jt]),cR=v.useMemo(()=>Xt?(L.specialTables||[]).find(R=>R.id===Xt)??null:null,[L.specialTables,Xt]),uR=v.useMemo(()=>Le?Za.find(R=>R.id===Le)??null:null,[Za,Le]);v.useEffect(()=>{!L.boonTables||L.boonTables.length===0||(!$||!L.boonTables.some(R=>R.id===$))&&te(L.boonTables[0].id)},[L.boonTables,$]),v.useEffect(()=>{!L.specialTables||L.specialTables.length===0||(!Xt||!L.specialTables.some(R=>R.id===Xt))&&Nn(L.specialTables[0].id)},[L.specialTables,Xt]),v.useEffect(()=>{if(!Za||Za.length===0){Le!==null&&pt(null);return}(!Le||!Za.some(R=>R.id===Le))&&pt(Za[0].id)},[Za,Le]),v.useEffect(()=>{const R=()=>{const xe=window.getSelection();xe&&xe.rangeCount>0&&xe.removeAllRanges()},X=xe=>{var Ie;const Ue=xe.target;(Ie=Ue==null?void 0:Ue.closest)!=null&&Ie.call(Ue,".recharts-wrapper")&&(xe.preventDefault(),R())};return document.addEventListener("selectstart",X),document.addEventListener("mousedown",X),document.addEventListener("mousemove",X),document.addEventListener("dragstart",X),()=>{document.removeEventListener("selectstart",X),document.removeEventListener("mousedown",X),document.removeEventListener("mousemove",X),document.removeEventListener("dragstart",X)}},[]);const Ii=R=>{le.current&&(window.clearTimeout(le.current),le.current=null),z(!1),en(R)},ui=()=>{tn&&(le.current&&window.clearTimeout(le.current),z(!0),le.current=window.setTimeout(()=>{en(null),z(!1),le.current=null},160))};v.useEffect(()=>{if(!tn)return;const R=Ue=>{Ue.key==="Escape"&&ui()},X=document.body.style.overflow,xe=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),document.body.style.overflow=X,document.documentElement.style.overflow=xe}},[tn]);const NN=(R,X)=>{const xe=((X==null?void 0:X.value)||0)-((R==null?void 0:R.value)||0);return xe!==0?xe:String((R==null?void 0:R.name)||"").localeCompare(String((X==null?void 0:X.name)||""))},CN=Array.isArray(L==null?void 0:L.squadClassData)?L.squadClassData:[],jN=Array.isArray(L==null?void 0:L.enemyClassData)?L.enemyClassData:[],dR=Array.isArray(L==null?void 0:L.attendanceData)?L.attendanceData:[],Px=Array.isArray(L==null?void 0:L.squadCompByFight)?L.squadCompByFight:[],AN=Array.isArray(L==null?void 0:L.fightBreakdown)?L.fightBreakdown:[],fR=v.useMemo(()=>{const R=new Map;return AN.forEach(X=>{const xe=String((X==null?void 0:X.id)||"");xe&&R.set(xe,X)}),Px.map(X=>{const xe=R.get(String((X==null?void 0:X.id)||""))||null;return{...X,enemyClassCounts:(xe==null?void 0:xe.enemyClassCounts)||{}}})},[Px,AN]),mR=v.useMemo(()=>[...CN].sort(NN),[CN]),hR=v.useMemo(()=>[...jN].sort(NN),[jN]),pR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",gR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${tn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${tn?"":"backdrop-blur-2xl"}`,xR=c&&h!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,vR=R=>Te==="perSecond"?R.toFixed(1):Math.round(R).toLocaleString(),yR=R=>R.toFixed(1),bR=R=>Math.round(R).toLocaleString(),wR=R=>typeof R=="number"&&Number.isFinite(R)?R.toFixed(1):"0.0",_i=lie;return u.jsxs("div",{className:pR,children:[tn&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${an?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ui}),u.jsx(zie,{embedded:c,dashboardTitle:f,totalLogs:L.total,onBack:t,devMockAvailable:Y,devMockUploadState:I,onDevMockUpload:ne,uploadingWeb:_,onWebUpload:U,sharing:F,canShareDiscord:m,onShare:J}),u.jsx(Uie,{embedded:c,webUploadMessage:T,webUploadUrl:M,webUploadBuildStatus:O,webCopyStatus:ae,setWebCopyStatus:ee}),u.jsx(Vie,{embedded:c,devMockAvailable:Y,devMockUploadState:I}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:k,className:`${gR} ${c?"":"flex-1"}`,style:xR,children:[u.jsxs(u.Fragment,{children:[_t("overview")&&u.jsx(Cie,{stats:L,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("fight-breakdown")&&u.jsx(jie,{stats:L,fightBreakdownTab:De,setFightBreakdownTab:qe,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("top-players")&&u.jsx(Tie,{stats:L,showTopStats:b,showMvp:w,topStatsMode:C,expandedLeader:V,setExpandedLeader:B,formatTopStatValue:_o,formatWithCommas:ma,isMvpStatEnabled:re,renderProfessionIcon:_i,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("top-skills-outgoing")&&u.jsx(Eie,{stats:L,topSkillsMetric:E,onTopSkillsMetricChange:W,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("squad-composition")&&u.jsx(Die,{sortedSquadClassData:mR,sortedEnemyClassData:hR,getProfessionIconPath:Gl,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("attendance-ledger")&&u.jsx(Lie,{attendanceRows:dR,getProfessionIconPath:Gl,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("squad-comp-fight")&&u.jsx(Fie,{fights:Px,getProfessionIconPath:Gl,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("fight-comp")&&u.jsx(Bie,{fights:fR,getProfessionIconPath:Gl,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("timeline")&&u.jsx(Mie,{timelineData:L.timelineData,timelineFriendlyScope:Be,setTimelineFriendlyScope:Ce,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("map-distribution")&&u.jsx(Oie,{mapData:L.mapData,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("offense-detailed")&&u.jsx(mie,{stats:L,OFFENSE_METRICS:dO,roundCountStats:S,offenseSearch:Pr,setOffenseSearch:sr,activeOffenseStat:Sl,setActiveOffenseStat:Nl,offenseViewMode:Sx,setOffenseViewMode:Nx,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("player-breakdown")&&u.jsx(fie,{expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns,viewMode:Mc,setViewMode:jl,playerSkillBreakdowns:Xa,classSkillBreakdowns:je,activePlayerKey:gt,setActivePlayerKey:Nt,expandedPlayerKey:cn,setExpandedPlayerKey:Cn,activePlayerSkillId:$n,setActivePlayerSkillId:_r,activeClassKey:ua,setActiveClassKey:Oc,expandedClassKey:zm,setExpandedClassKey:ld,activeClassSkillId:Pa,setActiveClassSkillId:Al,skillSearch:Bs,setSkillSearch:zs,activePlayerBreakdown:We,activePlayerSkill:Ze,activeClassBreakdown:Ut,activeClassSkill:dr,renderProfessionIcon:_i}),_t("spike-damage")&&u.jsx(XP,{expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,spikePlayerFilter:ln,setSpikePlayerFilter:Or,groupedSpikePlayers:Po,spikeMode:Ae,setSpikeMode:tt,selectedSpikePlayerKey:lt,setSelectedSpikePlayerKey:ve,selectedSpikePlayer:To,spikeChartData:ki,spikeChartMaxY:Pl,selectedSpikeFightIndex:ye,setSelectedSpikeFightIndex:Re,spikeDrilldownTitle:li.title,spikeDrilldownData:li.data,spikeDrilldownDownIndices:li.downIndices,spikeDrilldownDeathIndices:li.deathIndices,spikeFightSkillRows:Wm,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ma,renderProfessionIcon:_i}),_t("conditions-outgoing")&&u.jsx(hie,{conditionSummary:qm,conditionPlayers:HF,conditionSearch:fn,setConditionSearch:yi,activeConditionName:mt,setActiveConditionName:Lt,conditionDirection:Ao,setConditionDirection:wl,conditionGridClass:Ir,effectiveConditionSort:Ke,setConditionSort:Ot,showConditionDamage:gn,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("defense-detailed")&&u.jsx(gie,{stats:L,DEFENSE_METRICS:fO,defenseSearch:Zr,setDefenseSearch:si,activeDefenseStat:Z,setActiveDefenseStat:ge,defenseViewMode:Cx,setDefenseViewMode:jx,roundCountStats:S,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("incoming-strike-damage")&&u.jsx(XP,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,spikePlayerFilter:Tr,setSpikePlayerFilter:od,groupedSpikePlayers:cd,spikeMode:et,setSpikeMode:Gt,selectedSpikePlayerKey:fe,setSelectedSpikePlayerKey:ze,selectedSpikePlayer:Ta,spikeChartData:ci,spikeChartMaxY:Um,selectedSpikeFightIndex:Je,setSelectedSpikeFightIndex:$e,spikeDrilldownTitle:Tl.title,spikeDrilldownData:Tl.data,spikeDrilldownDownIndices:Tl.downIndices,spikeDrilldownDeathIndices:Tl.deathIndices,spikeFightSkillRows:Vm,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ma,renderProfessionIcon:_i}),_t("defense-mitigation")&&u.jsx(xie,{stats:L,DAMAGE_MITIGATION_METRICS:n6,damageMitigationSearch:vi,setDamageMitigationSearch:wn,activeDamageMitigationStat:Se,setActiveDamageMitigationStat:dt,damageMitigationViewMode:Ax,setDamageMitigationViewMode:D,damageMitigationScope:ot,setDamageMitigationScope:ht,roundCountStats:S,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("boon-output")&&u.jsx(pie,{stats:L,activeBoonCategory:ke,setActiveBoonCategory:R=>Ve(R),activeBoonMetric:oe,setActiveBoonMetric:Ye,activeBoonTab:$,setActiveBoonTab:te,activeBoonTable:sR,filteredBoonTables:aR,boonSearch:Oe,setBoonSearch:bt,formatBoonMetricDisplay:O6,getBoonMetricValue:NO,renderProfessionIcon:_i,roundCountStats:S,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("support-detailed")&&u.jsx(vie,{stats:L,SUPPORT_METRICS:mO,supportSearch:Dc,setSupportSearch:kl,activeSupportStat:Ft,setActiveSupportStat:mn,supportViewMode:H,setSupportViewMode:q,cleanseScope:Ee,setCleanseScope:de,roundCountStats:S,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("healing-stats")&&u.jsx(yie,{stats:L,HEALING_METRICS:r6,activeHealingMetric:xn,setActiveHealingMetric:Ln,healingCategory:oi,setHealingCategory:Dn,activeResUtilitySkill:bi,setActiveResUtilitySkill:Cl,skillUsageData:P,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("fight-diff-mode")&&u.jsx(Nie,{stats:L,formatWithCommas:ma,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn}),_t("special-buffs")&&u.jsx(wie,{stats:L,specialSearch:En,setSpecialSearch:he,filteredSpecialTables:oR,activeSpecialTab:Xt,setActiveSpecialTab:Nn,activeSpecialTable:cR,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("sigil-relic-uptime")&&u.jsx(Sie,{hasSigilRelicTables:Za.length>0,sigilRelicSearch:Jt,setSigilRelicSearch:pn,filteredSigilRelicTables:lR,activeSigilRelicTab:Le,setActiveSigilRelicTab:pt,activeSigilRelicTable:uR,formatWithCommas:ma,renderProfessionIcon:_i,expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns}),_t("skill-usage")&&u.jsx(cie,{expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,selectedPlayers:rt,setSelectedPlayers:Dt,removeSelectedPlayer:iR,playerMapByKey:Ea,groupedSkillUsagePlayers:Dl,expandedSkillUsageClass:Ne,setExpandedSkillUsageClass:nt,togglePlayerSelection:rR,skillUsagePlayerFilter:kt,setSkillUsagePlayerFilter:qt,skillUsageView:Te,setSkillUsageView:se,skillUsageData:P,skillUsageSkillFilter:Vt,setSkillUsageSkillFilter:yn,selectedSkillId:He,setSelectedSkillId:Qe,skillBarData:ud,selectedSkillName:QF,selectedSkillIcon:ZF,skillUsageReady:JF,skillUsageAvailable:j,isSkillUsagePerSecond:_e,skillChartData:Gi,skillChartMaxY:El,playerTotalsForSkill:Qa,hoveredSkillPlayer:Mn,setHoveredSkillPlayer:kn,getLineStrokeColor:XF,getLineDashForPlayer:YF,formatSkillUsageValue:vR,renderProfessionIcon:_i}),_t("apm-stats")&&u.jsx(die,{expandedSection:tn,expandedSectionClosing:an,openExpandedSection:Ii,closeExpandedSection:ui,isSectionVisible:_t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:Ns,apmSpecAvailable:eR,skillUsageAvailable:j,apmSpecTables:Ya,activeApmSpec:ft,setActiveApmSpec:Et,expandedApmSpec:zt,setExpandedApmSpec:Ht,activeApmSkillId:St,setActiveApmSkillId:Pt,ALL_SKILLS_KEY:Gm,apmSkillSearch:Fe,setApmSkillSearch:at,activeApmSpecTable:Us,activeApmSkill:nR,isAllApmSkills:tR,apmView:Bt,setApmView:It,formatApmValue:wR,formatCastRateValue:yR,formatCastCountValue:bR,renderProfessionIcon:_i})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Kie="Arcane",Gie="CRT",ip="MatteSlate",ap={id:Kie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Yie={id:ip,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Xie=[ap,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Qie={id:Gie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Td=[...Xie,Qie,Yie];function Zie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Jie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tae={};function ZP(e,t){return(tae.jsx?eae:Jie).test(e)}const nae=/[ \t\n\f\r]/g;function rae(e){return typeof e=="object"?e.type==="text"?JP(e.value):!1:JP(e)}function JP(e){return e.replace(nae,"")===""}class Im{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Im.prototype.normal={};Im.prototype.property={};Im.prototype.space=void 0;function y4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Im(n,r,t)}function tw(e){return e.toLowerCase()}class ca{constructor(t,n){this.attribute=n,this.property=t}}ca.prototype.attribute="";ca.prototype.booleanish=!1;ca.prototype.boolean=!1;ca.prototype.commaOrSpaceSeparated=!1;ca.prototype.commaSeparated=!1;ca.prototype.defined=!1;ca.prototype.mustUseProperty=!1;ca.prototype.number=!1;ca.prototype.overloadedBoolean=!1;ca.prototype.property="";ca.prototype.spaceSeparated=!1;ca.prototype.space=void 0;let iae=0;const on=Pc(),$r=Pc(),nw=Pc(),Xe=Pc(),qn=Pc(),Nu=Pc(),fa=Pc();function Pc(){return 2**++iae}const rw=Object.freeze(Object.defineProperty({__proto__:null,boolean:on,booleanish:$r,commaOrSpaceSeparated:fa,commaSeparated:Nu,number:Xe,overloadedBoolean:nw,spaceSeparated:qn},Symbol.toStringTag,{value:"Module"})),Dv=Object.keys(rw);class IS extends ca{constructor(t,n,r,i){let a=-1;if(super(t,n),eT(this,"space",i),typeof r=="number")for(;++a<Dv.length;){const s=Dv[a];eT(this,Dv[a],(r&rw[s])===rw[s])}}}IS.prototype.defined=!0;function eT(e,t,n){n&&(e[t]=n)}function ad(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new IS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[tw(r)]=r,n[tw(a.attribute)]=r}return new Im(t,n,e.space)}const b4=ad({properties:{ariaActiveDescendant:null,ariaAtomic:$r,ariaAutoComplete:null,ariaBusy:$r,ariaChecked:$r,ariaColCount:Xe,ariaColIndex:Xe,ariaColSpan:Xe,ariaControls:qn,ariaCurrent:null,ariaDescribedBy:qn,ariaDetails:null,ariaDisabled:$r,ariaDropEffect:qn,ariaErrorMessage:null,ariaExpanded:$r,ariaFlowTo:qn,ariaGrabbed:$r,ariaHasPopup:null,ariaHidden:$r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qn,ariaLevel:Xe,ariaLive:null,ariaModal:$r,ariaMultiLine:$r,ariaMultiSelectable:$r,ariaOrientation:null,ariaOwns:qn,ariaPlaceholder:null,ariaPosInSet:Xe,ariaPressed:$r,ariaReadOnly:$r,ariaRelevant:null,ariaRequired:$r,ariaRoleDescription:qn,ariaRowCount:Xe,ariaRowIndex:Xe,ariaRowSpan:Xe,ariaSelected:$r,ariaSetSize:Xe,ariaSort:null,ariaValueMax:Xe,ariaValueMin:Xe,ariaValueNow:Xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function w4(e,t){return t in e?e[t]:t}function k4(e,t){return w4(e,t.toLowerCase())}const aae=ad({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nu,acceptCharset:qn,accessKey:qn,action:null,allow:null,allowFullScreen:on,allowPaymentRequest:on,allowUserMedia:on,alt:null,as:null,async:on,autoCapitalize:null,autoComplete:qn,autoFocus:on,autoPlay:on,blocking:qn,capture:null,charSet:null,checked:on,cite:null,className:qn,cols:Xe,colSpan:null,content:null,contentEditable:$r,controls:on,controlsList:qn,coords:Xe|Nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:on,defer:on,dir:null,dirName:null,disabled:on,download:nw,draggable:$r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:on,formTarget:null,headers:qn,height:Xe,hidden:nw,high:Xe,href:null,hrefLang:null,htmlFor:qn,httpEquiv:qn,id:null,imageSizes:null,imageSrcSet:null,inert:on,inputMode:null,integrity:null,is:null,isMap:on,itemId:null,itemProp:qn,itemRef:qn,itemScope:on,itemType:qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:on,low:Xe,manifest:null,max:null,maxLength:Xe,media:null,method:null,min:null,minLength:Xe,multiple:on,muted:on,name:null,nonce:null,noModule:on,noValidate:on,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:on,optimum:Xe,pattern:null,ping:qn,placeholder:null,playsInline:on,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:on,referrerPolicy:null,rel:qn,required:on,reversed:on,rows:Xe,rowSpan:Xe,sandbox:qn,scope:null,scoped:on,seamless:on,selected:on,shadowRootClonable:on,shadowRootDelegatesFocus:on,shadowRootMode:null,shape:null,size:Xe,sizes:null,slot:null,span:Xe,spellCheck:$r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Xe,step:null,style:null,tabIndex:Xe,target:null,title:null,translate:null,type:null,typeMustMatch:on,useMap:null,value:$r,width:Xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qn,axis:null,background:null,bgColor:null,border:Xe,borderColor:null,bottomMargin:Xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:on,declare:on,event:null,face:null,frame:null,frameBorder:null,hSpace:Xe,leftMargin:Xe,link:null,longDesc:null,lowSrc:null,marginHeight:Xe,marginWidth:Xe,noResize:on,noHref:on,noShade:on,noWrap:on,object:null,profile:null,prompt:null,rev:null,rightMargin:Xe,rules:null,scheme:null,scrolling:$r,standby:null,summary:null,text:null,topMargin:Xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:on,disableRemotePlayback:on,prefix:null,property:null,results:Xe,security:null,unselectable:null},space:"html",transform:k4}),sae=ad({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:fa,accentHeight:Xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Xe,amplitude:Xe,arabicForm:null,ascent:Xe,attributeName:null,attributeType:null,azimuth:Xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Xe,by:null,calcMode:null,capHeight:Xe,className:qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Xe,diffuseConstant:Xe,direction:null,display:null,dur:null,divisor:Xe,dominantBaseline:null,download:on,dx:null,dy:null,edgeMode:null,editable:null,elevation:Xe,enableBackground:null,end:null,event:null,exponent:Xe,externalResourcesRequired:null,fill:null,fillOpacity:Xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nu,g2:Nu,glyphName:Nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Xe,horizOriginX:Xe,horizOriginY:Xe,id:null,ideographic:Xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Xe,k:Xe,k1:Xe,k2:Xe,k3:Xe,k4:Xe,kernelMatrix:fa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Xe,overlineThickness:Xe,paintOrder:null,panose1:null,path:null,pathLength:Xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Xe,pointsAtY:Xe,pointsAtZ:Xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fa,rev:fa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fa,requiredFeatures:fa,requiredFonts:fa,requiredFormats:fa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Xe,specularExponent:Xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Xe,strikethroughThickness:Xe,string:null,stroke:null,strokeDashArray:fa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Xe,strokeOpacity:Xe,strokeWidth:null,style:null,surfaceScale:Xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fa,tabIndex:Xe,tableValues:null,target:null,targetX:Xe,targetY:Xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Xe,underlineThickness:Xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Xe,values:null,vAlphabetic:Xe,vMathematical:Xe,vectorEffect:null,vHanging:Xe,vIdeographic:Xe,version:null,vertAdvY:Xe,vertOriginX:Xe,vertOriginY:Xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:w4}),S4=ad({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),N4=ad({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:k4}),C4=ad({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),oae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lae=/[A-Z]/g,tT=/-[a-z]/g,cae=/^data[-\w.:]+$/i;function uae(e,t){const n=tw(t);let r=t,i=ca;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(tT,fae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!tT.test(a)){let s=a.replace(lae,dae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=IS}return new i(r,t)}function dae(e){return"-"+e.toLowerCase()}function fae(e){return e.charAt(1).toUpperCase()}const mae=y4([b4,aae,S4,N4,C4],"html"),_S=y4([b4,sae,S4,N4,C4],"svg");function hae(e){return e.join(" ").trim()}var LS={},nT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pae=/\n/g,gae=/^\s*/,xae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,vae=/^:\s*/,yae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,bae=/^[;\s]*/,wae=/^\s+|\s+$/g,kae=`
`,rT="/",iT="*",Wl="",Sae="comment",Nae="declaration";function Cae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(pae);g&&(n+=g.length);var y=p.lastIndexOf(kae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(gae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(rT!=e.charAt(0)||iT!=e.charAt(1))){for(var g=2;Wl!=e.charAt(g)&&(iT!=e.charAt(g)||rT!=e.charAt(g+1));)++g;if(g+=2,Wl===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Sae,comment:y})}}function h(){var p=a(),g=l(xae);if(g){if(f(),!l(vae))return o("property missing ':'");var y=l(yae),x=p({type:Nae,property:aT(g[0].replace(nT,Wl)),value:y?aT(y[0].replace(nT,Wl)):Wl});return l(bae),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function aT(e){return e?e.replace(wae,Wl):Wl}var jae=Cae,Aae=up&&up.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(LS,"__esModule",{value:!0});LS.default=Tae;const Pae=Aae(jae);function Tae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Pae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.camelCase=void 0;var Eae=/^--[a-zA-Z0-9_-]+$/,Dae=/-([a-z])/g,Mae=/^[^-]+$/,Oae=/^-(webkit|moz|ms|o|khtml)-/,Iae=/^-(ms)-/,_ae=function(e){return!e||Mae.test(e)||Eae.test(e)},Lae=function(e,t){return t.toUpperCase()},sT=function(e,t){return"".concat(t,"-")},$ae=function(e,t){return t===void 0&&(t={}),_ae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Iae,sT):e=e.replace(Oae,sT),e.replace(Dae,Lae))};ux.camelCase=$ae;var Fae=up&&up.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Rae=Fae(LS),Bae=ux;function iw(e,t){var n={};return!e||typeof e!="string"||(0,Rae.default)(e,function(r,i){r&&i&&(n[(0,Bae.camelCase)(r,t)]=i)}),n}iw.default=iw;var zae=iw;const Uae=xs(zae),j4=A4("end"),$S=A4("start");function A4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Vae(e){const t=$S(e),n=j4(e);if(t&&n)return{start:t,end:n}}function Jd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?oT(e.position):"start"in e||"end"in e?oT(e):"line"in e||"column"in e?aw(e):""}function aw(e){return lT(e&&e.line)+":"+lT(e&&e.column)}function oT(e){return aw(e&&e.start)+"-"+aw(e&&e.end)}function lT(e){return e&&typeof e=="number"?e:1}class Oi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Jd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Oi.prototype.file="";Oi.prototype.name="";Oi.prototype.reason="";Oi.prototype.message="";Oi.prototype.stack="";Oi.prototype.column=void 0;Oi.prototype.line=void 0;Oi.prototype.ancestors=void 0;Oi.prototype.cause=void 0;Oi.prototype.fatal=void 0;Oi.prototype.place=void 0;Oi.prototype.ruleId=void 0;Oi.prototype.source=void 0;const FS={}.hasOwnProperty,Wae=new Map,Hae=/[A-Z]/g,qae=new Set(["table","tbody","thead","tfoot","tr"]),Kae=new Set(["td","th"]),P4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Gae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tse(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_S:mae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=T4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function T4(e,t,n){if(t.type==="element")return Yae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Xae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Zae(e,t,n);if(t.type==="mdxjsEsm")return Qae(e,t);if(t.type==="root")return Jae(e,t,n);if(t.type==="text")return ese(e,t)}function Yae(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=_S,e.schema=i),e.ancestors.push(t);const a=D4(e,t.tagName,!1),s=rse(e,t);let o=BS(e,t);return qae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!rae(l):!0})),E4(e,s,a,t),RS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Xae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Kf(e,t.position)}function Qae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Kf(e,t.position)}function Zae(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=_S,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:D4(e,t.name,!0),s=ise(e,t),o=BS(e,t);return E4(e,s,a,t),RS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Jae(e,t,n){const r={};return RS(r,BS(e,t)),e.create(t,e.Fragment,r,n)}function ese(e,t){return t.value}function E4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function RS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function tse(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function nse(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=$S(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function rse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&FS.call(t.properties,i)){const a=ase(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Kae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ise(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Kf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Kf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function BS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Wae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=T4(e,a,s);o!==void 0&&n.push(o)}return n}function ase(e,t,n){const r=uae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Zie(n):hae(n)),r.property==="style"){let i=typeof n=="object"?n:sse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ose(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?oae[r.property]||r.property:r.attribute,n]}}function sse(e,t){try{return Uae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Oi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=P4+"#cannot-parse-style-attribute",i}}function D4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=ZP(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=ZP(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return FS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Kf(e)}function Kf(e,t){const n=new Oi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=P4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ose(e){const t={};let n;for(n in e)FS.call(e,n)&&(t[lse(n)]=e[n]);return t}function lse(e){let t=e.replace(Hae,cse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function cse(e){return"-"+e.toLowerCase()}const Mv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},use={};function zS(e,t){const n=use,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return M4(e,r,i)}function M4(e,t,n){if(dse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return cT(e.children,t,n)}return Array.isArray(e)?cT(e,t,n):""}function cT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=M4(e[i],t,n);return r.join("")}function dse(e){return!!(e&&typeof e=="object")}const uT=document.createElement("i");function US(e){const t="&"+e+";";uT.innerHTML=t;const n=uT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ka(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ra(e,t){return e.length>0?(ka(e,e.length,0,t),e):t}const dT={}.hasOwnProperty;function O4(e){const t={};let n=-1;for(;++n<e.length;)fse(t,e[n]);return t}function fse(e,t){let n;for(n in t){const i=(dT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){dT.call(i,s)||(i[s]=[]);const o=a[s];mse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function mse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ka(e,0,0,r)}function I4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function us(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bi=yl(/[A-Za-z]/),Di=yl(/[\dA-Za-z]/),hse=yl(/[#-'*+\--9=?A-Z^-~]/);function Og(e){return e!==null&&(e<32||e===127)}const sw=yl(/\d/),pse=yl(/[\dA-Fa-f]/),gse=yl(/[!-/:-@[-`{-~]/);function Rt(e){return e!==null&&e<-2}function Wn(e){return e!==null&&(e<0||e===32)}function un(e){return e===-2||e===-1||e===32}const dx=yl(new RegExp("\\p{P}|\\p{S}","u")),Sc=yl(/\s/);function yl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Di(e.charCodeAt(n+1))&&Di(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return un(l)?(e.enter(n),o(l)):t(l)}function o(l){return un(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const xse={tokenize:vse};function vse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Rt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const yse={tokenize:bse},fT={tokenize:wse};function bse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}x(r);let A=S;for(;A<t.events.length;)t.events[A][1].end={...N},A++;return ka(t.events,C+1,0,t.events.slice(S)),t.events.length=A,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fT,d,f)(w)}function d(w){return i&&b(),x(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(fT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return Rt(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const A=t.events.length;let E=A,_,T;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(_){T=t.events[E][1].end;break}_=!0}for(x(r),N=A;N<t.events.length;)t.events[N][1].end={...T},N++;ka(t.events,E+1,0,t.events.slice(A)),t.events.length=N}}function x(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function wse(e,t,n){return vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vu(e){if(e===null||Wn(e)||Sc(e))return 1;if(dx(e))return 2}function fx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const ow={name:"attention",resolveAll:kse,tokenize:Sse};function kse(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};mT(f,-l),mT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ra(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ra(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ra(c,fx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ra(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ra(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ka(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Sse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Vu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Vu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function mT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Nse={name:"autolink",tokenize:Cse};function Cse(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Bi(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Di(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Di(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Og(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):hse(m)?(e.consume(m),c):n(m)}function d(m){return Di(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Di(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const _m={partial:!0,tokenize:jse};function jse(e,t,n){return r;function r(a){return un(a)?vn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Rt(a)?t(a):n(a)}}const _4={continuation:{tokenize:Pse},exit:Tse,name:"blockQuote",tokenize:Ase};function Ase(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return un(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Pse(e,t,n){const r=this;return i;function i(s){return un(s)?vn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(_4,t,n)(s)}}function Tse(e){e.exit("blockQuote")}const L4={name:"characterEscape",tokenize:Ese};function Ese(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return gse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const $4={name:"characterReference",tokenize:Dse};function Dse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Di,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=pse,d):(e.enter("characterReferenceValue"),a=7,s=sw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Di&&!US(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const hT={partial:!0,tokenize:Ose},pT={concrete:!0,name:"codeFenced",tokenize:Mse};function Mse(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),un(N)?vn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Rt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(hT,g,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):un(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||Rt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,S,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return a>0&&un(N)?vn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||Rt(N)?e.check(hT,g,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Rt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,A,E){let _=0;return T;function T(ie){return N.enter("lineEnding"),N.consume(ie),N.exit("lineEnding"),M}function M(ie){return N.enter("codeFencedFence"),un(ie)?vn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):O(ie)}function O(ie){return ie===o?(N.enter("codeFencedFenceSequence"),Y(ie)):E(ie)}function Y(ie){return ie===o?(_++,N.consume(ie),Y):_>=s?(N.exit("codeFencedFenceSequence"),un(ie)?vn(N,Q,"whitespace")(ie):Q(ie)):E(ie)}function Q(ie){return ie===null||Rt(ie)?(N.exit("codeFencedFence"),A(ie)):E(ie)}}}function Ose(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Ov={name:"codeIndented",tokenize:_se},Ise={partial:!0,tokenize:Lse};function _se(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),vn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Rt(c)?e.attempt(Ise,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Rt(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function Lse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Rt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):vn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Rt(s)?i(s):n(s)}}const $se={name:"codeText",previous:Rse,resolve:Fse,tokenize:Bse};function Fse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Rse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Bse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Rt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Rt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class zse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ed(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ed(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ed(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ed(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ed(this.left,n.reverse())}}}function Ed(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function F4(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new zse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Use(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return ka(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Use(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+x.length-1]),e.splice(b,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Vse={resolve:Hse,tokenize:qse},Wse={partial:!0,tokenize:Kse};function Hse(e){return F4(e),e}function qse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Rt(o)?e.check(Wse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Kse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),vn(e,a,"linePrefix")}function a(s){if(s===null||Rt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function R4(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||Og(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Rt(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Wn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Og(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function B4(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Rt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Rt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!un(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function z4(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Rt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),vn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Rt(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function ef(e,t){let n;return r;function r(i){return Rt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):un(i)?vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Gse={name:"definition",tokenize:Xse},Yse={partial:!0,tokenize:Qse};function Xse(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return B4.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=us(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Wn(m)?ef(e,c)(m):c(m)}function c(m){return R4(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Yse,f,f)(m)}function f(m){return un(m)?vn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Rt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Qse(e,t,n){return r;function r(o){return Wn(o)?ef(e,i)(o):n(o)}function i(o){return z4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return un(o)?vn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Rt(o)?t(o):n(o)}}const Zse={name:"hardBreakEscape",tokenize:Jse};function Jse(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Rt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const eoe={name:"headingAtx",resolve:toe,tokenize:noe};function toe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ka(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function noe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Wn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Rt(d)?(e.exit("atxHeading"),t(d)):un(d)?vn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Wn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const roe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gT=["pre","script","style","textarea"],ioe={concrete:!0,name:"htmlFlow",resolveTo:ooe,tokenize:loe},aoe={partial:!0,tokenize:uoe},soe={partial:!0,tokenize:coe};function ooe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function loe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:P):Bi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Bi(k)?(e.consume(k),i=4,r.interrupt?t:P):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:P):n(k)}function p(k){const I="CDATA[";return k===I.charCodeAt(o++)?(e.consume(k),o===I.length?r.interrupt?t:O:p):n(k)}function g(k){return Bi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Wn(k)){const I=k===47,ae=s.toLowerCase();return!I&&!a&&gT.includes(ae)?(i=1,r.interrupt?t(k):O(k)):roe.includes(s.toLowerCase())?(i=6,I?(e.consume(k),x):r.interrupt?t(k):O(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?b(k):w(k))}return k===45||Di(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function x(k){return k===62?(e.consume(k),r.interrupt?t:O):n(k)}function b(k){return un(k)?(e.consume(k),b):T(k)}function w(k){return k===47?(e.consume(k),T):k===58||k===95||Bi(k)?(e.consume(k),S):un(k)?(e.consume(k),w):T(k)}function S(k){return k===45||k===46||k===58||k===95||Di(k)?(e.consume(k),S):C(k)}function C(k){return k===61?(e.consume(k),N):un(k)?(e.consume(k),C):w(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,A):un(k)?(e.consume(k),N):E(k)}function A(k){return k===l?(e.consume(k),l=null,_):k===null||Rt(k)?n(k):(e.consume(k),A)}function E(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Wn(k)?C(k):(e.consume(k),E)}function _(k){return k===47||k===62||un(k)?w(k):n(k)}function T(k){return k===62?(e.consume(k),M):n(k)}function M(k){return k===null||Rt(k)?O(k):un(k)?(e.consume(k),M):n(k)}function O(k){return k===45&&i===2?(e.consume(k),ce):k===60&&i===1?(e.consume(k),K):k===62&&i===4?(e.consume(k),j):k===63&&i===3?(e.consume(k),P):k===93&&i===5?(e.consume(k),L):Rt(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(aoe,W,Y)(k)):k===null||Rt(k)?(e.exit("htmlFlowData"),Y(k)):(e.consume(k),O)}function Y(k){return e.check(soe,Q,W)(k)}function Q(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ie}function ie(k){return k===null||Rt(k)?Y(k):(e.enter("htmlFlowData"),O(k))}function ce(k){return k===45?(e.consume(k),P):O(k)}function K(k){return k===47?(e.consume(k),s="",G):O(k)}function G(k){if(k===62){const I=s.toLowerCase();return gT.includes(I)?(e.consume(k),j):O(k)}return Bi(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),G):O(k)}function L(k){return k===93?(e.consume(k),P):O(k)}function P(k){return k===62?(e.consume(k),j):k===45&&i===2?(e.consume(k),P):O(k)}function j(k){return k===null||Rt(k)?(e.exit("htmlFlowData"),W(k)):(e.consume(k),j)}function W(k){return e.exit("htmlFlow"),t(k)}}function coe(e,t,n){const r=this;return i;function i(s){return Rt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function uoe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(_m,t,n)}}const doe={name:"htmlText",tokenize:foe};function foe(e,t,n){const r=this;let i,a,s;return o;function o(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),l}function l(P){return P===33?(e.consume(P),c):P===47?(e.consume(P),C):P===63?(e.consume(P),w):Bi(P)?(e.consume(P),E):n(P)}function c(P){return P===45?(e.consume(P),d):P===91?(e.consume(P),a=0,p):Bi(P)?(e.consume(P),b):n(P)}function d(P){return P===45?(e.consume(P),m):n(P)}function f(P){return P===null?n(P):P===45?(e.consume(P),h):Rt(P)?(s=f,K(P)):(e.consume(P),f)}function h(P){return P===45?(e.consume(P),m):f(P)}function m(P){return P===62?ce(P):P===45?h(P):f(P)}function p(P){const j="CDATA[";return P===j.charCodeAt(a++)?(e.consume(P),a===j.length?g:p):n(P)}function g(P){return P===null?n(P):P===93?(e.consume(P),y):Rt(P)?(s=g,K(P)):(e.consume(P),g)}function y(P){return P===93?(e.consume(P),x):g(P)}function x(P){return P===62?ce(P):P===93?(e.consume(P),x):g(P)}function b(P){return P===null||P===62?ce(P):Rt(P)?(s=b,K(P)):(e.consume(P),b)}function w(P){return P===null?n(P):P===63?(e.consume(P),S):Rt(P)?(s=w,K(P)):(e.consume(P),w)}function S(P){return P===62?ce(P):w(P)}function C(P){return Bi(P)?(e.consume(P),N):n(P)}function N(P){return P===45||Di(P)?(e.consume(P),N):A(P)}function A(P){return Rt(P)?(s=A,K(P)):un(P)?(e.consume(P),A):ce(P)}function E(P){return P===45||Di(P)?(e.consume(P),E):P===47||P===62||Wn(P)?_(P):n(P)}function _(P){return P===47?(e.consume(P),ce):P===58||P===95||Bi(P)?(e.consume(P),T):Rt(P)?(s=_,K(P)):un(P)?(e.consume(P),_):ce(P)}function T(P){return P===45||P===46||P===58||P===95||Di(P)?(e.consume(P),T):M(P)}function M(P){return P===61?(e.consume(P),O):Rt(P)?(s=M,K(P)):un(P)?(e.consume(P),M):_(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,Y):Rt(P)?(s=O,K(P)):un(P)?(e.consume(P),O):(e.consume(P),Q)}function Y(P){return P===i?(e.consume(P),i=void 0,ie):P===null?n(P):Rt(P)?(s=Y,K(P)):(e.consume(P),Y)}function Q(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Wn(P)?_(P):(e.consume(P),Q)}function ie(P){return P===47||P===62||Wn(P)?_(P):n(P)}function ce(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function K(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),G}function G(P){return un(P)?vn(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):L(P)}function L(P){return e.enter("htmlTextData"),s(P)}}const VS={name:"labelEnd",resolveAll:goe,resolveTo:xoe,tokenize:voe},moe={tokenize:yoe},hoe={tokenize:boe},poe={tokenize:woe};function goe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ka(e,0,e.length,n),e}function xoe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ra(o,e.slice(a+1,a+r+3)),o=Ra(o,[["enter",d,t]]),o=Ra(o,fx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ra(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=Ra(o,e.slice(s+1)),o=Ra(o,[["exit",l,t]]),ka(e,a,e.length,o),e}function voe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(us(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(moe,d,s?d:f)(h):h===91?e.attempt(hoe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(poe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function yoe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Wn(f)?ef(e,a)(f):a(f)}function a(f){return f===41?d(f):R4(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Wn(f)?ef(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?z4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Wn(f)?ef(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function boe(e,t,n){const r=this;return i;function i(o){return B4.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(us(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function woe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const koe={name:"labelStartImage",resolveAll:VS.resolveAll,tokenize:Soe};function Soe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Noe={name:"labelStartLink",resolveAll:VS.resolveAll,tokenize:Coe};function Coe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Iv={name:"lineEnding",tokenize:joe};function joe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vn(e,t,"linePrefix")}}const sp={name:"thematicBreak",tokenize:Aoe};function Aoe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Rt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),un(c)?vn(e,o,"whitespace")(c):o(c))}}const Xi={continuation:{tokenize:Doe},exit:Ooe,name:"list",tokenize:Eoe},Poe={partial:!0,tokenize:Ioe},Toe={partial:!0,tokenize:Moe};function Eoe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:sw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(sp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return sw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(_m,r.interrupt?n:d,e.attempt(Poe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return un(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Doe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(_m,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!un(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Toe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(e,e.attempt(Xi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Moe(e,t,n){const r=this;return vn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Ooe(e){e.exit(this.containerState.type)}function Ioe(e,t,n){const r=this;return vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!un(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const xT={name:"setextUnderline",resolveTo:_oe,tokenize:Loe};function _oe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Loe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),un(c)?vn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Rt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const $oe={tokenize:Foe};function Foe(e){const t=this,n=e.attempt(_m,r,e.attempt(this.parser.constructs.flowInitial,i,vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Vse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Roe={resolveAll:V4()},Boe=U4("string"),zoe=U4("text");function U4(e){return{resolveAll:V4(e==="text"?Uoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function V4(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Uoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Voe={42:Xi,43:Xi,45:Xi,48:Xi,49:Xi,50:Xi,51:Xi,52:Xi,53:Xi,54:Xi,55:Xi,56:Xi,57:Xi,62:_4},Woe={91:Gse},Hoe={[-2]:Ov,[-1]:Ov,32:Ov},qoe={35:eoe,42:sp,45:[xT,sp],60:ioe,61:xT,95:sp,96:pT,126:pT},Koe={38:$4,92:L4},Goe={[-5]:Iv,[-4]:Iv,[-3]:Iv,33:koe,38:$4,42:ow,60:[Nse,doe],91:Noe,92:[Zse,L4],93:VS,95:ow,96:$se},Yoe={null:[ow,Roe]},Xoe={null:[42,95]},Qoe={null:[]},Zoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Xoe,contentInitial:Woe,disable:Qoe,document:Voe,flow:qoe,flowInitial:Hoe,insideSpan:Yoe,string:Koe,text:Goe},Symbol.toStringTag,{value:"Module"}));function Joe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(C),check:A(N),consume:b,enter:w,exit:S,interrupt:A(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(M){return s=Ra(s,M),y(),s[s.length-1]!==null?[]:(E(t,0),c.events=fx(a,c.events,c),c.events)}function h(M,O){return tle(m(M),O)}function m(M){return ele(s,M)}function p(){const{_bufferIndex:M,_index:O,line:Y,column:Q,offset:ie}=r;return{_bufferIndex:M,_index:O,line:Y,column:Q,offset:ie}}function g(M){i[M.line]=M.column,T()}function y(){let M;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(M){d=d(M)}function b(M){Rt(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,T()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function w(M,O){const Y=O||{};return Y.type=M,Y.start=p(),c.events.push(["enter",Y,c]),o.push(Y),Y}function S(M){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function C(M,O){E(M,O.from)}function N(M,O){O.restore()}function A(M,O){return Y;function Y(Q,ie,ce){let K,G,L,P;return Array.isArray(Q)?W(Q):"tokenize"in Q?W([Q]):j(Q);function j(ee){return U;function U(ne){const F=ne!==null&&ee[ne],J=ne!==null&&ee.null,ue=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(J)?J:J?[J]:[]];return W(ue)(ne)}}function W(ee){return K=ee,G=0,ee.length===0?ce:k(ee[G])}function k(ee){return U;function U(ne){return P=_(),L=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?ae():ee.tokenize.call(O?Object.assign(Object.create(c),O):c,l,I,ae)(ne)}}function I(ee){return M(L,P),ie}function ae(ee){return P.restore(),++G<K.length?k(K[G]):ce}}}function E(M,O){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&ka(c.events,O,c.events.length-O,M.resolve(c.events.slice(O),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function _(){const M=p(),O=c.previous,Y=c.currentConstruct,Q=c.events.length,ie=Array.from(o);return{from:Q,restore:ce};function ce(){r=M,c.previous=O,c.currentConstruct=Y,c.events.length=Q,o=ie,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ele(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function tle(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function nle(e){const r={constructs:O4([Zoe,...(e||{}).extensions||[]]),content:i(xse),defined:[],document:i(yse),flow:i($oe),lazy:{},string:i(Boe),text:i(zoe)};return r;function i(a){return s;function s(o){return Joe(r,a,o)}}}function rle(e){for(;!F4(e););return e}const vT=/[\0\t\n\r]/g;function ile(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(vT.lastIndex=f,c=vT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ale=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sle(e){return e.replace(ale,ole)}function ole(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return I4(n.slice(a?2:1),a?16:10)}return US(n)||e}const W4={}.hasOwnProperty;function lle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),cle(n)(rle(nle(n).document().write(ile()(e,t,!0))))}function cle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(oe),autolinkProtocol:_,autolinkEmail:_,atxHeading:a($),blockQuote:a(J),characterEscape:_,characterReference:_,codeFenced:a(ue),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ue,s),codeText:a(re,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(V),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(B),hardBreakEscape:a(te),hardBreakTrailing:a(te),htmlFlow:a(ke,s),htmlFlowData:_,htmlText:a(ke,s),htmlTextData:_,image:a(Ve),label:s,link:a(oe),listItem:a(Oe),listItemValue:h,listOrdered:a(Ye,f),listUnordered:a(Ye),paragraph:a(bt),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a($),strong:a(Xt),thematicBreak:a(En)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:F,autolinkProtocol:ne,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:ee,characterReference:U,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(x),codeText:l(ie),codeTextData:T,data:T,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(Y),htmlFlowData:T,htmlText:l(Q),htmlTextData:T,image:l(K),label:L,labelText:G,lineEnding:M,link:l(ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:I,resourceDestinationString:P,resourceTitleString:j,resource:W,setextHeading:l(E),setextHeadingLineSequence:A,setextHeadingText:N,strong:l(),thematicBreak:l()}};H4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Le={type:"root",children:[]};const pt={stack:[Le],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Jt=[];let pn=-1;for(;++pn<he.length;)if(he[pn][1].type==="listOrdered"||he[pn][1].type==="listUnordered")if(he[pn][0]==="enter")Jt.push(pn);else{const Pr=Jt.pop();pn=i(he,Pr,pn)}for(pn=-1;++pn<he.length;){const Pr=t[he[pn][0]];W4.call(Pr,he[pn][1].type)&&Pr[he[pn][1].type].call(Object.assign({sliceSerialize:he[pn][2].sliceSerialize},pt),he[pn][1])}if(pt.tokenStack.length>0){const Pr=pt.tokenStack[pt.tokenStack.length-1];(Pr[1]||yT).call(pt,void 0,Pr[0])}for(Le.position={start:Io(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:Io(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},pn=-1;++pn<t.transforms.length;)Le=t.transforms[pn](Le)||Le;return Le}function i(he,Le,pt){let Jt=Le-1,pn=-1,Pr=!1,sr,Zr,si,vi;for(;++Jt<=pt;){const wn=he[Jt];switch(wn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wn[0]==="enter"?pn++:pn--,vi=void 0;break}case"lineEndingBlank":{wn[0]==="enter"&&(sr&&!vi&&!pn&&!si&&(si=Jt),vi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vi=void 0}if(!pn&&wn[0]==="enter"&&wn[1].type==="listItemPrefix"||pn===-1&&wn[0]==="exit"&&(wn[1].type==="listUnordered"||wn[1].type==="listOrdered")){if(sr){let fn=Jt;for(Zr=void 0;fn--;){const yi=he[fn];if(yi[1].type==="lineEnding"||yi[1].type==="lineEndingBlank"){if(yi[0]==="exit")continue;Zr&&(he[Zr][1].type="lineEndingBlank",Pr=!0),yi[1].type="lineEnding",Zr=fn}else if(!(yi[1].type==="linePrefix"||yi[1].type==="blockQuotePrefix"||yi[1].type==="blockQuotePrefixWhitespace"||yi[1].type==="blockQuoteMarker"||yi[1].type==="listItemIndent"))break}si&&(!Zr||si<Zr)&&(sr._spread=!0),sr.end=Object.assign({},Zr?he[Zr][1].start:wn[1].end),he.splice(Zr||Jt,0,["exit",sr,wn[2]]),Jt++,pt++}if(wn[1].type==="listItemPrefix"){const fn={type:"listItem",_spread:!1,start:Object.assign({},wn[1].start),end:void 0};sr=fn,he.splice(Jt,0,["enter",fn,wn[2]]),Jt++,pt++,si=void 0,vi=!0}}}return he[Le][1]._spread=Pr,pt}function a(he,Le){return pt;function pt(Jt){o.call(this,he(Jt),Jt),Le&&Le.call(this,Jt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(he,Le,pt){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Le,pt||void 0]),he.position={start:Io(Le.start),end:void 0}}function l(he){return Le;function Le(pt){he&&he.call(this,pt),c.call(this,pt)}}function c(he,Le){const pt=this.stack.pop(),Jt=this.tokenStack.pop();if(Jt)Jt[0].type!==he.type&&(Le?Le.call(this,he,Jt[0]):(Jt[1]||yT).call(this,he,Jt[0]));else throw new Error("Cannot close `"+he.type+"` ("+Jd({start:he.start,end:he.end})+"): its not open");pt.position.end=Io(he.end)}function d(){return zS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(he){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function m(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=he}function p(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=he}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Le=this.resume(),pt=this.stack[this.stack.length-1];pt.label=Le,pt.identifier=us(this.sliceSerialize(he)).toLowerCase()}function w(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.title=he}function S(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.url=he}function C(he){const Le=this.stack[this.stack.length-1];if(!Le.depth){const pt=this.sliceSerialize(he).length;Le.depth=pt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function A(he){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function _(he){const pt=this.stack[this.stack.length-1].children;let Jt=pt[pt.length-1];(!Jt||Jt.type!=="text")&&(Jt=Nn(),Jt.position={start:Io(he.start),end:void 0},pt.push(Jt)),this.stack.push(Jt)}function T(he){const Le=this.stack.pop();Le.value+=this.sliceSerialize(he),Le.position.end=Io(he.end)}function M(he){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pt=Le.children[Le.children.length-1];pt.position.end=Io(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&(_.call(this,he),T.call(this,he))}function O(){this.data.atHardBreak=!0}function Y(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.value=he}function Q(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.value=he}function ie(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.value=he}function ce(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Le,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function K(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Le,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function G(he){const Le=this.sliceSerialize(he),pt=this.stack[this.stack.length-2];pt.label=sle(Le),pt.identifier=us(Le).toLowerCase()}function L(){const he=this.stack[this.stack.length-1],Le=this.resume(),pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,pt.type==="link"){const Jt=he.children;pt.children=Jt}else pt.alt=Le}function P(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.url=he}function j(){const he=this.resume(),Le=this.stack[this.stack.length-1];Le.title=he}function W(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function I(he){const Le=this.resume(),pt=this.stack[this.stack.length-1];pt.label=Le,pt.identifier=us(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function ae(he){this.data.characterReferenceType=he.type}function ee(he){const Le=this.sliceSerialize(he),pt=this.data.characterReferenceType;let Jt;pt?(Jt=I4(Le,pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Jt=US(Le);const pn=this.stack[this.stack.length-1];pn.value+=Jt}function U(he){const Le=this.stack.pop();Le.position.end=Io(he.end)}function ne(he){T.call(this,he);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(he)}function F(he){T.call(this,he);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(he)}function J(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:0,children:[]}}function te(){return{type:"break"}}function ke(){return{type:"html",value:""}}function Ve(){return{type:"image",title:null,url:"",alt:null}}function oe(){return{type:"link",title:null,url:"",children:[]}}function Ye(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Oe(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function bt(){return{type:"paragraph",children:[]}}function Xt(){return{type:"strong",children:[]}}function Nn(){return{type:"text",value:""}}function En(){return{type:"thematicBreak"}}}function Io(e){return{line:e.line,column:e.column,offset:e.offset}}function H4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?H4(e,r):ule(e,r)}}function ule(e,t){let n;for(n in t)if(W4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function yT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Jd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Jd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Jd({start:t.start,end:t.end})+") is still open")}function dle(e){const t=this;t.parser=n;function n(r){return lle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function fle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function mle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function ple(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function vle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function q4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function ble(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return q4(e,t);const i={src:sd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function wle(e,t){const n={src:sd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function kle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Sle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return q4(e,t);const i={href:sd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Nle(e,t){const n={href:sd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Cle(e,t,n){const r=e.all(t),i=n?jle(n):K4(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function jle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=K4(n[r])}return t}function K4(e){const t=e.spread;return t??e.children.length>1}function Ale(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Ple(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ele(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Dle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=$S(t.children[1]),l=j4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Mle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Ole(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bT=9,wT=32;function Ile(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(kT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(kT(t.slice(i),i>0,!1)),a.join("")}function kT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===bT||a===wT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===bT||a===wT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function _le(e,t){const n={type:"text",value:Ile(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Lle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const $le={blockquote:fle,break:mle,code:hle,delete:ple,emphasis:gle,footnoteReference:xle,heading:vle,html:yle,imageReference:ble,image:wle,inlineCode:kle,linkReference:Sle,link:Nle,listItem:Cle,list:Ale,paragraph:Ple,root:Tle,strong:Ele,table:Dle,tableCell:Ole,tableRow:Mle,text:_le,thematicBreak:Lle,toml:Mh,yaml:Mh,definition:Mh,footnoteDefinition:Mh};function Mh(){}const G4=-1,mx=0,tf=1,Ig=2,WS=3,HS=4,qS=5,KS=6,Y4=7,X4=8,ST=typeof self=="object"?self:globalThis,Fle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case mx:case G4:return n(s,i);case tf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Ig:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case WS:return n(new Date(s),i);case HS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case qS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case KS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case Y4:{const{name:o,message:l}=s;return n(new ST[o](l),i)}case X4:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new ST[a](s),i)};return r},NT=e=>Fle(new Map,e)(0),Kc="",{toString:Rle}={},{keys:Ble}=Object,Dd=e=>{const t=typeof e;if(t!=="object"||!e)return[mx,t];const n=Rle.call(e).slice(8,-1);switch(n){case"Array":return[tf,Kc];case"Object":return[Ig,Kc];case"Date":return[WS,Kc];case"RegExp":return[HS,Kc];case"Map":return[qS,Kc];case"Set":return[KS,Kc];case"DataView":return[tf,n]}return n.includes("Array")?[tf,n]:n.includes("Error")?[Y4,n]:[Ig,n]},Oh=([e,t])=>e===mx&&(t==="function"||t==="symbol"),zle=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Dd(s);switch(o){case mx:{let d=s;switch(l){case"bigint":o=X4,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([G4],s)}return i([o,d],s)}case tf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case Ig:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Ble(s))(e||!Oh(Dd(s[h])))&&d.push([a(h),a(s[h])]);return f}case WS:return i([o,s.toISOString()],s);case HS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case qS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Oh(Dd(h))||Oh(Dd(m))))&&d.push([a(h),a(m)]);return f}case KS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Oh(Dd(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},CT=(e,{json:t,lossy:n}={})=>{const r=[];return zle(!(t||n),!!t,new Map,r)(e),r},_g=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?NT(CT(e,t)):structuredClone(e):(e,t)=>NT(CT(e,t));function Ule(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Vle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Wle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ule,r=e.options.footnoteBackLabel||Vle,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=sd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{..._g(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const hx=function(e){if(e==null)return Gle;if(typeof e=="function")return px(e);if(typeof e=="object")return Array.isArray(e)?Hle(e):qle(e);if(typeof e=="string")return Kle(e);throw new Error("Expected function, string, or object as test")};function Hle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hx(e[n]);return px(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function qle(e){const t=e;return px(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Kle(e){return px(t);function t(n){return n&&n.type===e}}function px(e){return t;function t(n,r,i){return!!(Yle(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Gle(){return!0}function Yle(e){return e!==null&&typeof e=="object"&&"type"in e}const Q4=[],Xle=!0,lw=!1,Qle="skip";function Z4(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=hx(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Q4,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=Zle(n(l,d)),m[0]===lw))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==Qle)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(p=o(b,g,y)(),p[0]===lw)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function Zle(e){return Array.isArray(e)?e:typeof e=="number"?[Xle,e]:e==null?Q4:[e]}function GS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),Z4(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const cw={}.hasOwnProperty,Jle={};function ece(e,t){const n=t||Jle,r=new Map,i=new Map,a=new Map,s={...$le,...n.handlers},o={all:c,applyData:nce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:tce,wrap:ice};return GS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(cw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=_g(y);return x.children=o.all(d),x}return _g(d)}return(o.options.unknownHandler||rce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=jT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=jT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function tce(e,t){e.position&&(t.position=Vae(e))}function nce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,_g(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rce(e,t){const n=t.data||{},r="value"in t&&!(cw.call(n,"hProperties")||cw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ice(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function jT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function AT(e,t){const n=ece(e,t),r=n.one(e,void 0),i=Wle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ace(e,t){return e&&"run"in e?async function(n,r){const i=AT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return AT(n,{file:r,...e||t})}}function PT(e){if(e)throw e}var op=Object.prototype.hasOwnProperty,J4=Object.prototype.toString,TT=Object.defineProperty,ET=Object.getOwnPropertyDescriptor,DT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):J4.call(t)==="[object Array]"},MT=function(t){if(!t||J4.call(t)!=="[object Object]")return!1;var n=op.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&op.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||op.call(t,i)},OT=function(t,n){TT&&n.name==="__proto__"?TT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},IT=function(t,n){if(n==="__proto__")if(op.call(t,n)){if(ET)return ET(t,n).value}else return;return t[n]},sce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=IT(o,n),i=IT(t,n),o!==i&&(d&&i&&(MT(i)||(a=DT(i)))?(a?(a=!1,s=r&&DT(r)?r:[]):s=r&&MT(r)?r:{},OT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&OT(o,{name:n,newValue:i}));return o};const _v=xs(sce);function uw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function oce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?lce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function lce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const As={basename:cce,dirname:uce,extname:dce,join:fce,sep:"/"};function cce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Lm(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function uce(e){if(Lm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function dce(e){Lm(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function fce(...e){let t=-1,n;for(;++t<e.length;)Lm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":mce(n)}function mce(e){Lm(e);const t=e.codePointAt(0)===47;let n=hce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function hce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Lm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const pce={cwd:gce};function gce(){return"/"}function dw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function xce(e){if(typeof e=="string")e=new URL(e);else if(!dw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vce(e)}function vce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Lv=["history","path","basename","stem","extname","dirname"];class e${constructor(t){let n;t?dw(t)?n={path:t}:typeof t=="string"||yce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":pce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Lv.length;){const a=Lv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Lv.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?As.basename(this.path):void 0}set basename(t){Fv(t,"basename"),$v(t,"basename"),this.path=As.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?As.dirname(this.path):void 0}set dirname(t){_T(this.basename,"dirname"),this.path=As.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?As.extname(this.path):void 0}set extname(t){if($v(t,"extname"),_T(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=As.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){dw(t)&&(t=xce(t)),Fv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?As.basename(this.path,this.extname):void 0}set stem(t){Fv(t,"stem"),$v(t,"stem"),this.path=As.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Oi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function $v(e,t){if(e&&e.includes(As.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+As.sep+"`")}function Fv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _T(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function yce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},wce={}.hasOwnProperty;class YS extends bce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oce()}copy(){const t=new YS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_v(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zv("data",this.frozen),this.namespace[t]=n,this):wce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ih(t),r=this.parser||this.Parser;return Rv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Rv("process",this.parser||this.Parser),Bv("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Ih(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Nce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Rv("processSync",this.parser||this.Parser),Bv("processSync",this.compiler||this.Compiler),this.process(t,i),$T("processSync","process",n),r;function i(a,s){n=!0,PT(a),r=s}}run(t,n,r){LT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Ih(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),$T("runSync","run",r),i;function a(s,o){PT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Ih(n),i=this.compiler||this.Compiler;return Bv("stringify",i),LT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=_v(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];uw(g)&&uw(m)&&(m=_v(!0,g,m)),r[h]=[c,m,...p]}}}}const kce=new YS().freeze();function Rv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LT(e){if(!uw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $T(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ih(e){return Sce(e)?e:new e$(e)}function Sce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Nce(e){return typeof e=="string"||Cce(e)}function Cce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",FT=[],RT={allowDangerousHtml:!0},Ace=/^(https?|ircs?|mailto|xmpp)$/i,Pce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Tce(e){const t=Ece(e),n=Dce(e);return Mce(t.runSync(t.parse(n),n),e)}function Ece(e){const t=e.rehypePlugins||FT,n=e.remarkPlugins||FT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...RT}:RT;return kce().use(dle).use(n).use(ace,r).use(t)}function Dce(e){const t=e.children||"",n=new e$;return typeof t=="string"&&(n.value=t),n}function Mce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Oce;for(const d of Pce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+jce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),GS(e,c),Gae(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mv)if(Object.hasOwn(Mv,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Mv[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Oce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Ace.test(e.slice(0,t))?e:""}function BT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Ice(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _ce(e,t,n){const i=hx((n||{}).ignore||[]),a=Lce(t);let s=-1;for(;++s<a.length;)Z4(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let x=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=S+1:(p!==S&&b.push({type:"text",value:c.value.slice(p,S)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=S+w[0].length,x=!0),!h.global)break;w=h.exec(c.value)}return x?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function Lce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([$ce(i[0]),Fce(i[1])])}return t}function $ce(e){return typeof e=="string"?new RegExp(Ice(e),"g"):e}function Fce(e){return typeof e=="function"?e:function(){return e}}const Uv="phrasing",Vv=["autolink","link","image","label"];function Rce(){return{transforms:[qce],enter:{literalAutolink:zce,literalAutolinkEmail:Wv,literalAutolinkHttp:Wv,literalAutolinkWww:Wv},exit:{literalAutolink:Hce,literalAutolinkEmail:Wce,literalAutolinkHttp:Uce,literalAutolinkWww:Vce}}}function Bce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Uv,notInConstruct:Vv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Uv,notInConstruct:Vv},{character:":",before:"[ps]",after:"\\/",inConstruct:Uv,notInConstruct:Vv}]}}function zce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wv(e){this.config.enter.autolinkProtocol.call(this,e)}function Uce(e){this.config.exit.autolinkProtocol.call(this,e)}function Vce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Wce(e){this.config.exit.autolinkEmail.call(this,e)}function Hce(e){this.exit(e)}function qce(e){_ce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Kce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Gce]],{ignore:["link","linkReference"]})}function Kce(e,t,n,r,i){let a="";if(!t$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Yce(n)))return!1;const s=Xce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Gce(e,t,n,r){return!t$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Yce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Xce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=BT(e,"(");let a=BT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function t$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Sc(n)||dx(n))&&(!t||n!==47)}n$.peek=aue;function Qce(){this.buffer()}function Zce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Jce(){this.buffer()}function eue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function tue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=us(this.sliceSerialize(e)).toLowerCase(),n.label=t}function nue(e){this.exit(e)}function rue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=us(this.sliceSerialize(e)).toLowerCase(),n.label=t}function iue(e){this.exit(e)}function aue(){return"["}function n$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function sue(){return{enter:{gfmFootnoteCallString:Qce,gfmFootnoteCall:Zce,gfmFootnoteDefinitionLabelString:Jce,gfmFootnoteDefinition:eue},exit:{gfmFootnoteCallString:tue,gfmFootnoteCall:nue,gfmFootnoteDefinitionLabelString:rue,gfmFootnoteDefinition:iue}}}function oue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:n$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?r$:lue))),c(),l}}function lue(e,t,n){return t===0?e:r$(e,t,n)}function r$(e,t,n){return(n?"":"    ")+e}const cue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];i$.peek=hue;function uue(){return{canContainEols:["delete"],enter:{strikethrough:fue},exit:{strikethrough:mue}}}function due(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cue}],handlers:{delete:i$}}}function fue(e){this.enter({type:"delete",children:[]},e)}function mue(e){this.exit(e)}function i$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function hue(){return"~"}function pue(e){return e.length}function gue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||pue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const b=xue(e[d][x]);if(n.alignDelimiters!==!1){const w=i(b);y[x]=w,(l[x]===void 0||w>l[x])&&(l[x]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=zT(r[f]);else{const g=zT(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const w=y+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=y.length+b+x.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const x=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(w),x.push(b),n.alignDelimiters!==!1&&x.push(S),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function xue(e){return e==null?"":String(e)}function zT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function vue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),yue);return i(),s}function yue(e,t,n){return">"+(n?"":" ")+e}function bue(e,t){return UT(e,t.inConstruct,!0)&&!UT(e,t.notInConstruct,!1)}function UT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function VT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&bue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function wue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function kue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Sue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Nue(e,t,n,r){const i=Sue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(kue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Cue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(wue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Cue(e,t,n){return(n?"":"    ")+e}function XS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function jue(e,t,n,r){const i=XS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function Aue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Gf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Lg(e,t,n){const r=Vu(e),i=Vu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}a$.peek=Pue;function a$(e,t,n,r){const i=Aue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Lg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Gf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Lg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Gf(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Pue(e,t,n){return n.options.emphasis||"*"}function Tue(e,t){let n=!1;return GS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,lw}),!!((!e.depth||e.depth<3)&&zS(e)&&(t.options.setext||n))}function Eue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Tue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Gf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}s$.peek=Due;function s$(e){return e.value||""}function Due(){return"<"}o$.peek=Mue;function o$(e,t,n,r){const i=XS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Mue(){return"!"}l$.peek=Oue;function l$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Oue(){return"!"}c$.peek=Iue;function c$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Iue(){return"`"}function u$(e,t){const n=zS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}d$.peek=_ue;function d$(e,t,n,r){const i=XS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(u$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function _ue(e,t,n){return u$(e,n)?"<":"["}f$.peek=Lue;function f$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Lue(){return"["}function QS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function $ue(e){const t=QS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Fue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function m$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Rue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Fue(n):QS(n);const o=e.ordered?s==="."?")":".":$ue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),m$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Bue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function zue(e,t,n,r){const i=Bue(n);let a=n.bulletCurrent||QS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Uue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Vue=hx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wue(e,t,n,r){return(e.children.some(function(s){return Vue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Hue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}h$.peek=que;function h$(e,t,n,r){const i=Hue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Lg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Gf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Lg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Gf(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function que(e,t,n){return n.options.strong||"*"}function Kue(e,t,n,r){return n.safe(e.value,r)}function Gue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Yue(e,t,n){const r=(m$(n)+(n.options.ruleSpaces?" ":"")).repeat(Gue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const p$={blockquote:vue,break:VT,code:Nue,definition:jue,emphasis:a$,hardBreak:VT,heading:Eue,html:s$,image:o$,imageReference:l$,inlineCode:c$,link:d$,linkReference:f$,list:Rue,listItem:zue,paragraph:Uue,root:Wue,strong:h$,text:Kue,thematicBreak:Yue};function Xue(){return{enter:{table:Que,tableData:WT,tableHeader:WT,tableRow:Jue},exit:{codeText:ede,table:Zue,tableData:Hv,tableHeader:Hv,tableRow:Hv}}}function Que(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Zue(e){this.exit(e),this.data.inTable=void 0}function Jue(e){this.enter({type:"tableRow",children:[]},e)}function Hv(e){this.exit(e)}function WT(e){this.enter({type:"tableCell",children:[]},e)}function ede(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,tde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function tde(e,t){return t==="|"?t:e}function nde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const x=f(m,g,y),b=c([x]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const x=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),x(),w}function c(m,p){return gue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("table");for(;++x<y.length;)b[x]=f(y[x],p,g);return w(),b}function f(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("tableRow");for(;++x<y.length;)b[x]=l(y[x],m,p,g);return w(),b}function h(m,p,g){let y=p$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function rde(){return{exit:{taskListCheckValueChecked:HT,taskListCheckValueUnchecked:HT,paragraph:ade}}}function ide(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:sde}}}function HT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ade(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function sde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=p$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function ode(){return[Rce(),sue(),uue(),Xue(),rde()]}function lde(e){return{extensions:[Bce(),oue(e),due(),nde(e),ide()]}}const cde={tokenize:pde,partial:!0},g$={tokenize:gde,partial:!0},x$={tokenize:xde,partial:!0},v$={tokenize:vde,partial:!0},ude={tokenize:yde,partial:!0},y$={name:"wwwAutolink",tokenize:mde,previous:w$},b$={name:"protocolAutolink",tokenize:hde,previous:k$},jo={name:"emailAutolink",tokenize:fde,previous:S$},Rs={};function dde(){return{text:Rs}}let Il=48;for(;Il<123;)Rs[Il]=jo,Il++,Il===58?Il=65:Il===91&&(Il=97);Rs[43]=jo;Rs[45]=jo;Rs[46]=jo;Rs[95]=jo;Rs[72]=[jo,b$];Rs[104]=[jo,b$];Rs[87]=[jo,y$];Rs[119]=[jo,y$];function fde(e,t,n){const r=this;let i,a;return s;function s(f){return!fw(f)||!S$.call(r,r.previous)||ZS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return fw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(ude,d,c)(f):f===45||f===95||Di(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Bi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function mde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!w$.call(r,r.previous)||ZS(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(cde,e.attempt(g$,e.attempt(x$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function hde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&k$.call(r,r.previous)&&!ZS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Bi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Og(f)||Wn(f)||Sc(f)||dx(f)?n(f):e.attempt(g$,e.attempt(x$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function pde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function gde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(v$,l,o)(c):c===null||Wn(c)||Sc(c)||c!==45&&dx(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function xde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(v$,t,a)(s):s===null||Wn(s)||Sc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function vde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Wn(o)||Sc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Wn(o)||Sc(o)?t(o):r(o)}function a(o){return Bi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Bi(o)?(e.consume(o),s):n(o)}}function yde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Di(a)?n(a):t(a)}}function w$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Wn(e)}function k$(e){return!Bi(e)}function S$(e){return!(e===47||fw(e))}function fw(e){return e===43||e===45||e===46||e===95||Di(e)}function ZS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const bde={tokenize:Pde,partial:!0};function wde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Cde,continuation:{tokenize:jde},exit:Ade}},text:{91:{name:"gfmFootnoteCall",tokenize:Nde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:kde,resolveTo:Sde}}}}function kde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=us(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Sde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Nde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Wn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(us(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Wn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Cde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Wn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=us(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Wn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),vn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function jde(e,t,n){return e.check(_m,t,e.attempt(bde,t,n))}function Ade(e){e.exit("gfmFootnoteDefinition")}function Pde(e,t,n){const r=this;return vn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Tde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&ka(h,h.length,0,fx(m,s.slice(c+1,l),o)),ka(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),ka(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Vu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=Vu(p);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,o(p)}}}class Ede{constructor(){this.map=[]}add(t,n,r){Dde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Dde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Mde(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Ode(){return{flow:{null:{name:"table",tokenize:Ide,resolveAll:_de}}}}function Ide(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let M=r.events.length-1;for(;M>-1;){const Q=r.events[M][1].type;if(Q==="lineEnding"||Q==="linePrefix")M--;else break}const O=M>-1?r.events[M][1].type:null,Y=O==="tableHead"||O==="tableRow"?N:l;return Y===N&&r.parser.lazy[r.now().line]?n(T):Y(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Rt(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):un(T)?vn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Wn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,un(T)?vn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return un(T)?vn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),x):T===45?(a+=1,x(T)):T===null||Rt(T)?S(T):C(T)}function x(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):C(T)}function b(T){return T===45?(e.consume(T),b):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return un(T)?vn(e,S,"whitespace")(T):S(T)}function S(T){return T===124?p(T):T===null||Rt(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function N(T){return e.enter("tableRow"),A(T)}function A(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),A):T===null||Rt(T)?(e.exit("tableRow"),t(T)):un(T)?vn(e,A,"whitespace")(T):(e.enter("data"),E(T))}function E(T){return T===null||T===124||Wn(T)?(e.exit("data"),A(T)):(e.consume(T),T===92?_:E)}function _(T){return T===92||T===124?(e.consume(T),E):E(T)}}function _de(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Ede;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(qT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=_h(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=_h(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=_h(h,t,a,i,n,f)):s[1]!==0&&(f=_h(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&qT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Mde(t.events,n))}return e}function _h(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Xc(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Xc(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Xc(t.events,n[2]),d=Xc(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Xc(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function qT(e,t,n,r,i){const a=[],s=Xc(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Xc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Lde={name:"tasklistCheck",tokenize:Fde};function $de(){return{text:{91:Lde}}}function Fde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Wn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Rt(l)?t(l):un(l)?e.check({tokenize:Rde},t,n)(l):n(l)}}function Rde(e,t,n){return vn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Bde(e){return O4([dde(),wde(),Tde(e),Ode(),$de()])}const zde={};function Ude(e){const t=this,n=e||zde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Bde(n)),a.push(ode()),s.push(lde(n))}const qv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',N$=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gx=v.createContext({}),JS=v.createContext(null),xx=typeof document<"u",Vde=xx?v.useLayoutEffect:v.useEffect,C$=v.createContext({strict:!1}),eN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Wde="framerAppearId",j$="data-"+eN(Wde);function Hde(e,t,n,r){const{visualElement:i}=v.useContext(gx),a=v.useContext(C$),s=v.useContext(JS),o=v.useContext(N$).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,s)});const d=v.useRef(!!(n[j$]&&!window.HandoffComplete));return Vde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qde(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):du(n)&&(n.current=r))},[t])}function Yf(e){return typeof e=="string"||Array.isArray(e)}function vx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nN=["initial",...tN];function yx(e){return vx(e.animate)||nN.some(t=>Yf(e[t]))}function A$(e){return!!(yx(e)||e.variants)}function Kde(e,t){if(yx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yf(n)?n:void 0,animate:Yf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Gde(e){const{initial:t,animate:n}=Kde(e,v.useContext(gx));return v.useMemo(()=>({initial:t,animate:n}),[KT(t),KT(n)])}function KT(e){return Array.isArray(e)?e.join(" "):e}const GT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xf={};for(const e in GT)Xf[e]={isEnabled:t=>GT[e].some(n=>!!t[n])};function Yde(e){for(const t in e)Xf[t]={...Xf[t],...e[t]}}const P$=v.createContext({}),T$=v.createContext({}),Xde=Symbol.for("motionComponentSymbol");function Qde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Yde(e);function a(o,l){let c;const d={...v.useContext(N$),...o,layoutId:Zde(o)},{isStatic:f}=d,h=Gde(o),m=r(o,f);if(!f&&xx){h.visualElement=Hde(i,m,d,t);const p=v.useContext(T$),g=v.useContext(C$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(gx.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,qde(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[Xde]=i,s}function Zde({layoutId:e}){const t=v.useContext(P$).id;return t&&e!==void 0?t+"-"+e:e}function Jde(e){function t(r,i={}){return Qde(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const efe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rN(e){return typeof e!="string"||e.includes("-")?!1:!!(efe.indexOf(e)>-1||/[A-Z]/.test(e))}const $g={};function tfe(e){Object.assign($g,e)}const $m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tc=new Set($m);function E$(e,{layout:t,layoutId:n}){return Tc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$g[e]||e==="opacity")}const aa=e=>!!(e&&e.getVelocity),nfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rfe=$m.length;function ife(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<rfe;s++){const o=$m[s];if(e[o]!==void 0){const l=nfe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const D$=e=>t=>typeof t=="string"&&t.startsWith(e),M$=D$("--"),mw=D$("var(--"),afe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ul=(e,t,n)=>Math.min(Math.max(n,e),t),Ec={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nf={...Ec,transform:e=>ul(0,1,e)},Lh={...Ec,default:1},rf=e=>Math.round(e*1e5)/1e5,bx=/(-)?([\d]*\.?[\d])+/g,O$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ofe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Fm(e){return typeof e=="string"}const Rm=e=>({test:t=>Fm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lo=Rm("deg"),Is=Rm("%"),Wt=Rm("px"),lfe=Rm("vh"),cfe=Rm("vw"),YT={...Is,parse:e=>Is.parse(e)/100,transform:e=>Is.transform(e*100)},XT={...Ec,transform:Math.round},I$={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,size:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,rotate:Lo,rotateX:Lo,rotateY:Lo,rotateZ:Lo,scale:Lh,scaleX:Lh,scaleY:Lh,scaleZ:Lh,skew:Lo,skewX:Lo,skewY:Lo,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:nf,originX:YT,originY:YT,originZ:Wt,zIndex:XT,fillOpacity:nf,strokeOpacity:nf,numOctaves:XT};function iN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(M$(f)){a[f]=h;continue}const m=I$[f],p=sfe(h,m);if(Tc.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=ife(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const aN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _$(e,t,n){for(const r in t)!aa(t[r])&&!E$(r,n)&&(e[r]=t[r])}function ufe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=aN();return iN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function dfe(e,t,n){const r=e.style||{},i={};return _$(i,r,e),Object.assign(i,ufe(e,t,n)),e.transformValues?e.transformValues(i):i}function ffe(e,t,n){const r={},i=dfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const mfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mfe.has(e)}let L$=e=>!Fg(e);function hfe(e){e&&(L$=t=>t.startsWith("on")?!Fg(t):e(t))}try{hfe(require("@emotion/is-prop-valid").default)}catch{}function pfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(L$(i)||n===!0&&Fg(i)||!t&&!Fg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function QT(e,t,n){return typeof e=="string"?e:Wt.transform(t+n*e)}function gfe(e,t,n){const r=QT(t,e.x,e.width),i=QT(n,e.y,e.height);return`${r} ${i}`}const xfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vfe={offset:"strokeDashoffset",array:"strokeDasharray"};function yfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?xfe:vfe;e[a.offset]=Wt.transform(-r);const s=Wt.transform(t),o=Wt.transform(n);e[a.array]=`${s} ${o}`}function sN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(iN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=gfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&yfe(m,s,o,l,!1)}const $$=()=>({...aN(),attrs:{}}),oN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bfe(e,t,n,r){const i=v.useMemo(()=>{const a=$$();return sN(a,t,{enableHardwareAcceleration:!1},oN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_$(a,e.style,e),i.style={...a,...i.style}}return i}function wfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(rN(n)?bfe:ffe)(r,a,s,n),d={...pfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>aa(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function F$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const R$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B$(e,t,n,r){F$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(R$.has(i)?i:eN(i),t.attrs[i])}function lN(e,t){const{style:n}=e,r={};for(const i in n)(aa(n[i])||t.style&&aa(t.style[i])||E$(i,e))&&(r[i]=n[i]);return r}function z$(e,t){const n=lN(e,t);for(const r in e)if(aa(e[r])||aa(t[r])){const i=$m.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function cN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function kfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Rg=e=>Array.isArray(e),Sfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Nfe=e=>Rg(e)?e[e.length-1]||0:e;function lp(e){const t=aa(e)?e.get():e;return Sfe(t)?t.toValue():t}function Cfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:jfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const U$=e=>(t,n)=>{const r=v.useContext(gx),i=v.useContext(JS),a=()=>Cfe(e,t,r,i);return n?a():kfe(a)};function jfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=lp(a[h]);let{initial:s,animate:o}=e;const l=yx(e),c=A$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!vx(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=cN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...x}=p;for(const b in x){let w=x[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Mr=e=>e;class ZT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Afe(e){let t=new ZT,n=new ZT,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const $h=["prepare","read","update","preRender","render","postRender"],Pfe=40;function Tfe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=$h.reduce((f,h)=>(f[h]=Afe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Pfe),1),i.timestamp=f,i.isProcessing=!0,$h.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:$h.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>$h.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:ar,cancel:xo,state:Ci,steps:Kv}=Tfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),Efe={useVisualState:U$({scrapeMotionValuesFromProps:z$,createRenderState:$$,onMount:(e,t,{renderState:n,latestValues:r})=>{ar.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ar.render(()=>{sN(n,r,{enableHardwareAcceleration:!1},oN(t.tagName),e.transformTemplate),B$(t,n)})}})},Dfe={useVisualState:U$({scrapeMotionValuesFromProps:lN,createRenderState:aN})};function Mfe(e,{forwardMotionProps:t=!1},n,r){return{...rN(e)?Efe:Dfe,preloadedFeatures:n,useRender:wfe(t),createVisualElement:r,Component:e}}function eo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const V$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function wx(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ofe=e=>t=>V$(t)&&e(t,wx(t));function io(e,t,n,r){return eo(e,t,Ofe(n),r)}const Ife=(e,t)=>n=>t(e(n)),al=(...e)=>e.reduce(Ife);function W$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const JT=W$("dragHorizontal"),eE=W$("dragVertical");function H$(e){let t=!1;if(e==="y")t=eE();else if(e==="x")t=JT();else{const n=JT(),r=eE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function q$(){const e=H$(!0);return e?(e(),!1):!0}class bl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||q$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&ar.update(()=>o[r](a,s))};return io(e.current,n,i,{passive:!e.getProps()[r]})}class _fe extends bl{mount(){this.unmount=al(tE(this.node,!0),tE(this.node,!1))}unmount(){}}class Lfe extends bl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=al(eo(this.node.current,"focus",()=>this.onFocus()),eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K$=(e,t)=>t?e===t?!0:K$(e,t.parentElement):!1;function Gv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wx(n))}class $fe extends bl{constructor(){super(...arguments),this.removeStartListeners=Mr,this.removeEndListeners=Mr,this.removeAccessibleListeners=Mr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=io(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ar.update(()=>{!f&&!K$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=io(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=al(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Gv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&ar.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=eo(this.node.current,"keyup",s),Gv("down",(o,l)=>{this.startPress(o,l)})},n=eo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gv("cancel",(a,s)=>this.cancelPress(a,s))},i=eo(this.node.current,"blur",r);this.removeAccessibleListeners=al(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ar.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!q$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ar.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=io(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=eo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=al(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hw=new WeakMap,Yv=new WeakMap,Ffe=e=>{const t=hw.get(e.target);t&&t(e)},Rfe=e=>{e.forEach(Ffe)};function Bfe({root:e,...t}){const n=e||document;Yv.has(n)||Yv.set(n,{});const r=Yv.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Rfe,{root:e,...t})),r[i]}function zfe(e,t,n){const r=Bfe(t);return hw.set(e,n),r.observe(e),()=>{hw.delete(e),r.unobserve(e)}}const Ufe={some:0,all:1};class Vfe extends bl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ufe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return zfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Wfe(t,n))&&this.startObserver()}unmount(){}}function Wfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Hfe={inView:{Feature:Vfe},tap:{Feature:$fe},focus:{Feature:Lfe},hover:{Feature:_fe}};function G$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Kfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function kx(e,t,n){const r=e.getProps();return cN(r,t,n!==void 0?n:r.custom,qfe(e),Kfe(e))}let uN=Mr;const oc=e=>e*1e3,ao=e=>e/1e3,Gfe={current:!1},Y$=e=>Array.isArray(e)&&typeof e[0]=="number";function X$(e){return!!(!e||typeof e=="string"&&Q$[e]||Y$(e)||Array.isArray(e)&&e.every(X$))}const zd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Q$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zd([0,.65,.55,1]),circOut:zd([.55,0,1,.45]),backIn:zd([.31,.01,.66,-.59]),backOut:zd([.33,1.53,.69,.99])};function Z$(e){if(e)return Y$(e)?zd(e):Array.isArray(e)?e.map(Z$):Q$[e]}function Yfe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=Z$(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Xfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const J$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qfe=1e-7,Zfe=12;function Jfe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=J$(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Qfe&&++o<Zfe);return s}function Bm(e,t,n,r){if(e===t&&n===r)return Mr;const i=a=>Jfe(a,0,1,e,n);return a=>a===0||a===1?a:J$(i(a),t,r)}const eme=Bm(.42,0,1,1),tme=Bm(0,0,.58,1),eF=Bm(.42,0,.58,1),nme=e=>Array.isArray(e)&&typeof e[0]!="number",tF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nF=e=>t=>1-e(1-t),dN=e=>1-Math.sin(Math.acos(e)),rF=nF(dN),rme=tF(dN),iF=Bm(.33,1.53,.69,.99),fN=nF(iF),ime=tF(fN),ame=e=>(e*=2)<1?.5*fN(e):.5*(2-Math.pow(2,-10*(e-1))),sme={linear:Mr,easeIn:eme,easeInOut:eF,easeOut:tme,circIn:dN,circInOut:rme,circOut:rF,backIn:fN,backInOut:ime,backOut:iF,anticipate:ame},nE=e=>{if(Array.isArray(e)){uN(e.length===4);const[t,n,r,i]=e;return Bm(t,n,r,i)}else if(typeof e=="string")return sme[e];return e},mN=(e,t)=>n=>!!(Fm(n)&&ofe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),aF=(e,t,n)=>r=>{if(!Fm(r))return r;const[i,a,s,o]=r.match(bx);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ome=e=>ul(0,255,e),Xv={...Ec,transform:e=>Math.round(ome(e))},Jl={test:mN("rgb","red"),parse:aF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xv.transform(e)+", "+Xv.transform(t)+", "+Xv.transform(n)+", "+rf(nf.transform(r))+")"};function lme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const pw={test:mN("#"),parse:lme,transform:Jl.transform},fu={test:mN("hsl","hue"),parse:aF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Is.transform(rf(t))+", "+Is.transform(rf(n))+", "+rf(nf.transform(r))+")"},Fi={test:e=>Jl.test(e)||pw.test(e)||fu.test(e),parse:e=>Jl.test(e)?Jl.parse(e):fu.test(e)?fu.parse(e):pw.parse(e),transform:e=>Fm(e)?e:e.hasOwnProperty("red")?Jl.transform(e):fu.transform(e)},pr=(e,t,n)=>-n*e+n*t+e;function Qv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Qv(l,o,e+1/3),a=Qv(l,o,e),s=Qv(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Zv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},ume=[pw,Jl,fu],dme=e=>ume.find(t=>t.test(e));function rE(e){const t=dme(e);let n=t.parse(e);return t===fu&&(n=cme(n)),n}const sF=(e,t)=>{const n=rE(e),r=rE(t),i={...n};return a=>(i.red=Zv(n.red,r.red,a),i.green=Zv(n.green,r.green,a),i.blue=Zv(n.blue,r.blue,a),i.alpha=pr(n.alpha,r.alpha,a),Jl.transform(i))};function fme(e){var t,n;return isNaN(e)&&Fm(e)&&(((t=e.match(bx))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(O$))===null||n===void 0?void 0:n.length)||0)>0}const oF={regex:afe,countKey:"Vars",token:"${v}",parse:Mr},lF={regex:O$,countKey:"Colors",token:"${c}",parse:Fi.parse},cF={regex:bx,countKey:"Numbers",token:"${n}",parse:Ec.parse};function Jv(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Bg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jv(n,oF),Jv(n,lF),Jv(n,cF),n}function uF(e){return Bg(e).values}function dF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Bg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(oF.token,s[l]):l<r+n?o=o.replace(lF.token,Fi.transform(s[l])):o=o.replace(cF.token,rf(s[l]));return o}}const mme=e=>typeof e=="number"?0:e;function hme(e){const t=uF(e);return dF(e)(t.map(mme))}const dl={test:fme,parse:uF,createTransformer:dF,getAnimatableNone:hme},fF=(e,t)=>n=>`${n>0?t:e}`;function mF(e,t){return typeof e=="number"?n=>pr(e,t,n):Fi.test(e)?sF(e,t):e.startsWith("var(")?fF(e,t):pF(e,t)}const hF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>mF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},pme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=mF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},pF=(e,t)=>{const n=dl.createTransformer(t),r=Bg(e),i=Bg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?al(hF(r.values,i.values),n):fF(e,t)},Qf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},iE=(e,t)=>n=>pr(e,t,n);function gme(e){return typeof e=="number"?iE:typeof e=="string"?Fi.test(e)?sF:pF:Array.isArray(e)?hF:typeof e=="object"?pme:iE}function xme(e,t,n){const r=[],i=n||gme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Mr:t;o=al(l,o)}r.push(o)}return r}function gF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(uN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=xme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Qf(e[d],e[d+1],c);return s[d](f)};return n?c=>l(ul(e[0],e[a-1],c)):l}function vme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Qf(0,t,r);e.push(pr(n,1,i))}}function yme(e){const t=[0];return vme(t,e.length-1),t}function bme(e,t){return e.map(n=>n*t)}function wme(e,t){return e.map(()=>t||eF).splice(0,e.length-1)}function zg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=nme(r)?r.map(nE):nE(r),a={done:!1,value:t[0]},s=bme(n&&n.length===t.length?n:yme(t),e),o=gF(s,t,{ease:Array.isArray(i)?i:wme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function xF(e,t){return t?e*(1e3/t):0}const kme=5;function vF(e,t,n){const r=Math.max(t-kme,0);return xF(n-e(r),t-r)}const ey=.001,Sme=.01,Nme=10,Cme=.05,jme=1;function Ame({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=ul(Cme,jme,s),e=ul(Sme,Nme,ao(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=gw(c,s),p=Math.exp(-f);return ey-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=gw(Math.pow(c,2),s);return(-i(c)+ey>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ey+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Tme(i,a,o);if(e=oc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Pme=12;function Tme(e,t,n){let r=n;for(let i=1;i<Pme;i++)r=r-e(r)/t(r);return r}function gw(e,t){return e*Math.sqrt(1-t*t)}const Eme=["duration","bounce"],Dme=["stiffness","damping","mass"];function aE(e,t){return t.some(n=>e[n]!==void 0)}function Mme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!aE(e,Dme)&&aE(e,Eme)){const n=Ame(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function yF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Mme({...r,velocity:-ao(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=ao(Math.sqrt(o/c)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(p<1){const w=gw(y,p);b=S=>{const C=Math.exp(-p*y*S);return a-C*((m+p*y*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*y*S),N=Math.min(w*S,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=vF(b,w,S):C=0);const N=Math.abs(C)<=n,A=Math.abs(a-S)<=t;s.done=N&&A}return s.value=s.done?a:S,s}}}function sE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=E=>-g*Math.exp(-E/r),w=E=>x+b(E),S=E=>{const _=b(E),T=w(E);h.done=Math.abs(_)<=c,h.value=h.done?x:T};let C,N;const A=E=>{m(h.value)&&(C=E,N=yF({keyframes:[h.value,p(h.value)],velocity:vF(w,E,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:E=>{let _=!1;return!N&&C===void 0&&(_=!0,S(E),A(E)),C!==void 0&&E>C?N.next(E-C):(!_&&S(E),h)}}}const Ome=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ar.update(t,!0),stop:()=>xo(t),now:()=>Ci.isProcessing?Ci.timestamp:performance.now()}},oE=2e4;function lE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<oE;)t+=n,r=e.next(t);return t>=oE?1/0:t}const Ime={decay:sE,inertia:sE,tween:zg,keyframes:zg,spring:yF};function Ug({autoplay:e=!0,delay:t=0,driver:n=Ome,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const x=()=>{y=new Promise(j=>{g=j})};x();let b;const w=Ime[i]||zg;let S;w!==zg&&typeof r[0]!="number"&&(S=gF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",E=null,_=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=lE(C));const{calculatedDuration:M}=C;let O=1/0,Y=1/0;M!==null&&(O=M+s,Y=O*(a+1)-s);let Q=0;const ie=j=>{if(_===null)return;m>0&&(_=Math.min(_,j)),m<0&&(_=Math.min(j-Y/m,_)),E!==null?Q=E:Q=Math.round(j-_)*m;const W=Q-t*(m>=0?1:-1),k=m>=0?W<0:W>Y;Q=Math.max(W,0),A==="finished"&&E===null&&(Q=Y);let I=Q,ae=C;if(a){const F=Math.min(Q,Y)/O;let J=Math.floor(F),ue=F%1;!ue&&F>=1&&(ue=1),ue===1&&J--,J=Math.min(J,a+1),!!(J%2)&&(o==="reverse"?(ue=1-ue,s&&(ue-=s/O)):o==="mirror"&&(ae=N)),I=ul(0,1,ue)*O}const ee=k?{done:!1,value:r[0]}:ae.next(I);S&&(ee.value=S(ee.value));let{done:U}=ee;!k&&M!==null&&(U=m>=0?Q>=Y:Q<=0);const ne=E===null&&(A==="finished"||A==="running"&&U);return f&&f(ee.value),ne&&G(),ee},ce=()=>{b&&b.stop(),b=void 0},K=()=>{A="idle",ce(),g(),x(),_=T=null},G=()=>{A="finished",d&&d(),ce(),g()},L=()=>{if(p)return;b||(b=n(ie));const j=b.now();l&&l(),E!==null?_=j-E:(!_||A==="finished")&&(_=j),A==="finished"&&x(),T=_,E=null,A="running",b.start()};e&&L();const P={then(j,W){return y.then(j,W)},get time(){return ao(Q)},set time(j){j=oc(j),Q=j,E!==null||!b||m===0?E=j:_=b.now()-j/m},get duration(){const j=C.calculatedDuration===null?lE(C):C.calculatedDuration;return ao(j)},get speed(){return m},set speed(j){j===m||!b||(m=j,P.time=ao(Q))},get state(){return A},play:L,pause:()=>{A="paused",E=Q},stop:()=>{p=!0,A!=="idle"&&(A="idle",c&&c(),K())},cancel:()=>{T!==null&&ie(T),K()},complete:()=>{A="finished"},sample:j=>(_=0,ie(j))};return P}function _me(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lme=_me(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$me=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fh=10,Fme=2e4,Rme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!X$(t.ease);function Bme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Lme()&&$me.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Rme(t,i)){const w=Ug({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const C=[];let N=0;for(;!S.done&&N<Fme;)S=w.sample(N),C.push(S.value),N+=Fh;p=void 0,f=C,h=N-Fh,m="linear"}const g=Yfe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,ar.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(Xfe(f,i)),r&&r(),x())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Mr},get time(){return ao(g.currentTime||0)},set time(w){g.currentTime=oc(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return ao(h)},play:()=>{s||(g.play(),xo(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=Ug({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Fh).value,S.sample(w).value,Fh)}x()},complete:()=>{c||g.finish()},cancel:x}}function zme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Mr,pause:Mr,stop:Mr,then:a=>(a(),Promise.resolve()),cancel:Mr,complete:Mr});return t?Ug({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Ume={type:"spring",stiffness:500,damping:25,restSpeed:10},Vme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Wme={type:"keyframes",duration:.8},Hme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qme=(e,{keyframes:t})=>t.length>2?Wme:Tc.has(e)?e.startsWith("scale")?Vme(t[1]):Ume:Hme,xw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dl.test(t)||t==="0")&&!t.startsWith("url(")),Kme=new Set(["brightness","contrast","saturate","opacity"]);function Gme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bx)||[];if(!r)return e;const i=n.replace(r,"");let a=Kme.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Yme=/([a-z-]*)\(.*?\)/g,vw={...dl,getAnimatableNone:e=>{const t=e.match(Yme);return t?t.map(Gme).join(" "):e}},Xme={...I$,color:Fi,backgroundColor:Fi,outlineColor:Fi,fill:Fi,stroke:Fi,borderColor:Fi,borderTopColor:Fi,borderRightColor:Fi,borderBottomColor:Fi,borderLeftColor:Fi,filter:vw,WebkitFilter:vw},hN=e=>Xme[e];function bF(e,t){let n=hN(e);return n!==vw&&(n=dl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wF=e=>/^0[^.\s]+$/.test(e);function Qme(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||wF(e)}function Zme(e,t,n,r){const i=xw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),Qme(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=bF(t,o)}return a}function Jme({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function pN(e,t){return e[t]||e.default||e}const ehe={skipAnimations:!1},gN=(e,t,n,r={})=>i=>{const a=pN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-oc(s);const l=Zme(t,e,n,a),c=l[0],d=l[l.length-1],f=xw(e,c),h=xw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Jme(a)||(m={...m,...qme(e,m)}),m.duration&&(m.duration=oc(m.duration)),m.repeatDelay&&(m.repeatDelay=oc(m.repeatDelay)),!f||!h||Gfe.current||a.type===!1||ehe.skipAnimations)return zme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Bme(t,e,m);if(p)return p}return Ug(m)};function Vg(e){return!!(aa(e)&&e.add)}const kF=e=>/^\-?\d*\.?\d+$/.test(e);function xN(e,t){e.indexOf(t)===-1&&e.push(t)}function vN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class yN{constructor(){this.subscriptions=[]}add(t){return xN(this.subscriptions,t),()=>vN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const the=e=>!isNaN(parseFloat(e));class nhe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Ci;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,ar.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ar.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=the(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yN);const r=this.events[t].add(n);return t==="change"?()=>{r(),ar.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wu(e,t){return new nhe(e,t)}const SF=e=>t=>t.test(e),rhe={test:e=>e==="auto",parse:e=>e},NF=[Ec,Wt,Is,Lo,cfe,lfe,rhe],Md=e=>NF.find(SF(e)),ihe=[...NF,Fi,dl],ahe=e=>ihe.find(SF(e));function she(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wu(n))}function ohe(e,t){const n=kx(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Nfe(a[s]);she(e,s,o)}}function lhe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(kF(d)||wF(d))?d=parseFloat(d):!ahe(d)&&dl.test(c)&&(d=bF(l,c)),e.addValue(l,Wu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function che(e,t){return t?(t[e]||t.default||t).from:void 0}function uhe(e,t,n){const r={};for(const i in e){const a=che(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function dhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function fhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function CF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&dhe(d,f))continue;const p={delay:n,elapsed:0,...pN(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[j$];if(x){const b=window.HandoffAppearAnimations(x,f,h,ar);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!fhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(gN(f,h,m,e.shouldReduceMotion&&Tc.has(f)?{type:!1}:p));const y=h.animation;Vg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&ohe(e,s)}),c}function yw(e,t,n={}){const r=kx(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(CF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return mhe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function mhe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(hhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(yw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function hhe(e,t){return e.sortNodePosition(t)}function phe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>yw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=yw(e,t,n);else{const i=typeof t=="function"?kx(e,t,n.custom):t;r=Promise.all(CF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const ghe=[...tN].reverse(),xhe=tN.length;function vhe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>phe(e,n,r)))}function yhe(e){let t=vhe(e);const n=whe();let r=!0;const i=(l,c)=>{const d=kx(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<xhe;x++){const b=ghe[x],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Yf(S),N=b===c?w.isActive:null;N===!1&&(g=x);let A=S===f[b]&&S!==d[b]&&C;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...p},!w.isActive&&N===null||!S&&!w.prevProp||vx(S)||typeof S=="boolean")continue;let _=bhe(w.prevProp,S)||b===c&&w.isActive&&!A&&C||x>g&&C,T=!1;const M=Array.isArray(S)?S:[S];let O=M.reduce(i,{});N===!1&&(O={});const{prevResolvedValues:Y={}}=w,Q={...Y,...O},ie=ce=>{_=!0,m.has(ce)&&(T=!0,m.delete(ce)),w.needsAnimating[ce]=!0};for(const ce in Q){const K=O[ce],G=Y[ce];if(p.hasOwnProperty(ce))continue;let L=!1;Rg(K)&&Rg(G)?L=!G$(K,G):L=K!==G,L?K!==void 0?ie(ce):m.add(ce):K!==void 0&&m.has(ce)?ie(ce):w.protectedKeys[ce]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(_=!1),_&&(!A||T)&&h.push(...M.map(ce=>({animation:ce,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function bhe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!G$(t,e):!1}function _l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function whe(){return{animate:_l(!0),whileInView:_l(),whileHover:_l(),whileTap:_l(),whileDrag:_l(),whileFocus:_l(),exit:_l()}}class khe extends bl{constructor(t){super(t),t.animationState||(t.animationState=yhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),vx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let She=0;class Nhe extends bl{constructor(){super(...arguments),this.id=She++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Che={animation:{Feature:khe},exit:{Feature:Nhe}},cE=(e,t)=>Math.abs(e-t);function jhe(e,t){const n=cE(e.x,t.x),r=cE(e.y,t.y);return Math.sqrt(n**2+r**2)}class jF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ny(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=jhe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=Ci;this.history.push({...p,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ty(h,this.transformPagePoint),ar.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ny(f.type==="pointercancel"?this.lastMoveEventInfo:ty(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!V$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=wx(t),o=ty(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ci;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,ny(o,this.history)),this.removeListeners=al(io(this.contextWindow,"pointermove",this.handlePointerMove),io(this.contextWindow,"pointerup",this.handlePointerUp),io(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xo(this.updatePoint)}}function ty(e,t){return t?{point:t(e.point)}:e}function uE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ny({point:e},t){return{point:e,delta:uE(e,AF(t)),offset:uE(e,Ahe(t)),velocity:Phe(t,.1)}}function Ahe(e){return e[0]}function AF(e){return e[e.length-1]}function Phe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=AF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>oc(t)));)n--;if(!r)return{x:0,y:0};const a=ao(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ca(e){return e.max-e.min}function bw(e,t=0,n=.01){return Math.abs(e-t)<=n}function dE(e,t,n,r=.5){e.origin=r,e.originPoint=pr(t.min,t.max,e.origin),e.scale=Ca(n)/Ca(t),(bw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pr(n.min,n.max,e.origin)-e.originPoint,(bw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function af(e,t,n,r){dE(e.x,t.x,n.x,r?r.originX:void 0),dE(e.y,t.y,n.y,r?r.originY:void 0)}function fE(e,t,n){e.min=n.min+t.min,e.max=e.min+Ca(t)}function The(e,t,n){fE(e.x,t.x,n.x),fE(e.y,t.y,n.y)}function mE(e,t,n){e.min=t.min-n.min,e.max=e.min+Ca(t)}function sf(e,t,n){mE(e.x,t.x,n.x),mE(e.y,t.y,n.y)}function Ehe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pr(n,e,r.max):Math.min(e,n)),e}function hE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Dhe(e,{top:t,left:n,bottom:r,right:i}){return{x:hE(e.x,n,i),y:hE(e.y,t,r)}}function pE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Mhe(e,t){return{x:pE(e.x,t.x),y:pE(e.y,t.y)}}function Ohe(e,t){let n=.5;const r=Ca(e),i=Ca(t);return i>r?n=Qf(t.min,t.max-r,e.min):r>i&&(n=Qf(e.min,e.max-i,t.min)),ul(0,1,n)}function Ihe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ww=.35;function _he(e=ww){return e===!1?e=0:e===!0&&(e=ww),{x:gE(e,"left","right"),y:gE(e,"top","bottom")}}function gE(e,t,n){return{min:xE(e,t),max:xE(e,n)}}function xE(e,t){return typeof e=="number"?e:e[t]||0}const vE=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:vE(),y:vE()}),yE=()=>({min:0,max:0}),Lr=()=>({x:yE(),y:yE()});function La(e){return[e("x"),e("y")]}function PF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Lhe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $he(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ry(e){return e===void 0||e===1}function kw({scale:e,scaleX:t,scaleY:n}){return!ry(e)||!ry(t)||!ry(n)}function Ul(e){return kw(e)||TF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function TF(e){return bE(e.x)||bE(e.y)}function bE(e){return e&&e!=="0%"}function Wg(e,t,n){const r=e-n,i=t*r;return n+i}function wE(e,t,n,r,i){return i!==void 0&&(e=Wg(e,i,r)),Wg(e,n,r)+t}function Sw(e,t=0,n=1,r,i){e.min=wE(e.min,t,n,r,i),e.max=wE(e.max,t,n,r,i)}function EF(e,{x:t,y:n}){Sw(e.x,t.translate,t.scale,t.originPoint),Sw(e.y,n.translate,n.scale,n.originPoint)}function Fhe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,EF(e,s)),r&&Ul(a.latestValues)&&hu(e,a.latestValues))}t.x=kE(t.x),t.y=kE(t.y)}function kE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function zo(e,t){e.min=e.min+t,e.max=e.max+t}function SE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=pr(e.min,e.max,a);Sw(e,t[n],t[r],s,t.scale)}const Rhe=["x","scaleX","originX"],Bhe=["y","scaleY","originY"];function hu(e,t){SE(e.x,t,Rhe),SE(e.y,t,Bhe)}function DF(e,t){return PF($he(e.getBoundingClientRect(),t))}function zhe(e,t,n){const r=DF(e,n),{scroll:i}=t;return i&&(zo(r.x,i.offset.x),zo(r.y,i.offset.y)),r}const MF=({current:e})=>e?e.ownerDocument.defaultView:null,Uhe=new WeakMap;class Vhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wx(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=H$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),La(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Is.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=Ca(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&ar.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Whe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>La(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:MF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ar.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Rh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Ehe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&du(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Dhe(i.layoutBox,n):this.constraints=!1,this.elastic=_he(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&La(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Ihe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!du(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=zhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Mhe(i.layout.layoutBox,a);if(n){const o=n(Lhe(s));this.hasMutatedConstraints=!!o,o&&(s=PF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=La(d=>{if(!Rh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(gN(t,r,0,n))}stopAnimation(){La(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){La(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){La(n=>{const{drag:r}=this.getProps();if(!Rh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-pr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!du(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};La(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Ohe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),La(s=>{if(!Rh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(pr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Uhe.set(this.visualElement,this);const t=this.visualElement.current,n=io(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();du(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=eo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(La(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=ww,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Rh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Whe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Hhe extends bl{constructor(t){super(t),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new Vhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const NE=e=>(t,n)=>{e&&ar.update(()=>e(t,n))};class qhe extends bl{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(t){this.session=new jF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:NE(t),onStart:NE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&ar.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=io(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Khe(){const e=v.useContext(JS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const cp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Od={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=CE(e,t.target.x),r=CE(e,t.target.y);return`${n}% ${r}%`}},Ghe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=dl.parse(e);if(i.length>5)return r;const a=dl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=pr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Yhe extends qg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;tfe(Xhe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),cp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||ar.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function OF(e){const[t,n]=Khe(),r=v.useContext(P$);return qg.createElement(Yhe,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(T$),isPresent:t,safeToRemove:n})}const Xhe={borderRadius:{...Od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Od,borderTopRightRadius:Od,borderBottomLeftRadius:Od,borderBottomRightRadius:Od,boxShadow:Ghe},IF=["TopLeft","TopRight","BottomLeft","BottomRight"],Qhe=IF.length,jE=e=>typeof e=="string"?parseFloat(e):e,AE=e=>typeof e=="number"||Wt.test(e);function Zhe(e,t,n,r,i,a){i?(e.opacity=pr(0,n.opacity!==void 0?n.opacity:1,Jhe(r)),e.opacityExit=pr(t.opacity!==void 0?t.opacity:1,0,epe(r))):a&&(e.opacity=pr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Qhe;s++){const o=`border${IF[s]}Radius`;let l=PE(t,o),c=PE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||AE(l)===AE(c)?(e[o]=Math.max(pr(jE(l),jE(c),r),0),(Is.test(c)||Is.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=pr(t.rotate||0,n.rotate||0,r))}function PE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Jhe=_F(0,.5,rF),epe=_F(.5,.95,Mr);function _F(e,t,n){return r=>r<e?0:r>t?1:n(Qf(e,t,r))}function TE(e,t){e.min=t.min,e.max=t.max}function Oa(e,t){TE(e.x,t.x),TE(e.y,t.y)}function EE(e,t,n,r,i){return e-=t,e=Wg(e,1/n,r),i!==void 0&&(e=Wg(e,1/i,r)),e}function tpe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Is.test(t)&&(t=parseFloat(t),t=pr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=pr(a.min,a.max,r);e===a&&(o-=t),e.min=EE(e.min,t,n,o,i),e.max=EE(e.max,t,n,o,i)}function DE(e,t,[n,r,i],a,s){tpe(e,t[n],t[r],t[i],t.scale,a,s)}const npe=["x","scaleX","originX"],rpe=["y","scaleY","originY"];function ME(e,t,n,r){DE(e.x,t,npe,n?n.x:void 0,r?r.x:void 0),DE(e.y,t,rpe,n?n.y:void 0,r?r.y:void 0)}function OE(e){return e.translate===0&&e.scale===1}function LF(e){return OE(e.x)&&OE(e.y)}function ipe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function $F(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function IE(e){return Ca(e.x)/Ca(e.y)}class ape{constructor(){this.members=[]}add(t){xN(this.members,t),t.scheduleRender()}remove(t){if(vN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _E(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const spe=(e,t)=>e.depth-t.depth;class ope{constructor(){this.children=[],this.isDirty=!1}add(t){xN(this.children,t),this.isDirty=!0}remove(t){vN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(spe),this.isDirty=!1,this.children.forEach(t)}}function lpe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(xo(r),e(a-t))};return ar.read(r,!0),()=>xo(r)}function cpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function upe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function dpe(e,t,n){const r=aa(e)?e:Wu(e);return r.start(gN("",r,t,n)),r.animation}const LE=["","X","Y","Z"],fpe={visibility:"hidden"},$E=1e3;let mpe=0;const Vl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function FF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=mpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vl.totalNodes=Vl.resolvedTargetDeltas=Vl.recalculatedProjection=0,this.nodes.forEach(gpe),this.nodes.forEach(wpe),this.nodes.forEach(kpe),this.nodes.forEach(xpe),cpe(Vl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ope)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new yN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=upe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lpe(h,250),cp.hasAnimatedSinceResize&&(cp.hasAnimatedSinceResize=!1,this.nodes.forEach(RE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Ape,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!$F(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...pN(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||RE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Spe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FE);return}this.isUpdating||this.nodes.forEach(ype),this.isUpdating=!1,this.nodes.forEach(bpe),this.nodes.forEach(hpe),this.nodes.forEach(ppe),this.clearAllSnapshots();const o=performance.now();Ci.delta=ul(0,1e3/60,o-Ci.timestamp),Ci.timestamp=o,Ci.isProcessing=!0,Kv.update.process(Ci),Kv.preRender.process(Ci),Kv.render.process(Ci),Ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vpe),this.sharedNodes.forEach(Npe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!LF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Ul(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ppe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Lr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(zo(o.x,l.offset.x),zo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Lr();Oa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Oa(o,s);const{scroll:h}=this.root;h&&(zo(o.x,-h.offset.x),zo(o.y,-h.offset.y))}zo(o.x,d.offset.x),zo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Lr();Oa(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ul(d.latestValues)&&hu(l,d.latestValues)}return Ul(this.latestValues)&&hu(l,this.latestValues),l}removeTransform(s){const o=Lr();Oa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ul(c.latestValues))continue;kw(c.latestValues)&&c.updateSnapshot();const d=Lr(),f=c.measurePageBox();Oa(d,f),ME(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ul(this.latestValues)&&ME(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ci.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),sf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lr(),this.targetWithTransforms=Lr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),The(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oa(this.target,this.layout.layoutBox),EF(this.target,this.targetDelta)):Oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),sf(this.relativeTargetOrigin,this.target,m.target),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kw(this.parent.latestValues)||TF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ci.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Oa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Fhe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=mu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu());const g=this.projectionTransform;af(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=_E(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Vl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Lr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(jpe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;BE(f.x,s.x,C),BE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cpe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&ipe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Lr()),Oa(w,this.relativeTarget)),g&&(this.animationValues=d,Zhe(d,c,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ar.update(()=>{cp.hasAnimatedSinceResize=!0,this.currentAnimation=dpe(0,$E,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($E),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&RF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Lr();const f=Ca(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ca(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Oa(o,l),hu(o,d),af(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ape),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<LE.length;d++){const f="rotate"+LE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=lp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=lp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ul(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=_E(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in $g){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=$g[g],b=c.transform==="none"?h[g]:y(h[g],f);if(x){const w=x.length;for(let S=0;S<w;S++)c[x[S]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?lp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(FE),this.root.sharedNodes.clear()}}}function hpe(e){e.updateLayout()}function ppe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?La(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ca(h);h.min=r[f].min,h.max=h.min+m}):RF(a,n.layoutBox,r)&&La(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ca(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=mu();af(o,r,n.layoutBox);const l=mu();s?af(l,e.applyTransform(i,!0),n.measuredBox):af(l,r,n.layoutBox);const c=!LF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Lr();sf(p,n.layoutBox,h.layoutBox);const g=Lr();sf(g,r,m.layoutBox),$F(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function gpe(e){Vl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vpe(e){e.clearSnapshot()}function FE(e){e.clearMeasurements()}function ype(e){e.isLayoutDirty=!1}function bpe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function RE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wpe(e){e.resolveTargetDelta()}function kpe(e){e.calcProjection()}function Spe(e){e.resetRotation()}function Npe(e){e.removeLeadSnapshot()}function BE(e,t,n){e.translate=pr(t.translate,0,n),e.scale=pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zE(e,t,n,r){e.min=pr(t.min,n.min,r),e.max=pr(t.max,n.max,r)}function Cpe(e,t,n,r){zE(e.x,t.x,n.x,r),zE(e.y,t.y,n.y,r)}function jpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ape={duration:.45,ease:[.4,0,.1,1]},UE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),VE=UE("applewebkit/")&&!UE("chrome/")?Math.round:Mr;function WE(e){e.min=VE(e.min),e.max=VE(e.max)}function Ppe(e){WE(e.x),WE(e.y)}function RF(e,t,n){return e==="position"||e==="preserve-aspect"&&!bw(IE(t),IE(n),.2)}const Tpe=FF({attachResizeListener:(e,t)=>eo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},BF=FF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iy.current){const e=new Tpe({});e.mount(window),e.setOptions({layoutScroll:!0}),iy.current=e}return iy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Epe={pan:{Feature:qhe},drag:{Feature:Hhe,ProjectionNode:BF,MeasureLayout:OF}},Dpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Mpe(e){const t=Dpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Nw(e,t,n=1){const[r,i]=Mpe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return kF(s)?parseFloat(s):s}else return mw(i)?Nw(i,t,n+1):i}function Ope(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!mw(a))return;const s=Nw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!mw(a))continue;const s=Nw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Ipe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zF=e=>Ipe.has(e),_pe=e=>Object.keys(e).some(zF),HE=e=>e===Ec||e===Wt,qE=(e,t)=>parseFloat(e.split(", ")[t]),KE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?qE(a[1],e):0}},Lpe=new Set(["x","y","z"]),$pe=$m.filter(e=>!Lpe.has(e));function Fpe(e){const t=[];return $pe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Hu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:KE(4,13),y:KE(5,14)};Hu.translateX=Hu.x;Hu.translateY=Hu.y;const Rpe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Hu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Hu[c](l,a)}),e},Bpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(zF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Md(d);const h=t[l];let m;if(Rg(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Md(d);for(let y=g;y<p&&h[y]!==null;y++)m?uN(Md(h[y])===m):m=Md(h[y])}else m=Md(h);if(f!==m)if(HE(f)&&HE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Wt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=Fpe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Rpe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),xx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function zpe(e,t,n,r){return _pe(t)?Bpe(e,t,n,r):{target:t,transitionEnd:r}}const Upe=(e,t,n,r)=>{const i=Ope(e,t,r);return t=i.target,r=i.transitionEnd,zpe(e,t,n,r)},Cw={current:null},UF={current:!1};function Vpe(){if(UF.current=!0,!!xx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cw.current=e.matches;e.addListener(t),t()}else Cw.current=!1}function Wpe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(aa(a))e.addValue(i,a),Vg(r)&&r.add(i);else if(aa(s))e.addValue(i,Wu(a,{owner:e})),Vg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Wu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const GE=new WeakMap,VF=Object.keys(Xf),Hpe=VF.length,YE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qpe=nN.length;class Kpe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ar.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=yx(n),this.isVariantNode=A$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&aa(h)&&(h.set(o[f],!1),Vg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,GE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UF.current||Vpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GE.delete(this.current),this.projection&&this.projection.unmount(),xo(this.notifyUpdate),xo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Tc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ar.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Hpe;l++){const c=VF[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Xf[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&du(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YE.length;r++){const i=YE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Wpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qpe;r++){const i=nN[r],a=this.props[i];(Yf(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=cN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!aa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class WF extends Kpe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=uhe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){lhe(this,r,s);const o=Upe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Gpe(e){return window.getComputedStyle(e)}class Ype extends WF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Tc.has(n)){const r=hN(n);return r&&r.default||0}else{const r=Gpe(t),i=(M$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DF(t,n)}build(t,n,r,i){iN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return lN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;aa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){F$(t,n,r,i)}}class Xpe extends WF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tc.has(n)){const r=hN(n);return r&&r.default||0}return n=R$.has(n)?n:eN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Lr()}scrapeMotionValuesFromProps(t,n){return z$(t,n)}build(t,n,r,i){sN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){B$(t,n,r,i)}mount(t){this.isSVGTag=oN(t.tagName),super.mount(t)}}const Qpe=(e,t)=>rN(e)?new Xpe(t,{enableHardwareAcceleration:!1}):new Ype(t,{enableHardwareAcceleration:!0}),Zpe={layout:{ProjectionNode:BF,MeasureLayout:OF}},Jpe={...Che,...Hfe,...Epe,...Zpe},Cs=Jde((e,t)=>Mfe(e,t,Jpe,Qpe));function ege({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(x)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),u.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${b}-${x.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Ki,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,b)=>{const w=x.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Ll="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",ay="arcbridge_web_theme_override",XE="__default__",tge=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},nge=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},rge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},QE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},ige=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},ZE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),age=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},sge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function oge(){var Nl;const[e,t]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(null),[h,m]=v.useState(null),[p,g]=v.useState(!1),[y,x]=v.useState(!1),[b,w]=v.useState("classic"),[S,C]=v.useState("classic"),[N,A]=v.useState(ap.id),[E,_]=v.useState(null),[T,M]=v.useState(!1),[O,Y]=v.useState(!1),[Q,ie]=v.useState(""),[ce,K]=v.useState(""),[G,L]=v.useState([]),[P,j]=v.useState(!1),[W,k]=v.useState("overview"),[I,ae]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ee=v.useRef(null),U=v.useRef(null),ne=v.useRef(null),F=v.useRef(null),J=v.useRef(null),ue=v.useRef(new Map),re=v.useRef(null),V=v.useRef(null),B=v.useMemo(()=>{let Z=window.location.pathname||"/";const ge=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Z.endsWith("/index.html")&&(Z=Z.slice(0,-11)),Z.includes("/reports/")&&(Z=Z.replace(/\/reports\/[^/]+\/?$/,"")),ge&&(Z=Z.replace(/^\/web\/web(?=\/|$)/,"/web")),Z.endsWith("/")||(Z=`${Z}/`),Z},[]),$=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),te=v.useMemo(()=>{const ge=[B,"./","/"],Se=[];return ge.forEach(dt=>{let mt=dt||"/";mt!=="./"&&!mt.endsWith("/")&&(mt=`${mt}/`),Se.includes(mt)||Se.push(mt)}),Se},[B,$]),[ke,Ve]=v.useState(te[0]||"/"),oe=Z=>{var ge;return typeof Z=="string"||typeof Z=="number"?String(Z):Array.isArray(Z)?Z.map(oe).join(""):Z&&typeof Z=="object"&&"props"in Z?oe((ge=Z.props)==null?void 0:ge.children):""},Ye=Z=>{const ge=ZE(Z||"section")||"section",Se=ue.current,dt=(Se.get(ge)??0)+1;return Se.set(ge,dt),dt===1?ge:`${ge}-${dt}`},Oe=v.useMemo(()=>{const Z=qv.split(`
`),ge=new Map,Se=[],dt=mt=>{const Lt=ZE(mt||"section")||"section",Kt=(ge.get(Lt)??0)+1;return ge.set(Lt,Kt),Kt===1?Lt:`${Lt}-${Kt}`};for(const mt of Z){const Lt=/^(#{1,3})\s+(.*)\s*$/.exec(mt);if(!Lt)continue;const Kt=Lt[1].length,Ot=Lt[2].trim();Ot&&Se.push({level:Kt,text:Ot,id:dt(Ot)})}return Se},[qv]),bt=(Z,ge)=>{const Se=Z==="./"?"./":Z.endsWith("/")?Z:`${Z}/`,dt=String(ge||"").replace(/^\/+/,"");return`${Se}${dt}`};v.useEffect(()=>{const Z=tge(ay);if(Z)try{const ge=JSON.parse(Z),Se=typeof(ge==null?void 0:ge.themeId)=="string"?ge.themeId:null;Se&&Td.some(dt=>dt.id===Se)&&_(Se)}catch{}},[]),v.useEffect(()=>{const Z=E||N,ge=Td.find(Se=>Se.id===Z)||ap;f(ge)},[E,N]),v.useEffect(()=>{if(!E){w(S);return}if(E===ip){w("matte");return}if(E==="CRT"){w("crt");return}w("classic")},[E,S]),v.useEffect(()=>{Ve(te[0]||"/");let Z=!0;return(async()=>{for(const Se of te)try{if((await fetch(bt(Se,"ui-theme.json"),{cache:"no-store"})).ok){Z&&Ve(Se);return}}catch{}})(),()=>{Z=!1}},[te]);const Xt=(Z,ge)=>{const Se=ge.trim();if(!Se)return Z;const dt=Z.toLowerCase(),mt=Se.toLowerCase(),Lt=dt.indexOf(mt);if(Lt===-1)return Z;const Kt=Z.slice(0,Lt),Ot=Z.slice(Lt,Lt+Se.length),Tt=Z.slice(Lt+Se.length);return u.jsxs(u.Fragment,{children:[Kt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Ot}),Tt]})},Nn=(Z,ge)=>{const Se=U.current;if(!Se)return;let dt=Se.querySelector(`[data-search-hit="${Z}"]`);if(!dt&&ge){const mt=ge.trim().replace(/\s+/g," "),Lt=Array.from(Se.querySelectorAll("h1, h2, h3, p, li, code"));dt=Lt.find(Kt=>(Kt.textContent||"").trim().replace(/\s+/g," ")===mt)||null,dt||(dt=Lt.find(Kt=>(Kt.textContent||"").toLowerCase().includes(mt.toLowerCase()))||null)}dt&&requestAnimationFrame(()=>{const mt=Se.getBoundingClientRect(),Lt=dt.getBoundingClientRect(),Kt=Math.max(0,Se.scrollTop+(Lt.top-mt.top)-12);Se.scrollTop=Kt,dt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),J.current&&window.clearTimeout(J.current),J.current=window.setTimeout(()=>{dt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},En=Z=>{const ge=U.current,Se=Z.trim().toLowerCase();if(!ge||Se.length<2){L([]);return}const dt=Array.from(ge.querySelectorAll("h1, h2, h3, p, li, code"));dt.forEach(Kt=>Kt.removeAttribute("data-search-hit"));const mt=[];let Lt=0;dt.forEach((Kt,Ot)=>{const Tt=(Kt.textContent||"").trim();if(Tt&&Tt.toLowerCase().includes(Se)){let gn="";for(let Ir=Ot;Ir>=0;Ir-=1){const Ke=dt[Ir];if(Ke&&["H1","H2","H3"].includes(Ke.tagName)){gn=(Ke.textContent||"").trim();break}}Kt.setAttribute("data-search-hit",String(Lt)),mt.push({index:Ot,text:Tt,section:gn||"Unlabeled Section",hitId:Lt}),Lt+=1}}),L(mt.slice(0,12))};v.useEffect(()=>{var ge;if(!O)return;ie(((ge=Oe[0])==null?void 0:ge.id)||"");const Z=Se=>{var mt;const dt=Se.target;dt&&((mt=ne.current)!=null&&mt.contains(dt)||(j(!1),L([])))};return window.addEventListener("mousedown",Z),()=>{window.removeEventListener("mousedown",Z)}},[O,Oe]),v.useEffect(()=>{if(!O){ie("");return}const Z=U.current;if(!Z)return;let ge=0;const Se=()=>{var xn;const mt=Array.from(Z.querySelectorAll("[data-heading-id]"));if(mt.length===0)return;const Kt=Z.getBoundingClientRect().top+18,Ot=mt.map((Ln,oi)=>({index:oi,id:Ln.dataset.headingId||Ln.id||"",top:Ln.getBoundingClientRect().top})).filter(Ln=>!!Ln.id);if(Ot.length===0)return;let Tt=0,gn=!1;for(const Ln of Ot){if(Ln.top<=Kt){Tt=Ln.index,gn=!0;continue}gn||(Tt=Ln.index);break}Z.scrollTop+Z.clientHeight>=Z.scrollHeight-2&&(Tt=Math.max(0,Ot.length-1));const Ke=Oe[Tt],Ft=((xn=Ot[Tt])==null?void 0:xn.id)||"",mn=(Ke==null?void 0:Ke.id)||Ft;mn&&ie(mn)};Se();const dt=()=>{ge&&cancelAnimationFrame(ge),ge=requestAnimationFrame(Se)};return Z.addEventListener("scroll",dt,{passive:!0}),window.addEventListener("resize",dt),()=>{ge&&cancelAnimationFrame(ge),Z.removeEventListener("scroll",dt),window.removeEventListener("resize",dt)}},[O,Oe]);const he=v.useMemo(()=>[{id:"overview",label:"Overview",icon:w6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:nc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Ko},{id:"top-players",label:"Top Players",icon:nc},{id:"top-skills-outgoing",label:"Top Skills",icon:b1},{id:"squad-composition",label:"Classes",icon:jr},{id:"timeline",label:"Squad vs Enemy Size",icon:jr},{id:"map-distribution",label:"Map Distribution",icon:N1}]},{id:"roster",label:"Roster Intel",icon:Nf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Nf},{id:"squad-comp-fight",label:"Squad Comp",icon:jr},{id:"fight-comp",label:"Fight Comp",icon:Ko}]},{id:"offense",label:"Offensive Stats",icon:Ko,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:v4},{id:"player-breakdown",label:"Player Breakdown",icon:S1},{id:"spike-damage",label:"Spike Damage",icon:Cf},{id:"conditions-outgoing",label:"Conditions",icon:l0}]},{id:"defense",label:"Defensive Stats",icon:Mu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Mu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Cf},{id:"defense-mitigation",label:"Damage Mitigation",icon:P1},{id:"boon-output",label:"Boon Output",icon:A1},{id:"support-detailed",label:"Support Detailed",icon:C1},{id:"healing-stats",label:"Healing Stats",icon:yO}]},{id:"other",label:"Other Metrics",icon:c0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:w1},{id:"special-buffs",label:"Special Buffs",icon:_p},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:T1},{id:"skill-usage",label:"Skill Usage",icon:k1},{id:"apm-stats",label:"APM Breakdown",icon:j1}]}],[]),Le=v.useMemo(()=>{const Z=new Map;return he.forEach(ge=>{Z.set(ge.id.toLowerCase(),ge.id),(ge.sectionIds||[]).forEach(Se=>Z.set(String(Se).toLowerCase(),ge.id)),(ge.items||[]).forEach(Se=>Z.set(String(Se.id).toLowerCase(),ge.id))}),Z.set("report-top","overview"),Z.set("overview","overview"),Z.set("kdr","overview"),Z},[he]),pt=v.useMemo(()=>he.find(Z=>Z.id===W)||he[0],[he,W]),Jt=v.useMemo(()=>{const ge=((pt==null?void 0:pt.sectionIds)||((pt==null?void 0:pt.items)||[]).map(Se=>Se.id)).map(Se=>Se==="kdr"?"overview":Se);return new Set(ge)},[pt]),pn=Z=>{if(Z==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ge=Z==="kdr"?"overview":Z,Se=ge==="overview"&&Z!=="kdr"?"report-top":ge,dt=document.getElementById(Se);if(!dt||!(dt.getAttribute("data-section-visible")!=="false")||!dt.offsetParent)return!1;const Lt=dt.getBoundingClientRect();if(Lt.height<=0)return!1;let Kt=0;if(Se==="stats-view-top"){const Tt=document.getElementById("report-top");Tt&&(Kt=Tt.getBoundingClientRect().height+12)}const Ot=Lt.top+window.scrollY-12-Kt;return window.scrollTo({top:Math.max(0,Ot),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Se}`),!0},Pr=(Z,ge=0)=>{pn(Z)||ge>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Pr(Z,ge+1))},40)};v.useEffect(()=>{if(!e)return;const Z=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Se=>{Se.scrollHeight})});return()=>cancelAnimationFrame(Z)},[e]),v.useEffect(()=>{const Z=re.current;if(!Z)return;let ge=0;const Se=()=>{if(pn(Z)){re.current=null;return}if(ge+=1,ge>=20){re.current=null;return}window.setTimeout(()=>requestAnimationFrame(Se),40)};requestAnimationFrame(Se)},[W]),v.useEffect(()=>{const Z=()=>{const ge=(window.location.hash||"").replace(/^#/,"").trim();if(!ge)return;let Se=ge;try{Se=decodeURIComponent(ge)}catch{Se=ge}const dt=Se.toLowerCase(),mt=Le.get(dt);mt&&(k(mt),ae(()=>{const Lt={};return he.forEach(Kt=>{Lt[Kt.id]=Kt.id===mt}),Lt}),re.current=dt==="report-top"?"kdr":dt)};return Z(),window.addEventListener("hashchange",Z),()=>{window.removeEventListener("hashchange",Z)}},[Le,he]);const sr=b==="matte",Zr=d??ap,si=Zr.rgb,vi=sr?"#d8e1eb":"var(--accent)",wn={"--accent":`rgb(${si})`,"--accent-rgb":si,"--accent-soft":`rgba(${si}, 0.32)`,"--accent-strong":`rgba(${si}, 0.95)`,"--accent-border":`rgba(${si}, 0.4)`,"--accent-glow":`rgba(${si}, 0.18)`,"--accent-glow-soft":`rgba(${si}, 0.08)`},fn=b==="modern"||b==="matte",yi=Zr.pattern?sr?void 0:fn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Zr.pattern}`:Zr.pattern:void 0,ln=sr?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:fn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var Kt;let Z=!0;const Se=new URLSearchParams(window.location.search).get("report")||((Kt=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:Kt[1])||null,dt=Se?`${B}reports/${Se}/report.json`:`${B}report.json`;Se&&o(dt);const mt=Ot=>{var Ir,Ke,Ft;const Tt=new Set((((Ir=Ot==null?void 0:Ot.meta)==null?void 0:Ir.commanders)||[]).map(mn=>String(mn)));if(Tt.size===0)return Ot;const gn=Ot.stats;return(Ke=gn==null?void 0:gn.leaderboards)!=null&&Ke.closestToTag&&(gn.leaderboards.closestToTag=gn.leaderboards.closestToTag.map(mn=>Tt.has(String(mn==null?void 0:mn.account))?{...mn,value:0}:mn)),(Ft=gn==null?void 0:gn.closestToTag)!=null&&Ft.player&&Tt.has(String(gn.closestToTag.player))&&(gn.closestToTag={...gn.closestToTag,value:0}),Ot},Lt=Ot=>{var Ft,mn,xn,Ln,oi;const Tt=Ot==null?void 0:Ot.stats;if(!Tt||typeof Tt!="object")return Ot;const gn=Array.isArray((Ft=Tt==null?void 0:Tt.leaderboards)==null?void 0:Ft.downContrib)?Tt.leaderboards.downContrib:[];if(!gn.length)return Ot;const Ke=gn.map(Dn=>({...Dn,value:Number((Dn==null?void 0:Dn.value)??0)})).filter(Dn=>Number.isFinite(Dn.value)).sort((Dn,bi)=>bi.value-Dn.value||String((Dn==null?void 0:Dn.account)||"").localeCompare(String((bi==null?void 0:bi.account)||"")))[0];return Ke&&(Tt.maxDownContrib={...Tt.maxDownContrib||{},value:Number(Ke.value||0),player:String(Ke.account||((mn=Tt.maxDownContrib)==null?void 0:mn.player)||"-"),count:Number(Ke.count||((xn=Tt.maxDownContrib)==null?void 0:xn.count)||0),profession:String(Ke.profession||((Ln=Tt.maxDownContrib)==null?void 0:Ln.profession)||"Unknown"),professionList:Array.isArray(Ke.professionList)?Ke.professionList:((oi=Tt.maxDownContrib)==null?void 0:oi.professionList)||[]}),Ot};return fetch(dt,{cache:"no-store"}).then(Ot=>Ot.ok?Ot.json():Promise.reject()).then(Ot=>{var Ir,Ke,Ft;if(!Z)return;const Tt=Lt(mt(Ot));t(Tt);const gn=(Ir=Tt==null?void 0:Tt.stats)==null?void 0:Ir.uiTheme;gn==="modern"||gn==="classic"||gn==="crt"||gn==="matte"?C(gn):((Ke=Tt==null?void 0:Tt.stats)==null?void 0:Ke.webThemeId)===ip&&C("matte"),typeof((Ft=Tt==null?void 0:Tt.stats)==null?void 0:Ft.webThemeId)=="string"&&Tt.stats.webThemeId&&A(Tt.stats.webThemeId)}).catch(()=>{if(Se){if(!Z)return;a("Report not found yet. It may still be deploying.")}fetch(`${B}reports/index.json`,{cache:"no-store"}).then(Ot=>Ot.ok?Ot.json():Promise.reject()).then(Ot=>{Z&&r(Array.isArray(Ot)?Ot:[])}).catch(()=>{Z&&a("No report data found.")})}),()=>{Z=!1}},[B]),v.useEffect(()=>{if(e){const Z=e.meta.dateLabel||QE(e.meta.dateStart,e.meta.dateEnd);document.title=Z?`ArcBridge  ${e.meta.title}  ${Z}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),v.useEffect(()=>{var ge;const Z=(ge=e==null?void 0:e.stats)==null?void 0:ge.webThemeId;typeof Z=="string"&&Z&&A(Z)},[e]),v.useEffect(()=>{const Z=document.body;Z.classList.add("web-report"),Z.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),sr?Z.classList.add("theme-matte"):b==="modern"?Z.classList.add("theme-modern"):b==="crt"?Z.classList.add("theme-crt"):Z.classList.add("theme-classic")},[b,sr]),v.useEffect(()=>{var ge;if($&&((ge=e==null?void 0:e.stats)!=null&&ge.webThemeId))return;let Z=!0;return fetch(bt(ke,"theme.json"),{cache:"no-store"}).then(Se=>Se.ok?Se.json():Promise.reject()).then(Se=>{Z&&typeof(Se==null?void 0:Se.id)=="string"&&Se.id&&A(Se.id)}).catch(()=>{}),()=>{Z=!1}},[ke,$,e]),v.useEffect(()=>{var Lt,Kt;const Z=(Lt=e==null?void 0:e.stats)==null?void 0:Lt.webThemeId,ge=(Kt=e==null?void 0:e.stats)==null?void 0:Kt.uiTheme;if((ge==="modern"||ge==="classic"||ge==="crt"||ge==="matte")&&!(Z===ip&&ge!=="matte"||Z==="CRT"&&ge!=="crt"))return;let mt=!0;return fetch(bt(ke,"ui-theme.json"),{cache:"no-store"}).then(Ot=>Ot.ok?Ot.json():Promise.reject()).then(Ot=>{if(!mt)return;const Tt=Ot==null?void 0:Ot.theme;(Tt==="modern"||Tt==="classic"||Tt==="crt"||Tt==="matte")&&C(Tt)}).catch(()=>{}),()=>{mt=!1}},[ke,e]),v.useEffect(()=>{let Z=!0;return fetch(bt(ke,"logo.json"),{cache:"no-store"}).then(ge=>ge.ok?ge.json():Promise.reject()).then(ge=>{if(!Z)return;const Se="svg/ArcBridge.svg",dt=ge!=null&&ge.path?String(ge.path):Se,mt=ge!=null&&ge.updatedAt?String(ge.updatedAt):"",Lt=bt(ke,dt),Kt=mt?`${Lt}?v=${encodeURIComponent(mt)}`:Lt;m(Kt),g(!(ge!=null&&ge.path)||dt===Se)}).catch(()=>{Z&&(m(null),g(!1))}),()=>{Z=!1}},[ke]);const Or=v.useMemo(()=>n?[...n].sort((Z,ge)=>{const Se=new Date(Z.dateEnd||Z.dateStart).getTime();return new Date(ge.dateEnd||ge.dateStart).getTime()-Se}):[],[n]),Tr=v.useMemo(()=>{if(!Or.length)return[];const Z=l.trim().toLowerCase();return Z?Or.filter(ge=>{var mt;const Se=((mt=ge.commanders)==null?void 0:mt.join(" "))||"";return`${ge.title} ${Se} ${ge.dateLabel}`.toLowerCase().includes(Z)}):Or},[Or,l]),od=Z=>{if(!Z){rge(ay);return}nge(ay,JSON.stringify({themeId:Z}))},Ao=Z=>{const ge=Z===XE?null:Z;ge&&!Td.some(Se=>Se.id===ge)||(_(ge),od(ge),M(!1))};v.useEffect(()=>{const Z=Se=>{F.current&&(F.current.contains(Se.target)||M(!1))},ge=Se=>{Se.key==="Escape"&&M(!1)};return window.addEventListener("mousedown",Z),window.addEventListener("keydown",ge),()=>{window.removeEventListener("mousedown",Z),window.removeEventListener("keydown",ge)}},[]),v.useEffect(()=>()=>{V.current!==null&&(cancelAnimationFrame(V.current),V.current=null)},[]);const wl=v.useMemo(()=>{if(!E)return"Default";const Z=Td.find(ge=>ge.id===E);return(Z==null?void 0:Z.label)||"Default"},[E]),Dc=u.jsxs("div",{className:"relative flex items-center gap-2",ref:F,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>M(Z=>!Z),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:wl}),u.jsx("span",{className:`transition-transform ${T?"rotate-180":""}`,children:""})]}),T&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Ao(XE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Td.map(Z=>u.jsx("button",{type:"button",onClick:()=>Ao(Z.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${E===Z.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Z.label},Z.id))]})]}),kl=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Dc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:Z=>{Z.preventDefault(),Y(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Sl=u.jsxs(ege,{isOpen:O,onClose:()=>Y(!1),searchValue:ce,searchFocused:P,searchResults:G,onSearchChange:Z=>{K(Z),requestAnimationFrame(()=>En(Z))},onSearchFocus:()=>{j(!0),requestAnimationFrame(()=>En(ce))},onSearchBlur:Z=>{var ge;Z&&((ge=ne.current)!=null&&ge.contains(Z))||j(!1)},onSearchEnter:()=>{G.length>0&&Nn(G[0].hitId,G[0].text)},onSearchResultMouseDown:Z=>{j(!0),Nn(Z.hitId,Z.text)},renderHighlightedMatch:Xt,searchRef:ne,tocItems:Oe,activeTocId:Q,onTocClick:Z=>{const ge=U.current;if(!ge)return;let Se=ge.querySelector(`[data-heading-id="${Z.id}"]`);if(!Se){const dt=Z.text.trim().replace(/\s+/g," ");Se=Array.from(ge.querySelectorAll("h1, h2, h3")).find(Lt=>(Lt.textContent||"").trim().replace(/\s+/g," ")===dt)||null}Se&&(ie(Z.id),requestAnimationFrame(()=>{const dt=ge.getBoundingClientRect(),mt=Se.getBoundingClientRect(),Lt=ge.scrollTop+(mt.top-dt.top)-12;ge.scrollTop=Math.max(0,Lt)}))},contentRef:U,children:[(ue.current=new Map,null),u.jsx(Tce,{remarkPlugins:[Ude],components:{h1:({children:Z})=>{const ge=oe(Z),Se=Ye(ge);return u.jsx("h1",{id:Se,"data-heading-id":Se,className:"text-2xl font-bold text-white scroll-mt-6",children:Z})},h2:({children:Z})=>{const ge=oe(Z),Se=Ye(ge);return u.jsx("h2",{id:Se,"data-heading-id":Se,className:"text-xl font-semibold text-white scroll-mt-6",children:Z})},h3:({children:Z})=>{const ge=oe(Z),Se=Ye(ge);return u.jsx("h3",{id:Se,"data-heading-id":Se,className:"text-lg font-semibold text-white scroll-mt-6",children:Z})},p:({children:Z})=>u.jsx("p",{className:"leading-6 text-gray-200",children:Z}),ul:({children:Z})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Z}),ol:({children:Z})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Z}),li:({children:Z})=>u.jsx("li",{className:"leading-6",children:Z}),blockquote:({children:Z})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Z}),a:({href:Z,children:ge})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Z,target:"_blank",rel:"noreferrer",children:ge}),table:({children:Z})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Z})}),th:({children:Z})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Z}),td:({children:Z})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Z}),pre:({children:Z})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Z}),code:Z=>{const{inline:ge,children:Se}=Z;return ge===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Se}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Se})}},children:qv})]});if(e){const Z=bt(ke,"svg/ArcBridge.svg"),ge=()=>{V.current!==null&&(cancelAnimationFrame(V.current),V.current=null);const Ke=window.scrollY||window.pageYOffset||0;if(Ke<=1){window.scrollTo({top:0,behavior:"auto"});return}const Ft=320,mn=performance.now(),xn=Ln=>{const oi=Ln-mn,Dn=Math.min(1,oi/Ft),bi=1-Math.pow(1-Dn,3),Cl=Math.max(0,Math.round(Ke*(1-bi)));window.scrollTo({top:Cl,behavior:"auto"}),Dn<1?V.current=requestAnimationFrame(xn):(V.current=null,window.scrollTo({top:0,behavior:"auto"}))};V.current=requestAnimationFrame(xn)},Se=Ke=>{ae(()=>{const Ft={};return he.forEach(mn=>{Ft[mn.id]=mn.id===Ke}),Ft})},dt=Ke=>{re.current=null,k(Ke),ge()},mt=Ke=>{if(!!!I[Ke]){Se(Ke),dt(Ke);return}if(Ke!==W){dt(Ke);return}ae(mn=>({...mn,[Ke]:!1}))},Lt=(Ke,Ft)=>{I[Ke]||Se(Ke);const mn=Ke===W;mn||(re.current=Ft,k(Ke),requestAnimationFrame(()=>Pr(Ft))),mn&&requestAnimationFrame(()=>Pr(Ft))},Kt=Ke=>{const Ft=Ke.currentTarget;if(!(Ft.scrollHeight>Ft.clientHeight)){window.scrollBy({top:Ke.deltaY,behavior:"auto"}),Ke.preventDefault();return}const xn=Ft.scrollTop<=0,Ln=Ft.scrollTop+Ft.clientHeight>=Ft.scrollHeight-1;(xn&&Ke.deltaY<0||Ln&&Ke.deltaY>0)&&(window.scrollBy({top:Ke.deltaY,behavior:"auto"}),Ke.preventDefault())},Ot=Ke=>{const Ft=ee.current;if(!Ft)return;const mn=Ke.target;if(!mn||!Ft.contains(mn))return;let xn=mn;for(;xn&&xn!==Ft;){const oi=window.getComputedStyle(xn).overflowY;if((oi==="auto"||oi==="scroll")&&xn.scrollHeight>xn.clientHeight+1){const bi=xn.scrollTop<=0,Cl=xn.scrollTop+xn.clientHeight>=xn.scrollHeight-1;(Ke.deltaY<0&&bi||Ke.deltaY>0&&Cl)&&(window.scrollBy({top:Ke.deltaY,behavior:"auto"}),Ke.preventDefault());return}xn=xn.parentElement}},Tt=Ke=>{const Ft=Math.max(0,6-Ke);return{accordionDuration:.5+Ft*.07,itemDuration:.34+Ft*.035,stagger:.05+Ft*.01,delayChildren:.06+Ft*.015}},gn=Ke=>{const Ft=Tt(Ke);return{open:{transition:{staggerChildren:Ft.stagger,delayChildren:Ft.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,Ft.stagger*.7),staggerDirection:-1}}}},Ir={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:sr?"var(--bg-base)":fn?"#0f141c":"#0f172a",backgroundImage:sr?"none":yi,...wn},children:[!sr&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>x(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Kt,children:he.map(Ke=>{const Ft=Ke.icon,mn=Ke.id===W,xn=!!I[Ke.id],Ln=Tt(Ke.items.length),oi=gn(Ke.items.length);return u.jsxs(Cs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>mt(Ke.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${mn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ft,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ke.label}),u.jsx(Cs.span,{className:"ml-auto inline-flex",animate:{rotate:xn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Jy,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Cs.div,{initial:!1,animate:xn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ln.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Cs.div,{variants:oi,initial:!1,animate:xn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ke.items.map(Dn=>{const bi=Dn.icon;return u.jsxs(Cs.button,{variants:Ir,transition:{duration:Ln.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Lt(Ke.id,Dn.id),x(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(bi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Dn.label]},Dn.id)})})},`${Ke.id}-submenu-mobile`)]},Ke.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:vi,maskImage:`url(${Z})`,WebkitMaskImage:`url(${Z})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Kt,children:he.map(Ke=>{const Ft=Ke.icon,mn=Ke.id===W,xn=!!I[Ke.id],Ln=Tt(Ke.items.length),oi=gn(Ke.items.length);return u.jsxs(Cs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>mt(Ke.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${mn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ft,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ke.label}),u.jsx(Cs.span,{className:"ml-auto inline-flex",animate:{rotate:xn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Jy,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Cs.div,{initial:!1,animate:xn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ln.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Cs.div,{variants:oi,initial:!1,animate:xn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ke.items.map(Dn=>{const bi=Dn.icon;return u.jsxs(Cs.button,{variants:Ir,transition:{duration:Ln.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Lt(Ke.id,Dn.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(bi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Dn.label]},Dn.id)})})},`${Ke.id}-submenu-desktop`)]},Ke.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Ll} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:ln,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:vi,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||QE(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>x(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(Z2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(f6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(jr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(bO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((pt==null?void 0:pt.items)||[]).map(Ke=>{const Ft=Ke.icon;return u.jsxs("button",{onClick:()=>Lt((pt==null?void 0:pt.id)||"overview",Ke.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(Ft,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Ke.label]},`chip-${Ke.id}`)})})]}),u.jsx("div",{ref:ee,onWheelCapture:Ot,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(qie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(Nl=e.stats)==null?void 0:Nl.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:Ke=>Jt.has(Ke),dashboardTitle:`Statistics Dashboard - ${(pt==null?void 0:pt.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:kl})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(xO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(Z2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(d6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Sl]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:sr?"var(--bg-base)":fn?"#0f141c":"#0f172a",backgroundImage:sr?"none":yi,...wn},children:[!sr&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Ll} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:ln,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:vi,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Tr.length," Reports"]})})]}),u.jsxs("div",{className:`${Ll} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:ln,children:[u.jsx("input",{type:"search",value:l,onChange:Z=>c(Z.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Tr.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Or.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:ln,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:ln,children:"Loading reports..."}),Tr.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Tr.map(Z=>{var ge,Se,dt,mt;return u.jsx("a",{href:Z.url,className:`${Ll} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:ln,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Z.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:ige(Z.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(jr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:Z.commanders.length?Z.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ge=Z.summary)!=null&&ge.mapSlices&&Z.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(age,{slices:Z.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(sge,{value:(Se=Z.summary)==null?void 0:Se.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((dt=Z.summary)==null?void 0:dt.avgSquadSize)??"--"," / ",((mt=Z.summary)==null?void 0:mt.avgEnemySize)??"--"]})]}),u.jsx(x6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Z.id)})}),!i&&n&&Or.length===0&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:ln,children:"No reports uploaded yet."}),!i&&n&&Or.length>0&&Tr.length===0&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:ln,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:kl})]}),Sl]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");sy.createRoot(document.getElementById("root")).render(u.jsx(qg.StrictMode,{children:u.jsx(oge,{})}));
