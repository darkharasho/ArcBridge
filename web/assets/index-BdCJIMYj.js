var gz=Object.defineProperty;var xz=(e,t,n)=>t in e?gz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pv=(e,t,n)=>xz(e,typeof t!="symbol"?t+"":t,n);function vz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lE={exports:{}},H0={},cE={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=Symbol.for("react.element"),bz=Symbol.for("react.portal"),yz=Symbol.for("react.fragment"),wz=Symbol.for("react.strict_mode"),kz=Symbol.for("react.profiler"),Sz=Symbol.for("react.provider"),Nz=Symbol.for("react.context"),Cz=Symbol.for("react.forward_ref"),jz=Symbol.for("react.suspense"),Az=Symbol.for("react.memo"),Pz=Symbol.for("react.lazy"),W2=Symbol.iterator;function Dz(e){return e===null||typeof e!="object"?null:(e=W2&&e[W2]||e["@@iterator"],typeof e=="function"?e:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,fE={};function Ed(e,t,n){this.props=e,this.context=t,this.refs=fE,this.updater=n||uE}Ed.prototype.isReactComponent={};Ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mE(){}mE.prototype=Ed.prototype;function P1(e,t,n){this.props=e,this.context=t,this.refs=fE,this.updater=n||uE}var D1=P1.prototype=new mE;D1.constructor=P1;dE(D1,Ed.prototype);D1.isPureReactComponent=!0;var V2=Array.isArray,hE=Object.prototype.hasOwnProperty,T1={current:null},pE={key:!0,ref:!0,__self:!0,__source:!0};function gE(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)hE.call(t,r)&&!pE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Rm,type:e,key:a,ref:s,props:i,_owner:T1.current}}function Tz(e,t){return{$$typeof:Rm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function M1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rm}function Mz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var H2=/\/+/g;function Dv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mz(""+e.key):t.toString(36)}function Rp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Rm:case bz:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Dv(s,0):r,V2(i)?(n="",e!=null&&(n=e.replace(H2,"$&/")+"/"),Rp(i,t,n,"",function(u){return u})):i!=null&&(M1(i)&&(i=Tz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(H2,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",V2(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Dv(a,o);s+=Rp(a,t,n,l,i)}else if(l=Dz(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Dv(a,o++),s+=Rp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gh(e,t,n){if(e==null)return e;var r=[],i=0;return Rp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Ez(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ia={current:null},Bp={transition:null},Oz={ReactCurrentDispatcher:ia,ReactCurrentBatchConfig:Bp,ReactCurrentOwner:T1};function xE(){throw Error("act(...) is not supported in production builds of React.")}yn.Children={map:Gh,forEach:function(e,t,n){Gh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gh(e,function(){t++}),t},toArray:function(e){return Gh(e,function(t){return t})||[]},only:function(e){if(!M1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yn.Component=Ed;yn.Fragment=yz;yn.Profiler=kz;yn.PureComponent=P1;yn.StrictMode=wz;yn.Suspense=jz;yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oz;yn.act=xE;yn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=T1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)hE.call(t,l)&&!pE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Rm,type:e.type,key:i,ref:a,props:r,_owner:s}};yn.createContext=function(e){return e={$$typeof:Nz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sz,_context:e},e.Consumer=e};yn.createElement=gE;yn.createFactory=function(e){var t=gE.bind(null,e);return t.type=e,t};yn.createRef=function(){return{current:null}};yn.forwardRef=function(e){return{$$typeof:Cz,render:e}};yn.isValidElement=M1;yn.lazy=function(e){return{$$typeof:Pz,_payload:{_status:-1,_result:e},_init:Ez}};yn.memo=function(e,t){return{$$typeof:Az,type:e,compare:t===void 0?null:t}};yn.startTransition=function(e){var t=Bp.transition;Bp.transition={};try{e()}finally{Bp.transition=t}};yn.unstable_act=xE;yn.useCallback=function(e,t){return ia.current.useCallback(e,t)};yn.useContext=function(e){return ia.current.useContext(e)};yn.useDebugValue=function(){};yn.useDeferredValue=function(e){return ia.current.useDeferredValue(e)};yn.useEffect=function(e,t){return ia.current.useEffect(e,t)};yn.useId=function(){return ia.current.useId()};yn.useImperativeHandle=function(e,t,n){return ia.current.useImperativeHandle(e,t,n)};yn.useInsertionEffect=function(e,t){return ia.current.useInsertionEffect(e,t)};yn.useLayoutEffect=function(e,t){return ia.current.useLayoutEffect(e,t)};yn.useMemo=function(e,t){return ia.current.useMemo(e,t)};yn.useReducer=function(e,t,n){return ia.current.useReducer(e,t,n)};yn.useRef=function(e){return ia.current.useRef(e)};yn.useState=function(e){return ia.current.useState(e)};yn.useSyncExternalStore=function(e,t,n){return ia.current.useSyncExternalStore(e,t,n)};yn.useTransition=function(){return ia.current.useTransition()};yn.version="18.3.1";cE.exports=yn;var g=cE.exports;const q0=_s(g),Iz=vz({__proto__:null,default:q0},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _z=g,Lz=Symbol.for("react.element"),$z=Symbol.for("react.fragment"),Fz=Object.prototype.hasOwnProperty,Rz=_z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bz={key:!0,ref:!0,__self:!0,__source:!0};function vE(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Fz.call(t,r)&&!Bz.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Lz,type:e,key:a,ref:s,props:i,_owner:Rz.current}}H0.Fragment=$z;H0.jsx=vE;H0.jsxs=vE;lE.exports=H0;var c=lE.exports,iy={},bE={exports:{}},Ba={},yE={exports:{}},wE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var P=q.length;q.push(K);e:for(;0<P;){var D=P-1>>>1,re=q[D];if(0<i(re,K))q[D]=K,q[P]=re,P=D;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],P=q.pop();if(P!==K){q[0]=P;e:for(var D=0,re=q.length,k=re>>>1;D<k;){var W=2*(D+1)-1,V=q[W],ie=W+1,ne=q[ie];if(0>i(V,P))ie<re&&0>i(ne,V)?(q[D]=ne,q[ie]=P,D=ie):(q[D]=V,q[W]=P,D=W);else if(ie<re&&0>i(ne,P))q[D]=ne,q[ie]=P,D=ie;else break e}}return K}function i(q,K){var P=q.sortIndex-K.sortIndex;return P!==0?P:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function N(q){if(v=!1,y(q),!p)if(n(l)!==null)p=!0,ve(C);else{var K=n(u);K!==null&&Y(N,K.startTime-q)}}function C(q,K){p=!1,v&&(v=!1,x(O),O=-1),m=!0;var P=h;try{for(y(K),f=n(l);f!==null&&(!(f.expirationTime>K)||q&&!L());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var re=D(f.expirationTime<=K);K=e.unstable_now(),typeof re=="function"?f.callback=re:f===n(l)&&r(l),y(K)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var W=n(u);W!==null&&Y(N,W.startTime-K),k=!1}return k}finally{f=null,h=P,m=!1}}var S=!1,A=null,O=-1,R=5,M=-1;function L(){return!(e.unstable_now()-M<R)}function _(){if(A!==null){var q=e.unstable_now();M=q;var K=!0;try{K=A(!0,q)}finally{K?G():(S=!1,A=null)}}else S=!1}var G;if(typeof w=="function")G=function(){w(_)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=_,G=function(){le.postMessage(null)}}else G=function(){b(_,0)};function ve(q){A=q,S||(S=!0,G())}function Y(q,K){O=b(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ve(C))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var P=h;h=K;try{return q()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var P=h;h=q;try{return K()}finally{h=P}},e.unstable_scheduleCallback=function(q,K,P){var D=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?D+P:D):P=D,q){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=P+re,q={id:d++,callback:K,priorityLevel:q,startTime:P,expirationTime:re,sortIndex:-1},P>D?(q.sortIndex=P,t(u,q),n(l)===null&&q===n(u)&&(v?(x(O),O=-1):v=!0,Y(N,P-D))):(q.sortIndex=re,t(l,q),p||m||(p=!0,ve(C))),q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(q){var K=h;return function(){var P=h;h=K;try{return q.apply(this,arguments)}finally{h=P}}}})(wE);yE.exports=wE;var zz=yE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz=g,$a=zz;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kE=new Set,Zf={};function ou(e,t){ud(e,t),ud(e+"Capture",t)}function ud(e,t){for(Zf[e]=t,e=0;e<t.length;e++)kE.add(t[e])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ay=Object.prototype.hasOwnProperty,Wz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q2={},K2={};function Vz(e){return ay.call(K2,e)?!0:ay.call(q2,e)?!1:Wz.test(e)?K2[e]=!0:(q2[e]=!0,!1)}function Hz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qz(e,t,n,r){if(t===null||typeof t>"u"||Hz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function aa(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oi[e]=new aa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oi[t]=new aa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oi[e]=new aa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oi[e]=new aa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oi[e]=new aa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oi[e]=new aa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oi[e]=new aa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oi[e]=new aa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oi[e]=new aa(e,5,!1,e.toLowerCase(),null,!1,!1)});var E1=/[\-:]([a-z])/g;function O1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E1,O1);Oi[t]=new aa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E1,O1);Oi[t]=new aa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E1,O1);Oi[t]=new aa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oi[e]=new aa(e,1,!1,e.toLowerCase(),null,!1,!1)});Oi.xlinkHref=new aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oi[e]=new aa(e,1,!1,e.toLowerCase(),null,!0,!0)});function I1(e,t,n,r){var i=Oi.hasOwnProperty(t)?Oi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qz(t,n,i,r)&&(n=null),r||i===null?Vz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jo=Uz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yh=Symbol.for("react.element"),Lu=Symbol.for("react.portal"),$u=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),L1=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ly=Symbol.for("react.suspense_list"),$1=Symbol.for("react.memo"),Nl=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),G2=Symbol.iterator;function tf(e){return e===null||typeof e!="object"?null:(e=G2&&e[G2]||e["@@iterator"],typeof e=="function"?e:null)}var Pr=Object.assign,Tv;function kf(e){if(Tv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tv=t&&t[1]||""}return`
`+Tv+e}var Mv=!1;function Ev(e,t){if(!e||Mv)return"";Mv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Mv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kf(e):""}function Kz(e){switch(e.tag){case 5:return kf(e.type);case 16:return kf("Lazy");case 13:return kf("Suspense");case 19:return kf("SuspenseList");case 0:case 2:case 15:return e=Ev(e.type,!1),e;case 11:return e=Ev(e.type.render,!1),e;case 1:return e=Ev(e.type,!0),e;default:return""}}function cy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $u:return"Fragment";case Lu:return"Portal";case sy:return"Profiler";case _1:return"StrictMode";case oy:return"Suspense";case ly:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NE:return(e.displayName||"Context")+".Consumer";case SE:return(e._context.displayName||"Context")+".Provider";case L1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $1:return t=e.displayName||null,t!==null?t:cy(e.type)||"Memo";case Nl:t=e._payload,e=e._init;try{return cy(e(t))}catch{}}return null}function Gz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cy(t);case 8:return t===_1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yz(e){var t=jE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xh(e){e._valueTracker||(e._valueTracker=Yz(e))}function AE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uy(e,t){var n=t.checked;return Pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Y2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PE(e,t){t=t.checked,t!=null&&I1(e,"checked",t,!1)}function dy(e,t){PE(e,t);var n=Kl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fy(e,t.type,n):t.hasOwnProperty("defaultValue")&&fy(e,t.type,Kl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fy(e,t,n){(t!=="number"||cg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sf=Array.isArray;function ed(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function my(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(Sf(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kl(n)}}function DE(e,t){var n=Kl(t.value),r=Kl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Z2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qh,ME=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xz=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(e){Xz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ef[t]=Ef[e]})});function EE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ef.hasOwnProperty(e)&&Ef[e]?(""+t).trim():t+"px"}function OE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Qz=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function py(e,t){if(t){if(Qz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function gy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xy=null;function F1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vy=null,td=null,nd=null;function J2(e){if(e=Um(e)){if(typeof vy!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=Q0(t),vy(e.stateNode,e.type,t))}}function IE(e){td?nd?nd.push(e):nd=[e]:td=e}function _E(){if(td){var e=td,t=nd;if(nd=td=null,J2(e),t)for(e=0;e<t.length;e++)J2(t[e])}}function LE(e,t){return e(t)}function $E(){}var Ov=!1;function FE(e,t,n){if(Ov)return e(t,n);Ov=!0;try{return LE(e,t,n)}finally{Ov=!1,(td!==null||nd!==null)&&($E(),_E())}}function em(e,t){var n=e.stateNode;if(n===null)return null;var r=Q0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var by=!1;if(Ro)try{var nf={};Object.defineProperty(nf,"passive",{get:function(){by=!0}}),window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{by=!1}function Zz(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Of=!1,ug=null,dg=!1,yy=null,Jz={onError:function(e){Of=!0,ug=e}};function e6(e,t,n,r,i,a,s,o,l){Of=!1,ug=null,Zz.apply(Jz,arguments)}function t6(e,t,n,r,i,a,s,o,l){if(e6.apply(this,arguments),Of){if(Of){var u=ug;Of=!1,ug=null}else throw Error(ct(198));dg||(dg=!0,yy=u)}}function lu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eC(e){if(lu(e)!==e)throw Error(ct(188))}function n6(e){var t=e.alternate;if(!t){if(t=lu(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return eC(i),e;if(a===r)return eC(i),t;a=a.sibling}throw Error(ct(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function BE(e){return e=n6(e),e!==null?zE(e):null}function zE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zE(e);if(t!==null)return t;e=e.sibling}return null}var UE=$a.unstable_scheduleCallback,tC=$a.unstable_cancelCallback,r6=$a.unstable_shouldYield,i6=$a.unstable_requestPaint,Br=$a.unstable_now,a6=$a.unstable_getCurrentPriorityLevel,R1=$a.unstable_ImmediatePriority,WE=$a.unstable_UserBlockingPriority,fg=$a.unstable_NormalPriority,s6=$a.unstable_LowPriority,VE=$a.unstable_IdlePriority,K0=null,eo=null;function o6(e){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(K0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:u6,l6=Math.log,c6=Math.LN2;function u6(e){return e>>>=0,e===0?32:31-(l6(e)/c6|0)|0}var Zh=64,Jh=4194304;function Nf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Nf(o):(a&=s,a!==0&&(r=Nf(a)))}else s=n&~i,s!==0?r=Nf(s):a!==0&&(r=Nf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ss(t),i=1<<n,r|=e[n],t&=~i;return r}function d6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ss(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=d6(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function wy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HE(){var e=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),e}function Iv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ss(t),e[t]=n}function m6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ss(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function B1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Un=0;function qE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var KE,z1,GE,YE,XE,ky=!1,ep=[],Ll=null,$l=null,Fl=null,tm=new Map,nm=new Map,Dl=[],h6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nC(e,t){switch(e){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":tm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nm.delete(t.pointerId)}}function rf(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Um(t),t!==null&&z1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function p6(e,t,n,r,i){switch(t){case"focusin":return Ll=rf(Ll,e,t,n,r,i),!0;case"dragenter":return $l=rf($l,e,t,n,r,i),!0;case"mouseover":return Fl=rf(Fl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return tm.set(a,rf(tm.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,nm.set(a,rf(nm.get(a)||null,e,t,n,r,i)),!0}return!1}function QE(e){var t=Dc(e.target);if(t!==null){var n=lu(t);if(n!==null){if(t=n.tag,t===13){if(t=RE(n),t!==null){e.blockedOn=t,XE(e.priority,function(){GE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xy=r,n.target.dispatchEvent(r),xy=null}else return t=Um(n),t!==null&&z1(t),e.blockedOn=n,!1;t.shift()}return!0}function rC(e,t,n){zp(e)&&n.delete(t)}function g6(){ky=!1,Ll!==null&&zp(Ll)&&(Ll=null),$l!==null&&zp($l)&&($l=null),Fl!==null&&zp(Fl)&&(Fl=null),tm.forEach(rC),nm.forEach(rC)}function af(e,t){e.blockedOn===t&&(e.blockedOn=null,ky||(ky=!0,$a.unstable_scheduleCallback($a.unstable_NormalPriority,g6)))}function rm(e){function t(i){return af(i,e)}if(0<ep.length){af(ep[0],e);for(var n=1;n<ep.length;n++){var r=ep[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ll!==null&&af(Ll,e),$l!==null&&af($l,e),Fl!==null&&af(Fl,e),tm.forEach(t),nm.forEach(t),n=0;n<Dl.length;n++)r=Dl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dl.length&&(n=Dl[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&Dl.shift()}var rd=Jo.ReactCurrentBatchConfig,hg=!0;function x6(e,t,n,r){var i=Un,a=rd.transition;rd.transition=null;try{Un=1,U1(e,t,n,r)}finally{Un=i,rd.transition=a}}function v6(e,t,n,r){var i=Un,a=rd.transition;rd.transition=null;try{Un=4,U1(e,t,n,r)}finally{Un=i,rd.transition=a}}function U1(e,t,n,r){if(hg){var i=Sy(e,t,n,r);if(i===null)Vv(e,t,r,pg,n),nC(e,r);else if(p6(i,e,t,n,r))r.stopPropagation();else if(nC(e,r),t&4&&-1<h6.indexOf(e)){for(;i!==null;){var a=Um(i);if(a!==null&&KE(a),a=Sy(e,t,n,r),a===null&&Vv(e,t,r,pg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Vv(e,t,r,null,n)}}var pg=null;function Sy(e,t,n,r){if(pg=null,e=F1(r),e=Dc(e),e!==null)if(t=lu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pg=e,null}function ZE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a6()){case R1:return 1;case WE:return 4;case fg:case s6:return 16;case VE:return 536870912;default:return 16}default:return 16}}var El=null,W1=null,Up=null;function JE(){if(Up)return Up;var e,t=W1,n=t.length,r,i="value"in El?El.value:El.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Up=i.slice(e,1<r?1-r:void 0)}function Wp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tp(){return!0}function iC(){return!1}function za(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?tp:iC,this.isPropagationStopped=iC,this}return Pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tp)},persist:function(){},isPersistent:tp}),t}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V1=za(Od),zm=Pr({},Od,{view:0,detail:0}),b6=za(zm),_v,Lv,sf,G0=Pr({},zm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sf&&(sf&&e.type==="mousemove"?(_v=e.screenX-sf.screenX,Lv=e.screenY-sf.screenY):Lv=_v=0,sf=e),_v)},movementY:function(e){return"movementY"in e?e.movementY:Lv}}),aC=za(G0),y6=Pr({},G0,{dataTransfer:0}),w6=za(y6),k6=Pr({},zm,{relatedTarget:0}),$v=za(k6),S6=Pr({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),N6=za(S6),C6=Pr({},Od,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j6=za(C6),A6=Pr({},Od,{data:0}),sC=za(A6),P6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T6[e])?!!t[e]:!1}function H1(){return M6}var E6=Pr({},zm,{key:function(e){if(e.key){var t=P6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?D6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H1,charCode:function(e){return e.type==="keypress"?Wp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O6=za(E6),I6=Pr({},G0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oC=za(I6),_6=Pr({},zm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H1}),L6=za(_6),$6=Pr({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),F6=za($6),R6=Pr({},G0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B6=za(R6),z6=[9,13,27,32],q1=Ro&&"CompositionEvent"in window,If=null;Ro&&"documentMode"in document&&(If=document.documentMode);var U6=Ro&&"TextEvent"in window&&!If,e5=Ro&&(!q1||If&&8<If&&11>=If),lC=" ",cC=!1;function t5(e,t){switch(e){case"keyup":return z6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fu=!1;function W6(e,t){switch(e){case"compositionend":return n5(t);case"keypress":return t.which!==32?null:(cC=!0,lC);case"textInput":return e=t.data,e===lC&&cC?null:e;default:return null}}function V6(e,t){if(Fu)return e==="compositionend"||!q1&&t5(e,t)?(e=JE(),Up=W1=El=null,Fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e5&&t.locale!=="ko"?null:t.data;default:return null}}var H6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H6[e.type]:t==="textarea"}function r5(e,t,n,r){IE(r),t=gg(t,"onChange"),0<t.length&&(n=new V1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _f=null,im=null;function q6(e){h5(e,0)}function Y0(e){var t=zu(e);if(AE(t))return e}function K6(e,t){if(e==="change")return t}var i5=!1;if(Ro){var Fv;if(Ro){var Rv="oninput"in document;if(!Rv){var dC=document.createElement("div");dC.setAttribute("oninput","return;"),Rv=typeof dC.oninput=="function"}Fv=Rv}else Fv=!1;i5=Fv&&(!document.documentMode||9<document.documentMode)}function fC(){_f&&(_f.detachEvent("onpropertychange",a5),im=_f=null)}function a5(e){if(e.propertyName==="value"&&Y0(im)){var t=[];r5(t,im,e,F1(e)),FE(q6,t)}}function G6(e,t,n){e==="focusin"?(fC(),_f=t,im=n,_f.attachEvent("onpropertychange",a5)):e==="focusout"&&fC()}function Y6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Y0(im)}function X6(e,t){if(e==="click")return Y0(t)}function Q6(e,t){if(e==="input"||e==="change")return Y0(t)}function Z6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var As=typeof Object.is=="function"?Object.is:Z6;function am(e,t){if(As(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ay.call(t,i)||!As(e[i],t[i]))return!1}return!0}function mC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hC(e,t){var n=mC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mC(n)}}function s5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o5(){for(var e=window,t=cg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cg(e.document)}return t}function K1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function J6(e){var t=o5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&s5(n.ownerDocument.documentElement,n)){if(r!==null&&K1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=hC(n,a);var s=hC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eU=Ro&&"documentMode"in document&&11>=document.documentMode,Ru=null,Ny=null,Lf=null,Cy=!1;function pC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cy||Ru==null||Ru!==cg(r)||(r=Ru,"selectionStart"in r&&K1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lf&&am(Lf,r)||(Lf=r,r=gg(Ny,"onSelect"),0<r.length&&(t=new V1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ru)))}function np(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bu={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},Bv={},l5={};Ro&&(l5=document.createElement("div").style,"AnimationEvent"in window||(delete Bu.animationend.animation,delete Bu.animationiteration.animation,delete Bu.animationstart.animation),"TransitionEvent"in window||delete Bu.transitionend.transition);function X0(e){if(Bv[e])return Bv[e];if(!Bu[e])return e;var t=Bu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in l5)return Bv[e]=t[n];return e}var c5=X0("animationend"),u5=X0("animationiteration"),d5=X0("animationstart"),f5=X0("transitionend"),m5=new Map,gC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ec(e,t){m5.set(e,t),ou(t,[e])}for(var zv=0;zv<gC.length;zv++){var Uv=gC[zv],tU=Uv.toLowerCase(),nU=Uv[0].toUpperCase()+Uv.slice(1);ec(tU,"on"+nU)}ec(c5,"onAnimationEnd");ec(u5,"onAnimationIteration");ec(d5,"onAnimationStart");ec("dblclick","onDoubleClick");ec("focusin","onFocus");ec("focusout","onBlur");ec(f5,"onTransitionEnd");ud("onMouseEnter",["mouseout","mouseover"]);ud("onMouseLeave",["mouseout","mouseover"]);ud("onPointerEnter",["pointerout","pointerover"]);ud("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function xC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,t6(r,t,void 0,e),e.currentTarget=null}function h5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;xC(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;xC(i,o,u),a=l}}}if(dg)throw e=yy,dg=!1,yy=null,e}function ur(e,t){var n=t[Ty];n===void 0&&(n=t[Ty]=new Set);var r=e+"__bubble";n.has(r)||(p5(t,e,2,!1),n.add(r))}function Wv(e,t,n){var r=0;t&&(r|=4),p5(n,e,r,t)}var rp="_reactListening"+Math.random().toString(36).slice(2);function sm(e){if(!e[rp]){e[rp]=!0,kE.forEach(function(n){n!=="selectionchange"&&(rU.has(n)||Wv(n,!1,e),Wv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rp]||(t[rp]=!0,Wv("selectionchange",!1,t))}}function p5(e,t,n,r){switch(ZE(t)){case 1:var i=x6;break;case 4:i=v6;break;default:i=U1}n=i.bind(null,t,n,e),i=void 0,!by||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Dc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}FE(function(){var u=a,d=F1(n),f=[];e:{var h=m5.get(e);if(h!==void 0){var m=V1,p=e;switch(e){case"keypress":if(Wp(n)===0)break e;case"keydown":case"keyup":m=O6;break;case"focusin":p="focus",m=$v;break;case"focusout":p="blur",m=$v;break;case"beforeblur":case"afterblur":m=$v;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=w6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=L6;break;case c5:case u5:case d5:m=N6;break;case f5:m=F6;break;case"scroll":m=b6;break;case"wheel":m=B6;break;case"copy":case"cut":case"paste":m=j6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=oC}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,y;w!==null;){y=w;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,x!==null&&(N=em(w,x),N!=null&&v.push(om(w,N,y)))),b)break;w=w.return}0<v.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==xy&&(p=n.relatedTarget||n.fromElement)&&(Dc(p)||p[Bo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Dc(p):null,p!==null&&(b=lu(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=aC,N="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=oC,N="onPointerLeave",x="onPointerEnter",w="pointer"),b=m==null?h:zu(m),y=p==null?h:zu(p),h=new v(N,w+"leave",m,n,d),h.target=b,h.relatedTarget=y,N=null,Dc(d)===u&&(v=new v(x,w+"enter",p,n,d),v.target=y,v.relatedTarget=b,N=v),b=N,m&&p)t:{for(v=m,x=p,w=0,y=v;y;y=ju(y))w++;for(y=0,N=x;N;N=ju(N))y++;for(;0<w-y;)v=ju(v),w--;for(;0<y-w;)x=ju(x),y--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=ju(v),x=ju(x)}v=null}else v=null;m!==null&&vC(f,h,m,v,!1),p!==null&&b!==null&&vC(f,b,p,v,!0)}}e:{if(h=u?zu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=K6;else if(uC(h))if(i5)C=Q6;else{C=Y6;var S=G6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=X6);if(C&&(C=C(e,u))){r5(f,C,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&fy(h,"number",h.value)}switch(S=u?zu(u):window,e){case"focusin":(uC(S)||S.contentEditable==="true")&&(Ru=S,Ny=u,Lf=null);break;case"focusout":Lf=Ny=Ru=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,pC(f,n,d);break;case"selectionchange":if(eU)break;case"keydown":case"keyup":pC(f,n,d)}var A;if(q1)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Fu?t5(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(e5&&n.locale!=="ko"&&(Fu||O!=="onCompositionStart"?O==="onCompositionEnd"&&Fu&&(A=JE()):(El=d,W1="value"in El?El.value:El.textContent,Fu=!0)),S=gg(u,O),0<S.length&&(O=new sC(O,e,null,n,d),f.push({event:O,listeners:S}),A?O.data=A:(A=n5(n),A!==null&&(O.data=A)))),(A=U6?W6(e,n):V6(e,n))&&(u=gg(u,"onBeforeInput"),0<u.length&&(d=new sC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}h5(f,t)})}function om(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=em(e,n),a!=null&&r.unshift(om(e,a,i)),a=em(e,t),a!=null&&r.push(om(e,a,i))),e=e.return}return r}function ju(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vC(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=em(n,a),l!=null&&s.unshift(om(n,l,o))):i||(l=em(n,a),l!=null&&s.push(om(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var iU=/\r\n?/g,aU=/\u0000|\uFFFD/g;function bC(e){return(typeof e=="string"?e:""+e).replace(iU,`
`).replace(aU,"")}function ip(e,t,n){if(t=bC(t),bC(e)!==t&&n)throw Error(ct(425))}function xg(){}var jy=null,Ay=null;function Py(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,sU=typeof clearTimeout=="function"?clearTimeout:void 0,yC=typeof Promise=="function"?Promise:void 0,oU=typeof queueMicrotask=="function"?queueMicrotask:typeof yC<"u"?function(e){return yC.resolve(null).then(e).catch(lU)}:Dy;function lU(e){setTimeout(function(){throw e})}function Hv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),rm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rm(t)}function Rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Id=Math.random().toString(36).slice(2),Zs="__reactFiber$"+Id,lm="__reactProps$"+Id,Bo="__reactContainer$"+Id,Ty="__reactEvents$"+Id,cU="__reactListeners$"+Id,uU="__reactHandles$"+Id;function Dc(e){var t=e[Zs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bo]||n[Zs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wC(e);e!==null;){if(n=e[Zs])return n;e=wC(e)}return t}e=n,n=e.parentNode}return null}function Um(e){return e=e[Zs]||e[Bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function Q0(e){return e[lm]||null}var My=[],Uu=-1;function tc(e){return{current:e}}function fr(e){0>Uu||(e.current=My[Uu],My[Uu]=null,Uu--)}function ar(e,t){Uu++,My[Uu]=e.current,e.current=t}var Gl={},qi=tc(Gl),ma=tc(!1),qc=Gl;function dd(e,t){var n=e.type.contextTypes;if(!n)return Gl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ha(e){return e=e.childContextTypes,e!=null}function vg(){fr(ma),fr(qi)}function kC(e,t,n){if(qi.current!==Gl)throw Error(ct(168));ar(qi,t),ar(ma,n)}function g5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ct(108,Gz(e)||"Unknown",i));return Pr({},n,r)}function bg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gl,qc=qi.current,ar(qi,e),ar(ma,ma.current),!0}function SC(e,t,n){var r=e.stateNode;if(!r)throw Error(ct(169));n?(e=g5(e,t,qc),r.__reactInternalMemoizedMergedChildContext=e,fr(ma),fr(qi),ar(qi,e)):fr(ma),ar(ma,n)}var No=null,Z0=!1,qv=!1;function x5(e){No===null?No=[e]:No.push(e)}function dU(e){Z0=!0,x5(e)}function nc(){if(!qv&&No!==null){qv=!0;var e=0,t=Un;try{var n=No;for(Un=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}No=null,Z0=!1}catch(i){throw No!==null&&(No=No.slice(e+1)),UE(R1,nc),i}finally{Un=t,qv=!1}}return null}var Wu=[],Vu=0,yg=null,wg=0,Xa=[],Qa=0,Kc=null,Po=1,Do="";function wc(e,t){Wu[Vu++]=wg,Wu[Vu++]=yg,yg=e,wg=t}function v5(e,t,n){Xa[Qa++]=Po,Xa[Qa++]=Do,Xa[Qa++]=Kc,Kc=e;var r=Po;e=Do;var i=32-Ss(r)-1;r&=~(1<<i),n+=1;var a=32-Ss(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Po=1<<32-Ss(t)+i|n<<i|r,Do=a+e}else Po=1<<a|n<<i|r,Do=e}function G1(e){e.return!==null&&(wc(e,1),v5(e,1,0))}function Y1(e){for(;e===yg;)yg=Wu[--Vu],Wu[Vu]=null,wg=Wu[--Vu],Wu[Vu]=null;for(;e===Kc;)Kc=Xa[--Qa],Xa[Qa]=null,Do=Xa[--Qa],Xa[Qa]=null,Po=Xa[--Qa],Xa[Qa]=null}var Oa=null,Ma=null,vr=!1,bs=null;function b5(e,t){var n=Ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function NC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oa=e,Ma=Rl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oa=e,Ma=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kc!==null?{id:Po,overflow:Do}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oa=e,Ma=null,!0):!1;default:return!1}}function Ey(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oy(e){if(vr){var t=Ma;if(t){var n=t;if(!NC(e,t)){if(Ey(e))throw Error(ct(418));t=Rl(n.nextSibling);var r=Oa;t&&NC(e,t)?b5(r,n):(e.flags=e.flags&-4097|2,vr=!1,Oa=e)}}else{if(Ey(e))throw Error(ct(418));e.flags=e.flags&-4097|2,vr=!1,Oa=e}}}function CC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oa=e}function ap(e){if(e!==Oa)return!1;if(!vr)return CC(e),vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Py(e.type,e.memoizedProps)),t&&(t=Ma)){if(Ey(e))throw y5(),Error(ct(418));for(;t;)b5(e,t),t=Rl(t.nextSibling)}if(CC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ma=Rl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ma=null}}else Ma=Oa?Rl(e.stateNode.nextSibling):null;return!0}function y5(){for(var e=Ma;e;)e=Rl(e.nextSibling)}function fd(){Ma=Oa=null,vr=!1}function X1(e){bs===null?bs=[e]:bs.push(e)}var fU=Jo.ReactCurrentBatchConfig;function of(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function sp(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jC(e){var t=e._init;return t(e._payload)}function w5(e){function t(x,w){if(e){var y=x.deletions;y===null?(x.deletions=[w],x.flags|=16):y.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Wl(x,w),x.index=0,x.sibling=null,x}function a(x,w,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<w?(x.flags|=2,w):y):(x.flags|=2,w)):(x.flags|=1048576,w)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,w,y,N){return w===null||w.tag!==6?(w=Jv(y,x.mode,N),w.return=x,w):(w=i(w,y),w.return=x,w)}function l(x,w,y,N){var C=y.type;return C===$u?d(x,w,y.props.children,N,y.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nl&&jC(C)===w.type)?(N=i(w,y.props),N.ref=of(x,w,y),N.return=x,N):(N=Xp(y.type,y.key,y.props,null,x.mode,N),N.ref=of(x,w,y),N.return=x,N)}function u(x,w,y,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=eb(y,x.mode,N),w.return=x,w):(w=i(w,y.children||[]),w.return=x,w)}function d(x,w,y,N,C){return w===null||w.tag!==7?(w=Rc(y,x.mode,N,C),w.return=x,w):(w=i(w,y),w.return=x,w)}function f(x,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jv(""+w,x.mode,y),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yh:return y=Xp(w.type,w.key,w.props,null,x.mode,y),y.ref=of(x,null,w),y.return=x,y;case Lu:return w=eb(w,x.mode,y),w.return=x,w;case Nl:var N=w._init;return f(x,N(w._payload),y)}if(Sf(w)||tf(w))return w=Rc(w,x.mode,y,null),w.return=x,w;sp(x,w)}return null}function h(x,w,y,N){var C=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:o(x,w,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yh:return y.key===C?l(x,w,y,N):null;case Lu:return y.key===C?u(x,w,y,N):null;case Nl:return C=y._init,h(x,w,C(y._payload),N)}if(Sf(y)||tf(y))return C!==null?null:d(x,w,y,N,null);sp(x,y)}return null}function m(x,w,y,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(y)||null,o(w,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Yh:return x=x.get(N.key===null?y:N.key)||null,l(w,x,N,C);case Lu:return x=x.get(N.key===null?y:N.key)||null,u(w,x,N,C);case Nl:var S=N._init;return m(x,w,y,S(N._payload),C)}if(Sf(N)||tf(N))return x=x.get(y)||null,d(w,x,N,C,null);sp(w,N)}return null}function p(x,w,y,N){for(var C=null,S=null,A=w,O=w=0,R=null;A!==null&&O<y.length;O++){A.index>O?(R=A,A=null):R=A.sibling;var M=h(x,A,y[O],N);if(M===null){A===null&&(A=R);break}e&&A&&M.alternate===null&&t(x,A),w=a(M,w,O),S===null?C=M:S.sibling=M,S=M,A=R}if(O===y.length)return n(x,A),vr&&wc(x,O),C;if(A===null){for(;O<y.length;O++)A=f(x,y[O],N),A!==null&&(w=a(A,w,O),S===null?C=A:S.sibling=A,S=A);return vr&&wc(x,O),C}for(A=r(x,A);O<y.length;O++)R=m(A,x,O,y[O],N),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?O:R.key),w=a(R,w,O),S===null?C=R:S.sibling=R,S=R);return e&&A.forEach(function(L){return t(x,L)}),vr&&wc(x,O),C}function v(x,w,y,N){var C=tf(y);if(typeof C!="function")throw Error(ct(150));if(y=C.call(y),y==null)throw Error(ct(151));for(var S=C=null,A=w,O=w=0,R=null,M=y.next();A!==null&&!M.done;O++,M=y.next()){A.index>O?(R=A,A=null):R=A.sibling;var L=h(x,A,M.value,N);if(L===null){A===null&&(A=R);break}e&&A&&L.alternate===null&&t(x,A),w=a(L,w,O),S===null?C=L:S.sibling=L,S=L,A=R}if(M.done)return n(x,A),vr&&wc(x,O),C;if(A===null){for(;!M.done;O++,M=y.next())M=f(x,M.value,N),M!==null&&(w=a(M,w,O),S===null?C=M:S.sibling=M,S=M);return vr&&wc(x,O),C}for(A=r(x,A);!M.done;O++,M=y.next())M=m(A,x,O,M.value,N),M!==null&&(e&&M.alternate!==null&&A.delete(M.key===null?O:M.key),w=a(M,w,O),S===null?C=M:S.sibling=M,S=M);return e&&A.forEach(function(_){return t(x,_)}),vr&&wc(x,O),C}function b(x,w,y,N){if(typeof y=="object"&&y!==null&&y.type===$u&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Yh:e:{for(var C=y.key,S=w;S!==null;){if(S.key===C){if(C=y.type,C===$u){if(S.tag===7){n(x,S.sibling),w=i(S,y.props.children),w.return=x,x=w;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nl&&jC(C)===S.type){n(x,S.sibling),w=i(S,y.props),w.ref=of(x,S,y),w.return=x,x=w;break e}n(x,S);break}else t(x,S);S=S.sibling}y.type===$u?(w=Rc(y.props.children,x.mode,N,y.key),w.return=x,x=w):(N=Xp(y.type,y.key,y.props,null,x.mode,N),N.ref=of(x,w,y),N.return=x,x=N)}return s(x);case Lu:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(x,w.sibling),w=i(w,y.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=eb(y,x.mode,N),w.return=x,x=w}return s(x);case Nl:return S=y._init,b(x,w,S(y._payload),N)}if(Sf(y))return p(x,w,y,N);if(tf(y))return v(x,w,y,N);sp(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,y),w.return=x,x=w):(n(x,w),w=Jv(y,x.mode,N),w.return=x,x=w),s(x)):n(x,w)}return b}var md=w5(!0),k5=w5(!1),kg=tc(null),Sg=null,Hu=null,Q1=null;function Z1(){Q1=Hu=Sg=null}function J1(e){var t=kg.current;fr(kg),e._currentValue=t}function Iy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function id(e,t){Sg=e,Q1=Hu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(da=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(Q1!==e)if(e={context:e,memoizedValue:t,next:null},Hu===null){if(Sg===null)throw Error(ct(308));Hu=e,Sg.dependencies={lanes:0,firstContext:e}}else Hu=Hu.next=e;return t}var Tc=null;function ek(e){Tc===null?Tc=[e]:Tc.push(e)}function S5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ek(t)):(n.next=i.next,i.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cl=!1;function tk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,En&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zo(e,n)}return i=r.interleaved,i===null?(t.next=t,ek(r)):(t.next=i.next,i.next=t),r.interleaved=t,zo(e,n)}function Vp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,B1(e,n)}}function AC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ng(e,t,n,r){var i=e.updateQueue;Cl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,m=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Pr({},f,h);break e;case 2:Cl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Yc|=s,e.lanes=s,e.memoizedState=f}}function PC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var Wm={},to=tc(Wm),cm=tc(Wm),um=tc(Wm);function Mc(e){if(e===Wm)throw Error(ct(174));return e}function nk(e,t){switch(ar(um,t),ar(cm,e),ar(to,Wm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hy(t,e)}fr(to),ar(to,t)}function hd(){fr(to),fr(cm),fr(um)}function C5(e){Mc(um.current);var t=Mc(to.current),n=hy(t,e.type);t!==n&&(ar(cm,e),ar(to,n))}function rk(e){cm.current===e&&(fr(to),fr(cm))}var Sr=tc(0);function Cg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kv=[];function ik(){for(var e=0;e<Kv.length;e++)Kv[e]._workInProgressVersionPrimary=null;Kv.length=0}var Hp=Jo.ReactCurrentDispatcher,Gv=Jo.ReactCurrentBatchConfig,Gc=0,Ar=null,ni=null,bi=null,jg=!1,$f=!1,dm=0,mU=0;function $i(){throw Error(ct(321))}function ak(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!As(e[n],t[n]))return!1;return!0}function sk(e,t,n,r,i,a){if(Gc=a,Ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hp.current=e===null||e.memoizedState===null?xU:vU,e=n(r,i),$f){a=0;do{if($f=!1,dm=0,25<=a)throw Error(ct(301));a+=1,bi=ni=null,t.updateQueue=null,Hp.current=bU,e=n(r,i)}while($f)}if(Hp.current=Ag,t=ni!==null&&ni.next!==null,Gc=0,bi=ni=Ar=null,jg=!1,t)throw Error(ct(300));return e}function ok(){var e=dm!==0;return dm=0,e}function Ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Ar.memoizedState=bi=e:bi=bi.next=e,bi}function rs(){if(ni===null){var e=Ar.alternate;e=e!==null?e.memoizedState:null}else e=ni.next;var t=bi===null?Ar.memoizedState:bi.next;if(t!==null)bi=t,ni=e;else{if(e===null)throw Error(ct(310));ni=e,e={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},bi===null?Ar.memoizedState=bi=e:bi=bi.next=e}return bi}function fm(e,t){return typeof t=="function"?t(e):t}function Yv(e){var t=rs(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=ni,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Gc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Ar.lanes|=d,Yc|=d}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,As(r,t.memoizedState)||(da=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ar.lanes|=a,Yc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xv(e){var t=rs(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);As(a,t.memoizedState)||(da=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function j5(){}function A5(e,t){var n=Ar,r=rs(),i=t(),a=!As(r.memoizedState,i);if(a&&(r.memoizedState=i,da=!0),r=r.queue,lk(T5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||bi!==null&&bi.memoizedState.tag&1){if(n.flags|=2048,mm(9,D5.bind(null,n,r,i,t),void 0,null),wi===null)throw Error(ct(349));Gc&30||P5(n,t,i)}return i}function P5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ar.updateQueue,t===null?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function D5(e,t,n,r){t.value=n,t.getSnapshot=r,M5(t)&&E5(e)}function T5(e,t,n){return n(function(){M5(t)&&E5(e)})}function M5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!As(e,n)}catch{return!0}}function E5(e){var t=zo(e,1);t!==null&&Ns(t,e,1,-1)}function DC(e){var t=Ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:e},t.queue=e,e=e.dispatch=gU.bind(null,Ar,e),[t.memoizedState,e]}function mm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ar.updateQueue,t===null?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function O5(){return rs().memoizedState}function qp(e,t,n,r){var i=Ys();Ar.flags|=e,i.memoizedState=mm(1|t,n,void 0,r===void 0?null:r)}function J0(e,t,n,r){var i=rs();r=r===void 0?null:r;var a=void 0;if(ni!==null){var s=ni.memoizedState;if(a=s.destroy,r!==null&&ak(r,s.deps)){i.memoizedState=mm(t,n,a,r);return}}Ar.flags|=e,i.memoizedState=mm(1|t,n,a,r)}function TC(e,t){return qp(8390656,8,e,t)}function lk(e,t){return J0(2048,8,e,t)}function I5(e,t){return J0(4,2,e,t)}function _5(e,t){return J0(4,4,e,t)}function L5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $5(e,t,n){return n=n!=null?n.concat([e]):null,J0(4,4,L5.bind(null,t,e),n)}function ck(){}function F5(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ak(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function R5(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ak(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function B5(e,t,n){return Gc&21?(As(n,t)||(n=HE(),Ar.lanes|=n,Yc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,da=!0),e.memoizedState=n)}function hU(e,t){var n=Un;Un=n!==0&&4>n?n:4,e(!0);var r=Gv.transition;Gv.transition={};try{e(!1),t()}finally{Un=n,Gv.transition=r}}function z5(){return rs().memoizedState}function pU(e,t,n){var r=Ul(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U5(e))W5(t,n);else if(n=S5(e,t,n,r),n!==null){var i=ta();Ns(n,e,r,i),V5(n,t,r)}}function gU(e,t,n){var r=Ul(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U5(e))W5(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,As(o,s)){var l=t.interleaved;l===null?(i.next=i,ek(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=S5(e,t,i,r),n!==null&&(i=ta(),Ns(n,e,r,i),V5(n,t,r))}}function U5(e){var t=e.alternate;return e===Ar||t!==null&&t===Ar}function W5(e,t){$f=jg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function V5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,B1(e,n)}}var Ag={readContext:ns,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useInsertionEffect:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useMutableSource:$i,useSyncExternalStore:$i,useId:$i,unstable_isNewReconciler:!1},xU={readContext:ns,useCallback:function(e,t){return Ys().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:TC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qp(4194308,4,L5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qp(4194308,4,e,t)},useInsertionEffect:function(e,t){return qp(4,2,e,t)},useMemo:function(e,t){var n=Ys();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ys();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pU.bind(null,Ar,e),[r.memoizedState,e]},useRef:function(e){var t=Ys();return e={current:e},t.memoizedState=e},useState:DC,useDebugValue:ck,useDeferredValue:function(e){return Ys().memoizedState=e},useTransition:function(){var e=DC(!1),t=e[0];return e=hU.bind(null,e[1]),Ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ar,i=Ys();if(vr){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),wi===null)throw Error(ct(349));Gc&30||P5(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,TC(T5.bind(null,r,a,e),[e]),r.flags|=2048,mm(9,D5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ys(),t=wi.identifierPrefix;if(vr){var n=Do,r=Po;n=(r&~(1<<32-Ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vU={readContext:ns,useCallback:F5,useContext:ns,useEffect:lk,useImperativeHandle:$5,useInsertionEffect:I5,useLayoutEffect:_5,useMemo:R5,useReducer:Yv,useRef:O5,useState:function(){return Yv(fm)},useDebugValue:ck,useDeferredValue:function(e){var t=rs();return B5(t,ni.memoizedState,e)},useTransition:function(){var e=Yv(fm)[0],t=rs().memoizedState;return[e,t]},useMutableSource:j5,useSyncExternalStore:A5,useId:z5,unstable_isNewReconciler:!1},bU={readContext:ns,useCallback:F5,useContext:ns,useEffect:lk,useImperativeHandle:$5,useInsertionEffect:I5,useLayoutEffect:_5,useMemo:R5,useReducer:Xv,useRef:O5,useState:function(){return Xv(fm)},useDebugValue:ck,useDeferredValue:function(e){var t=rs();return ni===null?t.memoizedState=e:B5(t,ni.memoizedState,e)},useTransition:function(){var e=Xv(fm)[0],t=rs().memoizedState;return[e,t]},useMutableSource:j5,useSyncExternalStore:A5,useId:z5,unstable_isNewReconciler:!1};function xs(e,t){if(e&&e.defaultProps){t=Pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _y(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ex={isMounted:function(e){return(e=e._reactInternals)?lu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ta(),i=Ul(e),a=Oo(r,i);a.payload=t,n!=null&&(a.callback=n),t=Bl(e,a,i),t!==null&&(Ns(t,e,i,r),Vp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ta(),i=Ul(e),a=Oo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Bl(e,a,i),t!==null&&(Ns(t,e,i,r),Vp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ta(),r=Ul(e),i=Oo(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bl(e,i,r),t!==null&&(Ns(t,e,r,n),Vp(t,e,r))}};function MC(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!am(n,r)||!am(i,a):!0}function H5(e,t,n){var r=!1,i=Gl,a=t.contextType;return typeof a=="object"&&a!==null?a=ns(a):(i=ha(t)?qc:qi.current,r=t.contextTypes,a=(r=r!=null)?dd(e,i):Gl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ex,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function EC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ex.enqueueReplaceState(t,t.state,null)}function Ly(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},tk(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ns(a):(a=ha(t)?qc:qi.current,i.context=dd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_y(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ex.enqueueReplaceState(i,i.state,null),Ng(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pd(e,t){try{var n="",r=t;do n+=Kz(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $y(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yU=typeof WeakMap=="function"?WeakMap:Map;function q5(e,t,n){n=Oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dg||(Dg=!0,Ky=r),$y(e,t)},n}function K5(e,t,n){n=Oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$y(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){$y(e,t),typeof r!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function OC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=IU.bind(null,e,t,n),t.then(e,e))}function IC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _C(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oo(-1,1),t.tag=2,Bl(n,t,1))),n.lanes|=1),e)}var wU=Jo.ReactCurrentOwner,da=!1;function Zi(e,t,n,r){t.child=e===null?k5(t,null,n,r):md(t,e.child,n,r)}function LC(e,t,n,r,i){n=n.render;var a=t.ref;return id(t,i),r=sk(e,t,n,r,a,i),n=ok(),e!==null&&!da?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i)):(vr&&n&&G1(t),t.flags|=1,Zi(e,t,r,i),t.child)}function $C(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!xk(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,G5(e,t,a,r,i)):(e=Xp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:am,n(s,r)&&e.ref===t.ref)return Uo(e,t,i)}return t.flags|=1,e=Wl(a,r),e.ref=t.ref,e.return=t,t.child=e}function G5(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(am(a,r)&&e.ref===t.ref)if(da=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(da=!0);else return t.lanes=e.lanes,Uo(e,t,i)}return Fy(e,t,n,r,i)}function Y5(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Ku,Pa),Pa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ar(Ku,Pa),Pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ar(Ku,Pa),Pa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ar(Ku,Pa),Pa|=r;return Zi(e,t,i,n),t.child}function X5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fy(e,t,n,r,i){var a=ha(n)?qc:qi.current;return a=dd(t,a),id(t,i),n=sk(e,t,n,r,a,i),r=ok(),e!==null&&!da?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i)):(vr&&r&&G1(t),t.flags|=1,Zi(e,t,n,i),t.child)}function FC(e,t,n,r,i){if(ha(n)){var a=!0;bg(t)}else a=!1;if(id(t,i),t.stateNode===null)Kp(e,t),H5(t,n,r),Ly(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=ha(n)?qc:qi.current,u=dd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&EC(t,s,r,u),Cl=!1;var h=t.memoizedState;s.state=h,Ng(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ma.current||Cl?(typeof d=="function"&&(_y(t,n,d,r),l=t.memoizedState),(o=Cl||MC(t,n,o,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,N5(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:xs(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=ha(n)?qc:qi.current,l=dd(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&EC(t,s,r,l),Cl=!1,h=t.memoizedState,s.state=h,Ng(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ma.current||Cl?(typeof m=="function"&&(_y(t,n,m,r),p=t.memoizedState),(u=Cl||MC(t,n,u,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ry(e,t,n,r,a,i)}function Ry(e,t,n,r,i,a){X5(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&SC(t,n,!1),Uo(e,t,a);r=t.stateNode,wU.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=md(t,e.child,null,a),t.child=md(t,null,o,a)):Zi(e,t,o,a),t.memoizedState=r.state,i&&SC(t,n,!0),t.child}function Q5(e){var t=e.stateNode;t.pendingContext?kC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kC(e,t.context,!1),nk(e,t.containerInfo)}function RC(e,t,n,r,i){return fd(),X1(i),t.flags|=256,Zi(e,t,n,r),t.child}var By={dehydrated:null,treeContext:null,retryLane:0};function zy(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z5(e,t,n){var r=t.pendingProps,i=Sr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ar(Sr,i&1),e===null)return Oy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=rx(s,r,0,null),e=Rc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=zy(n),t.memoizedState=By,e):uk(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return kU(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Wl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Wl(o,a):(a=Rc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?zy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=By,r}return a=e.child,e=a.sibling,r=Wl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function uk(e,t){return t=rx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function op(e,t,n,r){return r!==null&&X1(r),md(t,e.child,null,n),e=uk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kU(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Qv(Error(ct(422))),op(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=rx({mode:"visible",children:r.children},i,0,null),a=Rc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&md(t,e.child,null,s),t.child.memoizedState=zy(s),t.memoizedState=By,a);if(!(t.mode&1))return op(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ct(419)),r=Qv(a,r,void 0),op(e,t,s,r)}if(o=(s&e.childLanes)!==0,da||o){if(r=wi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,zo(e,i),Ns(r,e,i,-1))}return gk(),r=Qv(Error(ct(421))),op(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_U.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ma=Rl(i.nextSibling),Oa=t,vr=!0,bs=null,e!==null&&(Xa[Qa++]=Po,Xa[Qa++]=Do,Xa[Qa++]=Kc,Po=e.id,Do=e.overflow,Kc=t),t=uk(t,r.children),t.flags|=4096,t)}function BC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Iy(e.return,t,n)}function Zv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function J5(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Zi(e,t,r.children,n),r=Sr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&BC(e,n,t);else if(e.tag===19)BC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ar(Sr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Cg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zv(t,!0,n,null,a);break;case"together":Zv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=Wl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SU(e,t,n){switch(t.tag){case 3:Q5(t),fd();break;case 5:C5(t);break;case 1:ha(t.type)&&bg(t);break;case 4:nk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ar(kg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ar(Sr,Sr.current&1),t.flags|=128,null):n&t.child.childLanes?Z5(e,t,n):(ar(Sr,Sr.current&1),e=Uo(e,t,n),e!==null?e.sibling:null);ar(Sr,Sr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return J5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ar(Sr,Sr.current),r)break;return null;case 22:case 23:return t.lanes=0,Y5(e,t,n)}return Uo(e,t,n)}var eO,Uy,tO,nO;eO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uy=function(){};tO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mc(to.current);var a=null;switch(n){case"input":i=uy(e,i),r=uy(e,r),a=[];break;case"select":i=Pr({},i,{value:void 0}),r=Pr({},r,{value:void 0}),a=[];break;case"textarea":i=my(e,i),r=my(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xg)}py(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zf.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ur("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};nO=function(e,t,n,r){n!==r&&(t.flags|=4)};function lf(e,t){if(!vr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function NU(e,t,n){var r=t.pendingProps;switch(Y1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(t),null;case 1:return ha(t.type)&&vg(),Fi(t),null;case 3:return r=t.stateNode,hd(),fr(ma),fr(qi),ik(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bs!==null&&(Xy(bs),bs=null))),Uy(e,t),Fi(t),null;case 5:rk(t);var i=Mc(um.current);if(n=t.type,e!==null&&t.stateNode!=null)tO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ct(166));return Fi(t),null}if(e=Mc(to.current),ap(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zs]=t,r[lm]=a,e=(t.mode&1)!==0,n){case"dialog":ur("cancel",r),ur("close",r);break;case"iframe":case"object":case"embed":ur("load",r);break;case"video":case"audio":for(i=0;i<Cf.length;i++)ur(Cf[i],r);break;case"source":ur("error",r);break;case"img":case"image":case"link":ur("error",r),ur("load",r);break;case"details":ur("toggle",r);break;case"input":Y2(r,a),ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ur("invalid",r);break;case"textarea":Q2(r,a),ur("invalid",r)}py(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ip(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ip(r.textContent,o,e),i=["children",""+o]):Zf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ur("scroll",r)}switch(n){case"input":Xh(r),X2(r,a,!0);break;case"textarea":Xh(r),Z2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zs]=t,e[lm]=r,eO(e,t,!1,!1),t.stateNode=e;e:{switch(s=gy(n,r),n){case"dialog":ur("cancel",e),ur("close",e),i=r;break;case"iframe":case"object":case"embed":ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Cf.length;i++)ur(Cf[i],e);i=r;break;case"source":ur("error",e),i=r;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=r;break;case"details":ur("toggle",e),i=r;break;case"input":Y2(e,r),i=uy(e,r),ur("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pr({},r,{value:void 0}),ur("invalid",e);break;case"textarea":Q2(e,r),i=my(e,r),ur("invalid",e);break;default:i=r}py(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?OE(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ME(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jf(e,l):typeof l=="number"&&Jf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ur("scroll",e):l!=null&&I1(e,a,l,s))}switch(n){case"input":Xh(e),X2(e,r,!1);break;case"textarea":Xh(e),Z2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ed(e,!!r.multiple,a,!1):r.defaultValue!=null&&ed(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fi(t),null;case 6:if(e&&t.stateNode!=null)nO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ct(166));if(n=Mc(um.current),Mc(to.current),ap(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zs]=t,(a=r.nodeValue!==n)&&(e=Oa,e!==null))switch(e.tag){case 3:ip(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ip(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=t,t.stateNode=r}return Fi(t),null;case 13:if(fr(Sr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vr&&Ma!==null&&t.mode&1&&!(t.flags&128))y5(),fd(),t.flags|=98560,a=!1;else if(a=ap(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ct(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ct(317));a[Zs]=t}else fd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fi(t),a=!1}else bs!==null&&(Xy(bs),bs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?ii===0&&(ii=3):gk())),t.updateQueue!==null&&(t.flags|=4),Fi(t),null);case 4:return hd(),Uy(e,t),e===null&&sm(t.stateNode.containerInfo),Fi(t),null;case 10:return J1(t.type._context),Fi(t),null;case 17:return ha(t.type)&&vg(),Fi(t),null;case 19:if(fr(Sr),a=t.memoizedState,a===null)return Fi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)lf(a,!1);else{if(ii!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Cg(e),s!==null){for(t.flags|=128,lf(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ar(Sr,Sr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Br()>gd&&(t.flags|=128,r=!0,lf(a,!1),t.lanes=4194304)}else{if(!r)if(e=Cg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!vr)return Fi(t),null}else 2*Br()-a.renderingStartTime>gd&&n!==1073741824&&(t.flags|=128,r=!0,lf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Br(),t.sibling=null,n=Sr.current,ar(Sr,r?n&1|2:n&1),t):(Fi(t),null);case 22:case 23:return pk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pa&1073741824&&(Fi(t),t.subtreeFlags&6&&(t.flags|=8192)):Fi(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function CU(e,t){switch(Y1(t),t.tag){case 1:return ha(t.type)&&vg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hd(),fr(ma),fr(qi),ik(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rk(t),null;case 13:if(fr(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));fd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fr(Sr),null;case 4:return hd(),null;case 10:return J1(t.type._context),null;case 22:case 23:return pk(),null;case 24:return null;default:return null}}var lp=!1,zi=!1,jU=typeof WeakSet=="function"?WeakSet:Set,jt=null;function qu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Or(e,t,r)}else n.current=null}function Wy(e,t,n){try{n()}catch(r){Or(e,t,r)}}var zC=!1;function AU(e,t){if(jy=hg,e=o5(),K1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ay={focusedElem:e,selectionRange:n},hg=!1,jt=t;jt!==null;)if(t=jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,jt=e;else for(;jt!==null;){t=jt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:xs(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(N){Or(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,jt=e;break}jt=t.return}return p=zC,zC=!1,p}function Ff(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wy(t,n,a)}i=i.next}while(i!==r)}}function tx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rO(e){var t=e.alternate;t!==null&&(e.alternate=null,rO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zs],delete t[lm],delete t[Ty],delete t[cU],delete t[uU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iO(e){return e.tag===5||e.tag===3||e.tag===4}function UC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xg));else if(r!==4&&(e=e.child,e!==null))for(Hy(e,t,n),e=e.sibling;e!==null;)Hy(e,t,n),e=e.sibling}function qy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qy(e,t,n),e=e.sibling;e!==null;)qy(e,t,n),e=e.sibling}var Ti=null,vs=!1;function yl(e,t,n){for(n=n.child;n!==null;)aO(e,t,n),n=n.sibling}function aO(e,t,n){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(K0,n)}catch{}switch(n.tag){case 5:zi||qu(n,t);case 6:var r=Ti,i=vs;Ti=null,yl(e,t,n),Ti=r,vs=i,Ti!==null&&(vs?(e=Ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ti.removeChild(n.stateNode));break;case 18:Ti!==null&&(vs?(e=Ti,n=n.stateNode,e.nodeType===8?Hv(e.parentNode,n):e.nodeType===1&&Hv(e,n),rm(e)):Hv(Ti,n.stateNode));break;case 4:r=Ti,i=vs,Ti=n.stateNode.containerInfo,vs=!0,yl(e,t,n),Ti=r,vs=i;break;case 0:case 11:case 14:case 15:if(!zi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Wy(n,t,s),i=i.next}while(i!==r)}yl(e,t,n);break;case 1:if(!zi&&(qu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Or(n,t,o)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:n.mode&1?(zi=(r=zi)||n.memoizedState!==null,yl(e,t,n),zi=r):yl(e,t,n);break;default:yl(e,t,n)}}function WC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jU),t.forEach(function(r){var i=LU.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ti=o.stateNode,vs=!1;break e;case 3:Ti=o.stateNode.containerInfo,vs=!0;break e;case 4:Ti=o.stateNode.containerInfo,vs=!0;break e}o=o.return}if(Ti===null)throw Error(ct(160));aO(a,s,i),Ti=null,vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Or(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sO(t,e),t=t.sibling}function sO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),Hs(e),r&4){try{Ff(3,e,e.return),tx(3,e)}catch(v){Or(e,e.return,v)}try{Ff(5,e,e.return)}catch(v){Or(e,e.return,v)}}break;case 1:gs(t,e),Hs(e),r&512&&n!==null&&qu(n,n.return);break;case 5:if(gs(t,e),Hs(e),r&512&&n!==null&&qu(n,n.return),e.flags&32){var i=e.stateNode;try{Jf(i,"")}catch(v){Or(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&PE(i,a),gy(o,s);var u=gy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?OE(i,f):d==="dangerouslySetInnerHTML"?ME(i,f):d==="children"?Jf(i,f):I1(i,d,f,u)}switch(o){case"input":dy(i,a);break;case"textarea":DE(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ed(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?ed(i,!!a.multiple,a.defaultValue,!0):ed(i,!!a.multiple,a.multiple?[]:"",!1))}i[lm]=a}catch(v){Or(e,e.return,v)}}break;case 6:if(gs(t,e),Hs(e),r&4){if(e.stateNode===null)throw Error(ct(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Or(e,e.return,v)}}break;case 3:if(gs(t,e),Hs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rm(t.containerInfo)}catch(v){Or(e,e.return,v)}break;case 4:gs(t,e),Hs(e);break;case 13:gs(t,e),Hs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(mk=Br())),r&4&&WC(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(zi=(u=zi)||d,gs(t,e),zi=u):gs(t,e),Hs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(jt=e,d=e.child;d!==null;){for(f=jt=d;jt!==null;){switch(h=jt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ff(4,h,h.return);break;case 1:qu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Or(r,n,v)}}break;case 5:qu(h,h.return);break;case 22:if(h.memoizedState!==null){HC(f);continue}}m!==null?(m.return=h,jt=m):HC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=EE("display",s))}catch(v){Or(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Or(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(t,e),Hs(e),r&4&&WC(e);break;case 21:break;default:gs(t,e),Hs(e)}}function Hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(iO(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jf(i,""),r.flags&=-33);var a=UC(e);qy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=UC(e);Hy(e,o,s);break;default:throw Error(ct(161))}}catch(l){Or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PU(e,t,n){jt=e,oO(e)}function oO(e,t,n){for(var r=(e.mode&1)!==0;jt!==null;){var i=jt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||lp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||zi;o=lp;var u=zi;if(lp=s,(zi=l)&&!u)for(jt=i;jt!==null;)s=jt,l=s.child,s.tag===22&&s.memoizedState!==null?qC(i):l!==null?(l.return=s,jt=l):qC(i);for(;a!==null;)jt=a,oO(a),a=a.sibling;jt=i,lp=o,zi=u}VC(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,jt=a):VC(e)}}function VC(e){for(;jt!==null;){var t=jt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zi||tx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&PC(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}PC(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&rm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}zi||t.flags&512&&Vy(t)}catch(h){Or(t,t.return,h)}}if(t===e){jt=null;break}if(n=t.sibling,n!==null){n.return=t.return,jt=n;break}jt=t.return}}function HC(e){for(;jt!==null;){var t=jt;if(t===e){jt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,jt=n;break}jt=t.return}}function qC(e){for(;jt!==null;){var t=jt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tx(4,t)}catch(l){Or(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Or(t,i,l)}}var a=t.return;try{Vy(t)}catch(l){Or(t,a,l)}break;case 5:var s=t.return;try{Vy(t)}catch(l){Or(t,s,l)}}}catch(l){Or(t,t.return,l)}if(t===e){jt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,jt=o;break}jt=t.return}}var DU=Math.ceil,Pg=Jo.ReactCurrentDispatcher,dk=Jo.ReactCurrentOwner,ts=Jo.ReactCurrentBatchConfig,En=0,wi=null,Gr=null,Ei=0,Pa=0,Ku=tc(0),ii=0,hm=null,Yc=0,nx=0,fk=0,Rf=null,ca=null,mk=0,gd=1/0,So=null,Dg=!1,Ky=null,zl=null,cp=!1,Ol=null,Tg=0,Bf=0,Gy=null,Gp=-1,Yp=0;function ta(){return En&6?Br():Gp!==-1?Gp:Gp=Br()}function Ul(e){return e.mode&1?En&2&&Ei!==0?Ei&-Ei:fU.transition!==null?(Yp===0&&(Yp=HE()),Yp):(e=Un,e!==0||(e=window.event,e=e===void 0?16:ZE(e.type)),e):1}function Ns(e,t,n,r){if(50<Bf)throw Bf=0,Gy=null,Error(ct(185));Bm(e,n,r),(!(En&2)||e!==wi)&&(e===wi&&(!(En&2)&&(nx|=n),ii===4&&Tl(e,Ei)),pa(e,r),n===1&&En===0&&!(t.mode&1)&&(gd=Br()+500,Z0&&nc()))}function pa(e,t){var n=e.callbackNode;f6(e,t);var r=mg(e,e===wi?Ei:0);if(r===0)n!==null&&tC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tC(n),t===1)e.tag===0?dU(KC.bind(null,e)):x5(KC.bind(null,e)),oU(function(){!(En&6)&&nc()}),n=null;else{switch(qE(r)){case 1:n=R1;break;case 4:n=WE;break;case 16:n=fg;break;case 536870912:n=VE;break;default:n=fg}n=pO(n,lO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function lO(e,t){if(Gp=-1,Yp=0,En&6)throw Error(ct(327));var n=e.callbackNode;if(ad()&&e.callbackNode!==n)return null;var r=mg(e,e===wi?Ei:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mg(e,r);else{t=r;var i=En;En|=2;var a=uO();(wi!==e||Ei!==t)&&(So=null,gd=Br()+500,Fc(e,t));do try{EU();break}catch(o){cO(e,o)}while(!0);Z1(),Pg.current=a,En=i,Gr!==null?t=0:(wi=null,Ei=0,t=ii)}if(t!==0){if(t===2&&(i=wy(e),i!==0&&(r=i,t=Yy(e,i))),t===1)throw n=hm,Fc(e,0),Tl(e,r),pa(e,Br()),n;if(t===6)Tl(e,r);else{if(i=e.current.alternate,!(r&30)&&!TU(i)&&(t=Mg(e,r),t===2&&(a=wy(e),a!==0&&(r=a,t=Yy(e,a))),t===1))throw n=hm,Fc(e,0),Tl(e,r),pa(e,Br()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ct(345));case 2:kc(e,ca,So);break;case 3:if(Tl(e,r),(r&130023424)===r&&(t=mk+500-Br(),10<t)){if(mg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ta(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dy(kc.bind(null,e,ca,So),t);break}kc(e,ca,So);break;case 4:if(Tl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ss(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DU(r/1960))-r,10<r){e.timeoutHandle=Dy(kc.bind(null,e,ca,So),r);break}kc(e,ca,So);break;case 5:kc(e,ca,So);break;default:throw Error(ct(329))}}}return pa(e,Br()),e.callbackNode===n?lO.bind(null,e):null}function Yy(e,t){var n=Rf;return e.current.memoizedState.isDehydrated&&(Fc(e,t).flags|=256),e=Mg(e,t),e!==2&&(t=ca,ca=n,t!==null&&Xy(t)),e}function Xy(e){ca===null?ca=e:ca.push.apply(ca,e)}function TU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!As(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tl(e,t){for(t&=~fk,t&=~nx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ss(t),r=1<<n;e[n]=-1,t&=~r}}function KC(e){if(En&6)throw Error(ct(327));ad();var t=mg(e,0);if(!(t&1))return pa(e,Br()),null;var n=Mg(e,t);if(e.tag!==0&&n===2){var r=wy(e);r!==0&&(t=r,n=Yy(e,r))}if(n===1)throw n=hm,Fc(e,0),Tl(e,t),pa(e,Br()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,ca,So),pa(e,Br()),null}function hk(e,t){var n=En;En|=1;try{return e(t)}finally{En=n,En===0&&(gd=Br()+500,Z0&&nc())}}function Xc(e){Ol!==null&&Ol.tag===0&&!(En&6)&&ad();var t=En;En|=1;var n=ts.transition,r=Un;try{if(ts.transition=null,Un=1,e)return e()}finally{Un=r,ts.transition=n,En=t,!(En&6)&&nc()}}function pk(){Pa=Ku.current,fr(Ku)}function Fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sU(n)),Gr!==null)for(n=Gr.return;n!==null;){var r=n;switch(Y1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vg();break;case 3:hd(),fr(ma),fr(qi),ik();break;case 5:rk(r);break;case 4:hd();break;case 13:fr(Sr);break;case 19:fr(Sr);break;case 10:J1(r.type._context);break;case 22:case 23:pk()}n=n.return}if(wi=e,Gr=e=Wl(e.current,null),Ei=Pa=t,ii=0,hm=null,fk=nx=Yc=0,ca=Rf=null,Tc!==null){for(t=0;t<Tc.length;t++)if(n=Tc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Tc=null}return e}function cO(e,t){do{var n=Gr;try{if(Z1(),Hp.current=Ag,jg){for(var r=Ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jg=!1}if(Gc=0,bi=ni=Ar=null,$f=!1,dm=0,dk.current=null,n===null||n.return===null){ii=1,hm=t,Gr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=IC(s);if(m!==null){m.flags&=-257,_C(m,s,o,a,t),m.mode&1&&OC(a,u,t),t=m,l=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){OC(a,u,t),gk();break e}l=Error(ct(426))}}else if(vr&&o.mode&1){var b=IC(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_C(b,s,o,a,t),X1(pd(l,o));break e}}a=l=pd(l,o),ii!==4&&(ii=2),Rf===null?Rf=[a]:Rf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=q5(a,l,t);AC(a,x);break e;case 1:o=l;var w=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zl===null||!zl.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=K5(a,o,t);AC(a,N);break e}}a=a.return}while(a!==null)}fO(n)}catch(C){t=C,Gr===n&&n!==null&&(Gr=n=n.return);continue}break}while(!0)}function uO(){var e=Pg.current;return Pg.current=Ag,e===null?Ag:e}function gk(){(ii===0||ii===3||ii===2)&&(ii=4),wi===null||!(Yc&268435455)&&!(nx&268435455)||Tl(wi,Ei)}function Mg(e,t){var n=En;En|=2;var r=uO();(wi!==e||Ei!==t)&&(So=null,Fc(e,t));do try{MU();break}catch(i){cO(e,i)}while(!0);if(Z1(),En=n,Pg.current=r,Gr!==null)throw Error(ct(261));return wi=null,Ei=0,ii}function MU(){for(;Gr!==null;)dO(Gr)}function EU(){for(;Gr!==null&&!r6();)dO(Gr)}function dO(e){var t=hO(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,t===null?fO(e):Gr=t,dk.current=null}function fO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CU(n,t),n!==null){n.flags&=32767,Gr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ii=6,Gr=null;return}}else if(n=NU(n,t,Pa),n!==null){Gr=n;return}if(t=t.sibling,t!==null){Gr=t;return}Gr=t=e}while(t!==null);ii===0&&(ii=5)}function kc(e,t,n){var r=Un,i=ts.transition;try{ts.transition=null,Un=1,OU(e,t,n,r)}finally{ts.transition=i,Un=r}return null}function OU(e,t,n,r){do ad();while(Ol!==null);if(En&6)throw Error(ct(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(m6(e,a),e===wi&&(Gr=wi=null,Ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cp||(cp=!0,pO(fg,function(){return ad(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ts.transition,ts.transition=null;var s=Un;Un=1;var o=En;En|=4,dk.current=null,AU(e,n),sO(n,e),J6(Ay),hg=!!jy,Ay=jy=null,e.current=n,PU(n),i6(),En=o,Un=s,ts.transition=a}else e.current=n;if(cp&&(cp=!1,Ol=e,Tg=i),a=e.pendingLanes,a===0&&(zl=null),o6(n.stateNode),pa(e,Br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dg)throw Dg=!1,e=Ky,Ky=null,e;return Tg&1&&e.tag!==0&&ad(),a=e.pendingLanes,a&1?e===Gy?Bf++:(Bf=0,Gy=e):Bf=0,nc(),null}function ad(){if(Ol!==null){var e=qE(Tg),t=ts.transition,n=Un;try{if(ts.transition=null,Un=16>e?16:e,Ol===null)var r=!1;else{if(e=Ol,Ol=null,Tg=0,En&6)throw Error(ct(331));var i=En;for(En|=4,jt=e.current;jt!==null;){var a=jt,s=a.child;if(jt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(jt=u;jt!==null;){var d=jt;switch(d.tag){case 0:case 11:case 15:Ff(8,d,a)}var f=d.child;if(f!==null)f.return=d,jt=f;else for(;jt!==null;){d=jt;var h=d.sibling,m=d.return;if(rO(d),d===u){jt=null;break}if(h!==null){h.return=m,jt=h;break}jt=m}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}jt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,jt=s;else e:for(;jt!==null;){if(a=jt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ff(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,jt=x;break e}jt=a.return}}var w=e.current;for(jt=w;jt!==null;){s=jt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,jt=y;else e:for(s=w;jt!==null;){if(o=jt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tx(9,o)}}catch(C){Or(o,o.return,C)}if(o===s){jt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,jt=N;break e}jt=o.return}}if(En=i,nc(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(K0,e)}catch{}r=!0}return r}finally{Un=n,ts.transition=t}}return!1}function GC(e,t,n){t=pd(n,t),t=q5(e,t,1),e=Bl(e,t,1),t=ta(),e!==null&&(Bm(e,1,t),pa(e,t))}function Or(e,t,n){if(e.tag===3)GC(e,e,n);else for(;t!==null;){if(t.tag===3){GC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zl===null||!zl.has(r))){e=pd(n,e),e=K5(t,e,1),t=Bl(t,e,1),e=ta(),t!==null&&(Bm(t,1,e),pa(t,e));break}}t=t.return}}function IU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ta(),e.pingedLanes|=e.suspendedLanes&n,wi===e&&(Ei&n)===n&&(ii===4||ii===3&&(Ei&130023424)===Ei&&500>Br()-mk?Fc(e,0):fk|=n),pa(e,t)}function mO(e,t){t===0&&(e.mode&1?(t=Jh,Jh<<=1,!(Jh&130023424)&&(Jh=4194304)):t=1);var n=ta();e=zo(e,t),e!==null&&(Bm(e,t,n),pa(e,n))}function _U(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mO(e,n)}function LU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(t),mO(e,n)}var hO;hO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ma.current)da=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return da=!1,SU(e,t,n);da=!!(e.flags&131072)}else da=!1,vr&&t.flags&1048576&&v5(t,wg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Kp(e,t),e=t.pendingProps;var i=dd(t,qi.current);id(t,n),i=sk(null,t,r,e,i,n);var a=ok();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ha(r)?(a=!0,bg(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tk(t),i.updater=ex,t.stateNode=i,i._reactInternals=t,Ly(t,r,e,n),t=Ry(null,t,r,!0,a,n)):(t.tag=0,vr&&a&&G1(t),Zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Kp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FU(r),e=xs(r,e),i){case 0:t=Fy(null,t,r,e,n);break e;case 1:t=FC(null,t,r,e,n);break e;case 11:t=LC(null,t,r,e,n);break e;case 14:t=$C(null,t,r,xs(r.type,e),n);break e}throw Error(ct(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),Fy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),FC(e,t,r,i,n);case 3:e:{if(Q5(t),e===null)throw Error(ct(387));r=t.pendingProps,a=t.memoizedState,i=a.element,N5(e,t),Ng(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=pd(Error(ct(423)),t),t=RC(e,t,r,n,i);break e}else if(r!==i){i=pd(Error(ct(424)),t),t=RC(e,t,r,n,i);break e}else for(Ma=Rl(t.stateNode.containerInfo.firstChild),Oa=t,vr=!0,bs=null,n=k5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fd(),r===i){t=Uo(e,t,n);break e}Zi(e,t,r,n)}t=t.child}return t;case 5:return C5(t),e===null&&Oy(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Py(r,i)?s=null:a!==null&&Py(r,a)&&(t.flags|=32),X5(e,t),Zi(e,t,s,n),t.child;case 6:return e===null&&Oy(t),null;case 13:return Z5(e,t,n);case 4:return nk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=md(t,null,r,n):Zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),LC(e,t,r,i,n);case 7:return Zi(e,t,t.pendingProps,n),t.child;case 8:return Zi(e,t,t.pendingProps.children,n),t.child;case 12:return Zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ar(kg,r._currentValue),r._currentValue=s,a!==null)if(As(a.value,s)){if(a.children===i.children&&!ma.current){t=Uo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Oo(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Iy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ct(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Iy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,id(t,n),i=ns(i),r=r(i),t.flags|=1,Zi(e,t,r,n),t.child;case 14:return r=t.type,i=xs(r,t.pendingProps),i=xs(r.type,i),$C(e,t,r,i,n);case 15:return G5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),Kp(e,t),t.tag=1,ha(r)?(e=!0,bg(t)):e=!1,id(t,n),H5(t,r,i),Ly(t,r,i,n),Ry(null,t,r,!0,e,n);case 19:return J5(e,t,n);case 22:return Y5(e,t,n)}throw Error(ct(156,t.tag))};function pO(e,t){return UE(e,t)}function $U(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(e,t,n,r){return new $U(e,t,n,r)}function xk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FU(e){if(typeof e=="function")return xk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===L1)return 11;if(e===$1)return 14}return 2}function Wl(e,t){var n=e.alternate;return n===null?(n=Ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xp(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")xk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $u:return Rc(n.children,i,a,t);case _1:s=8,i|=8;break;case sy:return e=Ja(12,n,t,i|2),e.elementType=sy,e.lanes=a,e;case oy:return e=Ja(13,n,t,i),e.elementType=oy,e.lanes=a,e;case ly:return e=Ja(19,n,t,i),e.elementType=ly,e.lanes=a,e;case CE:return rx(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SE:s=10;break e;case NE:s=9;break e;case L1:s=11;break e;case $1:s=14;break e;case Nl:s=16,r=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=Ja(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return e=Ja(7,e,r,t),e.lanes=n,e}function rx(e,t,n,r){return e=Ja(22,e,r,t),e.elementType=CE,e.lanes=n,e.stateNode={isHidden:!1},e}function Jv(e,t,n){return e=Ja(6,e,null,t),e.lanes=n,e}function eb(e,t,n){return t=Ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RU(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iv(0),this.expirationTimes=Iv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vk(e,t,n,r,i,a,s,o,l){return e=new RU(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ja(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tk(a),e}function BU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gO(e){if(!e)return Gl;e=e._reactInternals;e:{if(lu(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(ha(n))return g5(e,n,t)}return t}function xO(e,t,n,r,i,a,s,o,l){return e=vk(n,r,!0,e,i,a,s,o,l),e.context=gO(null),n=e.current,r=ta(),i=Ul(n),a=Oo(r,i),a.callback=t??null,Bl(n,a,i),e.current.lanes=i,Bm(e,i,r),pa(e,r),e}function ix(e,t,n,r){var i=t.current,a=ta(),s=Ul(i);return n=gO(n),t.context===null?t.context=n:t.pendingContext=n,t=Oo(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bl(i,t,s),e!==null&&(Ns(e,i,s,a),Vp(e,i,s)),s}function Eg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bk(e,t){YC(e,t),(e=e.alternate)&&YC(e,t)}function zU(){return null}var vO=typeof reportError=="function"?reportError:function(e){console.error(e)};function yk(e){this._internalRoot=e}ax.prototype.render=yk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));ix(e,t,null,null)};ax.prototype.unmount=yk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xc(function(){ix(null,e,null,null)}),t[Bo]=null}};function ax(e){this._internalRoot=e}ax.prototype.unstable_scheduleHydration=function(e){if(e){var t=YE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dl.length&&t!==0&&t<Dl[n].priority;n++);Dl.splice(n,0,e),n===0&&QE(e)}};function wk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XC(){}function UU(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Eg(s);a.call(u)}}var s=xO(t,r,e,0,null,!1,!1,"",XC);return e._reactRootContainer=s,e[Bo]=s.current,sm(e.nodeType===8?e.parentNode:e),Xc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Eg(l);o.call(u)}}var l=vk(e,0,!1,null,null,!1,!1,"",XC);return e._reactRootContainer=l,e[Bo]=l.current,sm(e.nodeType===8?e.parentNode:e),Xc(function(){ix(t,l,n,r)}),l}function ox(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Eg(s);o.call(l)}}ix(t,s,e,i)}else s=UU(n,t,e,i,r);return Eg(s)}KE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nf(t.pendingLanes);n!==0&&(B1(t,n|1),pa(t,Br()),!(En&6)&&(gd=Br()+500,nc()))}break;case 13:Xc(function(){var r=zo(e,1);if(r!==null){var i=ta();Ns(r,e,1,i)}}),bk(e,1)}};z1=function(e){if(e.tag===13){var t=zo(e,134217728);if(t!==null){var n=ta();Ns(t,e,134217728,n)}bk(e,134217728)}};GE=function(e){if(e.tag===13){var t=Ul(e),n=zo(e,t);if(n!==null){var r=ta();Ns(n,e,t,r)}bk(e,t)}};YE=function(){return Un};XE=function(e,t){var n=Un;try{return Un=e,t()}finally{Un=n}};vy=function(e,t,n){switch(t){case"input":if(dy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Q0(r);if(!i)throw Error(ct(90));AE(r),dy(r,i)}}}break;case"textarea":DE(e,n);break;case"select":t=n.value,t!=null&&ed(e,!!n.multiple,t,!1)}};LE=hk;$E=Xc;var WU={usingClientEntryPoint:!1,Events:[Um,zu,Q0,IE,_E,hk]},cf={findFiberByHostInstance:Dc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VU={bundleType:cf.bundleType,version:cf.version,rendererPackageName:cf.rendererPackageName,rendererConfig:cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BE(e),e===null?null:e.stateNode},findFiberByHostInstance:cf.findFiberByHostInstance||zU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{K0=up.inject(VU),eo=up}catch{}}Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WU;Ba.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wk(t))throw Error(ct(200));return BU(e,t,null,n)};Ba.createRoot=function(e,t){if(!wk(e))throw Error(ct(299));var n=!1,r="",i=vO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=vk(e,1,!1,null,null,n,!1,r,i),e[Bo]=t.current,sm(e.nodeType===8?e.parentNode:e),new yk(t)};Ba.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=BE(t),e=e===null?null:e.stateNode,e};Ba.flushSync=function(e){return Xc(e)};Ba.hydrate=function(e,t,n){if(!sx(t))throw Error(ct(200));return ox(null,e,t,!0,n)};Ba.hydrateRoot=function(e,t,n){if(!wk(e))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=vO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=xO(t,null,e,1,n??null,i,!1,a,s),e[Bo]=t.current,sm(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ax(t)};Ba.render=function(e,t,n){if(!sx(t))throw Error(ct(200));return ox(null,e,t,!1,n)};Ba.unmountComponentAtNode=function(e){if(!sx(e))throw Error(ct(40));return e._reactRootContainer?(Xc(function(){ox(null,null,e,!1,function(){e._reactRootContainer=null,e[Bo]=null})}),!0):!1};Ba.unstable_batchedUpdates=hk;Ba.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sx(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return ox(e,t,n,!1,r)};Ba.version="18.3.1-next-f1338f8080-20240426";function bO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bO)}catch(e){console.error(e)}}bO(),bE.exports=Ba;var _d=bE.exports,QC=_d;iy.createRoot=QC.createRoot,iy.hydrateRoot=QC.hydrateRoot;const HU=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),yO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],wO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],qU=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],kO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],KU=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],GU=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],YU=new Set([10244]),XU=(e,t)=>{var i;if(YU.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return GU.some(a=>r.includes(a))},QU=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},dp=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},SO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,NO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},xi=(e,t=2)=>Number.isFinite(e)?SO()&&Math.abs(e)>=1e4?NO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",kl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return SO()&&t>=1e4?NO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var ZU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),an=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>g.createElement("svg",{ref:u,...ZU,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${JU(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},CO=an("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),e8=an("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),kk=an("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),jO=an("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),t8=an("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Sk=an("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),n8=an("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),AO=an("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Qy=an("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),r8=an("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ps=an("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),i8=an("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),a8=an("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),s8=an("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),o8=an("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),pm=an("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),l8=an("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Nk=an("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),c8=an("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),PO=an("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),u8=an("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),Ck=an("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),d8=an("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),jk=an("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),f8=an("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ak=an("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ii=an("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ZC=an("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),m8=an("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h8=an("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),p8=an("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),DO=an("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xd=an("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),lx=an("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),cx=an("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Og=an("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),g8=an("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Il=an("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Bc=an("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),x8=an("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),_r=an("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),v8=an("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),TO=an("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ki=an("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gm=an("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Pk=({className:e})=>c.jsx(m8,{className:e,strokeWidth:3.2}),cu=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},Dk=({className:e=""})=>{const t=cu("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Tk=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},zc=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Mk=({className:e=""})=>{const t=cu("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},zf=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ek=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},b8=[{id:"overview",label:"Overview",icon:Bc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Bc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Il},{id:"top-players",label:"Top Players",icon:Bc},{id:"top-skills-outgoing",label:"Top Skills",icon:kk},{id:"squad-composition",label:"Classes",icon:_r},{id:"timeline",label:"Squad vs Enemy",icon:_r},{id:"map-distribution",label:"Map Distribution",icon:Ak}]},{id:"roster",label:"Roster Intel",icon:pm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:pm},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:_r},{id:"fight-comp",label:"Fight Comp",icon:Il}]},{id:"offense",label:"Offensive Stats",icon:Il,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Il},{id:"player-breakdown",label:"Player Breakdown",icon:jk},{id:"damage-breakdown",label:"Damage Breakdown",icon:Sk},{id:"spike-damage",label:"Spike Damage",icon:gm},{id:"conditions-outgoing",label:"Conditions",icon:lx}]},{id:"defense",label:"Defensive Stats",icon:xd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:p8},{id:"defense-detailed",label:"Defense Detailed",icon:xd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Mk},{id:"boon-output",label:"Boon Output",icon:zc},{id:"boon-timeline",label:"Boon Timeline",icon:Tk},{id:"boon-uptime",label:"Boon Uptime",icon:zf},{id:"support-detailed",label:"Support Detailed",icon:Pk},{id:"healing-stats",label:"Healing Stats",icon:PO}]},{id:"other",label:"Other Metrics",icon:Og,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Nk},{id:"special-buffs",label:"Special Buffs",icon:Og},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ek},{id:"skill-usage",label:"Skill Usage",icon:Ck},{id:"apm-stats",label:"APM Breakdown",icon:Dk}]}],y8=(e,t=!0,n=!1)=>{const[r,i]=g.useState(!1),[a,s]=g.useState("overview"),o=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>b8,[]),f=g.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const v=p==="kdr"?"overview":p,b=o.current,x=document.getElementById(v);if(b&&x){const w=b.getBoundingClientRect(),N=x.getBoundingClientRect().top-w.top+b.scrollTop,C=Math.max(0,b.scrollHeight-b.clientHeight),S=Math.min(Math.max(N-16,0),C);b.scrollTo({top:S,behavior:"smooth"}),s(v)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),s(v));i(!1)};g.useEffect(()=>{if(e||n)return;const p=v=>{if(n)return;const b=o.current;if(!b)return;const x=v.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&b.contains(x))&&v.deltaY!==0&&!(b.scrollHeight<=b.clientHeight)){if(u.current+=v.deltaY,l.current===null){const w=()=>{const y=u.current;if(Math.abs(y)<.5){u.current=0,l.current=null;return}const N=y*.2;u.current=y-N,b.scrollBy({top:N,behavior:"auto"}),l.current=requestAnimationFrame(w)};l.current=requestAnimationFrame(w)}v.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=p=>{var w;const v=Math.max(0,f.findIndex(y=>y.id===a)),b=Math.min(Math.max(v+p,0),f.length-1),x=(w=f[b])==null?void 0:w.id;x&&h(x)};return g.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let v=0;const b=()=>{var N;const w=p.getBoundingClientRect().top;let y=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(C=>{const S=document.getElementById(C.id);if(!S)return;S.getBoundingClientRect().top-w<=24&&(y=C.id)}),s(C=>C===y?C:y)},x=()=>{v&&cancelAnimationFrame(v),v=requestAnimationFrame(b)};return b(),p.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{v&&cancelAnimationFrame(v),p.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},JC=["selfBuffs","groupBuffs","squadBuffs"],ko=(e,t,n=0)=>t?e/t:n,ej=e=>e!=null&&e.classification?e.classification==="Boon":!0,MO=e=>`b${e}`,w8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},EO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},k8=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let h=1;t==="groupBuffs"?h=ko(a-i,i,1):t==="squadBuffs"?h=ko(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?ko(d,r):ko(d,r)*100,p=n?ko(f,r):ko(f,r)*100;else{const v=ko(d,r)/(h||1),b=ko(f,r)/(h||1);m=n?v:v*100,p=n?b:b*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},OO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=k8(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?ko(i,s):a},S8=(e,t,n,r,i)=>{const a=OO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,u=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${u}%`:u},N8=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const v=t.get(m)||{},b={name:v.name||p.name,stacking:v.stacking??p.stacking,icon:v.icon||p.icon,classification:v.classification||p.classification};t.set(m,b)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",v=m.profession||"Unknown",b=m.group??0,x=h.get(b)||1,w=w8(m,o);n.has(p)||n.set(p,{account:p,profession:v,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const y=n.get(p);y.profession=v,v!=="Unknown"&&(y.professions.add(v),y.professionTimeMs[v]=(y.professionTimeMs[v]||0)+w),y.activeTimeMs+=w,y.numFights+=1,y.groupSupported+=x,y.squadSupported+=f,JC.forEach(N=>{(m[N]||[]).forEach(S=>{var ee,le,ve,Y;if(typeof(S==null?void 0:S.id)!="number")return;const A=MO(S.id),O=l[A];if(!ej(O))return;const R=(O==null?void 0:O.stacking)??!1,M=((le=(ee=S.buffData)==null?void 0:ee[0])==null?void 0:le.generation)??0,L=((Y=(ve=S.buffData)==null?void 0:ve[0])==null?void 0:Y.wasted)??0,{generationMs:_,wastedMs:G}=EO(N,R,M,L,o,x,f);!_&&!G||(t.has(A)||t.set(A,O||{}),y.boons[A]||(y.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),y.boons[A][N].generationMs+=_,y.boons[A][N].wastedMs+=G)})})})}),{boonTables:Array.from(t.keys()).filter(a=>ej(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const u=l.boons[a];if(!u||!JC.some(p=>u[p].generationMs>0||u[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(v=>{var x;const b=((x=l.professionTimeMs)==null?void 0:x[v])||0;b>p&&(p=b,h=v)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...u.selfBuffs},groupBuffs:{...u.groupBuffs},squadBuffs:{...u.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},Zy=(e,t,n,r,i,a,s={})=>{var m,p,v,b;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const u=s[MO(n)],d=(u==null?void 0:u.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((b=(v=l.buffData)==null?void 0:v[0])==null?void 0:b.wasted)??0;return EO(t,d,f,h,r,i,a)},C8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},j8={methods:C8},A8=j8,Ok="count",P8=e=>(e||0)/1e3,D8=(e,t)=>{var i;if(!e)return 0;const n=(i=A8.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},IO=(e,t,n)=>n==="duration"?P8(t):n==="tiered"?D8(e,t):e;function T8(e,t=Ok){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return IO(r,i,t)}function M8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,u=Zy(o,"selfBuffs",1122,n,l,a,r),d=Zy(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function E8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function O8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function I8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const tj=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},nj=(e,t=Ok)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return IO(r,i,t)},rj=e=>E8(e),ij=e=>I8(e),aj=e=>O8(e),sj=(e,t=Ok)=>T8(e,t),_8=(e,t)=>M8(e,t),L8="count",_O={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Jy={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},$8={uploading:!1,message:null,url:null,buildStatus:"idle"},oj=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),LO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},fp=e=>{if(e)return LO[e]},xm=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=oj.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=oj.get(i);if(a)return a}return null},Ou=e=>xm(e),$O=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=xm(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(LO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Qp=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=xm(i);if(a)return a}return e?xm(e):null},F8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},R8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},B8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},z8=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||F8,s=$O(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(b=>{if(!b.id)return;let x=`Skill ${b.id}`,w;r&&(r[`s${b.id}`]?(x=r[`s${b.id}`].name||x,w=r[`s${b.id}`].icon||w):r[`${b.id}`]&&(x=r[`${b.id}`].name||x,w=r[`${b.id}`].icon||w));const y=Qp(x,b.id,i);if(!y)return;const N=i==null?void 0:i[`b${b.id}`],C=N==null?void 0:N.name,S=s.get(y)||(N==null?void 0:N.icon),A=x.startsWith("Skill ")?C||y:x,O=w||(N==null?void 0:N.icon),R=Number(b.connectedHits??0),M=Number(b.hits??0),L=R>0?R:M,_=Number(b.totalDamage??0);if(!Number.isFinite(L)&&!Number.isFinite(_))return;const G=l[y]||{name:y,icon:S,applications:0,damage:0};G.applications+=Number.isFinite(L)?L:0,G.damage+=Number.isFinite(_)?_:0,!G.icon&&S&&(G.icon=S),l[y]=G;const ee=o[p][y]||{icon:S,applications:0,damage:0,skills:{}};ee.applications+=Number.isFinite(L)?L:0,ee.damage+=Number.isFinite(_)?_:0;const le=ee.skills[A]||{name:A,hits:0,damage:0,icon:O};le.hits+=Number.isFinite(L)?L:0,le.damage+=Number.isFinite(_)?_:0,!le.icon&&O&&(le.icon=O),ee.skills[A]=le,!ee.icon&&S&&(ee.icon=S),o[p][y]=ee})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&u.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const v=Number(p==null?void 0:p.id);if(!Number.isFinite(v))return;const b=i==null?void 0:i[`b${v}`],x=xm(b==null?void 0:b.name);if(!x||b!=null&&b.classification&&b.classification!=="Condition")return;const w=x;if(!w)return;const y=p.statesPerSource||{};h+=1,Object.entries(y).forEach(([N,C])=>{var L;const S=u.get(N);if(!S)return;f+=1;const A=R8(C),O=B8(C);d+=A;const R=((L=o[S])==null?void 0:L[w])||{applications:0,damage:0,skills:{}};R.applicationsFromBuffs=(R.applicationsFromBuffs||0)+A,R.applicationsFromBuffsActive=(R.applicationsFromBuffsActive||0)+O,o[S]=o[S]||{},o[S][w]=R;const M=l[w]||{name:w,applications:0,damage:0};M.applicationsFromBuffs=(M.applicationsFromBuffs||0)+A,M.applicationsFromBuffsActive=(M.applicationsFromBuffsActive||0)+O,l[w]=M})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Qc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},U8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Io(e){return Qc[e]||Qc.Unknown}function W8(e){return e?U8[e]||e:"Unknown"}function Ec(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Qc[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=W8(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const V8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},ti=(e,t)=>V8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),jf=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var v;return(Array.isArray((v=m==null?void 0:m.details)==null?void 0:v.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),l=r||Jy,u=n||_O,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const v=S=>Array.isArray(S)&&S.some(A=>A&&Number(A.count)>0),b=new Map,x=new Map;e.forEach(S=>{var R;const A=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);A&&b.set(String(A),S);const O=(S==null?void 0:S.permalink)||((R=S==null?void 0:S.details)==null?void 0:R.permalink);typeof O=="string"&&O.trim()&&x.set(O.trim(),S)});const w=p.map(S=>{var _;if(!S||typeof S!="object")return S;const A=S.id?String(S.id):"",O=typeof S.permalink=="string"?S.permalink.trim():"",R=(A?b.get(A):void 0)||(O?x.get(O):void 0);if(!R)return S;let M=S;if(Number(S.timestamp)<=0){const G=ti(R==null?void 0:R.details,R);G&&(M={...M,timestamp:G})}const L=(_=R==null?void 0:R.details)==null?void 0:_.teamBreakdown;return v(L)&&(M={...M,teamBreakdown:L}),M}),y=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],C=y.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(A=>Number((A==null?void 0:A.damage)||0)>0||Number((A==null?void 0:A.hits)||0)>0))?y:w.map((S,A)=>{const O=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},R=Object.entries(O).map(([K,P])=>({label:String(K||"Unknown"),count:Number(P||0)})).filter(K=>K.count>0).sort((K,P)=>P.count-K.count||K.label.localeCompare(P.label)),M=R.reduce((K,P)=>K+P.count,0),L=R.map(K=>({label:K.label,damage:K.count,hits:0,share:M>0?K.count/M:0})),_=Number((S==null?void 0:S.enemyDowns)||0),G=Number((S==null?void 0:S.enemyDeaths)||0),ee=Number((S==null?void 0:S.alliesDown)||0),le=Number((S==null?void 0:S.alliesDead)||0),ve=Number((S==null?void 0:S.totalOutgoingDamage)||0),Y=Number((S==null?void 0:S.totalIncomingDamage)||0),q=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:le>0?G/le:G},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:G},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:_},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:le},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:ee},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ve-Y},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ve},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Y},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${A+1}`),shortLabel:`F${A+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:L,squadMetrics:q}});return{...m,fightBreakdown:w,fightDiffMode:C}},f=(()=>{if(t)return d(t);const m=i||L8,p=a!==!1,v=l.topSkillDamageSource||"target",b=l.topSkillsMetric||"damage",x=o.length;let w=0,y=0,N=0,C=0,S=0,A=0,O=0,R=0;const M=T=>{const J=((T==null?void 0:T.players)||[]).filter(bt=>!bt.notInSquad);let ke=0,fe=0,Ue=0,Me=0;return J.forEach(bt=>{var me;const pt=(me=bt.defenses)==null?void 0:me[0];if(!pt)return;const It=Number(pt.downCount||0),He=Number(pt.deadCount||0);ke+=It+He,Ue+=He}),J.forEach(bt=>{!bt.statsTargets||bt.statsTargets.length===0||bt.statsTargets.forEach(pt=>{const It=pt==null?void 0:pt[0];if(!It)return;const He=Number(It.downed||0),me=Number(It.killed||0);fe+=He+me,Me+=me})}),{squadDownsDeaths:ke,enemyDownsDeaths:fe,squadDeaths:Ue,enemyDeaths:Me}},L=T=>{const{squadDownsDeaths:$,enemyDownsDeaths:J}=M(T);return $>0||J>0?J>$:typeof(T==null?void 0:T.success)=="boolean"?T.success:!1},_=new Map,G=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),ee={},le={},ve=new Map,Y={},q={},K={},P=new Map,D=new Map,re=new Set(Object.keys(Qc)),k=Object.keys(Qc).filter(T=>T&&T!=="Unknown").sort((T,$)=>$.length-T.length),W=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],V=T=>{if(!T)return"Unknown";const $=String(T).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(re.has($))return $;const J=$.toLowerCase();for(const fe of k)if(J.includes(fe.toLowerCase()))return fe;return W.find(fe=>J.includes(fe.toLowerCase()))||$||"Unknown"},ie=T=>T!=null&&T.classification?T.classification==="Boon":!0,ne=new Map,se=new Map,B=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),U=T=>{const $=Number(T);return Number.isFinite($)?$:0},H=T=>{const $=String(T).split("|"),J=$[0]||"Unknown",ke=V($[1]||"Unknown"),fe=$[2]||J||"Unknown";return{name:J,profession:ke,account:fe}},te=(T,$,J)=>{let ke=T.get($);return ke?J.profession&&!ke.professionList.includes(J.profession)&&ke.professionList.push(J.profession):(ke={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:B()},T.set($,ke)),ke},z=(T,$,J)=>{let ke=T.get($);return ke?J.profession&&!ke.professionList.includes(J.profession)&&ke.professionList.push(J.profession):(ke={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:B(),minion:J.minion},T.set($,ke)),ke},ue=(T,$)=>{T.totalHits+=U(($==null?void 0:$.skill_hits)??($==null?void 0:$.skillHits)),T.blocked+=U($==null?void 0:$.blocked),T.evaded+=U($==null?void 0:$.evaded),T.glanced+=U($==null?void 0:$.glanced),T.missed+=U($==null?void 0:$.missed),T.invulned+=U($==null?void 0:$.invulned),T.interrupted+=U($==null?void 0:$.interrupted),T.totalMitigation+=U(($==null?void 0:$.avoided_damage)??($==null?void 0:$.avoidedDamage)),T.minMitigation+=U(($==null?void 0:$.min_avoided_damage)??($==null?void 0:$.minAvoidedDamage))},Z=T=>Object.values(T).some($=>$>0),ae=new Map,Ke=T=>{const $=ae.get(T);if(!$)return{hasSkill:!1,avg:1,min:1,hits:0};const J=$.connectedHits||0,ke=J>0?$.totalDamage/J:0,fe=$.minCount>0?$.minTotal/$.minCount:0;return{hasSkill:!0,avg:ke,min:fe,hits:J}},Ye=new Map,be=new Map,F=(T,$,J)=>{const ke=T.get($)||B();return ke.totalHits+=J.totalHits,ke.blocked+=J.blocked,ke.evaded+=J.evaded,ke.glanced+=J.glanced,ke.missed+=J.missed,ke.invulned+=J.invulned,ke.interrupted+=J.interrupted,T.set($,ke),ke};o.forEach(T=>{const $=T.details;if(!$)return;($.targets||[]).forEach(ke=>{const fe=(ke==null?void 0:ke.totalDamageDist)||[],Ue=Array.isArray(fe)?fe[0]:null;Ue==null||Ue.forEach(Me=>{if(!(Me!=null&&Me.id))return;const bt=Number(Me.id),pt=ae.get(bt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};pt.totalDamage+=Number(Me.totalDamage||0),pt.connectedHits+=Number(Me.connectedHits||0);const It=Number.isFinite(Number(Me.min))?Number(Me.min):0;pt.minTotal+=It,pt.minCount+=1,ae.set(bt,pt)})})}),o.forEach(T=>{var Ze,nt;const $=T.details;if(!$)return;const J=$.players,ke=$.targets||[],fe=$.combatReplayMetaData||{},Ue=(fe==null?void 0:fe.inchToPixel)>0?fe.inchToPixel:1,Me=(fe==null?void 0:fe.pollingRate)>0?fe.pollingRate:1,bt=5e3,pt=de=>Array.isArray(de)?de.map(pe=>Array.isArray(pe)?[Number(pe[0]),Number(pe[1])]:null).filter(pe=>!!pe&&Number.isFinite(pe[0])):[];let It=[],He=$.durationMS||0,me=!1;const he=J.find(de=>(de==null?void 0:de.hasCommanderTag)&&!(de!=null&&de.notInSquad));(Ze=he==null?void 0:he.combatReplayData)!=null&&Ze.positions&&(It=he.combatReplayData.positions,pt(he.combatReplayData.dead).forEach(([pe])=>{pe>0&&(me=!0,He=Math.min(He,pe))}));const Je=de=>{var _e;const pe=(_e=de.statsAll)==null?void 0:_e[0];if((pe==null?void 0:pe.distToCom)!==void 0&&(pe==null?void 0:pe.distToCom)!=="Infinity")return Math.round(Number(pe.distToCom));if((pe==null?void 0:pe.stackDist)!==void 0)return Math.round(Number(pe.stackDist))||0;if(de.hasCommanderTag)return 0;const ot=de.combatReplayData;if(!(ot!=null&&ot.positions)||!It.length)return 0;const xt=ot.positions,we=pt(ot.dead),ce=pt(ot.down),Ot=Math.floor((ot.start||0)/Me);let De=0;if(we.length&&ce.length)for(const[ut]of we){if(ut<0)continue;const ft=Math.max(0,Math.floor(ut/Me))-Ot;for(const[it,We]of ce){if(ut!==We)continue;const mt=me&&it>He?Math.max(1,Math.floor(He/Me)):ft,ht=Math.max(0,Math.min(mt,xt.length,It.length));if(ht<=0)continue;let $t=0;for(let tn=0;tn<ht;tn++){const[pn,Sn]=xt[tn],[Dn,or]=It[tn];$t+=Math.hypot(pn-Dn,Sn-or)}De=Math.round($t/ht/Ue)}}return De},Se=J.filter(de=>!de.notInSquad);N+=Se.length,C+=ke.filter(de=>!de.isFake).length,_8(J,{durationMS:$.durationMS,buffMap:$.buffMap});const{squadDeaths:et,enemyDeaths:st}=M($);S+=et,A+=st,R+=et,O+=st,L($)?w++:y++;const Ne=$.skillMap?Number((nt=Object.keys($.skillMap).find(de=>{var pe,ot;return((ot=(pe=$.skillMap)==null?void 0:pe[de])==null?void 0:ot.name)==="Battle Standard"}))==null?void 0:nt.replace(/^s/,"")):null;J.forEach((de,pe)=>{var Zr,kr,lr,fs,Ci,cl,Fn,ms,ji,uc,Bn,dc,Jr;if(de.notInSquad)return;const ot=de.account||"Unknown",xt=ot!=="Unknown"?ot:de.name||"Unknown",we=de.name||"Unknown";_.has(xt)||_.set(xt,{name:we,account:xt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:de.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ce=_.get(xt);if(de.hasCommanderTag&&(ce.isCommander=!0),we!=="Unknown"&&ce.characterNames.add(String(we)),de.profession&&de.profession!=="Unknown"){ce.profession=de.profession,ce.professions.add(de.profession);const Qe=Array.isArray(de.activeTimes)&&typeof de.activeTimes[0]=="number"?de.activeTimes[0]:$.durationMS||0;ce.professionTimeMs[de.profession]=(ce.professionTimeMs[de.profession]||0)+Qe}ce.logsJoined++,ce.downContrib+=rj(de),ce.cleanses+=tj(de),ce.strips+=nj(de,m),ce.healing+=ij(de),ce.barrier+=aj(de),ce.cc+=sj(de,m),ce.stab+=de.stabGeneration||0;const Ot=Je(de);Ot<=bt&&(ce.totalDist+=Ot,ce.distCount++),(Zr=de.defenses)!=null&&Zr[0]&&(ce.dodges+=de.defenses[0].dodgeCount||0,ce.downs+=de.defenses[0].downCount||0,ce.deaths+=de.defenses[0].deadCount||0),$.durationMS&&(ce.totalFightMs+=$.durationMS);const De=Array.isArray(de.activeTimes)&&typeof de.activeTimes[0]=="number"?de.activeTimes[0]:$.durationMS||0;ce.squadActiveMs+=De;const _e=ti($,T),ut=Number(($==null?void 0:$.durationMS)||0);if(_e>0&&((ce.firstSeenFightTs<=0||_e<ce.firstSeenFightTs)&&(ce.firstSeenFightTs=_e),ce.lastSeenFightTs<=0||_e>ce.lastSeenFightTs?(ce.lastSeenFightTs=_e,ce.lastSeenFightDurationMs=ut):_e===ce.lastSeenFightTs&&ut>ce.lastSeenFightDurationMs&&(ce.lastSeenFightDurationMs=ut)),ce.defenseActiveMs+=De,ce.supportActiveMs+=De,ce.healingActiveMs+=De,Array.isArray(de.buffUptimes)&&de.buffUptimes.length>0&&de.buffUptimes.forEach(Qe=>{var Dh,Th,Mh,Eh,Oh,zs;if(typeof(Qe==null?void 0:Qe.id)!="number")return;const Re=`b${Qe.id}`,$e=((Dh=$.buffMap)==null?void 0:Dh[Re])||((Th=$.buffMap)==null?void 0:Th[String(Qe.id)]);if(!$e||ie($e))return;const Be=Number(((Eh=(Mh=Qe.buffData)==null?void 0:Mh[0])==null?void 0:Eh.uptime)??0),gt=Number(((zs=(Oh=Qe.buffData)==null?void 0:Oh[0])==null?void 0:zs.presence)??0);if((!Number.isFinite(Be)||Be<=0)&&(!Number.isFinite(gt)||gt<=0))return;const Ft=($e==null?void 0:$e.stacking)??!1,Wn=(Ft?Number.isFinite(Be)?Be:0:Number.isFinite(Be)?Be/100:0)*De,Vn=Ft?gt:Be,ei=Math.min(Math.max(Number.isFinite(Vn)?Vn:0,0),100)/100*De,Tn=Number.isFinite(Wn)&&Wn>0,uo=Number.isFinite(ei)&&ei>0;if(!Tn&&!uo)return;const Wr=Ou($e==null?void 0:$e.name);if(Wr&&HU.has(Wr)&&(!($e!=null&&$e.classification)||$e.classification==="Condition")){const dl=Wn/1e3,Li=$e==null?void 0:$e.icon,fo=Y[Wr]||{name:Wr,icon:Li,applications:0,damage:0};fo.applicationsFromUptime=(fo.applicationsFromUptime||0)+dl,!fo.icon&&Li&&(fo.icon=Li),Y[Wr]=fo;const Yi=ce.outgoingConditions[Wr]||{applications:0,damage:0,skills:{},icon:Li};Yi.applicationsFromUptime=(Yi.applicationsFromUptime||0)+dl,!Yi.icon&&Li&&(Yi.icon=Li),ce.outgoingConditions[Wr]=Yi;const mo=q[Wr]||{name:Wr,icon:Li,applications:0,damage:0};mo.applicationsFromUptime=(mo.applicationsFromUptime||0)+dl,!mo.icon&&Li&&(mo.icon=Li),q[Wr]=mo;const fc=ce.incomingConditions[Wr]||{applications:0,damage:0,skills:{},icon:Li};fc.applicationsFromUptime=(fc.applicationsFromUptime||0)+dl,!fc.icon&&Li&&(fc.icon=Li),ce.incomingConditions[Wr]=fc}P.has(Re)||P.set(Re,{name:$e==null?void 0:$e.name,stacking:Ft,icon:$e==null?void 0:$e.icon}),D.has(Re)||D.set(Re,new Map);const Ph=D.get(Re),Kd=ce.account||de.account||de.name||"Unknown";let Ai=Ph.get(Kd);Ai||(Ai={account:Kd,profession:ce.profession||de.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Ph.set(Kd,Ai));const ul=de.profession||ce.profession;ul&&ul!=="Unknown"&&(Ai.professions.add(ul),Ai.professionTimeMs[ul]=(Ai.professionTimeMs[ul]||0)+De,Ai.profession=ul),Ai.totalMs+=Tn?Wn:0,Ai.uptimeMs+=uo?ei:0,Ai.durationMs+=De}),(kr=de.defenses)!=null&&kr[0]){const Qe=Be=>{let gt=String(Be||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return gt.toUpperCase().includes("UNKNOWN")&&(gt="Unknown"),gt},$e=(()=>{const Be=Array.isArray(de==null?void 0:de.minions)?de.minions:[];if(Be.length===0)return{total:0,byMinion:{}};let gt=0;const Ft={};return Be.forEach(wn=>{const Wn=Array.isArray(wn==null?void 0:wn.totalDamageTakenDist)?wn.totalDamageTakenDist:[],Vn=Array.isArray(Wn[0])?Wn[0]:[],vn=Qe(wn==null?void 0:wn.name);Vn.forEach(ei=>{const Tn=Number((ei==null?void 0:ei.totalDamage)??(ei==null?void 0:ei.damageTaken)??0);Number.isFinite(Tn)&&(gt+=Tn,Ft[vn]=(Ft[vn]||0)+Tn)})}),{total:gt,byMinion:Ft}})();$e.byMinion&&typeof $e.byMinion=="object"&&Object.entries($e.byMinion).forEach(([Be,gt])=>{const Ft=Number(gt||0);!Number.isFinite(Ft)||Ft<=0||(ce.defenseMinionDamageTaken[Be]=(ce.defenseMinionDamageTaken[Be]||0)+Ft)}),wO.forEach(Be=>{const gt=Be.id==="minionDamageTaken"?$e.total:Number(de.defenses[0][Be.field]??0);Number.isFinite(gt)&&(ce.defenseTotals[Be.id]=(ce.defenseTotals[Be.id]||0)+gt)})}(lr=de.support)!=null&&lr[0]&&kO.forEach(Qe=>{let Re=Number(de.support[0][Qe.field]??0);Number.isFinite(Re)&&(G.has(Qe.field)&&Re>999999&&(Re=0),ce.supportTotals[Qe.id]=(ce.supportTotals[Qe.id]||0)+Re)});const ft=(Qe,Re)=>{Number.isFinite(Re)&&(ce.healingTotals[Qe]=(ce.healingTotals[Qe]||0)+Re)},it=(Qe,Re)=>Array.isArray(Qe)?Qe.reduce(($e,Be)=>$e+Number((Be==null?void 0:Be[Re])??0),0):0,We=(Qe,Re,$e)=>{if(!Number.isFinite($e)||$e<=0)return;const Be=J[Re],gt=Re===pe,Ft=Be==null?void 0:Be.notInSquad,wn=!Ft,Wn=wn&&(Be==null?void 0:Be.group)!=null&&Be.group===de.group;ft(Qe,$e),wn&&ft(`squad${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),Wn&&ft(`group${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),gt&&ft(`self${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),Ft&&ft(`offSquad${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e)};if(Array.isArray(de.rotation)){let Qe=0;de.rotation.forEach(Re=>{var Be;if(!(Re!=null&&Re.id)||!XU(Re.id,$.skillMap))return;const $e=((Be=Re.skills)==null?void 0:Be.length)||0;$e>0&&(Qe+=$e,ft(`resUtility_s${Re.id}`,$e))}),Qe>0&&ft("resUtility",Qe)}const mt=(fs=de.extHealingStats)==null?void 0:fs.outgoingHealingAllies;Array.isArray(mt)&&mt.forEach((Qe,Re)=>{const $e=it(Qe,"healing"),Be=it(Qe,"downedHealing");We("healing",Re,$e),We("downedHealing",Re,Be)});const ht=(Ci=de.extBarrierStats)==null?void 0:Ci.outgoingBarrierAllies;Array.isArray(ht)&&ht.forEach((Qe,Re)=>{const $e=it(Qe,"barrier");We("barrier",Re,$e)});const $t=(cl=de.statsAll)==null?void 0:cl[0],tn=(Fn=de.dpsAll)==null?void 0:Fn[0],pn=(ms=de.support)==null?void 0:ms[0];if(yO.forEach(Qe=>{if(Qe.id==="downContributionPercent"||!Qe.field)return;let Re=0,$e=0;Qe.source==="dpsAll"&&tn?Re=Number(tn[Qe.field]??0):Qe.source==="statsAll"&&$t?(Re=Number($t[Qe.field]??0),$e=Number($t[Qe.denomField||Qe.weightField||"connectedDamageCount"]??0)):Qe.source==="support"&&pn?Re=Number(pn[Qe.field]??0):de.statsTargets&&de.statsTargets.forEach(Be=>{Be!=null&&Be[0]&&(Re+=Number(Be[0][Qe.field]??0),$e+=Number(Be[0][Qe.denomField||Qe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Re)&&(ce.offenseTotals[Qe.id]=(ce.offenseTotals[Qe.id]||0)+Re,Qe.isRate&&$e>0&&(ce.offenseRateWeights[Qe.id]=(ce.offenseRateWeights[Qe.id]||0)+$e))}),de.targetDamageDist&&Number.isFinite(Ne)){const Qe=de.targetDamageDist.flatMap(Re=>Re||[]).flatMap(Re=>Re||[]).reduce((Re,$e)=>$e!=null&&$e.id&&$e.id===Ne?Re+(($e==null?void 0:$e.connectedHits)||0):Re,0);ce.offenseTotals.battleStandardHits=(ce.offenseTotals.battleStandardHits||0)+Qe}ce.revives+=((uc=(ji=de.support)==null?void 0:ji[0])==null?void 0:uc.resurrects)||0,tn&&(ce.damage+=tn.damage||0,ce.dps+=tn.dps||0);const Sn=Qe=>{var gt,Ft,wn,Wn;let Re=`Skill ${Qe.id}`;const $e=((gt=$.skillMap)==null?void 0:gt[`s${Qe.id}`])||((Ft=$.skillMap)==null?void 0:Ft[`${Qe.id}`]);let Be=$e==null?void 0:$e.icon;if($e!=null&&$e.name&&(Re=$e.name),Re.startsWith("Skill ")){const Vn=Qp(Re,Qe.id,$.buffMap);Vn&&(Re=Vn,Be=((Wn=(wn=$.buffMap)==null?void 0:wn[`b${Qe.id}`])==null?void 0:Wn.icon)||Be)}return{name:Re,icon:Be}},Dn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Re,icon:$e}=Sn(Qe);ee[Qe.id]||(ee[Qe.id]={name:Re,icon:$e,damage:0,hits:0,downContribution:0}),ee[Qe.id].name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(ee[Qe.id].name=Re),!ee[Qe.id].icon&&$e&&(ee[Qe.id].icon=$e),ee[Qe.id].damage+=Qe.totalDamage,ee[Qe.id].hits+=Qe.connectedHits,ee[Qe.id].downContribution+=Number(Qe.downContribution||0)},or=de.account||de.name||"Unknown",On=de.profession||"Unknown",Mr=`${or}|${On}`;let pr=ve.get(Mr);pr||(pr={key:Mr,account:or,displayName:or,profession:On,professionList:[On],totalFightMs:0,skills:new Map},ve.set(Mr,pr)),pr.professionList.includes(On)||pr.professionList.push(On),pr.totalFightMs+=$.durationMS||0;const Yn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Re,icon:$e}=Sn(Qe),Be=`s${Qe.id}`;let gt=pr.skills.get(Be);gt||(gt={id:Be,name:Re,icon:$e,damage:0,downContribution:0},pr.skills.set(Be,gt)),gt.name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(gt.name=Re),!gt.icon&&$e&&(gt.icon=$e),gt.damage+=Number(Qe.totalDamage||0),gt.downContribution+=Number(Qe.downContribution||0)};if(v==="total")(Bn=de.totalDamageDist)==null||Bn.forEach(Qe=>{Qe==null||Qe.forEach(Re=>{Dn(Re),Yn(Re)})});else{const Qe=new Map;(dc=de.targetDamageDist)==null||dc.forEach($e=>{$e==null||$e.forEach(Be=>{Be==null||Be.forEach(gt=>{const Ft=Number(gt==null?void 0:gt.id);if(Number.isFinite(Ft)){const wn=Qe.get(Ft)||{damage:0,hits:0,downContribution:0};wn.damage+=Number((gt==null?void 0:gt.totalDamage)||0),wn.hits+=Number((gt==null?void 0:gt.connectedHits)||0),wn.downContribution+=Number((gt==null?void 0:gt.downContribution)||0),Qe.set(Ft,wn)}Dn(gt),Yn(gt)})})}),!($!=null&&$.detailedWvW)&&((Jr=de.totalDamageDist)==null||Jr.forEach($e=>{$e==null||$e.forEach(Be=>{const gt=Number(Be==null?void 0:Be.id);if(!Number.isFinite(gt))return;const Ft=Qe.get(gt);if(!Ft){Dn(Be),Yn(Be);return}const wn=Number((Be==null?void 0:Be.totalDamage)||0),Wn=Number((Be==null?void 0:Be.connectedHits)||0),Vn=Number((Be==null?void 0:Be.downContribution)||0),vn=wn-Number(Ft.damage||0),ei=Wn-Number(Ft.hits||0),Tn=Vn-Number(Ft.downContribution||0);if(vn<=0&&ei<=0&&Tn<=0)return;const uo={...Be,totalDamage:Math.max(0,vn),connectedHits:Math.max(0,ei),downContribution:Math.max(0,Tn)};Dn(uo),Yn(uo)})}))}de.totalDamageTaken&&de.totalDamageTaken.forEach(Qe=>{Qe==null||Qe.forEach(Re=>{var Ft,wn,Wn,Vn;if(!(Re!=null&&Re.id))return;let $e=`Skill ${Re.id}`;const Be=((Ft=$.skillMap)==null?void 0:Ft[`s${Re.id}`])||((wn=$.skillMap)==null?void 0:wn[`${Re.id}`]);let gt=Be==null?void 0:Be.icon;if(Be!=null&&Be.name&&($e=Be.name),$e.startsWith("Skill ")){const vn=Qp($e,Re.id,$.buffMap);vn&&($e=vn,gt=((Vn=(Wn=$.buffMap)==null?void 0:Wn[`b${Re.id}`])==null?void 0:Vn.icon)||gt)}le[Re.id]||(le[Re.id]={name:$e,icon:gt,damage:0,hits:0}),(!le[Re.id].name.startsWith("Skill ")||$e.startsWith("Skill "))&&(le[Re.id].name=$e),!le[Re.id].icon&&gt&&(le[Re.id].icon=gt),le[Re.id].damage+=Re.totalDamage,le[Re.id].hits+=Re.hits})})}),ke.forEach(de=>{if(de!=null&&de.isFake)return;const pe=V((de==null?void 0:de.profession)||(de==null?void 0:de.name)||(de==null?void 0:de.id));pe&&(K[pe]=(K[pe]||0)+1)});const Ie=z8({players:J,targets:ke,skillMap:$.skillMap,buffMap:$.buffMap,getPlayerKey:de=>de.account&&de.account!=="Unknown"?de.account:de.name||null}),Oe=$O($.buffMap);Object.entries(Ie.playerConditions).forEach(([de,pe])=>{const ot=_.get(de);ot&&Object.entries(pe).forEach(([xt,we])=>{const ce=ot.outgoingConditions[xt]||{applications:0,damage:0,skills:{},icon:we.icon};ce.applications+=Number(we.applications||0),ce.damage+=Number(we.damage||0),we.applicationsFromBuffs&&(ce.applicationsFromBuffs=(ce.applicationsFromBuffs||0)+we.applicationsFromBuffs),we.applicationsFromBuffsActive&&(ce.applicationsFromBuffsActive=(ce.applicationsFromBuffsActive||0)+we.applicationsFromBuffsActive),Object.entries(we.skills||{}).forEach(([Ot,De])=>{const _e=ce.skills[Ot]||{name:De.name,hits:0,damage:0,icon:De.icon};_e.hits+=Number(De.hits||0),_e.damage+=Number(De.damage||0),!_e.icon&&De.icon&&(_e.icon=De.icon),ce.skills[Ot]=_e}),!ce.icon&&we.icon&&(ce.icon=we.icon),ot.outgoingConditions[xt]=ce})}),Object.entries(Ie.summary).forEach(([de,pe])=>{const ot=Y[de]||{name:pe.name||de,icon:pe.icon,applications:0,damage:0};ot.applications+=Number(pe.applications||0),ot.damage+=Number(pe.damage||0),pe.applicationsFromBuffs&&(ot.applicationsFromBuffs=(ot.applicationsFromBuffs||0)+pe.applicationsFromBuffs),pe.applicationsFromBuffsActive&&(ot.applicationsFromBuffsActive=(ot.applicationsFromBuffsActive||0)+pe.applicationsFromBuffsActive),!ot.icon&&pe.icon&&(ot.icon=pe.icon),Y[de]=ot}),Se.forEach(de=>{const pe=de.account&&de.account!=="Unknown"?de.account:de.name||"Unknown",ot=_.get(pe);!ot||!de.totalDamageTaken||de.totalDamageTaken.forEach(xt=>xt==null?void 0:xt.forEach(we=>{var tn,pn,Sn,Dn,or,On;if(!(we!=null&&we.id))return;let ce=`Skill ${we.id}`;const Ot=((tn=$.skillMap)==null?void 0:tn[`s${we.id}`])||((pn=$.skillMap)==null?void 0:pn[`${we.id}`]);Ot!=null&&Ot.name&&(ce=Ot.name);const De=Qp(ce,we.id,$.buffMap);if(!De)return;const _e=(Dn=(Sn=$.buffMap)==null?void 0:Sn[`b${we.id}`])==null?void 0:Dn.name,ut=Oe.get(De)||((On=(or=$.buffMap)==null?void 0:or[`b${we.id}`])==null?void 0:On.icon),ft=(Ot==null?void 0:Ot.icon)||ut;ce.startsWith("Skill ")&&(_e||De)&&(ce=_e||De);const it=Number(we.hits??0),We=Number(we.totalDamage??0),mt=q[De]||{name:De,icon:ut,applications:0,damage:0};mt.applications+=Number.isFinite(it)?it:0,mt.damage+=Number.isFinite(We)?We:0,!mt.icon&&ut&&(mt.icon=ut),q[De]=mt;const ht=ot.incomingConditions[De]||{applications:0,damage:0,skills:{},icon:ut};ht.applications+=Number.isFinite(it)?it:0,ht.damage+=Number.isFinite(We)?We:0;const $t=ht.skills[ce]||{name:ce,hits:0,damage:0,icon:ft};$t.hits+=Number.isFinite(it)?it:0,$t.damage+=Number.isFinite(We)?We:0,!$t.icon&&ft&&($t.icon=ft),ht.skills[ce]=$t,!ht.icon&&ut&&(ht.icon=ut),ot.incomingConditions[De]=ht}))});const Ve=$.player_damage_mitigation||$.playerDamageMitigation,Ge=Ve&&typeof Ve=="object"&&Object.keys(Ve).length>0;Ge&&Object.entries(Ve).forEach(([de,pe])=>{if(!pe||typeof pe!="object")return;const ot=H(de),xt=te(ne,ot.account,ot);Object.values(pe).forEach(we=>{U((we==null?void 0:we.avoided_damage)??(we==null?void 0:we.avoidedDamage))<=0||ue(xt.mitigationTotals,we)})});const ze=$.player_minion_damage_mitigation||$.playerMinionDamageMitigation,ye=ze&&typeof ze=="object"&&Object.keys(ze).length>0;ye&&Object.entries(ze).forEach(([de,pe])=>{if(!pe||typeof pe!="object")return;const ot=H(de);Object.entries(pe).forEach(([xt,we])=>{if(!we||typeof we!="object")return;const ce=`${ot.account}::${xt}`,Ot=z(se,ce,{...ot,minion:String(xt||"Unknown")});Object.values(we).forEach(De=>{ue(Ot.mitigationTotals,De)})})}),(!Ge||!ye)&&(Ge||Se.forEach(de=>{const pe=(de==null?void 0:de.totalDamageTaken)||[];if(!Array.isArray(pe)||pe.length===0)return;const ot=de.account||de.name||"Unknown",xt={account:ot,name:de.name||ot,profession:V(de.profession||"Unknown")};te(ne,ot,xt);const we=Array.isArray(pe)?pe[0]:null;we==null||we.forEach(ce=>{if(!(ce!=null&&ce.id))return;const Ot=U(ce.blocked),De=U(ce.evaded),_e=U(ce.glance??ce.glanced),ut=U(ce.missed),ft=U(ce.invulned),it=U(ce.interrupted),We=U(ce.hits??ce.connectedHits),mt=Number(ce.id);F(Ye,`${ot}::${mt}`,{totalHits:We,blocked:Ot,evaded:De,glanced:_e,missed:ut,invulned:ft,interrupted:it})})}),ye||Se.forEach(de=>{const pe=(de==null?void 0:de.minions)||[];if(!Array.isArray(pe)||pe.length===0)return;const ot=de.account||de.name||"Unknown",xt={account:ot,name:de.name||ot,profession:V(de.profession||"Unknown")};pe.forEach(we=>{const ce=(we==null?void 0:we.totalDamageTakenDist)||[];if(!Array.isArray(ce)||ce.length===0)return;let Ot=String((we==null?void 0:we.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Ot.toUpperCase().includes("UNKNOWN")&&(Ot="Unknown");const De=`${ot}::${Ot}`;z(se,De,{...xt,minion:Ot});const _e=Array.isArray(ce)?ce[0]:null;_e==null||_e.forEach(ut=>{if(!(ut!=null&&ut.id))return;const ft=U(ut.blocked),it=U(ut.evaded),We=U(ut.glance??ut.glanced),mt=U(ut.missed),ht=U(ut.invulned),$t=U(ut.interrupted),tn=U(ut.hits??ut.connectedHits),pn=Number(ut.id);F(be,`${De}::${pn}`,{totalHits:tn,blocked:ft,evaded:it,glanced:We,missed:mt,invulned:ht,interrupted:$t})})})}))});const Ee=(T,$)=>{const J=new Map,ke=fe=>{let Ue=J.get(fe);return Ue||(Ue=B(),J.set(fe,Ue)),Ue};$.forEach((fe,Ue)=>{const Me=Ue.lastIndexOf("::"),bt=Me>-1?Ue.slice(0,Me):Ue,pt=Me>-1?Number(Ue.slice(Me+2)):Number.NaN,It=Number.isFinite(pt)?Ke(pt):{hasSkill:!1,avg:0,min:0,hits:0};if(!It.hasSkill||It.hits<=0)return;const He=It.avg,me=It.min,he=fe.glanced*He/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*He,Je=fe.glanced*me/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*me;if(he<=0)return;const Se=ke(bt);Se.totalHits+=fe.totalHits,Se.blocked+=fe.blocked,Se.evaded+=fe.evaded,Se.glanced+=fe.glanced,Se.missed+=fe.missed,Se.invulned+=fe.invulned,Se.interrupted+=fe.interrupted,Se.totalMitigation+=he,Se.minMitigation+=Je}),T.forEach((fe,Ue)=>{const Me=J.get(Ue)||B();fe.mitigationTotals.totalHits=Me.totalHits,fe.mitigationTotals.blocked=Me.blocked,fe.mitigationTotals.evaded=Me.evaded,fe.mitigationTotals.glanced=Me.glanced,fe.mitigationTotals.missed=Me.missed,fe.mitigationTotals.invulned=Me.invulned,fe.mitigationTotals.interrupted=Me.interrupted,fe.mitigationTotals.totalMitigation=Me.totalMitigation,fe.mitigationTotals.minMitigation=Me.minMitigation})};Ee(ne,Ye),Ee(se,be);const Le=x>0?Math.round(N/x):0,wt=x>0?Math.round(C/x):0,Wt=S>0?(A/S).toFixed(2):A>0?"":"0.00",mn=O>0?(R/O).toFixed(2):R>0?"":"0.00",Pe=(T,$)=>{const ke=T.filter(Me=>Number.isFinite(Me.value)&&($?Me.value>0:Me.value>=0)).sort((Me,bt)=>{const pt=$?bt.value-Me.value:Me.value-bt.value;return pt!==0?pt:Me.account.localeCompare(bt.account)});let fe=null,Ue=0;return ke.map((Me,bt)=>((fe===null||Me.value!==fe)&&(Ue=bt+1,fe=Me.value),{rank:Ue,...Me}))},rt=Array.from(_.values()).map(T=>{const $=Array.from(T.professions).filter(J=>J!=="Unknown");if(T.professionList=$,$.length>0){let J=$[0],ke=T.professionTimeMs[J]||0;$.forEach(fe=>{const Ue=T.professionTimeMs[fe]||0;Ue>ke&&(ke=Ue,J=fe)}),T.profession=J}return{key:T.account,stat:T}}),Lt=T=>{const $=_.get(T.account);if(!$){const fe=T.professionList.length>0?T.professionList:T.profession?[T.profession]:[];return{...T,professionList:fe}}const J=$.professionList&&$.professionList.length>0?$.professionList:Array.from($.professions||[]).filter(fe=>fe&&fe!=="Unknown"),ke=$.profession||T.profession;return{...T,profession:ke,professionList:J.length>0?J:ke?[ke]:[],activeMs:$.defenseActiveMs||$.totalFightMs||T.activeMs}},sn=Array.from(ne.values()).map(Lt).filter(T=>Z(T.mitigationTotals)).sort((T,$)=>T.account.localeCompare($.account)),Zt=Array.from(se.values()).map(Lt).filter(T=>T.mitigationTotals.totalMitigation>0).sort((T,$)=>{const J=T.account.localeCompare($.account);return J!==0?J:String(T.minion||"").localeCompare(String($.minion||""))}),Tr=(T,$)=>{switch($){case"downContrib":return T.downContrib;case"barrier":return T.barrier;case"healing":return T.healing;case"dodges":return T.dodges;case"strips":return T.strips;case"cleanses":return T.cleanses;case"cc":return T.cc;case"stability":return T.stab;case"revives":return T.revives;case"dps":return T.dps;case"damage":return T.damage;case"participation":return T.logsJoined;case"closestToTag":return!T.isCommander&&T.distCount>0?T.totalDist/T.distCount:Number.POSITIVE_INFINITY;default:return 0}},Rn=(T,$)=>Pe(rt.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:Tr(J,T),count:J.logsJoined})),$),un={downContrib:Rn("downContrib",!0),barrier:Rn("barrier",!0),healing:Rn("healing",!0),dodges:Rn("dodges",!0),strips:Rn("strips",!0),cleanses:Rn("cleanses",!0),cc:Rn("cc",!0),stability:Rn("stability",!0),revives:Rn("revives",!0),participation:Rn("participation",!0),dps:Rn("dps",!0),damage:Rn("damage",!0),closestToTag:Rn("closestToTag",!1).filter(T=>Number.isFinite(T.value))},ds={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},hn=T=>{const $=T==null?void 0:T[0];return{value:($==null?void 0:$.value)??0,player:($==null?void 0:$.account)??"-",count:($==null?void 0:$.count)??0,profession:($==null?void 0:$.profession)??"Unknown",professionList:($==null?void 0:$.professionList)??[]}},kn={maxDownContrib:hn([]),maxBarrier:hn([]),maxHealing:hn([]),maxDodges:hn([]),maxStrips:hn([]),maxCleanses:hn([]),maxCC:hn([]),maxStab:hn([]),closestToTag:hn([])},Nn={},_i=(T,$)=>{if($==="closestToTag")return Tr(T,$);const J=Math.max(1,(T.totalFightMs||0)/1e3);return Tr(T,$)/J};Object.values(ds).forEach(T=>{const $=T!=="closestToTag";Nn[T]=Pe(rt.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:_i(J,T),count:J.logsJoined})),$)}),kn.maxDownContrib=hn(Nn.downContrib),kn.maxBarrier=hn(Nn.barrier),kn.maxHealing=hn(Nn.healing),kn.maxDodges=hn(Nn.dodges),kn.maxStrips=hn(Nn.strips),kn.maxCleanses=hn(Nn.cleanses),kn.maxCC=hn(Nn.cc),kn.maxStab=hn(Nn.stability),kn.closestToTag=hn(Nn.closestToTag);const Ur={maxDownContrib:hn(un.downContrib),maxBarrier:hn(un.barrier),maxHealing:hn(un.healing),maxDodges:hn(un.dodges),maxStrips:hn(un.strips),maxCleanses:hn(un.cleanses),maxCC:hn(un.cc),maxStab:hn(un.stability),closestToTag:hn(un.closestToTag)};let Lr={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},pu,co,sl=0;if(l!=null&&l.showMvp){const T={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},$=Ue=>{const Me=T[Ue];return Me?Number(u[Me]||0)>0:!1},J=[],ke=Ue=>[...Ue||[]].filter(Me=>$(Me==null?void 0:Me.name)).sort((Me,bt)=>bt.ratio-Me.ratio||Me.rank-bt.rank||Me.name.localeCompare(bt.name)).slice(0,3),fe=Ue=>{var bt;if(!Ue)return;const Me=ke(Ue.contribs);return{...Ue,player:Ue.name,reason:((bt=Me[0])==null?void 0:bt.name)||"Top Performance",topStats:Me}};rt.forEach(({stat:Ue})=>{let Me=0;const bt=[],pt=(It,He,me,he,Je=!0)=>{var et,st;if(me<=0)return;const Se=((et=He[0])==null?void 0:et.value)||0;if(Se&&Number.isFinite(It)&&(Je?It>0:It<Number.POSITIVE_INFINITY)){const yt=Je?It/Se:Se/It;Me+=yt*me;const Ne=((st=He.find(Ie=>Ie.account===Ue.account))==null?void 0:st.rank)||0;bt.push({name:he,ratio:yt,val:It.toLocaleString(),rank:Ne})}};pt(Ue.downContrib,un.downContrib,u.downContribution,"Down Contribution"),pt(Ue.healing,un.healing,u.healing,"Healing"),pt(Ue.cleanses,un.cleanses,u.cleanses,"Cleanses"),pt(Ue.strips,un.strips,u.strips,"Strips"),pt(Ue.stab,un.stability,u.stability,"Stability"),pt(Ue.cc,un.cc,u.cc,"CC"),pt(Ue.revives,un.revives,u.revives,"Revives"),pt(Tr(Ue,"closestToTag"),un.closestToTag,u.distanceToTag,"Distance to Tag",!1),pt(Ue.logsJoined,un.participation,u.participation,"Participation"),pt(Ue.dodges,un.dodges,u.dodging,"Dodging"),pt(Ue.dps,un.dps,u.dps,"DPS"),pt(Ue.damage,un.damage,u.damage,"Damage"),J.push({...Ue,score:Me,contribs:bt.filter(It=>$(It.name))})}),J.sort((Ue,Me)=>Me.score-Ue.score),J[0]&&J[0].score>0&&(Lr=fe(J[0])||Lr),pu=fe(J[1]),co=fe(J[2]),sl=J.length>0?J.reduce((Ue,Me)=>Ue+Me.score,0)/J.length:0}const ci=Object.values(ee).sort((T,$)=>$.damage-T.damage||$.hits-T.hits||String(T.name||"").localeCompare(String($.name||""))).slice(0,25),Fs=Object.values(ee).sort((T,$)=>$.downContribution-T.downContribution||$.hits-T.hits||String(T.name||"").localeCompare(String($.name||""))).slice(0,25),sr=b==="downContribution"?Fs:ci,ya=Object.values(le).sort((T,$)=>$.damage-T.damage).slice(0,25),ui=T=>{const $=String(T).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),J=$.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return J?`${J[1]} Borderlands`:$||"Unknown"},wa=(T,$)=>ui((T==null?void 0:T.zone)||(T==null?void 0:T.mapName)||(T==null?void 0:T.map)||(T==null?void 0:T.location)||(T==null?void 0:T.fightName)||($==null?void 0:$.fightName)||($==null?void 0:$.encounterName)||"Unknown"),Rs=(T,$)=>{const J=($==null?void 0:$.permalink)||(T==null?void 0:T.permalink);if(typeof J=="string"&&J.trim().length>0)return J.trim();const ke=T==null?void 0:T.uploadLinks;if(!Array.isArray(ke))return"";for(const fe of ke){if(typeof fe=="string"&&fe.trim().length>0)return fe.trim();if(fe&&typeof fe=="object"){const Ue=fe.permalink||fe.link||fe.url||fe.reportLink;if(typeof Ue=="string"&&Ue.trim().length>0)return Ue.trim()}}return""},gu=(T,$)=>{const J=Number((T==null?void 0:T.durationMS)||0);return J>0?dp(J):(typeof($==null?void 0:$.encounterDuration)=="string"?$.encounterDuration.trim():"")||"--:--"},er=(T,$)=>{if((Array.isArray(T==null?void 0:T.players)?T.players:[]).length>0)return L(T);if(typeof(T==null?void 0:T.success)=="boolean")return T.success;const ke=$==null?void 0:$.dashboardSummary;if(ke&&typeof ke=="object"){if(ke.isWin===!0)return!0;if(ke.isWin===!1)return!1}return null},ka=(T,$)=>{var Me,bt;const J=ti((Me=T.log)==null?void 0:Me.details,T.log),ke=ti((bt=$.log)==null?void 0:bt.details,$.log),fe=J>0,Ue=ke>0;return fe&&Ue&&J!==ke?J-ke:fe!==Ue?fe?-1:1:T.originalIndex-$.originalIndex},oa=e.map((T,$)=>({log:T,originalIndex:$})).sort(ka),xu=oa.filter(({log:T})=>s(T)),Bs={};o.forEach(T=>{const $=wa(T==null?void 0:T.details,T);Bs[$]=(Bs[$]||0)+1});const vu=Object.entries(Bs).map(([T,$])=>{const J=String(T).trim(),ke=/eternal battlegrounds|^ebg$/i.test(J);let fe="#64748b";return ke?fe="#ffffff":/red/i.test(J)?fe="#ef4444":/blue/i.test(J)?fe="#3b82f6":/green/i.test(J)&&(fe="#22c55e"),{name:T,value:$,color:fe}}).sort((T,$)=>$.value-T.value),{boonTables:Sa}=N8(o),cc=(()=>{const T=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=me=>T(me).toLowerCase().split(/[^a-z0-9]+/i).map(he=>he.trim()).filter(Boolean).map(he=>he.length>3&&he.endsWith("s")?he.slice(0,-1):he),J=(me,he)=>{const Je=T(me),Se=T(he);if(!Se)return Je;if(!Je)return Se;const et=$(Je),st=$(Se),yt=new Set(et),Ne=new Set(st),Ie=st.length>0&&st.every(Ve=>yt.has(Ve)),Oe=et.length>0&&et.every(Ve=>Ne.has(Ve));return Ie||Oe?Je:`${Je} - ${Se}`},ke=new Map,fe=(me,he)=>{if(!ke.has(me))ke.set(me,{id:me,name:String((he==null?void 0:he.name)||me),icon:he==null?void 0:he.icon,stacking:!!(he!=null&&he.stacking),players:new Map,fights:[]});else if(he){const Je=ke.get(me);(!Je.name||Je.name===me)&&(he!=null&&he.name)&&(Je.name=String(he.name)),!Je.icon&&(he!=null&&he.icon)&&(Je.icon=String(he.icon)),!Je.stacking&&(he!=null&&he.stacking)&&(Je.stacking=!0)}return ke.get(me)},Ue=me=>Array.isArray(me)?me.map(he=>Array.isArray(he)?[Number(he[0]),Number(he[1])]:he&&typeof he=="object"?[Number(he.time),Number(he.value)]:null).filter(he=>!!he&&Number.isFinite(he[0])&&Number.isFinite(he[1])&&he[0]>=0).sort((he,Je)=>he[0]-Je[0]):[],Me=(me,he,Je)=>{const Se=me.get(he)||[];Se.length<Je&&(Se.length=Je);for(let et=0;et<Je;et+=1)Number.isFinite(Se[et])||(Se[et]=0);return me.set(he,Se),Se},bt=(me,he,Je,Se,et)=>{if(!he||he==="__all__"||Se<=0)return;const st=Ue(Je);if(st.length===0)return;const yt=Me(me,he,Se),Ne=Math.max(1,Number(et||0),Se*5e3),Ie=ze=>Math.max(0,Math.min(Ne,Number(ze||0))),Oe=(ze,ye,Ze)=>{if(!Number.isFinite(Ze)||Ze<=0)return;let nt=Ie(ze);const de=Ie(ye);if(!(de<=nt))for(;nt<de;){const pe=Math.max(0,Math.min(Se-1,Math.floor(nt/5e3))),ot=Math.min(de,(pe+1)*5e3),xt=Math.max(0,ot-nt);xt>0&&(yt[pe]=Number(yt[pe]||0)+xt*Ze),nt=ot}};let Ve=Ie(st[0][0]),Ge=Math.max(0,Number(st[0][1]||0));for(let ze=1;ze<st.length;ze+=1){const[ye,Ze]=st[ze],nt=Ie(ye);Oe(Ve,nt,Ge),Ve=nt,Ge=Math.max(0,Number(Ze||0))}Oe(Ve,Ne,Ge)},pt=(me,he,Je)=>{const Se=Array.from({length:Je},(yt,Ne)=>Number((me==null?void 0:me[Ne])||0)),et=Se.reduce((yt,Ne)=>yt+Number(Ne||0),0);if(!Number.isFinite(he)||he<=0)return Se.map(()=>0);if(!Number.isFinite(et)||et<=0){const yt=he/Math.max(1,Je);return Se.map(()=>yt)}const st=he/et;return Se.map(yt=>Number(yt||0)*st)},It=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),He=(me,he,Je)=>{const Se=Math.max(0,Number(Je||0));Se&&(me[he]=Number(me[he]||0)+Se,(he==="selfBuffs"||he==="squadBuffs")&&(me.totalBuffs=Number(me.totalBuffs||0)+Se))};return o.map(me=>({log:me,ts:ti(me==null?void 0:me.details,me)})).sort((me,he)=>me.ts-he.ts).forEach(({log:me},he)=>{const Je=me==null?void 0:me.details;if(!Je)return;const et=(Array.isArray(Je.players)?Je.players:[]).filter(pe=>!(pe!=null&&pe.notInSquad)),st=et.length;if(st<=0)return;const yt=Math.max(0,Number((Je==null?void 0:Je.durationMS)||0)),Ne=Math.max(1,Math.ceil(Math.max(1,yt)/5e3)),Ie=Je!=null&&Je.buffMap&&typeof Je.buffMap=="object"?Je.buffMap:{},Oe=new Map,Ve=new Map;et.forEach(pe=>{const ot=Number((pe==null?void 0:pe.group)??0);Ve.set(ot,(Ve.get(ot)||0)+1);const we=String((pe==null?void 0:pe.account)||(pe==null?void 0:pe.name)||"Unknown");[pe==null?void 0:pe.name,pe==null?void 0:pe.display_name,pe==null?void 0:pe.character_name,pe==null?void 0:pe.account].map(ce=>String(ce||"").trim()).filter(Boolean).forEach(ce=>Oe.set(ce,we))});const Ge=T(Je.fightName||me.fightName||`Fight ${he+1}`),ze=wa(Je,me),ye=J(Ge,String(ze||"")),Ze=new Map,nt=new Map,de=new Map;et.forEach(pe=>{const ot=String((pe==null?void 0:pe.account)||(pe==null?void 0:pe.name)||"Unknown"),xt=String((pe==null?void 0:pe.profession)||"Unknown"),we=ot,ce=Number((pe==null?void 0:pe.group)??0),Ot=Math.max(1,Number(Ve.get(ce)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(_e=>{(Array.isArray(pe==null?void 0:pe[_e])?pe[_e]:[]).forEach(ft=>{var Zr;const it=Number(ft==null?void 0:ft.id);if(!Number.isFinite(it))return;const We=`b${it}`,mt=Ie[We]||{},ht=String((mt==null?void 0:mt.classification)||"");if(ht&&ht!=="Boon")return;const $t=Number(((Zr=Zy(pe,_e,it,yt,Ot,st,Ie))==null?void 0:Zr.generationMs)||0);if(!Number.isFinite($t)||$t<=0)return;const tn=fe(We,mt),pn=tn.players.get(we)||{key:we,account:ot,displayName:ot,profession:xt,professionList:xt&&xt!=="Unknown"?[xt]:[],logs:0,totals:It()};xt&&xt!=="Unknown"&&!pn.professionList.includes(xt)&&pn.professionList.push(xt),(!pn.profession||pn.profession==="Unknown")&&xt&&xt!=="Unknown"&&(pn.profession=xt);const Sn=de.get(We)||new Set;Sn.has(we)||(Sn.add(we),pn.logs+=1,de.set(We,Sn)),He(pn.totals,_e,$t),tn.players.set(we,pn);const Dn=tn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:It()};He(Dn.totals,_e,$t),tn.players.set("__all__",Dn);const or=Ze.get(We)||new Map,On=or.get(we)||It();He(On,_e,$t),or.set(we,On);const Mr=or.get("__all__")||It();He(Mr,_e,$t),or.set("__all__",Mr),Ze.set(We,or);const pr=Array.isArray(pe==null?void 0:pe.buffUptimes)?pe.buffUptimes.find(kr=>Number(kr==null?void 0:kr.id)===it):null,Yn=pr!=null&&pr.statesPerSource&&typeof pr.statesPerSource=="object"?pr.statesPerSource:null;if(Yn){const kr=nt.get(We)||new Map;Object.entries(Yn).forEach(([lr,fs])=>{const Ci=Oe.get(String(lr||"").trim());Ci&&bt(kr,Ci,fs,Ne,yt)}),nt.set(We,kr)}})})}),Ze.forEach((pe,ot)=>{const xt=ke.get(ot);if(!xt)return;const we=nt.get(ot)||new Map,ce={};let Ot=Array.from({length:Ne},()=>0),De=0;pe.forEach((it,We)=>{const mt={selfBuffs:Number((it==null?void 0:it.selfBuffs)||0),groupBuffs:Number((it==null?void 0:it.groupBuffs)||0),squadBuffs:Number((it==null?void 0:it.squadBuffs)||0),totalBuffs:Number((it==null?void 0:it.totalBuffs)||0)},ht=Math.max(0,Number(mt.totalBuffs||0));if(!Number.isFinite(ht)||ht<=0)return;const $t=we.get(We)||[],tn=pt($t,ht,Ne);ce[We]={total:ht,totals:mt,bucketWeights5s:Array.from({length:Ne},(pn,Sn)=>Number($t[Sn]||0)),buckets5s:tn},We!=="__all__"&&(ht>De&&(De=ht),Ot=Ot.map((pn,Sn)=>Number(pn||0)+Number(tn[Sn]||0)))});const _e=pe.get("__all__"),ut=Number((_e==null?void 0:_e.totalBuffs)||0);if(ut>0&&(ce.__all__={total:ut,totals:{selfBuffs:Number((_e==null?void 0:_e.selfBuffs)||0),groupBuffs:Number((_e==null?void 0:_e.groupBuffs)||0),squadBuffs:Number((_e==null?void 0:_e.squadBuffs)||0),totalBuffs:Number((_e==null?void 0:_e.totalBuffs)||0)},bucketWeights5s:Array.from({length:Ne},(it,We)=>Number((we.get("__all__")||[])[We]||0)),buckets5s:Ot.some(it=>Number(it||0)>0)?Ot:pt(we.get("__all__")||[],ut,Ne)}),Object.keys(ce).length===0)return;const ft=xt.players.get("__all__");ft&&(ft.logs+=1,xt.players.set("__all__",ft)),xt.fights.push({id:me.filePath||me.id||`fight-${he+1}`,shortLabel:`F${he+1}`,fullLabel:ye,timestamp:ti(Je,me),durationMs:yt,values:ce,maxTotal:De})})}),Array.from(ke.values()).map(me=>({id:me.id,name:me.name||me.id,icon:me.icon,stacking:me.stacking,players:Array.from(me.players.values()).sort((he,Je)=>{var et,st;if(he.key==="__all__")return-1;if(Je.key==="__all__")return 1;const Se=Number(((et=Je.totals)==null?void 0:et.totalBuffs)||0)-Number(((st=he.totals)==null?void 0:st.totalBuffs)||0);return Se!==0?Se:String(he.displayName||"").localeCompare(String(Je.displayName||""))}),fights:[...me.fights].sort((he,Je)=>he.timestamp>0&&Je.timestamp>0&&he.timestamp!==Je.timestamp?he.timestamp-Je.timestamp:he.shortLabel.localeCompare(Je.shortLabel,void 0,{numeric:!0}))})).filter(me=>me.players.length>0&&me.fights.length>0).sort((me,he)=>String(me.name||"").localeCompare(String(he.name||"")))})(),ol=(()=>{const T=He=>String(He||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=He=>T(He).toLowerCase().split(/[^a-z0-9]+/i).map(me=>me.trim()).filter(Boolean).map(me=>me.length>3&&me.endsWith("s")?me.slice(0,-1):me),J=(He,me)=>{const he=T(He),Je=T(me);if(!Je)return he;if(!he)return Je;const Se=$(he),et=$(Je),st=new Set(Se),yt=new Set(et),Ne=et.length>0&&et.every(Oe=>st.has(Oe)),Ie=Se.length>0&&Se.every(Oe=>yt.has(Oe));return Ne||Ie?he:`${he} - ${Je}`},ke=new Map,fe=(He,me)=>{if(!ke.has(He))ke.set(He,{id:He,name:String((me==null?void 0:me.name)||He),icon:me==null?void 0:me.icon,stacking:!!(me!=null&&me.stacking),players:new Map,fights:[]});else if(me){const he=ke.get(He);(!he.name||he.name===He)&&(me!=null&&me.name)&&(he.name=String(me.name)),!he.icon&&(me!=null&&me.icon)&&(he.icon=String(me.icon)),!he.stacking&&(me!=null&&me.stacking)&&(he.stacking=!0)}return ke.get(He)},Ue=He=>Array.isArray(He)?He.map(me=>Array.isArray(me)?[Number(me[0]),Number(me[1])]:me&&typeof me=="object"?[Number(me.time),Number(me.value)]:null).filter(me=>!!me&&Number.isFinite(me[0])&&Number.isFinite(me[1])&&me[0]>=0).sort((me,he)=>me[0]-he[0]):[],Me=(He,me)=>{if(!me)return 1;const he=String(He||"").trim().toLowerCase();return 25},bt=(He,me,he)=>{const Je=Number.isFinite(He)?Math.max(0,He):0;return me?Math.max(0,Math.min(he,Math.round(Je))):Je>0?1:0},pt=(He,me,he,Je)=>{const Se=Array.from({length:me},()=>0);if(!He||typeof He!="object"||me<=0)return Se;Object.values(He).forEach(st=>{const yt=Ue(st);if(yt.length===0)return;let Ne=0,Ie=0;for(let Oe=0;Oe<me;Oe+=1){const Ve=Oe*5e3;for(;Ne<yt.length&&yt[Ne][0]<=Ve;)Ie=Math.max(0,Number(yt[Ne][1]||0)),Ne+=1;Se[Oe]+=Math.max(0,Number(Ie||0))}});const et=Me(Je,he);return Se.map(st=>bt(st,he,et))},It=He=>{const me=He.reduce((Je,Se)=>Je+Math.max(0,Number(Se||0)),0),he=He.reduce((Je,Se)=>Math.max(Je,Math.max(0,Number(Se||0))),0);return{total:me,peak:he,buckets5s:He}};return o.map(He=>({log:He,ts:ti(He==null?void 0:He.details,He)})).sort((He,me)=>He.ts-me.ts).forEach(({log:He},me)=>{const he=He==null?void 0:He.details;if(!he)return;const Se=(Array.isArray(he.players)?he.players:[]).filter(ze=>!(ze!=null&&ze.notInSquad));if(Se.length<=0)return;const et=Math.max(0,Number((he==null?void 0:he.durationMS)||0)),st=Math.max(1,Math.ceil(Math.max(1,et)/5e3)),yt=he!=null&&he.buffMap&&typeof he.buffMap=="object"?he.buffMap:{},Ne=T(he.fightName||He.fightName||`Fight ${me+1}`),Ie=wa(he,He),Oe=J(Ne,String(Ie||"")),Ve=new Map,Ge=new Map;Se.forEach(ze=>{const ye=String((ze==null?void 0:ze.account)||(ze==null?void 0:ze.name)||"Unknown"),Ze=ye,nt=String((ze==null?void 0:ze.profession)||"Unknown");(Array.isArray(ze==null?void 0:ze.buffUptimes)?ze.buffUptimes:[]).forEach(pe=>{const ot=Number(pe==null?void 0:pe.id);if(!Number.isFinite(ot))return;const xt=`b${ot}`,we=yt[xt]||{},ce=String((we==null?void 0:we.classification)||"");if(ce&&ce!=="Boon")return;const Ot=pe!=null&&pe.statesPerSource&&typeof pe.statesPerSource=="object"?pe.statesPerSource:null;if(!Ot)return;const De=pt(Ot,st,!!(we!=null&&we.stacking),String((we==null?void 0:we.name)||"")),_e=It(De);if(_e.total<=0&&_e.peak<=0)return;const ut=fe(xt,we),ft=ut.players.get(Ze)||{key:Ze,account:ye,displayName:ye,profession:nt,professionList:nt&&nt!=="Unknown"?[nt]:[],logs:0,total:0,peak:0};nt&&nt!=="Unknown"&&!ft.professionList.includes(nt)&&ft.professionList.push(nt),(!ft.profession||ft.profession==="Unknown")&&nt&&nt!=="Unknown"&&(ft.profession=nt);const it=Ge.get(xt)||new Set;it.has(Ze)||(it.add(Ze),ft.logs+=1,Ge.set(xt,it)),ft.total+=_e.total,ft.peak=Math.max(ft.peak,_e.peak),ut.players.set(Ze,ft);const We=Ve.get(xt)||new Map;We.set(Ze,_e),Ve.set(xt,We)})}),Ve.forEach((ze,ye)=>{const Ze=ke.get(ye);if(!Ze)return;const nt={};let de=0;ze.forEach((pe,ot)=>{nt[ot]={total:Number(pe.total||0),peak:Number(pe.peak||0),buckets5s:Array.isArray(pe.buckets5s)?pe.buckets5s.map(xt=>Number(xt||0)):[]},de=Math.max(de,Number(pe.peak||0))}),Object.keys(nt).length!==0&&Ze.fights.push({id:He.filePath||He.id||`fight-${me+1}`,shortLabel:`F${me+1}`,fullLabel:Oe,timestamp:ti(he,He),durationMs:et,values:nt,maxTotal:de})})}),Array.from(ke.values()).map(He=>({id:He.id,name:He.name||He.id,icon:He.icon,stacking:He.stacking,players:Array.from(He.players.values()).sort((me,he)=>{const Je=Number(he.peak||0)-Number(me.peak||0);if(Je!==0)return Je;const Se=Number(he.total||0)-Number(me.total||0);return Se!==0?Se:String(me.displayName||"").localeCompare(String(he.displayName||""))}),fights:[...He.fights].sort((me,he)=>me.timestamp>0&&he.timestamp>0&&me.timestamp!==he.timestamp?me.timestamp-he.timestamp:me.shortLabel.localeCompare(he.shortLabel,void 0,{numeric:!0}))})).filter(He=>He.players.length>0&&He.fights.length>0).sort((He,me)=>String(He.name||"").localeCompare(String(me.name||"")))})(),bu=oa.map(({log:T})=>{const $=T==null?void 0:T.details,J=Array.isArray($==null?void 0:$.players)?$.players:[],ke=Array.isArray($==null?void 0:$.targets)?$.targets:[],fe=T!=null&&T.dashboardSummary&&typeof T.dashboardSummary=="object"?T.dashboardSummary:null,Ue=J.filter(he=>!he.notInSquad),Me=ke.filter(he=>!he.isFake),bt=Math.max(0,Number((fe==null?void 0:fe.squadCount)||0)),pt=Math.max(0,Number((fe==null?void 0:fe.enemyCount)||0)),It=Ue.length>0?Ue.length:bt,He=Me.length>0?Me.length:pt,me=J.length>0?J.length:It;return{timestamp:ti($,T),squadCount:It,friendlyCount:me,enemies:He,isWin:er($,T)}}).map((T,$)=>({...T,index:$+1,label:`Log ${$+1}`})),$r={};Array.from(_.values()).forEach(T=>{T.profession&&T.profession!=="Unknown"&&($r[T.profession]=($r[T.profession]||0)+1)});const ll=Object.entries($r).map(([T,$])=>({name:T,value:$,color:Io(T)})).sort((T,$)=>$.value-T.value),Q={};Object.keys(K).length===0&&o.forEach(T=>{var $,J;(J=($=T.details)==null?void 0:$.targets)==null||J.forEach(ke=>{if(ke.isFake)return;const fe=ke.profession&&ke.profession!=="Unknown"?ke.profession:ke.name||ke.id||"Unknown",Ue=V(fe);Q[Ue]=(Q[Ue]||0)+1})});const Te=Object.keys(K).length>0?K:Q,qe=Object.entries(Te).map(([T,$])=>({name:T,value:$,color:Io(T)})).sort((T,$)=>$.value-T.value),St=oa.map(({log:T},$)=>{const J=T==null?void 0:T.details,ke=Array.isArray(J==null?void 0:J.players)?J.players:[],fe=ke.filter(ye=>!ye.notInSquad),Ue=ke.filter(ye=>ye.notInSquad),bt=(Array.isArray(J==null?void 0:J.targets)?J.targets:[]).filter(ye=>!ye.isFake),pt=T!=null&&T.dashboardSummary&&typeof T.dashboardSummary=="object"?T.dashboardSummary:null,It=fe.reduce((ye,Ze)=>{var nt,de;return ye+(((de=(nt=Ze.dpsAll)==null?void 0:nt[0])==null?void 0:de.damage)||0)},0),He=fe.reduce((ye,Ze)=>{var nt,de;return ye+(((de=(nt=Ze.defenses)==null?void 0:nt[0])==null?void 0:de.damageTaken)||0)},0),{enemyDeaths:me,enemyDownsDeaths:he}=M(J),Je=er(J,T),Se=ti(J,T),et=wa(J,T),st=ye=>{if(!ye||typeof ye!="object")return;const Ze=ye.teamID??ye.teamId??ye.team??ye.teamColor??ye.team_color;if(Ze!=null)return Ze;const nt=Object.keys(ye).find(de=>/^team/i.test(de));return nt?ye[nt]:void 0},yt=(ye,Ze)=>{const nt={};return ye.forEach(de=>{const pe=Ze(de),ot=V(pe);ot&&(nt[ot]=(nt[ot]||0)+1)}),nt},Ne=yt(fe,ye=>(ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)),Ie=yt(Ue,ye=>(ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)),Oe=yt(bt,ye=>(ye==null?void 0:ye.profession)||(ye==null?void 0:ye.name)||(ye==null?void 0:ye.id)),Ve=new Set;fe.forEach(ye=>{const Ze=st(ye);Ze!=null&&Ve.add(String(Ze))});const Ge=new Map;bt.forEach(ye=>{if((ye==null?void 0:ye.enemyPlayer)===!1)return;const Ze=st(ye);if(Ze==null)return;const nt=String(Ze);Ve.has(nt)||Ge.set(nt,(Ge.get(nt)||0)+1)});const ze=Array.from(Ge.entries()).sort((ye,Ze)=>{const nt=Ze[1]-ye[1];return nt!==0?nt:ye[0].localeCompare(Ze[0],void 0,{numeric:!0})}).slice(0,3).map(([ye,Ze])=>({teamId:ye,count:Ze}));return{id:T.filePath||`fight-${$}`,label:T.encounterName||`Fight ${$+1}`,permalink:Rs(J,T),timestamp:Se,mapName:et,duration:gu(J,T),isWin:Je,squadCount:fe.length>0?fe.length:Math.max(0,Number((pt==null?void 0:pt.squadCount)||0)),allyCount:Ue.length,enemyCount:bt.length>0?bt.length:Math.max(0,Number((pt==null?void 0:pt.enemyCount)||0)),teamBreakdown:ze,alliesDown:fe.reduce((ye,Ze)=>{var nt,de;return ye+(((de=(nt=Ze.defenses)==null?void 0:nt[0])==null?void 0:de.downCount)||0)},0),alliesDead:fe.length>0?fe.reduce((ye,Ze)=>{var nt,de;return ye+(((de=(nt=Ze.defenses)==null?void 0:nt[0])==null?void 0:de.deadCount)||0)},0):Math.max(0,Number((pt==null?void 0:pt.squadDeaths)||0)),alliesRevived:fe.reduce((ye,Ze)=>{var nt,de;return Number(((de=(nt=Ze.statsAll)==null?void 0:nt[0])==null?void 0:de.saved)||0)>0?ye+1:ye},0),rallies:0,enemyDeaths:bt.length>0||fe.length>0?me:Math.max(0,Number((pt==null?void 0:pt.enemyDeaths)||0)),enemyDowns:Math.max(0,he-me),totalOutgoingDamage:It,totalIncomingDamage:He,incomingBarrierAbsorbed:fe.reduce((ye,Ze)=>{var nt,de;return ye+(((de=(nt=Ze.defenses)==null?void 0:nt[0])==null?void 0:de.damageBarrier)||0)},0),outgoingBarrierAbsorbed:fe.reduce((ye,Ze)=>{var pe;const nt=(pe=Ze.extBarrierStats)==null?void 0:pe.outgoingBarrier;if(!Array.isArray(nt))return ye;let de=0;return nt.forEach(ot=>{if(Array.isArray(ot)){ot.forEach(xt=>{de+=Number((xt==null?void 0:xt.barrier)||0)});return}de+=Number((ot==null?void 0:ot.barrier)||0)}),ye+de},0),squadClassCountsFight:Ne,allyClassCountsFight:Ie,enemyClassCounts:Oe}}),Ut=xu.map(({log:T},$)=>{const J=T.details;if(!J)return null;const fe=(Array.isArray(J.players)?J.players:[]).filter(De=>!De.notInSquad),Ue=Array.isArray(J.targets)?J.targets:[],Me=ti(J,T),bt=wa(J,T),pt=Number(J.durationMS||0),{squadDownsDeaths:It,enemyDownsDeaths:He,squadDeaths:me,enemyDeaths:he}=M(J),Je=new Map,Se=(De,_e,ut)=>{const ft=Je.get(De)||{label:De,damage:0,hits:0};ft.damage+=_e,ft.hits+=ut,Je.set(De,ft)};if(fe.forEach(De=>{(Array.isArray(De==null?void 0:De.statsTargets)?De.statsTargets:[]).forEach((ut,ft)=>{const it=Array.isArray(ut)?ut[0]:ut,We=Number((it==null?void 0:it.damage)??(it==null?void 0:it.totalDmg)??(it==null?void 0:it.connectedDmg)??0),mt=Number((it==null?void 0:it.connectedHits)??(it==null?void 0:it.connectedDamageCount)??(it==null?void 0:it.hits)??0);if(We<=0&&mt<=0)return;const ht=Ue[ft];if(ht!=null&&ht.isFake)return;const $t=(ht==null?void 0:ht.profession)||(ht==null?void 0:ht.name)||(ht==null?void 0:ht.id)||`Target ${ft+1}`,tn=V($t);Se(tn||String($t),We,mt)})}),Je.size===0){const De=new Map,_e=ut=>{if(!Array.isArray(ut)||ut.length===0)return[];const ft=ut[0];if(Array.isArray(ft)&&Array.isArray(ft[0])){if(typeof ft[0][0]=="number")return ft;if(Array.isArray(ft[0])&&typeof ft[0][0]=="number")return ut.map(it=>Array.isArray(it)?it[0]||[]:[])}return[]};fe.forEach(ut=>{_e(ut==null?void 0:ut.targetDamage1S).forEach((it,We)=>{if(!Array.isArray(it)||it.length===0)return;const mt=it.map($t=>Number($t)).filter($t=>Number.isFinite($t)&&$t>=0);if(mt.length===0)return;const ht=Math.max(0,mt[mt.length-1]||0);ht<=0||De.set(We,(De.get(We)||0)+ht)})}),De.forEach((ut,ft)=>{if(ut<=0)return;const it=Ue[ft];if(it!=null&&it.isFake)return;const We=(it==null?void 0:it.profession)||(it==null?void 0:it.name)||(it==null?void 0:it.id)||`Target ${ft+1}`,mt=V(We);Se(mt||String(We),ut,0)})}if(Je.size===0&&Ue.forEach((De,_e)=>{if(De!=null&&De.isFake)return;const ut=Array.isArray(De==null?void 0:De.totalDamageTaken)?De.totalDamageTaken:Array.isArray(De==null?void 0:De.totalDamageDist)?De.totalDamageDist:[];let ft=0,it=0;if(ut.forEach(ht=>{ft+=Number((ht==null?void 0:ht.totalDamage)||(ht==null?void 0:ht.damage)||0),it+=Number((ht==null?void 0:ht.connectedHits)||(ht==null?void 0:ht.hits)||0)}),ft<=0&&Number((De==null?void 0:De.damageTaken)||0)>0&&(ft=Number(De.damageTaken||0)),ft<=0&&it<=0)return;const We=(De==null?void 0:De.profession)||(De==null?void 0:De.name)||(De==null?void 0:De.id)||`Target ${_e+1}`,mt=V(We);Se(mt||String(We),ft,it)}),Je.size===0){const De=new Map;Ue.forEach((_e,ut)=>{if(_e!=null&&_e.isFake)return;const ft=(_e==null?void 0:_e.profession)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.id)||`Target ${ut+1}`,it=V(ft)||String(ft);De.set(it,(De.get(it)||0)+1)}),De.forEach((_e,ut)=>{_e>0&&Se(ut,_e,0)})}const et=Array.from(Je.values()).sort((De,_e)=>_e.damage-De.damage||_e.hits-De.hits||De.label.localeCompare(_e.label)),st=et.reduce((De,_e)=>De+_e.damage,0),yt=et.map(De=>({label:De.label,damage:De.damage,hits:De.hits,share:st>0?De.damage/st:0})),Ne=Ue.filter(De=>!(De!=null&&De.isFake)).length,Ie=fe.length,Oe=fe.reduce((De,_e)=>{var ut,ft;return De+Number(((ft=(ut=_e==null?void 0:_e.dpsAll)==null?void 0:ut[0])==null?void 0:ft.damage)||0)},0),Ve=fe.reduce((De,_e)=>{var ut,ft;return De+Number(((ft=(ut=_e==null?void 0:_e.defenses)==null?void 0:ut[0])==null?void 0:ft.damageTaken)||0)},0),Ge=fe.reduce((De,_e)=>{var ut,ft;return De+Number(((ft=(ut=_e==null?void 0:_e.defenses)==null?void 0:ut[0])==null?void 0:ft.damageBarrier)||0)},0),ze=fe.reduce((De,_e)=>{var it;const ut=(it=_e==null?void 0:_e.extBarrierStats)==null?void 0:it.outgoingBarrier;if(!Array.isArray(ut))return De;let ft=0;return ut.forEach(We=>{Array.isArray(We)?We.forEach(mt=>{ft+=Number((mt==null?void 0:mt.barrier)||0)}):ft+=Number((We==null?void 0:We.barrier)||0)}),De+ft},0),ye=fe.reduce((De,_e)=>{var ut,ft;return Number(((ft=(ut=_e==null?void 0:_e.statsAll)==null?void 0:ut[0])==null?void 0:ft.saved)||0)>0?De+1:De},0),Ze=fe.reduce((De,_e)=>De+Number(tj(_e)||0),0),nt=fe.reduce((De,_e)=>De+Number(nj(_e)||0),0),de=fe.reduce((De,_e)=>De+Number((_e==null?void 0:_e.stabGeneration)||0),0),pe=fe.reduce((De,_e)=>De+Number(ij(_e)||0),0),ot=fe.reduce((De,_e)=>De+Number(aj(_e)||0),0),xt=fe.reduce((De,_e)=>De+Number(sj(_e)||0),0),we=fe.reduce((De,_e)=>De+Number(rj(_e)||0),0),ce=me>0?he/me:he,Ot=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:L(J)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Ie},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Ne},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ce},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:he},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,He-he)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:me},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,It-me)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Oe-Ve},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Oe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ve},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Ze},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:nt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:de},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:pe},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:ot},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Ge},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:ze},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:xt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:we},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ye}];return{id:T.filePath||T.id||`fight-${$+1}`,shortLabel:`F${$+1}`,fullLabel:`${bt||T.encounterName||"Unknown Map"}  ${dp(pt)}`,mapName:bt,timestamp:Me,duration:dp(pt),isWin:L(J),targetFocus:yt,squadMetrics:Ot}}).filter(Boolean),Gt=Array.from(_.values()).map(T=>{const $=Object.entries(T.professionTimeMs||{}).map(([J,ke])=>({profession:J,timeMs:Number(ke||0)})).filter(J=>J.profession&&J.profession!=="Unknown"&&J.timeMs>0).sort((J,ke)=>{const fe=ke.timeMs-J.timeMs;return fe!==0?fe:J.profession.localeCompare(ke.profession)});return{account:T.account||"Unknown",characterNames:Array.from(T.characterNames||[]).filter(Boolean).sort((J,ke)=>J.localeCompare(ke)),classTimes:$,combatTimeMs:Number(T.squadActiveMs||T.totalFightMs||0),squadTimeMs:(()=>{const J=Number(T.firstSeenFightTs||0),ke=Number(T.lastSeenFightTs||0),fe=Math.max(0,Number(T.lastSeenFightDurationMs||0));return J>0&&ke>0?Math.max(0,ke+fe-J):Number(T.squadActiveMs||T.totalFightMs||0)})()}}).filter(T=>T.account&&T.account!=="Unknown").sort((T,$)=>{const J=$.squadTimeMs-T.squadTimeMs;return J!==0?J:String(T.account).localeCompare(String($.account))}),Jt=o.map(T=>T).sort((T,$)=>ti(T.details,T)-ti($.details,$)).map((T,$)=>{const J=T==null?void 0:T.details,ke=Array.isArray(J==null?void 0:J.players)?J.players.filter(Me=>!(Me!=null&&Me.notInSquad)):[],fe=new Map;ke.forEach(Me=>{const bt=Number(Me==null?void 0:Me.group),pt=Number.isFinite(bt)&&bt>0?bt:0;fe.has(pt)||fe.set(pt,{party:pt,players:[],classCounts:{}});const It=V((Me==null?void 0:Me.profession)||(Me==null?void 0:Me.name)||"Unknown"),He=String((Me==null?void 0:Me.account)||"Unknown"),me=String((Me==null?void 0:Me.name)||(Me==null?void 0:Me.character_name)||""),he=!!(Me!=null&&Me.hasCommanderTag),Je=fe.get(pt);Je.players.push({account:He,characterName:me,profession:It,isCommander:he}),Je.classCounts[It]=(Je.classCounts[It]||0)+1});const Ue=Array.from(fe.values()).map(Me=>({...Me,players:Me.players.sort((bt,pt)=>{const It=+!!pt.isCommander-+!!bt.isCommander;if(It!==0)return It;const He=String(bt.profession).localeCompare(String(pt.profession));return He!==0?He:String(bt.account).localeCompare(String(pt.account))})})).sort((Me,bt)=>Me.party===0&&bt.party!==0?1:bt.party===0&&Me.party!==0?-1:Me.party-bt.party);return{id:String((T==null?void 0:T.filePath)||(T==null?void 0:T.id)||`fight-${$+1}`),label:`F${$+1}`,timestamp:ti(J,T),mapName:wa(J,T),duration:dp(Number((J==null?void 0:J.durationMS)||0)),parties:Ue}}),Mt=(T,$)=>{const J=($==null?void 0:$.skillMap)||{},ke=($==null?void 0:$.buffMap)||{};let fe=0,Ue=0,Me="";const bt=He=>{const me=Number(He);if(!Number.isFinite(me))return String(He||"Unknown Skill");const he=(J==null?void 0:J[`s${me}`])||(J==null?void 0:J[`${me}`]);if(he!=null&&he.name)return String(he.name);const Je=(ke==null?void 0:ke[`b${me}`])||(ke==null?void 0:ke[`${me}`]);return Je!=null&&Je.name?String(Je.name):`Skill ${me}`},pt=He=>{if(!He||typeof He!="object")return;const me=[Number(He.max),Number(He.maxDamage),Number(He.maxHit)].filter(Se=>Number.isFinite(Se)),he=me.length>0?Math.max(...me):0;he>fe&&(fe=he,Me=bt(He.id));const Je=Number(He.downContribution||0);Je>Ue&&(Ue=Je)};let It=!1;return Array.isArray(T==null?void 0:T.targetDamageDist)&&T.targetDamageDist.forEach(He=>{Array.isArray(He)&&He.forEach(me=>{Array.isArray(me)&&me.forEach(he=>{It=!0,pt(he)})})}),(!It||fe<=0)&&Array.isArray(T==null?void 0:T.totalDamageDist)&&T.totalDamageDist.forEach(He=>{Array.isArray(He)&&He.forEach(me=>pt(me))}),{peak:fe,peakDownContribution:Ue,skillName:Me||"Unknown Skill"}},Nt=(()=>{const T=Se=>String(Se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=Se=>T(Se).toLowerCase().split(/[^a-z0-9]+/i).map(et=>et.trim()).filter(Boolean).map(et=>et.length>3&&et.endsWith("s")?et.slice(0,-1):et),J=(Se,et)=>{const st=T(Se),yt=T(et);if(!yt)return st;if(!st)return yt;const Ne=$(st),Ie=$(yt),Oe=new Set(Ne),Ve=new Set(Ie),Ge=Ie.length>0&&Ie.every(ye=>Oe.has(ye)),ze=Ne.length>0&&Ne.every(ye=>Ve.has(ye));return Ge||ze?st:`${st} - ${yt}`},ke=[],fe=new Map,Ue=Se=>{const et=Ge=>{if(!Array.isArray(Ge)||Ge.length===0)return[];const ze=[];for(let ye=0;ye<Ge.length;ye+=1){const Ze=Number(Ge[ye]||0),nt=ye>0?Number(Ge[ye-1]||0):0;ze.push(Math.max(0,Ze-nt))}return ze},st=Ge=>{if(!Array.isArray(Ge))return[];const ze=Ge.reduce((Ze,nt)=>Math.max(Ze,Array.isArray(nt)?nt.length:0),0);if(ze<=0)return[];const ye=new Array(ze).fill(0);return Ge.forEach(Ze=>{if(Array.isArray(Ze))for(let nt=0;nt<ze;nt+=1)ye[nt]+=Number(Ze[nt]||0)}),ye},yt=Ge=>Array.isArray(Ge)?Ge.map(ze=>Number(ze||0)):null,Ie=(Ge=>{if(!Array.isArray(Ge)||Ge.length===0)return null;const ze=Ge[0];if(!Array.isArray(ze))return null;if(Array.isArray(ze[0])&&Array.isArray(ze[0][0]))return st(ze);if(Array.isArray(ze[0])&&!Array.isArray(ze[0][0])){const ye=Ge.map(Ze=>yt(Array.isArray(Ze)?Ze[0]:null)).filter(Ze=>Array.isArray(Ze)&&Ze.length>0);if(ye.length>0)return st(ye)}return null})(Se==null?void 0:Se.targetDamage1S),Oe=Array.isArray(Se==null?void 0:Se.damage1S)&&Array.isArray(Se.damage1S[0])?Se.damage1S[0]:null,Ve=Ie||(Array.isArray(Oe)?Oe.map(Ge=>Number(Ge||0)):[]);return et(Ve)},Me=(Se,et)=>{if(!Array.isArray(Se)||Se.length===0||et<=0)return 0;let st=0,yt=0;for(let Ne=0;Ne<Se.length;Ne+=1)st+=Number(Se[Ne]||0),Ne>=et&&(st-=Number(Se[Ne-et]||0)),Ne>=et-1&&st>yt&&(yt=st);return Math.max(0,yt)},bt=(Se,et)=>{if(!Array.isArray(Se)||Se.length===0||et<=0)return[];const st=[];for(let yt=0;yt<Se.length;yt+=et){const Ne=Math.min(yt+et,Se.length),Ie=Se.slice(yt,Ne).reduce((Oe,Ve)=>Oe+Number(Ve||0),0);st.push(Ie)}return st},pt=(Se,et)=>{let st=0,yt=0;const Ne=new Map,Ie=Ve=>{if(!Ve||typeof Ve!="object"||Ve.indirectDamage)return;const Ge=Number(Ve.totalDamage||0),ze=Number(Ve.downContribution||0);!Number.isFinite(Ge)&&!Number.isFinite(ze)||(st+=Number.isFinite(Ge)?Ge:0,yt+=Number.isFinite(ze)?ze:0)};return Array.isArray(Se==null?void 0:Se.targetDamageDist)&&Se.targetDamageDist.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(Ge=>{Array.isArray(Ge)&&Ge.forEach(ze=>{const ye=Number(ze==null?void 0:ze.id);if(Number.isFinite(ye)){const Ze=Ne.get(ye)||{damage:0,downContribution:0};Ze.damage+=Number((ze==null?void 0:ze.totalDamage)||0),Ze.downContribution+=Number((ze==null?void 0:ze.downContribution)||0),Ne.set(ye,Ze)}Ie(ze)})})}),!(et!=null&&et.detailedWvW)&&Array.isArray(Se==null?void 0:Se.totalDamageDist)&&Se.totalDamageDist.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(Ge=>{const ze=Number(Ge==null?void 0:Ge.id);if(!Number.isFinite(ze)){Ie(Ge);return}const ye=Ne.get(ze);if(!ye){Ie(Ge);return}const Ze=Number((Ge==null?void 0:Ge.totalDamage)||0)-Number(ye.damage||0),nt=Number((Ge==null?void 0:Ge.downContribution)||0)-Number(ye.downContribution||0);Ze<=0&&nt<=0||Ie({...Ge,totalDamage:Math.max(0,Ze),downContribution:Math.max(0,nt)})})}),{damageTotal:Math.max(0,st),downContributionTotal:Math.max(0,yt)}},It=(Se,et)=>{const st=Number(Se);if(!Number.isFinite(st))return{name:String(Se||"Unknown Skill"),icon:void 0};const yt=(et==null?void 0:et.skillMap)||{},Ne=(et==null?void 0:et.buffMap)||{},Ie=(yt==null?void 0:yt[`s${st}`])||(yt==null?void 0:yt[`${st}`]);if(Ie!=null&&Ie.name)return{name:String(Ie.name),icon:Ie==null?void 0:Ie.icon};const Oe=(Ne==null?void 0:Ne[`b${st}`])||(Ne==null?void 0:Ne[`${st}`]);return Oe!=null&&Oe.name?{name:String(Oe.name),icon:Oe==null?void 0:Oe.icon}:{name:`Skill ${st}`,icon:void 0}},He=Se=>Array.isArray(Se)?Se.map(et=>Array.isArray(et)?[Number(et[0]),Number(et[1])]:et&&typeof et=="object"?[Number(et.time),Number(et.value)]:null).filter(et=>!!et&&Number.isFinite(et[0])&&et[0]>=0):[],me=(Se,et,st,yt,Ne)=>{if(!Se.length||yt<=0)return[];const Ie=Math.max(yt*5e3,Ne||0),Oe=pe=>pe.reduce((ot,xt)=>xt>=0&&xt<=Ie+2e3?ot+1:ot,0),Ve=Se.map(pe=>Number(pe||0)).filter(pe=>Number.isFinite(pe)&&pe>=0);if(!Ve.length)return[];const Ge=[Ve],ze=Ve.reduce((pe,ot)=>Math.max(pe,ot),0),ye=Ve.reduce((pe,ot)=>Math.min(pe,ot),Number.POSITIVE_INFINITY);ze>Ie*20&&Ge.push(Ve.map(pe=>pe/1e3)),ze<=Ie*2&&ye>=0&&ze>0&&ze<Math.max(120,yt*5+10)&&Ge.push(Ve.map(pe=>pe*1e3));let Ze=Ve,nt=0,de=-1;return Ge.forEach(pe=>{const ot=pe.reduce((we,ce)=>Math.min(we,ce),Number.POSITIVE_INFINITY),xt=new Set([0,...et,...st]);if(Number.isFinite(ot)&&Ie>0&&ot>Ie){const we=Math.floor(ot/Ie)*Ie;xt.add(we),xt.add(Math.max(0,we-Ie))}xt.forEach(we=>{const ce=pe.map(De=>De-we),Ot=Oe(ce);Ot>de&&(de=Ot,nt=we,Ze=pe)})}),Ze.map(pe=>pe-nt).filter(pe=>Number.isFinite(pe)&&pe>=0)},he=(Se,et,st,yt,Ne)=>{const Ie=me(Se,et,st,yt,Ne);return Array.from(new Set(Ie.map(Oe=>Math.floor(Oe/5e3)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0&&Oe<yt)))};o.map(Se=>({log:Se,ts:ti(Se==null?void 0:Se.details,Se)})).sort((Se,et)=>Se.ts-et.ts).forEach(({log:Se},et)=>{const st=Se==null?void 0:Se.details;if(!st)return;const yt=T(st.fightName||Se.fightName||`Fight ${et+1}`),Ne=wa(st,Se),Ie=J(yt,String(Ne||"")),Oe={},Ve=Array.isArray(st.players)?st.players:[],Ge=Ve.flatMap(we=>{const ce=we==null?void 0:we.combatReplayData;return Array.isArray(ce)?ce.map(Ot=>Number(Ot==null?void 0:Ot.start)):[Number(ce==null?void 0:ce.start)]}).filter(we=>Number.isFinite(we)&&we>=0);Ve.forEach(we=>{if(we!=null&&we.notInSquad)return;const ce=String((we==null?void 0:we.account)||(we==null?void 0:we.name)||"Unknown"),Ot=String((we==null?void 0:we.character_name)||(we==null?void 0:we.display_name)||(we==null?void 0:we.name)||""),De=String((we==null?void 0:we.profession)||"Unknown"),_e=`${ce}|${De}`,ut=Mt(we,st),ft=Number(ut.peak||0),it=Number(ut.peakDownContribution||0),We=Ue(we),{damageTotal:mt,downContributionTotal:ht}=pt(we,st),$t=mt>0?Math.min(1,Math.max(0,ht/mt)):0,tn=We.map($e=>Number($e||0)*$t),pn=Number(Me(We,1)||0),Sn=Number(Me(We,5)||0),Dn=Number(Me(We,30)||0),or=Number(Me(tn,1)||0),On=Number(Me(tn,5)||0),Mr=Number(Me(tn,30)||0),pr=Math.max(0,Math.ceil(Number((st==null?void 0:st.durationMS)||0)/5e3)),Yn=Math.max(0,Math.ceil(We.length/5)),Zr=Math.max(0,Math.ceil(tn.length/5)),kr=Math.max(pr,Yn,Zr),lr=bt(We,5),fs=bt(tn,5),Ci=Array.from({length:kr},($e,Be)=>Number(lr[Be]||0)),cl=Array.from({length:kr},($e,Be)=>Number(fs[Be]||0)),Fn=new Map,ms=$e=>{if(!$e||typeof $e!="object"||$e.indirectDamage)return;const Be=Number($e.totalDamage||0),gt=Number($e.downContribution||0);if((!Number.isFinite(Be)||Be<=0)&&(!Number.isFinite(gt)||gt<=0))return;const Ft=Number($e.connectedHits||$e.hits||0),wn=It($e.id,st),Wn=wn.name,Vn=Fn.get(Wn)||{skillName:Wn,damage:0,downContribution:0,hits:0,icon:wn.icon};Vn.damage+=Number.isFinite(Be)?Be:0,Vn.downContribution+=Number.isFinite(gt)?gt:0,Vn.hits+=Number.isFinite(Ft)?Ft:0,!Vn.icon&&wn.icon&&(Vn.icon=wn.icon),Fn.set(Wn,Vn)},ji=new Map;Array.isArray(we==null?void 0:we.targetDamageDist)&&we.targetDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(Be=>{Array.isArray(Be)&&Be.forEach(gt=>{const Ft=Number(gt==null?void 0:gt.id),wn=Number((gt==null?void 0:gt.totalDamage)||0),Wn=Number((gt==null?void 0:gt.downContribution)||0);if(Number.isFinite(Ft)){const Vn=ji.get(Ft)||{damage:0,downContribution:0,hits:0};Vn.damage+=Number.isFinite(wn)?wn:0,Vn.downContribution+=Number.isFinite(Wn)?Wn:0,Vn.hits+=Number((gt==null?void 0:gt.connectedHits)||(gt==null?void 0:gt.hits)||0),ji.set(Ft,Vn)}ms(gt)})})}),!(st!=null&&st.detailedWvW)&&Array.isArray(we==null?void 0:we.totalDamageDist)&&we.totalDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(Be=>{const gt=Number(Be==null?void 0:Be.id);if(!Number.isFinite(gt)){ms(Be);return}const Ft=ji.get(gt);if(!Ft){ms(Be);return}const wn=Number((Be==null?void 0:Be.totalDamage)||0),Wn=Number((Be==null?void 0:Be.downContribution)||0),Vn=Number((Be==null?void 0:Be.connectedHits)||(Be==null?void 0:Be.hits)||0),vn=wn-Number(Ft.damage||0),ei=Wn-Number(Ft.downContribution||0),Tn=Vn-Number(Ft.hits||0);vn<=0&&ei<=0&&Tn<=0||ms({...Be,totalDamage:Math.max(0,vn),downContribution:Math.max(0,ei),connectedHits:Math.max(0,Tn),hits:Math.max(0,Tn)})})});const Bn=(()=>{const $e=we==null?void 0:we.combatReplayData;return Array.isArray($e)?$e.filter(Be=>Be&&typeof Be=="object"):$e&&typeof $e=="object"?[$e]:[]})(),dc=Bn.map($e=>Number($e==null?void 0:$e.start)).filter($e=>Number.isFinite($e)&&$e>=0),Jr=Bn.flatMap($e=>He($e==null?void 0:$e.down).map(([Be])=>Number(Be||0))),Qe=Bn.flatMap($e=>He($e==null?void 0:$e.dead).map(([Be])=>Number(Be||0)));Oe[_e]={hit:ft,burst1s:pn,burst5s:Sn,burst30s:Dn,hitDown:it,burst1sDown:or,burst5sDown:On,burst30sDown:Mr,skillName:ut.skillName,buckets5s:Ci,buckets5sDown:cl,downIndices5s:he(Jr,dc,Ge,kr,Number((st==null?void 0:st.durationMS)||0)),deathIndices5s:he(Qe,dc,Ge,kr,Number((st==null?void 0:st.durationMS)||0)),skillRows:Array.from(Fn.values()).sort(($e,Be)=>Be.damage-$e.damage).slice(0,50)};const Re=fe.get(_e)||{key:_e,account:ce,displayName:ce,characterName:Ot,profession:De,professionList:[De],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Re.logs+=1,Re.professionList.includes(De)||Re.professionList.push(De),!Re.characterName&&Ot&&(Re.characterName=Ot),ft>Re.peakHit&&(Re.peakHit=ft,Re.peakFightLabel=Ie,Re.peakSkillName=ut.skillName),pn>Re.peak1s&&(Re.peak1s=pn),Sn>Re.peak5s&&(Re.peak5s=Sn),Dn>Re.peak30s&&(Re.peak30s=Dn),it>Re.peakHitDown&&(Re.peakHitDown=it),or>Re.peak1sDown&&(Re.peak1sDown=or),On>Re.peak5sDown&&(Re.peak5sDown=On),Mr>Re.peak30sDown&&(Re.peak30sDown=Mr),fe.set(_e,Re)});const ze=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.hit)||0)),0),ye=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.burst1s)||0)),0),Ze=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.burst5s)||0)),0),nt=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.burst30s)||0)),0),de=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.hitDown)||0)),0),pe=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.burst1sDown)||0)),0),ot=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.burst5sDown)||0)),0),xt=Object.values(Oe).reduce((we,ce)=>Math.max(we,Number((ce==null?void 0:ce.burst30sDown)||0)),0);ke.push({id:Se.filePath||Se.id||`fight-${et+1}`,shortLabel:`F${et+1}`,fullLabel:Ie,timestamp:ti(st,Se),values:Oe,maxHit:ze,max1s:ye,max5s:Ze,max30s:nt,maxHitDown:de,max1sDown:pe,max5sDown:ot,max30sDown:xt})});const Je=Array.from(fe.values()).sort((Se,et)=>et.peakHit!==Se.peakHit?et.peakHit-Se.peakHit:Se.displayName.localeCompare(et.displayName));return{fights:ke,players:Je}})(),$n=(()=>{const T=Ne=>String(Ne||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=Ne=>T(Ne).toLowerCase().split(/[^a-z0-9]+/i).map(Ie=>Ie.trim()).filter(Boolean).map(Ie=>Ie.length>3&&Ie.endsWith("s")?Ie.slice(0,-1):Ie),J=(Ne,Ie)=>{const Oe=T(Ne),Ve=T(Ie);if(!Ve)return Oe;if(!Oe)return Ve;const Ge=$(Oe),ze=$(Ve),ye=new Set(Ge),Ze=new Set(ze),nt=ze.length>0&&ze.every(pe=>ye.has(pe)),de=Ge.length>0&&Ge.every(pe=>Ze.has(pe));return nt||de?Oe:`${Oe} - ${Ve}`},ke=[],fe=new Map,Ue=(Ne,Ie)=>{const Oe=Number(Ne);if(!Number.isFinite(Oe))return{name:String(Ne||"Unknown Skill"),icon:void 0};const Ve=(Ie==null?void 0:Ie.skillMap)||{},Ge=(Ie==null?void 0:Ie.buffMap)||{},ze=(Ve==null?void 0:Ve[`s${Oe}`])||(Ve==null?void 0:Ve[`${Oe}`]);if(ze!=null&&ze.name)return{name:String(ze.name),icon:ze==null?void 0:ze.icon};const ye=(Ge==null?void 0:Ge[`b${Oe}`])||(Ge==null?void 0:Ge[`${Oe}`]);return ye!=null&&ye.name?{name:String(ye.name),icon:ye==null?void 0:ye.icon}:{name:`Skill ${Oe}`,icon:void 0}},Me=(Ne,Ie)=>{let Oe=0,Ve="";const Ge=ze=>{if(!ze||typeof ze!="object"||ze.indirectDamage)return;const ye=[Number(ze.max),Number(ze.maxDamage),Number(ze.maxHit)].filter(nt=>Number.isFinite(nt)),Ze=ye.length>0?Math.max(...ye):0;Ze>Oe&&(Oe=Ze,Ve=Ue(ze.id,Ie).name)};return Array.isArray(Ne==null?void 0:Ne.totalDamageDist)&&Ne.totalDamageDist.forEach(ze=>{Array.isArray(ze)&&ze.forEach(ye=>Ge(ye))}),Array.isArray(Ne==null?void 0:Ne.targetDamageDist)&&Ne.targetDamageDist.forEach(ze=>{Array.isArray(ze)&&ze.forEach(ye=>{Array.isArray(ye)&&ye.forEach(Ze=>Ge(Ze))})}),{peak:Oe,skillName:Ve||"Unknown Skill"}},bt=Ne=>{if(!Array.isArray(Ne)||Ne.length===0)return[];const Ie=[];for(let Oe=0;Oe<Ne.length;Oe+=1){const Ve=Number(Ne[Oe]||0),Ge=Oe>0?Number(Ne[Oe-1]||0):0;Ie.push(Math.max(0,Ve-Ge))}return Ie},pt=Ne=>{if(!Array.isArray(Ne)||Ne.length===0)return[];const Ie=Ne.reduce((Ve,Ge)=>Math.max(Ve,Array.isArray(Ge)?Ge.length:0),0);if(Ie<=0)return[];const Oe=new Array(Ie).fill(0);return Ne.forEach(Ve=>{if(Array.isArray(Ve))for(let Ge=0;Ge<Ie;Ge+=1)Oe[Ge]+=Number(Ve[Ge]||0)}),Oe},It=Ne=>{if(!Array.isArray(Ne)||Ne.length===0)return[];const Ie=Ne[0];if(typeof Ie=="number")return Ne.map(Oe=>Number(Oe||0));if(Array.isArray(Ie)&&Ie.length>0){if(typeof Ie[0]=="number")return Ie.map(Oe=>Number(Oe||0));if(Array.isArray(Ie[0])){const Oe=Ie.map(Ve=>Array.isArray(Ve)?Ve.map(Ge=>Number(Ge||0)):null).filter(Ve=>Array.isArray(Ve)&&Ve.length>0);if(Oe.length>0)return pt(Oe)}}return[]},He=Ne=>{const Ie=It(Ne==null?void 0:Ne.powerDamage1S),Oe=It(Ne==null?void 0:Ne.damage1S),Ve=Ie.length>0?Ie:Oe;return bt(Ve)},me=(Ne,Ie)=>{const Oe=Ne==null?void 0:Ne.targetPowerDamage1S;if(!Array.isArray(Oe)||!Array.isArray(Oe[Ie]))return[];const Ve=Oe[Ie];if(!Array.isArray(Ve)||Ve.length===0)return[];if(typeof Ve[0]=="number")return Ve.map(Ge=>Number(Ge||0));if(Array.isArray(Ve[0])&&!Array.isArray(Ve[0][0]))return Ve[0].map(Ge=>Number(Ge||0));if(Array.isArray(Ve[0])&&Array.isArray(Ve[0][0])){const ze=Ve[0].map(ye=>Array.isArray(ye)?ye.map(Ze=>Number(Ze||0)):null).filter(ye=>Array.isArray(ye)&&ye.length>0);return pt(ze)}return[]},he=(Ne,Ie)=>{if(!Array.isArray(Ne)||Ne.length===0||Ie<=0)return 0;let Oe=0,Ve=0;for(let Ge=0;Ge<Ne.length;Ge+=1)Oe+=Number(Ne[Ge]||0),Ge>=Ie&&(Oe-=Number(Ne[Ge-Ie]||0)),Ge>=Ie-1&&Oe>Ve&&(Ve=Oe);return Math.max(0,Ve)},Je=(Ne,Ie)=>{if(!Array.isArray(Ne)||Ne.length===0||Ie<=0)return[];const Oe=[];for(let Ve=0;Ve<Ne.length;Ve+=Ie){const Ge=Math.min(Ve+Ie,Ne.length),ze=Ne.slice(Ve,Ge).reduce((ye,Ze)=>ye+Number(Ze||0),0);Oe.push(ze)}return Oe},Se=Ne=>Array.isArray(Ne)?Ne.map(Ie=>Array.isArray(Ie)?[Number(Ie[0]),Number(Ie[1])]:Ie&&typeof Ie=="object"?[Number(Ie.time),Number(Ie.value)]:null).filter(Ie=>!!Ie&&Number.isFinite(Ie[0])&&Ie[0]>=0):[],et=(Ne,Ie,Oe,Ve,Ge)=>{if(!Ne.length||Ve<=0)return[];const ze=Math.max(Ve*5e3,Ge||0),ye=ce=>ce.reduce((Ot,De)=>De>=0&&De<=ze+2e3?Ot+1:Ot,0),Ze=Ne.map(ce=>Number(ce||0)).filter(ce=>Number.isFinite(ce)&&ce>=0);if(!Ze.length)return[];const nt=[Ze],de=Ze.reduce((ce,Ot)=>Math.max(ce,Ot),0),pe=Ze.reduce((ce,Ot)=>Math.min(ce,Ot),Number.POSITIVE_INFINITY);de>ze*20&&nt.push(Ze.map(ce=>ce/1e3)),de<=ze*2&&pe>=0&&de>0&&de<Math.max(120,Ve*5+10)&&nt.push(Ze.map(ce=>ce*1e3));let ot=Ze,xt=0,we=-1;return nt.forEach(ce=>{const Ot=ce.reduce((_e,ut)=>Math.min(_e,ut),Number.POSITIVE_INFINITY),De=new Set([0,...Ie,...Oe]);if(Number.isFinite(Ot)&&ze>0&&Ot>ze){const _e=Math.floor(Ot/ze)*ze;De.add(_e),De.add(Math.max(0,_e-ze))}De.forEach(_e=>{const ut=ce.map(it=>it-_e),ft=ye(ut);ft>we&&(we=ft,xt=_e,ot=ce)})}),ot.map(ce=>ce-xt).filter(ce=>Number.isFinite(ce)&&ce>=0)},st=(Ne,Ie,Oe,Ve,Ge)=>{const ze=et(Ne,Ie,Oe,Ve,Ge);return Array.from(new Set(ze.map(ye=>Math.floor(ye/5e3)).filter(ye=>Number.isFinite(ye)&&ye>=0&&ye<Ve)))};o.map(Ne=>({log:Ne,ts:ti(Ne==null?void 0:Ne.details,Ne)})).sort((Ne,Ie)=>Ne.ts-Ie.ts).forEach(({log:Ne},Ie)=>{const Oe=Ne==null?void 0:Ne.details;if(!Oe)return;const Ve=T(Oe.fightName||Ne.fightName||`Fight ${Ie+1}`),Ge=wa(Oe,Ne),ze=J(Ve,String(Ge||"")),ye={},nt=(Array.isArray(Oe.players)?Oe.players:[]).filter(We=>!(We!=null&&We.notInSquad)),de=nt.flatMap(We=>{const mt=We==null?void 0:We.combatReplayData;return Array.isArray(mt)?mt.map(ht=>Number(ht==null?void 0:ht.start)):[Number(mt==null?void 0:mt.start)]}).filter(We=>Number.isFinite(We)&&We>=0),pe=nt.flatMap(We=>{const mt=We==null?void 0:We.combatReplayData;return(Array.isArray(mt)?mt:mt?[mt]:[]).flatMap($t=>Se($t==null?void 0:$t.down).map(([tn])=>Number(tn||0)))}),ot=nt.flatMap(We=>{const mt=We==null?void 0:We.combatReplayData;return(Array.isArray(mt)?mt:mt?[mt]:[]).flatMap($t=>Se($t==null?void 0:$t.dead).map(([tn])=>Number(tn||0)))}),xt=new Map,we=new Map,ce=new Map;(Array.isArray(Oe.targets)?Oe.targets:[]).forEach((We,mt)=>{if(!We||We.isFake||!We.enemyPlayer)return;const ht=V((We==null?void 0:We.profession)||(We==null?void 0:We.name)||(We==null?void 0:We.id))||"Unknown";ce.set(ht,(ce.get(ht)||0)+1);const $t=we.get(ht)||new Map;Array.isArray(We==null?void 0:We.totalDamageDist)&&We.totalDamageDist.forEach(On=>{Array.isArray(On)&&On.forEach(Mr=>{if(!Mr||typeof Mr!="object"||Mr.indirectDamage)return;const pr=Number(Mr.totalDamage||0);if(!Number.isFinite(pr)||pr<=0)return;const Yn=Number(Mr.connectedHits||Mr.hits||0),Zr=Ue(Mr.id,Oe),kr=Zr.name,lr=$t.get(kr)||{skillName:kr,damage:0,hits:0,icon:Zr.icon};lr.damage+=pr,lr.hits+=Number.isFinite(Yn)?Yn:0,!lr.icon&&Zr.icon&&(lr.icon=Zr.icon),$t.set(kr,lr)})}),we.set(ht,$t);const tn=pt(nt.map(On=>me(On,mt))),pn=tn.length>0?bt(tn):He(We),Sn=Me(We,Oe);let Dn=xt.get(ht);Dn||(Dn={perSecond:[],hit:0,skillName:""},xt.set(ht,Dn)),pn.length>Dn.perSecond.length&&(Dn.perSecond.length=pn.length);for(let On=0;On<pn.length;On+=1)Dn.perSecond[On]=Number(Dn.perSecond[On]||0)+Number(pn[On]||0);const or=Number(Sn.peak||0);or>Dn.hit&&(Dn.hit=or,Dn.skillName=Sn.skillName||"Unknown Skill")});const De=Array.from(xt.values()).some(We=>Array.isArray(We.perSecond)&&We.perSecond.some(mt=>Number(mt||0)>0));if(xt.size===0||!De){const We=pt(nt.map(ht=>{const $t=It(ht==null?void 0:ht.powerDamageTaken1S);return bt($t)})),mt=Array.from(ce.values()).reduce((ht,$t)=>ht+Number($t||0),0);We.length>0&&mt>0&&ce.forEach((ht,$t)=>{const tn=Number(ht||0)/mt,pn=We.map(Dn=>Number(Dn||0)*tn),Sn=xt.get($t);xt.set($t,{perSecond:pn,hit:Number((Sn==null?void 0:Sn.hit)||0),skillName:String((Sn==null?void 0:Sn.skillName)||"")})})}xt.forEach((We,mt)=>{var Zr;const ht=mt,$t=Number(We.hit||0),tn=Number(he(We.perSecond,1)||0),pn=Number(he(We.perSecond,5)||0),Sn=Number(he(We.perSecond,30)||0),Dn=Math.max(0,Math.ceil(Number((Oe==null?void 0:Oe.durationMS)||0)/5e3)),or=Math.max(0,Math.ceil(We.perSecond.length/5)),On=Math.max(Dn,or),Mr=Je(We.perSecond,5),pr=Array.from({length:On},(kr,lr)=>Number(Mr[lr]||0));ye[ht]={hit:$t,burst1s:tn,burst5s:pn,burst30s:Sn,skillName:We.skillName||"Unknown Skill",buckets5s:pr,downIndices5s:st(pe,[],de,On,Number((Oe==null?void 0:Oe.durationMS)||0)),deathIndices5s:st(ot,[],de,On,Number((Oe==null?void 0:Oe.durationMS)||0)),skillRows:Array.from(((Zr=we.get(mt))==null?void 0:Zr.values())||[]).sort((kr,lr)=>lr.damage-kr.damage).slice(0,50)};const Yn=fe.get(ht)||{key:ht,account:mt,displayName:mt,characterName:"",profession:mt,professionList:[mt],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Yn.logs+=1,$t>Yn.peakHit&&(Yn.peakHit=$t,Yn.peakFightLabel=ze,Yn.peakSkillName=We.skillName||"Unknown Skill"),tn>Yn.peak1s&&(Yn.peak1s=tn),pn>Yn.peak5s&&(Yn.peak5s=pn),Sn>Yn.peak30s&&(Yn.peak30s=Sn),fe.set(ht,Yn)});const _e=Object.values(ye).reduce((We,mt)=>Math.max(We,Number((mt==null?void 0:mt.hit)||0)),0),ut=Object.values(ye).reduce((We,mt)=>Math.max(We,Number((mt==null?void 0:mt.burst1s)||0)),0),ft=Object.values(ye).reduce((We,mt)=>Math.max(We,Number((mt==null?void 0:mt.burst5s)||0)),0),it=Object.values(ye).reduce((We,mt)=>Math.max(We,Number((mt==null?void 0:mt.burst30s)||0)),0);ke.push({id:Ne.filePath||Ne.id||`fight-${Ie+1}`,shortLabel:`F${Ie+1}`,fullLabel:ze,timestamp:ti(Oe,Ne),values:ye,maxHit:_e,max1s:ut,max5s:ft,max30s:it})});const yt=Array.from(fe.values()).sort((Ne,Ie)=>Ie.peakHit!==Ne.peakHit?Ie.peakHit-Ne.peakHit:Ne.displayName.localeCompare(Ie.displayName));return{fights:ke,players:yt}})(),di=Array.from(D.entries()).map(([T,$])=>{const J=P.get(T)||{},ke=Array.from($.values()).map(fe=>{var he,Je;const Ue=Array.from(fe.professions||[]).filter(Se=>Se&&Se!=="Unknown");let Me=fe.profession||"Unknown";if(Ue.length>0){Me=Ue[0];let Se=((he=fe.professionTimeMs)==null?void 0:he[Me])||0;Ue.forEach(et=>{var yt;const st=((yt=fe.professionTimeMs)==null?void 0:yt[et])||0;st>Se&&(Se=st,Me=et)})}const bt=fe.durationMs||0,pt=fe.totalMs/1e3,It=bt>0?fe.totalMs/bt:0,He=((Je=_.get(fe.account))==null?void 0:Je.supportActiveMs)||bt,me=He>0?fe.uptimeMs/He:0;return{account:fe.account,profession:Me,professionList:Ue,total:pt,perSecond:It,uptimePerSecond:me,duration:bt/1e3}}).filter(fe=>fe.total>0||fe.perSecond>0);return{id:T,name:J.name||T,icon:J.icon,rows:ke}}).filter(T=>T.rows.length>0),lt=Array.from(ve.values()).map(T=>{const $=Array.from(T.skills.values()).sort((ke,fe)=>fe.damage-ke.damage),J={key:T.key,account:T.account,displayName:T.displayName,profession:T.profession,professionList:T.professionList,totalFightMs:T.totalFightMs,skills:$};return p&&(J.skillMap=$.reduce((ke,fe)=>(ke[fe.id]=fe,ke),{})),J}).sort((T,$)=>T.displayName.localeCompare($.displayName));return{total:x,wins:w,losses:y,avgSquadSize:Le,avgEnemies:wt,squadKDR:Wt,enemyKDR:mn,totalSquadKills:A,totalSquadDeaths:S,totalEnemyKills:R,totalEnemyDeaths:O,leaderboards:un,...Ur,outgoingConditionSummary:Object.values(Y).sort((T,$)=>$.damage-T.damage),incomingConditionSummary:Object.values(q).sort((T,$)=>$.damage-T.damage),outgoingConditionPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.incomingConditions})),topSkills:sr,topIncomingSkills:ya,topSkillsByDamage:ci,topSkillsByDownContribution:Fs,playerSkillBreakdowns:lt,topSkillsMetric:b,mapData:vu,timelineData:bu,boonTables:Sa,boonTimeline:cc,boonUptimeTimeline:ol,offensePlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,offenseTotals:T.offenseTotals,offenseRateWeights:T.offenseRateWeights,totalFightMs:T.totalFightMs})),defensePlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,defenseTotals:T.defenseTotals,activeMs:T.defenseActiveMs,minionDamageTakenByMinion:T.defenseMinionDamageTaken})),damageMitigationPlayers:sn,damageMitigationMinions:Zt,supportPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,supportTotals:T.supportTotals,activeMs:T.supportActiveMs})),healingPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,healingTotals:T.healingTotals,activeMs:T.healingActiveMs})),mvp:Lr,silver:pu,bronze:co,squadClassData:ll,enemyClassData:qe,fightBreakdown:St,fightDiffMode:Ut,attendanceData:Gt,squadCompByFight:Jt,spikeDamage:Nt,incomingStrikeDamage:$n,specialTables:di,topStatsPerSecond:kn,topStatsLeaderboardsPerSecond:Nn,avgMvpScore:sl}})(),h=(()=>{const m=new Map,p=new Map,v=[],b=new Map,x=new Map;o.forEach(y=>{const N=y.details;if(!N)return;const C=N.skillMap||{},S=N.fightName||"Log",A=ti(N,y)||Date.now(),O={id:y.filePath||y.id||S,label:S,timestamp:A,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(M=>{if(M.notInSquad)return;const L=M.account||M.name||"Unknown",_=M.profession||"Unknown",G=`${L}|${_}`;let ee=p.get(G);ee||(ee={key:G,account:L,displayName:L,profession:_,professionList:[_],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(G,ee)),ee.logs++;const le=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;ee.totalActiveSeconds=(ee.totalActiveSeconds||0)+le,O.playerActiveSeconds[G]=le,(M.rotation||[]).forEach(ve=>{var D,re,k;if(!(ve!=null&&ve.id))return;const Y=((D=ve.skills)==null?void 0:D.length)||0;if(Y<=0)return;const q=`s${ve.id}`,K=((re=C[q])==null?void 0:re.name)||`Skill ${ve.id}`,P=(k=C[q])==null?void 0:k.icon;ee.skillTotals[q]=(ee.skillTotals[q]||0)+Y,m.set(q,(m.get(q)||0)+Y),b.set(q,K),P&&!x.has(q)&&x.set(q,P),O.skillEntries[q]||(O.skillEntries[q]={name:K,icon:P,players:{}}),!O.skillEntries[q].icon&&P&&(O.skillEntries[q].icon=P),O.skillEntries[q].players[G]=(O.skillEntries[q].players[G]||0)+Y})}),v.push(O)});const w=Array.from(m.entries()).map(([y,N])=>({id:y,name:b.get(y)||y,total:N,icon:x.get(y)})).sort((y,N)=>N.total-y.total);return{logRecords:v,players:Array.from(p.values()),skillOptions:w,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},H8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const v=new Set;let b=null,x=null;e.forEach(M=>{const L=M.details;if(!L)return;const _=L.timeStartStd||L.timeStart||L.uploadTime||M.uploadTime,G=L.timeEndStd||L.timeEnd||L.uploadTime||M.uploadTime,ee=_?new Date(_):null,le=G?new Date(G):null;ee&&!Number.isNaN(ee.getTime())&&(!b||ee<b)&&(b=ee),le&&!Number.isNaN(le.getTime())&&(!x||le>x)&&(x=le),(L.players||[]).forEach(Y=>{if(!(Y!=null&&Y.notInSquad)&&Y!=null&&Y.hasCommanderTag){const q=(Y==null?void 0:Y.name)||(Y==null?void 0:Y.account)||"Unknown";v.add(q)}})});const w=Array.from(v).sort((M,L)=>M.localeCompare(L)),y=b||new Date,N=x||y,C=y.toISOString(),S=N.toISOString(),A=`${y.toLocaleString()} - ${N.toLocaleString()}`,O=M=>String(M).padStart(2,"0");return{id:`${y.getFullYear()}${O(y.getMonth()+1)}${O(y.getDate())}-${O(y.getHours())}${O(y.getMinutes())}${O(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:w.length?w.join(", "):"Unknown Commander",commanders:w,dateStart:C,dateEnd:S,dateLabel:A,generatedAt:new Date().toISOString()}},h=()=>{var b;const v={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(v.fightDiffMode)&&v.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return v;try{const x=jf({logs:e,statsViewSettings:r}),w=(b=x==null?void 0:x.stats)==null?void 0:b.fightDiffMode;if(Array.isArray(w)&&w.length>0)return{...v,fightDiffMode:w}}catch{}return v};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const v=f(),b=h();await s({meta:v,stats:b})}catch(v){console.error("[StatsView] Web upload failed:",v)}},handleDevMockUpload:async()=>{var v;if(!(a||!((v=window.electronAPI)!=null&&v.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const b=f(),x=h(),w=await window.electronAPI.mockWebReport({meta:b,stats:x});w!=null&&w.success?l({uploading:!1,message:"Local report ready.",url:w.url||null}):l({uploading:!1,message:(w==null?void 0:w.error)||"Local report failed.",url:null})}catch(b){l({uploading:!1,message:(b==null?void 0:b.message)||"Local report failed.",url:null})}}}}};function q8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const K8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Vl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Au=null;function FO(e={}){return Au||(e.includeStyleProperties?(Au=e.includeStyleProperties,Au):(Au=Vl(window.getComputedStyle(document.documentElement)),Au))}function Ig(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function G8(e){const t=Ig(e,"border-left-width"),n=Ig(e,"border-right-width");return e.clientWidth+t+n}function Y8(e){const t=Ig(e,"border-top-width"),n=Ig(e,"border-bottom-width");return e.clientHeight+t+n}function RO(e,t={}){const n=t.width||G8(e),r=t.height||Y8(e);return{width:n,height:r}}function X8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ja=16384;function Q8(e){(e.width>ja||e.height>ja)&&(e.width>ja&&e.height>ja?e.width>e.height?(e.height*=ja/e.width,e.width=ja):(e.width*=ja/e.height,e.height=ja):e.width>ja?(e.height*=ja/e.width,e.width=ja):(e.width*=ja/e.height,e.height=ja))}function _g(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Z8(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function J8(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),Z8(i)}const ga=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ga(n,t)};function eW(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function tW(e,t){return FO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function nW(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?eW(n):tW(n,r);return document.createTextNode(`${i}{${a}}`)}function lj(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=K8();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(nW(s,n,i,r)),t.appendChild(o)}function rW(e,t,n){lj(e,t,":before",n),lj(e,t,":after",n)}const cj="application/font-woff",uj="image/jpeg",iW={woff:cj,woff2:cj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:uj,jpeg:uj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function aW(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ik(e){const t=aW(e).toLowerCase();return iW[t]||""}function sW(e){return e.split(/,/)[1]}function ew(e){return e.search(/^(data:)/)!==-1}function oW(e,t){return`data:${t};base64,${e}`}async function BO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const tb={};function lW(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function _k(e,t,n){const r=lW(e,t,n.includeQueryParams);if(tb[r]!=null)return tb[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await BO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),sW(o)));i=oW(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return tb[r]=i,i}async function cW(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):_g(t)}async function uW(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return _g(o)}const n=e.poster,r=Ik(n),i=await _k(n,r,t);return _g(i)}async function dW(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await ux(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function fW(e,t){return ga(e,HTMLCanvasElement)?cW(e):ga(e,HTMLVideoElement)?uW(e,t):ga(e,HTMLIFrameElement)?dW(e,t):e.cloneNode(zO(e))}const mW=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",zO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function hW(e,t,n){var r,i;if(zO(t))return t;let a=[];return mW(e)&&e.assignedNodes?a=Vl(e.assignedNodes()):ga(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=Vl(e.contentDocument.body.childNodes):a=Vl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ga(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>ux(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function pW(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):FO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ga(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function gW(e,t){ga(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ga(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function xW(e,t){if(ga(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function vW(e,t,n){return ga(t,Element)&&(pW(e,t,n),rW(e,t,n),gW(e,t),xW(e,t)),t}async function bW(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!r[o]&&(r[o]=await ux(u,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function ux(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>fW(r,t)).then(r=>hW(e,r,t)).then(r=>vW(e,r,t)).then(r=>bW(r,t))}const UO=/url\((['"]?)([^'"]+?)\1\)/g,yW=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,wW=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function kW(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function SW(e){const t=[];return e.replace(UO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!ew(n))}async function NW(e,t,n,r,i){try{const a=n?q8(t,n):t,s=Ik(t);let o;return i||(o=await _k(a,s,r)),e.replace(kW(t),`$1${o}$3`)}catch{}return e}function CW(e,{preferredFontFormat:t}){return t?e.replace(wW,n=>{for(;;){const[r,,i]=yW.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function WO(e){return e.search(UO)!==-1}async function VO(e,t,n){if(!WO(e))return e;const r=CW(e,n);return SW(r).reduce((a,s)=>a.then(o=>NW(o,s,t,n)),Promise.resolve(r))}async function Pu(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await VO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function jW(e,t){await Pu("background",e,t)||await Pu("background-image",e,t),await Pu("mask",e,t)||await Pu("-webkit-mask",e,t)||await Pu("mask-image",e,t)||await Pu("-webkit-mask-image",e,t)}async function AW(e,t){const n=ga(e,HTMLImageElement);if(!(n&&!ew(e.src))&&!(ga(e,SVGImageElement)&&!ew(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await _k(r,Ik(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function PW(e,t){const r=Vl(e.childNodes).map(i=>HO(i,t));await Promise.all(r).then(()=>e)}async function HO(e,t){ga(e,Element)&&(await jW(e,t),await AW(e,t),await PW(e,t))}function DW(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const dj={};async function fj(e){let t=dj[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},dj[e]=t,t}async function mj(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),BO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function hj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function TW(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Vl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,u=fj(l).then(d=>mj(d,t)).then(d=>hj(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(fj(i.href).then(o=>mj(o,t)).then(o=>hj(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Vl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function MW(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>WO(t.style.getPropertyValue("src")))}async function EW(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Vl(e.ownerDocument.styleSheets),r=await TW(n,t);return MW(r)}function qO(e){return e.trim().replace(/["']/g,"")}function OW(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(qO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function IW(e,t){const n=await EW(e,t),r=OW(e);return(await Promise.all(n.filter(a=>r.has(qO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return VO(a.cssText,s,t)}))).join(`
`)}async function _W(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await IW(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function LW(e,t={}){const{width:n,height:r}=RO(e,t),i=await ux(e,t,!0);return await _W(i,t),await HO(i,t),DW(i,t),await J8(i,n,r)}async function $W(e,t={}){const{width:n,height:r}=RO(e,t),i=await LW(e,t),a=await _g(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||X8(),u=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=u*l,s.height=d*l,t.skipAutoScale||Q8(s),s.style.width=`${u}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function FW(e,t={}){return(await $W(e,t)).toDataURL()}const RW=e=>{const[t,n]=g.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=u,globalThis.fetch=u;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],u=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var w;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const v=await u(p);if(!v)return;const b=m.src,x=m.srcset;m.src=v,m.srcset="",l.push(()=>{m.src=b,m.srcset=x});try{await((w=m.decode)==null?void 0:w.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const v=window.getComputedStyle(m).backgroundImage;if(!v||v==="none"||!v.includes("url("))return;const b=Array.from(v.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!b.length)return;let x=v,w=!1;for(const N of b){const C=N[1];if(!C)continue;const S=await u(C);S&&(x=x.replace(N[0],`url("${S}")`),w=!0)}if(!w)return;const y=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=y})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(v=>setTimeout(v,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(v=>{v.dataset.prevDisplay=v.style.display,v.style.display="none"});let u;const d=await i(s);try{const v=s.scrollWidth,b=s.scrollHeight;u=await r(()=>FW(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:v,height:b,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(v=>{v.style.display=v.dataset.prevDisplay||"",delete v.dataset.prevDisplay})}const m=await(await(await fetch(u)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},Af=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},BW=e=>!!(e&&e.__statsPruned===!0),pj=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},gj=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},zW=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=Af(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},xj=e=>{if(!e||typeof e!="object")return e;const t=Af(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=pj(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=pj(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!gj(a));t.players=n.map(a=>{const s=Af(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(u=>Af(u,["name","totalDamageTakenDist"]));const l=i&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!gj(a));return s.combatReplayData=zW(a==null?void 0:a.combatReplayData,l),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Af(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},UW=e=>{if(!e||typeof e!="object"||BW(e))return e;const t={...e};return e.details?t.details=xj(e.details):t.details=xj(e),t.__statsPruned=!0,t},WW=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=g.useState(()=>jf(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[u,d]=g.useState(0),[f,h]=g.useState(0),[m,p]=g.useState(0),[v,b]=g.useState(0),[x,w]=g.useState(null),y=g.useRef(0),[N,C]=g.useState(0),S=g.useRef(null),A=g.useRef(null),[O,R]=g.useState(!1),M=g.useRef(null),L=g.useRef(null),_=g.useRef(0),G=g.useRef(0),ee=g.useRef(new Map),le=g.useRef(""),ve=g.useRef(void 0),Y=g.useRef(""),q=g.useRef(0),[K,P]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[D,re]=g.useState(null),k=g.useRef(0),W=()=>{if(M.current!==null&&(window.clearTimeout(M.current),M.current=null),L.current!==null){const H=window.cancelIdleCallback;typeof H=="function"&&H(L.current),L.current=null}},V=(H,te)=>{const z=String((H==null?void 0:H.filePath)||(H==null?void 0:H.id)||`idx-${te}`),ue=H!=null&&H.details&&typeof H.details=="object"?H.details:null,Z=ee.current.get(z);if(Z&&(ue&&Z.sourceDetails===ue||!ue&&Z.sourceLog===H))return Z.pruned;const ae=UW(H);return ee.current.set(z,{sourceLog:H,sourceDetails:ue,pruned:ae}),ae},ie=g.useMemo(()=>{if(!r){le.current="",ve.current=void 0;return}const H={...r};delete H.topSkillsMetric;const te=JSON.stringify(H);return le.current!==te&&(le.current=te,ve.current=H),ve.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!O&&s)return A.current||(A.current=new Worker(new URL(""+new URL("statsWorker-DVwkyJ-d.js",import.meta.url).href,import.meta.url),{type:"module"}),A.current.onmessage=H=>{var te;if(((te=H.data)==null?void 0:te.type)==="result"){const z=typeof H.data.token=="number"?H.data.token:null;if(z!==null&&z!==y.current)return;g.startTransition(()=>{var Ke;l(H.data.result),typeof H.data.computeId=="number"?d(H.data.computeId):d(Ye=>Ye+1),typeof H.data.logCount=="number"&&h(H.data.logCount),typeof H.data.token=="number"&&p(H.data.token),typeof H.data.completedAt=="number"&&b(H.data.completedAt),typeof H.data.flushId=="number"&&w(H.data.flushId);const ue=z===null||z===y.current,Z=q.current,ae=typeof H.data.logCount=="number"?H.data.logCount:0;if(ue){const Ye=typeof H.data.completedAt=="number"?H.data.completedAt:Date.now(),be=((Ke=H.data)==null?void 0:Ke.diagnostics)||{},F=Math.max(0,Number(be.computeMs||0)),Ee=k.current>0?k.current:Ye,Le=Math.max(0,Ye-Ee),wt=Math.max(0,Le-F);re({mode:"worker",logsInPayload:Number(be.logsInPayload||H.data.logCount||0),streamedLogs:Number(H.data.logCount||0),totalLogs:Z,startedAt:Ee,completedAt:Ye,streamMs:wt,computeMs:F,totalMs:Le,flushId:typeof H.data.flushId=="number"?H.data.flushId:null,transferStripStats:be.transferStripStats,counts:be.counts,expectedLogCount:Number(be.expectedLogCount||0),droppedLogMessages:Number(be.droppedLogMessages||0)})}ue&&ae>=Z&&P(Ye=>({...Ye,active:Z>0,phase:Z>0?"settled":"idle",streamed:Z,total:Z,completedAt:typeof H.data.completedAt=="number"?H.data.completedAt:Date.now()}))})}},A.current.onerror=H=>{var te;console.warn("[StatsWorker] Worker error. Falling back to main thread.",H),(te=A.current)==null||te.terminate(),A.current=null,R(!0)},A.current.onmessageerror=H=>{var te;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",H),(te=A.current)==null||te.terminate(),A.current=null,R(!0)},S.current!==null&&A.current.postMessage({type:"flush",flushId:S.current,token:y.current})),()=>{var H;G.current+=1,W(),(H=A.current)==null||H.terminate(),A.current=null}},[O,s]),g.useEffect(()=>{var z;if(!A.current||O||!s)return;const H=G.current+1;G.current=H;let te=!1;try{q.current=e.length,k.current=Date.now(),re(null),P({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const ue=y.current+1;y.current=ue,C(ue);const Z=new Set;e.forEach((Ee,Le)=>{Z.add(String((Ee==null?void 0:Ee.filePath)||(Ee==null?void 0:Ee.id)||`idx-${Le}`))}),ee.current.forEach((Ee,Le)=>{Z.has(Le)||ee.current.delete(Le)}),W(),A.current.postMessage({type:"reset",token:ue,totalLogs:e.length}),A.current.postMessage({type:"settings",token:ue,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ie,disruptionMethod:i}});let ae=0;const Ke=e.length,Ye=(Ee,Le=!1)=>{const wt=performance.now();if(!Le&&wt-_.current<120&&ae<Ke)return;_.current=wt;const Wt=Math.min(ae,Ke);P(mn=>mn.active===Ke>0&&mn.phase===Ee&&mn.streamed===Wt&&mn.total===Ke?mn:{...mn,active:Ke>0,phase:Ee,streamed:Wt,total:Ke})},be=()=>{if(te||G.current!==H||!A.current)return;const Ee=window.requestIdleCallback;if(typeof Ee=="function"){L.current=Ee(Le=>{L.current=null,F(Le)},{timeout:120});return}M.current=window.setTimeout(()=>{M.current=null,F()},0)},F=Ee=>{if(te||G.current!==H||!A.current)return;const Le=!!(Ee&&typeof Ee.timeRemaining=="function"),wt=Le?Math.max(0,Number(Ee.timeRemaining()||0)):0,Wt=Le?wt>12?4:wt>7?2:1:1;let mn=0;for(;mn<Wt&&ae<Ke;)A.current.postMessage({type:"log",token:ue,payload:V(e[ae],ae)}),ae+=1,mn+=1;ae<Ke?(Ye("streaming"),be()):(Ye("computing",!0),A.current.postMessage({type:"flush",token:ue}))};_.current=0,Ke<=0?(Ye("computing",!0),A.current.postMessage({type:"flush",token:ue})):(Ye("streaming",!0),be())}catch(ue){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",ue),W(),(z=A.current)==null||z.terminate(),A.current=null,R(!0),P({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),re(null)}return()=>{te=!0,W()}},[e,t,n,ie,i,s,O]);const ne=g.useMemo(()=>{if(!O&&typeof Worker<"u"&&s)return null;const H=Date.now(),te=performance.now(),z=jf({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ie,disruptionMethod:i}),ue=Math.max(0,performance.now()-te),Z=Date.now();return{result:z,computeMs:ue,startedAt:H,completedAt:Z}},[O,e,t,n,ie,i,s]),se=g.useMemo(()=>{if(!O&&typeof Worker<"u"&&s)return"worker";const H=e[0],te=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(H==null?void 0:H.filePath)||(H==null?void 0:H.name)||"",lastLogPath:(te==null?void 0:te.filePath)||(te==null?void 0:te.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:le.current})},[O,s,e,t,i]);g.useEffect(()=>{if(!O&&typeof Worker<"u"&&s||Y.current===se)return;Y.current=se,d(te=>te+1),h(e.length),p(y.current);const H=Date.now();b(H),re({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(ne==null?void 0:ne.startedAt)||H,completedAt:H,streamMs:0,computeMs:Math.max(0,Number((ne==null?void 0:ne.computeMs)||0)),totalMs:Math.max(0,Number((ne==null?void 0:ne.computeMs)||0)),flushId:null})},[se,ne,O,e.length,s]);const B=O||typeof Worker>"u"||!s?(ne==null?void 0:ne.result)??jf({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ie,disruptionMethod:i}):o,U=!O&&typeof Worker<"u"&&s?K:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:B,computeTick:u,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:v,lastComputedFlushId:x,aggregationProgress:U,aggregationDiagnostics:D,requestFlush:()=>{const H=Date.now();return S.current=H,A.current&&!O&&A.current.postMessage({type:"flush",flushId:H,token:y.current}),H}}},VW=e=>({apmSpecBuckets:g.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let u=!1;return l&&typeof l.autoAttack=="boolean"?u=l.autoAttack:u=QU(s),i.set(o,u),u};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const u=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(u)&&u>0?u:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,S])=>{const A=Number(S);if(!Number.isFinite(A)||A<=0)return;const O=r.get(C),R=(O==null?void 0:O.name)||C,M=O==null?void 0:O.icon,L=a(R,C);f+=A,L&&(h+=A);let _=l.skillMap.get(C);_||(_={id:C,name:R,icon:M,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,_)),!_.icon&&M&&(_.icon=M),_.totalCasts+=A;const G=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;_.playerCounts.set(G,A)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,v=p>0?f/p:0,b=Math.max(0,f-h),x=p>0?b/p:0,w=d>0?f/d:0,y=d>0?b/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:v,apmNoAuto:x,aps:w,apsNoAuto:y};l.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,u=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?u/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?u/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(v=>{var N;const b=Number(((N=d.playerCounts)==null?void 0:N.get(v.key))||0);if(!Number.isFinite(b)||b<=0)return null;const x=Number(v.totalActiveSeconds||0),w=x>0?b/(x/60):0,y=x>0?b/x:0;return{...v,count:b,apm:w,aps:y}}).filter(Boolean).sort((v,b)=>b.apm-v.apm||String(v.displayName||"").localeCompare(String(b.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),HW=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const v=h.totalActiveSeconds||1;p=v>0?m/v:0}d.set(h.key,p)}),d},[e.players,t,r]),s=g.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const v=m.skillEntries[t];if(!v)return null;const b={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,w=!1;if(Object.entries(v.players).forEach(([y,N])=>{var S;if(n.size>0&&!n.has(y))return;let C=N;if(f){const A=((S=m.playerActiveSeconds)==null?void 0:S[y])||0;C=A>0?N/A:0}b[y]=C,C>d&&(d=C),x=!0,w=!0}),n.size>0){if(!w)return null}else if(!x)return null;return n.forEach(y=>{b[y]===void 0&&(b[y]=0)}),b}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function KO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=KO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=KO(e))&&(r&&(r+=" "),r+=t);return r}var qW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lk(e){if(typeof e!="string")return!1;var t=qW;return t.includes(e)}var KW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GW=new Set(KW);function GO(e){return typeof e!="string"?!1:GW.has(e)}function YO(e){return typeof e=="string"&&e.startsWith("data-")}function is(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(GO(n)||YO(n))&&(t[n]=e[n]);return t}function vd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return is(t)}return typeof e=="object"&&!Array.isArray(e)?is(e):null}function Ki(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(GO(n)||YO(n)||Lk(n))&&(t[n]=e[n]);return t}function YW(e){return e==null?null:g.isValidElement(e)?Ki(e.props):typeof e=="object"&&!Array.isArray(e)?Ki(e):null}var XW=["children","width","height","viewBox","className","style","title","desc"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function QW(e,t){if(e==null)return{};var n,r,i=ZW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $k=g.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=QW(e,XW),f=a||{width:r,height:i,x:0,y:0},h=In("recharts-surface",s);return g.createElement("svg",tw({},Ki(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),JW=["children","className"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function eV(e,t){if(e==null)return{};var n,r,i=tV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var na=g.forwardRef((e,t)=>{var{children:n,className:r}=e,i=eV(e,JW),a=In("recharts-layer",r);return g.createElement("g",nw({className:a},Ki(i),{ref:t}),n)}),XO=g.createContext(null),nV=()=>g.useContext(XO);function ir(e){return function(){return e}}const QO=Math.cos,Lg=Math.sin,Ls=Math.sqrt,$g=Math.PI,dx=2*$g,rw=Math.PI,iw=2*rw,Sc=1e-6,rV=iw-Sc;function ZO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function iV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZO:iV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Sc)if(!(Math.abs(f*l-u*d)>Sc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,v=l*l+u*u,b=m*m+p*p,x=Math.sqrt(v),w=Math.sqrt(h),y=a*Math.tan((rw-Math.acos((v+h-b)/(2*x*w)))/2),N=y/w,C=y/x;Math.abs(N-1)>Sc&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sc||Math.abs(this._y1-d)>Sc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%iw+iw),h>rV?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sc&&this._append`A${r},${r},0,${+(h>=rw)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Fk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new aV(t)}function Rk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fx(e){return new JO(e)}function eI(e){return e[0]}function tI(e){return e[1]}function nI(e,t){var n=ir(!0),r=null,i=fx,a=null,s=Fk(o);e=typeof e=="function"?e:e===void 0?eI:ir(e),t=typeof t=="function"?t:t===void 0?tI:ir(t);function o(l){var u,d=(l=Rk(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ir(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ir(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ir(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function mp(e,t,n){var r=null,i=ir(!0),a=null,s=fx,o=null,l=Fk(u);e=typeof e=="function"?e:e===void 0?eI:ir(+e),t=typeof t=="function"?t:ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tI:ir(+n);function u(f){var h,m,p,v=(f=Rk(f)).length,b,x=!1,w,y=new Array(v),N=new Array(v);for(a==null&&(o=s(w=l())),h=0;h<=v;++h){if(!(h<v&&i(b=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(y[p],N[p]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+e(b,h,f),N[h]=+t(b,h,f),o.point(r?+r(b,h,f):y[h],n?+n(b,h,f):N[h]))}if(w)return o=null,w+""||null}function d(){return nI().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ir(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ir(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ir(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class rI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function sV(e){return new rI(e,!0)}function oV(e){return new rI(e,!1)}const Bk={draw(e,t){const n=Ls(t/$g);e.moveTo(n,0),e.arc(0,0,n,0,dx)}},lV={draw(e,t){const n=Ls(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},iI=Ls(1/3),cV=iI*2,uV={draw(e,t){const n=Ls(t/cV),r=n*iI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},dV={draw(e,t){const n=Ls(t),r=-n/2;e.rect(r,r,n,n)}},fV=.8908130915292852,aI=Lg($g/10)/Lg(7*$g/10),mV=Lg(dx/10)*aI,hV=-QO(dx/10)*aI,pV={draw(e,t){const n=Ls(t*fV),r=mV*n,i=hV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=dx*a/5,o=QO(s),l=Lg(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},nb=Ls(3),gV={draw(e,t){const n=-Ls(t/(nb*3));e.moveTo(0,n*2),e.lineTo(-nb*n,-n),e.lineTo(nb*n,-n),e.closePath()}},Va=-.5,Ha=Ls(3)/2,aw=1/Ls(12),xV=(aw/2+1)*3,vV={draw(e,t){const n=Ls(t/xV),r=n/2,i=n*aw,a=r,s=n*aw+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Va*r-Ha*i,Ha*r+Va*i),e.lineTo(Va*a-Ha*s,Ha*a+Va*s),e.lineTo(Va*o-Ha*l,Ha*o+Va*l),e.lineTo(Va*r+Ha*i,Va*i-Ha*r),e.lineTo(Va*a+Ha*s,Va*s-Ha*a),e.lineTo(Va*o+Ha*l,Va*l-Ha*o),e.closePath()}};function bV(e,t){let n=null,r=Fk(i);e=typeof e=="function"?e:ir(e||Bk),t=typeof t=="function"?t:ir(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ir(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ir(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Fg(){}function Rg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function sI(e){this._context=e}sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yV(e){return new sI(e)}function oI(e){this._context=e}oI.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wV(e){return new oI(e)}function lI(e){this._context=e}lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kV(e){return new lI(e)}function cI(e){this._context=e}cI.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SV(e){return new cI(e)}function vj(e){return e<0?-1:1}function bj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(vj(a)+vj(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function yj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rb(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Bg(e){this._context=e}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rb(this,this._t0,yj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rb(this,yj(this,n=bj(this,e,t)),n);break;default:rb(this,this._t0,n=bj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uI(e){this._context=new dI(e)}(uI.prototype=Object.create(Bg.prototype)).point=function(e,t){Bg.prototype.point.call(this,t,e)};function dI(e){this._context=e}dI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function NV(e){return new Bg(e)}function CV(e){return new uI(e)}function fI(e){this._context=e}fI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=wj(e),i=wj(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wj(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function jV(e){return new fI(e)}function mx(e,t){this._context=e,this._t=t}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function AV(e){return new mx(e,.5)}function PV(e){return new mx(e,0)}function DV(e){return new mx(e,1)}function Zc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function TV(e,t){return e[t]}function MV(e){const t=[];return t.key=e,t}function EV(){var e=ir([]),t=sw,n=Zc,r=TV;function i(a){var s=Array.from(e.apply(this,arguments),MV),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,d=Rk(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ir(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ir(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?sw:typeof a=="function"?a:ir(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Zc,i):n},i}function OV(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Zc(e,t)}}function IV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Zc(e,t)}}function _V(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var v=e[t[p]],b=v[r][1]||0,x=v[r-1][1]||0;m+=b-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Zc(e,t)}}var hx={},mI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(mI);var zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(zk);var px={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(px);var gx={},hI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(hI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI,n=px;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(gx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mI,n=zk,r=px,i=gx;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(hx);var LV=hx.get;const Jc=_s(LV);var $V=4;function _l(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$V,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+_l(o)+a:i+a},"")}var Vi=e=>e===0?0:e>0?1:-1,as=e=>typeof e=="number"&&e!=+e,Wo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,zt=e=>(typeof e=="number"||e instanceof Number)&&!as(e),ss=e=>zt(e)||typeof e=="string",FV=0,vm=e=>{var t=++FV;return"".concat(e||"").concat(t)},Ia=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!zt(t)&&typeof t!="string")return r;var a;if(Wo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return as(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},pI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Wi(e,t,n){return zt(e)&&zt(t)?_l(e+n*(t-e)):t}function gI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Jc(r,t))===n)}var ai=e=>e===null||typeof e>"u",Vm=e=>ai(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function RV(e){return e!=null}function Hm(){}var BV=["type","size","sizeType"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ow.apply(null,arguments)}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){zV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zV(e,t,n){return(t=UV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VV(e,t){if(e==null)return{};var n,r,i=HV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xI={symbolCircle:Bk,symbolCross:lV,symbolDiamond:uV,symbolSquare:dV,symbolStar:pV,symbolTriangle:gV,symbolWye:vV},qV=Math.PI/180,KV=e=>{var t="symbol".concat(Vm(e));return xI[t]||Bk},GV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*qV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},YV=(e,t)=>{xI["symbol".concat(Vm(e))]=t},Uk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=VV(e,BV),a=Sj(Sj({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=KV(s),m=bV().type(h).size(GV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:u,cy:d}=a,f=Ki(a);return zt(u)&&zt(d)&&zt(n)?g.createElement("path",ow({},f,{className:In("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Uk.registerSymbol=YV;var vI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Wk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Lk(i)&&(r[i]=a=>n[i](n,a))}),r},XV=(e,t,n)=>r=>(e(t,n,r),null),Vk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Lk(i)&&typeof a=="function"&&(r||(r={}),r[i]=XV(a,t,n))}),r};function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){ZV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZV(e,t,n){return(t=JV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var n=QV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(null,arguments)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){n9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n9(e,t,n){return(t=r9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=32,a9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function s9(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ga/2,a=Ga/6,s=Ga/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ga,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ga,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=t9({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Uk,{fill:o,cx:i,cy:i,size:Ga,sizeType:"diameter",type:l})}function o9(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ga,height:Ga},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=In({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,v=h?h(d.value,d,f):d.value;return g.createElement("li",zg({className:m,style:l,key:"legend-item-".concat(f)},Vk(e,d,f)),g.createElement($k,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(s9,{data:d,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}var l9=e=>{var t=Qr(e,a9),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(o9,zg({},t,{payload:n})))},bI={},yI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(yI);var wI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(wI);var Hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Hk);var kI={},xx={},SI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(SI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(xx);var NI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(NI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xx,n=NI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(kI);var CI={},jI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx;function n(r){return function(i){return t.get(i,r)}}e.property=n})(jI);var AI={},qk={},PI={},Kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Kk);var Gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Gk);var Yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,n=Gk,r=Yk;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,v,b,x,w,y){const N=h(p,v,b,x,w,y);return N!==void 0?!!N:a(p,v,m,y)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<p.length;v++){const b=p[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const b=d.get(p);if(h(b,v,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const b=f[v];let x=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const y=d[w];let N=!1;if(h(y,b,v,d,f,m)&&(N=!0),N){p.add(w),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(PI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PI;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(qk);var DI={},Xk={},TI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(TI);var vx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(vx);var Qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",v="[object DataView]",b="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",O="[object BigInt64Array]",R="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=M,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=A,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=x})(Qk);var MI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(MI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI,n=vx,r=Qk,i=Gk,a=MI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const v=p==null?void 0:p(d,f,h,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let x=0;x<d.length;x++)b[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[x,w]of d)b.set(x,o(w,x,h,m,p));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const x of d)b.add(o(x,void 0,h,m,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let x=0;x<d.length;x++)b[x]=o(d[x],x,h,m,p);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,h,m,p),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,h,m,p),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,h,m,p),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,h,m,p),b}return d}function l(d,f,h=d,m,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const x=v[b],w=Object.getOwnPropertyDescriptor(d,x);(w==null||w.writable)&&(d[x]=o(f[x],x,h,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Xk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(DI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk,n=DI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(AI);var EI={},OI={},II={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk,n=vx,r=Qk;function i(a,s){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=s==null?void 0:s(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,u,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(II);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=II;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(OI);var _I={},Zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Zk);var LI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(LI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zk,n=Zk,r=LI,i=gx;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(_I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk,n=px,r=OI,i=hx,a=_I;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk,n=jI,r=AI,i=EI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(CI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI,n=wI,r=Hk,i=kI,a=CI;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(bI);var c9=bI.uniqBy;const jj=_s(c9);function $I(e,t,n){return t===!0?jj(e,n):typeof t=="function"?jj(e,t):e}var FI={exports:{}},RI={},BI={exports:{}},zI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=g;function u9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d9=typeof Object.is=="function"?Object.is:u9,f9=bd.useState,m9=bd.useEffect,h9=bd.useLayoutEffect,p9=bd.useDebugValue;function g9(e,t){var n=t(),r=f9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return h9(function(){i.value=n,i.getSnapshot=t,ib(i)&&a({inst:i})},[e,n,t]),m9(function(){return ib(i)&&a({inst:i}),e(function(){ib(i)&&a({inst:i})})},[e]),p9(n),n}function ib(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!d9(e,n)}catch{return!0}}function x9(e,t){return t()}var v9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x9:g9;zI.useSyncExternalStore=bd.useSyncExternalStore!==void 0?bd.useSyncExternalStore:v9;BI.exports=zI;var b9=BI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=g,y9=b9;function w9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k9=typeof Object.is=="function"?Object.is:w9,S9=y9.useSyncExternalStore,N9=bx.useRef,C9=bx.useEffect,j9=bx.useMemo,A9=bx.useDebugValue;RI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=N9(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=j9(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,k9(d,m))return p;var v=r(m);return i!==void 0&&i(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=S9(e,a[0],a[1]);return C9(function(){s.hasValue=!0,s.value=o},[o]),A9(o),o};FI.exports=RI;var P9=FI.exports,Jk=g.createContext(null),D9=e=>e,Zn=()=>{var e=g.useContext(Jk);return e?e.store.dispatch:D9},Zp=()=>{},T9=()=>Zp,M9=(e,t)=>e===t;function Tt(e){var t=g.useContext(Jk);return P9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:T9,t?t.store.getState:Zp,t?t.store.getState:Zp,t?e:Zp,M9)}function E9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function I9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Aj=e=>Array.isArray(e)?e:[e];function _9(e){const t=Array.isArray(e[0])?e[0]:e;return I9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function L9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var $9=class{constructor(e){this.value=e}deref(){return this.value}},F9=typeof WeakRef<"u"?WeakRef:$9,R9=0,Pj=1;function hp(){return{s:R9,v:void 0,o:null,p:null}}function UI(e,t={}){let n=hp();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(p);b===void 0?(o=hp(),v.set(p,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(p);b===void 0?(o=hp(),v.set(p,o)):o=b}}const u=o;let d;if(o.s===Pj)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new F9(d):d}return u.s=Pj,u.v=d,d}return s.clearCache=()=>{n=hp(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function B9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),E9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=UI,argsMemoizeOptions:p=[]}=d,v=Aj(h),b=Aj(p),x=_9(i),w=f(function(){return a++,u.apply(null,arguments)},...v),y=m(function(){s++;const C=L9(x,arguments);return o=w.apply(null,C),o},...b);return Object.assign(y,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Ae=B9(UI),z9=Object.assign((e,t=Ae)=>{O9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>z9}),WI={},VI={},HI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(HI);var qI={},eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(eS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(qI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HI,n=qI,r=gx;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let v=m;for(let b=0;b<p.length&&v!=null;++b)v=v[p[b]];return v},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let v=0;v<f.length;v++){const b=t.compareValues(m.criteria[v],p.criteria[v],o[v]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(VI);var KI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(KI);var tS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk,n=xx,r=Kk,i=Yk;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(tS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI,n=KI,r=tS;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(WI);var U9=WI.sortBy;const yx=_s(U9);var GI=e=>e.legend.settings,W9=e=>e.legend.size,V9=e=>e.legend.payload,H9=Ae([V9,GI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?yx(r,n):r});function q9(){return Tt(H9)}var pp=1;function YI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>pp||Math.abs(s.left-t.left)>pp||Math.abs(s.top-t.top)>pp||Math.abs(s.width-t.width)>pp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Di(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K9=typeof Symbol=="function"&&Symbol.observable||"@@observable",Dj=K9,ab=()=>Math.random().toString(36).substring(7).split("").join("."),G9={INIT:`@@redux/INIT${ab()}`,REPLACE:`@@redux/REPLACE${ab()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ab()}`},Ug=G9;function nS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XI(e,t,n){if(typeof e!="function")throw new Error(Di(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Di(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Di(1));return n(XI)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((b,x)=>{s.set(x,b)}))}function d(){if(l)throw new Error(Di(3));return i}function f(b){if(typeof b!="function")throw new Error(Di(4));if(l)throw new Error(Di(5));let x=!0;u();const w=o++;return s.set(w,b),function(){if(x){if(l)throw new Error(Di(6));x=!1,u(),s.delete(w),a=null}}}function h(b){if(!nS(b))throw new Error(Di(7));if(typeof b.type>"u")throw new Error(Di(8));if(typeof b.type!="string")throw new Error(Di(17));if(l)throw new Error(Di(9));try{l=!0,i=r(i,b)}finally{l=!1}return(a=s).forEach(w=>{w()}),b}function m(b){if(typeof b!="function")throw new Error(Di(10));r=b,h({type:Ug.REPLACE})}function p(){const b=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Di(11));function w(){const N=x;N.next&&N.next(d())}return w(),{unsubscribe:b(w)}},[Dj](){return this}}}return h({type:Ug.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Dj]:p}}function Y9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ug.INIT})>"u")throw new Error(Di(12));if(typeof n(void 0,{type:Ug.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Di(13))})}function QI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{Y9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Di(14));u[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Wg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function X9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Di(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Wg(...o)(i.dispatch),{...i,dispatch:a}}}function ZI(e){return nS(e)&&"type"in e&&typeof e.type=="string"}var JI=Symbol.for("immer-nothing"),Tj=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function ys(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ea=Object,yd=Ea.getPrototypeOf,Vg="constructor",wx="prototype",lw="configurable",Hg="enumerable",Jp="writable",bm="value",Vo=e=>!!e&&!!e[ra];function Ds(e){var t;return e?e_(e)||Sx(e)||!!e[Tj]||!!((t=e[Vg])!=null&&t[Tj])||Nx(e)||Cx(e):!1}var Q9=Ea[wx][Vg].toString(),Mj=new WeakMap;function e_(e){if(!e||!rS(e))return!1;const t=yd(e);if(t===null||t===Ea[wx])return!0;const n=Ea.hasOwnProperty.call(t,Vg)&&t[Vg];if(n===Object)return!0;if(!Iu(n))return!1;let r=Mj.get(n);return r===void 0&&(r=Function.toString.call(n),Mj.set(n,r)),r===Q9}function kx(e,t,n=!0){qm(e)===0?(n?Reflect.ownKeys(e):Ea.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qm(e){const t=e[ra];return t?t.type_:Sx(e)?1:Nx(e)?2:Cx(e)?3:0}var Ej=(e,t,n=qm(e))=>n===2?e.has(t):Ea[wx].hasOwnProperty.call(e,t),cw=(e,t,n=qm(e))=>n===2?e.get(t):e[t],qg=(e,t,n,r=qm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Z9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Sx=Array.isArray,Nx=e=>e instanceof Map,Cx=e=>e instanceof Set,rS=e=>typeof e=="object",Iu=e=>typeof e=="function",sb=e=>typeof e=="boolean";function J9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Co=e=>e.copy_||e.base_,iS=e=>e.modified_?e.copy_:e.base_;function uw(e,t){if(Nx(e))return new Map(e);if(Cx(e))return new Set(e);if(Sx(e))return Array[wx].slice.call(e);const n=e_(e);if(t===!0||t==="class_only"&&!n){const r=Ea.getOwnPropertyDescriptors(e);delete r[ra];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Jp]===!1&&(o[Jp]=!0,o[lw]=!0),(o.get||o.set)&&(r[s]={[lw]:!0,[Jp]:!0,[Hg]:o[Hg],[bm]:e[s]})}return Ea.create(yd(e),r)}else{const r=yd(e);if(r!==null&&n)return{...e};const i=Ea.create(r);return Ea.assign(i,e)}}function aS(e,t=!1){return jx(e)||Vo(e)||!Ds(e)||(qm(e)>1&&Ea.defineProperties(e,{set:gp,add:gp,clear:gp,delete:gp}),Ea.freeze(e),t&&kx(e,(n,r)=>{aS(r,!0)},!1)),e}function eH(){ys(2)}var gp={[bm]:eH};function jx(e){return e===null||!rS(e)?!0:Ea.isFrozen(e)}var Kg="MapSet",dw="Patches",Oj="ArrayMethods",t_={};function eu(e){const t=t_[e];return t||ys(0,e),t}var Ij=e=>!!t_[e],ym,n_=()=>ym,tH=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ij(Kg)?eu(Kg):void 0,arrayMethodsPlugin_:Ij(Oj)?eu(Oj):void 0});function _j(e,t){t&&(e.patchPlugin_=eu(dw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fw(e){mw(e),e.drafts_.forEach(nH),e.drafts_=null}function mw(e){e===ym&&(ym=e.parent_)}var Lj=e=>ym=tH(ym,e);function nH(e){const t=e[ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $j(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ra].modified_&&(fw(t),ys(4)),Ds(e)&&(e=Fj(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ra].base_,e,t)}else e=Fj(t,n);return rH(t,e,!0),fw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JI?e:void 0}function Fj(e,t){if(jx(t))return t;const n=t[ra];if(!n)return Gg(t,e.handledSet_,e);if(!Ax(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);a_(n,e)}return n.copy_}function rH(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aS(t,n)}function r_(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ax=(e,t)=>e.scope_===t,iH=[];function i_(e,t,n,r){const i=Co(e),a=e.type_;if(r!==void 0&&cw(i,r,a)===t){qg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;kx(i,(l,u)=>{if(Vo(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const s=e.draftLocations_.get(t)??iH;for(const o of s)qg(i,o,n,a)}function aH(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ax(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=iS(a);i_(e,a.draft_??a,s,n),a_(a,i)})}function a_(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}r_(e)}}function sH(e,t,n){const{scope_:r}=e;if(Vo(n)){const i=n[ra];Ax(i,r)&&i.callbacks_.push(function(){eg(e);const s=iS(i);i_(e,n,s,t)})}else Ds(n)&&e.callbacks_.push(function(){const a=Co(e);e.type_===3?a.has(n)&&Gg(n,r.handledSet_,r):cw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gg(cw(e.copy_,t,e.type_),r.handledSet_,r)})}function Gg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vo(e)||t.has(e)||!Ds(e)||jx(e)||(t.add(e),kx(e,(r,i)=>{if(Vo(i)){const a=i[ra];if(Ax(a,n)){const s=iS(a);qg(e,r,s,e.type_),r_(a)}}else Ds(i)&&Gg(i,t,n)})),e}function oH(e,t){const n=Sx(e),r={type_:n?1:0,scope_:t?t.scope_:n_(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Yg;n&&(i=[r],a=wm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Yg={get(e,t){if(t===ra)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Co(e);if(!Ej(i,t,e.type_))return lH(e,i,t);const a=i[t];if(e.finalized_||!Ds(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&J9(t))return a;if(a===ob(e.base_,t)){eg(e);const s=e.type_===1?+t:t,o=pw(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Co(e)},ownKeys(e){return Reflect.ownKeys(Co(e))},set(e,t,n){const r=s_(Co(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ob(Co(e),t),a=i==null?void 0:i[ra];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Z9(n,i)&&(n!==void 0||Ej(e.base_,t,e.type_)))return!0;eg(e),hw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),sH(e,t,n)),!0},deleteProperty(e,t){return eg(e),ob(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Co(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Jp]:!0,[lw]:e.type_!==1||t!=="length",[Hg]:r[Hg],[bm]:n[t]}},defineProperty(){ys(11)},getPrototypeOf(e){return yd(e.base_)},setPrototypeOf(){ys(12)}},wm={};for(let e in Yg){let t=Yg[e];wm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}wm.deleteProperty=function(e,t){return wm.set.call(this,e,t,void 0)};wm.set=function(e,t,n){return Yg.set.call(this,e[0],t,n,e[0])};function ob(e,t){const n=e[ra];return(n?Co(n):e)[t]}function lH(e,t,n){var i;const r=s_(t,n);return r?bm in r?r[bm]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function s_(e,t){if(!(t in e))return;let n=yd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=yd(n)}}function hw(e){e.modified_||(e.modified_=!0,e.parent_&&hw(e.parent_))}function eg(e){e.copy_||(e.assigned_=new Map,e.copy_=uw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Iu(n)&&!Iu(r)){const s=r;r=n;const o=this;return function(u=s,...d){return o.produce(u,f=>r.call(this,f,...d))}}Iu(r)||ys(6),i!==void 0&&!Iu(i)&&ys(7);let a;if(Ds(n)){const s=Lj(this),o=pw(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?fw(s):mw(s)}return _j(s,i),$j(a,s)}else if(!n||!rS(n)){if(a=r(n),a===void 0&&(a=n),a===JI&&(a=void 0),this.autoFreeze_&&aS(a,!0),i){const s=[],o=[];eu(dw).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ys(1,n)},this.produceWithPatches=(n,r)=>{if(Iu(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},sb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ds(t)||ys(8),Vo(t)&&(t=Cs(t));const n=Lj(this),r=pw(n,t,void 0);return r[ra].isManual_=!0,mw(n),r}finishDraft(t,n){const r=t&&t[ra];(!r||!r.isManual_)&&ys(9);const{scope_:i}=r;return _j(i,n),$j(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=eu(dw).applyPatches_;return Vo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function pw(e,t,n,r){const[i,a]=Nx(t)?eu(Kg).proxyMap_(t,n):Cx(t)?eu(Kg).proxySet_(t,n):oH(t,n);return((n==null?void 0:n.scope_)??n_()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?aH(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Cs(e){return Vo(e)||ys(10,e),o_(e)}function o_(e){if(!Ds(e)||jx(e))return e;const t=e[ra];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=uw(e,!0);return kx(n,(i,a)=>{qg(n,i,o_(a))},r),t&&(t.finalized_=!1),n}var uH=new cH,l_=uH.produce;function c_(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var dH=c_(),fH=c_,mH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wg:Wg.apply(null,arguments)};function os(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(_a(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>ZI(r)&&r.type===e,n}var u_=class Pf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pf.prototype)}static get[Symbol.species](){return Pf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pf(...t[0].concat(this)):new Pf(...t.concat(this))}};function Rj(e){return Ds(e)?l_(e,()=>{}):e}function xp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function hH(e){return typeof e=="boolean"}var pH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new u_;return n&&(hH(n)?s.push(dH):s.push(fH(n.extraArgument))),s},d_="RTK_autoBatch",xr=()=>e=>({payload:e,meta:{[d_]:!0}}),Bj=e=>t=>{setTimeout(t,e)},f_=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Bj(10):e.type==="callback"?e.queueNotification:Bj(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[d_]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},gH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new u_(e);return r&&i.push(f_(typeof r=="object"?r:void 0)),i};function xH(e){const t=pH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(nS(n))o=QI(n);else throw new Error(_a(1));let l;typeof r=="function"?l=r(t):l=t();let u=Wg;i&&(u=mH({trace:!1,...typeof i=="object"&&i}));const d=X9(...l),f=gH(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return XI(o,a,m)}function m_(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(_a(28));if(o in t)throw new Error(_a(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function vH(e){return typeof e=="function"}function bH(e,t){let[n,r,i]=m_(t),a;if(vH(e))a=()=>Rj(e());else{const o=Rj(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Vo(d)){const m=f(d,l);return m===void 0?d:m}else{if(Ds(d))return l_(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var yH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wH=(e=21)=>{let t="",n=e;for(;n--;)t+=yH[Math.random()*64|0];return t},kH=Symbol.for("rtk-slice-createasyncthunk");function SH(e,t){return`${e}/${t}`}function NH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[kH];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(_a(11));const o=(typeof i.reducers=="function"?i.reducers(jH()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,C){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(_a(12));if(S in u.sliceCaseReducersByType)throw new Error(_a(13));return u.sliceCaseReducersByType[S]=C,d},addMatcher(N,C){return u.sliceMatchers.push({matcher:N,reducer:C}),d},exposeAction(N,C){return u.actionCreators[N]=C,d},exposeCaseReducer(N,C){return u.sliceCaseReducersByName[N]=C,d}};l.forEach(N=>{const C=o[N],S={reducerName:N,type:SH(a,N),createNotation:typeof i.reducers=="function"};PH(C)?TH(S,C,d,t):AH(S,C,d)});function f(){const[N={},C=[],S=void 0]=typeof i.extraReducers=="function"?m_(i.extraReducers):[i.extraReducers],A={...N,...u.sliceCaseReducersByType};return bH(i.initialState,O=>{for(let R in A)O.addCase(R,A[R]);for(let R of u.sliceMatchers)O.addMatcher(R.matcher,R.reducer);for(let R of C)O.addMatcher(R.matcher,R.reducer);S&&O.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let v;function b(N,C){return v||(v=f()),v(N,C)}function x(){return v||(v=f()),v.getInitialState()}function w(N,C=!1){function S(O){let R=O[N];return typeof R>"u"&&C&&(R=xp(p,S,x)),R}function A(O=h){const R=xp(m,C,()=>new WeakMap);return xp(R,O,()=>{const M={};for(const[L,_]of Object.entries(i.selectors??{}))M[L]=CH(_,O,()=>xp(p,O,x),C);return M})}return{reducerPath:N,getSelectors:A,get selectors(){return A(S)},selectSlice:S}}const y={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...w(s),injectInto(N,{reducerPath:C,...S}={}){const A=C??s;return N.inject({reducerPath:A,reducer:b},S),{...y,...w(A,!0)}}};return y}}function CH(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var va=NH();function jH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function AH({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!DH(r))throw new Error(_a(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?os(e,s):os(e))}function PH(e){return e._reducerDefinitionType==="asyncThunk"}function DH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(_a(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||vp,pending:o||vp,rejected:l||vp,settled:u||vp})}function vp(){}var MH="task",h_="listener",p_="completed",sS="cancelled",EH=`task-${sS}`,OH=`task-${p_}`,gw=`${h_}-${sS}`,IH=`${h_}-${p_}`,Px=class{constructor(e){Pv(this,"name","TaskAbortError");Pv(this,"message");this.code=e,this.message=`${MH} ${sS} (reason: ${e})`}},oS=(e,t)=>{if(typeof e!="function")throw new TypeError(_a(32))},Xg=()=>{},g_=(e,t=Xg)=>(e.catch(t),e),x_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Uc=e=>{if(e.aborted)throw new Px(e.reason)};function v_(e,t){let n=Xg;return new Promise((r,i)=>{const a=()=>i(new Px(e.reason));if(e.aborted){a();return}n=x_(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Xg})}var _H=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Px?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qg=e=>t=>g_(v_(e,t).then(n=>(Uc(e),n))),b_=e=>{const t=Qg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:sd}=Object,zj={},Dx="listenerMiddleware",LH=(e,t)=>{const n=r=>x_(e,()=>r.abort(e.reason));return(r,i)=>{oS(r);const a=new AbortController;n(a);const s=_H(async()=>{Uc(e),Uc(a.signal);const o=await r({pause:Qg(a.signal),delay:b_(a.signal),signal:a.signal});return Uc(a.signal),o},()=>a.abort(OH));return i!=null&&i.autoJoin&&t.push(s.catch(Xg)),{result:Qg(e)(s),cancel(){a.abort(EH)}}}},$H=(e,t)=>{const n=async(r,i)=>{Uc(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await v_(t,Promise.race(o));return Uc(t),l}finally{a()}};return(r,i)=>g_(n(r,i))},y_=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=os(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_a(21));return oS(a),{predicate:i,type:t,effect:a}},w_=sd(e=>{const{type:t,predicate:n,effect:r}=y_(e);return{id:wH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_a(22))}}},{withTypes:()=>w_}),Uj=(e,t)=>{const{type:n,effect:r,predicate:i}=y_(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},xw=e=>{e.pending.forEach(t=>{t.abort(gw)})},FH=(e,t)=>()=>{for(const n of t.keys())xw(n);e.clear()},Wj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},k_=sd(os(`${Dx}/add`),{withTypes:()=>k_}),RH=os(`${Dx}/removeAll`),S_=sd(os(`${Dx}/remove`),{withTypes:()=>S_}),BH=(...e)=>{console.error(`${Dx}/error`,...e)},Km=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=BH}=e;oS(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&xw(m)}),l=m=>{const p=Uj(t,m)??w_(m);return o(p)};sd(l,{withTypes:()=>l});const u=m=>{const p=Uj(t,m);return p&&(p.unsubscribe(),m.cancelActive&&xw(p)),!!p};sd(u,{withTypes:()=>u});const d=async(m,p,v,b)=>{const x=new AbortController,w=$H(l,x.signal),y=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,sd({},v,{getOriginalState:b,condition:(N,C)=>w(N,C).then(Boolean),take:w,delay:b_(x.signal),pause:Qg(x.signal),extra:a,signal:x.signal,fork:LH(x.signal,y),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,C,S)=>{N!==x&&(N.abort(gw),S.delete(N))})},cancel:()=>{x.abort(gw),m.pending.delete(x)},throwIfCancelled:()=>{Uc(x.signal)}})))}catch(N){N instanceof Px||Wj(s,N,{raisedBy:"effect"})}finally{await Promise.all(y),x.abort(IH),i(m),m.pending.delete(x)}},f=FH(t,n);return{middleware:m=>p=>v=>{if(!ZI(v))return p(v);if(k_.match(v))return l(v.payload);if(RH.match(v)){f();return}if(S_.match(v))return u(v.payload);let b=m.getState();const x=()=>{if(b===zj)throw new Error(_a(23));return b};let w;try{if(w=p(v),t.size>0){const y=m.getState(),N=Array.from(t.values());for(const C of N){let S=!1;try{S=C.predicate(v,y,b)}catch(A){S=!1,Wj(s,A,{raisedBy:"predicate"})}S&&d(C,v,m,x)}}}finally{b=zj}return w},startListening:l,stopListening:u,clearListeners:f}};function _a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},N_=va({name:"chartLayout",initialState:zH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:UH,setLayout:WH,setChartSize:VH,setScale:HH}=N_.actions,qH=N_.reducer;function C_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function br(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){KH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KH(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t,n){return ai(e)||ai(t)?n:ss(t)?Jc(e,t,n):typeof t=="function"?t(e):n}var XH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&zt(e[a]))return Gu(Gu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&zt(e[s]))return Gu(Gu({},e),{},{[s]:e[s]+(i||0)})}return e},rc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",j_=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},A_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(v=m==="angleAxis"&&a&&a.length>=2?Vi(a[0]-a[1])*2*v:v,f||h){var b=(f||h||[]).map((x,w)=>{var y=r?r.indexOf(x):x;return{coordinate:s(y)+v,value:x,offset:v,index:w}});return b.filter(x=>!as(x.coordinate))}return l&&u?u.map((x,w)=>({coordinate:s(x)+v,value:x,index:w,offset:v})):s.ticks&&d!=null?s.ticks(d).map((x,w)=>({coordinate:s(x)+v,value:x,offset:v,index:w})):s.domain().map((x,w)=>({coordinate:s(x)+v,value:r?r[x]:x,index:w,offset:v}))},Hj=1e-4,QH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Hj,a=Math.max(r[0],r[1])+Hj,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},ZH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var d=u[1],f=u[0],h=as(d)?f:d;h>=0?(u[0]=a,u[1]=a+h,a=d):(u[0]=s,u[1]=s+h,s=d)}}}},JH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=as(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},e7={sign:ZH,expand:OV,none:Zc,silhouette:IV,wiggle:_V,positive:JH},t7=(e,t,n)=>{var r,i=(r=e7[n])!==null&&r!==void 0?r:Zc,a=EV().keys(t).value((o,l)=>Number(mr(o,l,0))).order(sw).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,d)=>{var f=mr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&zt(f[0])&&zt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function qj(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ai(i[t.dataKey])){var o=gI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=mr(i,ai(s)?t.dataKey:s);return ai(l)?null:t.scale(l)}var n7=e=>{var t=e.flat(2).filter(zt);return[Math.min(...t),Math.max(...t)]},r7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],i7=(e,t,n)=>{if(e!=null)return r7(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var d=C_(u,t,n),f=n7(d);return!br(f[0])||!br(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},Kj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=yx(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function Yj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Gu(Gu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Tx(e,t){if(e)return String(e);if(typeof t=="string")return t}var a7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},s7=(e,t)=>t==="centric"?e.angle:e.radius,el=e=>e.layout.width,tl=e=>e.layout.height,o7=e=>e.layout.scale,P_=e=>e.layout.margin,Mx=Ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ex=Ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),D_="data-recharts-item-index",T_="data-recharts-item-id",Gm=60;function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){l7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l7(e,t,n){return(t=c7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d7=e=>e.brush.height;function f7(e){var t=Ex(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gm;return n+i}return n},0)}function m7(e){var t=Ex(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Gm;return n+i}return n},0)}function h7(e){var t=Mx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function p7(e){var t=Mx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Si=Ae([el,tl,P_,d7,f7,m7,h7,p7,GI,W9],(e,t,n,r,i,a,s,o,l,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=bp(bp({},f),d),m=h.bottom;h.bottom+=r,h=XH(h,l,u);var p=e-h.left-h.right,v=t-h.top-h.bottom;return bp(bp({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(v,0)})}),g7=Ae(Si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),M_=Ae(el,tl,(e,t)=>({x:0,y:0,width:e,height:t})),x7=g.createContext(null),sa=()=>g.useContext(x7)!=null,Ox=e=>e.brush,Ix=Ae([Ox,Si,P_],(e,t,n)=>({height:e.height,x:zt(e.x)?e.x:t.left,y:zt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:zt(e.width)?e.width:t.width})),E_={},O_={},I_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),s=void 0,o=null},b=()=>{d()},x=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const y=h==null;m(),l&&y&&d()};return x.schedule=m,x.cancel=v,x.flush=b,i==null||i.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(I_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I_;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=r.apply(this,v),f=null},i,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(O_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O_;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(E_);var v7=E_.throttle;const b7=_s(v7);var Jg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},__=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Wo(r)?e:Number(r),l=Wo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},y7={width:0,height:0,overflow:"visible"},w7={width:0,overflowX:"visible"},k7={height:0,overflowY:"visible"},S7={},N7=e=>{var{width:t,height:n}=e,r=Wo(t),i=Wo(n);return r&&i?y7:r?w7:i?k7:S7};function C7(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(null,arguments)}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){j7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j7(e,t,n){return(t=A7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L_=g.createContext({width:-1,height:-1});function D7(e){return io(e.width)&&io(e.height)}function $_(e){var{children:t,width:n,height:r}=e,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return D7(i)?g.createElement(L_.Provider,{value:i},t):null}var lS=()=>g.useContext(L_),T7=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,v=g.useRef(null),b=g.useRef();b.current=m,g.useImperativeHandle(t,()=>v.current);var[x,w]=g.useState({containerWidth:r.width,containerHeight:r.height}),y=g.useCallback((O,R)=>{w(M=>{var L=Math.round(O),_=Math.round(R);return M.containerWidth===L&&M.containerHeight===_?M:{containerWidth:L,containerHeight:_}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Hm;var O=_=>{var G,{width:ee,height:le}=_[0].contentRect;y(ee,le),(G=b.current)===null||G===void 0||G.call(b,ee,le)};d>0&&(O=b7(O,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(O),{width:M,height:L}=v.current.getBoundingClientRect();return y(M,L),R.observe(v.current),()=>{R.disconnect()}},[y,d]);var{containerWidth:N,containerHeight:C}=x;Jg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:S,calculatedHeight:A}=__(N,C,{width:i,height:a,aspect:n,maxHeight:l});return Jg(S!=null&&S>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,A,i,a,s,o,n),g.createElement("div",{id:f?"".concat(f):void 0,className:In("recharts-responsive-container",h),style:Zj(Zj({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},g.createElement("div",{style:N7({width:i,height:a})},g.createElement($_,{width:S,height:A},u)))}),Ts=g.forwardRef((e,t)=>{var n=lS();if(io(n.width)&&io(n.height))return e.children;var{width:r,height:i}=C7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=__(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return zt(a)&&zt(s)?g.createElement($_,{width:a,height:s},e.children):g.createElement(T7,vw({},e,{width:r,height:i,ref:t}))});function F_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ym=()=>{var e,t=sa(),n=Tt(g7),r=Tt(Ix),i=(e=Tt(Ox))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},M7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},R_=()=>{var e;return(e=Tt(Si))!==null&&e!==void 0?e:M7},cS=()=>Tt(el),uS=()=>Tt(tl),E7=()=>Tt(e=>e.layout.margin),Gn=e=>e.layout.layoutType,Xm=()=>Tt(Gn),O7=()=>{var e=Xm();return e!==void 0},_x=e=>{var t=Zn(),n=sa(),{width:r,height:i}=e,a=lS(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&io(s)&&io(o)&&t(VH({width:s,height:o}))},[t,n,s,o]),null},B_=Symbol.for("immer-nothing"),Jj=Symbol.for("immer-draftable"),Fa=Symbol.for("immer-state");function ws(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var km=Object.getPrototypeOf;function wd(e){return!!e&&!!e[Fa]}function tu(e){var t;return e?z_(e)||Array.isArray(e)||!!e[Jj]||!!((t=e.constructor)!=null&&t[Jj])||Qm(e)||$x(e):!1}var I7=Object.prototype.constructor.toString(),eA=new WeakMap;function z_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=eA.get(n);return r===void 0&&(r=Function.toString.call(n),eA.set(n,r)),r===I7}function e0(e,t,n=!0){Lx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Lx(e){const t=e[Fa];return t?t.type_:Array.isArray(e)?1:Qm(e)?2:$x(e)?3:0}function bw(e,t){return Lx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U_(e,t,n){const r=Lx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qm(e){return e instanceof Map}function $x(e){return e instanceof Set}function Nc(e){return e.copy_||e.base_}function yw(e,t){if(Qm(e))return new Map(e);if($x(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=z_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(km(e),r)}else{const r=km(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function dS(e,t=!1){return Fx(e)||wd(e)||!tu(e)||(Lx(e)>1&&Object.defineProperties(e,{set:yp,add:yp,clear:yp,delete:yp}),Object.freeze(e),t&&Object.values(e).forEach(n=>dS(n,!0))),e}function L7(){ws(2)}var yp={value:L7};function Fx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var $7={};function nu(e){const t=$7[e];return t||ws(0,e),t}var Sm;function W_(){return Sm}function F7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tA(e,t){t&&(nu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ww(e){kw(e),e.drafts_.forEach(R7),e.drafts_=null}function kw(e){e===Sm&&(Sm=e.parent_)}function nA(e){return Sm=F7(Sm,e)}function R7(e){const t=e[Fa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fa].modified_&&(ww(t),ws(4)),tu(e)&&(e=t0(t,e),t.parent_||n0(t,e)),t.patches_&&nu("Patches").generateReplacementPatches_(n[Fa].base_,e,t.patches_,t.inversePatches_)):e=t0(t,n,[]),ww(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==B_?e:void 0}function t0(e,t,n){if(Fx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fa];if(!i)return e0(t,(a,s)=>iA(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return n0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),e0(s,(l,u)=>iA(e,i,a,l,u,n,o),r),n0(e,a,!1),n&&e.patches_&&nu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function iA(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Fx(i);if(!(o&&!s)){if(wd(i)){const l=a&&t&&t.type_!==3&&!bw(t.assigned_,r)?a.concat(r):void 0,u=t0(e,i,l);if(U_(n,r,u),wd(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(tu(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;t0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Qm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&n0(e,i)}}}function n0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dS(t,n)}function B7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:W_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=fS;n&&(i=[r],a=Nm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var fS={get(e,t){if(t===Fa)return e;const n=Nc(e);if(!bw(n,t))return z7(e,n,t);const r=n[t];return e.finalized_||!tu(r)?r:r===lb(e.base_,t)?(cb(e),e.copy_[t]=Nw(r,e)):r},has(e,t){return t in Nc(e)},ownKeys(e){return Reflect.ownKeys(Nc(e))},set(e,t,n){const r=V_(Nc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lb(Nc(e),t),a=i==null?void 0:i[Fa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_7(n,i)&&(n!==void 0||bw(e.base_,t)))return!0;cb(e),Sw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cb(e),Sw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Nc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ws(11)},getPrototypeOf(e){return km(e.base_)},setPrototypeOf(){ws(12)}},Nm={};e0(fS,(e,t)=>{Nm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nm.deleteProperty=function(e,t){return Nm.set.call(this,e,t,void 0)};Nm.set=function(e,t,n){return fS.set.call(this,e[0],t,n,e[0])};function lb(e,t){const n=e[Fa];return(n?Nc(n):e)[t]}function z7(e,t,n){var i;const r=V_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function V_(e,t){if(!(t in e))return;let n=km(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=km(n)}}function Sw(e){e.modified_||(e.modified_=!0,e.parent_&&Sw(e.parent_))}function cb(e){e.copy_||(e.copy_=yw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var U7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&ws(6),r!==void 0&&typeof r!="function"&&ws(7);let i;if(tu(t)){const a=nA(this),s=Nw(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?ww(a):kw(a)}return tA(a,r),rA(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===B_&&(i=void 0),this.autoFreeze_&&dS(i,!0),r){const a=[],s=[];nu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else ws(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){tu(e)||ws(8),wd(e)&&(e=W7(e));const t=nA(this),n=Nw(e,void 0);return n[Fa].isManual_=!0,kw(t),n}finishDraft(e,t){const n=e&&e[Fa];(!n||!n.isManual_)&&ws(9);const{scope_:r}=n;return tA(r,t),rA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=nu("Patches").applyPatches_;return wd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Nw(e,t){const n=Qm(e)?nu("MapSet").proxyMap_(e,t):$x(e)?nu("MapSet").proxySet_(e,t):B7(e,t);return(t?t.scope_:W_()).drafts_.push(n),n}function W7(e){return wd(e)||ws(10,e),H_(e)}function H_(e){if(!tu(e)||Fx(e))return e;const t=e[Fa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yw(e,!0);return e0(n,(i,a)=>{U_(n,i,H_(a))},r),t&&(t.finalized_=!1),n}var V7=new U7;V7.produce;var H7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},q_=va({name:"legend",initialState:H7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:xr()},removeLegendPayload:{reducer(e,t){var n=Cs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xr()}}}),{setLegendSize:aA,setLegendSettings:q7,addLegendPayload:K_,replaceLegendPayload:G_,removeLegendPayload:Y_}=q_.actions,K7=q_.reducer,G7=["contextPayload"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return(t=X7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z7(e,t){if(e==null)return{};var n,r,i=J7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eq(e){return e.value}function tq(e){var{contextPayload:t}=e,n=Z7(e,G7),r=$I(t,e.payloadUniqBy,eq),i=kd(kd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement(l9,i)}function nq(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),kd(kd({},u),d)}function rq(e){var t=Zn();return g.useEffect(()=>{t(q7(e))},[t,e]),null}function iq(e){var t=Zn();return g.useEffect(()=>(t(aA(e)),()=>{t(aA({width:0,height:0}))}),[t,e]),null}function aq(e,t,n,r){return e==="vertical"&&zt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var sq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function X_(e){var t=Qr(e,sq),n=q9(),r=nV(),i=E7(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,d]=YI([n]),f=cS(),h=uS();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=aq(t.layout,s,a,m),v=l?o:kd(kd({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},nq(o,t,i,f,h,u)),o),b=l??r;if(b==null||n==null)return null;var x=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(rq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(iq,{width:u.width,height:u.height}),g.createElement(tq,Cw({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return _d.createPortal(x,b)}X_.displayName="Legend";function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ub(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uq(e){return Array.isArray(e)&&ss(e[0])&&ss(e[1])?e.join(" ~ "):e}var dq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},S=(o?yx(a,o):a).map((A,O)=>{if(A.type==="none")return null;var R=A.formatter||s||uq,{value:M,name:L}=A,_=M,G=L;if(R){var ee=R(M,L,A,O,a);if(Array.isArray(ee))[_,G]=ee;else if(ee!=null)_=ee;else return null}var le=ub({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:le},ss(G)?g.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ss(G)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},_),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:C},S)}return null},p=ub({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=ub({margin:0},i),b=!ai(d),x=b?d:"",w=In("recharts-default-tooltip",l),y=In("recharts-tooltip-label",u);b&&f&&a!==void 0&&a!==null&&(x=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",jw({className:w,style:p},N),g.createElement("p",{className:y,style:v},g.isValidElement(x)?x:"".concat(x)),m())},uf="recharts-tooltip-wrapper",fq={visibility:"hidden"};function mq(e){var{coordinate:t,translateX:n,translateY:r}=e;return In(uf,{["".concat(uf,"-right")]:zt(n)&&t&&zt(t.x)&&n>=t.x,["".concat(uf,"-left")]:zt(n)&&t&&zt(t.x)&&n<t.x,["".concat(uf,"-bottom")]:zt(r)&&t&&zt(t.y)&&r>=t.y,["".concat(uf,"-top")]:zt(r)&&t&&zt(t.y)&&r<t.y})}function lA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&zt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+o,b=h+u;return v>b?Math.max(d,h):Math.max(f,h)}function hq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function pq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&n?(d=lA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=lA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=hq({translateX:d,translateY:f,useTranslate3d:o})):u=fq,{cssProperties:u,cssClasses:mq({translateX:d,translateY:f,coordinate:n})}}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){Aw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aw(e,t,n){return(t=gq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function xq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vq extends g.PureComponent{constructor(){super(...arguments),Aw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Aw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:v,innerRef:b,hasPortalFromProps:x}=this.props,{cssClasses:w,cssProperties:y}=pq({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),N=x?{}:wp(wp({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=wp(wp({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:C,ref:b},a)}}var Q_=()=>{var e;return(e=Tt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(null,arguments)}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){bq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bq(e,t,n){return(t=yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fA={curveBasisClosed:wV,curveBasisOpen:kV,curveBasis:yV,curveBumpX:sV,curveBumpY:oV,curveLinearClosed:SV,curveLinear:fx,curveMonotoneX:NV,curveMonotoneY:CV,curveNatural:jV,curveStep:AV,curveStepAfter:DV,curveStepBefore:PV},r0=e=>br(e.x)&&br(e.y),mA=e=>e.base!=null&&r0(e.base)&&r0(e),df=e=>e.x,ff=e=>e.y,kq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Vm(e));return(n==="curveMonotone"||n==="curveBump")&&t?fA["".concat(n).concat(t==="vertical"?"Y":"X")]:fA[n]||fx},Sq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=kq(t,i),o=a?n.filter(r0):n,l;if(Array.isArray(r)){var u=n.map((m,p)=>dA(dA({},m),{},{base:r[p]}));i==="vertical"?l=mp().y(ff).x1(df).x0(m=>m.base.x):l=mp().x(df).y1(ff).y0(m=>m.base.y);var d=l.defined(mA).curve(s),f=a?u.filter(mA):u;return d(f)}i==="vertical"&&zt(r)?l=mp().y(ff).x1(df).x0(r):zt(r)?l=mp().x(df).y1(ff).y0(r):l=nI().x(df).y(ff);var h=l.defined(r0).curve(s);return h(o)},mS=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Xm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?Sq(s):r;return g.createElement("path",Pw({},is(e),Wk(e),{className:In("recharts-curve",t),d:o===null?void 0:o,ref:i}))},Nq=["x","y","top","left","width","height","className"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){jq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jq(e,t,n){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dq(e,t){if(e==null)return{};var n,r,i=Tq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mq=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Eq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Dq(e,Nq),u=Cq({x:t,y:n,top:r,left:i,width:a,height:s},l);return!zt(t)||!zt(n)||!zt(a)||!zt(s)||!zt(r)||!zt(i)?null:g.createElement("path",Dw({},Ki(u),{className:In("recharts-cross",o),d:Mq(t,n,a,s,r,i)}))};function Oq(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){Iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iq(e,t,n){return(t=_q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _q(e){var t=Lq(e,"string");return typeof t=="symbol"?t:t+""}function Lq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $q=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Z_=(e,t,n)=>e.map(r=>"".concat($q(r)," ").concat(t,"ms ").concat(n)).join(","),Fq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Cm=(e,t)=>Object.keys(t).reduce((n,r)=>gA(gA({},n),{},{[r]:e(r,t[r])}),{});function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){Rq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rq(e,t,n){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i0=(e,t,n)=>e+(t-e)*n,Tw=e=>{var{from:t,to:n}=e;return t!==n},J_=(e,t,n)=>{var r=Cm((i,a)=>{if(Tw(a)){var[s,o]=e(a.from,a.to,a.velocity);return ri(ri({},a),{},{from:s,velocity:o})}return a},t);return n<1?Cm((i,a)=>Tw(a)&&r[i]!=null?ri(ri({},a),{},{velocity:i0(a.velocity,r[i].velocity,n),from:i0(a.from,r[i].from,n)}):a,t):J_(e,r,n-1)};function Uq(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>ri(ri({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Cm((h,m)=>m.from,o),u=()=>!Object.values(o).filter(Tw).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=J_(n,o,p),i(ri(ri(ri({},e),t),l())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Wq(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:ri(ri({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=Cm((v,b)=>i0(...b,n(h)),l);if(a(ri(ri(ri({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Cm((v,b)=>i0(...b,n(1)),l);a(ri(ri(ri({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const Vq=(e,t,n,r,i,a)=>{var s=Fq(e,t);return n==null?()=>(i(ri(ri({},e),t)),()=>{}):n.isStepper===!0?Uq(e,t,n,s,i,a):Wq(e,t,n,r,s,i,a)};var a0=1e-4,e3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],t3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),vA=(e,t)=>n=>{var r=e3(e,t);return t3(r,n)},Hq=(e,t)=>n=>{var r=e3(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return t3(i,n)},qq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Kq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=qq(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Gq=(e,t,n,r)=>{var i=vA(e,n),a=vA(t,r),s=Hq(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<a0||p<a0)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},bA=function(){return Gq(...Kq(...arguments))},Yq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,d=l*r,f=l+(u-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<a0&&Math.abs(f)<a0?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},Xq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bA(e);case"spring":return Yq();default:if(e.split("(")[0]==="cubic-bezier")return bA(e)}return typeof e=="function"?e:null};function Qq(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Zq{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Jq(){return Qq(new Zq)}var eK=g.createContext(Jq);function tK(e,t){var n=g.useContext(eK);return g.useMemo(()=>t??n(e),[e,t,n])}var nK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rx={isSsr:nK()},rK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yA={t:0},db={t:1};function Bx(e){var t=Qr(e,rK),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=n==="auto"?!Rx.isSsr:n,f=tK(t.animationId,t.animationManager),[h,m]=g.useState(d?yA:db),p=g.useRef(null);return g.useEffect(()=>{d||m(db)},[d]),g.useEffect(()=>{if(!d||!r)return Hm;var v=Vq(yA,db,Xq(a),i,m,f.getTimeoutController()),b=()=>{p.current=v()};return f.start([l,s,b,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),u(h.t)}function zx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(vm(t)),r=g.useRef(e);return r.current!==e&&(n.current=vm(t),r.current=e),n.current}var iK=["radius"],aK=["radius"],wA,kA,SA,NA,CA,jA,AA,PA,DA,TA;function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){sK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sK(e,t,n){return(t=oK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(null,arguments)}function OA(e,t){if(e==null)return{};var n,r,i=cK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IA=(e,t,n,r,i)=>{var a=_l(n),s=_l(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Er(wA||(wA=qs(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Er(kA||(kA=qs(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Er(SA||(SA=qs(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Er(NA||(NA=qs(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Er(CA||(CA=qs(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Er(jA||(jA=qs(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=Er(AA||(AA=qs(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Er(PA||(PA=qs(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f=Er(DA||(DA=qs(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-l*v)}else f=Er(TA||(TA=qs(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},_A={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n3=e=>{var t=Qr(e,_A),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:v}=t,b=g.useRef(o),x=g.useRef(l),w=g.useRef(a),y=g.useRef(s),N=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),C=zx(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=In("recharts-rectangle",d);if(!v){var A=Ki(t),{radius:O}=A,R=OA(A,iK);return g.createElement("path",s0({},R,{x:_l(a),y:_l(s),width:_l(o),height:_l(l),radius:typeof u=="number"?u:void 0,className:S,d:IA(a,s,o,l,u)}))}var M=b.current,L=x.current,_=w.current,G=y.current,ee="0px ".concat(r===-1?1:r,"px"),le="".concat(r,"px 0px"),ve=Z_(["strokeDasharray"],h,typeof f=="string"?f:_A.animationEasing);return g.createElement(Bx,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:v,begin:m},Y=>{var q=Wi(M,o,Y),K=Wi(L,l,Y),P=Wi(_,a,Y),D=Wi(G,s,Y);n.current&&(b.current=q,x.current=K,w.current=P,y.current=D);var re;p?Y>0?re={transition:ve,strokeDasharray:le}:re={strokeDasharray:ee}:re={strokeDasharray:le};var k=Ki(t),{radius:W}=k,V=OA(k,aK);return g.createElement("path",s0({},V,{radius:typeof u=="number"?u:void 0,className:S,d:IA(P,D,q,K,u),ref:n,style:EA(EA({},re),t.style)}))})};function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o0=Math.PI/180,mK=e=>e*180/Math.PI,Yr=(e,t,n,r)=>({x:e+Math.cos(-o0*r)*n,y:t+Math.sin(-o0*r)*n}),r3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},hK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},pK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=hK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:mK(l),angleInRadian:l}},gK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},xK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},vK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=pK({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=gK(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?$A($A({},t),{},{radius:i,angle:xK(d,t)}):null};function i3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Yr(t,n,r,i),o=Yr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var FA,RA,BA,zA,UA,WA,VA;function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function Oc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bK=(e,t)=>{var n=Vi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},kp=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,d=Math.asin(o/u)/o0,f=l?i:i+a*d,h=Yr(t,n,u,f),m=Yr(t,n,r,f),p=l?i-a*d:i,v=Yr(t,n,u*Math.cos(d*o0),p);return{center:h,circleTangency:m,lineTangency:v,theta:d}},a3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=bK(a,s),l=a+o,u=Yr(t,n,i,a),d=Yr(t,n,i,l),f=Er(FA||(FA=Oc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Yr(t,n,r,a),m=Yr(t,n,r,l);f+=Er(RA||(RA=Oc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Er(BA||(BA=Oc(["L ",","," Z"])),t,n);return f},yK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=Vi(u-l),{circleTangency:f,lineTangency:h,theta:m}=kp({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:v,theta:b}=kp({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-b;if(x<0)return s?Er(zA||(zA=Oc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):a3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w=Er(UA||(UA=Oc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),v.x,v.y);if(r>0){var{circleTangency:y,lineTangency:N,theta:C}=kp({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:A,theta:O}=kp({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),R=o?Math.abs(l-u):Math.abs(l-u)-C-O;if(R<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=Er(WA||(WA=Oc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(d<0),S.x,S.y,r,r,+(R>180),+(d>0),y.x,y.y,a,a,+(d<0),N.x,N.y)}else w+=Er(VA||(VA=Oc(["L",",","Z"])),t,n);return w},wK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},s3=e=>{var t=Qr(e,wK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=In("recharts-sector",f),m=a-i,p=Ia(s,m,0,!0),v;return p>0&&Math.abs(u-d)<360?v=yK({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):v=a3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),g.createElement("path",Mw({},Ki(t),{className:h,d:v}))};function kK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(vI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Yr(r,i,a,o),u=Yr(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return i3(t)}}var o3={},l3={},c3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(c3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(l3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS,n=l3;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(o3);var SK=o3.range;const u3=_s(SK);function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hS(e){let t,n,r;e.length!==2?(t=Hl,n=(o,l)=>Hl(e(o),l),r=(o,l)=>e(o)-l):(t=e===Hl||e===NK?e:CK,n=e,r=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function CK(){return 0}function d3(e){return e===null?NaN:+e}function*jK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const AK=hS(Hl),Zm=AK.right;hS(d3).center;class HA extends Map{constructor(t,n=TK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(qA(this,t))}has(t){return super.has(qA(this,t))}set(t,n){return super.set(PK(this,t),n)}delete(t){return super.delete(DK(this,t))}}function qA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function PK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function DK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function TK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MK(e=Hl){if(e===Hl)return f3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function f3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const EK=Math.sqrt(50),OK=Math.sqrt(10),IK=Math.sqrt(2);function l0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=EK?10:a>=OK?5:a>=IK?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?l0(e,t,n*2):[o,l,u]}function Ew(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?l0(t,e,n):l0(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Ow(e,t,n){return t=+t,e=+e,n=+n,l0(e,t,n)[2]}function Iw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ow(t,e,n):Ow(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function KA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function m3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?f3:MK(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),p=Math.min(r,Math.floor(t+(l-u)*f/l+h));m3(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(mf(e,n,t),i(e[r],a)>0&&mf(e,n,r);s<o;){for(mf(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?mf(e,n,o):(++o,mf(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function mf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _K(e,t,n){if(e=Float64Array.from(jK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return GA(e);if(t>=1)return KA(e);var r,i=(r-1)*t,a=Math.floor(i),s=KA(m3(e,a).subarray(0,a+1)),o=GA(e.subarray(a+1));return s+(o-s)*(i-a)}}function LK(e,t,n=d3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function $K(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function cs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _w=Symbol("implicit");function pS(){var e=new HA,t=[],n=[],r=_w;function i(a){let s=e.get(a);if(s===void 0){if(r!==_w)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new HA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pS(t,n).unknown(r)},cs.apply(i,arguments),i}function gS(){var e=pS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,v=m?r:i;a=(v-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(v-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var b=$K(h).map(function(x){return p+a*x});return n(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return gS(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},cs.apply(f(),arguments)}function h3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return h3(t())},e}function FK(){return h3(gS.apply(null,arguments).paddingInner(1))}function xS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function p3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Jm(){}var jm=.7,c0=1/jm,od="\\s*([+-]?\\d+)\\s*",Am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RK=/^#([0-9a-f]{3,8})$/,BK=new RegExp(`^rgb\\(${od},${od},${od}\\)$`),zK=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),UK=new RegExp(`^rgba\\(${od},${od},${od},${Am}\\)$`),WK=new RegExp(`^rgba\\(${no},${no},${no},${Am}\\)$`),VK=new RegExp(`^hsl\\(${Am},${no},${no}\\)$`),HK=new RegExp(`^hsla\\(${Am},${no},${no},${Am}\\)$`),YA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xS(Jm,Pm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XA,formatHex:XA,formatHex8:qK,formatHsl:KK,formatRgb:QA,toString:QA});function XA(){return this.rgb().formatHex()}function qK(){return this.rgb().formatHex8()}function KK(){return g3(this).formatHsl()}function QA(){return this.rgb().formatRgb()}function Pm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ZA(t):n===3?new fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BK.exec(e))?new fa(t[1],t[2],t[3],1):(t=zK.exec(e))?new fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=UK.exec(e))?Sp(t[1],t[2],t[3],t[4]):(t=WK.exec(e))?Sp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VK.exec(e))?tP(t[1],t[2]/100,t[3]/100,1):(t=HK.exec(e))?tP(t[1],t[2]/100,t[3]/100,t[4]):YA.hasOwnProperty(e)?ZA(YA[e]):e==="transparent"?new fa(NaN,NaN,NaN,0):null}function ZA(e){return new fa(e>>16&255,e>>8&255,e&255,1)}function Sp(e,t,n,r){return r<=0&&(e=t=n=NaN),new fa(e,t,n,r)}function GK(e){return e instanceof Jm||(e=Pm(e)),e?(e=e.rgb(),new fa(e.r,e.g,e.b,e.opacity)):new fa}function Lw(e,t,n,r){return arguments.length===1?GK(e):new fa(e,t,n,r??1)}function fa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xS(fa,Lw,p3(Jm,{brighter(e){return e=e==null?c0:Math.pow(c0,e),new fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fa(Wc(this.r),Wc(this.g),Wc(this.b),u0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JA,formatHex:JA,formatHex8:YK,formatRgb:eP,toString:eP}));function JA(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}`}function YK(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}${Ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function eP(){const e=u0(this.opacity);return`${e===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${e===1?")":`, ${e})`}`}function u0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ic(e){return e=Wc(e),(e<16?"0":"")+e.toString(16)}function tP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ks(e,t,n,r)}function g3(e){if(e instanceof ks)return new ks(e.h,e.s,e.l,e.opacity);if(e instanceof Jm||(e=Pm(e)),!e)return new ks;if(e instanceof ks)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ks(s,o,l,e.opacity)}function XK(e,t,n,r){return arguments.length===1?g3(e):new ks(e,t,n,r??1)}function ks(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xS(ks,XK,p3(Jm,{brighter(e){return e=e==null?c0:Math.pow(c0,e),new ks(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?jm:Math.pow(jm,e),new ks(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fa(fb(e>=240?e-240:e+120,i,r),fb(e,i,r),fb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ks(nP(this.h),Np(this.s),Np(this.l),u0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=u0(this.opacity);return`${e===1?"hsl(":"hsla("}${nP(this.h)}, ${Np(this.s)*100}%, ${Np(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nP(e){return e=(e||0)%360,e<0?e+360:e}function Np(e){return Math.max(0,Math.min(1,e||0))}function fb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vS=e=>()=>e;function QK(e,t){return function(n){return e+n*t}}function ZK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JK(e){return(e=+e)==1?x3:function(t,n){return n-t?ZK(t,n,e):vS(isNaN(t)?n:t)}}function x3(e,t){var n=t-e;return n?QK(e,n):vS(isNaN(e)?t:e)}const rP=function e(t){var n=JK(t);function r(i,a){var s=n((i=Lw(i)).r,(a=Lw(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=x3(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function eG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function tG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ld(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function rG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function d0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function iG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ld(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var $w=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mb=new RegExp($w.source,"g");function aG(e){return function(){return e}}function sG(e){return function(t){return e(t)+""}}function oG(e,t){var n=$w.lastIndex=mb.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=$w.exec(e))&&(i=mb.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:d0(r,i)})),n=mb.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?sG(l[0].x):aG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Ld(e,t){var n=typeof t,r;return t==null||n==="boolean"?vS(t):(n==="number"?d0:n==="string"?(r=Pm(t))?(t=r,rP):oG:t instanceof Pm?rP:t instanceof Date?rG:tG(t)?eG:Array.isArray(t)?nG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iG:d0)(e,t)}function bS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function lG(e,t){t===void 0&&(t=e,e=Ld);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function cG(e){return function(){return e}}function f0(e){return+e}var iP=[0,1];function ea(e){return e}function Fw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cG(isNaN(t)?NaN:.5)}function uG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dG(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Fw(i,r),a=n(s,a)):(r=Fw(r,i),a=n(a,s)),function(o){return a(r(o))}}function fG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Fw(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Zm(e,o,1,r)-1;return a[l](i[l](o))}}function eh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ux(){var e=iP,t=iP,n=Ld,r,i,a,s=ea,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==ea&&(s=uG(e[0],e[h-1])),o=h>2?fG:dG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),d0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,f0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=bS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ea,d()):s!==ea},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function yS(){return Ux()(ea,ea)}function mG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function m0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Sd(e){return e=m0(Math.abs(e)),e?e[1]:NaN}function hG(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function pG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dm(e){if(!(t=gG.exec(e)))throw new Error("invalid format: "+e);var t;return new wS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dm.prototype=wS.prototype;function wS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var h0;function vG(e,t){var n=m0(e,t);if(!n)return h0=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(h0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+m0(e,Math.max(0,t+a-1))[0]}function aP(e,t){var n=m0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aP(e*100,t),r:aP,s:vG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oP(e){return e}var lP=Array.prototype.map,cP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bG(e){var t=e.grouping===void 0||e.thousands===void 0?oP:hG(lP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?oP:pG(lP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Dm(f);var m=f.fill,p=f.align,v=f.sign,b=f.symbol,x=f.zero,w=f.width,y=f.comma,N=f.precision,C=f.trim,S=f.type;S==="n"?(y=!0,S="g"):sP[S]||(N===void 0&&(N=12),C=!0,S="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),O=(b==="$"?r:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),R=sP[S],M=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L(_){var G=A,ee=O,le,ve,Y;if(S==="c")ee=R(_)+ee,_="";else{_=+_;var q=_<0||1/_<0;if(_=isNaN(_)?l:R(Math.abs(_),N),C&&(_=xG(_)),q&&+_==0&&v!=="+"&&(q=!1),G=(q?v==="("?v:o:v==="-"||v==="("?"":v)+G,ee=(S==="s"&&!isNaN(_)&&h0!==void 0?cP[8+h0/3]:"")+ee+(q&&v==="("?")":""),M){for(le=-1,ve=_.length;++le<ve;)if(Y=_.charCodeAt(le),48>Y||Y>57){ee=(Y===46?i+_.slice(le+1):_.slice(le))+ee,_=_.slice(0,le);break}}}y&&!x&&(_=t(_,1/0));var K=G.length+_.length+ee.length,P=K<w?new Array(w-K+1).join(m):"";switch(y&&x&&(_=t(P+_,P.length?w-ee.length:1/0),P=""),p){case"<":_=G+_+ee+P;break;case"=":_=G+P+_+ee;break;case"^":_=P.slice(0,K=P.length>>1)+G+_+ee+P.slice(K);break;default:_=P+G+_+ee;break}return a(_)}return L.toString=function(){return f+""},L}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Sd(h)/3)))*3,p=Math.pow(10,-m),v=u((f=Dm(f),f.type="f",f),{suffix:cP[8+m/3]});return function(b){return v(p*b)}}return{format:u,formatPrefix:d}}var Cp,kS,v3;yG({thousands:",",grouping:[3],currency:["$",""]});function yG(e){return Cp=bG(e),kS=Cp.format,v3=Cp.formatPrefix,Cp}function wG(e){return Math.max(0,-Sd(Math.abs(e)))}function kG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sd(t)/3)))*3-Sd(Math.abs(e)))}function SG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sd(t)-Sd(e))+1}function b3(e,t,n,r){var i=Iw(e,t,n),a;switch(r=Dm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=kG(i,s))&&(r.precision=a),v3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=SG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wG(i))&&(r.precision=a-(r.type==="%")*2);break}}return kS(r)}function ic(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ew(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return b3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Ow(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function y3(){var e=yS();return e.copy=function(){return eh(e,y3())},cs.apply(e,arguments),ic(e)}function w3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,f0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return w3(e).unknown(t)},e=arguments.length?Array.from(e,f0):[0,1],ic(n)}function k3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function uP(e){return Math.log(e)}function dP(e){return Math.exp(e)}function NG(e){return-Math.log(-e)}function CG(e){return-Math.exp(-e)}function jG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AG(e){return e===10?jG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fP(e){return(t,n)=>-e(-t,n)}function SS(e){const t=e(uP,dP),n=t.domain;let r=10,i,a;function s(){return i=PG(r),a=AG(r),n()[0]<0?(i=fP(i),a=fP(a),e(NG,CG)):e(uP,dP),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,v;const b=o==null?10:+o;let x=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(v=h<0?p/a(-h):p*a(h),!(v<u)){if(v>d)break;x.push(v)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(v=h>0?p/a(-h):p*a(h),!(v<u)){if(v>d)break;x.push(v)}x.length*2<b&&(x=Ew(u,d,b))}else x=Ew(h,m,Math.min(m-h,b)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Dm(l)).precision==null&&(l.trim=!0),l=kS(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(k3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function S3(){const e=SS(Ux()).domain([1,10]);return e.copy=()=>eh(e,S3()).base(e.base()),cs.apply(e,arguments),e}function mP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function NS(e){var t=1,n=e(mP(t),hP(t));return n.constant=function(r){return arguments.length?e(mP(t=+r),hP(t)):t},ic(n)}function N3(){var e=NS(Ux());return e.copy=function(){return eh(e,N3()).constant(e.constant())},cs.apply(e,arguments)}function pP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TG(e){return e<0?-e*e:e*e}function CS(e){var t=e(ea,ea),n=1;function r(){return n===1?e(ea,ea):n===.5?e(DG,TG):e(pP(n),pP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ic(t)}function jS(){var e=CS(Ux());return e.copy=function(){return eh(e,jS()).exponent(e.exponent())},cs.apply(e,arguments),e}function MG(){return jS.apply(null,arguments).exponent(.5)}function gP(e){return Math.sign(e)*e*e}function EG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function C3(){var e=yS(),t=[0,1],n=!1,r;function i(a){var s=EG(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(gP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,f0)).map(gP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return C3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},cs.apply(i,arguments),ic(i)}function j3(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=LK(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Zm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Hl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return j3().domain(e).range(t).unknown(r)},cs.apply(a,arguments)}function A3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Zm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return A3().domain([e,t]).range(i).unknown(a)},cs.apply(ic(s),arguments)}function P3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Zm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return P3().domain(e).range(t).unknown(n)},cs.apply(i,arguments)}const hb=new Date,pb=new Date;function si(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>si(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(hb.setTime(+a),pb.setTime(+s),e(hb),e(pb),Math.floor(n(hb,pb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const p0=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):p0);p0.range;const To=1e3,es=To*60,Mo=es*60,Ho=Mo*24,AS=Ho*7,xP=Ho*30,gb=Ho*365,_c=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*To)},(e,t)=>(t-e)/To,e=>e.getUTCSeconds());_c.range;const PS=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getMinutes());PS.range;const DS=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCMinutes());DS.range;const TS=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To-e.getMinutes()*es)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getHours());TS.range;const MS=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCHours());MS.range;const th=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*es)/Ho,e=>e.getDate()-1);th.range;const Wx=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ho,e=>e.getUTCDate()-1);Wx.range;const D3=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ho,e=>Math.floor(e/Ho));D3.range;function uu(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*es)/AS)}const Vx=uu(0),g0=uu(1),OG=uu(2),IG=uu(3),Nd=uu(4),_G=uu(5),LG=uu(6);Vx.range;g0.range;OG.range;IG.range;Nd.range;_G.range;LG.range;function du(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/AS)}const Hx=du(0),x0=du(1),$G=du(2),FG=du(3),Cd=du(4),RG=du(5),BG=du(6);Hx.range;x0.range;$G.range;FG.range;Cd.range;RG.range;BG.range;const ES=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ES.range;const OS=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());OS.range;const qo=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qo.range;const Ko=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ko.range;function T3(e,t,n,r,i,a){const s=[[_c,1,To],[_c,5,5*To],[_c,15,15*To],[_c,30,30*To],[a,1,es],[a,5,5*es],[a,15,15*es],[a,30,30*es],[i,1,Mo],[i,3,3*Mo],[i,6,6*Mo],[i,12,12*Mo],[r,1,Ho],[r,2,2*Ho],[n,1,AS],[t,1,xP],[t,3,3*xP],[e,1,gb]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=hS(([,,b])=>b).right(s,h);if(m===s.length)return e.every(Iw(u/gb,d/gb,f));if(m===0)return p0.every(Math.max(Iw(u,d,f),1));const[p,v]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(v)}return[o,l]}const[zG,UG]=T3(Ko,OS,Hx,D3,MS,DS),[WG,VG]=T3(qo,ES,Vx,th,TS,PS);function xb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function HG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=pf(i),d=gf(i),f=pf(a),h=gf(a),m=pf(s),p=gf(s),v=pf(o),b=gf(o),x=pf(l),w=gf(l),y={a:Y,A:q,b:K,B:P,c:null,d:SP,e:SP,f:hY,g:NY,G:jY,H:dY,I:fY,j:mY,L:M3,m:pY,M:gY,p:D,q:re,Q:jP,s:AP,S:xY,u:vY,U:bY,V:yY,w:wY,W:kY,x:null,X:null,y:SY,Y:CY,Z:AY,"%":CP},N={a:k,A:W,b:V,B:ie,c:null,d:NP,e:NP,f:MY,g:zY,G:WY,H:PY,I:DY,j:TY,L:O3,m:EY,M:OY,p:ne,q:se,Q:jP,s:AP,S:IY,u:_Y,U:LY,V:$Y,w:FY,W:RY,x:null,X:null,y:BY,Y:UY,Z:VY,"%":CP},C={a:M,A:L,b:_,B:G,c:ee,d:wP,e:wP,f:oY,g:yP,G:bP,H:kP,I:kP,j:rY,L:sY,m:nY,M:iY,p:R,q:tY,Q:cY,s:uY,S:aY,u:XG,U:QG,V:ZG,w:YG,W:JG,x:le,X:ve,y:yP,Y:bP,Z:eY,"%":lY};y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(B,U){return function(H){var te=[],z=-1,ue=0,Z=B.length,ae,Ke,Ye;for(H instanceof Date||(H=new Date(+H));++z<Z;)B.charCodeAt(z)===37&&(te.push(B.slice(ue,z)),(Ke=vP[ae=B.charAt(++z)])!=null?ae=B.charAt(++z):Ke=ae==="e"?" ":"0",(Ye=U[ae])&&(ae=Ye(H,Ke)),te.push(ae),ue=z+1);return te.push(B.slice(ue,z)),te.join("")}}function A(B,U){return function(H){var te=hf(1900,void 0,1),z=O(te,B,H+="",0),ue,Z;if(z!=H.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(U&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ue=vb(hf(te.y,0,1)),Z=ue.getUTCDay(),ue=Z>4||Z===0?x0.ceil(ue):x0(ue),ue=Wx.offset(ue,(te.V-1)*7),te.y=ue.getUTCFullYear(),te.m=ue.getUTCMonth(),te.d=ue.getUTCDate()+(te.w+6)%7):(ue=xb(hf(te.y,0,1)),Z=ue.getDay(),ue=Z>4||Z===0?g0.ceil(ue):g0(ue),ue=th.offset(ue,(te.V-1)*7),te.y=ue.getFullYear(),te.m=ue.getMonth(),te.d=ue.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Z="Z"in te?vb(hf(te.y,0,1)).getUTCDay():xb(hf(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Z+5)%7:te.w+te.U*7-(Z+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,vb(te)):xb(te)}}function O(B,U,H,te){for(var z=0,ue=U.length,Z=H.length,ae,Ke;z<ue;){if(te>=Z)return-1;if(ae=U.charCodeAt(z++),ae===37){if(ae=U.charAt(z++),Ke=C[ae in vP?U.charAt(z++):ae],!Ke||(te=Ke(B,H,te))<0)return-1}else if(ae!=H.charCodeAt(te++))return-1}return te}function R(B,U,H){var te=u.exec(U.slice(H));return te?(B.p=d.get(te[0].toLowerCase()),H+te[0].length):-1}function M(B,U,H){var te=m.exec(U.slice(H));return te?(B.w=p.get(te[0].toLowerCase()),H+te[0].length):-1}function L(B,U,H){var te=f.exec(U.slice(H));return te?(B.w=h.get(te[0].toLowerCase()),H+te[0].length):-1}function _(B,U,H){var te=x.exec(U.slice(H));return te?(B.m=w.get(te[0].toLowerCase()),H+te[0].length):-1}function G(B,U,H){var te=v.exec(U.slice(H));return te?(B.m=b.get(te[0].toLowerCase()),H+te[0].length):-1}function ee(B,U,H){return O(B,t,U,H)}function le(B,U,H){return O(B,n,U,H)}function ve(B,U,H){return O(B,r,U,H)}function Y(B){return s[B.getDay()]}function q(B){return a[B.getDay()]}function K(B){return l[B.getMonth()]}function P(B){return o[B.getMonth()]}function D(B){return i[+(B.getHours()>=12)]}function re(B){return 1+~~(B.getMonth()/3)}function k(B){return s[B.getUTCDay()]}function W(B){return a[B.getUTCDay()]}function V(B){return l[B.getUTCMonth()]}function ie(B){return o[B.getUTCMonth()]}function ne(B){return i[+(B.getUTCHours()>=12)]}function se(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var U=S(B+="",y);return U.toString=function(){return B},U},parse:function(B){var U=A(B+="",!1);return U.toString=function(){return B},U},utcFormat:function(B){var U=S(B+="",N);return U.toString=function(){return B},U},utcParse:function(B){var U=A(B+="",!0);return U.toString=function(){return B},U}}}var vP={"-":"",_:" ",0:"0"},Ni=/^\s*\d+/,qG=/^%/,KG=/[\\^$*+?|[\]().{}]/g;function _n(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function GG(e){return e.replace(KG,"\\$&")}function pf(e){return new RegExp("^(?:"+e.map(GG).join("|")+")","i")}function gf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YG(e,t,n){var r=Ni.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function XG(e,t,n){var r=Ni.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function QG(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ZG(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function JG(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function bP(e,t,n){var r=Ni.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yP(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tY(e,t,n){var r=Ni.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function nY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wP(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=Ni.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function kP(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=Ni.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=Ni.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lY(e,t,n){var r=qG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cY(e,t,n){var r=Ni.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=Ni.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function SP(e,t){return _n(e.getDate(),t,2)}function dY(e,t){return _n(e.getHours(),t,2)}function fY(e,t){return _n(e.getHours()%12||12,t,2)}function mY(e,t){return _n(1+th.count(qo(e),e),t,3)}function M3(e,t){return _n(e.getMilliseconds(),t,3)}function hY(e,t){return M3(e,t)+"000"}function pY(e,t){return _n(e.getMonth()+1,t,2)}function gY(e,t){return _n(e.getMinutes(),t,2)}function xY(e,t){return _n(e.getSeconds(),t,2)}function vY(e){var t=e.getDay();return t===0?7:t}function bY(e,t){return _n(Vx.count(qo(e)-1,e),t,2)}function E3(e){var t=e.getDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function yY(e,t){return e=E3(e),_n(Nd.count(qo(e),e)+(qo(e).getDay()===4),t,2)}function wY(e){return e.getDay()}function kY(e,t){return _n(g0.count(qo(e)-1,e),t,2)}function SY(e,t){return _n(e.getFullYear()%100,t,2)}function NY(e,t){return e=E3(e),_n(e.getFullYear()%100,t,2)}function CY(e,t){return _n(e.getFullYear()%1e4,t,4)}function jY(e,t){var n=e.getDay();return e=n>=4||n===0?Nd(e):Nd.ceil(e),_n(e.getFullYear()%1e4,t,4)}function AY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_n(t/60|0,"0",2)+_n(t%60,"0",2)}function NP(e,t){return _n(e.getUTCDate(),t,2)}function PY(e,t){return _n(e.getUTCHours(),t,2)}function DY(e,t){return _n(e.getUTCHours()%12||12,t,2)}function TY(e,t){return _n(1+Wx.count(Ko(e),e),t,3)}function O3(e,t){return _n(e.getUTCMilliseconds(),t,3)}function MY(e,t){return O3(e,t)+"000"}function EY(e,t){return _n(e.getUTCMonth()+1,t,2)}function OY(e,t){return _n(e.getUTCMinutes(),t,2)}function IY(e,t){return _n(e.getUTCSeconds(),t,2)}function _Y(e){var t=e.getUTCDay();return t===0?7:t}function LY(e,t){return _n(Hx.count(Ko(e)-1,e),t,2)}function I3(e){var t=e.getUTCDay();return t>=4||t===0?Cd(e):Cd.ceil(e)}function $Y(e,t){return e=I3(e),_n(Cd.count(Ko(e),e)+(Ko(e).getUTCDay()===4),t,2)}function FY(e){return e.getUTCDay()}function RY(e,t){return _n(x0.count(Ko(e)-1,e),t,2)}function BY(e,t){return _n(e.getUTCFullYear()%100,t,2)}function zY(e,t){return e=I3(e),_n(e.getUTCFullYear()%100,t,2)}function UY(e,t){return _n(e.getUTCFullYear()%1e4,t,4)}function WY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Cd(e):Cd.ceil(e),_n(e.getUTCFullYear()%1e4,t,4)}function VY(){return"+0000"}function CP(){return"%"}function jP(e){return+e}function AP(e){return Math.floor(+e/1e3)}var Du,_3,L3;HY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HY(e){return Du=HG(e),_3=Du.format,Du.parse,L3=Du.utcFormat,Du.utcParse,Du}function qY(e){return new Date(e)}function KY(e){return e instanceof Date?+e:+new Date(+e)}function IS(e,t,n,r,i,a,s,o,l,u){var d=yS(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),v=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),y=u("%B"),N=u("%Y");function C(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?v:a(S)<S?b:r(S)<S?i(S)<S?x:w:n(S)<S?y:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,KY)):h().map(qY)},d.ticks=function(S){var A=h();return e(A[0],A[A.length-1],S??10)},d.tickFormat=function(S,A){return A==null?C:u(A)},d.nice=function(S){var A=h();return(!S||typeof S.range!="function")&&(S=t(A[0],A[A.length-1],S??10)),S?h(k3(A,S)):d},d.copy=function(){return eh(d,IS(e,t,n,r,i,a,s,o,l,u))},d}function GY(){return cs.apply(IS(WG,VG,qo,ES,Vx,th,TS,PS,_c,_3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YY(){return cs.apply(IS(zG,UG,Ko,OS,Hx,Wx,MS,DS,_c,L3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qx(){var e=0,t=1,n,r,i,a,s=ea,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(Ld),u.rangeRound=d(bS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $3(){var e=ic(qx()(ea));return e.copy=function(){return ac(e,$3())},nl.apply(e,arguments)}function F3(){var e=SS(qx()).domain([1,10]);return e.copy=function(){return ac(e,F3()).base(e.base())},nl.apply(e,arguments)}function R3(){var e=NS(qx());return e.copy=function(){return ac(e,R3()).constant(e.constant())},nl.apply(e,arguments)}function _S(){var e=CS(qx());return e.copy=function(){return ac(e,_S()).exponent(e.exponent())},nl.apply(e,arguments)}function XY(){return _S.apply(null,arguments).exponent(.5)}function B3(){var e=[],t=ea;function n(r){if(r!=null&&!isNaN(r=+r))return t((Zm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>_K(e,a/r))},n.copy=function(){return B3(t).domain(e)},nl.apply(n,arguments)}function Kx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=ea,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-a)*(r*v<r*a?o:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function p(v){return function(b){var x,w,y;return arguments.length?([x,w,y]=b,u=lG(v,[x,w,y]),m):[u(0),u(.5),u(1)]}}return m.range=p(Ld),m.rangeRound=p(bS),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(e),a=v(t),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function z3(){var e=ic(Kx()(ea));return e.copy=function(){return ac(e,z3())},nl.apply(e,arguments)}function U3(){var e=SS(Kx()).domain([.1,1,10]);return e.copy=function(){return ac(e,U3()).base(e.base())},nl.apply(e,arguments)}function W3(){var e=NS(Kx());return e.copy=function(){return ac(e,W3()).constant(e.constant())},nl.apply(e,arguments)}function LS(){var e=CS(Kx());return e.copy=function(){return ac(e,LS()).exponent(e.exponent())},nl.apply(e,arguments)}function QY(){return LS.apply(null,arguments).exponent(.5)}const Df=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gS,scaleDiverging:z3,scaleDivergingLog:U3,scaleDivergingPow:LS,scaleDivergingSqrt:QY,scaleDivergingSymlog:W3,scaleIdentity:w3,scaleImplicit:_w,scaleLinear:y3,scaleLog:S3,scaleOrdinal:pS,scalePoint:FK,scalePow:jS,scaleQuantile:j3,scaleQuantize:A3,scaleRadial:C3,scaleSequential:$3,scaleSequentialLog:F3,scaleSequentialPow:_S,scaleSequentialQuantile:B3,scaleSequentialSqrt:XY,scaleSequentialSymlog:R3,scaleSqrt:MG,scaleSymlog:N3,scaleThreshold:P3,scaleTime:GY,scaleUtc:YY,tickFormat:b3},Symbol.toStringTag,{value:"Module"}));var sc=e=>e.chartData,$S=Ae([sc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),FS=(e,t,n,r)=>r?$S(e):sc(e);function Yl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(br(t)&&br(n))return!0}return!1}function PP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function V3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(br(n))i=n;else if(typeof n=="function")return;if(br(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Yl(s))return s}}function ZY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Yl(r))return PP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(zt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Kj.test(i)){var l=Kj.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(zt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Gj.test(a)){var d=Gj.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(Yl(h))return t==null?h:PP(h,t,n)}}}var $d=1e9,JY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BS,yr=!0,ls="[DecimalError] ",Vc=ls+"Invalid argument: ",RS=ls+"Exponent out of range: ",Fd=Math.floor,Cc=Math.pow,eX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ta,vi=1e7,dr=7,H3=9007199254740991,v0=Fd(H3/dr),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*dr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};At.dividedBy=At.div=function(e){return _o(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,n=t.constructor;return Xn(_o(t,new n(e),0,1),n.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return Xr(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ta))throw Error(ls+"NaN");if(n.s<1)throw Error(ls+(n.s?"NaN":"-Infinity"));return n.eq(Ta)?new r(0):(yr=!1,t=_o(Tm(n,a),Tm(e,a),a),yr=!0,Xn(t,i))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G3(t,e):q3(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ls+"NaN");return n.s?(yr=!1,t=_o(n,e,0,1).times(e),yr=!0,n.minus(t)):Xn(new r(n),i)};At.naturalExponential=At.exp=function(){return K3(this)};At.naturalLogarithm=At.ln=function(){return Tm(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q3(t,e):G3(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vc+e);if(t=Xr(i)+1,r=i.d.length-1,n=r*dr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};At.squareRoot=At.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ls+"NaN")}for(e=Xr(o),yr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Js(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(_o(o,a,s+2)).times(.5),Js(a.d).slice(0,s)===(t=Js(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Xn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return yr=!0,Xn(r,n)};At.times=At.mul=function(e){var t,n,r,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%vi|0,t=o/vi|0;a[i]=(a[i]+t)%vi|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,yr?Xn(e,f.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ao(e,0,$d),t===void 0?t=r.rounding:ao(t,0,8),Xn(n,e+Xr(n)+1,t))};At.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ru(r,!0):(ao(e,0,$d),t===void 0?t=i.rounding:ao(t,0,8),r=Xn(new i(r),e+1,t),n=ru(r,!0,e+1)),n};At.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ru(i):(ao(e,0,$d),t===void 0?t=a.rounding:ao(t,0,8),r=Xn(new a(i),e+Xr(i)+1,t),n=ru(r.abs(),!1,e+Xr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Xn(new t(e),Xr(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ta);if(o=new l(o),!o.s){if(e.s<1)throw Error(ls+"Infinity");return o}if(o.eq(Ta))return o;if(r=l.precision,e.eq(Ta))return Xn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=H3){for(i=new l(Ta),t=Math.ceil(r/dr+4),yr=!1;n%2&&(i=i.times(o),TP(i.d,t)),n=Fd(n/2),n!==0;)o=o.times(o),TP(o.d,t);return yr=!0,e.s<0?new l(Ta).div(i):Xn(i,r)}}else if(a<0)throw Error(ls+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,yr=!1,i=e.times(Tm(o,r+u)),yr=!0,i=K3(i),i.s=a,i};At.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Xr(i),r=ru(i,n<=a.toExpNeg||n>=a.toExpPos)):(ao(e,1,$d),t===void 0?t=a.rounding:ao(t,0,8),i=Xn(new a(i),e,t),n=Xr(i),r=ru(i,e<=n||n<=a.toExpNeg,e)),r};At.toSignificantDigits=At.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ao(e,1,$d),t===void 0?t=r.rounding:ao(t,0,8)),Xn(new r(n),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),n=e.constructor;return ru(e,t<=n.toExpNeg||t>=n.toExpPos)};function q3(e,t){var n,r,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yr?Xn(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/dr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/vi|0,l[a]%=vi;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,yr?Xn(t,f):t}function ao(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vc+e)}function Js(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=dr-r.length,n&&(a+=jl(n)),a+=r;s=e[t],r=s+"",n=dr-r.length,n&&(a+=jl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var _o=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%vi|0,s=a/vi|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*vi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,d,f,h,m,p,v,b,x,w,y,N,C,S,A,O,R=r.constructor,M=r.s==i.s?1:-1,L=r.d,_=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ls+"Division by zero");for(l=r.e-i.e,A=_.length,C=L.length,m=new R(M),p=m.d=[],u=0;_[u]==(L[u]||0);)++u;if(_[u]>(L[u]||0)&&--l,a==null?w=a=R.precision:s?w=a+(Xr(r)-Xr(i))+1:w=a,w<0)return new R(0);if(w=w/dr+2|0,u=0,A==1)for(d=0,_=_[0],w++;(u<C||d)&&w--;u++)y=d*vi+(L[u]||0),p[u]=y/_|0,d=y%_|0;else{for(d=vi/(_[0]+1)|0,d>1&&(_=e(_,d),L=e(L,d),A=_.length,C=L.length),N=A,v=L.slice(0,A),b=v.length;b<A;)v[b++]=0;O=_.slice(),O.unshift(0),S=_[0],_[1]>=vi/2&&++S;do d=0,o=t(_,v,A,b),o<0?(x=v[0],A!=b&&(x=x*vi+(v[1]||0)),d=x/S|0,d>1?(d>=vi&&(d=vi-1),f=e(_,d),h=f.length,b=v.length,o=t(f,v,h,b),o==1&&(d--,n(f,A<h?O:_,h))):(d==0&&(o=d=1),f=_.slice()),h=f.length,h<b&&f.unshift(0),n(v,f,b),o==-1&&(b=v.length,o=t(_,v,A,b),o<1&&(d++,n(v,A<b?O:_,b))),b=v.length):o===0&&(d++,v=[0]),p[u++]=d,o&&v[0]?v[b++]=L[N]||0:(v=[L[N]],b=1);while((N++<C||v[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,Xn(m,s?a+Xr(m)+1:a)}}();function K3(e,t){var n,r,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Xr(e)>16)throw Error(RS+Xr(e));if(!e.s)return new d(Ta);for(yr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Cc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Ta),d.precision=o;;){if(i=Xn(i.times(e),o),n=n.times(++l),s=a.plus(_o(i,n,o)),Js(s.d).slice(0,o)===Js(a.d).slice(0,o)){for(;u--;)a=Xn(a.times(a),o);return d.precision=f,t==null?(yr=!0,Xn(a,f)):a}a=s}}function Xr(e){for(var t=e.e*dr,n=e.d[0];n>=10;n/=10)t++;return t}function bb(e,t,n){if(t>e.LN10.sd())throw yr=!0,n&&(e.precision=n),Error(ls+"LN10 precision limit exceeded");return Xn(new e(e.LN10),t)}function jl(e){for(var t="";e--;)t+="0";return t}function Tm(e,t){var n,r,i,a,s,o,l,u,d,f=1,h=10,m=e,p=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(ls+(m.s?"NaN":"-Infinity"));if(m.eq(Ta))return new v(0);if(t==null?(yr=!1,u=b):u=t,m.eq(10))return t==null&&(yr=!0),bb(v,u);if(u+=h,v.precision=u,n=Js(p),r=n.charAt(0),a=Xr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Js(m.d),r=n.charAt(0),f++;a=Xr(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return l=bb(v,u+2,b).times(a+""),m=Tm(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=b,t==null?(yr=!0,Xn(m,b)):m;for(o=s=m=_o(m.minus(Ta),m.plus(Ta),u),d=Xn(m.times(m),u),i=3;;){if(s=Xn(s.times(d),u),l=o.plus(_o(s,new v(i),u)),Js(l.d).slice(0,u)===Js(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(bb(v,u+2,b).times(a+""))),o=_o(o,new v(f),u),v.precision=b,t==null?(yr=!0,Xn(o,b)):o;o=l,i+=2}}function DP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fd(n/dr),e.d=[],r=(n+1)%dr,n<0&&(r+=dr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=dr;r<i;)e.d.push(+t.slice(r,r+=dr));t=t.slice(r),r=dr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),yr&&(e.e>v0||e.e<-v0))throw Error(RS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Xn(e,t,n){var r,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=dr,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/dr),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=dr,i=r-dr+s}if(n!==void 0&&(a=Cc(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Cc(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Xr(e),f.length=1,t=t-a-1,f[0]=Cc(10,(dr-t%dr)%dr),e.e=Fd(-t/dr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Cc(10,dr-r),f[d]=i>0?(u/Cc(10,s-i)%Cc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==vi&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=vi)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(yr&&(e.e>v0||e.e<-v0))throw Error(RS+Xr(e));return e}function G3(e,t){var n,r,i,a,s,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),yr?Xn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(m/dr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=vi-1;--l[a],l[i]+=vi}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,yr?Xn(t,m):t):new h(0)}function ru(e,t,n){var r,i=Xr(e),a=Js(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+jl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+jl(-i-1)+a,n&&(r=n-s)>0&&(a+=jl(r))):i>=s?(a+=jl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+jl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=jl(r))),e.s<0?"-"+a:a}function TP(e,t){if(e.length>t)return e.length=t,!0}function Y3(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return DP(s,a.toString())}else if(typeof a!="string")throw Error(Vc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,eX.test(a))DP(s,a);else throw Error(Vc+a)}if(i.prototype=At,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Y3,i.config=i.set=tX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function tX(e){if(!e||typeof e!="object")throw Error(ls+"Object expected");var t,n,r,i=["precision",1,$d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Vc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vc+n+": "+r);return this}var BS=Y3(JY);Ta=new BS(1);const zn=BS;var nX=e=>e,X3={},Q3=e=>e===X3,MP=e=>function t(){return arguments.length===0||arguments.length===1&&Q3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Z3=(e,t)=>e===1?t:MP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==X3).length;return a>=e?t(...r):Z3(e-a,MP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(d=>Q3(d)?o.shift():d);return t(...u,...o)}))}),rX=e=>Z3(e.length,e),Rw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},iX=rX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),aX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return nX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function J3(e){var t;return e===0?t=1:t=Math.floor(new zn(e).abs().log(10).toNumber())+1,t}function eL(e,t,n){for(var r=new zn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var tL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},nL=(e,t,n)=>{if(e.lte(0))return new zn(0);var r=J3(e.toNumber()),i=new zn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new zn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new zn(l.toNumber()):new zn(Math.ceil(l.toNumber()))},sX=(e,t,n)=>{var r=new zn(1),i=new zn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zn(10).pow(J3(e)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zn(Math.floor(e)))}else e===0?i=new zn(Math.floor((t-1)/2)):n||(i=new zn(Math.floor(e)));var s=Math.floor((t-1)/2),o=aX(iX(l=>i.add(new zn(l-s).mul(r)).toNumber()),Rw);return o(0,t)},rL=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var s=nL(new zn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new zn(0):(o=new zn(t).add(n).div(2),o=o.sub(new zn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new zn(n).sub(o).div(s).toNumber()),d=l+u+1;return d>r?rL(t,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new zn(l).mul(s)),tickMax:o.add(new zn(u).mul(s))})},oX=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=tL([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Rw(0,i-1).map(()=>1/0)]:[...Rw(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return sX(o,i,a);var{step:d,tickMin:f,tickMax:h}=rL(o,l,s,a,0),m=eL(f,h.add(new zn(.1).mul(d)),d);return n>r?m.reverse():m},lX=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=tL([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=nL(new zn(o).sub(s).div(l-1),a,0),d=[...eL(new zn(s),new zn(o),u),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},cX=e=>e.rootProps.barCategoryGap,nh=e=>e.rootProps.stackOffset,iL=e=>e.rootProps.reverseStackOrder,zS=e=>e.options.chartName,US=e=>e.rootProps.syncId,aL=e=>e.rootProps.syncMethod,WS=e=>e.options.eventEmitter,yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Da={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Gx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},uX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:jo.type,unit:void 0},dX={allowDataOverflow:Da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:Da.type,unit:void 0},fX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mX={allowDataOverflow:Da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:"category",unit:void 0},VS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?fX:uX,HS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?mX:dX,Yx=e=>e.polarOptions,qS=Ae([el,tl,Si],r3),sL=Ae([Yx,qS],(e,t)=>{if(e!=null)return Ia(e.innerRadius,t,0)}),oL=Ae([Yx,qS],(e,t)=>{if(e!=null)return Ia(e.outerRadius,t,t*.8)}),hX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},lL=Ae([Yx],hX);Ae([VS,lL],Gx);var cL=Ae([qS,sL,oL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ae([HS,cL],Gx);var uL=Ae([Gn,Yx,sL,oL,el,tl],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Ia(s,i,i/2),cy:Ia(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),wr=(e,t)=>t,rh=(e,t,n)=>n;function dL(e){return e==null?void 0:e.id}function fL(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=dL(o);u.forEach((f,h)=>{var m=a==null||i?h:String(mr(f,a,null)),p=mr(f,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:p}),s.set(m,v)})}}),Array.from(s.values())}function KS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Xx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Qx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function pX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var oi=e=>{var t=Gn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rd=e=>e.tooltip.settings.axisId;function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){gX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gX(e,t,n){return(t=xX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bw=[0,"auto"],pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},mL=(e,t)=>e.cartesianAxis.xAxis[t],so=(e,t)=>{var n=mL(e,t);return n??pi},gi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gm},hL=(e,t)=>e.cartesianAxis.yAxis[t],oo=(e,t)=>{var n=hL(e,t);return n??gi},bX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},GS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??bX},Dr=(e,t,n)=>{switch(t){case"xAxis":return so(e,n);case"yAxis":return oo(e,n);case"zAxis":return GS(e,n);case"angleAxis":return VS(e,n);case"radiusAxis":return HS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yX=(e,t,n)=>{switch(t){case"xAxis":return so(e,n);case"yAxis":return oo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ih=(e,t,n)=>{switch(t){case"xAxis":return so(e,n);case"yAxis":return oo(e,n);case"angleAxis":return VS(e,n);case"radiusAxis":return HS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function YS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var gL=e=>e.graphicalItems.cartesianItems,wX=Ae([wr,rh],YS),XS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),ah=Ae([gL,Dr,wX],XS,{memoizeOptions:{resultEqualityCheck:Qx}}),xL=Ae([ah],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(KS)),vL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kX=Ae([ah],vL),QS=e=>e.map(t=>t.data).filter(Boolean).flat(1),SX=Ae([ah],QS,{memoizeOptions:{resultEqualityCheck:Qx}}),ZS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},JS=Ae([SX,FS],ZS),eN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:mr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:mr(i,r)}))):e.map(r=>({value:r})),Zx=Ae([JS,Dr,ah],eN);function bL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function tg(e){if(ss(e)||e instanceof Date){var t=Number(e);if(br(t))return t}}function OP(e){if(Array.isArray(e)){var t=[tg(e[0]),tg(e[1])];return Yl(t)?t:void 0}var n=tg(e);if(n!=null)return[n,n]}function Go(e){return e.map(tg).filter(RV)}function NX(e,t,n){return!n||typeof t!="number"||as(t)?[]:n.length?Go(n.flatMap(r=>{var i=mr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!br(a)||!br(s)))return[t-a,t+s]})):[]}var li=e=>{var t=oi(e),n=Rd(e);return ih(e,t,n)},sh=Ae([li],e=>e==null?void 0:e.dataKey),CX=Ae([xL,FS,li],fL),yL=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,d=u.map(dL);return[o,{stackedData:t7(e,d,n),graphicalItems:u}]}))},jX=Ae([CX,xL,nh,iL],yL),wL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=i7(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},AX=Ae([Dr],e=>e.allowDataOverflow),tN=e=>{var t;if(e==null||!("domain"in e))return Bw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Go(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bw},nN=Ae([Dr],tN),rN=Ae([nN,AX],V3),PX=Ae([jX,sc,wr,rN],wL,{memoizeOptions:{resultEqualityCheck:Xx}}),Jx=e=>e.errorBars,DX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>bL(n,r)),y0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},iN=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(x=>bL(i,x)),h=mr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=NX(o,h,f);if(m.length>=2){var p=Math.min(...m),v=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||v>s)&&(s=v)}var b=OP(h);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=OP(mr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),br(a)&&br(s))return[a,s]},TX=Ae([JS,Dr,kX,Jx,wr],iN,{memoizeOptions:{resultEqualityCheck:Xx}});function MX(e){var{value:t}=e;if(ss(t)||t instanceof Date)return t}var EX=(e,t,n)=>{var r=e.map(MX).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&pI(r))?u3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},kL=e=>e.referenceElements.dots,Bd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),OX=Ae([kL,wr,rh],Bd),SL=e=>e.referenceElements.areas,IX=Ae([SL,wr,rh],Bd),NL=e=>e.referenceElements.lines,_X=Ae([NL,wr,rh],Bd),CL=(e,t)=>{if(e!=null){var n=Go(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LX=Ae(OX,wr,CL),jL=(e,t)=>{if(e!=null){var n=Go(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$X=Ae([IX,wr],jL);function FX(e){var t;if(e.x!=null)return Go([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Go(n)}function RX(e){var t;if(e.y!=null)return Go([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Go(n)}var AL=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?FX(r):RX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BX=Ae([_X,wr],AL),zX=Ae(LX,BX,$X,(e,t,n)=>y0(e,n,t)),aN=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?y0(r,a,i):y0(a,i);return ZY(t,u,e.allowDataOverflow)},UX=Ae([Dr,nN,rN,PX,TX,zX,Gn,wr],aN,{memoizeOptions:{resultEqualityCheck:Xx}}),WX=[0,1],sN=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=rc(t,a);if(u&&o==null){var d;return u3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?EX(r,e,u):i==="expand"?WX:s}},oN=Ae([Dr,Gn,JS,Zx,nh,wr,UX],sN),PL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Vm(a));return o in Df?o:"point"}}},zd=Ae([Dr,Gn,pL,zS,wr],PL);function VX(e){if(e!=null){if(e in Df)return Df[e]();var t="scale".concat(Vm(e));if(t in Df)return Df[t]()}}function lN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=VX(t);if(i!=null){var a=i.domain(n).range(r);return QH(a),a}}}var cN=(e,t,n)=>{var r=tN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yl(e))return oX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Yl(e))return lX(e,t.tickCount,t.allowDecimals)}},uN=Ae([oN,ih,zd],cN),dN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Yl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},HX=Ae([Dr,oN,uN,wr],dN),qX=Ae(Zx,Dr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Go(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/s}}),DL=Ae(qX,Gn,cX,Si,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!br(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ia(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),KX=(e,t,n)=>{var r=so(e,t);return r==null||typeof r.padding!="string"?0:DL(e,"xAxis",t,n,r.padding)},GX=(e,t,n)=>{var r=oo(e,t);return r==null||typeof r.padding!="string"?0:DL(e,"yAxis",t,n,r.padding)},YX=Ae(so,KX,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),XX=Ae(oo,GX,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),QX=Ae([Si,YX,Ix,Ox,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ZX=Ae([Si,Gn,XX,Ix,Ox,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),oh=(e,t,n,r)=>{var i;switch(t){case"xAxis":return QX(e,n,r);case"yAxis":return ZX(e,n,r);case"zAxis":return(i=GS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return lL(e);case"radiusAxis":return cL(e,n);default:return}},TL=Ae([Dr,oh],Gx),jd=Ae([Dr,zd,HX,TL],lN);Ae([ah,Jx,wr],DX);function ML(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ev=(e,t)=>t,tv=(e,t,n)=>n,JX=Ae(Mx,ev,tv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(ML)),eQ=Ae(Ex,ev,tv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(ML)),EL=(e,t)=>({width:e.width,height:t.height}),tQ=(e,t)=>{var n=typeof t.width=="number"?t.width:Gm;return{width:n,height:e.height}},nQ=Ae(Si,so,EL),rQ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},iQ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},aQ=Ae(tl,Si,JX,ev,tv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=EL(t,o);s==null&&(s=rQ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),sQ=Ae(el,Si,eQ,ev,tv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=tQ(t,o);s==null&&(s=iQ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),oQ=(e,t)=>{var n=so(e,t);if(n!=null)return aQ(e,n.orientation,n.mirror)},lQ=Ae([Si,so,oQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),cQ=(e,t)=>{var n=oo(e,t);if(n!=null)return sQ(e,n.orientation,n.mirror)},uQ=Ae([Si,oo,cQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dQ=Ae(Si,oo,(e,t)=>{var n=typeof t.width=="number"?t.width:Gm;return{width:n,height:e.height}}),OL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=rc(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&pI(l))return l}},fN=Ae([Gn,Zx,Dr,wr],OL),IL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=rc(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},mN=Ae([Gn,Zx,ih,wr],IL),IP=Ae([Gn,yX,zd,jd,fN,mN,oh,uN,wr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=rc(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),fQ=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=rc(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Vi(a[0]-a[1])*2*p:p;var v=f||i;if(v){var b=v.map((x,w)=>{var y=s?s.indexOf(x):x;return{index:w,coordinate:r(y)+p,value:x,offset:p}});return b.filter(x=>br(x.coordinate))}return u&&o?o.map((x,w)=>({coordinate:r(x)+p,value:x,index:w,offset:p})).filter(x=>br(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,w)=>({coordinate:r(x)+p,value:s?s[x]:x,index:w,offset:p}))}},_L=Ae([Gn,ih,zd,jd,uN,oh,fN,mN,wr],fQ),mQ=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=rc(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Vi(r[0]-r[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},LL=Ae([Gn,ih,jd,oh,fN,mN,wr],mQ),$L=Ae(Dr,jd,(e,t)=>{if(!(e==null||t==null))return b0(b0({},e),{},{scale:t})}),hQ=Ae([Dr,zd,oN,TL],lN);Ae((e,t,n)=>GS(e,n),hQ,(e,t)=>{if(!(e==null||t==null))return b0(b0({},e),{},{scale:t})});var pQ=Ae([Gn,Mx,Ex],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FL=e=>e.options.defaultTooltipEventType,RL=e=>e.options.validateTooltipEventTypes;function BL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function hN(e,t){var n=FL(e),r=RL(e);return BL(t,n,r)}function gQ(e){return Tt(t=>hN(t,e))}var zL=(e,t)=>{var n,r=Number(t);if(!(as(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},xQ=e=>e.tooltip.settings,Ml={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vQ={itemInteraction:{click:Ml,hover:Ml},axisInteraction:{click:Ml,hover:Ml},keyboardInteraction:Ml,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UL=va({name:"tooltip",initialState:vQ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:xr()},removeTooltipEntrySettings:{reducer(e,t){var n=Cs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:bQ,replaceTooltipEntrySettings:yQ,removeTooltipEntrySettings:wQ,setTooltipSettingsState:kQ,setActiveMouseOverItemIndex:WL,mouseLeaveItem:SQ,mouseLeaveChart:VL,setActiveClickItemIndex:NQ,setMouseOverAxisIndex:HL,setMouseClickAxisIndex:CQ,setSyncInteraction:zw,setKeyboardInteraction:Uw}=UL.actions,jQ=UL.reducer;function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TQ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MQ(e){return e.index!=null}var qL=(e,t,n,r)=>{if(t==null)return Ml;var i=TQ(e,t,n);if(i==null)return Ml;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(MQ(i)){if(a)return jp(jp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return jp(jp({},Ml),{},{coordinate:i.coordinate})};function EQ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function OQ(e,t){var n=EQ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function IQ(e,t,n){if(n==null||t==null)return!0;var r=mr(e,t);return r==null||!Yl(n)?!0:OQ(r,n)}var pN=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!br(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||IQ(u,n,r)?String(l):null},KL=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},GL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},lh=e=>e.options.tooltipPayloadSearcher,Ud=e=>e.tooltip;function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){_Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Q(e,t,n){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FQ(e,t){return e??t}var YL=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:v,settings:b}=m,x=FQ(v,o),w=Array.isArray(x)?C_(x,u,d):x,y=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:r,N=b==null?void 0:b.nameKey,C;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?C=gI(w,r,i):C=a(w,t,l,N),Array.isArray(C))C.forEach(A=>{var O=$P($P({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(Yj({tooltipEntrySettings:O,dataKey:A.dataKey,payload:A.payload,value:mr(A.payload,A.dataKey),name:A.name}))});else{var S;h.push(Yj({tooltipEntrySettings:b,dataKey:y,payload:C,value:mr(C,y),name:(S=mr(C,N))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return h},f)}},gN=Ae([li,Gn,pL,zS,oi],PL),RQ=Ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),BQ=Ae([oi,Rd],YS),Wd=Ae([RQ,li,BQ],XS,{memoizeOptions:{resultEqualityCheck:Qx}}),zQ=Ae([Wd],e=>e.filter(KS)),UQ=Ae([Wd],QS,{memoizeOptions:{resultEqualityCheck:Qx}}),Vd=Ae([UQ,sc],ZS),WQ=Ae([zQ,sc,li],fL),xN=Ae([Vd,li,Wd],eN),XL=Ae([li],tN),VQ=Ae([li],e=>e.allowDataOverflow),QL=Ae([XL,VQ],V3),HQ=Ae([Wd],e=>e.filter(KS)),qQ=Ae([WQ,HQ,nh,iL],yL),KQ=Ae([qQ,sc,oi,QL],wL),GQ=Ae([Wd],vL),YQ=Ae([Vd,li,GQ,Jx,oi],iN,{memoizeOptions:{resultEqualityCheck:Xx}}),XQ=Ae([kL,oi,Rd],Bd),QQ=Ae([XQ,oi],CL),ZQ=Ae([SL,oi,Rd],Bd),JQ=Ae([ZQ,oi],jL),eZ=Ae([NL,oi,Rd],Bd),tZ=Ae([eZ,oi],AL),nZ=Ae([QQ,tZ,JQ],y0),rZ=Ae([li,XL,QL,KQ,YQ,nZ,Gn,oi],aN),ch=Ae([li,Gn,Vd,xN,nh,oi,rZ],sN),iZ=Ae([ch,li,gN],cN),aZ=Ae([li,ch,iZ,oi],dN),ZL=e=>{var t=oi(e),n=Rd(e),r=!1;return oh(e,t,n,r)},JL=Ae([li,ZL],Gx),e4=Ae([li,gN,aZ,JL],lN),sZ=Ae([Gn,xN,li,oi],OL),oZ=Ae([Gn,xN,li,oi],IL),lZ=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=rc(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vi(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},rl=Ae([Gn,li,gN,e4,ZL,sZ,oZ,oi],lZ),vN=Ae([FL,RL,xQ],(e,t,n)=>BL(n.shared,e,t)),t4=e=>e.tooltip.settings.trigger,bN=e=>e.tooltip.settings.defaultIndex,uh=Ae([Ud,vN,t4,bN],qL),Ad=Ae([uh,Vd,sh,ch],pN),n4=Ae([rl,Ad],zL),r4=Ae([uh],e=>{if(e)return e.dataKey}),cZ=Ae([uh],e=>{if(e)return e.graphicalItemId}),i4=Ae([Ud,vN,t4,bN],GL),uZ=Ae([el,tl,Gn,Si,rl,bN,i4,lh],KL),dZ=Ae([uh,uZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),fZ=Ae([uh],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),mZ=Ae([i4,Ad,sc,sh,n4,lh,vN],YL),hZ=Ae([mZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(r){pZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pZ(e,t,n){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vZ=()=>Tt(li),bZ=()=>{var e=vZ(),t=Tt(rl),n=Tt(e4);return Zg(!e||!n?void 0:RP(RP({},e),{},{scale:n}),t)};function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){yZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yZ(e,t,n){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SZ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},NZ=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Tu(Tu(Tu({},r),Yr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Tu(Tu(Tu({},r),Yr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CZ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var a4=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,v=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||p==null||v==null))if(Vi(p-m)!==Vi(v-p)){var x=[];if(Vi(v-p)===Vi(i[1]-i[0])){b=v;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+m)/2),x[1]=Math.max(w,(w+m)/2)}else{b=m;var y=v+i[1]-i[0];x[0]=Math.min(p,(y+p)/2),x[1]=Math.max(p,(y+p)/2)}var N=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var S=Math.min(m,v),A=Math.max(m,v);if(e>(S+p)/2&&e<=(A+p)/2){var O;return(O=n[o])===null||O===void 0?void 0:O.index}}}else if(t)for(var R=0;R<s;R++){var M=t[R];if(M!=null){var L=t[R+1],_=t[R-1];if(R===0&&L!=null&&e<=(M.coordinate+L.coordinate)/2||R===s-1&&_!=null&&e>(M.coordinate+_.coordinate)/2||R>0&&R<s-1&&_!=null&&L!=null&&e>(M.coordinate+_.coordinate)/2&&e<=(M.coordinate+L.coordinate)/2)return M.index}}return-1},jZ=()=>Tt(zS),yN=(e,t)=>t,s4=(e,t,n)=>n,wN=(e,t,n,r)=>r,AZ=Ae(rl,e=>yx(e,t=>t.coordinate)),kN=Ae([Ud,yN,s4,wN],qL),SN=Ae([kN,Vd,sh,ch],pN),PZ=(e,t,n)=>{if(t!=null){var r=Ud(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},o4=Ae([Ud,yN,s4,wN],GL),w0=Ae([el,tl,Gn,Si,rl,wN,o4,lh],KL),DZ=Ae([kN,w0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),l4=Ae([rl,SN],zL),TZ=Ae([o4,SN,sc,sh,l4,lh,yN],YL),MZ=Ae([kN,SN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),EZ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&CZ(e,s)){var o=a7(e,t),l=a4(o,a,i,n,r),u=SZ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},OZ=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=vK(e,n);if(o){var l=s7(o,t),u=a4(l,s,a,r,i),d=NZ(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},IZ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?EZ(e,t,r,i,a,s,o):OZ(e,t,n,r,i,a,s)},_Z=Ae(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),LZ=Ae(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(yi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:pX}});function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){$Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Z(e,t,n){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BZ={},zZ={zIndexMap:Object.values(yi).reduce((e,t)=>UP(UP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),BZ)},UZ=new Set(Object.values(yi));function WZ(e){return UZ.has(e)}var c4=va({name:"zIndex",initialState:zZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:xr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!WZ(n)&&delete e.zIndexMap[n])},prepare:xr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:xr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:xr()}}}),{registerZIndexPortal:VZ,unregisterZIndexPortal:HZ,registerZIndexPortalElement:qZ,unregisterZIndexPortalElement:KZ}=c4.actions,GZ=c4.reducer;function us(e){var{zIndex:t,children:n}=e,r=O7(),i=r&&t!==void 0&&t!==0,a=sa(),s=Zn();g.useLayoutEffect(()=>i?(s(VZ({zIndex:t})),()=>{s(HZ({zIndex:t}))}):Hm,[s,t,i]);var o=Tt(l=>_Z(l,t,a));return i?o?_d.createPortal(n,o):null:n}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(null,arguments)}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){YZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZZ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function JZ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,v,b;if(d==="ScatterChart")p=f,v=Eq,b=yi.cursorLine;else if(d==="BarChart")p=Oq(o,f,a,s),v=n3,b=yi.cursorRectangle;else if(o==="radial"&&vI(f)){var{cx:x,cy:w,radius:y,startAngle:N,endAngle:C}=i3(f);p={cx:x,cy:w,startAngle:N,endAngle:C,innerRadius:y,outerRadius:y},v=s3,b=yi.cursorLine}else p={points:kK(o,f,a)},v=mS,b=yi.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,A=Ap(Ap(Ap(Ap({stroke:"#ccc",pointerEvents:"none"},a),p),vd(l)),{},{payload:h,payloadIndex:m,className:In("recharts-tooltip-cursor",S)});return g.createElement(us,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(ZZ,{cursor:l,cursorComp:v,cursorProps:A}))}function eJ(e){var t=bZ(),n=R_(),r=Xm(),i=jZ();return t==null||n==null||r==null||i==null?null:g.createElement(JZ,Ww({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var u4=g.createContext(null),tJ=()=>g.useContext(u4),d4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var v=n?n+u:u;if(!this._events[v])return!1;var b=this._events[v],x=arguments.length,w,y;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,p),!0}for(y=1,w=new Array(x-1);y<x;y++)w[y-1]=arguments[y];b.fn.apply(b.context,w)}else{var N=b.length,C;for(y=0;y<N;y++)switch(b[y].once&&this.removeListener(u,b[y].fn,void 0,!0),x){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,d);break;case 3:b[y].fn.call(b[y].context,d,f);break;case 4:b[y].fn.call(b[y].context,d,f,h);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];b[y].fn.apply(b[y].context,w)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var v=0,b=[],x=p.length;v<x;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&b.push(p[v]);b.length?this._events[m]=b.length===1?b[0]:b:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(d4);var nJ=d4.exports;const rJ=_s(nJ);var Mm=new rJ,Vw="recharts.syncEvent.tooltip",VP="recharts.syncEvent.brush";function f4(e,t){if(t){var n=Number.parseInt(t,10);if(!as(n))return e==null?void 0:e[n]}}var iJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m4=va({name:"options",initialState:iJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),aJ=m4.reducer,{createEventEmitter:sJ}=m4.actions;function oJ(e){return e.tooltip.syncInteraction}var lJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},h4=va({name:"chartData",initialState:lJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:HP,setDataStartEndIndexes:cJ,setComputedData:wxe}=h4.actions,uJ=h4.reducer,dJ=["x","y"];function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pJ(e,t){if(e==null)return{};var n,r,i=gJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xJ(){var e=Tt(US),t=Tt(WS),n=Zn(),r=Tt(aL),i=Tt(rl),a=Xm(),s=Ym(),o=Tt(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Hm;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:v}=m,b=pJ(m,dJ),{x,y:w,width:y,height:N}=d.payload.sourceViewBox,C=Mu(Mu({},b),{},{x:s.x+(y?(p-x)/y:0)*s.width,y:s.y+(N?(v-w)/N:0)*s.height});n(Mu(Mu({},d),{},{payload:Mu(Mu({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var S;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(i,A);S=i[O]}else r==="value"&&(S=i.find(ve=>String(ve.value)===d.payload.label));var{coordinate:R}=d.payload;if(S==null||d.payload.active===!1||R==null||s==null){n(zw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:L}=R,_=Math.min(M,s.x+s.width),G=Math.min(L,s.y+s.height),ee={x:a==="horizontal"?S.coordinate:_,y:a==="horizontal"?G:S.coordinate},le=zw({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(le)}}};return Mm.on(Vw,l),()=>{Mm.off(Vw,l)}},[o,n,t,e,r,i,a,s])}function vJ(){var e=Tt(US),t=Tt(WS),n=Zn();g.useEffect(()=>{if(e==null)return Hm;var r=(i,a,s)=>{t!==s&&e===i&&n(cJ(a))};return Mm.on(VP,r),()=>{Mm.off(VP,r)}},[n,t,e])}function bJ(){var e=Zn();g.useEffect(()=>{e(sJ())},[e]),xJ(),vJ()}function yJ(e,t,n,r,i,a){var s=Tt(m=>PZ(m,e,t)),o=Tt(WS),l=Tt(US),u=Tt(aL),d=Tt(oJ),f=d==null?void 0:d.active,h=Ym();g.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=zw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Mm.emit(Vw,l,m,o)}},[f,n,s,i,r,o,l,u,a,h])}function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e){return e.dataKey}function CJ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(dq,t)}var YP=[],jJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ms(e){var t,n,r=Qr(e,jJ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:v,wrapperStyle:b,cursor:x,shared:w,trigger:y,defaultIndex:N,portal:C,axisId:S}=r,A=Zn(),O=typeof N=="number"?String(N):N;g.useEffect(()=>{A(kQ({shared:w,trigger:y,axisId:S,active:i,defaultIndex:O}))},[A,w,y,S,i,O]);var R=Ym(),M=Q_(),L=gQ(w),{activeIndex:_,isActive:G}=(t=Tt(ne=>MZ(ne,L,y,O)))!==null&&t!==void 0?t:{},ee=Tt(ne=>TZ(ne,L,y,O)),le=Tt(ne=>l4(ne,L,y,O)),ve=Tt(ne=>DZ(ne,L,y,O)),Y=ee,q=tJ(),K=(n=i??G)!==null&&n!==void 0?n:!1,[P,D]=YI([Y,K]),re=L==="axis"?le:void 0;yJ(L,y,ve,re,_,K);var k=C??q;if(k==null||R==null||L==null)return null;var W=Y??YP;K||(W=YP),u&&W.length&&(W=$I(W.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),h,NJ));var V=W.length>0,ie=g.createElement(vq,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:K,coordinate:ve,hasPayload:V,offset:f,position:m,reverseDirection:p,useTranslate3d:v,viewBox:R,wrapperStyle:b,lastBoundingBox:P,innerRef:D,hasPortalFromProps:!!C},CJ(l,GP(GP({},r),{},{payload:W,label:re,active:K,activeIndex:_,coordinate:ve,accessibilityLayer:M})));return g.createElement(g.Fragment,null,_d.createPortal(ie,k),K&&g.createElement(eJ,{cursor:x,tooltipEventType:L,coordinate:ve,payload:W,index:_}))}var Pd=e=>null;Pd.displayName="Cell";function AJ(e,t,n){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TJ{constructor(t){AJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _J={cacheSize:2e3,enableCache:!0},p4=MJ({},_J),QP=new TJ(p4.cacheSize),LJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZP="recharts_measurement_span";function $J(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var JP=(e,t)=>{try{var n=document.getElementById(ZP);n||(n=document.createElement("span"),n.setAttribute("id",ZP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,LJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Uf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rx.isSsr)return{width:0,height:0};if(!p4.enableCache)return JP(t,n);var r=$J(t,n),i=QP.get(r);if(i)return i;var a=JP(t,n);return QP.set(r,a),a},g4;function FJ(e,t,n){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VJ=["cm","mm","pt","pc","in","Q","px"];function HJ(e){return VJ.includes(e)}var Yu="NaN";function qJ(e,t){return e*WJ[t]}class Mi{static parse(t){var n,[,r,i]=(n=UJ.exec(t))!==null&&n!==void 0?n:[];return r==null?Mi.NaN:new Mi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,as(t)&&(this.unit=""),n!==""&&!zJ.test(n)&&(this.num=NaN,this.unit=""),HJ(n)&&(this.num=qJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return as(this.num)}}g4=Mi;FJ(Mi,"NaN",new g4(NaN,""));function x4(e){if(e==null||e.includes(Yu))return Yu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=eD.exec(t))!==null&&n!==void 0?n:[],s=Mi.parse(r??""),o=Mi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Yu;t=t.replace(eD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=tD.exec(t))!==null&&u!==void 0?u:[],m=Mi.parse(d??""),p=Mi.parse(h??""),v=f==="+"?m.add(p):m.subtract(p);if(v.isNaN())return Yu;t=t.replace(tD,v.toString())}return t}var nD=/\(([^()]*)\)/;function KJ(e){for(var t=e,n;(n=nD.exec(t))!=null;){var[,r]=n;t=t.replace(nD,x4(r))}return t}function GJ(e){var t=e.replace(/\s+/g,"");return t=KJ(t),t=x4(t),t}function YJ(e){try{return GJ(e)}catch{return Yu}}function yb(e){var t=YJ(e.slice(5,-1));return t===Yu?"":t}var XJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QJ=["dx","dy","angle","className","breakAll"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(null,arguments)}function rD(e,t){if(e==null)return{};var n,r,i=ZJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var v4=/[ \f\n\r\t\v\u2028\u2029]+/,b4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ai(t)||(n?i=t.toString().split(""):i=t.toString().split(v4));var a=i.map(o=>({word:o,width:Uf(o,r).width})),s=n?0:Uf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function JJ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var y4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),w4=e=>e.reduce((t,n)=>t.width>n.width?t:n),eee="",iD=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=b4({breakAll:n,style:r,children:l+eee});if(!u)return[!1,[]];var d=y4(u.wordsWithComputedWidth,a,s,o),f=d.length>i||w4(d).width>Number(a);return[f,d]},tee=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=zt(a),d=String(s),f=y4(t,r,n,i);if(!u||i)return f;var h=f.length>a||w4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,v=0,b;m<=p&&v<=d.length-1;){var x=Math.floor((m+p)/2),w=x-1,[y,N]=iD(d,w,l,o,a,r,n,i),[C]=iD(d,x,l,o,a,r,n,i);if(!y&&!C&&(m=x+1),y&&C&&(p=x-1),!y&&C){b=N;break}v++}return b||f},aD=e=>{var t=ai(e)?[]:e.toString().split(v4);return[{words:t,width:void 0}]},nee=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Rx.isSsr){var o,l,u=b4({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return aD(r);return tee({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return aD(r)},k4="#808080",ree={angle:0,breakAll:!1,capHeight:"0.71em",fill:k4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nv=g.forwardRef((e,t)=>{var n=Qr(e,ree),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=rD(n,XJ),h=g.useMemo(()=>nee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:v,className:b,breakAll:x}=f,w=rD(f,QJ);if(!ss(r)||!ss(i)||h.length===0)return null;var y=Number(r)+(zt(m)?m:0),N=Number(i)+(zt(p)?p:0);if(!br(y)||!br(N))return null;var C;switch(d){case"start":C=yb("calc(".concat(s,")"));break;case"middle":C=yb("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=yb("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var A=h[0].width,{width:O}=f;S.push("scale(".concat(zt(O)&&zt(A)?O/A:1,")"))}return v&&S.push("rotate(".concat(v,", ").concat(y,", ").concat(N,")")),S.length&&(w.transform=S.join(" ")),g.createElement("text",Hw({},Ki(w),{ref:t,x:y,y:N,className:In("recharts-text",b),textAnchor:u,fill:o.includes("url")?k4:o}),h.map((R,M)=>{var L=R.words.join(x?"":" ");return g.createElement("tspan",{x:y,dy:M===0?C:a,key:"".concat(L,"-").concat(M)},L)}))});nv.displayName="Text";var iee=["labelRef"],aee=["content"];function sD(e,t){if(e==null)return{};var n,r,i=see(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function see(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(n),!0).forEach(function(r){oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oee(e,t,n){return(t=lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var S4=g.createContext(null),N4=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return g.createElement(S4.Provider,{value:l},o)},C4=()=>{var e=g.useContext(S4),t=Ym();return e||F_(t)},uee=g.createContext(null),dee=()=>{var e=g.useContext(uee),t=Tt(uL);return e||t},fee=e=>{var{value:t,formatter:n}=e,r=ai(e.children)?t:e.children;return typeof n=="function"?n(r):r},NN=e=>e!=null&&typeof e=="function",mee=(e,t)=>{var n=Vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},hee=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,v=mee(f,h),b=v>=0?1:-1,x,w;switch(t){case"insideStart":x=f+b*a,w=m;break;case"insideEnd":x=h-b*a,w=!m;break;case"end":x=h+b*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=v<=0?w:!w;var y=Yr(o,l,p,x),N=Yr(o,l,p,x+(w?1:-1)*359),C="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=ai(e.id)?vm("recharts-radial-line-"):e.id;return g.createElement("text",Ao({},r,{dominantBaseline:"central",className:In("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:S,d:C})),g.createElement("textPath",{xlinkHref:"#".concat(S)},n))},pee=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Yr(r,i,s+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Yr(r,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},qw=e=>"cx"in e&&zt(e.cx),gee=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!qw(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,h=s+(l-u)/2,m=(f+h)/2,p=(l+u)/2,v=f+l/2,b=d>=0?1:-1,x=b*r,w=b>0?"end":"start",y=b>0?"start":"end",N=l>=0?1:-1,C=N*r,S=N>0?"end":"start",A=N>0?"start":"end";if(i==="top"){var O={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:w};return Rr(Rr({},O),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var R={x:h+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:y};return Rr(Rr({},R),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var M={x:m-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return Rr(Rr({},M),a?{width:Math.max(M.x-a.x,0),height:d}:{})}if(i==="right"){var L={x:m+p+C,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Rr(Rr({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:d}:{})}var _=a?{width:p,height:d}:{};return i==="insideLeft"?Rr({x:m+C,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},_):i==="insideRight"?Rr({x:m+p-C,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},_):i==="insideTop"?Rr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:y},_):i==="insideBottom"?Rr({x:h+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:w},_):i==="insideTopLeft"?Rr({x:f+C,y:o+x,textAnchor:A,verticalAnchor:y},_):i==="insideTopRight"?Rr({x:f+l-C,y:o+x,textAnchor:S,verticalAnchor:y},_):i==="insideBottomLeft"?Rr({x:h+C,y:o+d-x,textAnchor:A,verticalAnchor:w},_):i==="insideBottomRight"?Rr({x:h+u-C,y:o+d-x,textAnchor:S,verticalAnchor:w},_):i&&typeof i=="object"&&(zt(i.x)||Wo(i.x))&&(zt(i.y)||Wo(i.y))?Rr({x:s+Ia(i.x,p),y:o+Ia(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):Rr({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},xee={angle:0,offset:5,zIndex:yi.label,position:"middle",textBreakAll:!1};function Al(e){var t=Qr(e,xee),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=dee(),f=C4(),h=r==="center"?f:d??f,m,p,v;if(n==null?m=h:qw(n)?m=n:m=F_(n),!m||ai(i)&&ai(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var b=Rr(Rr({},t),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:x}=b,w=sD(b,iee);return g.cloneElement(s,w)}if(typeof s=="function"){var{content:y}=b,N=sD(b,aee);if(p=g.createElement(s,N),g.isValidElement(p))return p}else p=fee(t);var C=Ki(t);if(qw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return hee(t,r,p,C,m);v=pee(m,t.offset,t.position)}else v=gee(t,m);return g.createElement(us,{zIndex:t.zIndex},g.createElement(nv,Ao({ref:u,className:In("recharts-label",o)},C,v,{textAnchor:JJ(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:l}),p))}Al.displayName="Label";var vee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(Al,Ao({key:"label-implicit"},r)):ss(e)?g.createElement(Al,Ao({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Al?g.cloneElement(e,Rr({key:"label-implicit"},r)):g.createElement(Al,Ao({key:"label-implicit",content:e},r)):NN(e)?g.createElement(Al,Ao({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Al,Ao({},e,{key:"label-implicit"},r)):null};function j4(e){var{label:t,labelRef:n}=e,r=C4();return vee(t,r,n)||null}var A4={},P4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(P4);var D4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(D4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P4,n=D4,r=xx;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(A4);var bee=A4.last;const yee=_s(bee);var wee=["valueAccessor"],kee=["dataKey","clockWise","id","textBreakAll","zIndex"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function lD(e,t){if(e==null)return{};var n,r,i=See(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function See(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nee=e=>Array.isArray(e.value)?yee(e.value):e.value,T4=g.createContext(void 0),Cee=T4.Provider,M4=g.createContext(void 0),jee=M4.Provider;function Aee(){return g.useContext(T4)}function Pee(){return g.useContext(M4)}function ng(e){var{valueAccessor:t=Nee}=e,n=lD(e,wee),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=lD(n,kee),u=Aee(),d=Pee(),f=u||d;return!f||!f.length?null:g.createElement(us,{zIndex:o??yi.label},g.createElement(na,{className:"recharts-label-list"},f.map((h,m)=>{var p,v=ai(r)?t(h,m):mr(h&&h.payload,r),b=ai(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Al,k0({key:"label-".concat(m)},Ki(h),l,b,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}ng.displayName="LabelList";function E4(e){var{label:t}=e;return t?t===!0?g.createElement(ng,{key:"labelList-implicit"}):g.isValidElement(t)||NN(t)?g.createElement(ng,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(ng,k0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}var O4=e=>{var{cx:t,cy:n,r,className:i}=e,a=In("recharts-dot",i);return zt(t)&&zt(n)&&zt(r)?g.createElement("circle",Kw({},is(e),Wk(e),{className:a,cx:t,cy:n,r})):null},I4=e=>e.graphicalItems.polarItems,Dee=Ae([wr,rh],YS),rv=Ae([I4,Dr,Dee],XS),Tee=Ae([rv],QS),iv=Ae([Tee,$S],ZS),Mee=Ae([iv,Dr,rv],eN);Ae([iv,Dr,rv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=mr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:mr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var cD=()=>{},Eee=Ae([iv,Dr,rv,Jx,wr],iN),Oee=Ae([Dr,nN,rN,cD,Eee,cD,Gn,wr],aN),_4=Ae([Dr,Gn,iv,Mee,nh,wr,Oee],sN),Iee=Ae([_4,Dr,zd],cN);Ae([Dr,_4,Iee,wr],dN);var _ee={radiusAxis:{},angleAxis:{}},L4=va({name:"polarAxis",initialState:_ee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kxe,removeRadiusAxis:Sxe,addAngleAxis:Nxe,removeAngleAxis:Cxe}=L4.actions,Lee=L4.reducer;function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){$ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bee=(e,t)=>t,CN=Ae([I4,Bee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),zee=[],jN=(e,t,n)=>(n==null?void 0:n.length)===0?zee:n,$4=Ae([$S,CN,jN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>dD(dD({},t.presentationProps),a.props))),i!=null)return i}}),Uee=Ae([$4,CN,jN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=mr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:Tx(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),Wee=Ae([$4,CN,jN,Si],(e,t,n,r)=>{if(!(t==null||e==null))return nne({offset:r,pieSettings:t,displayedData:e,cells:n})}),F4={exports:{}},Jn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=60103,sv=60106,dh=60107,fh=60108,mh=60114,hh=60109,ph=60110,gh=60112,xh=60113,AN=60120,vh=60115,bh=60116,R4=60121,B4=60122,z4=60117,U4=60129,W4=60131;if(typeof Symbol=="function"&&Symbol.for){var Pi=Symbol.for;av=Pi("react.element"),sv=Pi("react.portal"),dh=Pi("react.fragment"),fh=Pi("react.strict_mode"),mh=Pi("react.profiler"),hh=Pi("react.provider"),ph=Pi("react.context"),gh=Pi("react.forward_ref"),xh=Pi("react.suspense"),AN=Pi("react.suspense_list"),vh=Pi("react.memo"),bh=Pi("react.lazy"),R4=Pi("react.block"),B4=Pi("react.server.block"),z4=Pi("react.fundamental"),U4=Pi("react.debug_trace_mode"),W4=Pi("react.legacy_hidden")}function $s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case av:switch(e=e.type,e){case dh:case mh:case fh:case xh:case AN:return e;default:switch(e=e&&e.$$typeof,e){case ph:case gh:case bh:case vh:case hh:return e;default:return t}}case sv:return t}}}var Vee=hh,Hee=av,qee=gh,Kee=dh,Gee=bh,Yee=vh,Xee=sv,Qee=mh,Zee=fh,Jee=xh;Jn.ContextConsumer=ph;Jn.ContextProvider=Vee;Jn.Element=Hee;Jn.ForwardRef=qee;Jn.Fragment=Kee;Jn.Lazy=Gee;Jn.Memo=Yee;Jn.Portal=Xee;Jn.Profiler=Qee;Jn.StrictMode=Zee;Jn.Suspense=Jee;Jn.isAsyncMode=function(){return!1};Jn.isConcurrentMode=function(){return!1};Jn.isContextConsumer=function(e){return $s(e)===ph};Jn.isContextProvider=function(e){return $s(e)===hh};Jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===av};Jn.isForwardRef=function(e){return $s(e)===gh};Jn.isFragment=function(e){return $s(e)===dh};Jn.isLazy=function(e){return $s(e)===bh};Jn.isMemo=function(e){return $s(e)===vh};Jn.isPortal=function(e){return $s(e)===sv};Jn.isProfiler=function(e){return $s(e)===mh};Jn.isStrictMode=function(e){return $s(e)===fh};Jn.isSuspense=function(e){return $s(e)===xh};Jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dh||e===mh||e===U4||e===fh||e===xh||e===AN||e===W4||typeof e=="object"&&e!==null&&(e.$$typeof===bh||e.$$typeof===vh||e.$$typeof===hh||e.$$typeof===ph||e.$$typeof===gh||e.$$typeof===z4||e.$$typeof===R4||e[0]===B4)};Jn.typeOf=$s;F4.exports=Jn;var ete=F4.exports,fD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",mD=null,wb=null,V4=e=>{if(e===mD&&Array.isArray(wb))return wb;var t=[];return g.Children.forEach(e,n=>{ai(n)||(ete.isFragment(n)?t=t.concat(V4(n.props.children)):t.push(n))}),wb=t,mD=e,t};function H4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>fD(i)):r=[fD(t)],V4(e).forEach(i=>{var a=Jc(i,"type.displayName")||Jc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var q4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,K4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(K4);var tte=K4.isPlainObject;const nte=_s(tte);var hD,pD,gD,xD,vD;function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rte(e,t,n){return(t=ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ite(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function xf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wD=(e,t,n,r,i)=>{var a=n-r,s;return s=Er(hD||(hD=xf(["M ",",",""])),e,t),s+=Er(pD||(pD=xf(["L ",",",""])),e+n,t),s+=Er(gD||(gD=xf(["L ",",",""])),e+n-a/2,t+i),s+=Er(xD||(xD=xf(["L ",",",""])),e+n-a/2-r,t+i),s+=Er(vD||(vD=xf(["L ",","," Z"])),e,t),s},ste={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ote=e=>{var t=Qr(e,ste),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=g.useRef(null),[m,p]=g.useState(-1),v=g.useRef(i),b=g.useRef(a),x=g.useRef(s),w=g.useRef(n),y=g.useRef(r),N=zx(e,"trapezoid-");if(g.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ee=h.current.getTotalLength();ee&&p(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=In("recharts-trapezoid",o);if(!f)return g.createElement("g",null,g.createElement("path",S0({},Ki(t),{className:C,d:wD(n,r,i,a,s)})));var S=v.current,A=b.current,O=x.current,R=w.current,M=y.current,L="0px ".concat(m===-1?1:m,"px"),_="".concat(m,"px 0px"),G=Z_(["strokeDasharray"],u,l);return g.createElement(Bx,{animationId:N,key:N,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},ee=>{var le=Wi(S,i,ee),ve=Wi(A,a,ee),Y=Wi(O,s,ee),q=Wi(R,n,ee),K=Wi(M,r,ee);h.current&&(v.current=le,b.current=ve,x.current=Y,w.current=q,y.current=K);var P=ee>0?{transition:G,strokeDasharray:_}:{strokeDasharray:L};return g.createElement("path",S0({},Ki(t),{className:C,d:wD(q,K,le,ve,Y),ref:h,style:yD(yD({},P),t.style)}))})},lte=["option","shapeType","activeClassName"];function cte(e,t){if(e==null)return{};var n,r,i=ute(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ute(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dte(e,t,n){return(t=fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hte(e,t){return N0(N0({},t),e)}function pte(e,t){return e==="symbols"}function SD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(n3,n);case"trapezoid":return g.createElement(ote,n);case"sector":return g.createElement(s3,n);case"symbols":if(pte(t))return g.createElement(Uk,n);break;case"curve":return g.createElement(mS,n);default:return null}}function gte(e){return g.isValidElement(e)?e.props:e}function G4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=cte(e,lte),a;if(g.isValidElement(t))a=g.cloneElement(t,N0(N0({},i),gte(t)));else if(typeof t=="function")a=t(i,i.index);else if(nte(t)&&typeof t!="boolean"){var s=hte(t,i);a=g.createElement(SD,{shapeType:n,elementProps:s})}else{var o=i;a=g.createElement(SD,{shapeType:n,elementProps:o})}return i.isActive?g.createElement(na,{className:r},a):a}var xte=(e,t,n)=>{var r=Zn();return(i,a)=>s=>{e==null||e(i,a,s),r(WL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},vte=e=>{var t=Zn();return(n,r)=>i=>{e==null||e(n,r,i),t(SQ())}},bte=(e,t,n)=>{var r=Zn();return(i,a)=>s=>{e==null||e(i,a,s),r(NQ({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function Y4(e){var{tooltipEntrySettings:t}=e,n=Zn(),r=sa(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(bQ(t)):i.current!==t&&n(yQ({prev:i.current,next:t})),i.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{i.current&&(n(wQ(i.current)),i.current=null)},[n]),null}function yte(e){var{legendPayload:t}=e,n=Zn(),r=sa(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(K_(t)):i.current!==t&&n(G_({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(Y_(i.current)),i.current=null)},[n]),null}function wte(e){var{legendPayload:t}=e,n=Zn(),r=Tt(Gn),i=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(K_(t)):i.current!==t&&n(G_({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(Y_(i.current)),i.current=null)},[n]),null}var kb,kte=()=>{var[e]=g.useState(()=>vm("uid-"));return e},Ste=(kb=Iz.useId)!==null&&kb!==void 0?kb:kte;function Nte(e,t){var n=Ste();return t||(e?"".concat(e,"-").concat(n):n)}var Cte=g.createContext(void 0),X4=e=>{var{id:t,type:n,children:r}=e,i=Nte("recharts-".concat(n),t);return g.createElement(Cte.Provider,{value:i},r(i))},jte={cartesianItems:[],polarItems:[]},Q4=va({name:"graphicalItems",initialState:jte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:xr()},removeCartesianGraphicalItem:{reducer(e,t){var n=Cs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xr()},removePolarGraphicalItem:{reducer(e,t){var n=Cs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xr()}}}),{addCartesianGraphicalItem:Ate,replaceCartesianGraphicalItem:Pte,removeCartesianGraphicalItem:Dte,addPolarGraphicalItem:Tte,removePolarGraphicalItem:Mte}=Q4.actions,Ete=Q4.reducer,Ote=e=>{var t=Zn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Ate(e)):n.current!==e&&t(Pte({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Dte(n.current)),n.current=null)},[t]),null},Ite=g.memo(Ote);function _te(e){var t=Zn();return g.useLayoutEffect(()=>(t(Tte(e)),()=>{t(Mte(e))}),[t,e]),null}var Lte=["key"],$te=["onMouseEnter","onClick","onMouseLeave"],Fte=["id"],Rte=["id"];function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(null,arguments)}function ov(e,t){if(e==null)return{};var n,r,i=Wte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vte(e){var t=g.useMemo(()=>H4(e.children,Pd),[e.children]),n=Tt(r=>Uee(r,e.id,t));return n==null?null:g.createElement(wte,{legendPayload:n})}var Hte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:Tx(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:d}};return g.createElement(Y4,{tooltipEntrySettings:f})}),qte=(e,t)=>e>t?"start":e<t?"end":"middle",Kte=(e,t,n)=>Ia(typeof t=="function"?t(e):t,n,n*.8),Gte=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=r3(a,s),l=i+Ia(e.cx,a,a/2),u=r+Ia(e.cy,s,s/2),d=Ia(e.innerRadius,o,0),f=Kte(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Yte=(e,t)=>{var n=Vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Xte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Qte=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=In("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=ov(t,Lte);return g.createElement(mS,Xl({},i,{type:"linear",className:n}))},Zte=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var i=In("recharts-pie-label-text",Xte(e));return g.createElement(nv,Xl({},t,{alignmentBaseline:"middle",className:i}),r)};function Jte(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=is(n),l=vd(i),u=vd(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,v=Yr(h.cx,h.cy,h.outerRadius+d,p),b=Ir(Ir(Ir(Ir({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:qte(v.x,h.cx)},v),x=Ir(Ir(Ir(Ir({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Yr(h.cx,h.cy,h.outerRadius,p),v],key:"line"});return g.createElement(us,{zIndex:yi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},g.createElement(na,null,a&&Qte(a,x),Zte(i,b,mr(h,s))))});return g.createElement(na,{className:"recharts-pie-labels"},f)}function ene(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(E4,{label:i}):g.createElement(Jte,{sectors:t,props:n,showLabels:r})}function tne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Tt(Ad),l=Tt(r4),u=Tt(cZ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=ov(i,$te),p=xte(d,i.dataKey,s),v=vte(h),b=bte(f,i.dataKey,s);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((x,w)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var y=u==null||u===s,N=String(w)===o&&(l==null||i.dataKey===l)&&y,C=o?r:null,S=n&&N?n:C,A=Ir(Ir({},x),{},{stroke:x.stroke,tabIndex:-1,[D_]:w,[T_]:s});return g.createElement(na,Xl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Vk(m,x,w),{onMouseEnter:p(x,w),onMouseLeave:v(x,w),onClick:b(x,w)}),g.createElement(G4,Xl({option:a??S,index:w,shapeType:"sector",isActive:N},A)))}))}function nne(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=Yte(o,l),p=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(S=>mr(S,u,0)!==0).length,x=(p>=360?b:b-1)*v,w=p-b*h-x,y=r.reduce((S,A)=>{var O=mr(A,u,0);return S+(zt(O)?O:0)},0),N;if(y>0){var C;N=r.map((S,A)=>{var O=mr(S,u,0),R=mr(S,d,A),M=Gte(n,a,S),L=(zt(O)?O:0)/y,_,G=Ir(Ir({},S),i&&i[A]&&i[A].props);A?_=C.endAngle+Vi(m)*v*(O!==0?1:0):_=o;var ee=_+Vi(m)*((O!==0?h:0)+L*w),le=(_+ee)/2,ve=(M.innerRadius+M.outerRadius)/2,Y=[{name:R,value:O,payload:G,dataKey:u,type:f,graphicalItemId:n.id}],q=Yr(M.cx,M.cy,ve,le);return C=Ir(Ir(Ir(Ir({},n.presentationProps),{},{percent:L,cornerRadius:typeof s=="string"?parseFloat(s):s,name:R,tooltipPayload:Y,midAngle:le,middleRadius:ve,tooltipPosition:q},G),M),{},{value:O,dataKey:u,startAngle:_,endAngle:ee,payload:G,paddingAngle:Vi(m)*v}),C})}return N}function rne(e){var{showLabels:t,sectors:n,children:r}=e,i=g.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return g.createElement(jee,{value:t?i:void 0},r)}function ine(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=zx(t,"recharts-pie-"),p=n.current,[v,b]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),w=g.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return g.createElement(rne,{showLabels:!v,sectors:i},g.createElement(Bx,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:x,key:m},y=>{var N=[],C=i&&i[0],S=C==null?void 0:C.startAngle;return i==null||i.forEach((A,O)=>{var R=p&&p[O],M=O>0?Jc(A,"paddingAngle",0):0;if(R){var L=Wi(R.endAngle-R.startAngle,A.endAngle-A.startAngle,y),_=Ir(Ir({},A),{},{startAngle:S+M,endAngle:S+L+M});N.push(_),S=_.endAngle}else{var{endAngle:G,startAngle:ee}=A,le=Wi(0,G-ee,y),ve=Ir(Ir({},A),{},{startAngle:S+M,endAngle:S+le+M});N.push(ve),S=ve.endAngle}}),n.current=N,g.createElement(na,null,g.createElement(tne,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(ene,{showLabels:!v,sectors:i,props:t}),t.children)}var ane={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yi.area};function sne(e){var{id:t}=e,n=ov(e,Fte),{hide:r,className:i,rootTabIndex:a}=e,s=g.useMemo(()=>H4(e.children,Pd),[e.children]),o=Tt(d=>Wee(d,t,s)),l=g.useRef(null),u=In("recharts-pie",i);return r||o==null?(l.current=null,g.createElement(na,{tabIndex:a,className:u})):g.createElement(us,{zIndex:e.zIndex},g.createElement(Hte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(na,{tabIndex:a,className:u},g.createElement(ine,{props:Ir(Ir({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function C0(e){var t=Qr(e,ane),{id:n}=t,r=ov(t,Rte),i=is(r);return g.createElement(X4,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(_te,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(Vte,Xl({},r,{id:a})),g.createElement(sne,Xl({},r,{id:a}))))}C0.displayName="Pie";var one=["points"];function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lne(e,t,n){return(t=cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}function dne(e,t){if(e==null)return{};var n,r,i=fne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var i=In(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=dne(a,one);return g.createElement(O4,j0({},o,{className:i}))}function hne(e,t){return e==null?!1:t?!0:e.length===1}function pne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=yi.scatter}=e;if(!hne(t,n))return null;var d=q4(n),f=YW(n),h=t.map((p,v)=>{var b,x,w=Sb(Sb(Sb({r:3},s),f),{},{index:v,cx:(b=p.x)!==null&&b!==void 0?b:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return g.createElement(mne,{key:"dot-".concat(v),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(us,{zIndex:u},g.createElement(na,j0({className:r},m),h))}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bne={xAxis:{},yAxis:{},zAxis:{}},Z4=va({name:"cartesianAxis",initialState:bne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:xr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:xr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:xr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=AD(AD({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:yne,replaceXAxis:wne,removeXAxis:kne,addYAxis:Sne,replaceYAxis:Nne,removeYAxis:Cne,addZAxis:jxe,replaceZAxis:Axe,removeZAxis:Pxe,updateYAxisWidth:jne}=Z4.actions,Ane=Z4.reducer,Pne=Ae([Si],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Dne=Ae([Pne,el,tl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),PN=()=>Tt(Dne),Tne=()=>Tt(hZ);function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(n),!0).forEach(function(r){Mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mne(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ine=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Nb(Nb(Nb({},o),vd(i)),Wk(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,l):typeof i=="function"?u=i(l):u=g.createElement(O4,l),g.createElement(na,{className:"recharts-active-dot",clipPath:s},u)};function _ne(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=yi.activeDot}=e,o=Tt(Ad),l=Tne();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return ai(u)?null:g.createElement(us,{zIndex:s},g.createElement(Ine,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var J4=e=>{var{chartData:t}=e,n=Zn(),r=sa();return g.useEffect(()=>r?()=>{}:(n(HP(t)),()=>{n(HP(void 0))}),[t,n,r]),null},DD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},e$=va({name:"brush",initialState:DD,reducers:{setBrushSettings(e,t){return t.payload==null?DD:t.payload}}}),{setBrushSettings:Dxe}=e$.actions,Lne=e$.reducer;function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){t$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t$(e,t,n){return(t=$ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rne=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},Bne=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return Rne({x:t,y:n},{x:r,y:i})};class lv{static create(t){return new lv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}t$(lv,"EPS",1e-4);var zne=e=>{var t=Object.keys(e).reduce((n,r)=>Pp(Pp({},n),{},{[r]:lv.create(e[r])}),{});return Pp(Pp({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[s,o]=a;return[s,t[s].apply(o,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Une(e){return(e%180+180)%180}var Wne=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Une(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Vne={dots:[],areas:[],lines:[]},n$=va({name:"referenceElements",initialState:Vne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Cs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Cs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Cs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Txe,removeDot:Mxe,addArea:Exe,removeArea:Oxe,addLine:Hne,removeLine:qne}=n$.actions,Kne=n$.reducer,r$=g.createContext(void 0),Gne=e=>{var{children:t}=e,[n]=g.useState("".concat(vm("recharts"),"-clip")),r=PN();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(r$.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),t)},Yne=()=>g.useContext(r$);function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(r){Xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xne(e,t,n){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}var Jne=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!br(t.x1)||!br(t.y1)||!br(t.x2)||!br(t.y2))return null;n=g.createElement("line",A0({},t,{className:"recharts-reference-line-line"}))}return n},ere=(e,t,n,r,i,a)=>{var{x:s,width:o}=a,l=i.y.apply(e,{position:n});if(as(l)||t==="discard"&&!i.y.isInRange(l))return null;var u=[{x:s+o,y:l},{x:s,y:l}];return r==="left"?u.reverse():u},tre=(e,t,n,r,i,a)=>{var{y:s,height:o}=a,l=i.x.apply(e,{position:n});if(as(l)||t==="discard"&&!i.x.isInRange(l))return null;var u=[{x:l,y:s+o},{x:l,y:s}];return r==="top"?u.reverse():u},nre=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},rre=(e,t,n,r,i,a)=>{var{x:s,y:o,segment:l,ifOverflow:u}=a,d=ss(s),f=ss(o);return f?ere(o,u,n,i,e,t):d?tre(s,u,n,r,e,t):l!=null&&l.length===2?nre(l,u,n,e):null};function ire(e){var t=Zn();return g.useEffect(()=>(t(Hne(e)),()=>{t(qne(e))})),null}function are(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,s=sa(),o=Yne(),l=Tt(S=>so(S,t)),u=Tt(S=>oo(S,n)),d=Tt(S=>jd(S,"xAxis",t,s)),f=Tt(S=>jd(S,"yAxis",n,s)),h=Ym();if(!o||!h||l==null||u==null||d==null||f==null)return null;var m=zne({x:d,y:f}),p=rre(m,h,e.position,l.orientation,u.orientation,e);if(!p)return null;var[{x:v,y:b},{x,y:w}]=p,y=a==="hidden"?"url(#".concat(o,")"):void 0,N=ED(ED({clipPath:y},Ki(e)),{},{x1:v,y1:b,x2:x,y2:w}),C=Bne({x1:v,y1:b,x2:x,y2:w});return g.createElement(us,{zIndex:e.zIndex},g.createElement(na,{className:In("recharts-reference-line",i)},Jne(r,N),g.createElement(N4,A0({},C,{lowerWidth:C.width,upperWidth:C.width}),g.createElement(j4,{label:e.label}),e.children)))}var sre={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:yi.line};function Gw(e){var t=Qr(e,sre);return g.createElement(g.Fragment,null,g.createElement(ire,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(are,t))}Gw.displayName="ReferenceLine";function i$(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ore(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Wne(r,n)}function lre(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Em(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function cre(e,t){return i$(e,t+1)}function ure(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:i$(r,u)};var v=l,b,x=()=>(b===void 0&&(b=n(p,v)),b),w=p.coordinate,y=l===0||Em(e,w,x,d,o);y||(l=0,d=s,u+=1),y&&(d=w+e*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function dre(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var d=(s-1)%u,f=o,h=!0,m=function(){var w=r[p],y=p,N,C=()=>(N===void 0&&(N=n(w,y)),N),S=w.coordinate,A=p===d||Em(e,S,C,f,l);if(!A)return h=!1,1;A&&(f=S+e*(C()/2+i))},p=d;p<s&&!m();p+=u);if(h){for(var v=[],b=d;b<s;b+=u)v.push(r[b]);return v}}return[]}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return(t=mre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mre(e){var t=hre(e,"string");return typeof t=="symbol"?t:t+""}function hre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pre(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var m=a[h],p,v=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var b=e*(m.coordinate+e*v()/2-l);a[h]=m=Bi(Bi({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else a[h]=m=Bi(Bi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Em(e,m.tickCoord,v,o,l);x&&(l=m.tickCoord-e*(v()/2+i),a[h]=Bi(Bi({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function gre(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Bi(Bi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Em(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=Bi(Bi({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,v=function(w){var y=s[w],N,C=()=>(N===void 0&&(N=n(y,w)),N);if(w===0){var S=e*(y.coordinate-e*C()/2-l);s[w]=y=Bi(Bi({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[w]=y=Bi(Bi({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var A=Em(e,y.tickCoord,C,l,u);A&&(l=y.tickCoord+e*(C()/2+i),s[w]=Bi(Bi({},y),{},{isShow:!0}))}},b=0;b<p;b++)v(b);return s}function DN(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(zt(l)||Rx.isSsr){var h;return(h=cre(i,zt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?Uf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(y,N)=>{var C=typeof u=="function"?u(y.value,N):y.value;return p==="width"?ore(Uf(C,{fontSize:t,letterSpacing:n}),v,f):Uf(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?Vi(i[1].coordinate-i[0].coordinate):1,w=lre(a,x,p);return l==="equidistantPreserveStart"?ure(x,w,b,i,s):l==="equidistantPreserveEnd"?dre(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=gre(x,w,b,i,s,l==="preserveStartEnd"):m=pre(x,w,b,i,s),m.filter(y=>y.isShow))}var xre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},vre=["axisLine","width","height","className","hide","ticks","axisType"];function bre(e,t){if(e==null)return{};var n,r,i=yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(null,arguments)}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){wre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wre(e,t,n){return(t=kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kre(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yi.axis};function Nre(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Kr(Kr(Kr({},l),is(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Kr(Kr({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Kr(Kr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return g.createElement("line",iu({},u,{className:In("recharts-cartesian-axis-line",Jc(o,"className"))}))}function Cre(e,t,n,r,i,a,s,o,l){var u,d,f,h,m,p,v=o?-1:1,b=e.tickSize||s,x=zt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=n+ +!o*i,f=h-v*b,p=f-v*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,u=d-v*b,m=u-v*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,u=d+v*b,m=u+v*l,p=x;break;default:u=d=e.coordinate,h=n+ +o*i,f=h+v*b,p=f+v*l,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function jre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Are(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Pre(e){var{option:t,tickProps:n,value:r}=e,i,a=In(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,Kr(Kr({},n),{},{className:a}));else if(typeof t=="function")i=t(Kr(Kr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=In(s,t==null?void 0:t.className)),i=g.createElement(nv,iu({},n,{className:s}),r)}return i}var Dre=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:v,tickSize:b,tickMargin:x,fontSize:w,letterSpacing:y,getTicksConfig:N,events:C,axisType:S}=e,A=DN(Kr(Kr({},N),{},{ticks:n}),w,y),O=jre(d,f),R=Are(d,f),M=is(N),L=vd(r),_={};typeof i=="object"&&(_=i);var G=Kr(Kr({},M),{},{fill:"none"},_),ee=A.map(Y=>Kr({entry:Y},Cre(Y,h,m,p,v,d,b,f,x))),le=ee.map(Y=>{var{entry:q,line:K}=Y;return g.createElement(na,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},i&&g.createElement("line",iu({},G,K,{className:In("recharts-cartesian-axis-tick-line",Jc(i,"className"))})))}),ve=ee.map((Y,q)=>{var{entry:K,tick:P}=Y,D=Kr(Kr(Kr(Kr({textAnchor:O,verticalAnchor:R},M),{},{stroke:"none",fill:a},L),P),{},{index:q,payload:K,visibleTicksCount:A.length,tickFormatter:s,padding:l},u);return g.createElement(na,iu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Vk(C,K,q)),r&&g.createElement(Pre,{option:r,tickProps:D,value:"".concat(typeof s=="function"?s(K.value,q):K.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},ve.length>0&&g.createElement(us,{zIndex:yi.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},ve)),le.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},le))}),Tre=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=bre(e,vre),[d,f]=g.useState(""),[h,m]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return xre({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(b=>{if(b){var x=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var w=x[0];if(w){var y=window.getComputedStyle(w),N=y.fontSize,C=y.letterSpacing;(N!==d||C!==h)&&(f(N),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(us,{zIndex:e.zIndex},g.createElement(na,{className:In("recharts-cartesian-axis",a)},g.createElement(Nre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:is(e)}),g.createElement(Dre,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(N4,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(j4,{label:e.label,labelRef:e.labelRef}),e.children)))}),TN=g.forwardRef((e,t)=>{var n=Qr(e,Lo);return g.createElement(Tre,iu({},n,{ref:t}))});TN.displayName="CartesianAxis";var Mre=["x1","y1","x2","y2","key"],Ere=["offset"],Ore=["xAxisId","yAxisId"],Ire=["xAxisId","yAxisId"];function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lc.apply(null,arguments)}function P0(e,t){if(e==null)return{};var n,r,i=Fre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function a$(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,d=P0(n,Mre),f=(i=is(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=P0(f,Ere);r=g.createElement("line",Lc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Bre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=P0(e,Ore),l=i.map((u,d)=>{var f=Ui(Ui({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(a$,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function zre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=P0(e,Ire),l=i.map((u,d)=>{var f=Ui(Ui({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(a$,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ure(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var v=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Wre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var v=h%n.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Vre=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return j_(DN(Ui(Ui(Ui({},Lo),n),{},{ticks:A_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Hre=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return j_(DN(Ui(Ui(Ui({},Lo),n),{},{ticks:A_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},qre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yi.grid};function Yo(e){var t=cS(),n=uS(),r=R_(),i=Ui(Ui({},Qr(e,qre)),{},{x:zt(e.x)?e.x:r.left,y:zt(e.y)?e.y:r.top,width:zt(e.width)?e.width:r.width,height:zt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=sa(),v=Tt(R=>IP(R,"xAxis",a,p)),b=Tt(R=>IP(R,"yAxis",s,p));if(!io(u)||!io(d)||!zt(o)||!zt(l))return null;var x=i.verticalCoordinatesGenerator||Vre,w=i.horizontalCoordinatesGenerator||Hre,{horizontalPoints:y,verticalPoints:N}=i;if((!y||!y.length)&&typeof w=="function"){var C=h&&h.length,S=w({yAxis:b?Ui(Ui({},b),{},{ticks:C?h:b.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);Jg(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!N||!N.length)&&typeof x=="function"){var A=m&&m.length,O=x({xAxis:v?Ui(Ui({},v),{},{ticks:A?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);Jg(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(N=O)}return g.createElement(us,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Rre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(Ure,Lc({},i,{horizontalPoints:y})),g.createElement(Wre,Lc({},i,{verticalPoints:N})),g.createElement(Bre,Lc({},i,{offset:r,horizontalPoints:y,xAxis:v,yAxis:b})),g.createElement(zre,Lc({},i,{offset:r,verticalPoints:N,xAxis:v,yAxis:b}))))}Yo.displayName="CartesianGrid";var Kre={},s$=va({name:"errorBars",initialState:Kre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ixe,replaceErrorBar:_xe,removeErrorBar:Lxe}=s$.actions,Gre=s$.reducer,Yre=["children"];function Xre(e,t){if(e==null)return{};var n,r,i=Qre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Jre=g.createContext(Zre);function eie(e){var{children:t}=e,n=Xre(e,Yre);return g.createElement(Jre.Provider,{value:n},t)}function o$(e,t){var n,r,i=Tt(u=>so(u,e)),a=Tt(u=>oo(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:pi.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gi.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function tie(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=PN(),{needClipX:a,needClipY:s,needClip:o}=o$(t,n);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var l$=(e,t,n,r)=>$L(e,"xAxis",t,r),c$=(e,t,n,r)=>LL(e,"xAxis",t,r),u$=(e,t,n,r)=>$L(e,"yAxis",n,r),d$=(e,t,n,r)=>LL(e,"yAxis",n,r),nie=Ae([Gn,l$,u$,c$,d$],(e,t,n,r,i)=>rc(e,"xAxis")?Zg(t,r,!1):Zg(n,i,!1)),rie=(e,t,n,r,i)=>i;function iie(e){return e.type==="line"}var aie=Ae([gL,rie],(e,t)=>e.filter(iie).find(n=>n.id===t)),sie=Ae([Gn,l$,u$,c$,d$,aie,nie,FS],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(u,d+1),m!=null)return Qie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function oie(e){var t=vd(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var lie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=g;function cie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uie=typeof Object.is=="function"?Object.is:cie,die=yh.useSyncExternalStore,fie=yh.useRef,mie=yh.useEffect,hie=yh.useMemo,pie=yh.useDebugValue;lie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=fie(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=hie(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,uie(d,m))return p;var v=r(m);return i!==void 0&&i(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=die(e,a[0],a[1]);return mie(function(){s.hasValue=!0,s.value=o},[o]),pie(o),o};function gie(e){e()}function xie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var LD={notify(){},get:()=>[]};function vie(e,t){let n,r=LD,i=0,a=!1;function s(v){d();const b=r.subscribe(v);let x=!1;return()=>{x||(x=!0,b(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return a}function d(){i++,n||(n=e.subscribe(l),r=xie())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=LD)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var bie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yie=bie(),wie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kie=wie(),Sie=()=>yie||kie?g.useLayoutEffect:g.useEffect,Nie=Sie();function $D(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Cie(e,t){if($D(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!$D(e[n[i]],t[n[i]]))return!1;return!0}var Cb=Symbol.for("react-redux-context"),jb=typeof globalThis<"u"?globalThis:{};function jie(){if(!g.createContext)return{};const e=jb[Cb]??(jb[Cb]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Aie=jie();function Pie(e){const{children:t,context:n,serverState:r,store:i}=e,a=g.useMemo(()=>{const l=vie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);Nie(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Aie;return g.createElement(o.Provider,{value:a},t)}var Die=Pie,Tie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Mie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function MN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Tie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Cie(e[r],t[r]))return!1}else if(!Mie(e[r],t[r]))return!1;return!0}var Eie=["id"],Oie=["type","layout","connectNulls","needClip","shape"],Iie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Om.apply(null,arguments)}function FD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(n),!0).forEach(function(r){_ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ie(e,t,n){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EN(e,t){if(e==null)return{};var n,r,i=Fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Tx(n,t),payload:e}]},Bie=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Tx(s,t),hide:o,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(Y4,{tooltipEntrySettings:f})}),f$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zie(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Uie=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return f$(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>a){o=[...n.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...zie(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Wie(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=EN(r,Eie),u=is(l);return g.createElement(pne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function Vie(e){var{showLabels:t,children:n,points:r}=e,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Qs(Qs({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(Cee,{value:t?i:void 0},n)}function RD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,f=EN(a,Oie),h=Qs(Qs({},Ki(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(G4,Om({shapeType:"curve",option:d},h,{pathRef:n})),g.createElement(Wie,{points:r,clipPathId:t,props:a}))}function Hie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function qie(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:v,onAnimationStart:b}=n,x=i.current,w=zx(s,"recharts-line-"),y=g.useRef(w),[N,C]=g.useState(!1),S=!N,A=g.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),O=g.useCallback(()=>{typeof b=="function"&&b(),C(!0)},[b]),R=Hie(r.current),M=g.useRef(0);y.current!==w&&(M.current=a.current,y.current=w);var L=M.current;return g.createElement(Vie,{points:s,showLabels:S},n.children,g.createElement(Bx,{animationId:w,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:O,key:w},_=>{var G=Wi(L,R+L,_),ee=Math.min(G,R),le;if(l)if(o){var ve="".concat(o).split(/[,\s]+/gim).map(K=>parseFloat(K));le=Uie(ee,R,ve)}else le=f$(R,ee);else le=o==null?void 0:String(o);if(_>0&&R>0&&(i.current=s,a.current=Math.max(a.current,ee)),x){var Y=x.length/s.length,q=_===1?s:s.map((K,P)=>{var D=Math.floor(P*Y);if(x[D]){var re=x[D];return Qs(Qs({},K),{},{x:Wi(re.x,K.x,_),y:Wi(re.y,K.y,_)})}return h?Qs(Qs({},K),{},{x:Wi(m*2,K.x,_),y:Wi(p/2,K.y,_)}):Qs(Qs({},K),{},{x:K.x,y:K.y})});return i.current=q,g.createElement(RD,{props:n,points:q,clipPathId:t,pathRef:r,strokeDasharray:le})}return g.createElement(RD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:le})}),g.createElement(E4,{label:n.label}))}function Kie(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(qie,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Gie=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:mr(e.payload,t)}};class Yie extends g.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=In("recharts-line",i),v=f,{r:b,strokeWidth:x}=oie(n),w=q4(n),y=b*2+x,N=h?"url(#clipPath-".concat(w?"":"dots-").concat(v,")"):void 0;return g.createElement(us,{zIndex:m},g.createElement(na,{className:p},h&&g.createElement("defs",null,g.createElement(tie,{clipPathId:v,xAxisId:a,yAxisId:s}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-y/2,y:o-y/2,width:u+y,height:d+y}))),g.createElement(eie,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Gie,errorBarOffset:0},g.createElement(Kie,{props:this.props,clipPathId:v}))),g.createElement(_ne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var m$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yi.line,type:"linear"};function Xie(e){var t=Qr(e,m$),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:v}=t,b=EN(t,Iie),{needClip:x}=o$(m,p),w=PN(),y=Xm(),N=sa(),C=Tt(M=>sie(M,m,p,N,v));if(y!=="horizontal"&&y!=="vertical"||C==null||w==null)return null;var{height:S,width:A,x:O,y:R}=w;return g.createElement(Yie,Om({},b,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:y,height:S,width:A,left:O,top:R,needClip:x}))}function Qie(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=mr(u,s);if(t==="horizontal"){var h=qj({axis:n,ticks:i,bandSize:o,entry:u,index:d}),m=ai(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var p=ai(f)?null:n.scale(f),v=qj({axis:r,ticks:a,bandSize:o,entry:u,index:d});return p==null||v==null?null:{x:p,y:v,value:f,payload:u}}).filter(Boolean)}function Zie(e){var t=Qr(e,m$),n=sa();return g.createElement(X4,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(yte,{legendPayload:Rie(t)}),g.createElement(Bie,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(Ite,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Xie,Om({},t,{id:r}))))}var ua=g.memo(Zie,MN);ua.displayName="Line";var Jie=["domain","range"],eae=["domain","range"];function BD(e,t){if(e==null)return{};var n,r,i=tae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function h$(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=BD(e,Jie),{domain:a,range:s}=t,o=BD(t,eae);return!zD(n,a)||!zD(r,s)?!1:MN(i,o)}var nae=["dangerouslySetInnerHTML","ticks","scale"],rae=["id","scale"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}function UD(e,t){if(e==null)return{};var n,r,i=iae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aae(e){var t=Zn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(yne(e)):n.current!==e&&t(wne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(kne(n.current)),n.current=null)},[t]),null}var sae=e=>{var{xAxisId:t,className:n}=e,r=Tt(M_),i=sa(),a="xAxis",s=Tt(x=>_L(x,a,t,i)),o=Tt(x=>nQ(x,t)),l=Tt(x=>lQ(x,t)),u=Tt(x=>mL(x,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=UD(e,nae),{id:p,scale:v}=u,b=UD(u,rae);return g.createElement(TN,Yw({},m,b,{x:l.x,y:l.y,width:o.width,height:o.height,className:In("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},oae={allowDataOverflow:pi.allowDataOverflow,allowDecimals:pi.allowDecimals,allowDuplicatedCategory:pi.allowDuplicatedCategory,angle:pi.angle,axisLine:Lo.axisLine,height:pi.height,hide:!1,includeHidden:pi.includeHidden,interval:pi.interval,minTickGap:pi.minTickGap,mirror:pi.mirror,orientation:pi.orientation,padding:pi.padding,reversed:pi.reversed,scale:pi.scale,tick:pi.tick,tickCount:pi.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:pi.type,xAxisId:0},lae=e=>{var t=Qr(e,oae);return g.createElement(g.Fragment,null,g.createElement(aae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(sae,t))},Xo=g.memo(lae,h$);Xo.displayName="XAxis";var cae=["dangerouslySetInnerHTML","ticks","scale"],uae=["id","scale"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(null,arguments)}function WD(e,t){if(e==null)return{};var n,r,i=dae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fae(e){var t=Zn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Sne(e)):n.current!==e&&t(Nne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Cne(n.current)),n.current=null)},[t]),null}var mae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=g.useRef(null),s=g.useRef(null),o=Tt(M_),l=sa(),u=Zn(),d="yAxis",f=Tt(S=>dQ(S,t)),h=Tt(S=>uQ(S,t)),m=Tt(S=>_L(S,d,t,l)),p=Tt(S=>hL(S,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||NN(i)||g.isValidElement(i)||p==null)){var S=a.current;if(S){var A=S.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(jne({id:t,width:A}))}}},[m,f,u,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:x}=e,w=WD(e,cae),{id:y,scale:N}=p,C=WD(p,uae);return g.createElement(TN,Xw({},w,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:In("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},hae={allowDataOverflow:gi.allowDataOverflow,allowDecimals:gi.allowDecimals,allowDuplicatedCategory:gi.allowDuplicatedCategory,angle:gi.angle,axisLine:Lo.axisLine,hide:!1,includeHidden:gi.includeHidden,interval:gi.interval,minTickGap:gi.minTickGap,mirror:gi.mirror,orientation:gi.orientation,padding:gi.padding,reversed:gi.reversed,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:gi.type,width:gi.width,yAxisId:0},pae=e=>{var t=Qr(e,hae);return g.createElement(g.Fragment,null,g.createElement(fae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(mae,t))},Qo=g.memo(pae,h$);Qo.displayName="YAxis";var gae=(e,t)=>t,ON=Ae([gae,Gn,uL,oi,JL,rl,AZ,Si],IZ),IN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},p$=os("mouseClick"),g$=Km();g$.startListening({actionCreator:p$,effect:(e,t)=>{var n=e.payload,r=ON(t.getState(),IN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(CQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Qw=os("mouseMove"),x$=Km(),Dp=null;x$.startListening({actionCreator:Qw,effect:(e,t)=>{var n=e.payload;Dp!==null&&cancelAnimationFrame(Dp);var r=IN(n);Dp=requestAnimationFrame(()=>{var i=t.getState(),a=hN(i,i.tooltip.settings.shared);if(a==="axis"){var s=ON(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(HL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(VL())}Dp=null})}});function xae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var VD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},v$=va({name:"rootProps",initialState:VD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:VD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),vae=v$.reducer,{updateOptions:bae}=v$.actions,b$=va({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:yae}=b$.actions,wae=b$.reducer,y$=os("keyDown"),w$=os("focus"),_N=Km();_N.startListening({actionCreator:y$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=pN(i,Vd(n),sh(n),ch(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=rl(n);if(a==="Enter"){var u=w0(n,"axis","hover",String(i.index));t.dispatch(Uw({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=pQ(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=w0(n,"axis","hover",String(m));t.dispatch(Uw({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});_N.startListening({actionCreator:w$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=w0(n,"axis","hover",String(a));t.dispatch(Uw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ka=os("externalEvent"),k$=Km(),Ab=new Map;k$.startListening({actionCreator:Ka,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Ab.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:dZ(o),activeDataKey:r4(o),activeIndex:Ad(o),activeLabel:n4(o),activeTooltipIndex:Ad(o),isTooltipActive:fZ(o)};n(l,r)}finally{Ab.delete(i)}});Ab.set(i,s)}}});var kae=Ae([Ud],e=>e.tooltipItemPayloads),Sae=Ae([kae,lh,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),S$=os("touchMove"),N$=Km();N$.startListening({actionCreator:S$,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=hN(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=ON(r,IN({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(HL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(D_),f=(o=u.getAttribute(T_))!==null&&o!==void 0?o:void 0,h=Wd(r).find(v=>v.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=Sae(r,d,f);t.dispatch(WL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var Nae=QI({brush:Lne,cartesianAxis:Ane,chartData:uJ,errorBars:Gre,graphicalItems:Ete,layout:qH,legend:K7,options:aJ,polarAxis:Lee,polarOptions:wae,referenceElements:Kne,rootProps:vae,tooltip:jQ,zIndex:GZ}),Cae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xH({reducer:Nae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([g$.middleware,x$.middleware,_N.middleware,k$.middleware,N$.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(f_({type:"raf"}))},devTools:{serialize:{replacer:xae},name:"recharts-".concat(n)}})};function C$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=sa(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=Cae(t,r));var s=Jk;return g.createElement(Die,{context:s,store:a.current},n)}function jae(e){var{layout:t,margin:n}=e,r=Zn(),i=sa();return g.useEffect(()=>{i||(r(WH(t)),r(UH(n)))},[r,i,t,n]),null}var j$=g.memo(jae,MN);function A$(e){var t=Zn();return g.useEffect(()=>{t(bae(e))},[t,e]),null}function HD(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),i=Zn();return g.useLayoutEffect(()=>(r.current&&i(qZ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(KZ({zIndex:t,isPanorama:n}))}),[i,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function qD(e){var{children:t,isPanorama:n}=e,r=Tt(LZ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(HD,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>g.createElement(HD,{key:s,zIndex:s,isPanorama:n})))}var Aae=["children"];function Pae(e,t){if(e==null)return{};var n,r,i=Dae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D0.apply(null,arguments)}var Tae={width:"100%",height:"100%",display:"block"},Mae=g.forwardRef((e,t)=>{var n=cS(),r=uS(),i=Q_();if(!io(n)||!io(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),g.createElement($k,D0({},s,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:Tae,ref:t}),a)}),Eae=e=>{var{children:t}=e,n=Tt(Ix);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement($k,{width:r,height:i,x:s,y:a},t)},KD=g.forwardRef((e,t)=>{var{children:n}=e,r=Pae(e,Aae),i=sa();return i?g.createElement(Eae,null,g.createElement(qD,{isPanorama:!0},n)):g.createElement(Mae,D0({ref:t},r),g.createElement(qD,{isPanorama:!1},n))});function Oae(){var e=Zn(),[t,n]=g.useState(null),r=Tt(o7);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;br(a)&&a!==r&&e(HH(a))}},[t,e,r]),n}function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){_ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ae(e,t,n){return(t=Lae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lae(e){var t=$ae(e,"string");return typeof t=="symbol"?t:t+""}function $ae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}var Fae=()=>(bJ(),null);function T0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Rae=g.forwardRef((e,t)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:T0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:T0((r=e.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:v,height:b}=p[0].contentRect;o(v,b)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,o]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(_x,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",au({ref:l},e)))}),Bae=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=g.useState({containerWidth:T0(n),containerHeight:T0(r)}),s=g.useCallback((l,u)=>{a(d=>{var f=Math.round(l),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return g.createElement(g.Fragment,null,g.createElement(_x,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",au({ref:o},e)))}),zae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(_x,{width:n,height:r}),g.createElement("div",au({ref:t},e)))}),Uae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return Wo(n)||Wo(r)?g.createElement(Bae,au({},e,{ref:t})):g.createElement(zae,au({},e,{ref:t}))});function Wae(e){return e===!0?Rae:Uae}var Vae=g.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:v,style:b,width:x,responsive:w,dispatchTouchEvents:y=!0}=e,N=g.useRef(null),C=Zn(),[S,A]=g.useState(null),[O,R]=g.useState(null),M=Oae(),L=lS(),_=(L==null?void 0:L.width)>0?L.width:x,G=(L==null?void 0:L.height)>0?L.height:i,ee=g.useCallback(B=>{M(B),typeof t=="function"&&t(B),A(B),R(B),B!=null&&(N.current=B)},[M,t,A,R]),le=g.useCallback(B=>{C(p$(B)),C(Ka({handler:a,reactEvent:B}))},[C,a]),ve=g.useCallback(B=>{C(Qw(B)),C(Ka({handler:u,reactEvent:B}))},[C,u]),Y=g.useCallback(B=>{C(VL()),C(Ka({handler:d,reactEvent:B}))},[C,d]),q=g.useCallback(B=>{C(Qw(B)),C(Ka({handler:f,reactEvent:B}))},[C,f]),K=g.useCallback(()=>{C(w$())},[C]),P=g.useCallback(B=>{C(y$(B.key))},[C]),D=g.useCallback(B=>{C(Ka({handler:s,reactEvent:B}))},[C,s]),re=g.useCallback(B=>{C(Ka({handler:o,reactEvent:B}))},[C,o]),k=g.useCallback(B=>{C(Ka({handler:l,reactEvent:B}))},[C,l]),W=g.useCallback(B=>{C(Ka({handler:h,reactEvent:B}))},[C,h]),V=g.useCallback(B=>{C(Ka({handler:v,reactEvent:B}))},[C,v]),ie=g.useCallback(B=>{y&&C(S$(B)),C(Ka({handler:p,reactEvent:B}))},[C,y,p]),ne=g.useCallback(B=>{C(Ka({handler:m,reactEvent:B}))},[C,m]),se=Wae(w);return g.createElement(u4.Provider,{value:S},g.createElement(XO.Provider,{value:O},g.createElement(se,{width:_??(b==null?void 0:b.width),height:G??(b==null?void 0:b.height),className:In("recharts-wrapper",r),style:Iae({position:"relative",cursor:"default",width:_,height:G},b),onClick:le,onContextMenu:D,onDoubleClick:re,onFocus:K,onKeyDown:P,onMouseDown:k,onMouseEnter:ve,onMouseLeave:Y,onMouseMove:q,onMouseUp:W,onTouchEnd:ne,onTouchMove:ie,onTouchStart:V,ref:ee},g.createElement(Fae,null),n)))}),Hae=["width","height","responsive","children","className","style","compact","title","desc"];function qae(e,t){if(e==null)return{};var n,r,i=Kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P$=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=qae(e,Hae),h=is(f);return l?g.createElement(g.Fragment,null,g.createElement(_x,{width:n,height:r}),g.createElement(KD,{otherAttributes:h,title:u,desc:d},a)):g.createElement(Vae,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(KD,{otherAttributes:h,title:u,desc:d,ref:t},g.createElement(Gne,null,a)))});function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(null,arguments)}var Gae={top:5,right:5,bottom:5,left:5},Yae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Gae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xae=g.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,Yae),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(C$,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},g.createElement(J4,{chartData:u.data}),g.createElement(j$,{layout:i.layout,margin:i.margin}),g.createElement(A$,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(P$,Zw({},i,{ref:n})))}),Qae=["axis"],Ql=g.forwardRef((e,t)=>g.createElement(Xae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qae,tooltipPayloadSearcher:f4,categoricalChartProps:e,ref:t}));function Zae(e){var t=Zn();return g.useEffect(()=>{t(yae(e))},[t,e]),null}var Jae=["layout"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jw.apply(null,arguments)}function ese(e,t){if(e==null)return{};var n,r,i=tse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nse={top:5,right:5,bottom:5,left:5},D$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rse=g.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,D$),{layout:a}=i,s=ese(i,Jae),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(C$,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(J4,{chartData:i.data}),g.createElement(j$,{layout:a,margin:i.margin}),g.createElement(A$,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(Zae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(P$,Jw({},s,{ref:n})))});function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(n),!0).forEach(function(r){ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ise(e,t,n){return(t=ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ase(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ose=["item"],lse=XD(XD({},D$),{},{layout:"centric",startAngle:0,endAngle:360}),e1=g.forwardRef((e,t)=>{var n=Qr(e,lse);return g.createElement(rse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ose,tooltipPayloadSearcher:f4,categoricalChartProps:n,ref:t})});const An=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),QD="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Wf=new Map,ld=new Map,cse=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Wf.has(r)||ld.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Wf.set(r,s),s})();ld.set(r,i);try{await i}finally{ld.delete(r)}}))},use=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Wf.get(e)||QD:null});return g.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Wf.get(e);if(r){n(r);return}let i=!0;const a=ld.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Wf.set(e,l),l})();return ld.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(QD)}}).finally(()=>{ld.delete(e)}),()=>{i=!1}},[e]),t},dse=(e,t,n,r)=>{const[i,a]=g.useState("bottom"),[s,o]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(O=>{let R=(O==null?void 0:O.parentElement)||null;for(;R;){const M=window.getComputedStyle(R),L=`${M.overflow}${M.overflowY}${M.overflowX}`;if(/(auto|scroll|hidden)/.test(L))return R;R=R.parentElement}return null})(u),v=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},b=v.bottom-f.bottom,x=f.top-v.top,w=b<h.height+8&&x>b?"top":"bottom";a(w);const y=6,N=f.left+f.width/2,C=v.left+y+h.width/2,S=v.right-y-h.width/2,A=Math.min(Math.max(N,C),S);o(A-N)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},fse=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},T$=(e,t,n,r,i=8)=>{const[a,s]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const o=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,v=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),b=f.left+f.width/2,x=i+h.width/2,w=window.innerWidth-i-h.width/2,y=Math.min(Math.max(b,x),w);s({position:"fixed",top:v,left:y,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},mse=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Ec(i||"Unknown"),s=r.length>1,[o,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=dse(o,[r.length,f],u,d),p=Array.from(new Set(r.map(w=>Io(w||"Unknown")))).slice(0,4),v=p.length>1?`conic-gradient(${p.map((w,y)=>`${w} ${y*360/p.length}deg ${(y+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const b=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${b} ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(w=>{const y=Ec(w||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[y?c.jsx("img",{src:y,alt:w||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:w||"Unknown"})]},w)})})]})]})]})},hse=(e,t,n="w-4 h-4 object-contain")=>c.jsx(mse,{profession:e,professionList:t,className:n}),Pb=({count:e,classCounts:t,label:n,className:r})=>{const i=fse(t||{}),a=e>0,[s,o]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=T$(s,[i.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&_d.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const v=Ec(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[v?c.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Cr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=use(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?c.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},ZD=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=g.useState(!1),o=g.useRef(null),l=g.useRef(null),u=T$(a,[n.length],o,l);return c.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{children:e}),i&&typeof document<"u"&&_d.createPortal(c.jsxs("div",{ref:l,style:u,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-gray-100",children:c.jsx(Cr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},pse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:b,skillUsageView:x,setSkillUsageView:w,skillUsageData:y,skillUsageSkillFilter:N,setSkillUsageSkillFilter:C,selectedSkillId:S,setSelectedSkillId:A,skillBarData:O,selectedSkillName:R,selectedSkillIcon:M,skillUsageReady:L,skillUsageAvailable:_,isSkillUsagePerSecond:G,skillChartData:ee,skillChartMaxY:le,playerTotalsForSkill:ve,hoveredSkillPlayer:Y,setHoveredSkillPlayer:q,getLineStrokeColor:K,getLineDashForPlayer:P,formatSkillUsageValue:D,renderProfessionIcon:re})=>c.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ck,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(An,{value:x,onChange:w,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[y.logRecords.length," ",y.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),o.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const W=d.get(k);return W?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:W.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[W.logs," ",W.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(W.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(TO,{className:"w-3 h-3"})})]},W.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:v,onChange:k=>b(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const W=h===k.profession,V=k.players.map(ne=>ne.key),ie=V.length>0&&V.every(ne=>o.includes(ne));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(W){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${W?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[re(k.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),W?c.jsx(Qy,{className:"w-3.5 h-3.5"}):c.jsx(r8,{className:"w-3.5 h-3.5"})]})]})}),W&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(ne=>{if(ie)return ne.filter(B=>!V.includes(B));const se=new Set(ne);return V.forEach(B=>se.add(B)),Array.from(se)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ie?"Clear All":"Select All"})]}),k.players.map(ne=>{const se=o.includes(ne.key);return c.jsx("button",{type:"button",onClick:()=>p(ne.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${se?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:ne.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[ne.account,"  ",ne.profession,"  ",ne.logs," ",ne.logs===1?"log":"logs"]})]}),se&&c.jsx(AO,{className:"w-4 h-4 text-cyan-300"})]})},ne.key)})]})]},k.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${G?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:N,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):O.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=O.reduce((W,V)=>Math.max(W,V.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:O.map((W,V)=>{const ie=Math.min(100,W.total/k*100),ne=S===W.skillId;return c.jsxs("button",{type:"button",onClick:()=>A(W.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${ne?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${V+1}`}),c.jsx(Cr,{name:W.name,iconUrl:W.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:D(W.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ie}%`,backgroundColor:W.color}})})]},W.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:L?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?c.jsx(Cr,{name:R,iconUrl:M,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",G?"casts per second":"casts per log",")"]})]}),c.jsx(Ts,{width:"100%",height:250,children:c.jsxs(Ql,{data:ee,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const W=ee[k],V=String((W==null?void 0:W.shortLabel)??k);return V.length>20?`${V.slice(0,20)}`:V}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,le)],allowDecimals:!1}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:W,label:V})=>{var B;if(!k||!W||W.length===0)return null;const ie=[...W].sort((U,H)=>(H.value||0)-(U.value||0)),ne=ie[0],se=((B=ne==null?void 0:ne.payload)==null?void 0:B.fullLabel)||V;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:se}),c.jsx("div",{className:"space-y-1",children:ie.map(U=>{const H=String(U.name||""),te=d.get(H),z=(te==null?void 0:te.displayName)||H||"Player",ue=D(Number(U.value||0)),Z=U.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:Z},children:z}),c.jsx("span",{className:"text-gray-200 font-mono",children:ue})]},`${z}-${ue}`)})})]})}}),o.map(k=>{const W=Y.includes(k),V=Y.length>0,ie=K(k,W,V),ne=P(k),se=Y.length>0&&!W;return c.jsx(ua,{dataKey:k,stroke:ie,strokeWidth:W?4:3,strokeDasharray:ne,opacity:se?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,W)=>(ve.get(W)||0)-(ve.get(k)||0)).map(k=>{const W=d.get(k),V=ve.get(k)??0,ie=Y.includes(k),ne=Y.length>0,se=K(k,ie,ne);return c.jsxs("button",{type:"button",onClick:()=>{q(B=>B.includes(k)?B.filter(U=>U!==k):[...B,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ie?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ie,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:se,strokeWidth:"2",strokeDasharray:P(k),strokeLinecap:"round"})}),re(W==null?void 0:W.profession,W==null?void 0:W.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(W==null?void 0:W.displayName)||k}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(W==null?void 0:W.logs)??0," ",((W==null?void 0:W.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:D(V)})]},k)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:_?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),gse=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,i]=g.useState(0),[a,s]=g.useState(0),o=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:y,clientWidth:N,scrollLeft:C}=h,S=y>N,A=n.current,O=(A==null?void 0:A.clientWidth)||0;if(!O){m=window.requestAnimationFrame(p);return}if(!S){i(O),s(0);return}const R=N/y,M=Math.max(20,Math.floor(O*R)),L=y-N,_=Math.max(0,O-M),G=L>0?Math.floor(C/L*_):0;i(M),s(G)};p();const v=()=>p(),b=new ResizeObserver(p);b.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&b.observe(x),n.current&&b.observe(n.current);const w=new MutationObserver(()=>p());return w.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),b.disconnect(),w.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",v)}},[e]),g.useEffect(()=>{const h=p=>{if(!o.current)return;const v=n.current,b=e.current;if(!v||!b)return;const x=v.getBoundingClientRect(),w=p.clientX-l.current,y=Math.max(0,x.width-r),N=Math.min(y,Math.max(0,u.current+w)),C=b.scrollWidth-b.clientWidth,S=y>0?N/y*C:0;b.scrollLeft=S},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const v=m.getBoundingClientRect(),b=h.clientX-v.left,x=Math.max(0,v.width-r),w=Math.min(x,Math.max(0,b-r/2)),y=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?w/x*y:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,u.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},Es=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?c.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),p&&c.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>c.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),c.jsx(gse,{containerRef:u})]})},Os=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),h=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const x=w=>{f.current&&(f.current.contains(w.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=g.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(w=>w.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),v=g.useMemo(()=>{const x=new Map;return p.forEach((w,y)=>{x.set(`${w.type}-${w.id}`,y)}),x},[p]),b=g.useMemo(()=>{const x=p.filter(y=>y.type==="column"),w=p.filter(y=>y.type==="player");return{columns:x,players:w}},[p]);return g.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),g.useEffect(()=>{if(!o)return;const x=p[u];if(!x)return;const w=`${x.type}-${x.id}`,y=m.current.get(w);y&&h.current&&y.scrollIntoView({block:"nearest"})},[u,p,o]),c.jsxs("div",{ref:f,className:`relative ${i}`,children:[c.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(w=>(w+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(w=>(w-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const w=p[u];if(!w)return;r(w),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[b.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),b.columns.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return c.jsx("button",{type:"button",ref:y=>{m.current.set(`${x.type}-${x.id}`,y)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const y=v.get(`${x.type}-${x.id}`);typeof y=="number"&&d(y)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,c.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),b.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),b.players.map(x=>{const w=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return c.jsx("button",{type:"button",ref:y=>{m.current.set(`${x.type}-${x.id}`,y)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const y=v.get(`${x.type}-${x.id}`);typeof y=="number"&&d(y)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,c.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},jr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=h=>{u.current&&(u.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${i}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,c.jsx("span",{children:a}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},xse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:v,setActiveApmSkillId:b,ALL_SKILLS_KEY:x,apmSkillSearch:w,setApmSkillSearch:y,activeApmSpecTable:N,activeApmSkill:C,isAllApmSkills:S,apmView:A,setApmView:O,formatApmValue:R,formatCastRateValue:M,formatCastCountValue:L,renderProfessionIcon:_})=>{var ne;const[G,ee]=g.useState({key:"apm",dir:"desc"}),le=e==="apm-stats",[ve,Y]=g.useState({columnId:"",dir:"desc"}),[q,K]=g.useState([]),[P,D]=g.useState([]),[re,k]=g.useState({}),W=le?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,V=se=>{ee(B=>({key:se,dir:B.key===se&&B.dir==="desc"?"asc":"desc"}))},ie=g.useMemo(()=>{const se=[...(N==null?void 0:N.playerRows)||[]];return se.sort((B,U)=>{const H=G.key==="apm"?Number(A==="perSecond"?B.aps:B.apm):Number(A==="perSecond"?B.apsNoAuto:B.apmNoAuto),te=G.key==="apm"?Number(A==="perSecond"?U.aps:U.apm):Number(A==="perSecond"?U.apsNoAuto:U.apmNoAuto);return(G.dir==="desc"?te-H:H-te)||String(B.displayName||"").localeCompare(String(U.displayName||""))}),se},[N,G,A]);return c.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Dk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:w,onChange:se=>y(se.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:W,children:d.map(se=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const B=f!==se.profession;h(se.profession),p(B?se.profession:m===se.profession?null:se.profession),B&&(b(x),K([]),D([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===se.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_(se.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[se.players.length,"p"]})})]})}),!le&&m===se.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:re[se.profession]||"",onChange:B=>{const U=B.target.value;k(H=>({...H,[se.profession]:U}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{h(se.profession),b(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===se.profession&&S?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(se.skills||[]).filter(B=>{const U=(re[se.profession]||"").trim().toLowerCase();return U?String(B.name||"").toLowerCase().includes(U):!0}).map(B=>c.jsx("button",{type:"button",onClick:()=>{h(se.profession),b(B.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===se.profession&&v===B.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:B.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[B.icon?c.jsx("img",{src:B.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:B.name})]})},B.id)),(se.skills||[]).filter(B=>{const U=(re[se.profession]||"").trim().toLowerCase();return U?String(B.name||"").toLowerCase().includes(U):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},se.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[le&&(()=>{const se=N.skills||[],B=(N.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,icon:_(z.profession,z.professionList,"w-3 h-3")})),U=se.map(z=>({id:z.id,label:z.name,icon:z.icon?c.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),H=[...se.map(z=>({id:z.id,label:z.name,type:"column",icon:z.icon?c.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,type:"player",icon:_(z.profession,z.professionList,"w-3 h-3")}))],te=new Set([...q.map(z=>`column:${z}`),...P.map(z=>`player:${z}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:H,selectedIds:te,onSelect:z=>{z.type==="column"?K(ue=>ue.includes(z.id)?ue.filter(Z=>Z!==z.id):[...ue,z.id]):D(ue=>ue.includes(z.id)?ue.filter(Z=>Z!==z.id):[...ue,z.id])},className:"w-full sm:w-64"}),c.jsx(jr,{options:U,selectedIds:q,onToggle:z=>{K(ue=>ue.includes(z)?ue.filter(Z=>Z!==z):[...ue,z])},onClear:()=>K([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:B,selectedIds:P,onToggle:z=>{D(ue=>ue.includes(z)?ue.filter(Z=>Z!==z):[...ue,z])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:A,onChange:O,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(q.length>0||P.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{K([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),q.map(z=>{var Z;const ue=((Z=se.find(ae=>ae.id===z))==null?void 0:Z.name)||z;return c.jsxs("button",{type:"button",onClick:()=>K(ae=>ae.filter(Ke=>Ke!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ue}),c.jsx("span",{className:"text-gray-400",children:""})]},z)}),P.map(z=>{var Z;const ue=((Z=B.find(ae=>ae.id===z))==null?void 0:Z.label)||z;return c.jsxs("button",{type:"button",onClick:()=>D(ae=>ae.filter(Ke=>Ke!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ue}),c.jsx("span",{className:"text-gray-400",children:""})]},z)})]})]})})(),le?(()=>{var z,ue;const se=N.skills||[],B=q.length>0?se.filter(Z=>q.includes(Z.id)):se,U=P.length>0?(N.playerRows||[]).filter(Z=>P.includes(Z.key)):N.playerRows||[];if(se.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const H=((z=B.find(Z=>Z.id===ve.columnId))==null?void 0:z.id)||((ue=B[0])==null?void 0:ue.id)||"",te=[...U].map(Z=>{const ae={},Ke={};return B.forEach(Ye=>{var Ee;const be=Number(((Ee=Ye.playerCounts)==null?void 0:Ee.get(Z.key))||0),F=A==="perSecond"?be/Math.max(1,Z.totalActiveSeconds||0):be;Ke[Ye.id]=F,ae[Ye.id]=A==="perSecond"?M(F):L(F)}),{row:Z,values:ae,numericValues:Ke}}).sort((Z,ae)=>{const Ke=Z.numericValues[H]??0,Ye=ae.numericValues[H]??0;return(ve.dir==="desc"?Ye-Ke:Ke-Ye)||String(Z.row.displayName||"").localeCompare(String(ae.row.displayName||""))});return c.jsx(Es,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:H,sortDirection:ve.dir,onSortColumn:Z=>{Y(ae=>({columnId:Z,dir:ae.columnId===Z&&ae.dir==="desc"?"asc":"desc"}))},columns:B.map(Z=>({id:Z.id,label:c.jsx(Cr,{name:Z.name,iconUrl:Z.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:te.map((Z,ae)=>({id:`${N.profession}-${Z.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ae+1}),_(Z.row.profession,Z.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Z.row.displayName})]}),values:Z.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_(N.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),S||!C?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(Cr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:S||!C?`${((ne=N.playerRows)==null?void 0:ne.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),S||!C?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("apm"),className:`text-right transition-colors ${G.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",G.key==="apm"?G.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("apmNoAuto"),className:`text-right transition-colors ${G.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",G.key==="apmNoAuto"?G.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),S||!C?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ie.map((se,B)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${B+1}`}),_(se.profession,se.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:se.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(A==="perSecond"?se.aps:se.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(A==="perSecond"?se.apsNoAuto:se.apmNoAuto)})]},`${N.profession}-all-${se.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((se,B)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${B+1}`}),_(se.profession,se.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:se.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(se.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(A==="perSecond"?se.aps||0:se.apm||0))})]},`${N.profession}-${C.id}-${se.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},vse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:v,activePlayerSkillId:b,setActivePlayerSkillId:x,activeClassKey:w,setActiveClassKey:y,expandedClassKey:N,setExpandedClassKey:C,activeClassSkillId:S,setActiveClassSkillId:A,skillSearch:O,setSkillSearch:R,activePlayerBreakdown:M,activePlayerSkill:L,activeClassBreakdown:_,activeClassSkill:G,renderProfessionIcon:ee})=>{const le=d.length,ve=((M==null?void 0:M.skills)||[]).reduce((Z,ae)=>Z+(ae.damage||0),0),Y=(_==null?void 0:_.players)||[],[q,K]=g.useState({key:"down",dir:"desc"}),P=e==="player-breakdown",[D,re]=g.useState([]),[k,W]=g.useState([]),[V,ie]=g.useState({columnId:"",dir:"desc"}),[ne,se]=g.useState({}),[B,U]=g.useState({}),H=(Z,ae)=>{var Ye;if(!ae)return null;const Ke=(Ye=Z.skillMap)==null?void 0:Ye[ae];return Ke||Z.skills.find(be=>be.id===ae)||null},te=P?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,z=g.useMemo(()=>{if(!_||!G)return Y;const Z=[...Y];return Z.sort((ae,Ke)=>{const Ye=H(ae,G.id),be=H(Ke,G.id),F=Number((Ye==null?void 0:Ye.downContribution)||0),Ee=Number((be==null?void 0:be.downContribution)||0),Le=Number((Ye==null?void 0:Ye.damage)||0),wt=Number((be==null?void 0:be.damage)||0),Wt=ae.totalFightMs>0?Le/(ae.totalFightMs/1e3):0,mn=Ke.totalFightMs>0?wt/(Ke.totalFightMs/1e3):0;let Pe=0;return q.key==="down"&&(Pe=F-Ee),q.key==="damage"&&(Pe=Le-wt),q.key==="dps"&&(Pe=Wt-mn),q.dir==="asc"?Pe:-Pe}),Z},[_,Y,G,q]),ue=Z=>{K(ae=>ae.key!==Z?{key:Z,dir:"desc"}:{key:Z,dir:ae.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[le," ",le===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:P?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!P&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(Z=>{const ae=l===Z.id;return c.jsx("button",{type:"button",onClick:()=>u(Z.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${ae?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:Z.label},Z.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:O,onChange:Z=>R(Z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:te,children:(P?"class":l)==="player"?d.map(Z=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ae=h!==Z.key;ae&&(x(null),re([]),W([])),m(Z.key),v(ae?Z.key:p===Z.key?null:Z.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===Z.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:Z.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(Z.profession,Z.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:Z.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[Z.skills.length," skills"]})})]})}),!P&&p===Z.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:ne[Z.key]||"",onChange:ae=>{const Ke=ae.target.value;se(Ye=>({...Ye,[Z.key]:Ke}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),Z.skills.filter(ae=>{const Ke=(ne[Z.key]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).map(ae=>c.jsx("button",{type:"button",onClick:()=>{m(Z.key),x(ae.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===Z.key&&b===ae.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ae.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ae.name})]})},ae.id)),Z.skills.filter(ae=>{const Ke=(ne[Z.key]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Z.key)):f.map(Z=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ae=w!==Z.profession;ae&&(A(null),re([]),W([])),y(Z.profession),C(ae?Z.profession:N===Z.profession?null:Z.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${w===Z.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(Z.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Z.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[Z.players.length,"p"]})})]})}),!P&&N===Z.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:B[Z.profession]||"",onChange:ae=>{const Ke=ae.target.value;U(Ye=>({...Ye,[Z.profession]:Ke}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),Z.skills.filter(ae=>{const Ke=(B[Z.profession]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).map(ae=>c.jsx("button",{type:"button",onClick:()=>{y(Z.profession),A(ae.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${w===Z.profession&&S===ae.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ae.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ae.name})]})},ae.id)),Z.skills.filter(ae=>{const Ke=(B[Z.profession]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Z.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(P?"class":l)==="player"?!M||!P&&!L?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const Z=M.skills||[],ae=d.map(F=>({id:F.key,label:F.displayName||F.key,icon:ee(F.profession,F.professionList,"w-3 h-3")})),Ke=Z.map(F=>({id:F.id,label:F.name,icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ye=[...Z.map(F=>({id:F.id,label:F.name,type:"column",icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(F=>({id:F.key,label:F.displayName||F.key,type:"player",icon:ee(F.profession,F.professionList,"w-3 h-3")}))],be=new Set([...D.map(F=>`column:${F}`),...k.map(F=>`player:${F}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:Ye,selectedIds:be,onSelect:F=>{F.type==="column"?re(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id]):W(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id])},className:"w-full sm:w-64"}),c.jsx(jr,{options:Ke,selectedIds:D,onToggle:F=>{re(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>re([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ae,selectedIds:k,onToggle:F=>{W(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>W([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})})]}),(D.length>0||k.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{re([]),W([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(F=>{var Le;const Ee=((Le=Z.find(wt=>wt.id===F))==null?void 0:Le.name)||F;return c.jsxs("button",{type:"button",onClick:()=>re(wt=>wt.filter(Wt=>Wt!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),k.map(F=>{var Le;const Ee=((Le=ae.find(wt=>wt.id===F))==null?void 0:Le.label)||F;return c.jsxs("button",{type:"button",onClick:()=>W(wt=>wt.filter(Wt=>Wt!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)})]})]})})(),P?(()=>{var F,Ee;const Z=M.skills||[],ae=D.length>0?Z.filter(Le=>D.includes(Le.id)):Z,Ke=k.length>0?d.filter(Le=>k.includes(Le.key)):d,Ye=((F=ae.find(Le=>Le.id===V.columnId))==null?void 0:F.id)||((Ee=ae[0])==null?void 0:Ee.id)||"",be=Ke.map(Le=>{const wt={},Wt={};return ae.forEach(mn=>{const Pe=H(Le,mn.id),rt=Number((Pe==null?void 0:Pe.damage)||0);Wt[mn.id]=rt,wt[mn.id]=kl(rt)}),{player:Le,values:wt,numericValues:Wt}}).sort((Le,wt)=>{const Wt=Le.numericValues[Ye]??0,mn=wt.numericValues[Ye]??0;return(V.dir==="desc"?mn-Wt:Wt-mn)||String(Le.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return c.jsx(Es,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ye,sortDirection:V.dir,onSortColumn:Le=>{ie(wt=>({columnId:Le,dir:wt.columnId===Le&&wt.dir==="desc"?"asc":"desc"}))},columns:ae.map(Le=>({id:Le.id,label:c.jsx(Cr,{name:Le.name,iconUrl:Le.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:be.map((Le,wt)=>({id:`${Le.player.key}-${wt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),ee(Le.player.profession,Le.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Le.player.displayName})]}),values:Le.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(M.profession,M.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:M.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(Cr,{name:(L==null?void 0:L.name)||"",iconUrl:L==null?void 0:L.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[M.skills.length," skills | ",kl(ve)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:kl((L==null?void 0:L.downContribution)||0)},{label:"Total Damage",value:kl((L==null?void 0:L.damage)||0)},{label:"DPS",value:xi(M.totalFightMs>0?((L==null?void 0:L.damage)||0)/(M.totalFightMs/1e3):0,1)}].map(Z=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:Z.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Z.value})]},Z.label))})]})]}):!_||!P&&!G?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const Z=_.skills||[],ae=Y.map(F=>({id:F.key,label:F.displayName||F.key,icon:ee(F.profession,F.professionList,"w-3 h-3")})),Ke=Z.map(F=>({id:F.id,label:F.name,icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ye=[...Z.map(F=>({id:F.id,label:F.name,type:"column",icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4"}):void 0})),...Y.map(F=>({id:F.key,label:F.displayName||F.key,type:"player",icon:ee(F.profession,F.professionList,"w-3 h-3")}))],be=new Set([...D.map(F=>`column:${F}`),...k.map(F=>`player:${F}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:Ye,selectedIds:be,onSelect:F=>{F.type==="column"?re(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id]):W(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id])},className:"w-full sm:w-64"}),c.jsx(jr,{options:Ke,selectedIds:D,onToggle:F=>{re(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>re([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ae,selectedIds:k,onToggle:F=>{W(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>W([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})})]}),(D.length>0||k.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{re([]),W([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(F=>{var Le;const Ee=((Le=Z.find(wt=>wt.id===F))==null?void 0:Le.name)||F;return c.jsxs("button",{type:"button",onClick:()=>re(wt=>wt.filter(Wt=>Wt!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),k.map(F=>{var Le;const Ee=((Le=ae.find(wt=>wt.id===F))==null?void 0:Le.label)||F;return c.jsxs("button",{type:"button",onClick:()=>W(wt=>wt.filter(Wt=>Wt!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)})]})]})})(),P?(()=>{var F,Ee;const Z=_.skills||[],ae=D.length>0?Z.filter(Le=>D.includes(Le.id)):Z,Ke=k.length>0?Y.filter(Le=>k.includes(Le.key)):Y,Ye=((F=ae.find(Le=>Le.id===V.columnId))==null?void 0:F.id)||((Ee=ae[0])==null?void 0:Ee.id)||"",be=Ke.map(Le=>{const wt={},Wt={};return ae.forEach(mn=>{const Pe=H(Le,mn.id),rt=Number((Pe==null?void 0:Pe.damage)||0);Wt[mn.id]=rt,wt[mn.id]=kl(rt)}),{player:Le,values:wt,numericValues:Wt}}).sort((Le,wt)=>{const Wt=Le.numericValues[Ye]??0,mn=wt.numericValues[Ye]??0;return(V.dir==="desc"?mn-Wt:Wt-mn)||String(Le.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return c.jsx(Es,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ye,sortDirection:V.dir,onSortColumn:Le=>{ie(wt=>({columnId:Le,dir:wt.columnId===Le&&wt.dir==="desc"?"asc":"desc"}))},columns:ae.map(Le=>({id:Le.id,label:c.jsx(Cr,{name:Le.name,iconUrl:Le.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:be.map((Le,wt)=>({id:`${Le.player.key}-${wt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),ee(Le.player.profession,Le.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Le.player.displayName})]}),values:Le.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(_.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(Cr,{name:(G==null?void 0:G.name)||"",iconUrl:G==null?void 0:G.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[Y.length," players | ",_.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ue("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:q.key==="down"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ue("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:q.key==="damage"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ue("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:q.key==="dps"?q.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:z.map(Z=>{const ae=H(Z,(G==null?void 0:G.id)||""),Ke=Number((ae==null?void 0:ae.downContribution)||0),Ye=Number((ae==null?void 0:ae.damage)||0),be=Z.totalFightMs>0?Ye/(Z.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(Z.profession,Z.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Z.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:kl(Ke)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:kl(Ye)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xi(be,1)})]},`${_.profession}-${Z.key}`)})})]})]})})]})})]})},bse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,playerSkillBreakdowns:o,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,h]=g.useState("damage"),[m,p]=g.useState(""),[v,b]=g.useState(null),x=A=>Number(f==="damage"?A.damage||0:A.downContribution||0),w=A=>(A.skills||[]).reduce((O,R)=>O+x(R),0),y=g.useMemo(()=>{const A=m.trim().toLowerCase();return[...A?o.filter(R=>String(R.displayName||"").toLowerCase().includes(A)||String(R.account||"").toLowerCase().includes(A)||String(R.profession||"").toLowerCase().includes(A)):o].sort((R,M)=>{const L=w(M)-w(R);return L!==0?L:String(R.displayName||"").localeCompare(String(M.displayName||""))})},[o,m,f]),N=g.useMemo(()=>v&&y.find(A=>A.key===v)||null,[y,v]),C=g.useMemo(()=>N?[...N.skills||[]].filter(A=>x(A)>0).sort((A,O)=>x(O)-x(A)).map(A=>({...A,value:x(A)})):[],[N,f]),S=g.useMemo(()=>N?w(N):0,[N,f]);return g.useEffect(()=>{if(y.length===0){v!==null&&b(null);return}v&&!y.some(A=>A.key===v)&&b(null)},[y,v]),c.jsxs("div",{id:u,"data-section-visible":i(u),"data-section-first":a(u),className:s(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Sk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(An,{value:f,onChange:A=>h(A),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),o.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:A=>p(A.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:y.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):y.map(A=>{const O=v===A.key;return c.jsx("button",{type:"button",onClick:()=>b(A.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${O?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:A.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(A.skills||[]).length," ",(A.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:xi(w(A),0)})]})},A.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:N?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(N.profession,N.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:N.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",C.length," ",C.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:C.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):C.map((A,O)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(Cr,{name:A.name,iconUrl:A.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xi(Number(A.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:S>0?`${xi(Number(A.value||0)/S*100,1)}%`:"0.0%"})]},`${A.id}-${O}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},yse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:h,setTimelineScope:m,playerFilter:p,setPlayerFilter:v,players:b,selectedPlayerKey:x,setSelectedPlayerKey:w,selectedPlayer:y,chartData:N,chartMaxY:C,selectedFightIndex:S,setSelectedFightIndex:A,drilldownTitle:O,drilldownData:R,formatWithCommas:M,renderProfessionIcon:L})=>{const _="boon-timeline",G=e===_,ee=y!=null&&y.profession&&y.profession!=="All"?Io(y.profession):"#22d3ee",le=h==="selfBuffs"?"Self":h==="groupBuffs"?"Group":h==="squadBuffs"?"Squad":"All",ve=K=>String(K||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=N.reduce((K,P)=>!K||P.total>K.total?P:K,null),q=K=>{if(!Number.isFinite(K)||K<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(K))}catch{return""}};return c.jsxs("div",{id:_,"data-section-visible":i(_),"data-section-first":a(_),className:s(_,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${G?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:G?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Tk,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>G?r():n(_),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${G?"absolute top-2 right-2 md:static":""}`,"aria-label":G?"Close Boon Timeline":"Expand Boon Timeline",title:G?"Close":"Expand",children:G?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:K=>l(K.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(An,{value:h,onChange:K=>m(K),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(K=>{const P=d===K.id;return c.jsxs("button",{type:"button",onClick:()=>f(K.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${P?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[K.icon?c.jsx("img",{src:K.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(zc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:K.name})]},K.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:p,onChange:K=>v(K.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:b.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:b.map(K=>{const P=x===K.key;return c.jsx("button",{type:"button",onClick:()=>w(K.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${P?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K.key==="__all__"?c.jsx(zc,{className:"w-3.5 h-3.5 text-cyan-300"}):L(K.profession,K.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:K.displayName}),K.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:K.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[K.logs," ",K.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:M((K.total||0)/1e3,0)})]})},K.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",le," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[N.length," ",N.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||N.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:N,onClick:K=>{const P=Number(K==null?void 0:K.activeTooltipIndex);Number.isFinite(P)&&A(S===P?null:P)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,C)],tickFormatter:K=>M(K/1e3,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(K,P)=>[M(Number(K||0)/1e3,0),String(P||"")],labelFormatter:(K,P)=>{var re;const D=(re=P==null?void 0:P[0])==null?void 0:re.payload;return ve(String((D==null?void 0:D.fullLabel)||""))}}),c.jsx(ua,{type:"monotone",dataKey:"total",name:y.displayName,stroke:ee,strokeWidth:3,dot:K=>{var re;const P=Number((re=K==null?void 0:K.payload)==null?void 0:re.index);if(!Number.isFinite(P))return null;const D=S===P;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:k=>{k.stopPropagation(),A(D?null:P)},children:[c.jsx("circle",{cx:K.cx,cy:K.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:K.cx,cy:K.cy,r:D?4:3,fill:ee,stroke:D?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:D?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ua,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(zc,{className:"w-4 h-4 text-cyan-300"}):L(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:M(Number((Y==null?void 0:Y.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const K=ve((Y==null?void 0:Y.fullLabel)||"N/A"),P=q(Number((Y==null?void 0:Y.timestamp)||0));return P?`${P} - ${K}`:K})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>A(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:R.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:R,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:K=>M(K/1e3,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:K=>[M(Number(K||0)/1e3,0),"Generation"],labelFormatter:K=>String(K||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Generation",stroke:ee,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},wse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:h,setPlayerFilter:m,players:p,selectedPlayerKey:v,setSelectedPlayerKey:b,selectedPlayer:x,chartData:w,chartMaxY:y,selectedFightIndex:N,setSelectedFightIndex:C,drilldownTitle:S,drilldownData:A,showStackCapLine:O=!1,formatWithCommas:R,renderProfessionIcon:M})=>{const L="boon-uptime",_=e===L,G=x!=null&&x.profession&&x.profession!=="All"?Io(x.profession):"#f59e0b",ee=P=>String(P||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),le=w.reduce((P,D)=>!P||D.peak>P.peak?D:P,null),ve=O?Math.ceil(Math.max(1,y)+3):Math.max(1,y),Y=Math.max(1,...A.map(P=>Math.max(0,Number((P==null?void 0:P.value)||0))),...O?[25]:[]),q=O?Math.ceil(Math.max(1,Y)+3):Math.max(1,Y),K=P=>{if(!Number.isFinite(P)||P<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(P))}catch{return""}};return c.jsxs("div",{id:L,"data-section-visible":i(L),"data-section-first":a(L),className:s(L,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${_?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:_?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(zf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>_?r():n(L),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${_?"absolute top-2 right-2 md:static":""}`,"aria-label":_?"Close Boon Uptime":"Expand Boon Uptime",title:_?"Close":"Expand",children:_?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:P=>l(P.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(P=>{const D=d===P.id;return c.jsxs("button",{type:"button",onClick:()=>f(P.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${D?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[P.icon?c.jsx("img",{src:P.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(zc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:P.name})]},P.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:h,onChange:P=>m(P.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:p.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:p.map(P=>{const D=v===P.key;return c.jsx("button",{type:"button",onClick:()=>b(P.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${D?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P.key==="__all__"?c.jsx(zf,{className:"w-3.5 h-3.5 text-amber-300"}):M(P.profession,P.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:P.displayName}),P.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:P.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[P.logs," ",P.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:R(P.peak||0,0)})]})},P.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Per Fight Peak Stacks"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[w.length," ",w.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!x||w.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:w,onClick:P=>{const D=Number(P==null?void 0:P.activeTooltipIndex);Number.isFinite(D)&&C(N===D?null:D)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,ve]}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(P,D)=>[R(Number(P||0),0),String(D||"")],labelFormatter:(P,D)=>{var k;const re=(k=D==null?void 0:D[0])==null?void 0:k.payload;return ee(String((re==null?void 0:re.fullLabel)||""))}}),c.jsx(ua,{type:"monotone",dataKey:"peak",name:x.displayName,stroke:G,strokeWidth:3,dot:P=>{var k;const D=Number((k=P==null?void 0:P.payload)==null?void 0:k.index);if(!Number.isFinite(D))return null;const re=N===D;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:W=>{W.stopPropagation(),C(re?null:D)},children:[c.jsx("circle",{cx:P.cx,cy:P.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:P.cx,cy:P.cy,r:re?4:3,fill:G,stroke:re?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:re?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),O&&c.jsx(Gw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),x&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[x.key==="__all__"?c.jsx(zf,{className:"w-4 h-4 text-amber-300"}):M(x.profession,x.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:x.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Stacks"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:R(Number((le==null?void 0:le.peak)||0),0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const P=ee((le==null?void 0:le.fullLabel)||"N/A"),D=K(Number((le==null?void 0:le.timestamp)||0));return D?`${D} - ${P}`:P})()})]})]}),x&&N!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:S}),c.jsx("button",{type:"button",onClick:()=>C(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:A.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:A,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,q]}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(P,D)=>[R(Number(P||0),0),String(D||"")],labelFormatter:P=>String(P||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Selected",stroke:G,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),O&&c.jsx(Gw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},M$=({className:e})=>c.jsx(g8,{className:e,style:{transform:"rotate(45deg)"}}),il=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Is=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),kse=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:x,sidebarListClass:w})=>{var P;const[y,N]=g.useState({key:"value",dir:"desc"}),[C,S]=g.useState({columnId:((P=t[0])==null?void 0:P.id)||"value",dir:"desc"}),A=f==="offense-detailed",[O,R]=g.useState([]),[M,L]=g.useState([]),_=t.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),G=t.map(D=>({id:D.id,label:D.label})),ee=G.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),ve=O.length>0?t.filter(D=>O.includes(D.id)):t,Y=Array.from(new Map(e.offensePlayers.map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:d(D.profession,D.professionList,"w-3 h-3")})),q=new Set([...O.map(D=>`column:${D}`),...M.map(D=>`player:${D}`)]),K=D=>{N(re=>({key:D,dir:re.key===D&&re.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":b("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(M$,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...G.map(D=>({...D,type:"column"})),...Y.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?R(re=>re.includes(D.id)?re.filter(k=>k!==D.id):[...re,D.id]):L(re=>re.includes(D.id)?re.filter(k=>k!==D.id):[...re,D.id])},selectedIds:q,className:"w-full sm:w-64"}),c.jsx(jr,{options:ee,selectedIds:O,onToggle:D=>{R(re=>re.includes(D)?re.filter(k=>k!==D):[...re,D])},onClear:()=>R([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:Y,selectedIds:M,onToggle:D=>{L(re=>re.includes(D)?re.filter(k=>k!==D):[...re,D])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||M.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{R([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(D=>{var k;const re=((k=G.find(W=>W.id===D))==null?void 0:k.label)||D;return c.jsxs("button",{type:"button",onClick:()=>R(W=>W.filter(V=>V!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:re}),c.jsx("span",{className:"text-gray-400",children:""})]},D)}),M.map(D=>c.jsxs("button",{type:"button",onClick:()=>L(re=>re.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ie,ne;const D=se=>Math.max(1,(se.totalFightMs||0)/1e3),re=(se,B,U)=>{var H,te,z,ue,Z;if(B==="downContributionPercent"){const ae=((H=se.offenseTotals)==null?void 0:H.downContribution)||0,Ke=((te=se.offenseTotals)==null?void 0:te.damage)||0;return Ke>0?ae/Ke*100:0}if(U.isRate){const ae=((z=se.offenseRateWeights)==null?void 0:z[B])||0,Ke=((ue=se.offenseTotals)==null?void 0:ue[B])||0;return ae>0?Ke/ae*100:0}return((Z=se.offenseTotals)==null?void 0:Z[B])||0},k=(se,B)=>{const U=n&&!B.isPercent&&o==="total"?0:2,H=u(se,U);return B.isPercent?`${H}%`:H},W=((ie=ve.find(se=>se.id===C.columnId))==null?void 0:ie.id)||((ne=ve[0])==null?void 0:ne.id)||"",V=[...e.offensePlayers].filter(se=>M.length===0||M.includes(se.account)).map(se=>{const B={},U={};return ve.forEach(H=>{const te=re(se,H.id,H),z=o==="total"||H.isPercent||H.isRate?te:o==="per1s"?te/D(se):te*60/D(se);U[H.id]=z,B[H.id]=k(z,H)}),{row:se,values:B,numericValues:U}}).sort((se,B)=>{const U=se.numericValues[W]??0,H=B.numericValues[W]??0;return(C.dir==="desc"?H-U:U-H)||String(se.row.account||"").localeCompare(String(B.row.account||""))});return c.jsx(Es,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:W,sortDirection:C.dir,onSortColumn:se=>{S(B=>({columnId:se,dir:B.columnId===se&&B.dir==="desc"?"asc":"desc"}))},columns:ve.map(se=>({id:se.id,label:se.label,align:"right",minWidth:90})),rows:V.map((se,B)=>({id:`${se.row.account}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),d(se.row.profession,se.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.row.account})]}),values:se.values}))})})()})]}):c.jsx(il,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:D=>i(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${w} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:_.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):_.map(D=>c.jsx("button",{onClick:()=>s(D.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===D.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:D.label},D.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const D=t.find(ie=>ie.id===a)||t[0],re=ie=>Math.max(1,(ie.totalFightMs||0)/1e3),k=ie=>{var ne,se,B,U,H;if(D.id==="downContributionPercent"){const te=((ne=ie.offenseTotals)==null?void 0:ne.downContribution)||0,z=((se=ie.offenseTotals)==null?void 0:se.damage)||0;return z>0?te/z*100:0}if(D.isRate){const te=((B=ie.offenseRateWeights)==null?void 0:B[D.id])||0,z=((U=ie.offenseTotals)==null?void 0:U[D.id])||0;return te>0?z/te*100:0}return((H=ie.offenseTotals)==null?void 0:H[D.id])||0},W=ie=>{const ne=n&&!D.isPercent&&o==="total"?0:2,se=u(ie,ne);return D.isPercent?`${se}%`:se},V=[...e.offensePlayers].map(ie=>({...ie,total:k(ie),per1s:D.isPercent||D.isRate?k(ie):k(ie)/re(ie),per60s:D.isPercent||D.isRate?k(ie):k(ie)*60/re(ie)})).sort((ie,ne)=>{const se=y.key==="fightTime"?Number(ie.totalFightMs||0):Number(o==="total"?ie.total:o==="per1s"?ie.per1s:ie.per60s),B=y.key==="fightTime"?Number(ne.totalFightMs||0):Number(o==="total"?ne.total:o==="per1s"?ne.per1s:ne.per60s);return(y.dir==="desc"?B-se:se-B)||ie.account.localeCompare(ne.account)});return c.jsx(Is,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(An,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>K("value"),className:`text-right transition-colors ${y.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",y.key==="value"?y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>K("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:V.map((ie,ne)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ne+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ie.profession,ie.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ie.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const se=o==="total"?ie.total:o==="per1s"?ie.per1s:ie.per60s;return W(se)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ie.totalFightMs?`${(ie.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${D.id}-${ie.account}-${ne}`))})})})()})})]})},Sse=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var P;const C=m==="conditions-outgoing",[S,A]=g.useState([]),[O,R]=g.useState([]),[M,L]=g.useState({columnId:"all",dir:"desc"}),_=D=>{if(!D)return 0;if(s!=="outgoing"){const V=Number(D.applicationsFromUptime);return Number.isFinite(V)&&V>0?V:Number(D.applications||0)}const re=Number(D.applicationsFromUptime);if(Number.isFinite(re)&&re>0)return re;const k=Number(D.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const W=Number(D.applicationsFromBuffs);return Number.isFinite(W)&&W>0?W:Number(D.applications||0)},G=[...e||[]].sort((D,re)=>(re.damage||0)-(D.damage||0)),ee=G.filter(D=>D.name.toLowerCase().includes(n.trim().toLowerCase())),le=ee.map(D=>({id:D.name,label:D.name,icon:D.icon?c.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Y=S.length>0?G.filter(D=>S.includes(D.name)):G,q=Array.from(new Map((t||[]).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:h(D.profession,D.professionList,"w-3 h-3")})),K=new Set([...S.map(D=>`column:${D}`),...O.map(D=>`player:${D}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":w("conditions-outgoing"),className:y("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(lx,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?b():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e&&e.length>0?C?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...G.map(D=>({id:D.name,label:D.name,type:"column"})),...q.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?A(re=>re.includes(D.id)?re.filter(k=>k!==D.id):[...re,D.id]):R(re=>re.includes(D.id)?re.filter(k=>k!==D.id):[...re,D.id])},selectedIds:K,className:"w-full sm:w-64"}),c.jsx(jr,{options:le,selectedIds:S,onToggle:D=>{A(re=>re.includes(D)?re.filter(k=>k!==D):[...re,D])},onClear:()=>A([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:q,selectedIds:O,onToggle:D=>{R(re=>re.includes(D)?re.filter(k=>k!==D):[...re,D])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(An,{value:u.key,onChange:D=>d({key:D,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const D=u.key,re=[{id:"all",label:"All Conditions",icon:null},...Y],k=(t||[]).filter(ie=>O.length===0||O.includes(ie.account)).map(ie=>{const ne=ie.conditions||{},se={},B={};return re.forEach(U=>{if(U.id==="all"||U.name==="All Conditions"){const z=Object.values(ne).reduce((Z,ae)=>{const Ke=_(ae);return Z.applications+=Number(Ke||0),Z.damage+=Number((ae==null?void 0:ae.damage)||0),Z},{applications:0,damage:0}),ue=D==="applications"?z.applications:z.damage;B.all=ue||0,se.all=Math.round(ue||0).toLocaleString();return}const H=ne[U.name],te=D==="applications"?_(H):Number((H==null?void 0:H.damage)||0);B[U.name]=Number(te||0),se[U.name]=Math.round(te||0).toLocaleString()}),{player:ie,values:se,numericValues:B}}).filter(ie=>Object.values(ie.values).some(ne=>ne!=="0")),W=["all",...Y.map(ie=>ie.name)].includes(M.columnId)?M.columnId:"all",V=[...k].sort((ie,ne)=>{const se=ie.numericValues[W]??0,B=ne.numericValues[W]??0;return(M.dir==="desc"?B-se:se-B)||String(ie.player.account||"").localeCompare(String(ne.player.account||""))});return c.jsx(Es,{title:"Conditions - Dense View",subtitle:D==="applications"?"Applications":"Damage",sortColumnId:W,sortDirection:M.dir,onSortColumn:ie=>{L(ne=>({columnId:ie,dir:ne.columnId===ie&&ne.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...Y.map(ie=>({id:ie.name,label:c.jsx(Cr,{name:ie.name,iconUrl:ie.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:V.map((ie,ne)=>({id:`${ie.player.account}-${ne}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),h(ie.player.profession,ie.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ie.player.account})]}),values:ie.values}))})})()}),(S.length>0||O.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{A([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),S.map(D=>c.jsxs("button",{type:"button",onClick:()=>A(re=>re.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D)),O.map(D=>c.jsxs("button",{type:"button",onClick:()=>R(re=>re.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}):c.jsx(il,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:D=>r(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(D=>c.jsx("button",{type:"button",onClick:()=>a(D.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:D.name,iconUrl:D.icon,iconClassName:"h-5 w-5"})},D.name))]})})]}),content:c.jsx(Is,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":c.jsx(Cr,{name:i,iconUrl:(P=e.find(D=>D.name===i))==null?void 0:P.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(An,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const re=(t||[]).map(k=>{const W=k.conditions||{};if(i==="all"){const ie=Object.values(W).reduce((ne,se)=>{const B=_(se);return ne.applications+=Number(B||0),ne.damage+=Number((se==null?void 0:se.damage)||0),ne},{applications:0,damage:0});return{...k,applications:ie.applications,damage:ie.damage}}const V=W[i];return{...k,applications:_(V),damage:Number((V==null?void 0:V.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,W)=>{const V=u.key==="applications"?k.applications||0:k.damage||0,ie=u.key==="applications"?W.applications||0:W.damage||0,ne=u.dir==="desc"?ie-V:V-ie;if(ne!==0)return ne;const se=u.key==="applications"?(W.damage||0)-(k.damage||0):(W.applications||0)-(k.applications||0);return se!==0?se:String(k.account||"").localeCompare(String(W.account||""))});return re.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):re.map((k,W)=>{var z;const V=k.conditions||{};let ie={};i==="all"?Object.values(V).forEach(ue=>{const Z=(ue==null?void 0:ue.skills)||{};Object.values(Z).forEach(ae=>{const Ke=(ae==null?void 0:ae.name)||"Unknown",Ye=Number((ae==null?void 0:ae.hits)||0),be=Number((ae==null?void 0:ae.damage)||0);if((!Number.isFinite(Ye)||Ye<=0)&&(!Number.isFinite(be)||be<=0))return;const F=ie[Ke]||{name:Ke,hits:0,damage:0,icon:ae==null?void 0:ae.icon};F.hits+=Number.isFinite(Ye)?Ye:0,F.damage+=Number.isFinite(be)?be:0,!F.icon&&(ae!=null&&ae.icon)&&(F.icon=ae.icon),ie[Ke]=F})}):ie=((z=V[i])==null?void 0:z.skills)||{};const ne=Object.values(ie).filter(ue=>Number.isFinite(ue.hits)&&ue.hits>0).sort((ue,Z)=>Z.hits-ue.hits||ue.name.localeCompare(Z.name)),se=Object.values(ie).filter(ue=>Number.isFinite(ue.damage)&&ue.damage>0).sort((ue,Z)=>Z.damage-ue.damage||ue.name.localeCompare(Z.name)),B=i==="all"&&ne.length>0,U=i==="all"&&se.length>0,H=Math.round(k.applications||0).toLocaleString(),te=Math.round(k.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B?c.jsx(ZD,{value:H,label:"Condition Sources",items:ne.map(ue=>({name:ue.name,iconUrl:ue.icon,value:Math.round(ue.hits).toLocaleString()})),className:"justify-end"}):H}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:U?c.jsx(ZD,{value:te,label:"Condition Damage Sources",items:se.map(ue=>({name:ue.name,iconUrl:ue.icon,value:Math.round(ue.damage).toLocaleString()})),className:"justify-end"}):te}):null]},`${k.account}-${W}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},Nse=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:v,expandedSectionClosing:b,openExpandedSection:x,closeExpandedSection:w,isSectionVisible:y,isFirstVisibleSection:N,sectionClass:C,sidebarListClass:S})=>{const[A,O]=g.useState({key:"value",dir:"desc"}),[R,M]=g.useState({columnId:"",dir:"desc"}),L=v==="boon-output",[_,G]=g.useState([]),[ee,le]=g.useState([]),ve=e.boonTables||[],q=_.length>0?ve.filter(k=>_.includes(k.id)):ve,K=l.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),P=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),D=new Set([..._.map(k=>`column:${k}`),...ee.map(k=>`player:${k}`)]),re=k=>{O(W=>({key:k,dir:W.key===k&&W.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":y("boon-output"),"data-section-first":N("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${b?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(zc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>v==="boon-output"?w():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):L?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...ve.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?G(W=>W.includes(k.id)?W.filter(V=>V!==k.id):[...W,k.id]):le(W=>W.includes(k.id)?W.filter(V=>V!==k.id):[...W,k.id])},selectedIds:D,className:"w-full sm:w-64"}),c.jsx(jr,{options:K,selectedIds:_,onToggle:k=>{G(W=>W.includes(k)?W.filter(V=>V!==k):[...W,k])},onClear:()=>G([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:P,selectedIds:ee,onToggle:k=>{le(W=>W.includes(k)?W.filter(V=>V!==k):[...W,k])},onClear:()=>le([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(An,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||ee.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{G([]),le([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(k=>{var V;const W=((V=ve.find(ie=>ie.id===k))==null?void 0:V.name)||k;return c.jsxs("button",{type:"button",onClick:()=>G(ie=>ie.filter(ne=>ne!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),ee.map(k=>c.jsxs("button",{type:"button",onClick:()=>le(W=>W.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ve.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var se,B;const k=q,W=((se=k.find(U=>U.id===R.columnId))==null?void 0:se.id)||(a&&k.some(U=>U.id===a)?a:void 0)||((B=k[0])==null?void 0:B.id)||"",V=new Map,ie=new Map;k.forEach(U=>{const H=new Map;U.rows.forEach(te=>{const z=te.account||te.name||te.id;z&&(H.set(z,te),ie.has(z)||ie.set(z,te))}),V.set(U.id,H)});const ne=Array.from(ie.entries()).filter(([U])=>ee.length===0||ee.includes(String(U))).map(([U,H])=>{const te={};return k.forEach(z=>{var Z;const ue=(Z=V.get(z.id))==null?void 0:Z.get(U);te[z.id]=ue?f(ue,t,z.stacking,r,{roundCountStats:p}):"-"}),{key:U,row:H,values:te}}).sort((U,H)=>{var Ye,be;if(!W)return String(U.key).localeCompare(String(H.key));const te=k.find(F=>F.id===W),z=te?(Ye=V.get(te.id))==null?void 0:Ye.get(U.key):null,ue=te?(be=V.get(te.id))==null?void 0:be.get(H.key):null,Z=z?h(z,t,te==null?void 0:te.stacking,r):0,ae=ue?h(ue,t,te==null?void 0:te.stacking,r):0;return(R.dir==="desc"?ae-Z:Z-ae)||String(U.key).localeCompare(String(H.key))});return c.jsx(Es,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:W,sortDirection:R.dir,onSortColumn:U=>{M(H=>({columnId:U,dir:H.columnId===U&&H.dir==="desc"?"asc":"desc"}))},columns:k.map(U=>({id:U.id,label:c.jsx(Cr,{name:U.name,iconUrl:U.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((U,H)=>({id:`${U.key}-${H}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),m(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.row.account||U.row.name||U.key})]}),values:U.values}))})})()})]}):c.jsx(il,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>c.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?c.jsx(Is,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(Cr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(An,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(An,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...o.rows].sort((k,W)=>(()=>{const V=A.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),ie=A.key==="fightTime"?Number(W.activeTimeMs||0):h(W,t,o.stacking,r);return(A.dir==="desc"?ie-V:V-ie)||String(k.account||"").localeCompare(String(W.account||""))})()).map((k,W)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${W}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Cse=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:x,sidebarListClass:w})=>{var W;const[y,N]=g.useState({key:"value",dir:"desc"}),[C,S]=g.useState("combined"),[A,O]=g.useState({columnId:((W=t[0])==null?void 0:W.id)||"value",dir:"desc"}),R=f==="defense-detailed",[M,L]=g.useState([]),[_,G]=g.useState([]),ee=t.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(V=>({id:V.id,label:V.label})),ve=le.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),q=M.length>0?t.filter(V=>M.includes(V.id)):t,K=Array.from(new Map(e.defensePlayers.map(V=>[V.account,V])).values()).map(V=>({id:V.account,label:V.account,icon:d(V.profession,V.professionList,"w-3 h-3")})),P=new Set([...M.map(V=>`column:${V}`),..._.map(V=>`player:${V}`)]),D=V=>{N(ie=>({key:V,dir:ie.key===V&&ie.dir==="desc"?"asc":"desc"}))},re=V=>V==="minionDamageTaken",k=(V,ie)=>ie==="combined"?V.map(ne=>({...ne,minionList:Object.entries((ne==null?void 0:ne.minionDamageTakenByMinion)||{}).filter(([,se])=>Number(se||0)>0).sort((se,B)=>Number(B[1]||0)-Number(se[1]||0)).map(([se])=>String(se))})):V.flatMap(ne=>{const se=Object.entries((ne==null?void 0:ne.minionDamageTakenByMinion)||{}).filter(([,B])=>Number(B||0)>0).sort((B,U)=>Number(U[1]||0)-Number(B[1]||0));return se.length===0?[]:se.map(([B,U])=>({...ne,minionName:String(B),defenseTotals:{...ne.defenseTotals||{},minionDamageTaken:Number(U||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":b("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):R?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...le.map(V=>({...V,type:"column"})),...K.map(V=>({...V,type:"player"}))],onSelect:V=>{V.type==="column"?L(ie=>ie.includes(V.id)?ie.filter(ne=>ne!==V.id):[...ie,V.id]):G(ie=>ie.includes(V.id)?ie.filter(ne=>ne!==V.id):[...ie,V.id])},selectedIds:P,className:"w-full sm:w-64"}),c.jsx(jr,{options:ve,selectedIds:M,onToggle:V=>{L(ie=>ie.includes(V)?ie.filter(ne=>ne!==V):[...ie,V])},onClear:()=>L([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:K,selectedIds:_,onToggle:V=>{G(ie=>ie.includes(V)?ie.filter(ne=>ne!==V):[...ie,V])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),q.some(V=>re(V.id))&&c.jsx(An,{value:C,onChange:V=>S(V),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||_.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{L([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(V=>{var ne;const ie=((ne=le.find(se=>se.id===V))==null?void 0:ne.label)||V;return c.jsxs("button",{type:"button",onClick:()=>L(se=>se.filter(B=>B!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ie}),c.jsx("span",{className:"text-gray-400",children:""})]},V)}),_.map(V=>c.jsxs("button",{type:"button",onClick:()=>G(ie=>ie.filter(ne=>ne!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:V}),c.jsx("span",{className:"text-gray-400",children:""})]},V))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var H,te;const V=z=>Math.max(1,(z.activeMs||0)/1e3),ie=(z,ue)=>{const Z=ue.isPercent,Ke=u(z,l&&!Z&&s==="total"?0:2);return Z?`${Ke}%`:Ke},ne=((H=q.find(z=>z.id===A.columnId))==null?void 0:H.id)||((te=q[0])==null?void 0:te.id)||"",se=[...e.defensePlayers].filter(z=>_.length===0||_.includes(z.account)),U=[...q.some(z=>re(z.id))?k(se,C):se].map(z=>{const ue={},Z={};return q.forEach(ae=>{var F;const Ke=((F=z.defenseTotals)==null?void 0:F[ae.id])||0,Ye=ae.isPercent,be=s==="total"||Ye?Ke:s==="per1s"?Ke/V(z):Ke*60/V(z);Z[ae.id]=be,ue[ae.id]=ie(be,ae)}),{row:z,values:ue,numericValues:Z}}).sort((z,ue)=>{const Z=z.numericValues[ne]??0,ae=ue.numericValues[ne]??0;return(A.dir==="desc"?ae-Z:Z-ae)||String(z.row.account||"").localeCompare(String(ue.row.account||""))});return c.jsx(Es,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:ne,sortDirection:A.dir,onSortColumn:z=>{O(ue=>({columnId:z,dir:ue.columnId===z&&ue.dir==="desc"?"asc":"desc"}))},columns:q.map(z=>({id:z.id,label:z.label,align:"right",minWidth:90})),rows:U.map((z,ue)=>({id:`${z.row.account}-${ue}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ue+1}),d(z.row.profession,z.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:z.row.account}),C==="combined"&&Array.isArray(z.row.minionList)&&z.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:z.row.minionList.join(", ")}),C==="separate"&&z.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:z.row.minionName})]})]}),values:z.values}))})})()})]}):c.jsx(il,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:V=>r(V.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${w} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(V=>c.jsx("button",{onClick:()=>a(V.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===V.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:V.label},V.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const V=t.find(U=>U.id===i)||t[0],ie=U=>Math.max(1,(U.activeMs||0)/1e3),ne=[...e.defensePlayers],B=[...re(V.id)?k(ne,C):ne].map(U=>{var H,te,z;return{...U,total:((H=U.defenseTotals)==null?void 0:H[V.id])||0,per1s:(((te=U.defenseTotals)==null?void 0:te[V.id])||0)/ie(U),per60s:(((z=U.defenseTotals)==null?void 0:z[V.id])||0)*60/ie(U)}}).sort((U,H)=>{const te=y.key==="fightTime"?Number(U.activeMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s),z=y.key==="fightTime"?Number(H.activeMs||0):Number(s==="total"?H.total:s==="per1s"?H.per1s:H.per60s);return(y.dir==="desc"?z-te:te-z)||U.account.localeCompare(H.account)});return c.jsx(Is,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:V.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${re(V.id)?"justify-between":"justify-end"}`,children:[re(V.id)&&c.jsx(An,{value:C,onChange:U=>S(U),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${y.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",y.key==="value"?y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:B.map((U,H)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(U.profession,U.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:U.account}),re(V.id)&&C==="combined"&&Array.isArray(U.minionList)&&U.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:U.minionList.join(", ")}),re(V.id)&&C==="separate"&&U.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:U.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const te=s==="total"?U.total:s==="per1s"?U.per1s:U.per60s;return u(te,l&&s==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:U.activeMs?`${(U.activeMs/1e3).toFixed(1)}s`:"-"})]},`${V.id}-${U.account}-${H}`))})})})()})})]})},jse=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var H,te;const C=((H=t.find(z=>z.id==="totalMitigation"))==null?void 0:H.id)||((te=t[0])==null?void 0:te.id)||"totalMitigation",[S,A]=g.useState({key:"value",dir:"desc"}),[O,R]=g.useState({columnId:C,dir:"desc"}),M=m==="defense-mitigation",[L,_]=g.useState([]),[G,ee]=g.useState([]),[le,ve]=g.useState([]),Y=e.damageMitigationPlayers||[],q=e.damageMitigationMinions||[],K=l==="minions"?q:Y,P=Y.length>0||q.length>0,D=t.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),re=t.map(z=>({id:z.id,label:z.label})),k=re.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),V=L.length>0?t.filter(z=>L.includes(z.id)):t,ie=Array.from(new Map(K.map(z=>[z.account,z])).values()).map(z=>({id:z.account,label:z.account,icon:h(z.profession,z.professionList,"w-3 h-3")})),ne=Array.from(new Map(q.map(z=>[z.minion,z])).values()).filter(z=>z==null?void 0:z.minion).map(z=>({id:String(z.minion),label:String(z.minion)})),se=new Set([...L.map(z=>`column:${z}`),...G.map(z=>`player:${z}`)]),B=z=>{A(ue=>({key:z,dir:ue.key===z&&ue.dir==="desc"?"asc":"desc"}))},U=z=>f(z,d&&s==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":w("defense-mitigation"),className:y("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?b():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),P?M?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...re.map(z=>({...z,type:"column"})),...ie.map(z=>({...z,type:"player"}))],onSelect:z=>{z.type==="column"?_(ue=>ue.includes(z.id)?ue.filter(Z=>Z!==z.id):[...ue,z.id]):ee(ue=>ue.includes(z.id)?ue.filter(Z=>Z!==z.id):[...ue,z.id])},selectedIds:se,className:"w-full sm:w-64"}),c.jsx(jr,{options:k,selectedIds:L,onToggle:z=>{_(ue=>ue.includes(z)?ue.filter(Z=>Z!==z):[...ue,z])},onClear:()=>_([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ie,selectedIds:G,onToggle:z=>{ee(ue=>ue.includes(z)?ue.filter(Z=>Z!==z):[...ue,z])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(jr,{options:ne,selectedIds:le,onToggle:z=>{ve(ue=>ue.includes(z)?ue.filter(Z=>Z!==z):[...ue,z])},onClear:()=>ve([]),buttonLabel:"Minions"}),c.jsx(An,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||G.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{_([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(z=>{var Z;const ue=((Z=re.find(ae=>ae.id===z))==null?void 0:Z.label)||z;return c.jsxs("button",{type:"button",onClick:()=>_(ae=>ae.filter(Ke=>Ke!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ue}),c.jsx("span",{className:"text-gray-400",children:""})]},z)}),G.map(z=>c.jsxs("button",{type:"button",onClick:()=>ee(ue=>ue.filter(Z=>Z!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:z}),c.jsx("span",{className:"text-gray-400",children:""})]},z))]}),l==="minions"&&le.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>ve([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),le.map(z=>c.jsxs("button",{type:"button",onClick:()=>ve(ue=>ue.filter(Z=>Z!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:z}),c.jsx("span",{className:"text-gray-400",children:""})]},z))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:K.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):D.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ae,Ke;const z=Ye=>Math.max(1,(Ye.activeMs||0)/1e3),ue=((ae=V.find(Ye=>Ye.id===O.columnId))==null?void 0:ae.id)||((Ke=V[0])==null?void 0:Ke.id)||"",Z=[...K].filter(Ye=>G.length===0||G.includes(Ye.account)).filter(Ye=>l!=="minions"||!le.length?!0:le.includes(String(Ye.minion||""))).map(Ye=>{const be={},F={};return V.forEach(Ee=>{var Wt;const Le=((Wt=Ye.mitigationTotals)==null?void 0:Wt[Ee.id])||0,wt=s==="total"?Le:s==="per1s"?Le/z(Ye):Le*60/z(Ye);F[Ee.id]=wt,be[Ee.id]=U(wt)}),{row:Ye,values:be,numericValues:F}}).sort((Ye,be)=>{const F=Ye.numericValues[ue]??0,Ee=be.numericValues[ue]??0;return(O.dir==="desc"?Ee-F:F-Ee)||String(Ye.row.account||"").localeCompare(String(be.row.account||""))});return c.jsx(Es,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:ue,sortDirection:O.dir,onSortColumn:Ye=>{R(be=>({columnId:Ye,dir:be.columnId===Ye&&be.dir==="desc"?"asc":"desc"}))},columns:V.map(Ye=>({id:Ye.id,label:Ye.label,align:"right",minWidth:90})),rows:Z.map((Ye,be)=>({id:`${Ye.row.account}-${Ye.row.minion||"player"}-${be}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:be+1}),h(Ye.row.profession,Ye.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Ye.row.account}),Ye.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ye.row.minion})]})]}),values:Ye.values}))})})()})]}):c.jsx(il,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:z=>r(z.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:D.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):D.map(z=>c.jsx("button",{onClick:()=>a(z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===z.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:z.label},z.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const z=t.find(ae=>ae.id===i)||t[0],ue=ae=>Math.max(1,(ae.activeMs||0)/1e3),Z=[...K].map(ae=>{var Ke,Ye,be;return{...ae,total:((Ke=ae.mitigationTotals)==null?void 0:Ke[z.id])||0,per1s:(((Ye=ae.mitigationTotals)==null?void 0:Ye[z.id])||0)/ue(ae),per60s:(((be=ae.mitigationTotals)==null?void 0:be[z.id])||0)*60/ue(ae)}}).filter(ae=>l!=="minions"||!le.length?!0:le.includes(String(ae.minion||""))).sort((ae,Ke)=>{const Ye=S.key==="fightTime"?Number(ae.activeMs||0):Number(s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s),be=S.key==="fightTime"?Number(Ke.activeMs||0):Number(s==="total"?Ke.total:s==="per1s"?Ke.per1s:Ke.per60s);return(S.dir==="desc"?be-Ye:Ye-be)||ae.account.localeCompare(Ke.account)});return c.jsx(Is,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:z.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(An,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>B("value"),className:`text-right transition-colors ${S.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>B("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:Z.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:Z.map((ae,Ke)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Ke+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ae.profession,ae.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:ae.account}),ae.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ae.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ye=s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s;return U(Ye)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ae.activeMs?`${(ae.activeMs/1e3).toFixed(1)}s`:"-"})]},`${z.id}-${ae.account}-${ae.minion||"player"}-${Ke}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},Ase=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:x,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var re;const[C,S]=g.useState({key:"value",dir:"desc"}),[A,O]=g.useState({columnId:((re=t[0])==null?void 0:re.id)||"value",dir:"desc"}),R=m==="support-detailed",[M,L]=g.useState([]),[_,G]=g.useState([]),ee=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(k=>({id:k.id,label:k.label})),ve=le.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),q=M.length>0?t.filter(k=>M.includes(k.id)):t,K=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),P=new Set([...M.map(k=>`column:${k}`),..._.map(k=>`player:${k}`)]),D=k=>{S(W=>({key:k,dir:W.key===k&&W.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":w("support-detailed"),className:y("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Pk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?b():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):R?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...le.map(k=>({...k,type:"column"})),...K.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?L(W=>W.includes(k.id)?W.filter(V=>V!==k.id):[...W,k.id]):G(W=>W.includes(k.id)?W.filter(V=>V!==k.id):[...W,k.id])},selectedIds:P,className:"w-full sm:w-64"}),c.jsx(jr,{options:ve,selectedIds:M,onToggle:k=>{L(W=>W.includes(k)?W.filter(V=>V!==k):[...W,k])},onClear:()=>L([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:K,selectedIds:_,onToggle:k=>{G(W=>W.includes(k)?W.filter(V=>V!==k):[...W,k])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&c.jsx(An,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||_.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{L([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>{var V;const W=((V=le.find(ie=>ie.id===k))==null?void 0:V.label)||k;return c.jsxs("button",{type:"button",onClick:()=>L(ie=>ie.filter(ne=>ne!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),_.map(k=>c.jsxs("button",{type:"button",onClick:()=>G(W=>W.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var se,B;const k=(U,H)=>{var te,z,ue;if(H==="condiCleanse"){const Z=((te=U.supportTotals)==null?void 0:te.condiCleanse)||0,ae=((z=U.supportTotals)==null?void 0:z.condiCleanseSelf)||0;return l==="all"?Z+ae:Z}return((ue=U.supportTotals)==null?void 0:ue[H])||0},W=U=>Math.max(1,(U.activeMs||0)/1e3),V=(U,H)=>{const te=U.isTime?1:d&&s==="total"?0:2;return f(H,te)},ie=((se=q.find(U=>U.id===A.columnId))==null?void 0:se.id)||((B=q[0])==null?void 0:B.id)||"",ne=[...e.supportPlayers].filter(U=>_.length===0||_.includes(U.account)).map(U=>{const H={},te={};return q.forEach(z=>{const ue=k(U,z.id),Z=s==="total"?ue:s==="per1s"?ue/W(U):ue*60/W(U);te[z.id]=Z,H[z.id]=V(z,Z)}),{row:U,values:H,numericValues:te}}).sort((U,H)=>{const te=U.numericValues[ie]??0,z=H.numericValues[ie]??0;return(A.dir==="desc"?z-te:te-z)||String(U.row.account||"").localeCompare(String(H.row.account||""))});return c.jsx(Es,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ie,sortDirection:A.dir,onSortColumn:U=>{O(H=>({columnId:U,dir:H.columnId===U&&H.dir==="desc"?"asc":"desc"}))},columns:q.map(U=>({id:U.id,label:U.label,align:"right",minWidth:90})),rows:ne.map((U,H)=>({id:`${U.row.account}-${H}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),h(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.row.account})]}),values:U.values}))})})()})]}):c.jsx(il,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(k=>c.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(ne=>ne.id===i)||t[0],W=ne=>{var se,B,U;if(k.id==="condiCleanse"){const H=((se=ne.supportTotals)==null?void 0:se.condiCleanse)||0,te=((B=ne.supportTotals)==null?void 0:B.condiCleanseSelf)||0;return l==="all"?H+te:H}return((U=ne.supportTotals)==null?void 0:U[k.id])||0},V=ne=>Math.max(1,(ne.activeMs||0)/1e3),ie=[...e.supportPlayers].map(ne=>({...ne,total:W(ne),per1s:W(ne)/V(ne),per60s:W(ne)*60/V(ne)})).sort((ne,se)=>{const B=C.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s),U=C.key==="fightTime"?Number(se.activeMs||0):Number(s==="total"?se.total:s==="per1s"?se.per1s:se.per60s);return(C.dir==="desc"?U-B:B-U)||ne.account.localeCompare(se.account)});return c.jsx(Is,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[k.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(An,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(An,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:ie.map((ne,se)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:se+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ne.profession,ne.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ne.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const B=s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s,U=k.isTime?1:d&&s==="total"?0:2;return f(B,U)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.activeMs?`${(ne.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${ne.account}-${se}`))})})})()})})]})},Pse=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:x})=>{var ve;const[w,y]=g.useState({key:"value",dir:"desc"}),[N,C]=g.useState({columnId:((ve=t[0])==null?void 0:ve.id)||"value",dir:"desc"}),S=f==="healing-stats",[A,O]=g.useState([]),[R,M]=g.useState([]),L=Array.from(new Map(e.healingPlayers.map(Y=>[Y.account,Y])).values()).map(Y=>({id:Y.account,label:Y.account,icon:d(Y.profession,Y.professionList,"w-3 h-3")})),_=new Set([...R.map(Y=>`column:${Y}`),...A.map(Y=>`player:${Y}`)]),G=t.map(Y=>({id:Y.id,label:Y.label})),ee=R.length>0?t.filter(Y=>R.includes(Y.id)):t,le=Y=>{y(q=>({key:Y,dir:q.key===Y&&q.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":b("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(CO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):S?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...G.map(Y=>({...Y,type:"column"})),...L.map(Y=>({...Y,type:"player"}))],onSelect:Y=>{Y.type==="column"?M(q=>q.includes(Y.id)?q.filter(K=>K!==Y.id):[...q,Y.id]):O(q=>q.includes(Y.id)?q.filter(K=>K!==Y.id):[...q,Y.id])},selectedIds:_,className:"w-full sm:w-64"}),c.jsx(An,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(jr,{options:G,selectedIds:R,onToggle:Y=>{M(q=>q.includes(Y)?q.filter(K=>K!==Y):[...q,Y])},onClear:()=>M([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(Y=>({value:Y.id,label:Y.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(jr,{options:L,selectedIds:A,onToggle:Y=>{O(q=>q.includes(Y)?q.filter(K=>K!==Y):[...q,Y])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})})]}),(R.length>0||A.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{M([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(Y=>{var K;const q=((K=G.find(P=>P.id===Y))==null?void 0:K.label)||Y;return c.jsxs("button",{type:"button",onClick:()=>M(P=>P.filter(D=>D!==Y)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:q}),c.jsx("span",{className:"text-gray-400",children:""})]},Y)}),A.map(Y=>c.jsxs("button",{type:"button",onClick:()=>O(q=>q.filter(K=>K!==Y)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Y}),c.jsx("span",{className:"text-gray-400",children:""})]},Y))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var D,re;const Y=k=>Math.max(1,(k.activeMs||0)/1e3),q=k=>{const W=k.baseField==="resUtility",V=W||i==="total"?"":i==="offSquad"?"offSquad":i;return W?s==="all"?"resUtility":`resUtility_${s}`:V?`${V}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},K=[...e.healingPlayers].filter(k=>A.length===0||A.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(W=>Number(W)>0)).map(k=>{const W={},V={};return ee.forEach(ie=>{var U;const ne=q(ie),se=Number(((U=k.healingTotals)==null?void 0:U[ne])??0),B=ie.perSecond?se/Y(k):se;V[ie.id]=B,W[ie.id]=u(B,ie.decimals)}),{row:k,values:W,numericValues:V}}).sort((k,W)=>{var B,U;const V=((B=ee.find(H=>H.id===N.columnId))==null?void 0:B.id)||((U=ee[0])==null?void 0:U.id)||"",ie=k.numericValues[V]??0,ne=W.numericValues[V]??0;return(N.dir==="desc"?ne-ie:ie-ne)||String(k.row.account||"").localeCompare(String(W.row.account||""))}),P=((D=ee.find(k=>k.id===N.columnId))==null?void 0:D.id)||((re=ee[0])==null?void 0:re.id)||"";return c.jsx(Es,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:P,sortDirection:N.dir,onSortColumn:k=>{C(W=>({columnId:k,dir:W.columnId===k&&W.dir==="desc"?"asc":"desc"}))},columns:ee.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:K.map((k,W)=>({id:`${k.row.account}-${W}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):c.jsx(il,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(Y=>c.jsx("button",{onClick:()=>r(Y.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===Y.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:Y.label},Y.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const Y=t.find(k=>k.id===n)||t[0],q=Y.baseField==="resUtility",K=k=>Math.max(1,(k.activeMs||0)/1e3),P=q||i==="total"?"":i==="offSquad"?"offSquad":i,D=q?s==="all"?"resUtility":`resUtility_${s}`:P?`${P}${Y.baseField[0].toUpperCase()}${Y.baseField.slice(1)}`:Y.baseField,re=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(W=>Number(W)>0)).map(k=>{var ie;const W=Number(((ie=k.healingTotals)==null?void 0:ie[D])??0),V=Y.perSecond?W/K(k):W;return{...k,value:V}}).sort((k,W)=>{const V=w.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),ie=w.key==="fightTime"?Number(W.activeMs||0):Number(W.value||0);return(w.dir==="desc"?ie-V:V-ie)||k.account.localeCompare(W.account)});return c.jsx(Is,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:Y.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(An,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(An,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>le("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[Y.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>le("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:re.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):re.map((k,W)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(k.value,Y.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${Y.id}-${k.account}-${W}`))})})})()})})]})},Dse=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Tse=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:b})=>{const[x,w]=g.useState("total"),[y,N]=g.useState("desc"),[C,S]=g.useState({columnId:"",dir:"desc"}),A=u==="special-buffs",[O,R]=g.useState([]),[M,L]=g.useState([]),_=e.specialTables||[],ee=O.length>0?_.filter(D=>O.includes(D.id)):_,le=r.map(D=>({id:D.id,label:D.name,icon:D.icon?c.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ve=Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:l(D.profession,D.professionList,"w-3 h-3")})),Y=new Set([...O.map(D=>`column:${D}`),...M.map(D=>`player:${D}`)]),q=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const D=[...s.rows];return D.sort((re,k)=>{const W=Number((re==null?void 0:re[x])??0),V=Number((k==null?void 0:k[x])??0),ie=y==="desc"?V-W:W-V;return ie!==0?ie:String((re==null?void 0:re.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),D},[s,x,y]),K=D=>{if(x===D){N(re=>re==="desc"?"asc":"desc");return}w(D),N("desc")},P=D=>x!==D?"":y==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(cx,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[..._.map(D=>({id:D.id,label:D.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,type:"player",icon:l(D.profession,D.professionList,"w-3 h-3")}))],onSelect:D=>{D.type==="column"?R(re=>re.includes(D.id)?re.filter(k=>k!==D.id):[...re,D.id]):L(re=>re.includes(D.id)?re.filter(k=>k!==D.id):[...re,D.id])},selectedIds:Y,className:"w-full sm:w-64"}),c.jsx(jr,{options:le,selectedIds:O,onToggle:D=>{R(re=>re.includes(D)?re.filter(k=>k!==D):[...re,D])},onClear:()=>R([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ve,selectedIds:M,onToggle:D=>{L(re=>re.includes(D)?re.filter(k=>k!==D):[...re,D])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(An,{value:x,onChange:D=>w(D),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||M.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{R([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(D=>{var k;const re=((k=_.find(W=>W.id===D))==null?void 0:k.name)||D;return c.jsxs("button",{type:"button",onClick:()=>R(W=>W.filter(V=>V!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:re}),c.jsx("span",{className:"text-gray-400",children:""})]},D)}),M.map(D=>c.jsxs("button",{type:"button",onClick:()=>L(re=>re.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var ne,se;const D=ee,re=new Map,k=new Map;D.forEach(B=>{const U=new Map;B.rows.forEach(H=>{const te=H.account||H.name||H.id;te&&(U.set(te,H),k.has(te)||k.set(te,H))}),re.set(B.id,U)});const W=Array.from(k.entries()).filter(([B])=>M.length===0||M.includes(String(B))).map(([B,U])=>{const H={},te={};return D.forEach(z=>{var Ke;const ue=(Ke=re.get(z.id))==null?void 0:Ke.get(B);if(!ue){H[z.id]="-",te[z.id]=0;return}if(x==="duration"){H[z.id]=ue.duration?`${ue.duration.toFixed(1)}s`:"-",te[z.id]=Number(ue.duration||0);return}const Z=x==="total"?ue.total:ue.perSecond,ae=x==="total"?0:1;te[z.id]=Number(Z||0),H[z.id]=o(Z||0,ae)}),{key:B,row:U,values:H,numericValues:te}}),V=((ne=D.find(B=>B.id===C.columnId))==null?void 0:ne.id)||(i&&D.some(B=>B.id===i)?i:void 0)||((se=D[0])==null?void 0:se.id)||"",ie=[...W].sort((B,U)=>{if(!V)return String(B.key).localeCompare(String(U.key));const H=B.numericValues[V]??0,te=U.numericValues[V]??0;return(C.dir==="desc"?te-H:H-te)||String(B.key).localeCompare(String(U.key))});return c.jsx(Es,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:V,sortDirection:C.dir,onSortColumn:B=>{S(U=>({columnId:B,dir:U.columnId===B&&U.dir==="desc"?"asc":"desc"}))},columns:D.map(B=>({id:B.id,label:c.jsx(Cr,{name:B.name,iconUrl:B.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ie.map((B,U)=>({id:`${B.key}-${U}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),l(B.row.profession,B.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:B.row.account||B.row.name||B.key})]}),values:B.values}))})})()})]}):c.jsx(il,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:D=>n(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(D=>c.jsx("button",{onClick:()=>a(D.id),title:D.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:Dse(D.name),iconUrl:D.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},D.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(Is,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(Cr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>K("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",P("total")]}),c.jsxs("button",{type:"button",onClick:()=>K("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",P("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>K("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P("duration")]})]}),rows:c.jsx(c.Fragment,{children:q.map((D,re)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(D.profession,D.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:D.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(D.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:o(D.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:D.duration?`${D.duration.toFixed(1)}s`:"-"})]},`${s.id}-${D.account}-${re}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Mse=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Ese=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:b})=>{const[x,w]=g.useState("desc"),y=u==="sigil-relic-uptime",N=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((S,A)=>{const O=Number((S==null?void 0:S.uptimePerSecond)??(S==null?void 0:S.perSecond)??0),R=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),M=x==="desc"?R-O:O-R;return M!==0?M:String((S==null?void 0:S.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),C},[s,x]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ek,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e?c.jsx(il,{expanded:y,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${y?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>c.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:Mse(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(Is,{expanded:y,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(Cr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>w(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:N.map((C,S)=>{const A=Number(C.uptimePerSecond??C.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:S+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(A,1),"%"]})]},`${s.id}-${C.account}-${S}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Ose=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=g.useState(""),[m,p]=g.useState(""),[v,b]=g.useState(null);g.useEffect(()=>{var G,ee,le;if(u.length===0){h(""),p("");return}const L=String(((G=u[0])==null?void 0:G.id)||""),_=String(((ee=u[1])==null?void 0:ee.id)||((le=u[0])==null?void 0:le.id)||"");h(ve=>ve&&u.some(Y=>String(Y.id)===ve)?ve:L),p(ve=>ve&&u.some(Y=>String(Y.id)===ve)?ve:_)},[u]);const x=g.useMemo(()=>u.find(L=>String(L.id)===String(f))||null,[u,f]),w=g.useMemo(()=>u.find(L=>String(L.id)===String(m))||null,[u,m]),y=g.useMemo(()=>{if(!x||!w)return[];const L=new Map,_=(G,ee,le,ve)=>{const Y=String(G||"Unknown"),q=L.get(Y)||{label:Y,aDamage:0,aShare:0,bDamage:0,bShare:0};ee==="a"?(q.aDamage=Number(le||0),q.aShare=Number(ve||0)):(q.bDamage=Number(le||0),q.bShare=Number(ve||0)),L.set(Y,q)};return(x.targetFocus||[]).forEach(G=>_(G.label,"a",G.damage,G.share)),(w.targetFocus||[]).forEach(G=>_(G.label,"b",G.damage,G.share)),Array.from(L.values()).map(G=>({...G,shareDelta:G.bShare-G.aShare})).sort((G,ee)=>Math.abs(ee.shareDelta)-Math.abs(G.shareDelta)||ee.bDamage+ee.aDamage-(G.bDamage+G.aDamage))},[x,w]),N=g.useMemo(()=>{if(!v)return y;const L=v.direction==="asc"?1:-1,_=v.key;return[...y].sort((G,ee)=>{const le=(Number(G[_])-Number(ee[_]))*L;return le!==0?le:G.label.localeCompare(ee.label)})},[y,v]),C=g.useMemo(()=>{if(!x||!w)return[];const L=new Map((x.squadMetrics||[]).map(ee=>[ee.metricId,ee])),_=new Map((w.squadMetrics||[]).map(ee=>[ee.metricId,ee]));return Array.from(new Set([...L.keys(),..._.keys()])).map(ee=>{const le=L.get(ee),ve=_.get(ee),Y=!!((le==null?void 0:le.higherIsBetter)??(ve==null?void 0:ve.higherIsBetter)??!0),q=Number((le==null?void 0:le.value)||0),K=Number((ve==null?void 0:ve.value)||0);return{metricId:ee,metricLabel:String((le==null?void 0:le.metricLabel)||(ve==null?void 0:ve.metricLabel)||ee),higherIsBetter:Y,a:le,b:ve,delta:K-q}})},[x,w]),S=L=>`${t((Number(L)||0)*100,1)}%`,A=L=>L==="squadKdr"?2:0,O=L=>{b(_=>!_||_.key!==L?{key:L,direction:"desc"}:{key:L,direction:_.direction==="desc"?"asc":"desc"})},R=L=>(v==null?void 0:v.key)===L?v.direction==="desc"?" ":" ":"",M=L=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===L?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Nk,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:L=>h(L.target.value),children:u.map(L=>c.jsxs("option",{value:L.id,children:[L.shortLabel," - ",L.fullLabel]},`fight-a-${L.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:L=>p(L.target.value),children:u.map(L=>c.jsxs("option",{value:L.id,children:[L.shortLabel," - ",L.fullLabel]},`fight-b-${L.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Is,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:y.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:M("aDamage"),onClick:()=>O("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",R("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:M("aShare"),onClick:()=>O("aShare"),children:[x==null?void 0:x.shortLabel," Share",R("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:M("bDamage"),onClick:()=>O("bDamage"),children:[w==null?void 0:w.shortLabel," Damage",R("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:M("bShare"),onClick:()=>O("bShare"),children:[w==null?void 0:w.shortLabel," Share",R("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:M("shareDelta"),onClick:()=>O("shareDelta"),children:["Share Delta",R("shareDelta")]})})]})})]})}):null,rows:y.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:N.map(L=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:L.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(L.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(L.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(L.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(L.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${L.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[L.shareDelta>=0?"+":"",S(L.shareDelta)]})]},`focus-${L.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Is,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[w==null?void 0:w.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:C.map(L=>{var ee,le;const _=L.higherIsBetter?L.delta>=0:L.delta<=0,G=A(L.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:L.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ee=L.a)==null?void 0:ee.value)||0),G)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((le=L.b)==null?void 0:le.value)||0),G)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${_?"text-emerald-300":"text-red-300"}`,children:[L.delta>0?"+":"",t(L.delta,G)]})]},`performer-${L.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Ise=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),_se=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=g.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),v=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(v)||v<=0||u.set(p,(u.get(p)||0)+v)})}),Array.from(u.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const b=Date.parse(d);Number.isFinite(b)&&b>0&&(f=b)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(An,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Pb,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Pb,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Pb,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},JD={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Lse=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:u})=>{const d=JD[r]||JD.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},$se=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},eT=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Fse=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Bc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(a8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(cx,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(Og,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:eT(m.val,s)})]},p))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,v,b,x,w;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((b=m.data)==null?void 0:b.profession)||"Unknown"})]})]}),(w=(x=m.data)==null?void 0:x.topStats)!=null&&w.some(y=>l(y.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(y=>l(y.name)).map((y,N)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:y.name}),c.jsx("span",{className:"tabular-nums leading-none",children:eT(y.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,b=m?"":"Total ",x=m?" /s":"",w=[{icon:u8,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:xd,title:`${b}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:CO,title:`${b}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:v8,title:`${b}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:gm,title:`${b}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:l8,title:`${b}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:c8,title:`${b}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:DO,title:`${b}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:i8,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],y=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(N=>{var R,M,L,_;const C=i==="all",S=$se((v==null?void 0:v[N.statKey])||[],N.higherIsBetter),A=S[0],O=A?{...N.data,value:Number(A.value||0),player:A.account||((R=N.data)==null?void 0:R.player)||"-",count:A.count||((M=N.data)==null?void 0:M.count)||0,profession:A.profession||((L=N.data)==null?void 0:L.profession)||"Unknown",professionList:A.professionList||((_=N.data)==null?void 0:_.professionList)||[]}:N.data;return c.jsx(Lse,{...N,data:O,active:C,onClick:()=>a(G=>G==="all"?null:"all"),rows:S,formatValue:y,renderProfessionIcon:u},N.statKey)})})})()]}):null,Rse=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",u=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=g.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,b)=>{const x=Number((v==null?void 0:v[u])||0);return Number((b==null?void 0:b[u])||0)-x||Number((b==null?void 0:b.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((b==null?void 0:b.name)||""))}),[o,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...h.map(v=>Number((v==null?void 0:v[u])||0))),[h,u]),p=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const b=(t||e.topSkillsMetric)===v.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${b?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((v,b)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(Cr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[u]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${b}`)),h.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(e8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,b)=>{var x;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(Cr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${b}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Bse=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(_r,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(e1,{children:[c.jsx(C0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>c.jsx(Pd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(lx,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(e1,{children:[c.jsx(C0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>c.jsx(Pd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},zse=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(_r,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Qo,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const l=(f=o==null?void 0:o[0])==null?void 0:f.payload,u=(l==null?void 0:l.isWin)===!0?"Win":(l==null?void 0:l.isWin)===!1?"Loss":"Unknown";return`${typeof(l==null?void 0:l.label)=="string"&&l.label.trim().length>0?l.label:`Log ${s}`}  ${u}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(ua,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(ua,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Use=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Ak,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(e1,{children:[c.jsx(C0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>c.jsx(Pd,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(X_,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",c.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),tT=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:v,spikeMode:b,setSpikeMode:x,damageBasis:w="all",setDamageBasis:y,showDamageBasisToggle:N=!1,selectedSpikePlayerKey:C,setSelectedSpikePlayerKey:S,selectedSpikePlayer:A,spikeChartData:O,spikeChartMaxY:R,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:L,spikeDrilldownTitle:_,spikeDrilldownData:G,spikeDrilldownDownIndices:ee,spikeDrilldownDeathIndices:le,spikeFightSkillRows:ve=[],spikeFightSkillTitle:Y="Skill Damage (Selected Fight)",formatWithCommas:q,renderProfessionIcon:K})=>{const[P,D]=g.useState(null),[re,k]=g.useState(null),W=be=>String(be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=s===e,ie=A?Io(A.profession):"#fda4af",ne=w==="downContribution",se=b==="hit"?ne?"Highest Down Contribution":"Highest Damage":b==="1s"?"1s Burst":b==="5s"?"5s Burst":"30s Burst",B=be=>b==="hit"?ne?be.peakHitDown:be.peakHit:b==="1s"?ne?be.peak1sDown:be.peak1s:b==="5s"?ne?be.peak5sDown:be.peak5s:ne?be.peak30sDown:be.peak30s,U=v.flatMap(be=>be.players.map(F=>({...F,groupProfession:be.profession}))).sort((be,F)=>{const Ee=B(F)-B(be);return Ee!==0?Ee:be.displayName.localeCompare(F.displayName)}),H=O.reduce((be,F)=>!be||F.damage>be.damage?F:be,null),te=be=>{if(!Number.isFinite(be)||be<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(be))}catch{return""}},z=G.reduce((be,F)=>Math.max(be,Number(F.value||0)),0),ue=Math.max(1,z),Z=new Set(ee),ae=new Set(le),Ke=G.map((be,F)=>({...be,downMarker:Z.has(F)?Math.max(Number(be.value||0),ue*.88):null,deathMarker:ae.has(F)?Math.max(Number(be.value||0),ue*.96):null})),Ye=be=>F=>{const Ee=Number(F==null?void 0:F.cx),Le=Number(F==null?void 0:F.cy),wt=Number(F==null?void 0:F.index);if(!Number.isFinite(Ee)||!Number.isFinite(Le)||!Number.isFinite(wt))return null;const Wt=(F==null?void 0:F.payload)||{},mn=be==="down"?Wt==null?void 0:Wt.downMarker:Wt==null?void 0:Wt.deathMarker;if(!Number.isFinite(Number(mn)))return null;const Pe=`${be}-${wt}`,rt=P===Pe,Lt=be==="down"?"#facc15":"#ef4444",sn=be==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{D(Pe),k({x:Ee,y:Le,kind:be,label:String((Wt==null?void 0:Wt.label)||"")})},onMouseLeave:()=>{D(Zt=>Zt===Pe?null:Zt),k(Zt=>(Zt==null?void 0:Zt.kind)===be&&(Zt==null?void 0:Zt.label)===String((Wt==null?void 0:Wt.label)||"")?null:Zt)},children:[c.jsx("circle",{cx:Ee,cy:Le,r:rt?10:7,fill:sn,opacity:rt?.35:.18}),c.jsx("circle",{cx:Ee,cy:Le,r:rt?7:5.5,fill:Lt,stroke:"#0f172a",strokeWidth:rt?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${V?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:V?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(gm,{className:`w-5 h-5 ${a}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${V?"pr-10 md:pr-0":""}`,children:[N&&y&&c.jsx(An,{value:w,onChange:be=>y(be),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(An,{value:b,onChange:be=>x(be),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>V?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${V?"absolute top-2 right-2 md:static":""}`,"aria-label":V?`Close ${t}`:`Expand ${t}`,title:V?"Close":"Expand",children:V?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:be=>p(be.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:U.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:U.map(be=>{const F=C===be.key;return c.jsx("button",{type:"button",onClick:()=>S(be.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${F?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(be.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:be.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:be.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[be.characterName||be.displayName,"  ",be.logs," ",be.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:q(B(be)||0,0)})]})},be.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",se]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[O.length," ",O.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!A||O.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:O,onClick:be=>{const F=Number(be==null?void 0:be.activeTooltipIndex);Number.isFinite(F)&&L(M===F?null:F)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,R)],tickFormatter:be=>q(be,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(be,F)=>[q(Number(be||0),0),String(F||"")],labelFormatter:(be,F)=>{var wt;const Ee=(wt=F==null?void 0:F[0])==null?void 0:wt.payload;if(!Ee)return"";const Le=W(Ee.fullLabel||"");return b==="hit"&&Ee.skillName?`${Le}  ${Ee.skillName}`:Le}}),c.jsx(ua,{type:"monotone",dataKey:"damage",name:A.displayName,stroke:ie,strokeWidth:3,dot:be=>{var Le;const F=Number((Le=be==null?void 0:be.payload)==null?void 0:Le.index);if(!Number.isFinite(F))return null;const Ee=M===F;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:wt=>{wt.stopPropagation(),L(Ee?null:F)},children:[c.jsx("circle",{cx:be.cx,cy:be.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:be.cx,cy:be.cy,r:Ee?4:3,fill:ie,stroke:Ee?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Ee?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ua,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),A&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[K(A.profession,A.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:A.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?ne?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${se}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:q(B(A)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const be=W((H==null?void 0:H.fullLabel)||A.peakFightLabel||"N/A"),F=te(Number((H==null?void 0:H.timestamp)||0)),Ee=F?`${F} - ${be}`:be;return b!=="hit"?Ee:A.peakSkillName?`${A.peakSkillName}  ${Ee}`:Ee})()})]})]}),A&&M!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),c.jsx("button",{type:"button",onClick:()=>L(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:G.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:Ke,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:be=>q(be,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(be,F)=>{const Ee=String(F||"");return Ee==="Down"?["Downed","Event"]:Ee==="Death"?["Dead","Event"]:[q(Number(be||0),0),"Damage"]},labelFormatter:be=>String(be||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Damage",stroke:ie,strokeWidth:2.5,dot:b==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(ua,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ye("down")}),c.jsx(ua,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ye("death")})]})}),re&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,re.x)}px`,top:`${Math.max(8,re.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${re.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:re.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:re.label})]})]})})]}),A&&M!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${ve.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const be=Ee=>Number(ne?Ee.downContribution||0:Ee.damage||0),F=[...ve].filter(Ee=>be(Ee)>0).sort((Ee,Le)=>be(Le)-be(Ee)||Number(Le.hits||0)-Number(Ee.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Y}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[F.length," ",F.length===1?"skill":"skills"]})]}),F.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:ne?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:F.map((Ee,Le)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Ee.icon?c.jsx("img",{src:Ee.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Ee.skillName,children:Ee.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:q(Number(ne?Ee.downContribution||0:Ee.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:q(Number(Ee.hits||0),0)})]},`${Ee.skillName}-${Le}`))})]})]})})()})]})},Wse=10,Tp=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},nT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Vse=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Hse=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(""),[o,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=a.trim().toLowerCase(),h=g.useMemo(()=>{const b=e.filter(w=>{if(!f)return!0;const y=String(w.account||"").toLowerCase(),N=(w.characterNames||[]).join(" ").toLowerCase(),C=(w.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return y.includes(f)||N.includes(f)||C.includes(f)}),x=w=>Number(o==="fight"?w.combatTimeMs??w.squadTimeMs??0:w.squadTimeMs??0);return[...b].sort((w,y)=>{const N=x(y)-x(w);return N!==0?u==="desc"?N:-N:String(w.account||"").localeCompare(String(y.account||""))})},[e,f,u,o]),m=b=>{if(o===b){d(x=>x==="desc"?"asc":"desc");return}l(b),d("desc")},p=h.length>Wse,v=()=>{const b=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(A=>{const O=(A.classTimes||[]).map(R=>`${R.profession} (${Tp(R.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),O,nT(Number(A.combatTimeMs??A.squadTimeMs??0)),nT(A.squadTimeMs)]}),w=[b,...x].map(A=>A.map(O=>Vse(String(O??""))).join(",")).join(`
`),y=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(y),C=document.createElement("a"),S=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=N,C.download=`attendance-ledger-${S}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(N)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(pm,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:a,onChange:b=>s(b.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(s8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[h.map(b=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:b.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:b.characterNames.length>0?b.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.classTimes.length>0?b.classTimes.map(x=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?c.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:x.profession}),c.jsx("span",{className:"text-gray-400",children:Tp(x.timeMs)})]},`${b.account}-${x.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Tp(Number(b.combatTimeMs??b.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Tp(b.squadTimeMs)})]},b.account)),h.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},qse=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Kse=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null),[o,l]=g.useState(""),u=o.trim().toLowerCase(),d=cu("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=g.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!u)return!1;const p=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),b=String(m.profession||"").toLowerCase();return p.includes(u)||v.includes(u)||b.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(_r,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return c.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",qse(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,v)=>(()=>{const b=h(p);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${b?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?c.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:c.jsx("span",{className:"truncate min-w-0",children:p.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Gse=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Yse=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null);g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(u=>u.id===a))&&s(e[0].id)},[e,a]);const o=g.useMemo(()=>e.find(u=>u.id===a)||null,[e,a]),l=g.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([u,d])=>({profession:u,count:Number(d||0)})).filter(u=>u.count>0).sort((u,d)=>d.count-u.count||u.profession.localeCompare(d.profession)):[],[o]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Il,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(u=>{const d=u.id===a;return c.jsxs("button",{onClick:()=>s(u.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:u.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:u.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[u.duration||"--:--","  ",Gse(u.timestamp)]})]},u.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(u=>{const d=Array.isArray(u.players)&&u.players.length>0?u.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(u.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:u.party>0?`P${u.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>c.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${u.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${u.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:u.profession,children:t(u.profession)?c.jsx("img",{src:t(u.profession),alt:u.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:u.count})]},`${o.id}-enemy-${u.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Xse=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f})=>{const h=u||!d,m=d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(jO,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Bc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(cx,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(x8,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:m,children:[c.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(h8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Qse=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=g.useState("idle"),u=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(f8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(AO,{className:"w-3 h-3"}),r==="errored"&&c.jsx(TO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Zse=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ks="space-y-1 pr-1 max-h-72 overflow-y-auto",Jse=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),eoe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],rT={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Db=[];function toe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:v}){var R2,B2;const b=n||_O,x=r||Jy,w=a||$8,y=x.showTopStats,N=x.showMvp,C=x.roundCountStats,S=x.topStatsMode||"total",[A,O]=g.useState(x.topSkillsMetric||"damage"),R=(i?x.topSkillsMetric:A)||"damage",M=w.uploading,L=w.message,_=w.url,G=w.buildStatus,ee=!u&&!1,[le,ve]=g.useState(!0),Y=g.useCallback(j=>d?d(j):!0,[d]),q=!!v,{result:K,aggregationProgress:P,aggregationDiagnostics:D}=WW({logs:q?[]:e,precomputedStats:q?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),re=v||K,k=(v==null?void 0:v.aggregationProgress)||P,W=(v==null?void 0:v.aggregationDiagnostics)||D,{stats:V,skillUsageData:ie}=re,ne=g.useMemo(()=>{const j=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),I=Math.min(j,Math.max(0,Number((p==null?void 0:p.pending)||0))),E=Math.min(j,Math.max(0,Number((p==null?void 0:p.processed)||j-I))),xe=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&j>0&&I>0){const Et=j>0?Math.max(1,Math.min(99,Math.round(E/j*100))):0,Rt=xe>0?`  ${xe} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${E} of ${j} fights prepared${Rt}`,progressPercent:Et}}if(j>0&&xe>=j)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${xe} of ${j} fights could not be loaded from dps.report`,progressPercent:100};if(j>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const je=Math.max(0,Number((k==null?void 0:k.total)||e.length||0));if(!(!!(k!=null&&k.active)&&(k==null?void 0:k.phase)!=="idle"&&(k==null?void 0:k.phase)!=="settled"&&je>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const at=Math.min(Math.max(Number((k==null?void 0:k.streamed)||0),0),je),vt=(k==null?void 0:k.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",tt=(k==null?void 0:k.phase)==="streaming"?`${at} of ${je} fights loaded`:"All fights loaded  calculating final totals",Pt=(k==null?void 0:k.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(at/je*100))):99;return{active:!0,phaseLabel:vt,progressText:tt,progressPercent:Pt}},[p,k,e.length]),se=g.useMemo(()=>{if(!W)return"";const j=xe=>{const Ce=Math.max(0,Number(xe||0));return Ce>=1e4?`${(Ce/1e3).toFixed(1)}s`:Ce>=1e3?`${(Ce/1e3).toFixed(2)}s`:`${Math.round(Ce)}ms`},I=[`Load ${j(W.streamMs)}`,`Calculate ${j(W.computeMs)}`,`Total ${j(W.totalMs)}`],E=W.transferStripStats;if(W.mode==="worker"&&E){const xe=Number(E.spikeSkillRowsRemoved||0),Ce=Number(E.incomingSkillRowsRemoved||0),je=Number(E.playerSkillMapsRemoved||0),X=xe+Ce+je;X>0&&I.push(`Cleaned up ${X.toLocaleString()} temporary records`)}return W.mode==="worker"&&Number(W.droppedLogMessages||0)>0&&I.push(`Skipped ${Number(W.droppedLogMessages||0)} outdated updates`),I.join("  ")},[W]),B=ne.active,U=ne.phaseLabel,H=ne.progressText,te=B&&ne.progressPercent<100;g.useEffect(()=>{if(B){ve(!1);return}let j=!1;const I=()=>{j||ve(!0)},E=window.requestIdleCallback;let xe=null;return typeof E=="function"?xe=E(()=>I(),{timeout:220}):xe=window.setTimeout(I,60),()=>{if(j=!0,xe!==null)if(typeof E=="function"){const Ce=window.cancelIdleCallback;typeof Ce=="function"&&Ce(xe)}else window.clearTimeout(xe)}},[B]);const z=le&&!B,ue=z&&(Y("top-skills-outgoing")||Y("player-breakdown")||Y("damage-breakdown")),Z=z&&Y("skill-usage"),ae=z&&Y("apm-stats"),Ke=z&&Y("spike-damage"),Ye=z&&Y("incoming-strike-damage"),be=z&&Y("conditions-outgoing"),F=g.useMemo(()=>{var tt,Pt,Et,Rt,on,Vt;const j=V&&typeof V=="object"?V:{},I=nn=>Array.isArray(nn)?nn:[],E=nn=>nn&&typeof nn=="object"?nn:{},xe=(nn,Kn)=>nn&&typeof nn=="object"?nn:Kn,Ce={value:0,player:"-",profession:"Unknown",professionList:[],count:0},je={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},X={...j,total:Number(j.total||0),timelineData:I(j.timelineData),mapData:I(j.mapData),fightBreakdown:I(j.fightBreakdown),topSkills:I(j.topSkills),topIncomingSkills:I(j.topIncomingSkills),leaderboards:E(j.leaderboards),topStatsPerSecond:E(j.topStatsPerSecond),topStatsLeaderboardsPerSecond:E(j.topStatsLeaderboardsPerSecond),maxDownContrib:xe(j.maxDownContrib,Ce),maxBarrier:xe(j.maxBarrier,Ce),maxHealing:xe(j.maxHealing,Ce),maxDodges:xe(j.maxDodges,Ce),maxStrips:xe(j.maxStrips,Ce),maxCleanses:xe(j.maxCleanses,Ce),maxCC:xe(j.maxCC,Ce),maxStab:xe(j.maxStab,Ce),closestToTag:xe(j.closestToTag,Ce),mvp:{...je,...E(j.mvp),topStats:I((tt=j==null?void 0:j.mvp)==null?void 0:tt.topStats)},silver:xe(j.silver,je),bronze:xe(j.bronze,je),avgMvpScore:Number(j.avgMvpScore||0),offensePlayers:I(j.offensePlayers),defensePlayers:I(j.defensePlayers),damageMitigationPlayers:I(j.damageMitigationPlayers),damageMitigationMinions:I(j.damageMitigationMinions),supportPlayers:I(j.supportPlayers),healingPlayers:I(j.healingPlayers),boonTables:I(j.boonTables),boonTimeline:I(j.boonTimeline),boonUptimeTimeline:I(j.boonUptimeTimeline),specialTables:I(j.specialTables),outgoingConditionSummary:I(j.outgoingConditionSummary),outgoingConditionPlayers:I(j.outgoingConditionPlayers),incomingConditionSummary:I(j.incomingConditionSummary),incomingConditionPlayers:I(j.incomingConditionPlayers),squadClassData:I(j.squadClassData),enemyClassData:I(j.enemyClassData),attendanceData:I(j.attendanceData),squadCompByFight:I(j.squadCompByFight),fightDiffMode:I(j.fightDiffMode),playerSkillBreakdowns:I(j.playerSkillBreakdowns)},vt=I((Pt=X.leaderboards)==null?void 0:Pt.downContrib).map(nn=>({...nn,value:Number((nn==null?void 0:nn.value)??0)})).filter(nn=>Number.isFinite(nn.value)).sort((nn,Kn)=>Kn.value-nn.value||String((nn==null?void 0:nn.account)||"").localeCompare(String((Kn==null?void 0:Kn.account)||"")))[0];return vt&&(X.maxDownContrib={...X.maxDownContrib||{},value:Number(vt.value||0),player:String(vt.account||((Et=X.maxDownContrib)==null?void 0:Et.player)||"-"),count:Number(vt.count||((Rt=X.maxDownContrib)==null?void 0:Rt.count)||0),profession:String(vt.profession||((on=X.maxDownContrib)==null?void 0:on.profession)||"Unknown"),professionList:Array.isArray(vt.professionList)?vt.professionList:((Vt=X.maxDownContrib)==null?void 0:Vt.professionList)||[]}),X},[V]);g.useEffect(()=>{var Ce;if(!((Ce=window==null?void 0:window.electronAPI)!=null&&Ce.fetchImageAsDataUrl)||B)return;let j=!1;const I=()=>{if(j)return;const je=new Set,X=Pt=>{typeof Pt=="string"&&/^https?:\/\//i.test(Pt)&&je.add(Pt)},at=Pt=>{Pt.forEach(Et=>{X(Et==null?void 0:Et.icon),X(Et==null?void 0:Et.iconUrl)})};at(Array.isArray(F==null?void 0:F.topSkills)?F.topSkills:[]),at(Array.isArray(F==null?void 0:F.topIncomingSkills)?F.topIncomingSkills:[]),at(Array.isArray(F==null?void 0:F.topSkillsByDamage)?F.topSkillsByDamage:[]),at(Array.isArray(F==null?void 0:F.topSkillsByDownContribution)?F.topSkillsByDownContribution:[]),at(Array.isArray(F==null?void 0:F.outgoingConditionSummary)?F.outgoingConditionSummary:[]),at(Array.isArray(F==null?void 0:F.incomingConditionSummary)?F.incomingConditionSummary:[]),(Array.isArray(F==null?void 0:F.boonTables)?F.boonTables:[]).forEach(Pt=>{X(Pt==null?void 0:Pt.icon)}),(Array.isArray(F==null?void 0:F.specialTables)?F.specialTables:[]).forEach(Pt=>{X(Pt==null?void 0:Pt.icon)}),ue&&(Array.isArray(F==null?void 0:F.playerSkillBreakdowns)?F.playerSkillBreakdowns:[]).forEach(Et=>{const Rt=Array.isArray(Et==null?void 0:Et.skills)?Et.skills:[];at(Rt)}),je.size>0&&cse(Array.from(je))},E=window.requestIdleCallback;let xe=null;return typeof E=="function"?xe=E(()=>I(),{timeout:500}):xe=window.setTimeout(I,120),()=>{if(j=!0,xe!==null)if(typeof E=="function"){const je=window.cancelIdleCallback;typeof je=="function"&&je(xe)}else window.clearTimeout(xe)}},[F,B,ue]);const Ee=g.useMemo(()=>{const j=(l==null?void 0:l.skillUsageData)??ie;return{logRecords:Array.isArray(j==null?void 0:j.logRecords)?j.logRecords:[],players:Array.isArray(j==null?void 0:j.players)?j.players:[],skillOptions:Array.isArray(j==null?void 0:j.skillOptions)?j.skillOptions:[],resUtilitySkills:Array.isArray(j==null?void 0:j.resUtilitySkills)?j.resUtilitySkills:[]}},[ie,l==null?void 0:l.skillUsageData]),Le=Ee.players.length>0;g.useEffect(()=>{i||O(x.topSkillsMetric||"damage")},[x.topSkillsMetric,i]);const wt=j=>{if(i){i({...x,topSkillsMetric:j});return}O(j)},{scrollContainerRef:Wt}=y8(u,!0,te),{devMockUploadState:mn,webCopyStatus:Pe,setWebCopyStatus:rt,handleWebUpload:Lt,handleDevMockUpload:sn}=H8({logs:e,stats:F,skillUsageData:Ee,activeStatsViewSettings:r||Jy,uiTheme:h||"classic",embedded:u,onWebUpload:s}),{sharing:Zt,handleShare:Tr}=RW(u),Rn={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},un=j=>{const I=Rn[j];return I?b[I]>0:!0},[ds,hn]=g.useState(null),[kn,Nn]=g.useState(null),[_i,Ur]=g.useState("totalBuffs"),[Lr,pu]=g.useState("total"),[co,sl]=g.useState(""),[ci,Fs]=g.useState(""),[sr,ya]=g.useState(null),[ui,wa]=g.useState("squadBuffs"),[Rs,gu]=g.useState(""),[er,ka]=g.useState(null),[oa,xu]=g.useState(null),[Bs,vu]=g.useState(""),[Sa,cc]=g.useState(null),[ol,bu]=g.useState(""),[$r,ll]=g.useState(null),[Q,Te]=g.useState(null),[qe,St]=g.useState(null),[Ut,Gt]=g.useState(""),[Jt,Mt]=g.useState(null),[Nt,$n]=g.useState(""),[di,lt]=g.useState(""),[T,$]=g.useState(""),[J,ke]=g.useState(""),[fe,Ue]=g.useState(""),[Me,bt]=g.useState(""),[pt,It]=g.useState(""),[He,me]=g.useState("outgoing"),[he,Je]=g.useState(""),[Se,et]=g.useState("damage"),[st,yt]=g.useState("damageTaken"),[Ne,Ie]=g.useState("totalMitigation"),[Oe,Ve]=g.useState("all"),[Ge,ze]=g.useState({key:"damage",dir:"desc"}),Ze=!(Oe!=="all"&&Jse.has(Oe)),nt=Ze?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",de=Ze?Ge:{key:"applications",dir:Ge.key==="applications"?Ge.dir:"desc"},[pe,ot]=g.useState("condiCleanse"),[xt,we]=g.useState("healing"),[ce,Ot]=g.useState("total"),[De,_e]=g.useState("all"),[ut,ft]=g.useState("total"),[it,We]=g.useState("total"),[mt,ht]=g.useState("total"),[$t,tn]=g.useState("total"),[pn,Sn]=g.useState("all"),[Dn,or]=g.useState("squad"),[On,Mr]=g.useState("player"),[pr,Yn]=g.useState(""),[Zr,kr]=g.useState(""),[lr,fs]=g.useState(null),[Ci,cl]=g.useState([]),[Fn,ms]=g.useState(null),[ji,uc]=g.useState(null),[Bn,dc]=g.useState("hit"),[Jr,Qe]=g.useState("all"),[Re,$e]=g.useState(null),[Be,gt]=g.useState(null),[Ft,wn]=g.useState("hit"),[Wn,Vn]=g.useState([]),[vn,ei]=g.useState(null),[Tn,uo]=g.useState(!1),Wr=g.useRef(null),[Ph,Kd]=g.useState("sizes"),[Ai,ul]=g.useState("total"),Dh=Ai==="perSecond",[Th,Mh]=g.useState(null),[Eh,Oh]=g.useState("total"),[zs,dl]=g.useState(null),[Li,fo]=g.useState(null),[Yi,mo]=g.useState(null),[fc,aB]=g.useState(""),[mc,kv]=g.useState(null),[sB,S2]=g.useState(null),[Us,Ih]=g.useState(null),[oB,lB]=g.useState(""),[cB,uB]=g.useState("player"),[hc,Sv]=g.useState(null),[dB,N2]=g.useState(null),[ho,_h]=g.useState(null),fB=ae?Ee:rT,{apmSpecBuckets:fl}=VW(fB),po=g.useMemo(()=>ue?F.playerSkillBreakdowns||[]:Db,[ue,F.playerSkillBreakdowns]),Nv=g.useMemo(()=>{const j=new Map;return po.forEach(I=>j.set(I.key,I)),j},[po]),yu=g.useMemo(()=>{const j=new Map;return po.forEach(I=>{const E=I.profession||"Unknown";j.has(E)||j.set(E,{profession:E,players:[],skills:new Map});const xe=j.get(E);xe.players.push(I),I.skills.forEach(Ce=>{var X;const je=xe.skills.get(Ce.id)||{...Ce,damage:0,downContribution:0};je.damage+=Number(Ce.damage||0),je.downContribution+=Number(Ce.downContribution||0),!je.icon&&Ce.icon&&(je.icon=Ce.icon),(X=je.name)!=null&&X.startsWith("Skill ")&&!Ce.name.startsWith("Skill ")&&(je.name=Ce.name),xe.skills.set(Ce.id,je)})}),Array.from(j.values()).map(I=>{const E=Array.from(I.skills.values()).sort((Ce,je)=>je.damage-Ce.damage),xe=E.reduce((Ce,je)=>(Ce[je.id]=je,Ce),{});return{profession:I.profession,players:I.players,skills:E,skillMap:xe}}).sort((I,E)=>I.profession.localeCompare(E.profession))},[po]),go=mc&&Nv.get(mc)||null,mB=go&&Us&&(((R2=go.skillMap)==null?void 0:R2[Us])||go.skills.find(j=>j.id===Us))||null,Cv=g.useMemo(()=>{const j=new Map;return yu.forEach(I=>j.set(I.profession,I)),j},[yu]),ml=hc&&Cv.get(hc)||null,hB=ml&&ho&&((B2=ml.skillMap)==null?void 0:B2[ho])||null,Lh=(j,I)=>{if(!I)return null;const E=Number(I.index);if(Number.isInteger(E)&&E>=0&&E<j.length)return j[E]||null;const xe=String(I.fightId||"").trim();return xe&&j.find(Ce=>String((Ce==null?void 0:Ce.id)||"").trim()===xe)||null},hl=j=>{if(j&&typeof j=="object"){const E=Number((j==null?void 0:j.damage)||0),xe=Array.isArray(j==null?void 0:j.skillRows)?j.skillRows:void 0,Ce=(xe||[]).reduce((je,X)=>je+Number((X==null?void 0:X.downContribution)||0),0);return{hit:Number((j==null?void 0:j.hit)??E),burst1s:Number((j==null?void 0:j.burst1s)||0),burst5s:Number((j==null?void 0:j.burst5s)||0),burst30s:Number((j==null?void 0:j.burst30s)||0),hitDown:Number((j==null?void 0:j.hitDown)||Ce||0),burst1sDown:Number((j==null?void 0:j.burst1sDown)||0),burst5sDown:Number((j==null?void 0:j.burst5sDown)||0),burst30sDown:Number((j==null?void 0:j.burst30sDown)||0),skillName:String((j==null?void 0:j.skillName)||""),buckets5s:Array.isArray(j==null?void 0:j.buckets5s)?j.buckets5s:void 0,buckets5sDown:Array.isArray(j==null?void 0:j.buckets5sDown)?j.buckets5sDown:void 0,downIndices5s:Array.isArray(j==null?void 0:j.downIndices5s)?j.downIndices5s:void 0,deathIndices5s:Array.isArray(j==null?void 0:j.deathIndices5s)?j.deathIndices5s:void 0,skillRows:xe}}return{hit:Number(j||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},Na=g.useMemo(()=>{if(!Ke)return{fights:[],players:[]};const j=ge=>String(ge||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=ge=>j(ge).toLowerCase().split(/[^a-z0-9]+/i).map(Xe=>Xe.trim()).filter(Boolean).map(Xe=>Xe.length>3&&Xe.endsWith("s")?Xe.slice(0,-1):Xe),E=(ge,Xe)=>{const oe=j(ge),Dt=j(Xe);if(!Dt)return oe;if(!oe)return Dt;const Ct=I(oe),ln=I(Dt),dn=new Set(Ct),tr=new Set(ln),Ht=ln.length>0&&ln.every(Bt=>dn.has(Bt)),en=Ct.length>0&&Ct.every(Bt=>tr.has(Bt));return Ht||en?oe:`${oe} - ${Dt}`},xe=ge=>{if(ge==null||ge==="")return 0;if(typeof ge=="number")return!Number.isFinite(ge)||ge<=0?0:ge>1e12?ge:ge*1e3;if(ge instanceof Date){const dn=ge.getTime();return Number.isFinite(dn)&&dn>0?dn:0}const Xe=String(ge).trim();if(!Xe)return 0;const oe=Number(Xe);if(Number.isFinite(oe)&&oe>0)return oe>1e12?oe:oe*1e3;const Dt=Date.parse(Xe);if(Number.isFinite(Dt)&&Dt>0)return Dt;const Ct=Xe.replace(/([+-]\d{2})$/,"$1:00"),ln=Date.parse(Ct);return Number.isFinite(ln)&&ln>0?ln:0},Ce=(ge,Xe)=>xe((ge==null?void 0:ge.uploadTime)??(Xe==null?void 0:Xe.uploadTime)??(ge==null?void 0:ge.timeStartStd)??(ge==null?void 0:ge.timeStart)??(ge==null?void 0:ge.timeEndStd)??(ge==null?void 0:ge.timeEnd)),je=F==null?void 0:F.spikeDamage,X=Array.isArray(je==null?void 0:je.fights)?je.fights:[],at=Array.isArray(je==null?void 0:je.players)?je.players:[],vt=X.some(ge=>(ge!=null&&ge.values&&typeof ge.values=="object"?Object.values(ge.values):[]).some(oe=>oe&&typeof oe=="object"&&(Number(oe.burst1s||0)>0||Number(oe.burst5s||0)>0||Number(oe.burst30s||0)>0)))||at.some(ge=>Number((ge==null?void 0:ge.peak1s)||0)>0||Number((ge==null?void 0:ge.peak5s)||0)>0||Number((ge==null?void 0:ge.peak30s)||0)>0),tt=X.some(ge=>(ge!=null&&ge.values&&typeof ge.values=="object"?Object.values(ge.values):[]).some(oe=>oe&&typeof oe=="object"&&(Number(oe.hitDown||0)>0||Number(oe.burst1sDown||0)>0||Number(oe.burst5sDown||0)>0||Number(oe.burst30sDown||0)>0)))||at.some(ge=>Number((ge==null?void 0:ge.peakHitDown)||0)>0||Number((ge==null?void 0:ge.peak1sDown)||0)>0||Number((ge==null?void 0:ge.peak5sDown)||0)>0||Number((ge==null?void 0:ge.peak30sDown)||0)>0);if((X.length>0||at.length>0)&&(vt||e.length===0)&&(Jr!=="downContribution"||tt||e.length===0)){const ge=X.map((oe,Dt)=>{const Ct=oe!=null&&oe.values&&typeof oe.values=="object"?oe.values:{};return{id:String((oe==null?void 0:oe.id)||`fight-${Dt+1}`),shortLabel:String((oe==null?void 0:oe.shortLabel)||`F${Dt+1}`),fullLabel:j((oe==null?void 0:oe.fullLabel)||`Fight ${Dt+1}`),timestamp:Number((oe==null?void 0:oe.timestamp)||0),values:Ct,maxHit:Number((oe==null?void 0:oe.maxHit)??(oe==null?void 0:oe.maxDamage)??0),max1s:Number((oe==null?void 0:oe.max1s)||0),max5s:Number((oe==null?void 0:oe.max5s)||0),max30s:Number((oe==null?void 0:oe.max30s)||0),maxHitDown:Number((oe==null?void 0:oe.maxHitDown)||0),max1sDown:Number((oe==null?void 0:oe.max1sDown)||0),max5sDown:Number((oe==null?void 0:oe.max5sDown)||0),max30sDown:Number((oe==null?void 0:oe.max30sDown)||0)}}),Xe=at.map(oe=>({key:String((oe==null?void 0:oe.key)||""),account:String((oe==null?void 0:oe.account)||"Unknown"),displayName:String((oe==null?void 0:oe.displayName)||(oe==null?void 0:oe.account)||"Unknown"),characterName:String((oe==null?void 0:oe.characterName)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.character_name)||(oe==null?void 0:oe.display_name)||""),profession:String((oe==null?void 0:oe.profession)||"Unknown"),professionList:Array.isArray(oe==null?void 0:oe.professionList)?oe.professionList.map(Dt=>String(Dt)):[],logs:Number((oe==null?void 0:oe.logs)||0),peakHit:Number((oe==null?void 0:oe.peakHit)||0),peak1s:Number((oe==null?void 0:oe.peak1s)||0),peak5s:Number((oe==null?void 0:oe.peak5s)||0),peak30s:Number((oe==null?void 0:oe.peak30s)||0),peakHitDown:Number((oe==null?void 0:oe.peakHitDown)||0),peak1sDown:Number((oe==null?void 0:oe.peak1sDown)||0),peak5sDown:Number((oe==null?void 0:oe.peak5sDown)||0),peak30sDown:Number((oe==null?void 0:oe.peak30sDown)||0),peakFightLabel:j((oe==null?void 0:oe.peakFightLabel)||""),peakSkillName:String((oe==null?void 0:oe.peakSkillName)||"")}));return{fights:ge,players:Xe}}const Et=(ge,Xe)=>{const oe=(Xe==null?void 0:Xe.skillMap)||{},Dt=(Xe==null?void 0:Xe.buffMap)||{};let Ct=0,ln=0,dn="";const tr=Bt=>{const gn=Number(Bt);if(!Number.isFinite(gn))return String(Bt||"Unknown Skill");const nr=(oe==null?void 0:oe[`s${gn}`])||(oe==null?void 0:oe[`${gn}`]);if(nr!=null&&nr.name)return String(nr.name);const Ua=(Dt==null?void 0:Dt[`b${gn}`])||(Dt==null?void 0:Dt[`${gn}`]);return Ua!=null&&Ua.name?String(Ua.name):`Skill ${gn}`},Ht=Bt=>{if(!Bt||typeof Bt!="object")return;const gn=[Number(Bt.max),Number(Bt.maxDamage),Number(Bt.maxHit)].filter(Zd=>Number.isFinite(Zd)),nr=gn.length>0?Math.max(...gn):0;nr>Ct&&(Ct=nr,dn=tr(Bt.id));const Ua=Number(Bt.downContribution||0);Ua>ln&&(ln=Ua)};let en=!1;return Array.isArray(ge==null?void 0:ge.targetDamageDist)&&ge.targetDamageDist.forEach(Bt=>{Array.isArray(Bt)&&Bt.forEach(gn=>{Array.isArray(gn)&&gn.forEach(nr=>{en=!0,Ht(nr)})})}),(!en||Ct<=0)&&Array.isArray(ge==null?void 0:ge.totalDamageDist)&&ge.totalDamageDist.forEach(Bt=>{Array.isArray(Bt)&&Bt.forEach(gn=>Ht(gn))}),{peak:Ct,peakDownContribution:ln,skillName:dn||"Unknown Skill"}},Rt=ge=>{const Xe=Ht=>{if(!Array.isArray(Ht)||Ht.length===0)return[];const en=[];for(let Bt=0;Bt<Ht.length;Bt+=1){const gn=Number(Ht[Bt]||0),nr=Bt>0?Number(Ht[Bt-1]||0):0;en.push(Math.max(0,gn-nr))}return en},oe=Ht=>{if(!Array.isArray(Ht))return[];const en=Ht.reduce((gn,nr)=>Math.max(gn,Array.isArray(nr)?nr.length:0),0);if(en<=0)return[];const Bt=new Array(en).fill(0);return Ht.forEach(gn=>{if(Array.isArray(gn))for(let nr=0;nr<en;nr+=1)Bt[nr]+=Number(gn[nr]||0)}),Bt},Dt=Ht=>Array.isArray(Ht)?Ht.map(en=>Number(en||0)):null,ln=(Ht=>{if(!Array.isArray(Ht)||Ht.length===0)return null;const en=Ht[0];if(!Array.isArray(en))return null;if(Array.isArray(en[0])&&Array.isArray(en[0][0]))return oe(en);if(Array.isArray(en[0])&&!Array.isArray(en[0][0])){const Bt=Ht.map(gn=>Dt(Array.isArray(gn)?gn[0]:null)).filter(gn=>Array.isArray(gn)&&gn.length>0);if(Bt.length>0)return oe(Bt)}return null})(ge==null?void 0:ge.targetDamage1S),dn=Array.isArray(ge==null?void 0:ge.damage1S)&&Array.isArray(ge.damage1S[0])?ge.damage1S[0]:null,tr=ln||(Array.isArray(dn)?dn.map(Ht=>Number(Ht||0)):[]);return Xe(tr)},on=(ge,Xe)=>{if(!Array.isArray(ge)||ge.length===0||Xe<=0)return 0;let oe=0,Dt=0;for(let Ct=0;Ct<ge.length;Ct+=1)oe+=Number(ge[Ct]||0),Ct>=Xe&&(oe-=Number(ge[Ct-Xe]||0)),Ct>=Xe-1&&oe>Dt&&(Dt=oe);return Math.max(0,Dt)},Vt=(ge,Xe)=>{if(!Array.isArray(ge)||ge.length===0||Xe<=0)return[];const oe=[];for(let Dt=0;Dt<ge.length;Dt+=Xe){const Ct=Math.min(Dt+Xe,ge.length),ln=ge.slice(Dt,Ct).reduce((dn,tr)=>dn+Number(tr||0),0);oe.push(ln)}return oe},nn=(ge,Xe)=>{let oe=0,Dt=0;const Ct=new Map,ln=tr=>{if(!tr||typeof tr!="object"||tr.indirectDamage)return;const Ht=Number(tr.totalDamage||0),en=Number(tr.downContribution||0);!Number.isFinite(Ht)&&!Number.isFinite(en)||(oe+=Number.isFinite(Ht)?Ht:0,Dt+=Number.isFinite(en)?en:0)};return Array.isArray(ge==null?void 0:ge.targetDamageDist)&&ge.targetDamageDist.forEach(tr=>{Array.isArray(tr)&&tr.forEach(Ht=>{Array.isArray(Ht)&&Ht.forEach(en=>{const Bt=Number(en==null?void 0:en.id);if(Number.isFinite(Bt)){const gn=Ct.get(Bt)||{damage:0,downContribution:0};gn.damage+=Number((en==null?void 0:en.totalDamage)||0),gn.downContribution+=Number((en==null?void 0:en.downContribution)||0),Ct.set(Bt,gn)}ln(en)})})}),!(Xe!=null&&Xe.detailedWvW)&&Array.isArray(ge==null?void 0:ge.totalDamageDist)&&ge.totalDamageDist.forEach(tr=>{Array.isArray(tr)&&tr.forEach(Ht=>{const en=Number(Ht==null?void 0:Ht.id);if(!Number.isFinite(en)){ln(Ht);return}const Bt=Ct.get(en);if(!Bt){ln(Ht);return}const gn=Number((Ht==null?void 0:Ht.totalDamage)||0)-Number(Bt.damage||0),nr=Number((Ht==null?void 0:Ht.downContribution)||0)-Number(Bt.downContribution||0);gn<=0&&nr<=0||ln({...Ht,totalDamage:Math.max(0,gn),downContribution:Math.max(0,nr)})})}),{damageTotal:Math.max(0,oe),downContributionTotal:Math.max(0,Dt)}},Kn=[],Yt=new Map;e.forEach(ge=>{const Xe=ge==null?void 0:ge.details;if(!Xe)return;const oe=Kn.length+1,Dt=j(Xe.fightName||ge.fightName||`Fight ${oe}`),Ct=Xe.zone||Xe.mapName||Xe.map||Xe.location||"",ln=E(Dt,String(Ct||"")),dn={};(Array.isArray(Xe.players)?Xe.players:[]).forEach(cn=>{if(cn!=null&&cn.notInSquad)return;const xn=String((cn==null?void 0:cn.account)||(cn==null?void 0:cn.name)||"Unknown"),Jd=String((cn==null?void 0:cn.character_name)||(cn==null?void 0:cn.display_name)||(cn==null?void 0:cn.name)||""),gl=String((cn==null?void 0:cn.profession)||"Unknown"),Nu=`${xn}|${gl}`,xl=Et(cn,Xe),wo=Number(xl.peak||0),ef=Number(xl.peakDownContribution||0),vl=Rt(cn),{damageTotal:Hh,downContributionTotal:pc}=nn(cn,Xe),qh=Hh>0?Math.min(1,Math.max(0,pc/Hh)):0,bl=vl.map(ps=>Number(ps||0)*qh),Cu=Number(on(vl,1)||0),Fe=Number(on(vl,5)||0),kt=Number(on(vl,30)||0),qt=Number(on(bl,1)||0),Cn=Number(on(bl,5)||0),rn=Number(on(bl,30)||0),Xt=Math.max(0,Math.ceil(Number((Xe==null?void 0:Xe.durationMS)||0)/5e3)),jn=Math.max(0,Math.ceil(vl.length/5)),hi=Math.max(0,Math.ceil(bl.length/5)),Fr=Math.max(Xt,jn,hi),gc=Vt(vl,5),Kh=Vt(bl,5),cr=Array.from({length:Fr},(ps,xc)=>Number(gc[xc]||0)),Wa=Array.from({length:Fr},(ps,xc)=>Number(Kh[xc]||0));dn[Nu]={hit:wo,burst1s:Cu,burst5s:Fe,burst30s:kt,hitDown:ef,burst1sDown:qt,burst5sDown:Cn,burst30sDown:rn,skillName:xl.skillName,buckets5s:cr,buckets5sDown:Wa};const Ln=Yt.get(Nu)||{key:Nu,account:xn,displayName:xn,characterName:Jd,profession:gl,professionList:[gl],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Ln.logs+=1,Ln.professionList.includes(gl)||Ln.professionList.push(gl),!Ln.characterName&&Jd&&(Ln.characterName=Jd),wo>Ln.peakHit&&(Ln.peakHit=wo,Ln.peakFightLabel=ln,Ln.peakSkillName=xl.skillName),Cu>Ln.peak1s&&(Ln.peak1s=Cu),Fe>Ln.peak5s&&(Ln.peak5s=Fe),kt>Ln.peak30s&&(Ln.peak30s=kt),ef>Ln.peakHitDown&&(Ln.peakHitDown=ef),qt>Ln.peak1sDown&&(Ln.peak1sDown=qt),Cn>Ln.peak5sDown&&(Ln.peak5sDown=Cn),rn>Ln.peak30sDown&&(Ln.peak30sDown=rn),Yt.set(Nu,Ln)});const Ht=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.hit)||0)),0),en=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst1s)||0)),0),Bt=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst5s)||0)),0),gn=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst30s)||0)),0),nr=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.hitDown)||0)),0),Ua=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst1sDown)||0)),0),Zd=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst5sDown)||0)),0),z2=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst30sDown)||0)),0);Kn.push({id:ge.filePath||ge.id||`fight-${oe}`,shortLabel:`F${oe}`,fullLabel:ln,timestamp:Ce(Xe,ge),values:dn,maxHit:Ht,max1s:en,max5s:Bt,max30s:gn,maxHitDown:nr,max1sDown:Ua,max5sDown:Zd,max30sDown:z2})});const Mn=Array.from(Yt.values()).sort((ge,Xe)=>Xe.peakHit!==ge.peakHit?Xe.peakHit-ge.peakHit:ge.displayName.localeCompare(Xe.displayName));return{fights:Kn,players:Mn}},[e,F,Ke,Jr]),Ca=g.useMemo(()=>{if(!Ye)return{fights:[],players:[]};const j=X=>String(X||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),I=F==null?void 0:F.incomingStrikeDamage,E=Array.isArray(I==null?void 0:I.fights)?I.fights:[],xe=Array.isArray(I==null?void 0:I.players)?I.players:[];if(E.length===0&&xe.length===0)return{fights:[],players:[]};const Ce=E.map((X,at)=>{const vt=X!=null&&X.values&&typeof X.values=="object"?X.values:{};return{id:String((X==null?void 0:X.id)||`fight-${at+1}`),shortLabel:String((X==null?void 0:X.shortLabel)||`F${at+1}`),fullLabel:j((X==null?void 0:X.fullLabel)||`Fight ${at+1}`),timestamp:Number((X==null?void 0:X.timestamp)||0),values:vt,maxHit:Number((X==null?void 0:X.maxHit)??(X==null?void 0:X.maxDamage)??0),max1s:Number((X==null?void 0:X.max1s)||0),max5s:Number((X==null?void 0:X.max5s)||0),max30s:Number((X==null?void 0:X.max30s)||0),maxHitDown:Number((X==null?void 0:X.maxHitDown)||0),max1sDown:Number((X==null?void 0:X.max1sDown)||0),max5sDown:Number((X==null?void 0:X.max5sDown)||0),max30sDown:Number((X==null?void 0:X.max30sDown)||0)}}),je=xe.map(X=>({key:String((X==null?void 0:X.key)||""),account:String((X==null?void 0:X.account)||"Unknown"),displayName:String((X==null?void 0:X.displayName)||(X==null?void 0:X.account)||"Unknown"),characterName:String((X==null?void 0:X.characterName)||(X==null?void 0:X.name)||(X==null?void 0:X.character_name)||(X==null?void 0:X.display_name)||""),profession:String((X==null?void 0:X.profession)||"Unknown"),professionList:Array.isArray(X==null?void 0:X.professionList)?X.professionList.map(at=>String(at)):[],logs:Number((X==null?void 0:X.logs)||0),peakHit:Number((X==null?void 0:X.peakHit)||0),peak1s:Number((X==null?void 0:X.peak1s)||0),peak5s:Number((X==null?void 0:X.peak5s)||0),peak30s:Number((X==null?void 0:X.peak30s)||0),peakHitDown:Number((X==null?void 0:X.peakHitDown)||0),peak1sDown:Number((X==null?void 0:X.peak1sDown)||0),peak5sDown:Number((X==null?void 0:X.peak5sDown)||0),peak30sDown:Number((X==null?void 0:X.peak30sDown)||0),peakFightLabel:j((X==null?void 0:X.peakFightLabel)||""),peakSkillName:String((X==null?void 0:X.peakSkillName)||"")}));return{fights:Ce,players:je}},[F,Ye]),Gd=g.useMemo(()=>{const j=new Map;return Na.players.forEach(I=>j.set(I.key,I)),j},[Na.players]),pB=g.useMemo(()=>{const j=Ce=>Jr==="downContribution"?Bn==="hit"?Ce.peakHitDown:Bn==="1s"?Ce.peak1sDown:Bn==="5s"?Ce.peak5sDown:Ce.peak30sDown:Bn==="hit"?Ce.peakHit:Bn==="1s"?Ce.peak1s:Bn==="5s"?Ce.peak5s:Ce.peak30s,I=Me.trim().toLowerCase(),E=I?Na.players.filter(Ce=>Ce.displayName.toLowerCase().includes(I)||Ce.account.toLowerCase().includes(I)||Ce.profession.toLowerCase().includes(I)):Na.players,xe=new Map;return E.forEach(Ce=>{const je=Ce.profession||"Unknown",X=xe.get(je)||[];X.push(Ce),xe.set(je,X)}),Array.from(xe.entries()).map(([Ce,je])=>({profession:Ce,players:[...je].sort((X,at)=>j(at)-j(X)||X.displayName.localeCompare(at.displayName))})).sort((Ce,je)=>Ce.profession.localeCompare(je.profession))},[Na.players,Me,Bn,Jr]),gB=Fn&&Gd.get(Fn)||null,Ws=g.useMemo(()=>{if(!Fn)return[];const j=E=>E?Number(Jr==="downContribution"?Bn==="hit"?E.hitDown||0:Bn==="1s"?E.burst1sDown||0:Bn==="5s"?E.burst5sDown||0:E.burst30sDown||0:Bn==="hit"?E.hit||0:Bn==="1s"?E.burst1s||0:Bn==="5s"?E.burst5s||0:E.burst30s||0):0,I=E=>Number(Jr==="downContribution"?Bn==="hit"?E.maxHitDown||0:Bn==="1s"?E.max1sDown||0:Bn==="5s"?E.max5sDown||0:E.max30sDown||0:Bn==="hit"?E.maxHit||0:Bn==="1s"?E.max1s||0:Bn==="5s"?E.max5s||0:E.max30s||0);return Na.fights.map((E,xe)=>({index:xe,fightId:E.id,shortLabel:E.shortLabel,fullLabel:E.fullLabel,timestamp:Number(E.timestamp||0),damage:j(hl(E.values[Fn])),maxDamage:I(E),skillName:String(hl(E.values[Fn]).skillName||"")}))},[Na.fights,Fn,Bn,Jr]),xB=g.useMemo(()=>{const j=Ws.reduce((E,xe)=>Math.max(E,Number(xe.damage||0)),0),I=Ws.reduce((E,xe)=>Math.max(E,Number(xe.maxDamage||0)),0);return Math.max(1,j,I)},[Ws]),$h=g.useMemo(()=>{var bl,Cu;const j=ji===null?null:Ws.find(Fe=>Fe.index===ji)||null;if(!j||!Fn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const I=Lh(Na.fights,j),[E,xe]=Fn.split("|"),Ce=e.find(Fe=>String((Fe==null?void 0:Fe.filePath)||(Fe==null?void 0:Fe.id)||"")===String(j.fightId||"")),je=Ce==null?void 0:Ce.details,X=Fe=>Array.isArray(Fe)?Fe.map(kt=>Array.isArray(kt)?[Number(kt[0]),Number(kt[1])]:kt&&typeof kt=="object"?[Number(kt.time),Number(kt.value)]:null).filter(kt=>!!kt&&Number.isFinite(kt[0])&&kt[0]>=0):[],at=Fe=>String(Fe||"").trim().toLowerCase(),vt=at(E),tt=at(xe),Pt=Gd.get(Fn),Et=new Set([at(Pt==null?void 0:Pt.displayName),at(Pt==null?void 0:Pt.characterName),at(Pt==null?void 0:Pt.account)].filter(Boolean)),Rt=Array.isArray(je==null?void 0:je.players)&&((bl=je.players.map(Fe=>{const kt=at(Fe==null?void 0:Fe.account),qt=at(Fe==null?void 0:Fe.name),Cn=at(Fe==null?void 0:Fe.profession),rn=!!kt&&kt===vt,Xt=!!qt&&(qt===vt||Et.has(qt)),jn=!!kt&&Et.has(kt),hi=!tt||Cn===tt;let Fr=0;return rn&&(Fr+=100),Xt&&(Fr+=90),jn&&(Fr+=80),hi&&(Fr+=20),{player:Fe,score:Fr}}).filter(Fe=>Fe.score>0).sort((Fe,kt)=>kt.score-Fe.score)[0])==null?void 0:bl.player)||null,on=(()=>{const Fe=Rt==null?void 0:Rt.combatReplayData;return Array.isArray(Fe)?Fe.filter(kt=>kt&&typeof kt=="object"):Fe&&typeof Fe=="object"?[Fe]:[]})(),Vt=on.flatMap(Fe=>X(Fe==null?void 0:Fe.down).map(([kt])=>kt)),nn=on.flatMap(Fe=>X(Fe==null?void 0:Fe.dead).map(([kt])=>kt)),Kn=on.map(Fe=>Number(Fe==null?void 0:Fe.start)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0),Yt=Array.isArray(je==null?void 0:je.players)?je.players.flatMap(Fe=>{const kt=Fe==null?void 0:Fe.combatReplayData;return Array.isArray(kt)?kt.map(qt=>Number(qt==null?void 0:qt.start)):[Number(kt==null?void 0:kt.start)]}).filter(Fe=>Number.isFinite(Fe)&&Fe>=0).reduce((Fe,kt)=>Math.min(Fe,kt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Mn=[0,Number((je==null?void 0:je.logStartOffset)||0),...Kn,Number.isFinite(Yt)?Yt:0].filter(Fe=>Number.isFinite(Fe)&&Fe>=0),ge=Fe=>{const kt=Math.max(0,Math.floor(Number(Fe||0)/1e3)),qt=Math.floor(kt/5)*5;return`${qt}s-${qt+5}s`},Xe=(Fe,kt)=>{if(Fe.length===0||kt.length===0)return[];const qt=kt.length*5e3,Cn=cr=>cr.reduce((Wa,Ln)=>Ln>=0&&Ln<=qt+2e3?Wa+1:Wa,0),rn=[],Xt=Fe.map(cr=>Number(cr||0)).filter(cr=>Number.isFinite(cr)&&cr>=0);if(Xt.length===0)return[];rn.push(Xt);const jn=Xt.reduce((cr,Wa)=>Math.max(cr,Wa),0),hi=Xt.reduce((cr,Wa)=>Math.min(cr,Wa),Number.POSITIVE_INFINITY);jn>qt*20&&rn.push(Xt.map(cr=>cr/1e3)),jn<=qt*2&&hi>=0&&jn>0&&jn<Math.max(120,kt.length*5+10)&&rn.push(Xt.map(cr=>cr*1e3));let Fr=Xt,gc=0,Kh=-1;return rn.forEach(cr=>{const Wa=new Set(Mn),Ln=cr.reduce((ps,xc)=>Math.min(ps,xc),Number.POSITIVE_INFINITY);if(Number.isFinite(Ln)&&qt>0&&Ln>qt){const ps=Math.floor(Ln/qt)*qt;Wa.add(ps),Wa.add(Math.max(0,ps-qt))}Wa.forEach(ps=>{const xc=cr.map(pz=>pz-ps),U2=Cn(xc);U2>Kh&&(Kh=U2,gc=ps,Fr=cr)})}),Fr.map(cr=>cr-gc).filter(cr=>Number.isFinite(cr)&&cr>=0)},oe=(Fe,kt)=>{if(Fe.length===0||kt.length===0)return[];const qt=Xe(kt,Fe),Cn=new Map;Fe.forEach(Xt=>{const jn=/^(\d+)s-/.exec(String(Xt));if(!jn)return;const hi=Number(jn[1]);Number.isFinite(hi)&&Cn.set(hi,Xt)});const rn=[];return qt.forEach(Xt=>{const jn=Math.max(0,Math.floor(Number(Xt||0)/1e3)),hi=Math.floor(jn/5)*5,Fr=Cn.get(hi)||ge(Xt);Fe.includes(Fr)&&rn.push(Fr)}),Array.from(new Set(rn))},Dt=(Fe,kt)=>{if(Fe<=0||kt.length===0)return[];const qt=Array.from({length:Fe},(Xt,jn)=>`${jn*5}s-${(jn+1)*5}s`),rn=Xe(kt,qt).map(Xt=>Math.floor(Math.max(0,Number(Xt||0))/5e3)).filter(Xt=>Number.isFinite(Xt)&&Xt>=0&&Xt<Fe);return Array.from(new Set(rn))},Ct=hl((Cu=I==null?void 0:I.values)==null?void 0:Cu[Fn]),ln=Jr==="downContribution"?Array.isArray(Ct==null?void 0:Ct.buckets5sDown)?(Ct==null?void 0:Ct.buckets5sDown)||[]:[]:Array.isArray(Ct==null?void 0:Ct.buckets5s)?(Ct==null?void 0:Ct.buckets5s)||[]:[],dn=Array.isArray(Ct==null?void 0:Ct.downIndices5s)?Ct.downIndices5s.map(Fe=>Number(Fe)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0):[],tr=Array.isArray(Ct==null?void 0:Ct.deathIndices5s)?Ct.deathIndices5s.map(Fe=>Number(Fe)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0):[];if(ln.length>0){const Fe=Math.max(0,Math.ceil(Number((je==null?void 0:je.durationMS)||0)/5e3)),kt=Math.max(ln.length,Fe),qt=Array.from({length:kt},(rn,Xt)=>({label:`${Xt*5}s-${(Xt+1)*5}s`,value:Number(ln[Xt]||0)})),Cn=qt.map(rn=>rn.label);return{title:`Fight Breakdown - ${j.shortLabel||"Fight"} (5s ${Jr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:qt,downLabels:oe(Cn,Vt),deathLabels:oe(Cn,nn),downIndices:dn.length>0?dn.filter(rn=>rn<qt.length):Dt(qt.length,Vt),deathIndices:tr.length>0?tr.filter(rn=>rn<qt.length):Dt(qt.length,nn)}}const Ht=j.shortLabel||"Fight";if(!je||!Array.isArray(je.players))return{title:`Fight Breakdown - ${Ht}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const en=je.players.find(Fe=>String((Fe==null?void 0:Fe.account)||(Fe==null?void 0:Fe.name)||"Unknown")===E&&String((Fe==null?void 0:Fe.profession)||"Unknown")===xe);if(!en)return{title:`Fight Breakdown - ${Ht}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Bt=en,gn=()=>{let Fe=0,kt=0;const qt=new Map,Cn=rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const Xt=Number(rn.totalDamage||0),jn=Number(rn.downContribution||0);!Number.isFinite(Xt)&&!Number.isFinite(jn)||(Fe+=Number.isFinite(Xt)?Xt:0,kt+=Number.isFinite(jn)?jn:0)};return Array.isArray(Bt==null?void 0:Bt.targetDamageDist)&&Bt.targetDamageDist.forEach(rn=>{Array.isArray(rn)&&rn.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(jn=>{const hi=Number(jn==null?void 0:jn.id);if(Number.isFinite(hi)){const Fr=qt.get(hi)||{damage:0,downContribution:0};Fr.damage+=Number((jn==null?void 0:jn.totalDamage)||0),Fr.downContribution+=Number((jn==null?void 0:jn.downContribution)||0),qt.set(hi,Fr)}Cn(jn)})})}),!(je!=null&&je.detailedWvW)&&Array.isArray(Bt==null?void 0:Bt.totalDamageDist)&&Bt.totalDamageDist.forEach(rn=>{Array.isArray(rn)&&rn.forEach(Xt=>{const jn=Number(Xt==null?void 0:Xt.id);if(!Number.isFinite(jn)){Cn(Xt);return}const hi=qt.get(jn);if(!hi){Cn(Xt);return}const Fr=Number((Xt==null?void 0:Xt.totalDamage)||0)-Number(hi.damage||0),gc=Number((Xt==null?void 0:Xt.downContribution)||0)-Number(hi.downContribution||0);Fr<=0&&gc<=0||Cn({...Xt,totalDamage:Math.max(0,Fr),downContribution:Math.max(0,gc)})})}),Fe<=0?0:Math.min(1,Math.max(0,kt/Fe))},nr=Fe=>{if(!Array.isArray(Fe)||Fe.length===0)return[];const kt=[];for(let qt=0;qt<Fe.length;qt+=1){const Cn=Number(Fe[qt]||0),rn=qt>0?Number(Fe[qt-1]||0):0;kt.push(Math.max(0,Cn-rn))}return kt},Ua=Fe=>{if(!Array.isArray(Fe))return[];const kt=Fe.reduce((Cn,rn)=>Math.max(Cn,Array.isArray(rn)?rn.length:0),0);if(kt<=0)return[];const qt=new Array(kt).fill(0);return Fe.forEach(Cn=>{if(Array.isArray(Cn))for(let rn=0;rn<kt;rn+=1)qt[rn]+=Number(Cn[rn]||0)}),qt},Zd=Fe=>Array.isArray(Fe)?Fe.map(kt=>Number(kt||0)):null,cn=(Fe=>{if(!Array.isArray(Fe)||Fe.length===0)return null;const kt=Fe[0];if(!Array.isArray(kt))return null;if(Array.isArray(kt[0])&&Array.isArray(kt[0][0]))return Ua(kt);if(Array.isArray(kt[0])&&!Array.isArray(kt[0][0])){const qt=Fe.map(Cn=>Zd(Array.isArray(Cn)?Cn[0]:null)).filter(Cn=>Array.isArray(Cn)&&Cn.length>0);if(qt.length>0)return Ua(qt)}return null})(Bt==null?void 0:Bt.targetDamage1S),xn=Array.isArray(Bt==null?void 0:Bt.damage1S)&&Array.isArray(Bt.damage1S[0])?Bt.damage1S[0]:null,Jd=cn||(Array.isArray(xn)?xn.map(Fe=>Number(Fe||0)):[]),gl=nr(Jd),Nu=gn(),xl=Jr==="downContribution"?gl.map(Fe=>Number(Fe||0)*Nu):gl,wo=5,ef=Math.max(0,Math.ceil(Number((je==null?void 0:je.durationMS)||0)/(wo*1e3))),vl=Math.max(0,Math.ceil(xl.length/wo)),Hh=Math.max(ef,vl),pc=[];for(let Fe=0;Fe<Hh;Fe+=1){const kt=Fe*wo,qt=Math.min(kt+wo,xl.length),Cn=xl.slice(kt,qt).reduce((rn,Xt)=>rn+Number(Xt||0),0);pc.push({label:`${kt}s-${kt+wo}s`,value:Cn})}const qh=pc.map(Fe=>Fe.label);return{title:`Fight Breakdown - ${Ht} (5s ${Jr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:pc,downLabels:oe(qh,Vt),deathLabels:oe(qh,nn),downIndices:Dt(pc.length,Vt),deathIndices:Dt(pc.length,nn)}},[ji,Ws,Fn,e,Na.fights,Gd,Jr]),jv=g.useMemo(()=>{const j=new Map;return Ca.players.forEach(I=>j.set(I.key,I)),j},[Ca.players]),vB=g.useMemo(()=>{const j=Ce=>Ft==="hit"?Ce.peakHit:Ft==="1s"?Ce.peak1s:Ft==="5s"?Ce.peak5s:Ce.peak30s,I=pt.trim().toLowerCase(),E=I?Ca.players.filter(Ce=>Ce.displayName.toLowerCase().includes(I)||Ce.account.toLowerCase().includes(I)||Ce.profession.toLowerCase().includes(I)):Ca.players,xe=new Map;return E.forEach(Ce=>{const je=Ce.profession||"Unknown",X=xe.get(je)||[];X.push(Ce),xe.set(je,X)}),Array.from(xe.entries()).map(([Ce,je])=>({profession:Ce,players:[...je].sort((X,at)=>j(at)-j(X)||X.displayName.localeCompare(at.displayName))})).sort((Ce,je)=>Ce.profession.localeCompare(je.profession))},[Ca.players,pt,Ft]),bB=Re&&jv.get(Re)||null,Vs=g.useMemo(()=>{if(!Re)return[];const j=E=>E?Number(Ft==="hit"?E.hit||0:Ft==="1s"?E.burst1s||0:Ft==="5s"?E.burst5s||0:E.burst30s||0):0,I=E=>Number(Ft==="hit"?E.maxHit||0:Ft==="1s"?E.max1s||0:Ft==="5s"?E.max5s||0:E.max30s||0);return Ca.fights.map((E,xe)=>({index:xe,fightId:E.id,shortLabel:E.shortLabel,fullLabel:E.fullLabel,timestamp:Number(E.timestamp||0),damage:j(hl(E.values[Re])),maxDamage:I(E),skillName:String(hl(E.values[Re]).skillName||"")}))},[Ca.fights,Re,Ft]),yB=g.useMemo(()=>{const j=Vs.reduce((E,xe)=>Math.max(E,Number(xe.damage||0)),0),I=Vs.reduce((E,xe)=>Math.max(E,Number(xe.maxDamage||0)),0);return Math.max(1,j,I)},[Vs]),Fh=g.useMemo(()=>{var at;const j=Be===null?null:Vs.find(vt=>vt.index===Be)||null;if(!j||!Re)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const I=Lh(Ca.fights,j),E=hl((at=I==null?void 0:I.values)==null?void 0:at[Re]),xe=Array.isArray(E==null?void 0:E.buckets5s)?(E==null?void 0:E.buckets5s)||[]:[],Ce=Array.isArray(E==null?void 0:E.downIndices5s)?E.downIndices5s.map(vt=>Number(vt)).filter(vt=>Number.isFinite(vt)&&vt>=0):[],je=Array.isArray(E==null?void 0:E.deathIndices5s)?E.deathIndices5s.map(vt=>Number(vt)).filter(vt=>Number.isFinite(vt)&&vt>=0):[];if(xe.length>0){const vt=xe.map((tt,Pt)=>({label:`${Pt*5}s-${(Pt+1)*5}s`,value:Number(tt||0)}));return{title:`Fight Breakdown - ${j.shortLabel||"Fight"} (5s Damage Buckets)`,data:vt,downLabels:[],deathLabels:[],downIndices:Ce.filter(tt=>tt<vt.length),deathIndices:je.filter(tt=>tt<vt.length)}}const X=Number(Ft==="hit"?E.hit||0:Ft==="1s"?E.burst1s||0:Ft==="5s"?E.burst5s||0:E.burst30s||0);return X>0?{title:`Fight Breakdown - ${j.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:X}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${j.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Be,Vs,Re,Ca.fights,Ft]),wB=g.useMemo(()=>{var vt;if(Be===null||!Re)return[];const j=Vs.find(tt=>tt.index===Be);if(!j)return[];const I=Lh(Ca.fights,j),E=hl((vt=I==null?void 0:I.values)==null?void 0:vt[Re]),Ce=[...(E==null?void 0:E.skillRows)||[]].filter(tt=>Number((tt==null?void 0:tt.damage)||0)>0||Number((tt==null?void 0:tt.downContribution)||0)>0).sort((tt,Pt)=>Number(Pt.damage||0)-Number(tt.damage||0)).slice(0,30);if(Ce.length>0)return Ce;const je=e.find(tt=>String((tt==null?void 0:tt.filePath)||(tt==null?void 0:tt.id)||"")===String(j.fightId||"")),X=je==null?void 0:je.details;if(X&&Re){const tt=new Set(Object.keys(Qc)),Pt=Object.keys(Qc).filter(Yt=>Yt&&Yt!=="Unknown").sort((Yt,Mn)=>Mn.length-Yt.length),Et=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],Rt=Yt=>{if(!Yt)return"Unknown";const Mn=String(Yt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(tt.has(Mn))return Mn;const ge=Mn.toLowerCase();for(const oe of Pt)if(ge.includes(oe.toLowerCase()))return oe;return Et.find(oe=>ge.includes(oe.toLowerCase()))||Mn||"Unknown"},on=Yt=>{const Mn=Number(Yt);if(!Number.isFinite(Mn))return{name:String(Yt||"Unknown Skill"),icon:void 0};const ge=(X==null?void 0:X.skillMap)||{},Xe=(X==null?void 0:X.buffMap)||{},oe=(ge==null?void 0:ge[`s${Mn}`])||(ge==null?void 0:ge[`${Mn}`]);if(oe!=null&&oe.name)return{name:String(oe.name),icon:oe==null?void 0:oe.icon};const Dt=(Xe==null?void 0:Xe[`b${Mn}`])||(Xe==null?void 0:Xe[`${Mn}`]);return Dt!=null&&Dt.name?{name:String(Dt.name),icon:Dt==null?void 0:Dt.icon}:{name:`Skill ${Mn}`,icon:void 0}},Vt=new Map;(Array.isArray(X==null?void 0:X.targets)?X.targets:[]).forEach(Yt=>{!Yt||Yt.isFake||Yt.enemyPlayer===!1||Rt((Yt==null?void 0:Yt.profession)||(Yt==null?void 0:Yt.name)||(Yt==null?void 0:Yt.id))!==Re||Array.isArray(Yt==null?void 0:Yt.totalDamageDist)&&Yt.totalDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(Xe=>{if(!Xe||typeof Xe!="object"||Xe.indirectDamage)return;const oe=Number(Xe.totalDamage||0);if(!Number.isFinite(oe)||oe<=0)return;const Dt=Number(Xe.connectedHits||Xe.hits||0),Ct=on(Xe.id),ln=Ct.name,dn=Vt.get(ln)||{skillName:ln,damage:0,hits:0,icon:Ct.icon};dn.damage+=oe,dn.hits+=Number.isFinite(Dt)?Dt:0,!dn.icon&&Ct.icon&&(dn.icon=Ct.icon),Vt.set(ln,dn)})})});const Kn=Array.from(Vt.values()).filter(Yt=>Number((Yt==null?void 0:Yt.damage)||0)>0).sort((Yt,Mn)=>Number(Mn.damage||0)-Number(Yt.damage||0)).slice(0,30);if(Kn.length>0)return Kn}const at=Number((E==null?void 0:E.hit)||0);return at<=0?Ce:[{skillName:String((E==null?void 0:E.skillName)||"Unknown Skill"),damage:at,hits:1,icon:void 0}]},[Be,Re,Vs,Ca.fights,e]),kB=g.useMemo(()=>{var at;if(ji===null||!Fn)return[];const j=Ws.find(vt=>vt.index===ji);if(!j)return[];const I=Lh(Na.fights,j),E=hl((at=I==null?void 0:I.values)==null?void 0:at[Fn]),Ce=[...(E==null?void 0:E.skillRows)||[]].filter(vt=>Number((vt==null?void 0:vt.damage)||0)>0||Number((vt==null?void 0:vt.downContribution)||0)>0).sort((vt,tt)=>Number(tt.damage||0)-Number(vt.damage||0)).slice(0,30);if(Ce.length>0)return Ce;const je=e.find(vt=>String((vt==null?void 0:vt.filePath)||(vt==null?void 0:vt.id)||"")===String(j.fightId||"")),X=je==null?void 0:je.details;if(X&&Fn){const[vt,tt]=Fn.split("|"),Pt=Vt=>{const nn=Number(Vt);if(!Number.isFinite(nn))return{name:String(Vt||"Unknown Skill"),icon:void 0};const Kn=(X==null?void 0:X.skillMap)||{},Yt=(X==null?void 0:X.buffMap)||{},Mn=(Kn==null?void 0:Kn[`s${nn}`])||(Kn==null?void 0:Kn[`${nn}`]);if(Mn!=null&&Mn.name)return{name:String(Mn.name),icon:Mn==null?void 0:Mn.icon};const ge=(Yt==null?void 0:Yt[`b${nn}`])||(Yt==null?void 0:Yt[`${nn}`]);return ge!=null&&ge.name?{name:String(ge.name),icon:ge==null?void 0:ge.icon}:{name:`Skill ${nn}`,icon:void 0}},Et=new Map,on=(Array.isArray(X==null?void 0:X.players)?X.players:[]).find(Vt=>{if(Vt!=null&&Vt.notInSquad)return!1;const nn=String((Vt==null?void 0:Vt.account)||(Vt==null?void 0:Vt.name)||""),Kn=String((Vt==null?void 0:Vt.profession)||"Unknown"),Yt=nn===String(vt||""),Mn=Kn===String(tt||"");return Yt&&Mn})||null;if(on){const Vt=on,nn=ge=>{if(!ge||typeof ge!="object"||ge.indirectDamage)return;const Xe=Number(ge.totalDamage||0),oe=Number(ge.downContribution||0);if((!Number.isFinite(Xe)||Xe<=0)&&(!Number.isFinite(oe)||oe<=0))return;const Dt=Number(ge.connectedHits||ge.hits||0),Ct=Pt(ge.id),ln=Et.get(Ct.name)||{skillName:Ct.name,damage:0,downContribution:0,hits:0,icon:Ct.icon};ln.damage+=Number.isFinite(Xe)?Xe:0,ln.downContribution+=Number.isFinite(oe)?oe:0,ln.hits+=Number.isFinite(Dt)?Dt:0,!ln.icon&&Ct.icon&&(ln.icon=Ct.icon),Et.set(Ct.name,ln)},Kn=new Map;Array.isArray(Vt==null?void 0:Vt.targetDamageDist)&&Vt.targetDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(oe=>{const Dt=Number(oe==null?void 0:oe.id),Ct=Number((oe==null?void 0:oe.totalDamage)||0),ln=Number((oe==null?void 0:oe.downContribution)||0);if(Number.isFinite(Dt)){const dn=Kn.get(Dt)||{damage:0,downContribution:0,hits:0};dn.damage+=Number.isFinite(Ct)?Ct:0,dn.downContribution+=Number.isFinite(ln)?ln:0,dn.hits+=Number((oe==null?void 0:oe.connectedHits)||(oe==null?void 0:oe.hits)||0),Kn.set(Dt,dn)}nn(oe)})})}),!(X!=null&&X.detailedWvW)&&Array.isArray(Vt==null?void 0:Vt.totalDamageDist)&&Vt.totalDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(Xe=>{const oe=Number(Xe==null?void 0:Xe.id);if(!Number.isFinite(oe)){nn(Xe);return}const Dt=Kn.get(oe);if(!Dt){nn(Xe);return}const Ct=Number((Xe==null?void 0:Xe.totalDamage)||0),ln=Number((Xe==null?void 0:Xe.downContribution)||0),dn=Number((Xe==null?void 0:Xe.connectedHits)||(Xe==null?void 0:Xe.hits)||0),tr=Ct-Number(Dt.damage||0),Ht=ln-Number(Dt.downContribution||0),en=dn-Number(Dt.hits||0);tr<=0&&Ht<=0&&en<=0||nn({...Xe,totalDamage:Math.max(0,tr),downContribution:Math.max(0,Ht),connectedHits:Math.max(0,en),hits:Math.max(0,en)})})});const Mn=Array.from(Et.values()).filter(ge=>Number((ge==null?void 0:ge.damage)||0)>0||Number((ge==null?void 0:ge.downContribution)||0)>0).sort((ge,Xe)=>Number(Xe.damage||0)-Number(ge.damage||0)).slice(0,30);if(Mn.length>0)return Mn}}return Ce},[ji,Fn,Ws,Na.fights,e]);g.useEffect(()=>{if(po.length===0){mc!==null&&kv(null),Us!==null&&Ih(null);return}if(!mc||!Nv.has(mc)){const j=po[0].key;kv(j),S2(null)}},[po,Nv,mc,Us]),g.useEffect(()=>{if(!go||go.skills.length===0){Us!==null&&Ih(null);return}const j=go.skills.some(I=>I.id===Us);(!Us||!j)&&Ih(go.skills[0].id)},[go,Us]),g.useEffect(()=>{if(yu.length===0){hc!==null&&Sv(null),ho!==null&&_h(null);return}if(!hc||!Cv.has(hc)){const j=yu[0].profession;Sv(j),N2(null)}},[yu,Cv,hc,ho]),g.useEffect(()=>{if(!ml||ml.skills.length===0){ho!==null&&_h(null);return}const j=ml.skills.some(I=>I.id===ho);(!ho||!j)&&_h(ml.skills[0].id)},[ml,ho]),g.useEffect(()=>{if(Na.players.length===0){Fn!==null&&ms(null);return}(!Fn||!Gd.has(Fn))&&Fn!==null&&ms(null)},[Na.players,Gd,Fn]),g.useEffect(()=>{uc(null)},[Fn,Bn,Jr]),g.useEffect(()=>{if(ji===null)return;Ws.some(I=>I.index===ji)||uc(null)},[Ws,ji]),g.useEffect(()=>{if(Ca.players.length===0){Re!==null&&$e(null);return}(!Re||!jv.has(Re))&&Re!==null&&$e(null)},[Ca.players,jv,Re]),g.useEffect(()=>{gt(null)},[Re,Ft]),g.useEffect(()=>{if(Be===null)return;Vs.some(I=>I.index===Be)||gt(null)},[Vs,Be]);const SB=g.useMemo(()=>new Set(Ci),[Ci]),Rh=Z?Ee:rT,{playerMapByKey:xo,playerTotalsForSkill:wu,skillChartData:NB,skillChartMaxY:CB,groupedSkillUsagePlayers:jB}=HW({skillUsageData:Rh,selectedSkillId:lr,selectedPlayers:SB,skillUsageView:Ai==="perSecond"?"perSecond":"total"}),C2=g.useMemo(()=>{const j=new Map,I=je=>{je.forEach(X=>{const at=Ou(X==null?void 0:X.name)||(X==null?void 0:X.name);at&&X!=null&&X.icon&&!j.has(at)&&j.set(at,X.icon)})},E=je=>{je.forEach(X=>{Object.entries((X==null?void 0:X.conditions)||{}).forEach(([at,vt])=>{const tt=Ou(at)||at;vt!=null&&vt.icon&&!j.has(tt)&&j.set(tt,vt.icon)})})},xe=je=>{const X=new Map;return je.forEach(at=>{const vt=Ou(at==null?void 0:at.name)||(at==null?void 0:at.name);if(!vt)return;const tt=X.get(vt)||{name:vt,icon:(at==null?void 0:at.icon)||j.get(vt)||fp(vt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};tt.applications+=Number((at==null?void 0:at.applications)||0),tt.damage+=Number((at==null?void 0:at.damage)||0),at!=null&&at.applicationsFromUptime&&(tt.applicationsFromUptime+=Number(at.applicationsFromUptime||0)),at!=null&&at.applicationsFromBuffs&&(tt.applicationsFromBuffs+=Number(at.applicationsFromBuffs||0)),at!=null&&at.applicationsFromBuffsActive&&(tt.applicationsFromBuffsActive+=Number(at.applicationsFromBuffsActive||0)),!tt.icon&&(at!=null&&at.icon)&&(tt.icon=at.icon),tt.icon||(tt.icon=fp(vt)),X.set(vt,tt)}),Array.from(X.values())},Ce=je=>je.map(X=>{const at={};return Object.entries((X==null?void 0:X.conditions)||{}).forEach(([vt,tt])=>{const Pt=Ou(vt)||vt;if(!Pt)return;const Et=at[Pt]||{icon:(tt==null?void 0:tt.icon)||j.get(Pt)||fp(Pt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Et.applications+=Number((tt==null?void 0:tt.applications)||0),Et.damage+=Number((tt==null?void 0:tt.damage)||0),tt!=null&&tt.applicationsFromUptime&&(Et.applicationsFromUptime+=Number(tt.applicationsFromUptime||0)),tt!=null&&tt.applicationsFromBuffs&&(Et.applicationsFromBuffs+=Number(tt.applicationsFromBuffs||0)),tt!=null&&tt.applicationsFromBuffsActive&&(Et.applicationsFromBuffsActive+=Number(tt.applicationsFromBuffsActive||0)),!Et.icon&&(tt!=null&&tt.icon)&&(Et.icon=tt.icon),Et.icon||(Et.icon=fp(Pt)),Object.values((tt==null?void 0:tt.skills)||{}).forEach(Rt=>{const on=(Rt==null?void 0:Rt.name)||"Unknown",Vt=Et.skills[on]||{name:on,hits:0,damage:0,icon:Rt==null?void 0:Rt.icon};Vt.hits+=Number((Rt==null?void 0:Rt.hits)||0),Vt.damage+=Number((Rt==null?void 0:Rt.damage)||0),!Vt.icon&&(Rt!=null&&Rt.icon)&&(Vt.icon=Rt.icon),Et.skills[on]=Vt}),at[Pt]=Et}),{...X,conditions:at}});return(je,X)=>(I(je),E(X),{summary:xe(je),players:Ce(X)})},[]),j2=be?He==="outgoing"?F.outgoingConditionSummary:F.incomingConditionSummary:Db,A2=be?He==="outgoing"?F.outgoingConditionPlayers:F.incomingConditionPlayers:Db,{summary:Bh,players:AB}=g.useMemo(()=>C2(j2||[],A2||[]),[C2,j2,A2]);g.useEffect(()=>{if(!be||Oe==="all"||Bh.some(I=>I.name===Oe))return;const j=Ou(Oe);j&&Bh.some(I=>I.name===j)?Ve(j):Ve("all")},[Oe,Bh,Ve,be]);const PB=g.useMemo(()=>{const j={};return wu.forEach((I,E)=>{const xe=xo.get(E);if(!xe)return;const Ce=xe.profession;(!j[Ce]||I>j[Ce])&&(j[Ce]=I)}),j},[wu,xo]),_t=Y,Hn=g.useCallback((j,I)=>{const E=_t(j);return d?`${I} ${E?"":"hidden"}`:`${I} transition-[opacity,transform] duration-700 ease-in-out ${E?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[_t,d]),P2=g.useMemo(()=>eoe.find(j=>_t(j))||null,[_t]),qn=g.useCallback(j=>j===P2,[P2]),DB=g.useMemo(()=>{const j=new Map,I=new Map;return Ci.forEach(E=>{const xe=xo.get(E);if(!xe)return;const Ce=wu.get(E)??0,je=I.get(xe.profession)||[];je.push({key:E,total:Ce}),I.set(xe.profession,je)}),I.forEach(E=>{E.sort((xe,Ce)=>Ce.total-xe.total),E.forEach((xe,Ce)=>{j.set(xe.key,Ce)})}),j},[Ci,xo,wu]),D2=["0","12 3","8 3","6 3","4 3","2 3"],TB=j=>{const I=xo.get(j),E=Io((I==null?void 0:I.profession)||""),xe=wu.get(j)??0,Ce=I!=null&&I.profession&&PB[I.profession]||1,X=.35+(Ce>0?xe/Ce:1)*.65;return zh(E,X)},MB=j=>{const I=DB.get(j)??0;return D2[I%D2.length]},EB=(j,I,E)=>{if(!E)return TB(j);const xe=xo.get(j),Ce=Io((xe==null?void 0:xe.profession)||"");return I?zh(Ce,1.2):zh(Ce,.5)},zh=(j,I)=>{const E=j.replace("#","");if(E.length!==6)return j;const xe=tt=>Math.max(0,Math.min(255,tt)),Ce=tt=>Number.parseInt(E.slice(tt,tt+2),16),je=tt=>xe(Math.round(tt)).toString(16).padStart(2,"0"),X=Ce(0),at=Ce(2),vt=Ce(4);return`#${je(X*I)}${je(at*I)}${je(vt*I)}`},T2=g.useMemo(()=>{const j=new Map;return Rh.skillOptions.forEach(I=>{j.set(I.id,{name:I.name,icon:I.icon})}),j},[Rh.skillOptions]),Yd=g.useMemo(()=>{var tt;if(Ci.length===0)return[];const j=new Map,I=new Map;let E=0;Ci.forEach(Pt=>{const Et=xo.get(Pt);if(!Et)return;E+=Et.totalActiveSeconds||0,Object.entries(Et.skillTotals||{}).forEach(([on,Vt])=>{j.set(on,(j.get(on)||0)+Number(Vt||0))});const Rt=Et.profession||"Unknown";I.set(Rt,(I.get(Rt)||0)+(Et.totalActiveSeconds||0))});const xe=Zr.trim().toLowerCase(),Ce=Ai==="perSecond",je=((tt=Array.from(I.entries()).sort((Pt,Et)=>Et[1]-Pt[1])[0])==null?void 0:tt[0])||"Unknown",X=Io(je),at="#64748b";return Array.from(j.entries()).map(([Pt,Et])=>{const Rt=T2.get(Pt),on=(Rt==null?void 0:Rt.name)||Pt,Vt=Ce&&E>0?Et/E:Et;return{skillId:Pt,name:on,icon:Rt==null?void 0:Rt.icon,total:Vt}}).filter(Pt=>Pt.total>0&&(!xe||Pt.name.toLowerCase().includes(xe))).sort((Pt,Et)=>Et.total-Pt.total).map((Pt,Et)=>({...Pt,color:Et===0?X:zh(X,.85-Math.min(Et*.06,.4))||at}))},[Ci,xo,Zr,Ai,T2]);g.useEffect(()=>{if(Z){if(Yd.length===0){lr!==null&&fs(null);return}(!lr||!Yd.some(j=>j.skillId===lr))&&fs(Yd[0].skillId)}},[Yd,lr,fs,Z]);const ku=Rh.skillOptions.find(j=>j.id===lr),OB=(ku==null?void 0:ku.name)||"",IB=(ku==null?void 0:ku.icon)||null,_B=Le&&!!lr&&Ci.length>0,Uh="__all__",LB=Le&&fl.length>0,vo=g.useMemo(()=>fl.find(j=>j.profession===zs)??null,[fl,zs]),$B=Yi===Uh,FB=g.useMemo(()=>{var j;return((j=vo==null?void 0:vo.skills)==null?void 0:j.find(I=>I.id===Yi))??null},[vo,Yi]);g.useEffect(()=>{if(fl.length===0){zs!==null&&dl(null),Li!==null&&fo(null);return}if(!zs||!fl.some(j=>j.profession===zs)){const j=fl[0].profession;dl(j),fo(null)}},[fl,zs,Li]),g.useEffect(()=>{if(!vo||vo.skills.length===0){Yi!==null&&mo(null);return}const j=vo.skills.some(I=>I.id===Yi);(!Yi||!j&&Yi!==Uh)&&mo(Uh)},[vo,Yi]);const RB=j=>{cl(I=>I.includes(j)?I.filter(E=>E!==j):[...I,j])},BB=j=>{cl(I=>I.filter(E=>E!==j))},zB=g.useMemo(()=>{const j=co.trim().toLowerCase(),I=F.boonTables||[];return j?I.filter(E=>E.name.toLowerCase().includes(j)):I},[F.boonTables,co]),UB=g.useMemo(()=>kn?(F.boonTables||[]).find(j=>j.id===kn)??null:null,[F.boonTables,kn]),Wh=j=>{var I,E,xe,Ce;return{selfBuffs:j!=null&&j.totals&&typeof j.totals=="object"?Number(((I=j==null?void 0:j.totals)==null?void 0:I.selfBuffs)||0):0,groupBuffs:j!=null&&j.totals&&typeof j.totals=="object"?Number(((E=j==null?void 0:j.totals)==null?void 0:E.groupBuffs)||0):0,squadBuffs:j!=null&&j.totals&&typeof j.totals=="object"?Number(((xe=j==null?void 0:j.totals)==null?void 0:xe.squadBuffs)||0):Number((j==null?void 0:j.total)||0),totalBuffs:j!=null&&j.totals&&typeof j.totals=="object"?Number((((Ce=j==null?void 0:j.totals)==null?void 0:Ce.totalBuffs)??(j==null?void 0:j.total))||0):Number((j==null?void 0:j.total)||0)}},Xd=(j,I)=>{const E=Wh(j),xe=Number((E==null?void 0:E[I])||0);return Number.isFinite(xe)?Math.max(0,xe):0},M2=ui==="selfBuffs"?"Self":ui==="groupBuffs"?"Group":ui==="squadBuffs"?"Squad":"All",bo=g.useMemo(()=>(Array.isArray(F==null?void 0:F.boonTimeline)?F.boonTimeline:[]).map(I=>({id:String((I==null?void 0:I.id)||""),name:String((I==null?void 0:I.name)||(I==null?void 0:I.id)||"Unknown Boon"),icon:typeof(I==null?void 0:I.icon)=="string"?I.icon:void 0,stacking:!!(I!=null&&I.stacking),players:(Array.isArray(I==null?void 0:I.players)?I.players:[]).map(E=>({key:String((E==null?void 0:E.key)||""),account:String((E==null?void 0:E.account)||(E==null?void 0:E.displayName)||"Unknown"),displayName:String((E==null?void 0:E.displayName)||(E==null?void 0:E.account)||"Unknown"),profession:String((E==null?void 0:E.profession)||"Unknown"),professionList:Array.isArray(E==null?void 0:E.professionList)?E.professionList.map(xe=>String(xe||"")):[],logs:Number((E==null?void 0:E.logs)||0),totals:Wh(E)})),fights:(Array.isArray(I==null?void 0:I.fights)?I.fights:[]).map((E,xe)=>({id:String((E==null?void 0:E.id)||`fight-${xe+1}`),shortLabel:String((E==null?void 0:E.shortLabel)||`F${xe+1}`),fullLabel:String((E==null?void 0:E.fullLabel)||`Fight ${xe+1}`),timestamp:Number((E==null?void 0:E.timestamp)||0),durationMs:Number((E==null?void 0:E.durationMs)||0),maxTotal:Number((E==null?void 0:E.maxTotal)||0),values:E!=null&&E.values&&typeof E.values=="object"?Object.fromEntries(Object.entries(E.values).map(([Ce,je])=>[String(Ce||""),{total:Number((je==null?void 0:je.total)||0),totals:Wh(je),bucketWeights5s:Array.isArray(je==null?void 0:je.bucketWeights5s)?je.bucketWeights5s.map(X=>Number(X||0)):[],buckets5s:Array.isArray(je==null?void 0:je.buckets5s)?je.buckets5s.map(X=>Number(X||0)):[]}])):{}}))})).filter(I=>I.id&&I.players.length>0&&I.fights.length>0),[F.boonTimeline]),WB=g.useMemo(()=>{const j=ci.trim().toLowerCase();return j?bo.filter(I=>String((I==null?void 0:I.name)||"").toLowerCase().includes(j)):bo},[bo,ci]),Xi=g.useMemo(()=>sr&&bo.find(j=>j.id===sr)||null,[bo,sr]),Vh=g.useMemo(()=>[...Array.isArray(Xi==null?void 0:Xi.players)?Xi.players:[]].map(I=>({...I,total:Xd(I,ui)})).sort((I,E)=>Number(E.total||0)-Number(I.total||0)||String(I.displayName||"").localeCompare(String(E.displayName||""))),[Xi,ui]),VB=g.useMemo(()=>{const j=Vh,I=Rs.trim().toLowerCase();return I?j.filter(E=>String((E==null?void 0:E.displayName)||"").toLowerCase().includes(I)||String((E==null?void 0:E.account)||"").toLowerCase().includes(I)||String((E==null?void 0:E.profession)||"").toLowerCase().includes(I)):j},[Vh,Rs]),HB=g.useMemo(()=>{const j=new Map;return Vh.forEach(I=>{j.set(String((I==null?void 0:I.key)||""),I)}),j},[Vh]),qB=er&&HB.get(er)||null,Su=g.useMemo(()=>!Xi||!er?[]:(Xi.fights||[]).map((j,I)=>{var Ce;const E=(Ce=j==null?void 0:j.values)==null?void 0:Ce[er],xe=Object.entries(j!=null&&j.values&&typeof j.values=="object"?j.values:{}).filter(([je])=>String(je||"")!=="__all__").reduce((je,[,X])=>Math.max(je,Xd(X,ui)),0);return{index:I,fightId:String((j==null?void 0:j.id)||""),shortLabel:String((j==null?void 0:j.shortLabel)||`F${I+1}`),fullLabel:String((j==null?void 0:j.fullLabel)||`Fight ${I+1}`),timestamp:Number((j==null?void 0:j.timestamp)||0),total:Xd(E,ui),maxTotal:xe>0?xe:Number((j==null?void 0:j.maxTotal)||0)}}),[Xi,er,ui]),KB=g.useMemo(()=>{const j=Su.reduce((E,xe)=>Math.max(E,Number((xe==null?void 0:xe.total)||0)),0),I=Su.reduce((E,xe)=>Math.max(E,Number((xe==null?void 0:xe.maxTotal)||0)),0);return Math.max(1,j,I)},[Su]),E2=g.useMemo(()=>{var Et;const j=oa===null?null:Su.find(Rt=>Rt.index===oa)||null;if(!j||!Xi||!er)return{title:"Fight Breakdown",data:[]};const I=Xi.fights[j.index],E=((Et=I==null?void 0:I.values)==null?void 0:Et[er])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},xe=Xd(E,ui),Ce=Array.isArray(E==null?void 0:E.bucketWeights5s)?E.bucketWeights5s:[],je=Array.isArray(E==null?void 0:E.buckets5s)?E.buckets5s:[],X=Math.max(Ce.length,je.length,Math.ceil(Math.max(0,Number((I==null?void 0:I.durationMs)||0))/5e3),1),at=Array.from({length:X},(Rt,on)=>Number(Ce[on]||0)),vt=at.reduce((Rt,on)=>Rt+Number(on||0),0);let tt=[];if(vt>0){const Rt=xe>0?xe/vt:0;tt=at.map(on=>Number(on||0)*Rt)}else if(je.length>0){const Rt=Array.from({length:X},(on,Vt)=>Number(je[Vt]||0));if(ui==="totalBuffs"||!(E!=null&&E.totals))tt=Rt;else{const on=Xd({totals:Wh(E)},"totalBuffs"),Vt=on>0?xe/on:0;tt=Rt.map(nn=>Number(nn||0)*Vt)}}else{const Rt=xe>0?xe/Math.max(1,X):0;tt=Array.from({length:X},()=>Rt)}const Pt=Array.from({length:X},(Rt,on)=>({label:`${on*5}s-${(on+1)*5}s`,value:Number(tt[on]||0)}));return{title:`Fight Breakdown - ${j.shortLabel||"Fight"} (5s ${M2} Generation Buckets)`,data:Pt}},[oa,Su,Xi,er,ui,M2]),yo=g.useMemo(()=>(Array.isArray(F==null?void 0:F.boonUptimeTimeline)?F.boonUptimeTimeline:[]).map(I=>({id:String((I==null?void 0:I.id)||""),name:String((I==null?void 0:I.name)||(I==null?void 0:I.id)||"Unknown Boon"),icon:typeof(I==null?void 0:I.icon)=="string"?I.icon:void 0,stacking:!!(I!=null&&I.stacking),players:(Array.isArray(I==null?void 0:I.players)?I.players:[]).map(E=>({key:String((E==null?void 0:E.key)||""),account:String((E==null?void 0:E.account)||(E==null?void 0:E.displayName)||"Unknown"),displayName:String((E==null?void 0:E.displayName)||(E==null?void 0:E.account)||"Unknown"),profession:String((E==null?void 0:E.profession)||"Unknown"),professionList:Array.isArray(E==null?void 0:E.professionList)?E.professionList.map(xe=>String(xe||"")):[],logs:Number((E==null?void 0:E.logs)||0),total:Math.max(0,Number((E==null?void 0:E.total)||0)),peak:Math.max(0,Number((E==null?void 0:E.peak)||0))})).filter(E=>E.key&&E.key!=="__all__"),fights:(Array.isArray(I==null?void 0:I.fights)?I.fights:[]).map((E,xe)=>({id:String((E==null?void 0:E.id)||`fight-${xe+1}`),shortLabel:String((E==null?void 0:E.shortLabel)||`F${xe+1}`),fullLabel:String((E==null?void 0:E.fullLabel)||`Fight ${xe+1}`),timestamp:Number((E==null?void 0:E.timestamp)||0),durationMs:Number((E==null?void 0:E.durationMs)||0),maxTotal:Math.max(0,Number((E==null?void 0:E.maxTotal)||0)),values:E!=null&&E.values&&typeof E.values=="object"?Object.fromEntries(Object.entries(E.values).map(([Ce,je])=>[String(Ce||""),{total:Math.max(0,Number((je==null?void 0:je.total)||0)),peak:Math.max(0,Number((je==null?void 0:je.peak)||0)),buckets5s:Array.isArray(je==null?void 0:je.buckets5s)?je.buckets5s.map(X=>Math.max(0,Number(X||0))):[]}])):{}}))})).filter(I=>I.id&&I.players.length>0&&I.fights.length>0),[F.boonUptimeTimeline]),GB=g.useMemo(()=>{const j=Bs.trim().toLowerCase();return j?yo.filter(I=>String((I==null?void 0:I.name)||"").toLowerCase().includes(j)):yo},[yo,Bs]),gr=g.useMemo(()=>Sa&&yo.find(j=>j.id===Sa)||null,[yo,Sa]),Qd=g.useMemo(()=>[...Array.isArray(gr==null?void 0:gr.players)?gr.players:[]].sort((I,E)=>Number(E.peak||0)-Number(I.peak||0)||Number(E.total||0)-Number(I.total||0)||String(I.displayName||"").localeCompare(String(E.displayName||""))),[gr]),YB=g.useMemo(()=>{const j=ol.trim().toLowerCase();return j?Qd.filter(I=>String((I==null?void 0:I.displayName)||"").toLowerCase().includes(j)||String((I==null?void 0:I.account)||"").toLowerCase().includes(j)||String((I==null?void 0:I.profession)||"").toLowerCase().includes(j)):Qd},[Qd,ol]),XB=g.useMemo(()=>{const j=new Map;return Qd.forEach(I=>{j.set(String((I==null?void 0:I.key)||""),I)}),j},[Qd]),QB=$r&&XB.get($r)||null,pl=g.useMemo(()=>!gr||!$r?[]:(gr.fights||[]).map((j,I)=>{var Ce;const E=((Ce=j==null?void 0:j.values)==null?void 0:Ce[$r])||{total:0,peak:0},xe=Object.entries(j!=null&&j.values&&typeof j.values=="object"?j.values:{}).filter(([je])=>String(je||"")!=="__all__").reduce((je,[,X])=>Math.max(je,Math.max(0,Number((X==null?void 0:X.peak)||0))),0);return{index:I,fightId:String((j==null?void 0:j.id)||""),shortLabel:String((j==null?void 0:j.shortLabel)||`F${I+1}`),fullLabel:String((j==null?void 0:j.fullLabel)||`Fight ${I+1}`),timestamp:Number((j==null?void 0:j.timestamp)||0),durationMs:Number((j==null?void 0:j.durationMs)||0),total:Math.max(0,Number((E==null?void 0:E.total)||0)),peak:Math.max(0,Number((E==null?void 0:E.peak)||0)),maxTotal:xe>0?xe:Math.max(0,Number((j==null?void 0:j.maxTotal)||0))}}),[gr,$r]),ZB=g.useMemo(()=>{const j=pl.reduce((xe,Ce)=>Math.max(xe,Number((Ce==null?void 0:Ce.peak)||0)),0),I=pl.reduce((xe,Ce)=>Math.max(xe,Number((Ce==null?void 0:Ce.maxTotal)||0)),0),E=gr!=null&&gr.stacking?25:0;return Math.max(1,j,I,E)},[pl,gr==null?void 0:gr.stacking]),O2=g.useMemo(()=>{var X,at;const j=Q===null?null:pl.find(vt=>vt.index===Q)||null;if(!j||!gr||!$r)return{title:"Fight Breakdown",data:[]};const I=(X=gr.fights)==null?void 0:X[j.index];if(!I)return{title:"Fight Breakdown",data:[]};const E=(at=I==null?void 0:I.values)==null?void 0:at[$r],xe=Array.isArray(E==null?void 0:E.buckets5s)?E.buckets5s:[],Ce=Math.max(xe.length,Math.ceil(Math.max(0,Number((I==null?void 0:I.durationMs)||0))/5e3),1),je=Array.from({length:Ce},(vt,tt)=>{const Pt=Object.entries(I!=null&&I.values&&typeof I.values=="object"?I.values:{}).filter(([Et])=>String(Et||"")!=="__all__").reduce((Et,[,Rt])=>{var on;return Math.max(Et,Math.max(0,Number(((on=Rt==null?void 0:Rt.buckets5s)==null?void 0:on[tt])||0)))},0);return{label:`${tt*5}s-${(tt+1)*5}s`,value:Math.max(0,Number(xe[tt]||0)),maxValue:Pt}});return{title:`Fight Breakdown - ${j.shortLabel||"Fight"} (5s Stack Buckets)`,data:je}},[Q,pl,gr,$r]),JB=g.useMemo(()=>{const j=Ut.trim().toLowerCase(),I=[...F.specialTables||[]].sort((E,xe)=>E.name.localeCompare(xe.name));return j?I.filter(E=>E.name.toLowerCase().includes(j)):I},[F.specialTables,Ut]),hs=g.useMemo(()=>[...F.specialTables||[]].filter(I=>/\b(sigil|relic)\b/i.test(String((I==null?void 0:I.name)||""))).sort((I,E)=>I.name.localeCompare(E.name)),[F.specialTables]),ez=g.useMemo(()=>{const j=Nt.trim().toLowerCase();return j?hs.filter(I=>I.name.toLowerCase().includes(j)):hs},[hs,Nt]),tz=g.useMemo(()=>qe?(F.specialTables||[]).find(j=>j.id===qe)??null:null,[F.specialTables,qe]),nz=g.useMemo(()=>Jt?hs.find(j=>j.id===Jt)??null:null,[hs,Jt]);g.useEffect(()=>{!F.boonTables||F.boonTables.length===0||(!kn||!F.boonTables.some(j=>j.id===kn))&&Nn(F.boonTables[0].id)},[F.boonTables,kn]),g.useEffect(()=>{if(bo.length===0){sr!==null&&ya(null);return}(!sr||!bo.some(j=>j.id===sr))&&ya(bo[0].id)},[bo,sr]),g.useEffect(()=>{var E;const j=(Xi==null?void 0:Xi.players)||[];if(j.length===0){er!==null&&ka(null);return}const I=((E=j.find(xe=>xe.key==="__all__"))==null?void 0:E.key)||j[0].key;(!er||!j.some(xe=>xe.key===er))&&ka(I)},[Xi,er]),g.useEffect(()=>{xu(null)},[sr,er]),g.useEffect(()=>{if(yo.length===0){Sa!==null&&cc(null);return}(!Sa||!yo.some(j=>j.id===Sa))&&cc(yo[0].id)},[yo,Sa]),g.useEffect(()=>{var E;const j=(gr==null?void 0:gr.players)||[];if(j.length===0){$r!==null&&ll(null);return}const I=((E=j.find(xe=>xe.key==="__all__"))==null?void 0:E.key)||j[0].key;(!$r||!j.some(xe=>xe.key===$r))&&ll(I)},[gr,$r]),g.useEffect(()=>{Q!==null&&(Q<0||Q>=pl.length)&&Te(null)},[pl,Q]),g.useEffect(()=>{Te(null)},[Sa,$r]),g.useEffect(()=>{!F.specialTables||F.specialTables.length===0||(!qe||!F.specialTables.some(j=>j.id===qe))&&St(F.specialTables[0].id)},[F.specialTables,qe]),g.useEffect(()=>{if(!hs||hs.length===0){Jt!==null&&Mt(null);return}(!Jt||!hs.some(j=>j.id===Jt))&&Mt(hs[0].id)},[hs,Jt]),g.useEffect(()=>{const j=()=>{const E=window.getSelection();E&&E.rangeCount>0&&E.removeAllRanges()},I=E=>{var Ce;const xe=E.target;(Ce=xe==null?void 0:xe.closest)!=null&&Ce.call(xe,".recharts-wrapper")&&(E.preventDefault(),j())};return document.addEventListener("selectstart",I),document.addEventListener("mousedown",I),document.addEventListener("mousemove",I),document.addEventListener("dragstart",I),()=>{document.removeEventListener("selectstart",I),document.removeEventListener("mousedown",I),document.removeEventListener("mousemove",I),document.removeEventListener("dragstart",I)}},[]);const fi=j=>{Wr.current&&(window.clearTimeout(Wr.current),Wr.current=null),uo(!1),ei(j)},Vr=()=>{vn&&(Wr.current&&window.clearTimeout(Wr.current),uo(!0),Wr.current=window.setTimeout(()=>{ei(null),uo(!1),Wr.current=null},160))};g.useEffect(()=>{if(!vn)return;const j=xe=>{xe.key==="Escape"&&Vr()},I=document.body.style.overflow,E=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",j),()=>{window.removeEventListener("keydown",j),document.body.style.overflow=I,document.documentElement.style.overflow=E}},[vn]);const I2=(j,I)=>{const E=((I==null?void 0:I.value)||0)-((j==null?void 0:j.value)||0);return E!==0?E:String((j==null?void 0:j.name)||"").localeCompare(String((I==null?void 0:I.name)||""))},_2=Array.isArray(F==null?void 0:F.squadClassData)?F.squadClassData:[],L2=Array.isArray(F==null?void 0:F.enemyClassData)?F.enemyClassData:[],rz=Array.isArray(F==null?void 0:F.attendanceData)?F.attendanceData:[],Av=Array.isArray(F==null?void 0:F.squadCompByFight)?F.squadCompByFight:[],$2=Array.isArray(F==null?void 0:F.fightBreakdown)?F.fightBreakdown:[],iz=g.useMemo(()=>{const j=new Map;return $2.forEach(I=>{const E=String((I==null?void 0:I.id)||"");E&&j.set(E,I)}),Av.map(I=>{const E=j.get(String((I==null?void 0:I.id)||""))||null;return{...I,enemyClassCounts:(E==null?void 0:E.enemyClassCounts)||{}}})},[Av,$2]),az=g.useMemo(()=>[..._2].sort(I2),[_2]),sz=g.useMemo(()=>[...L2].sort(I2),[L2]),oz=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",lz=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${vn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${vn?"":"backdrop-blur-2xl"}`,F2=u&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,cz=te?{...F2||{},overflowY:"hidden"}:F2,uz=j=>Ai==="perSecond"?j.toFixed(1):Math.round(j).toLocaleString(),dz=j=>j.toFixed(1),fz=j=>Math.round(j).toLocaleString(),mz=j=>typeof j=="number"&&Number.isFinite(j)?j.toFixed(1):"0.0",hz=Math.max(Math.max(0,Number(F.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),mi=hse;return c.jsxs("div",{className:oz,children:[vn&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Tn?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Vr}),c.jsx(Xse,{embedded:u,dashboardTitle:f,totalLogs:hz,onBack:t,devMockAvailable:ee,devMockUploadState:mn,onDevMockUpload:sn,uploadingWeb:M,onWebUpload:Lt,sharing:Zt,canShareDiscord:m,onShare:Tr}),c.jsx(Qse,{embedded:u,webUploadMessage:L,webUploadUrl:_,webUploadBuildStatus:G,webCopyStatus:Pe,setWebCopyStatus:rt}),c.jsx(Zse,{embedded:u,devMockAvailable:ee,devMockUploadState:mn}),B&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:U}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:H})]}),ne.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${ne.progressPercent}%`}})}),se&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:se})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${te?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:Wt,className:`${lz} ${u?"":"flex-1"} ${te?"stats-dashboard-scroll-lock":""}`,style:cz,children:[c.jsxs(c.Fragment,{children:[_t("overview")&&c.jsx(Ise,{stats:F,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("fight-breakdown")&&c.jsx(_se,{stats:F,fightBreakdownTab:Ph,setFightBreakdownTab:Kd,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("top-players")&&c.jsx(Fse,{stats:F,showTopStats:y,showMvp:N,topStatsMode:S,expandedLeader:ds,setExpandedLeader:hn,formatTopStatValue:kl,formatWithCommas:xi,isMvpStatEnabled:un,renderProfessionIcon:mi,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("top-skills-outgoing")&&c.jsx(Rse,{stats:F,topSkillsMetric:R,onTopSkillsMetricChange:wt,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("squad-composition")&&c.jsx(Bse,{sortedSquadClassData:az,sortedEnemyClassData:sz,getProfessionIconPath:Ec,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("attendance-ledger")&&c.jsx(Hse,{attendanceRows:rz,getProfessionIconPath:Ec,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("squad-comp-fight")&&c.jsx(Kse,{fights:Av,getProfessionIconPath:Ec,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("fight-comp")&&c.jsx(Yse,{fights:iz,getProfessionIconPath:Ec,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("timeline")&&c.jsx(zse,{timelineData:F.timelineData,timelineFriendlyScope:Dn,setTimelineFriendlyScope:or,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("map-distribution")&&c.jsx(Use,{mapData:F.mapData,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("offense-detailed")&&c.jsx(kse,{stats:F,OFFENSE_METRICS:yO,roundCountStats:C,offenseSearch:di,setOffenseSearch:lt,activeOffenseStat:Se,setActiveOffenseStat:et,offenseViewMode:ut,setOffenseViewMode:ft,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("player-breakdown")&&c.jsx(vse,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks,viewMode:cB,setViewMode:uB,playerSkillBreakdowns:po,classSkillBreakdowns:yu,activePlayerKey:mc,setActivePlayerKey:kv,expandedPlayerKey:sB,setExpandedPlayerKey:S2,activePlayerSkillId:Us,setActivePlayerSkillId:Ih,activeClassKey:hc,setActiveClassKey:Sv,expandedClassKey:dB,setExpandedClassKey:N2,activeClassSkillId:ho,setActiveClassSkillId:_h,skillSearch:oB,setSkillSearch:lB,activePlayerBreakdown:go,activePlayerSkill:mB,activeClassBreakdown:ml,activeClassSkill:hB,renderProfessionIcon:mi}),_t("damage-breakdown")&&c.jsx(bse,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,playerSkillBreakdowns:po,renderProfessionIcon:mi}),_t("spike-damage")&&c.jsx(tT,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,spikePlayerFilter:Me,setSpikePlayerFilter:bt,groupedSpikePlayers:pB,spikeMode:Bn,setSpikeMode:dc,damageBasis:Jr,setDamageBasis:Qe,showDamageBasisToggle:!0,selectedSpikePlayerKey:Fn,setSelectedSpikePlayerKey:ms,selectedSpikePlayer:gB,spikeChartData:Ws,spikeChartMaxY:xB,selectedSpikeFightIndex:ji,setSelectedSpikeFightIndex:uc,spikeDrilldownTitle:$h.title,spikeDrilldownData:$h.data,spikeDrilldownDownIndices:$h.downIndices,spikeDrilldownDeathIndices:$h.deathIndices,spikeFightSkillRows:kB,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:xi,renderProfessionIcon:mi}),_t("conditions-outgoing")&&c.jsx(Sse,{conditionSummary:Bh,conditionPlayers:AB,conditionSearch:fe,setConditionSearch:Ue,activeConditionName:Oe,setActiveConditionName:Ve,conditionDirection:He,setConditionDirection:me,conditionGridClass:nt,effectiveConditionSort:de,setConditionSort:ze,showConditionDamage:Ze,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("defense-detailed")&&c.jsx(Cse,{stats:F,DEFENSE_METRICS:wO,defenseSearch:T,setDefenseSearch:$,activeDefenseStat:st,setActiveDefenseStat:yt,defenseViewMode:it,setDefenseViewMode:We,roundCountStats:C,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("incoming-strike-damage")&&c.jsx(tT,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,spikePlayerFilter:pt,setSpikePlayerFilter:It,groupedSpikePlayers:vB,spikeMode:Ft,setSpikeMode:wn,selectedSpikePlayerKey:Re,setSelectedSpikePlayerKey:$e,selectedSpikePlayer:bB,spikeChartData:Vs,spikeChartMaxY:yB,selectedSpikeFightIndex:Be,setSelectedSpikeFightIndex:gt,spikeDrilldownTitle:Fh.title,spikeDrilldownData:Fh.data,spikeDrilldownDownIndices:Fh.downIndices,spikeDrilldownDeathIndices:Fh.deathIndices,spikeFightSkillRows:wB,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:xi,renderProfessionIcon:mi}),_t("defense-mitigation")&&c.jsx(jse,{stats:F,DAMAGE_MITIGATION_METRICS:qU,damageMitigationSearch:J,setDamageMitigationSearch:ke,activeDamageMitigationStat:Ne,setActiveDamageMitigationStat:Ie,damageMitigationViewMode:mt,setDamageMitigationViewMode:ht,damageMitigationScope:On,setDamageMitigationScope:Mr,roundCountStats:C,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("boon-output")&&c.jsx(Nse,{stats:F,activeBoonCategory:_i,setActiveBoonCategory:j=>Ur(j),activeBoonMetric:Lr,setActiveBoonMetric:pu,activeBoonTab:kn,setActiveBoonTab:Nn,activeBoonTable:UB,filteredBoonTables:zB,boonSearch:co,setBoonSearch:sl,formatBoonMetricDisplay:S8,getBoonMetricValue:OO,renderProfessionIcon:mi,roundCountStats:C,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("boon-timeline")&&c.jsx(yse,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,boonSearch:ci,setBoonSearch:Fs,boons:WB,activeBoonId:sr,setActiveBoonId:ya,timelineScope:ui,setTimelineScope:wa,playerFilter:Rs,setPlayerFilter:gu,players:VB,selectedPlayerKey:er,setSelectedPlayerKey:ka,selectedPlayer:qB,chartData:Su,chartMaxY:KB,selectedFightIndex:oa,setSelectedFightIndex:xu,drilldownTitle:E2.title,drilldownData:E2.data,formatWithCommas:xi,renderProfessionIcon:mi}),_t("boon-uptime")&&c.jsx(wse,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,boonSearch:Bs,setBoonSearch:vu,boons:GB,activeBoonId:Sa,setActiveBoonId:cc,playerFilter:ol,setPlayerFilter:bu,players:YB,selectedPlayerKey:$r,setSelectedPlayerKey:ll,selectedPlayer:QB,chartData:pl,chartMaxY:ZB,selectedFightIndex:Q,setSelectedFightIndex:Te,drilldownTitle:O2.title,drilldownData:O2.data,showStackCapLine:!!(gr!=null&&gr.stacking),formatWithCommas:xi,renderProfessionIcon:mi}),_t("support-detailed")&&c.jsx(Ase,{stats:F,SUPPORT_METRICS:kO,supportSearch:he,setSupportSearch:Je,activeSupportStat:pe,setActiveSupportStat:ot,supportViewMode:$t,setSupportViewMode:tn,cleanseScope:pn,setCleanseScope:Sn,roundCountStats:C,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("healing-stats")&&c.jsx(Pse,{stats:F,HEALING_METRICS:KU,activeHealingMetric:xt,setActiveHealingMetric:we,healingCategory:ce,setHealingCategory:Ot,activeResUtilitySkill:De,setActiveResUtilitySkill:_e,skillUsageData:Ee,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("fight-diff-mode")&&c.jsx(Ose,{stats:F,formatWithCommas:xi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn}),_t("special-buffs")&&c.jsx(Tse,{stats:F,specialSearch:Ut,setSpecialSearch:Gt,filteredSpecialTables:JB,activeSpecialTab:qe,setActiveSpecialTab:St,activeSpecialTable:tz,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("sigil-relic-uptime")&&c.jsx(Ese,{hasSigilRelicTables:hs.length>0,sigilRelicSearch:Nt,setSigilRelicSearch:$n,filteredSigilRelicTables:ez,activeSigilRelicTab:Jt,setActiveSigilRelicTab:Mt,activeSigilRelicTable:nz,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks}),_t("skill-usage")&&c.jsx(pse,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,selectedPlayers:Ci,setSelectedPlayers:cl,removeSelectedPlayer:BB,playerMapByKey:xo,groupedSkillUsagePlayers:jB,expandedSkillUsageClass:Th,setExpandedSkillUsageClass:Mh,togglePlayerSelection:RB,skillUsagePlayerFilter:pr,setSkillUsagePlayerFilter:Yn,skillUsageView:Ai,setSkillUsageView:ul,skillUsageData:Ee,skillUsageSkillFilter:Zr,setSkillUsageSkillFilter:kr,selectedSkillId:lr,setSelectedSkillId:fs,skillBarData:Yd,selectedSkillName:OB,selectedSkillIcon:IB,skillUsageReady:_B,skillUsageAvailable:Le,isSkillUsagePerSecond:Dh,skillChartData:NB,skillChartMaxY:CB,playerTotalsForSkill:wu,hoveredSkillPlayer:Wn,setHoveredSkillPlayer:Vn,getLineStrokeColor:EB,getLineDashForPlayer:MB,formatSkillUsageValue:uz,renderProfessionIcon:mi}),_t("apm-stats")&&c.jsx(xse,{expandedSection:vn,expandedSectionClosing:Tn,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:_t,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:Ks,apmSpecAvailable:LB,skillUsageAvailable:Le,apmSpecTables:fl,activeApmSpec:zs,setActiveApmSpec:dl,expandedApmSpec:Li,setExpandedApmSpec:fo,activeApmSkillId:Yi,setActiveApmSkillId:mo,ALL_SKILLS_KEY:Uh,apmSkillSearch:fc,setApmSkillSearch:aB,activeApmSpecTable:vo,activeApmSkill:FB,isAllApmSkills:$B,apmView:Eh,setApmView:Oh,formatApmValue:mz,formatCastRateValue:dz,formatCastCountValue:fz,renderProfessionIcon:mi})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),te&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const noe="Arcane",LN="CRT",M0="MatteSlate",E0="KineticPaper",Vf="KineticPaperDark",rg={id:noe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},roe={id:M0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},ioe={id:E0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},aoe={id:Vf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},soe=[rg,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],ooe={id:LN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Tf=[...soe,ooe,roe,ioe,aoe];function loe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const coe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uoe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,doe={};function iT(e,t){return(doe.jsx?uoe:coe).test(e)}const foe=/[ \t\n\f\r]/g;function moe(e){return typeof e=="object"?e.type==="text"?aT(e.value):!1:aT(e)}function aT(e){return e.replace(foe,"")===""}class wh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}wh.prototype.normal={};wh.prototype.property={};wh.prototype.space=void 0;function E$(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new wh(n,r,t)}function t1(e){return e.toLowerCase()}class ba{constructor(t,n){this.attribute=n,this.property=t}}ba.prototype.attribute="";ba.prototype.booleanish=!1;ba.prototype.boolean=!1;ba.prototype.commaOrSpaceSeparated=!1;ba.prototype.commaSeparated=!1;ba.prototype.defined=!1;ba.prototype.mustUseProperty=!1;ba.prototype.number=!1;ba.prototype.overloadedBoolean=!1;ba.prototype.property="";ba.prototype.spaceSeparated=!1;ba.prototype.space=void 0;let hoe=0;const fn=fu(),qr=fu(),n1=fu(),dt=fu(),rr=fu(),cd=fu(),Aa=fu();function fu(){return 2**++hoe}const r1=Object.freeze(Object.defineProperty({__proto__:null,boolean:fn,booleanish:qr,commaOrSpaceSeparated:Aa,commaSeparated:cd,number:dt,overloadedBoolean:n1,spaceSeparated:rr},Symbol.toStringTag,{value:"Module"})),Tb=Object.keys(r1);class $N extends ba{constructor(t,n,r,i){let a=-1;if(super(t,n),sT(this,"space",i),typeof r=="number")for(;++a<Tb.length;){const s=Tb[a];sT(this,Tb[a],(r&r1[s])===r1[s])}}}$N.prototype.defined=!0;function sT(e,t,n){n&&(e[t]=n)}function Hd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new $N(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[t1(r)]=r,n[t1(a.attribute)]=r}return new wh(t,n,e.space)}const O$=Hd({properties:{ariaActiveDescendant:null,ariaAtomic:qr,ariaAutoComplete:null,ariaBusy:qr,ariaChecked:qr,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:rr,ariaCurrent:null,ariaDescribedBy:rr,ariaDetails:null,ariaDisabled:qr,ariaDropEffect:rr,ariaErrorMessage:null,ariaExpanded:qr,ariaFlowTo:rr,ariaGrabbed:qr,ariaHasPopup:null,ariaHidden:qr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rr,ariaLevel:dt,ariaLive:null,ariaModal:qr,ariaMultiLine:qr,ariaMultiSelectable:qr,ariaOrientation:null,ariaOwns:rr,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:qr,ariaReadOnly:qr,ariaRelevant:null,ariaRequired:qr,ariaRoleDescription:rr,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:qr,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function I$(e,t){return t in e?e[t]:t}function _$(e,t){return I$(e,t.toLowerCase())}const poe=Hd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cd,acceptCharset:rr,accessKey:rr,action:null,allow:null,allowFullScreen:fn,allowPaymentRequest:fn,allowUserMedia:fn,alt:null,as:null,async:fn,autoCapitalize:null,autoComplete:rr,autoFocus:fn,autoPlay:fn,blocking:rr,capture:null,charSet:null,checked:fn,cite:null,className:rr,cols:dt,colSpan:null,content:null,contentEditable:qr,controls:fn,controlsList:rr,coords:dt|cd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fn,defer:fn,dir:null,dirName:null,disabled:fn,download:n1,draggable:qr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fn,formTarget:null,headers:rr,height:dt,hidden:n1,high:dt,href:null,hrefLang:null,htmlFor:rr,httpEquiv:rr,id:null,imageSizes:null,imageSrcSet:null,inert:fn,inputMode:null,integrity:null,is:null,isMap:fn,itemId:null,itemProp:rr,itemRef:rr,itemScope:fn,itemType:rr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:fn,muted:fn,name:null,nonce:null,noModule:fn,noValidate:fn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fn,optimum:dt,pattern:null,ping:rr,placeholder:null,playsInline:fn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fn,referrerPolicy:null,rel:rr,required:fn,reversed:fn,rows:dt,rowSpan:dt,sandbox:rr,scope:null,scoped:fn,seamless:fn,selected:fn,shadowRootClonable:fn,shadowRootDelegatesFocus:fn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:qr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:fn,useMap:null,value:qr,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rr,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fn,declare:fn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:fn,noHref:fn,noShade:fn,noWrap:fn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:qr,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fn,disableRemotePlayback:fn,prefix:null,property:null,results:dt,security:null,unselectable:null},space:"html",transform:_$}),goe=Hd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Aa,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:rr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:fn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cd,g2:cd,glyphName:cd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:Aa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Aa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Aa,rev:Aa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Aa,requiredFeatures:Aa,requiredFonts:Aa,requiredFormats:Aa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:Aa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Aa,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Aa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:I$}),L$=Hd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),$$=Hd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_$}),F$=Hd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),xoe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},voe=/[A-Z]/g,oT=/-[a-z]/g,boe=/^data[-\w.:]+$/i;function yoe(e,t){const n=t1(t);let r=t,i=ba;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&boe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(oT,koe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!oT.test(a)){let s=a.replace(voe,woe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=$N}return new i(r,t)}function woe(e){return"-"+e.toLowerCase()}function koe(e){return e.charAt(1).toUpperCase()}const Soe=E$([O$,poe,L$,$$,F$],"html"),FN=E$([O$,goe,L$,$$,F$],"svg");function Noe(e){return e.join(" ").trim()}var RN={},lT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Coe=/\n/g,joe=/^\s*/,Aoe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Poe=/^:\s*/,Doe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Toe=/^[;\s]*/,Moe=/^\s+|\s+$/g,Eoe=`
`,cT="/",uT="*",Pc="",Ooe="comment",Ioe="declaration";function _oe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var v=p.match(Coe);v&&(n+=v.length);var b=p.lastIndexOf(Eoe);r=~b?p.length-b:r+p.length}function a(){var p={line:n,column:r};return function(v){return v.position=new s(p),u(),v}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var v=new Error(t.source+":"+n+":"+r+": "+p);if(v.reason=p,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(p){var v=p.exec(e);if(v){var b=v[0];return i(b),e=e.slice(b.length),v}}function u(){l(joe)}function d(p){var v;for(p=p||[];v=f();)v!==!1&&p.push(v);return p}function f(){var p=a();if(!(cT!=e.charAt(0)||uT!=e.charAt(1))){for(var v=2;Pc!=e.charAt(v)&&(uT!=e.charAt(v)||cT!=e.charAt(v+1));)++v;if(v+=2,Pc===e.charAt(v-1))return o("End of comment missing");var b=e.slice(2,v-2);return r+=2,i(b),e=e.slice(v),r+=2,p({type:Ooe,comment:b})}}function h(){var p=a(),v=l(Aoe);if(v){if(f(),!l(Poe))return o("property missing ':'");var b=l(Doe),x=p({type:Ioe,property:dT(v[0].replace(lT,Pc)),value:b?dT(b[0].replace(lT,Pc)):Pc});return l(Toe),x}}function m(){var p=[];d(p);for(var v;v=h();)v!==!1&&(p.push(v),d(p));return p}return u(),m()}function dT(e){return e?e.replace(Moe,Pc):Pc}var Loe=_oe,$oe=lg&&lg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(RN,"__esModule",{value:!0});RN.default=Roe;const Foe=$oe(Loe);function Roe(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Foe.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var cv={};Object.defineProperty(cv,"__esModule",{value:!0});cv.camelCase=void 0;var Boe=/^--[a-zA-Z0-9_-]+$/,zoe=/-([a-z])/g,Uoe=/^[^-]+$/,Woe=/^-(webkit|moz|ms|o|khtml)-/,Voe=/^-(ms)-/,Hoe=function(e){return!e||Uoe.test(e)||Boe.test(e)},qoe=function(e,t){return t.toUpperCase()},fT=function(e,t){return"".concat(t,"-")},Koe=function(e,t){return t===void 0&&(t={}),Hoe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Voe,fT):e=e.replace(Woe,fT),e.replace(zoe,qoe))};cv.camelCase=Koe;var Goe=lg&&lg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Yoe=Goe(RN),Xoe=cv;function i1(e,t){var n={};return!e||typeof e!="string"||(0,Yoe.default)(e,function(r,i){r&&i&&(n[(0,Xoe.camelCase)(r,t)]=i)}),n}i1.default=i1;var Qoe=i1;const Zoe=_s(Qoe),R$=B$("end"),BN=B$("start");function B$(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Joe(e){const t=BN(e),n=R$(e);if(t&&n)return{start:t,end:n}}function Hf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?mT(e.position):"start"in e||"end"in e?mT(e):"line"in e||"column"in e?a1(e):""}function a1(e){return hT(e&&e.line)+":"+hT(e&&e.column)}function mT(e){return a1(e&&e.start)+"-"+a1(e&&e.end)}function hT(e){return e&&typeof e=="number"?e:1}class Gi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Hf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Gi.prototype.file="";Gi.prototype.name="";Gi.prototype.reason="";Gi.prototype.message="";Gi.prototype.stack="";Gi.prototype.column=void 0;Gi.prototype.line=void 0;Gi.prototype.ancestors=void 0;Gi.prototype.cause=void 0;Gi.prototype.fatal=void 0;Gi.prototype.place=void 0;Gi.prototype.ruleId=void 0;Gi.prototype.source=void 0;const zN={}.hasOwnProperty,ele=new Map,tle=/[A-Z]/g,nle=new Set(["table","tbody","thead","tfoot","tr"]),rle=new Set(["td","th"]),z$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ile(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dle(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?FN:Soe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=U$(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function U$(e,t,n){if(t.type==="element")return ale(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return sle(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return lle(e,t,n);if(t.type==="mdxjsEsm")return ole(e,t);if(t.type==="root")return cle(e,t,n);if(t.type==="text")return ule(e,t)}function ale(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=FN,e.schema=i),e.ancestors.push(t);const a=V$(e,t.tagName,!1),s=mle(e,t);let o=WN(e,t);return nle.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!moe(l):!0})),W$(e,s,a,t),UN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function sle(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Im(e,t.position)}function ole(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Im(e,t.position)}function lle(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=FN,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:V$(e,t.name,!0),s=hle(e,t),o=WN(e,t);return W$(e,s,a,t),UN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function cle(e,t,n){const r={};return UN(r,WN(e,t)),e.create(t,e.Fragment,r,n)}function ule(e,t){return t.value}function W$(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function UN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function dle(e,t,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:t;return o?u(a,s,o):u(a,s)}}function fle(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=BN(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function mle(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&zN.call(t.properties,i)){const a=ple(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&rle.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Im(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Im(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function WN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:ele;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=U$(e,a,s);o!==void 0&&n.push(o)}return n}function ple(e,t,n){const r=yoe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?loe(n):Noe(n)),r.property==="style"){let i=typeof n=="object"?n:gle(e,String(n));return e.stylePropertyNameCase==="css"&&(i=xle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?xoe[r.property]||r.property:r.attribute,n]}}function gle(e,t){try{return Zoe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Gi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=z$+"#cannot-parse-style-attribute",i}}function V$(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=iT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=iT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return zN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Im(e)}function Im(e,t){const n=new Gi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=z$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xle(e){const t={};let n;for(n in e)zN.call(e,n)&&(t[vle(n)]=e[n]);return t}function vle(e){let t=e.replace(tle,ble);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ble(e){return"-"+e.toLowerCase()}const Mb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yle={};function VN(e,t){const n=yle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return H$(e,r,i)}function H$(e,t,n){if(wle(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return pT(e.children,t,n)}return Array.isArray(e)?pT(e,t,n):""}function pT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=H$(e[i],t,n);return r.join("")}function wle(e){return!!(e&&typeof e=="object")}const gT=document.createElement("i");function HN(e){const t="&"+e+";";gT.innerHTML=t;const n=gT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function La(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Za(e,t){return e.length>0?(La(e,e.length,0,t),e):t}const xT={}.hasOwnProperty;function q$(e){const t={};let n=-1;for(;++n<e.length;)kle(t,e[n]);return t}function kle(e,t){let n;for(n in t){const i=(xT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){xT.call(i,s)||(i[s]=[]);const o=a[s];Sle(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Sle(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);La(e,0,0,r)}function K$(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function js(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ji=oc(/[A-Za-z]/),Hi=oc(/[\dA-Za-z]/),Nle=oc(/[#-'*+\--9=?A-Z^-~]/);function O0(e){return e!==null&&(e<32||e===127)}const s1=oc(/\d/),Cle=oc(/[\dA-Fa-f]/),jle=oc(/[!-/:-@[-`{-~]/);function Kt(e){return e!==null&&e<-2}function Qn(e){return e!==null&&(e<0||e===32)}function bn(e){return e===-2||e===-1||e===32}const uv=oc(new RegExp("\\p{P}|\\p{S}","u")),su=oc(/\s/);function oc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function qd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Hi(e.charCodeAt(n+1))&&Hi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Pn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return bn(l)?(e.enter(n),o(l)):t(l)}function o(l){return bn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const Ale={tokenize:Ple};function Ple(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Pn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Kt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const Dle={tokenize:Tle},vT={tokenize:Mle};function Tle(e){const t=this,n=[];let r=0,i,a,s;return o;function o(y){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let C=N,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}x(r);let A=N;for(;A<t.events.length;)t.events[A][1].end={...S},A++;return La(t.events,C+1,0,t.events.slice(N)),t.events.length=A,u(y)}return o(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return p(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vT,d,f)(y)}function d(y){return i&&w(),x(r),h(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(y)}function h(y){return t.containerState={},e.attempt(vT,m,p)(y)}function m(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function p(y){if(y===null){i&&w(),x(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(y)}function v(y){if(y===null){b(e.exit("chunkFlow"),!0),x(0),e.consume(y);return}return Kt(y)?(e.consume(y),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(y),v)}function b(y,N){const C=t.sliceStream(y);if(N&&C.push(null),y.previous=a,a&&(a.next=y),a=y,i.defineSkip(y.start),i.write(C),t.parser.lazy[y.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const A=t.events.length;let O=A,R,M;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(R){M=t.events[O][1].end;break}R=!0}for(x(r),S=A;S<t.events.length;)t.events[S][1].end={...M},S++;La(t.events,O+1,0,t.events.slice(A)),t.events.length=S}}function x(y){let N=n.length;for(;N-- >y;){const C=n[N];t.containerState=C[1],C[0].exit.call(t,e)}n.length=y}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Mle(e,t,n){return Pn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Dd(e){if(e===null||Qn(e)||su(e))return 1;if(uv(e))return 2}function dv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const o1={name:"attention",resolveAll:Ele,tokenize:Ole};function Ele(e,t){let n=-1,r,i,a,s,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};bT(f,-l),bT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Za(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Za(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Za(u,dv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Za(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Za(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,La(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Ole(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Dd(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),d=Dd(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(l)}}function bT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ile={name:"autolink",tokenize:_le};function _le(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Ji(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Hi(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Hi(m))&&r++<32?(e.consume(m),o):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||O0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):Nle(m)?(e.consume(m),u):n(m)}function d(m){return Hi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Hi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const kh={partial:!0,tokenize:Lle};function Lle(e,t,n){return r;function r(a){return bn(a)?Pn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Kt(a)?t(a):n(a)}}const G$={continuation:{tokenize:Fle},exit:Rle,name:"blockQuote",tokenize:$le};function $le(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return bn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Fle(e,t,n){const r=this;return i;function i(s){return bn(s)?Pn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(G$,t,n)(s)}}function Rle(e){e.exit("blockQuote")}const Y$={name:"characterEscape",tokenize:Ble};function Ble(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return jle(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const X$={name:"characterReference",tokenize:zle};function zle(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=Hi,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Cle,d):(e.enter("characterReferenceValue"),a=7,s=s1,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Hi&&!HN(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const yT={partial:!0,tokenize:Wle},wT={concrete:!0,name:"codeFenced",tokenize:Ule};function Ule(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(S){return u(S)}function u(S){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(s++,e.consume(S),d):s<3?n(S):(e.exit("codeFencedFenceSequence"),bn(S)?Pn(e,f,"whitespace")(S):f(S))}function f(S){return S===null||Kt(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(yT,v,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||Kt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):bn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Pn(e,m,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),h)}function m(S){return S===null||Kt(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Kt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?n(S):(e.consume(S),p)}function v(S){return e.attempt(i,N,b)(S)}function b(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),x}function x(S){return a>0&&bn(S)?Pn(e,w,"linePrefix",a+1)(S):w(S)}function w(S){return S===null||Kt(S)?e.check(yT,v,N)(S):(e.enter("codeFlowValue"),y(S))}function y(S){return S===null||Kt(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),y)}function N(S){return e.exit("codeFenced"),t(S)}function C(S,A,O){let R=0;return M;function M(le){return S.enter("lineEnding"),S.consume(le),S.exit("lineEnding"),L}function L(le){return S.enter("codeFencedFence"),bn(le)?Pn(S,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):_(le)}function _(le){return le===o?(S.enter("codeFencedFenceSequence"),G(le)):O(le)}function G(le){return le===o?(R++,S.consume(le),G):R>=s?(S.exit("codeFencedFenceSequence"),bn(le)?Pn(S,ee,"whitespace")(le):ee(le)):O(le)}function ee(le){return le===null||Kt(le)?(S.exit("codeFencedFence"),A(le)):O(le)}}}function Wle(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Eb={name:"codeIndented",tokenize:Hle},Vle={partial:!0,tokenize:qle};function Hle(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Pn(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Kt(u)?e.attempt(Vle,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Kt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function qle(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Kt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Pn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Kt(s)?i(s):n(s)}}const Kle={name:"codeText",previous:Yle,resolve:Gle,tokenize:Xle};function Gle(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Yle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Xle(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Kt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Kt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class Qle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&vf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),vf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),vf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);vf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);vf(this.left,n.reverse())}}}function vf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Q$(e){const t={};let n=-1,r,i,a,s,o,l,u;const d=new Qle(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Zle(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return La(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Zle(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let d,f,h=-1,m=n,p=0,v=0;const b=[v];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(v=h+1,b.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),h=b.length;h--;){const x=o.slice(b[h],b[h+1]),w=a.pop();l.push([w,w+x.length-1]),e.splice(w,2,x)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const Jle={resolve:tce,tokenize:nce},ece={partial:!0,tokenize:rce};function tce(e){return Q$(e),e}function nce(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Kt(o)?e.check(ece,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function rce(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Pn(e,a,"linePrefix")}function a(s){if(s===null||Kt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Z$(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||O0(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Kt(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function v(x){return!d&&(x===null||x===41||Qn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,v):x===41?(e.consume(x),d--,v):x===null||x===32||x===40||O0(x)?n(x):(e.consume(x),x===92?b:v)}function b(x){return x===40||x===41||x===92?(e.consume(x),v):v(x)}}function J$(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Kt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Kt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!bn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function eF(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Kt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Pn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Kt(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function qf(e,t){let n;return r;function r(i){return Kt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):bn(i)?Pn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const ice={name:"definition",tokenize:sce},ace={partial:!0,tokenize:oce};function sce(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return J$.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=js(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Qn(m)?qf(e,u)(m):u(m)}function u(m){return Z$(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(ace,f,f)(m)}function f(m){return bn(m)?Pn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Kt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function oce(e,t,n){return r;function r(o){return Qn(o)?qf(e,i)(o):n(o)}function i(o){return eF(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return bn(o)?Pn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Kt(o)?t(o):n(o)}}const lce={name:"hardBreakEscape",tokenize:cce};function cce(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Kt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const uce={name:"headingAtx",resolve:dce,tokenize:fce};function dce(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},La(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function fce(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Qn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Kt(d)?(e.exit("atxHeading"),t(d)):bn(d)?Pn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Qn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const mce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kT=["pre","script","style","textarea"],hce={concrete:!0,name:"htmlFlow",resolveTo:xce,tokenize:vce},pce={partial:!0,tokenize:yce},gce={partial:!0,tokenize:bce};function xce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vce(e,t,n){const r=this;let i,a,s,o,l;return u;function u(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,v):k===63?(e.consume(k),i=3,r.interrupt?t:P):Ji(k)?(e.consume(k),s=String.fromCharCode(k),b):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Ji(k)?(e.consume(k),i=4,r.interrupt?t:P):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:P):n(k)}function p(k){const W="CDATA[";return k===W.charCodeAt(o++)?(e.consume(k),o===W.length?r.interrupt?t:_:p):n(k)}function v(k){return Ji(k)?(e.consume(k),s=String.fromCharCode(k),b):n(k)}function b(k){if(k===null||k===47||k===62||Qn(k)){const W=k===47,V=s.toLowerCase();return!W&&!a&&kT.includes(V)?(i=1,r.interrupt?t(k):_(k)):mce.includes(s.toLowerCase())?(i=6,W?(e.consume(k),x):r.interrupt?t(k):_(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?w(k):y(k))}return k===45||Hi(k)?(e.consume(k),s+=String.fromCharCode(k),b):n(k)}function x(k){return k===62?(e.consume(k),r.interrupt?t:_):n(k)}function w(k){return bn(k)?(e.consume(k),w):M(k)}function y(k){return k===47?(e.consume(k),M):k===58||k===95||Ji(k)?(e.consume(k),N):bn(k)?(e.consume(k),y):M(k)}function N(k){return k===45||k===46||k===58||k===95||Hi(k)?(e.consume(k),N):C(k)}function C(k){return k===61?(e.consume(k),S):bn(k)?(e.consume(k),C):y(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,A):bn(k)?(e.consume(k),S):O(k)}function A(k){return k===l?(e.consume(k),l=null,R):k===null||Kt(k)?n(k):(e.consume(k),A)}function O(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Qn(k)?C(k):(e.consume(k),O)}function R(k){return k===47||k===62||bn(k)?y(k):n(k)}function M(k){return k===62?(e.consume(k),L):n(k)}function L(k){return k===null||Kt(k)?_(k):bn(k)?(e.consume(k),L):n(k)}function _(k){return k===45&&i===2?(e.consume(k),ve):k===60&&i===1?(e.consume(k),Y):k===62&&i===4?(e.consume(k),D):k===63&&i===3?(e.consume(k),P):k===93&&i===5?(e.consume(k),K):Kt(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(pce,re,G)(k)):k===null||Kt(k)?(e.exit("htmlFlowData"),G(k)):(e.consume(k),_)}function G(k){return e.check(gce,ee,re)(k)}function ee(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),le}function le(k){return k===null||Kt(k)?G(k):(e.enter("htmlFlowData"),_(k))}function ve(k){return k===45?(e.consume(k),P):_(k)}function Y(k){return k===47?(e.consume(k),s="",q):_(k)}function q(k){if(k===62){const W=s.toLowerCase();return kT.includes(W)?(e.consume(k),D):_(k)}return Ji(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),q):_(k)}function K(k){return k===93?(e.consume(k),P):_(k)}function P(k){return k===62?(e.consume(k),D):k===45&&i===2?(e.consume(k),P):_(k)}function D(k){return k===null||Kt(k)?(e.exit("htmlFlowData"),re(k)):(e.consume(k),D)}function re(k){return e.exit("htmlFlow"),t(k)}}function bce(e,t,n){const r=this;return i;function i(s){return Kt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function yce(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(kh,t,n)}}const wce={name:"htmlText",tokenize:kce};function kce(e,t,n){const r=this;let i,a,s;return o;function o(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),l}function l(P){return P===33?(e.consume(P),u):P===47?(e.consume(P),C):P===63?(e.consume(P),y):Ji(P)?(e.consume(P),O):n(P)}function u(P){return P===45?(e.consume(P),d):P===91?(e.consume(P),a=0,p):Ji(P)?(e.consume(P),w):n(P)}function d(P){return P===45?(e.consume(P),m):n(P)}function f(P){return P===null?n(P):P===45?(e.consume(P),h):Kt(P)?(s=f,Y(P)):(e.consume(P),f)}function h(P){return P===45?(e.consume(P),m):f(P)}function m(P){return P===62?ve(P):P===45?h(P):f(P)}function p(P){const D="CDATA[";return P===D.charCodeAt(a++)?(e.consume(P),a===D.length?v:p):n(P)}function v(P){return P===null?n(P):P===93?(e.consume(P),b):Kt(P)?(s=v,Y(P)):(e.consume(P),v)}function b(P){return P===93?(e.consume(P),x):v(P)}function x(P){return P===62?ve(P):P===93?(e.consume(P),x):v(P)}function w(P){return P===null||P===62?ve(P):Kt(P)?(s=w,Y(P)):(e.consume(P),w)}function y(P){return P===null?n(P):P===63?(e.consume(P),N):Kt(P)?(s=y,Y(P)):(e.consume(P),y)}function N(P){return P===62?ve(P):y(P)}function C(P){return Ji(P)?(e.consume(P),S):n(P)}function S(P){return P===45||Hi(P)?(e.consume(P),S):A(P)}function A(P){return Kt(P)?(s=A,Y(P)):bn(P)?(e.consume(P),A):ve(P)}function O(P){return P===45||Hi(P)?(e.consume(P),O):P===47||P===62||Qn(P)?R(P):n(P)}function R(P){return P===47?(e.consume(P),ve):P===58||P===95||Ji(P)?(e.consume(P),M):Kt(P)?(s=R,Y(P)):bn(P)?(e.consume(P),R):ve(P)}function M(P){return P===45||P===46||P===58||P===95||Hi(P)?(e.consume(P),M):L(P)}function L(P){return P===61?(e.consume(P),_):Kt(P)?(s=L,Y(P)):bn(P)?(e.consume(P),L):R(P)}function _(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,G):Kt(P)?(s=_,Y(P)):bn(P)?(e.consume(P),_):(e.consume(P),ee)}function G(P){return P===i?(e.consume(P),i=void 0,le):P===null?n(P):Kt(P)?(s=G,Y(P)):(e.consume(P),G)}function ee(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Qn(P)?R(P):(e.consume(P),ee)}function le(P){return P===47||P===62||Qn(P)?R(P):n(P)}function ve(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function Y(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),q}function q(P){return bn(P)?Pn(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):K(P)}function K(P){return e.enter("htmlTextData"),s(P)}}const qN={name:"labelEnd",resolveAll:jce,resolveTo:Ace,tokenize:Pce},Sce={tokenize:Dce},Nce={tokenize:Tce},Cce={tokenize:Mce};function jce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&La(e,0,e.length,n),e}function Ace(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Za(o,e.slice(a+1,a+r+3)),o=Za(o,[["enter",d,t]]),o=Za(o,dv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Za(o,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),o=Za(o,e.slice(s+1)),o=Za(o,[["exit",l,t]]),La(e,a,e.length,o),e}function Pce(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(js(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(Sce,d,s?d:f)(h):h===91?e.attempt(Nce,d,s?u:f)(h):s?d(h):f(h)}function u(h){return e.attempt(Cce,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function Dce(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Qn(f)?qf(e,a)(f):a(f)}function a(f){return f===41?d(f):Z$(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Qn(f)?qf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?eF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Qn(f)?qf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Tce(e,t,n){const r=this;return i;function i(o){return J$.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(js(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Mce(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Ece={name:"labelStartImage",resolveAll:qN.resolveAll,tokenize:Oce};function Oce(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ice={name:"labelStartLink",resolveAll:qN.resolveAll,tokenize:_ce};function _ce(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ob={name:"lineEnding",tokenize:Lce};function Lce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Pn(e,t,"linePrefix")}}const ig={name:"thematicBreak",tokenize:$ce};function $ce(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Kt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),bn(u)?Pn(e,o,"whitespace")(u):o(u))}}const la={continuation:{tokenize:zce},exit:Wce,name:"list",tokenize:Bce},Fce={partial:!0,tokenize:Vce},Rce={partial:!0,tokenize:Uce};function Bce(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:s1(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ig,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return s1(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(kh,r.interrupt?n:d,e.attempt(Fce,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return bn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function zce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(kh,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!bn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Rce,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pn(e,e.attempt(la,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Uce(e,t,n){const r=this;return Pn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Wce(e){e.exit(this.containerState.type)}function Vce(e,t,n){const r=this;return Pn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!bn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const ST={name:"setextUnderline",resolveTo:Hce,tokenize:qce};function Hce(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function qce(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),bn(u)?Pn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Kt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Kce={tokenize:Gce};function Gce(e){const t=this,n=e.attempt(kh,r,e.attempt(this.parser.constructs.flowInitial,i,Pn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Jle,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Yce={resolveAll:nF()},Xce=tF("string"),Qce=tF("text");function tF(e){return{resolveAll:nF(e==="text"?Zce:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function nF(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Zce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Jce={42:la,43:la,45:la,48:la,49:la,50:la,51:la,52:la,53:la,54:la,55:la,56:la,57:la,62:G$},eue={91:ice},tue={[-2]:Eb,[-1]:Eb,32:Eb},nue={35:uce,42:ig,45:[ST,ig],60:hce,61:ST,95:ig,96:wT,126:wT},rue={38:X$,92:Y$},iue={[-5]:Ob,[-4]:Ob,[-3]:Ob,33:Ece,38:X$,42:o1,60:[Ile,wce],91:Ice,92:[lce,Y$],93:qN,95:o1,96:Kle},aue={null:[o1,Yce]},sue={null:[42,95]},oue={null:[]},lue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:sue,contentInitial:eue,disable:oue,document:Jce,flow:nue,flowInitial:tue,insideSpan:aue,string:rue,text:iue},Symbol.toStringTag,{value:"Module"}));function cue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(C),check:A(S),consume:w,enter:y,exit:N,interrupt:A(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(L){return s=Za(s,L),b(),s[s.length-1]!==null?[]:(O(t,0),u.events=dv(a,u.events,u),u.events)}function h(L,_){return due(m(L),_)}function m(L){return uue(s,L)}function p(){const{_bufferIndex:L,_index:_,line:G,column:ee,offset:le}=r;return{_bufferIndex:L,_index:_,line:G,column:ee,offset:le}}function v(L){i[L.line]=L.column,M()}function b(){let L;for(;r._index<s.length;){const _=s[r._index];if(typeof _=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<_.length;)x(_.charCodeAt(r._bufferIndex));else x(_)}}function x(L){d=d(L)}function w(L){Kt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,M()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function y(L,_){const G=_||{};return G.type=L,G.start=p(),u.events.push(["enter",G,u]),o.push(G),G}function N(L){const _=o.pop();return _.end=p(),u.events.push(["exit",_,u]),_}function C(L,_){O(L,_.from)}function S(L,_){_.restore()}function A(L,_){return G;function G(ee,le,ve){let Y,q,K,P;return Array.isArray(ee)?re(ee):"tokenize"in ee?re([ee]):D(ee);function D(ie){return ne;function ne(se){const B=se!==null&&ie[se],U=se!==null&&ie.null,H=[...Array.isArray(B)?B:B?[B]:[],...Array.isArray(U)?U:U?[U]:[]];return re(H)(se)}}function re(ie){return Y=ie,q=0,ie.length===0?ve:k(ie[q])}function k(ie){return ne;function ne(se){return P=R(),K=ie,ie.partial||(u.currentConstruct=ie),ie.name&&u.parser.constructs.disable.null.includes(ie.name)?V():ie.tokenize.call(_?Object.assign(Object.create(u),_):u,l,W,V)(se)}}function W(ie){return L(K,P),le}function V(ie){return P.restore(),++q<Y.length?k(Y[q]):ve}}}function O(L,_){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&La(u.events,_,u.events.length-_,L.resolve(u.events.slice(_),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function R(){const L=p(),_=u.previous,G=u.currentConstruct,ee=u.events.length,le=Array.from(o);return{from:ee,restore:ve};function ve(){r=L,u.previous=_,u.currentConstruct=G,u.events.length=ee,o=le,M()}}function M(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function uue(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function due(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function fue(e){const r={constructs:q$([lue,...(e||{}).extensions||[]]),content:i(Ale),defined:[],document:i(Dle),flow:i(Kce),lazy:{},string:i(Xce),text:i(Qce)};return r;function i(a){return s;function s(o){return cue(r,a,o)}}}function mue(e){for(;!Q$(e););return e}const NT=/[\0\t\n\r]/g;function hue(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(NT.lastIndex=f,u=NT.exec(a),h=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(h),!u){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const pue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gue(e){return e.replace(pue,xue)}function xue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return K$(n.slice(a?2:1),a?16:10)}return HN(n)||e}const rF={}.hasOwnProperty;function vue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),bue(n)(mue(fue(n).document().write(hue()(e,t,!0))))}function bue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(be),autolinkProtocol:R,autolinkEmail:R,atxHeading:a(Z),blockQuote:a(U),characterEscape:R,characterReference:R,codeFenced:a(H),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(H,s),codeText:a(te,s),codeTextData:R,data:R,codeFlowValue:R,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ue),hardBreakEscape:a(ae),hardBreakTrailing:a(ae),htmlFlow:a(Ke,s),htmlFlowData:R,htmlText:a(Ke,s),htmlTextData:R,image:a(Ye),label:s,link:a(be),listItem:a(Ee),listItemValue:h,listOrdered:a(F,f),listUnordered:a(F),paragraph:a(Le),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Z),strong:a(wt),thematicBreak:a(mn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:B,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:ie,characterReference:ne,codeFenced:l(b),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:M,codeIndented:l(x),codeText:l(le),codeTextData:M,data:M,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(_),hardBreakTrailing:l(_),htmlFlow:l(G),htmlFlowData:M,htmlText:l(ee),htmlTextData:M,image:l(Y),label:K,labelText:q,lineEnding:L,link:l(ve),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:P,resourceTitleString:D,resource:re,setextHeading:l(O),setextHeadingLineSequence:A,setextHeadingText:S,strong:l(),thematicBreak:l()}};iF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Pe){let rt={type:"root",children:[]};const Lt={stack:[rt],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:d,data:n},sn=[];let Zt=-1;for(;++Zt<Pe.length;)if(Pe[Zt][1].type==="listOrdered"||Pe[Zt][1].type==="listUnordered")if(Pe[Zt][0]==="enter")sn.push(Zt);else{const Tr=sn.pop();Zt=i(Pe,Tr,Zt)}for(Zt=-1;++Zt<Pe.length;){const Tr=t[Pe[Zt][0]];rF.call(Tr,Pe[Zt][1].type)&&Tr[Pe[Zt][1].type].call(Object.assign({sliceSerialize:Pe[Zt][2].sliceSerialize},Lt),Pe[Zt][1])}if(Lt.tokenStack.length>0){const Tr=Lt.tokenStack[Lt.tokenStack.length-1];(Tr[1]||CT).call(Lt,void 0,Tr[0])}for(rt.position={start:wl(Pe.length>0?Pe[0][1].start:{line:1,column:1,offset:0}),end:wl(Pe.length>0?Pe[Pe.length-2][1].end:{line:1,column:1,offset:0})},Zt=-1;++Zt<t.transforms.length;)rt=t.transforms[Zt](rt)||rt;return rt}function i(Pe,rt,Lt){let sn=rt-1,Zt=-1,Tr=!1,Rn,un,ds,hn;for(;++sn<=Lt;){const kn=Pe[sn];switch(kn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kn[0]==="enter"?Zt++:Zt--,hn=void 0;break}case"lineEndingBlank":{kn[0]==="enter"&&(Rn&&!hn&&!Zt&&!ds&&(ds=sn),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!Zt&&kn[0]==="enter"&&kn[1].type==="listItemPrefix"||Zt===-1&&kn[0]==="exit"&&(kn[1].type==="listUnordered"||kn[1].type==="listOrdered")){if(Rn){let Nn=sn;for(un=void 0;Nn--;){const _i=Pe[Nn];if(_i[1].type==="lineEnding"||_i[1].type==="lineEndingBlank"){if(_i[0]==="exit")continue;un&&(Pe[un][1].type="lineEndingBlank",Tr=!0),_i[1].type="lineEnding",un=Nn}else if(!(_i[1].type==="linePrefix"||_i[1].type==="blockQuotePrefix"||_i[1].type==="blockQuotePrefixWhitespace"||_i[1].type==="blockQuoteMarker"||_i[1].type==="listItemIndent"))break}ds&&(!un||ds<un)&&(Rn._spread=!0),Rn.end=Object.assign({},un?Pe[un][1].start:kn[1].end),Pe.splice(un||sn,0,["exit",Rn,kn[2]]),sn++,Lt++}if(kn[1].type==="listItemPrefix"){const Nn={type:"listItem",_spread:!1,start:Object.assign({},kn[1].start),end:void 0};Rn=Nn,Pe.splice(sn,0,["enter",Nn,kn[2]]),sn++,Lt++,ds=void 0,hn=!0}}}return Pe[rt][1]._spread=Tr,Lt}function a(Pe,rt){return Lt;function Lt(sn){o.call(this,Pe(sn),sn),rt&&rt.call(this,sn)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Pe,rt,Lt){this.stack[this.stack.length-1].children.push(Pe),this.stack.push(Pe),this.tokenStack.push([rt,Lt||void 0]),Pe.position={start:wl(rt.start),end:void 0}}function l(Pe){return rt;function rt(Lt){Pe&&Pe.call(this,Lt),u.call(this,Lt)}}function u(Pe,rt){const Lt=this.stack.pop(),sn=this.tokenStack.pop();if(sn)sn[0].type!==Pe.type&&(rt?rt.call(this,Pe,sn[0]):(sn[1]||CT).call(this,Pe,sn[0]));else throw new Error("Cannot close `"+Pe.type+"` ("+Hf({start:Pe.start,end:Pe.end})+"): its not open");Lt.position.end=wl(Pe.end)}function d(){return VN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Pe){if(this.data.expectingFirstListItemValue){const rt=this.stack[this.stack.length-2];rt.start=Number.parseInt(this.sliceSerialize(Pe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.lang=Pe}function p(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.meta=Pe}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.value=Pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.value=Pe.replace(/(\r?\n|\r)$/g,"")}function w(Pe){const rt=this.resume(),Lt=this.stack[this.stack.length-1];Lt.label=rt,Lt.identifier=js(this.sliceSerialize(Pe)).toLowerCase()}function y(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.title=Pe}function N(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.url=Pe}function C(Pe){const rt=this.stack[this.stack.length-1];if(!rt.depth){const Lt=this.sliceSerialize(Pe).length;rt.depth=Lt}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function A(Pe){const rt=this.stack[this.stack.length-1];rt.depth=this.sliceSerialize(Pe).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function R(Pe){const Lt=this.stack[this.stack.length-1].children;let sn=Lt[Lt.length-1];(!sn||sn.type!=="text")&&(sn=Wt(),sn.position={start:wl(Pe.start),end:void 0},Lt.push(sn)),this.stack.push(sn)}function M(Pe){const rt=this.stack.pop();rt.value+=this.sliceSerialize(Pe),rt.position.end=wl(Pe.end)}function L(Pe){const rt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Lt=rt.children[rt.children.length-1];Lt.position.end=wl(Pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(rt.type)&&(R.call(this,Pe),M.call(this,Pe))}function _(){this.data.atHardBreak=!0}function G(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.value=Pe}function ee(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.value=Pe}function le(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.value=Pe}function ve(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const rt=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=rt,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function Y(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const rt=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=rt,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function q(Pe){const rt=this.sliceSerialize(Pe),Lt=this.stack[this.stack.length-2];Lt.label=gue(rt),Lt.identifier=js(rt).toLowerCase()}function K(){const Pe=this.stack[this.stack.length-1],rt=this.resume(),Lt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Lt.type==="link"){const sn=Pe.children;Lt.children=sn}else Lt.alt=rt}function P(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.url=Pe}function D(){const Pe=this.resume(),rt=this.stack[this.stack.length-1];rt.title=Pe}function re(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function W(Pe){const rt=this.resume(),Lt=this.stack[this.stack.length-1];Lt.label=rt,Lt.identifier=js(this.sliceSerialize(Pe)).toLowerCase(),this.data.referenceType="full"}function V(Pe){this.data.characterReferenceType=Pe.type}function ie(Pe){const rt=this.sliceSerialize(Pe),Lt=this.data.characterReferenceType;let sn;Lt?(sn=K$(rt,Lt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):sn=HN(rt);const Zt=this.stack[this.stack.length-1];Zt.value+=sn}function ne(Pe){const rt=this.stack.pop();rt.position.end=wl(Pe.end)}function se(Pe){M.call(this,Pe);const rt=this.stack[this.stack.length-1];rt.url=this.sliceSerialize(Pe)}function B(Pe){M.call(this,Pe);const rt=this.stack[this.stack.length-1];rt.url="mailto:"+this.sliceSerialize(Pe)}function U(){return{type:"blockquote",children:[]}}function H(){return{type:"code",lang:null,meta:null,value:""}}function te(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function Z(){return{type:"heading",depth:0,children:[]}}function ae(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function be(){return{type:"link",title:null,url:"",children:[]}}function F(Pe){return{type:"list",ordered:Pe.type==="listOrdered",start:null,spread:Pe._spread,children:[]}}function Ee(Pe){return{type:"listItem",spread:Pe._spread,checked:null,children:[]}}function Le(){return{type:"paragraph",children:[]}}function wt(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function mn(){return{type:"thematicBreak"}}}function wl(e){return{line:e.line,column:e.column,offset:e.offset}}function iF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?iF(e,r):yue(e,r)}}function yue(e,t){let n;for(n in t)if(rF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function CT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Hf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Hf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Hf({start:t.start,end:t.end})+") is still open")}function wue(e){const t=this;t.parser=n;function n(r){return vue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Sue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Nue(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Cue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Aue(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=qd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Pue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Due(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function aF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Tue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aF(e,t);const i={src:qd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Mue(e,t){const n={src:qd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Eue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Oue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aF(e,t);const i={href:qd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Iue(e,t){const n={href:qd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _ue(e,t,n){const r=e.all(t),i=n?Lue(n):sF(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function Lue(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=sF(n[r])}return t}function sF(e){const t=e.spread;return t??e.children.length>1}function $ue(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Fue(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rue(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Bue(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zue(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=BN(t.children[1]),l=R$(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Uue(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Wue(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const jT=9,AT=32;function Vue(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(PT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(PT(t.slice(i),i>0,!1)),a.join("")}function PT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===jT||a===AT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===jT||a===AT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Hue(e,t){const n={type:"text",value:Vue(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function que(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Kue={blockquote:kue,break:Sue,code:Nue,delete:Cue,emphasis:jue,footnoteReference:Aue,heading:Pue,html:Due,imageReference:Tue,image:Mue,inlineCode:Eue,linkReference:Oue,link:Iue,listItem:_ue,list:$ue,paragraph:Fue,root:Rue,strong:Bue,table:zue,tableCell:Wue,tableRow:Uue,text:Hue,thematicBreak:que,toml:Mp,yaml:Mp,definition:Mp,footnoteDefinition:Mp};function Mp(){}const oF=-1,fv=0,Kf=1,I0=2,KN=3,GN=4,YN=5,XN=6,lF=7,cF=8,DT=typeof self=="object"?self:globalThis,Gue=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case fv:case oF:return n(s,i);case Kf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case I0:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case KN:return n(new Date(s),i);case GN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case YN:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case XN:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case lF:{const{name:o,message:l}=s;return n(new DT[o](l),i)}case cF:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new DT[a](s),i)};return r},TT=e=>Gue(new Map,e)(0),Eu="",{toString:Yue}={},{keys:Xue}=Object,bf=e=>{const t=typeof e;if(t!=="object"||!e)return[fv,t];const n=Yue.call(e).slice(8,-1);switch(n){case"Array":return[Kf,Eu];case"Object":return[I0,Eu];case"Date":return[KN,Eu];case"RegExp":return[GN,Eu];case"Map":return[YN,Eu];case"Set":return[XN,Eu];case"DataView":return[Kf,n]}return n.includes("Array")?[Kf,n]:n.includes("Error")?[lF,n]:[I0,n]},Ep=([e,t])=>e===fv&&(t==="function"||t==="symbol"),Que=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=bf(s);switch(o){case fv:{let d=s;switch(l){case"bigint":o=cF,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([oF],s)}return i([o,d],s)}case Kf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case I0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Xue(s))(e||!Ep(bf(s[h])))&&d.push([a(h),a(s[h])]);return f}case KN:return i([o,s.toISOString()],s);case GN:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case YN:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Ep(bf(h))||Ep(bf(m))))&&d.push([a(h),a(m)]);return f}case XN:{const d=[],f=i([o,d],s);for(const h of s)(e||!Ep(bf(h)))&&d.push(a(h));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},MT=(e,{json:t,lossy:n}={})=>{const r=[];return Que(!(t||n),!!t,new Map,r)(e),r},_0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?TT(MT(e,t)):structuredClone(e):(e,t)=>TT(MT(e,t));function Zue(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Jue(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ede(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Zue,r=e.options.footnoteBackLabel||Jue,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=qd(f.toLowerCase());let m=0;const p=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,m);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{..._0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const mv=function(e){if(e==null)return ide;if(typeof e=="function")return hv(e);if(typeof e=="object")return Array.isArray(e)?tde(e):nde(e);if(typeof e=="string")return rde(e);throw new Error("Expected function, string, or object as test")};function tde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mv(e[n]);return hv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function nde(e){const t=e;return hv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function rde(e){return hv(t);function t(n){return n&&n.type===e}}function hv(e){return t;function t(n,r,i){return!!(ade(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ide(){return!0}function ade(e){return e!==null&&typeof e=="object"&&"type"in e}const uF=[],sde=!0,l1=!1,ode="skip";function dF(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=mv(i),s=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=uF,p,v,b;if((!t||a(l,u,d[d.length-1]||void 0))&&(m=lde(n(l,d)),m[0]===l1))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==ode)for(v=(r?x.children.length:-1)+s,b=d.concat(x);v>-1&&v<x.children.length;){const w=x.children[v];if(p=o(w,v,b)(),p[0]===l1)return p;v=typeof p[1]=="number"?p[1]:v+s}}return m}}}function lde(e){return Array.isArray(e)?e:typeof e=="number"?[sde,e]:e==null?uF:[e]}function QN(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),dF(e,a,o,i);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const c1={}.hasOwnProperty,cde={};function ude(e,t){const n=t||cde,r=new Map,i=new Map,a=new Map,s={...Kue,...n.handlers},o={all:u,applyData:fde,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:dde,wrap:hde};return QN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(c1.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:v,...b}=d,x=_0(b);return x.children=o.all(d),x}return _0(d)}return(o.options.unknownHandler||mde)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=ET(p.value)),!Array.isArray(p)&&p.type==="element")){const v=p.children[0];v&&v.type==="text"&&(v.value=ET(v.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function dde(e,t){e.position&&(t.position=Joe(e))}function fde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,_0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function mde(e,t){const n=t.data||{},r="value"in t&&!(c1.call(n,"hProperties")||c1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ET(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function OT(e,t){const n=ude(e,t),r=n.one(e,void 0),i=ede(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function pde(e,t){return e&&"run"in e?async function(n,r){const i=OT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return OT(n,{file:r,...e||t})}}function IT(e){if(e)throw e}var ag=Object.prototype.hasOwnProperty,fF=Object.prototype.toString,_T=Object.defineProperty,LT=Object.getOwnPropertyDescriptor,$T=function(t){return typeof Array.isArray=="function"?Array.isArray(t):fF.call(t)==="[object Array]"},FT=function(t){if(!t||fF.call(t)!=="[object Object]")return!1;var n=ag.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ag.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ag.call(t,i)},RT=function(t,n){_T&&n.name==="__proto__"?_T(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},BT=function(t,n){if(n==="__proto__")if(ag.call(t,n)){if(LT)return LT(t,n).value}else return;return t[n]},gde=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=BT(o,n),i=BT(t,n),o!==i&&(d&&i&&(FT(i)||(a=$T(i)))?(a?(a=!1,s=r&&$T(r)?r:[]):s=r&&FT(r)?r:{},RT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&RT(o,{name:n,newValue:i}));return o};const Ib=_s(gde);function u1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xde(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?vde(d,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function vde(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Xs={basename:bde,dirname:yde,extname:wde,join:kde,sep:"/"};function bde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Sh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function yde(e){if(Sh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wde(e){Sh(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function kde(...e){let t=-1,n;for(;++t<e.length;)Sh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Sde(n)}function Sde(e){Sh(e);const t=e.codePointAt(0)===47;let n=Nde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Nde(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Sh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Cde={cwd:jde};function jde(){return"/"}function d1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Ade(e){if(typeof e=="string")e=new URL(e);else if(!d1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Pde(e)}function Pde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _b=["history","path","basename","stem","extname","dirname"];class mF{constructor(t){let n;t?d1(t)?n={path:t}:typeof t=="string"||Dde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Cde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_b.length;){const a=_b[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)_b.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Xs.basename(this.path):void 0}set basename(t){$b(t,"basename"),Lb(t,"basename"),this.path=Xs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Xs.dirname(this.path):void 0}set dirname(t){zT(this.basename,"dirname"),this.path=Xs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Xs.extname(this.path):void 0}set extname(t){if(Lb(t,"extname"),zT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){d1(t)&&(t=Ade(t)),$b(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Xs.basename(this.path,this.extname):void 0}set stem(t){$b(t,"stem"),Lb(t,"stem"),this.path=Xs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Gi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Lb(e,t){if(e&&e.includes(Xs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xs.sep+"`")}function $b(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function zT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Dde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Tde=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Mde={}.hasOwnProperty;class ZN extends Tde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=xde()}copy(){const t=new ZN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ib(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Bb("data",this.frozen),this.namespace[t]=n,this):Mde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Bb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Op(t),r=this.parser||this.Parser;return Fb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Fb("process",this.parser||this.Parser),Rb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Op(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return u(d);const m=f,p=r.stringify(m,h);Ide(p)?h.value=p:h.result=p,u(d,h)});function u(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Fb("processSync",this.parser||this.Parser),Rb("processSync",this.compiler||this.Compiler),this.process(t,i),WT("processSync","process",n),r;function i(a,s){n=!0,IT(a),r=s}}run(t,n,r){UT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Op(n);i.run(t,l,u);function u(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),WT("runSync","run",r),i;function a(s,o){IT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Op(n),i=this.compiler||this.Compiler;return Rb("stringify",i),UT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Bb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Ib(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const v=r[h][1];u1(v)&&u1(m)&&(m=Ib(!0,v,m)),r[h]=[u,m,...p]}}}}const Ede=new ZN().freeze();function Fb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Rb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Bb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UT(e){if(!u1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function WT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Op(e){return Ode(e)?e:new mF(e)}function Ode(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ide(e){return typeof e=="string"||_de(e)}function _de(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Lde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VT=[],HT={allowDangerousHtml:!0},$de=/^(https?|ircs?|mailto|xmpp)$/i,Fde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rde(e){const t=Bde(e),n=zde(e);return Ude(t.runSync(t.parse(n),n),e)}function Bde(e){const t=e.rehypePlugins||VT,n=e.remarkPlugins||VT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...HT}:HT;return Ede().use(wue).use(n).use(pde,r).use(t)}function zde(e){const t=e.children||"",n=new mF;return typeof t=="string"&&(n.value=t),n}function Ude(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Wde;for(const d of Fde)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Lde+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),QN(e,u),ile(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mb)if(Object.hasOwn(Mb,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],v=Mb[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Wde(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||$de.test(e.slice(0,t))?e:""}function qT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Vde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hde(e,t,n){const i=mv((n||{}).ignore||[]),a=qde(t);let s=-1;for(;++s<a.length;)dF(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(u,d)}function l(u,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const b=f.children.indexOf(u);let x=!1,w=[];h.lastIndex=0;let y=h.exec(u.value);for(;y;){const N=y.index,C={index:y.index,input:y.input,stack:[...d,u]};let S=m(...y,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=N+1:(p!==N&&w.push({type:"text",value:u.value.slice(p,N)}),Array.isArray(S)?w.push(...S):S&&w.push(S),p=N+y[0].length,x=!0),!h.global)break;y=h.exec(u.value)}return x?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),f.children.splice(b,1,...w)):w=[u],b+w.length}}function qde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Kde(i[0]),Gde(i[1])])}return t}function Kde(e){return typeof e=="string"?new RegExp(Vde(e),"g"):e}function Gde(e){return typeof e=="function"?e:function(){return e}}const zb="phrasing",Ub=["autolink","link","image","label"];function Yde(){return{transforms:[nfe],enter:{literalAutolink:Qde,literalAutolinkEmail:Wb,literalAutolinkHttp:Wb,literalAutolinkWww:Wb},exit:{literalAutolink:tfe,literalAutolinkEmail:efe,literalAutolinkHttp:Zde,literalAutolinkWww:Jde}}}function Xde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:zb,notInConstruct:Ub},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:zb,notInConstruct:Ub},{character:":",before:"[ps]",after:"\\/",inConstruct:zb,notInConstruct:Ub}]}}function Qde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wb(e){this.config.enter.autolinkProtocol.call(this,e)}function Zde(e){this.config.exit.autolinkProtocol.call(this,e)}function Jde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function efe(e){this.config.exit.autolinkEmail.call(this,e)}function tfe(e){this.exit(e)}function nfe(e){Hde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ife]],{ignore:["link","linkReference"]})}function rfe(e,t,n,r,i){let a="";if(!hF(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!afe(n)))return!1;const s=sfe(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function ife(e,t,n,r){return!hF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function afe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function sfe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=qT(e,"(");let a=qT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function hF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||su(n)||uv(n))&&(!t||n!==47)}pF.peek=pfe;function ofe(){this.buffer()}function lfe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function cfe(){this.buffer()}function ufe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function dfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=js(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ffe(e){this.exit(e)}function mfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=js(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hfe(e){this.exit(e)}function pfe(){return"["}function pF(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function gfe(){return{enter:{gfmFootnoteCallString:ofe,gfmFootnoteCall:lfe,gfmFootnoteDefinitionLabelString:cfe,gfmFootnoteDefinition:ufe},exit:{gfmFootnoteCallString:dfe,gfmFootnoteCall:ffe,gfmFootnoteDefinitionLabelString:mfe,gfmFootnoteDefinition:hfe}}}function xfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:pF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?gF:vfe))),u(),l}}function vfe(e,t,n){return t===0?e:gF(e,t,n)}function gF(e,t,n){return(n?"":"    ")+e}const bfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xF.peek=Nfe;function yfe(){return{canContainEols:["delete"],enter:{strikethrough:kfe},exit:{strikethrough:Sfe}}}function wfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:bfe}],handlers:{delete:xF}}}function kfe(e){this.enter({type:"delete",children:[]},e)}function Sfe(e){this.exit(e)}function xF(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Nfe(){return"~"}function Cfe(e){return e.length}function jfe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Cfe,a=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],b=[];let x=-1;for(e[d].length>u&&(u=e[d].length);++x<e[d].length;){const w=Afe(e[d][x]);if(n.alignDelimiters!==!1){const y=i(w);b[x]=y,(l[x]===void 0||y>l[x])&&(l[x]=y)}v.push(w)}s[d]=v,o[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=KT(r[f]);else{const v=KT(r);for(;++f<u;)a[f]=v}f=-1;const h=[],m=[];for(;++f<u;){const v=a[f];let b="",x="";v===99?(b=":",x=":"):v===108?b=":":v===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-x.length);const y=b+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=b.length+w+x.length,w>l[f]&&(l[f]=w),m[f]=w),h[f]=y}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const v=s[d],b=o[d];f=-1;const x=[];for(;++f<u;){const w=v[f]||"";let y="",N="";if(n.alignDelimiters!==!1){const C=l[f]-(b[f]||0),S=a[f];S===114?y=" ".repeat(C):S===99?C%2?(y=" ".repeat(C/2+.5),N=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),N=y):N=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(y),x.push(w),n.alignDelimiters!==!1&&x.push(N),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function Afe(e){return e==null?"":String(e)}function KT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Pfe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),Dfe);return i(),s}function Dfe(e,t,n){return">"+(n?"":" ")+e}function Tfe(e,t){return GT(e,t.inConstruct,!0)&&!GT(e,t.notInConstruct,!1)}function GT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function YT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Tfe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Mfe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Efe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Ofe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ife(e,t,n,r){const i=Ofe(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Efe(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,_fe);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Mfe(a,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),u(),d}function _fe(e,t,n){return(n?"":"    ")+e}function JN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Lfe(e,t,n,r){const i=JN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function $fe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function _m(e){return"&#x"+e.toString(16).toUpperCase()+";"}function L0(e,t,n){const r=Dd(e),i=Dd(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}vF.peek=Ffe;function vF(e,t,n,r){const i=$fe(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=L0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=_m(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=L0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+_m(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Ffe(e,t,n){return n.options.emphasis||"*"}function Rfe(e,t){let n=!1;return QN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,l1}),!!((!e.depth||e.depth<3)&&VN(e)&&(t.options.setext||n))}function Bfe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Rfe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=_m(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}bF.peek=zfe;function bF(e){return e.value||""}function zfe(){return"<"}yF.peek=Ufe;function yF(e,t,n,r){const i=JN(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function Ufe(){return"!"}wF.peek=Wfe;function wF(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Wfe(){return"!"}kF.peek=Vfe;function kF(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Vfe(){return"`"}function SF(e,t){const n=VN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}NF.peek=Hfe;function NF(e,t,n,r){const i=JN(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(SF(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function Hfe(e,t,n){return SF(e,n)?"<":"["}CF.peek=qfe;function CF(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function qfe(){return"["}function e2(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Kfe(e){const t=e2(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Gfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function jF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Yfe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Gfe(n):e2(n);const o=e.ordered?s==="."?")":".":Kfe(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),jF(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function Xfe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Qfe(e,t,n,r){const i=Xfe(n);let a=n.bulletCurrent||e2(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Zfe(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Jfe=mv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function eme(e,t,n,r){return(e.children.some(function(s){return Jfe(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function tme(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}AF.peek=nme;function AF(e,t,n,r){const i=tme(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=L0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=_m(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=L0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+_m(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function nme(e,t,n){return n.options.strong||"*"}function rme(e,t,n,r){return n.safe(e.value,r)}function ime(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ame(e,t,n){const r=(jF(n)+(n.options.ruleSpaces?" ":"")).repeat(ime(n));return n.options.ruleSpaces?r.slice(0,-1):r}const PF={blockquote:Pfe,break:YT,code:Ife,definition:Lfe,emphasis:vF,hardBreak:YT,heading:Bfe,html:bF,image:yF,imageReference:wF,inlineCode:kF,link:NF,linkReference:CF,list:Yfe,listItem:Qfe,paragraph:Zfe,root:eme,strong:AF,text:rme,thematicBreak:ame};function sme(){return{enter:{table:ome,tableData:XT,tableHeader:XT,tableRow:cme},exit:{codeText:ume,table:lme,tableData:Vb,tableHeader:Vb,tableRow:Vb}}}function ome(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function lme(e){this.exit(e),this.data.inTable=void 0}function cme(e){this.enter({type:"tableRow",children:[]},e)}function Vb(e){this.exit(e)}function XT(e){this.enter({type:"tableCell",children:[]},e)}function ume(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,dme));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function dme(e,t){return t==="|"?t:e}function fme(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,v,b){return u(d(m,v,b),m.align)}function o(m,p,v,b){const x=f(m,v,b),w=u([x]);return w.slice(0,w.indexOf(`
`))}function l(m,p,v,b){const x=v.enter("tableCell"),w=v.enter("phrasing"),y=v.containerPhrasing(m,{...b,before:a,after:a});return w(),x(),y}function u(m,p){return jfe(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,v){const b=m.children;let x=-1;const w=[],y=p.enter("table");for(;++x<b.length;)w[x]=f(b[x],p,v);return y(),w}function f(m,p,v){const b=m.children;let x=-1;const w=[],y=p.enter("tableRow");for(;++x<b.length;)w[x]=l(b[x],m,p,v);return y(),w}function h(m,p,v){let b=PF.inlineCode(m,p,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function mme(){return{exit:{taskListCheckValueChecked:QT,taskListCheckValueUnchecked:QT,paragraph:pme}}}function hme(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gme}}}function QT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function pme(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function gme(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=PF.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function xme(){return[Yde(),gfe(),yfe(),sme(),mme()]}function vme(e){return{extensions:[Xde(),xfe(e),wfe(),fme(e),hme()]}}const bme={tokenize:Cme,partial:!0},DF={tokenize:jme,partial:!0},TF={tokenize:Ame,partial:!0},MF={tokenize:Pme,partial:!0},yme={tokenize:Dme,partial:!0},EF={name:"wwwAutolink",tokenize:Sme,previous:IF},OF={name:"protocolAutolink",tokenize:Nme,previous:_F},al={name:"emailAutolink",tokenize:kme,previous:LF},lo={};function wme(){return{text:lo}}let vc=48;for(;vc<123;)lo[vc]=al,vc++,vc===58?vc=65:vc===91&&(vc=97);lo[43]=al;lo[45]=al;lo[46]=al;lo[95]=al;lo[72]=[al,OF];lo[104]=[al,OF];lo[87]=[al,EF];lo[119]=[al,EF];function kme(e,t,n){const r=this;let i,a;return s;function s(f){return!f1(f)||!LF.call(r,r.previous)||t2(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return f1(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(yme,d,u)(f):f===45||f===95||Hi(f)?(a=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Ji(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Sme(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!IF.call(r,r.previous)||t2(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(bme,e.attempt(DF,e.attempt(TF,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Nme(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&_F.call(r,r.previous)&&!t2(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ji(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?u:(a=!0,l)):n(f)}function u(f){return f===null||O0(f)||Qn(f)||su(f)||uv(f)?n(f):e.attempt(DF,e.attempt(TF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Cme(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function jme(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(MF,l,o)(u):u===null||Qn(u)||su(u)||u!==45&&uv(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function Ame(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(MF,t,a)(s):s===null||Qn(s)||su(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Pme(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Qn(o)||su(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Qn(o)||su(o)?t(o):r(o)}function a(o){return Ji(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ji(o)?(e.consume(o),s):n(o)}}function Dme(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Hi(a)?n(a):t(a)}}function IF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qn(e)}function _F(e){return!Ji(e)}function LF(e){return!(e===47||f1(e))}function f1(e){return e===43||e===45||e===46||e===95||Hi(e)}function t2(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Tme={tokenize:Fme,partial:!0};function Mme(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_me,continuation:{tokenize:Lme},exit:$me}},text:{91:{name:"gfmFootnoteCall",tokenize:Ime},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Eme,resolveTo:Ome}}}}function Eme(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=js(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Ome(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Ime(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||Qn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(js(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Qn(f)||(s=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function _me(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Qn(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=js(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Qn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),Pn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Lme(e,t,n){return e.check(kh,t,e.attempt(Tme,t,n))}function $me(e){e.exit("gfmFootnoteDefinition")}function Fme(e,t,n){const r=this;return Pn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Rme(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&La(h,h.length,0,dv(m,s.slice(u+1,l),o)),La(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),La(s,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,d=this.events;let f=0;return h;function h(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const v=Dd(u);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const b=s.exit("strikethroughSequenceTemporary"),x=Dd(p);return b._open=!x||x===2&&!!v,b._close=!v||v===2&&!!x,o(p)}}}class Bme{constructor(){this.map=[]}add(t,n,r){zme(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function zme(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Ume(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Wme(){return{flow:{null:{name:"table",tokenize:Vme,resolveAll:Hme}}}}function Vme(e,t,n){const r=this;let i=0,a=0,s;return o;function o(M){let L=r.events.length-1;for(;L>-1;){const ee=r.events[L][1].type;if(ee==="lineEnding"||ee==="linePrefix")L--;else break}const _=L>-1?r.events[L][1].type:null,G=_==="tableHead"||_==="tableRow"?S:l;return G===S&&r.parser.lazy[r.now().line]?n(M):G(M)}function l(M){return e.enter("tableHead"),e.enter("tableRow"),u(M)}function u(M){return M===124||(s=!0,a+=1),d(M)}function d(M){return M===null?n(M):Kt(M)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),m):n(M):bn(M)?Pn(e,d,"whitespace")(M):(a+=1,s&&(s=!1,i+=1),M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(M)))}function f(M){return M===null||M===124||Qn(M)?(e.exit("data"),d(M)):(e.consume(M),M===92?h:f)}function h(M){return M===92||M===124?(e.consume(M),f):f(M)}function m(M){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(M):(e.enter("tableDelimiterRow"),s=!1,bn(M)?Pn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):p(M))}function p(M){return M===45||M===58?b(M):M===124?(s=!0,e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),v):C(M)}function v(M){return bn(M)?Pn(e,b,"whitespace")(M):b(M)}function b(M){return M===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),x):M===45?(a+=1,x(M)):M===null||Kt(M)?N(M):C(M)}function x(M){return M===45?(e.enter("tableDelimiterFiller"),w(M)):C(M)}function w(M){return M===45?(e.consume(M),w):M===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(M))}function y(M){return bn(M)?Pn(e,N,"whitespace")(M):N(M)}function N(M){return M===124?p(M):M===null||Kt(M)?!s||i!==a?C(M):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(M)):C(M)}function C(M){return n(M)}function S(M){return e.enter("tableRow"),A(M)}function A(M){return M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),A):M===null||Kt(M)?(e.exit("tableRow"),t(M)):bn(M)?Pn(e,A,"whitespace")(M):(e.enter("data"),O(M))}function O(M){return M===null||M===124||Qn(M)?(e.exit("data"),A(M)):(e.consume(M),M===92?R:O)}function R(M){return M===92||M===124?(e.consume(M),O):O(M)}}function Hme(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,f;const h=new Bme;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(ZT(h,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Ip(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Ip(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Ip(h,t,a,i,n,f)):s[1]!==0&&(f=Ip(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&ZT(h,t,l,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Ume(t.events,n))}return e}function Ip(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},_u(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=_u(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=_u(t.events,n[2]),d=_u(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,v=n[3]-n[2]-1;e.add(p,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},_u(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function ZT(e,t,n,r,i){const a=[],s=_u(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function _u(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const qme={name:"tasklistCheck",tokenize:Gme};function Kme(){return{text:{91:qme}}}function Gme(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Qn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Kt(l)?t(l):bn(l)?e.check({tokenize:Yme},t,n)(l):n(l)}}function Yme(e,t,n){return Pn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Xme(e){return q$([wme(),Mme(),Rme(e),Wme(),Kme()])}const Qme={};function Zme(e){const t=this,n=e||Qme,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Xme(n)),a.push(xme()),s.push(vme(n))}const Hb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',$F=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pv=g.createContext({}),n2=g.createContext(null),gv=typeof document<"u",Jme=gv?g.useLayoutEffect:g.useEffect,FF=g.createContext({strict:!1}),r2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ehe="framerAppearId",RF="data-"+r2(ehe);function the(e,t,n,r){const{visualElement:i}=g.useContext(pv),a=g.useContext(FF),s=g.useContext(n2),o=g.useContext($F).reducedMotion,l=g.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,s)});const d=g.useRef(!!(n[RF]&&!window.HandoffComplete));return Jme(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nhe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xu(n)&&(n.current=r))},[t])}function Lm(e){return typeof e=="string"||Array.isArray(e)}function xv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const i2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a2=["initial",...i2];function vv(e){return xv(e.animate)||a2.some(t=>Lm(e[t]))}function BF(e){return!!(vv(e)||e.variants)}function rhe(e,t){if(vv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Lm(n)?n:void 0,animate:Lm(r)?r:void 0}}return e.inherit!==!1?t:{}}function ihe(e){const{initial:t,animate:n}=rhe(e,g.useContext(pv));return g.useMemo(()=>({initial:t,animate:n}),[JT(t),JT(n)])}function JT(e){return Array.isArray(e)?e.join(" "):e}const eM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$m={};for(const e in eM)$m[e]={isEnabled:t=>eM[e].some(n=>!!t[n])};function ahe(e){for(const t in e)$m[t]={...$m[t],...e[t]}}const zF=g.createContext({}),UF=g.createContext({}),she=Symbol.for("motionComponentSymbol");function ohe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&ahe(e);function a(o,l){let u;const d={...g.useContext($F),...o,layoutId:lhe(o)},{isStatic:f}=d,h=ihe(o),m=r(o,f);if(!f&&gv){h.visualElement=the(i,m,d,t);const p=g.useContext(UF),v=g.useContext(FF).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,e,p))}return g.createElement(pv.Provider,{value:h},u&&h.visualElement?g.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,o,nhe(m,h.visualElement,l),m,f,h.visualElement))}const s=g.forwardRef(a);return s[she]=i,s}function lhe({layoutId:e}){const t=g.useContext(zF).id;return t&&e!==void 0?t+"-"+e:e}function che(e){function t(r,i={}){return ohe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const uhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s2(e){return typeof e!="string"||e.includes("-")?!1:!!(uhe.indexOf(e)>-1||/[A-Z]/.test(e))}const $0={};function dhe(e){Object.assign($0,e)}const Nh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mu=new Set(Nh);function WF(e,{layout:t,layoutId:n}){return mu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$0[e]||e==="opacity")}const xa=e=>!!(e&&e.getVelocity),fhe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mhe=Nh.length;function hhe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<mhe;s++){const o=Nh[s];if(e[o]!==void 0){const l=fhe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const VF=e=>t=>typeof t=="string"&&t.startsWith(e),HF=VF("--"),m1=VF("var(--"),phe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ghe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zl=(e,t,n)=>Math.min(Math.max(n,e),t),hu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gf={...hu,transform:e=>Zl(0,1,e)},_p={...hu,default:1},Yf=e=>Math.round(e*1e5)/1e5,bv=/(-)?([\d]*\.?[\d])+/g,qF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xhe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ch(e){return typeof e=="string"}const jh=e=>({test:t=>Ch(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sl=jh("deg"),ro=jh("%"),Qt=jh("px"),vhe=jh("vh"),bhe=jh("vw"),tM={...ro,parse:e=>ro.parse(e)/100,transform:e=>ro.transform(e*100)},nM={...hu,transform:Math.round},KF={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,size:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scale:_p,scaleX:_p,scaleY:_p,scaleZ:_p,skew:Sl,skewX:Sl,skewY:Sl,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:Gf,originX:tM,originY:tM,originZ:Qt,zIndex:nM,fillOpacity:Gf,strokeOpacity:Gf,numOctaves:nM};function o2(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(HF(f)){a[f]=h;continue}const m=KF[f],p=ghe(h,m);if(mu.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=hhe(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const l2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GF(e,t,n){for(const r in t)!xa(t[r])&&!WF(r,n)&&(e[r]=t[r])}function yhe({transformTemplate:e},t,n){return g.useMemo(()=>{const r=l2();return o2(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function whe(e,t,n){const r=e.style||{},i={};return GF(i,r,e),Object.assign(i,yhe(e,t,n)),e.transformValues?e.transformValues(i):i}function khe(e,t,n){const r={},i=whe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const She=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function F0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||She.has(e)}let YF=e=>!F0(e);function Nhe(e){e&&(YF=t=>t.startsWith("on")?!F0(t):e(t))}try{Nhe(require("@emotion/is-prop-valid").default)}catch{}function Che(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(YF(i)||n===!0&&F0(i)||!t&&!F0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function rM(e,t,n){return typeof e=="string"?e:Qt.transform(t+n*e)}function jhe(e,t,n){const r=rM(t,e.x,e.width),i=rM(n,e.y,e.height);return`${r} ${i}`}const Ahe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Phe={offset:"strokeDashoffset",array:"strokeDasharray"};function Dhe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Ahe:Phe;e[a.offset]=Qt.transform(-r);const s=Qt.transform(t),o=Qt.transform(n);e[a.array]=`${s} ${o}`}function c2(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,f,h){if(o2(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:v}=e;m.transform&&(v&&(p.transform=m.transform),delete m.transform),v&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=jhe(v,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Dhe(m,s,o,l,!1)}const XF=()=>({...l2(),attrs:{}}),u2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function The(e,t,n,r){const i=g.useMemo(()=>{const a=XF();return c2(a,t,{enableHardwareAcceleration:!1},u2(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};GF(a,e.style,e),i.style={...a,...i.style}}return i}function Mhe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(s2(n)?The:khe)(r,a,s,n),d={...Che(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=g.useMemo(()=>xa(f)?f.get():f,[f]);return g.createElement(n,{...d,children:h})}}function QF(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const ZF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JF(e,t,n,r){QF(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ZF.has(i)?i:r2(i),t.attrs[i])}function d2(e,t){const{style:n}=e,r={};for(const i in n)(xa(n[i])||t.style&&xa(t.style[i])||WF(i,e))&&(r[i]=n[i]);return r}function eR(e,t){const n=d2(e,t);for(const r in e)if(xa(e[r])||xa(t[r])){const i=Nh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function f2(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Ehe(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const R0=e=>Array.isArray(e),Ohe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ihe=e=>R0(e)?e[e.length-1]||0:e;function sg(e){const t=xa(e)?e.get():e;return Ohe(t)?t.toValue():t}function _he({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Lhe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const tR=e=>(t,n)=>{const r=g.useContext(pv),i=g.useContext(n2),a=()=>_he(e,t,r,i);return n?a():Ehe(a)};function Lhe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=sg(a[h]);let{initial:s,animate:o}=e;const l=vv(e),u=BF(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!xv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=f2(e,m);if(!p)return;const{transitionEnd:v,transition:b,...x}=p;for(const w in x){let y=x[w];if(Array.isArray(y)){const N=d?y.length-1:0;y=y[N]}y!==null&&(i[w]=y)}for(const w in v)i[w]=v[w]}),i}const zr=e=>e;class iM{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function $he(e){let t=new iM,n=new iM,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Lp=["prepare","read","update","preRender","render","postRender"],Fhe=40;function Rhe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Lp.reduce((f,h)=>(f[h]=$he(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Fhe),1),i.timestamp=f,i.isProcessing=!0,Lp.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Lp.reduce((f,h)=>{const m=a[h];return f[h]=(p,v=!1,b=!1)=>(n||l(),m.schedule(p,v,b)),f},{}),cancel:f=>Lp.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:hr,cancel:Zo,state:Ri,steps:qb}=Rhe(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),Bhe={useVisualState:tR({scrapeMotionValuesFromProps:eR,createRenderState:XF,onMount:(e,t,{renderState:n,latestValues:r})=>{hr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),hr.render(()=>{c2(n,r,{enableHardwareAcceleration:!1},u2(t.tagName),e.transformTemplate),JF(t,n)})}})},zhe={useVisualState:tR({scrapeMotionValuesFromProps:d2,createRenderState:l2})};function Uhe(e,{forwardMotionProps:t=!1},n,r){return{...s2(e)?Bhe:zhe,preloadedFeatures:n,useRender:Mhe(t),createVisualElement:r,Component:e}}function Eo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const nR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function yv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Whe=e=>t=>nR(t)&&e(t,yv(t));function $o(e,t,n,r){return Eo(e,t,Whe(n),r)}const Vhe=(e,t)=>n=>t(e(n)),ql=(...e)=>e.reduce(Vhe);function rR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const aM=rR("dragHorizontal"),sM=rR("dragVertical");function iR(e){let t=!1;if(e==="y")t=sM();else if(e==="x")t=aM();else{const n=aM(),r=sM();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function aR(){const e=iR(!0);return e?(e(),!1):!0}class lc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function oM(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||aR())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&hr.update(()=>o[r](a,s))};return $o(e.current,n,i,{passive:!e.getProps()[r]})}class Hhe extends lc{mount(){this.unmount=ql(oM(this.node,!0),oM(this.node,!1))}unmount(){}}class qhe extends lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(Eo(this.node.current,"focus",()=>this.onFocus()),Eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sR=(e,t)=>t?e===t?!0:sR(e,t.parentElement):!1;function Kb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,yv(n))}class Khe extends lc{constructor(){super(...arguments),this.removeStartListeners=zr,this.removeEndListeners=zr,this.removeAccessibleListeners=zr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=$o(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();hr.update(()=>{!f&&!sR(this.node.current,o.target)?d&&d(o,l):u&&u(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=$o(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ql(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Kb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&hr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Eo(this.node.current,"keyup",s),Kb("down",(o,l)=>{this.startPress(o,l)})},n=Eo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Kb("cancel",(a,s)=>this.cancelPress(a,s))},i=Eo(this.node.current,"blur",r);this.removeAccessibleListeners=ql(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&hr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!aR()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&hr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=$o(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Eo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ql(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const h1=new WeakMap,Gb=new WeakMap,Ghe=e=>{const t=h1.get(e.target);t&&t(e)},Yhe=e=>{e.forEach(Ghe)};function Xhe({root:e,...t}){const n=e||document;Gb.has(n)||Gb.set(n,{});const r=Gb.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Yhe,{root:e,...t})),r[i]}function Qhe(e,t,n){const r=Xhe(t);return h1.set(e,n),r.observe(e),()=>{h1.delete(e),r.unobserve(e)}}const Zhe={some:0,all:1};class Jhe extends lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Zhe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return Qhe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(epe(t,n))&&this.startObserver()}unmount(){}}function epe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tpe={inView:{Feature:Jhe},tap:{Feature:Khe},focus:{Feature:qhe},hover:{Feature:Hhe}};function oR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function npe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function rpe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function wv(e,t,n){const r=e.getProps();return f2(r,t,n!==void 0?n:r.custom,npe(e),rpe(e))}let m2=zr;const Hc=e=>e*1e3,Fo=e=>e/1e3,ipe={current:!1},lR=e=>Array.isArray(e)&&typeof e[0]=="number";function cR(e){return!!(!e||typeof e=="string"&&uR[e]||lR(e)||Array.isArray(e)&&e.every(cR))}const Mf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,uR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mf([0,.65,.55,1]),circOut:Mf([.55,0,1,.45]),backIn:Mf([.31,.01,.66,-.59]),backOut:Mf([.33,1.53,.69,.99])};function dR(e){if(e)return lR(e)?Mf(e):Array.isArray(e)?e.map(dR):uR[e]}function ape(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=dR(o);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function spe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const fR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ope=1e-7,lpe=12;function cpe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=fR(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>ope&&++o<lpe);return s}function Ah(e,t,n,r){if(e===t&&n===r)return zr;const i=a=>cpe(a,0,1,e,n);return a=>a===0||a===1?a:fR(i(a),t,r)}const upe=Ah(.42,0,1,1),dpe=Ah(0,0,.58,1),mR=Ah(.42,0,.58,1),fpe=e=>Array.isArray(e)&&typeof e[0]!="number",hR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pR=e=>t=>1-e(1-t),h2=e=>1-Math.sin(Math.acos(e)),gR=pR(h2),mpe=hR(h2),xR=Ah(.33,1.53,.69,.99),p2=pR(xR),hpe=hR(p2),ppe=e=>(e*=2)<1?.5*p2(e):.5*(2-Math.pow(2,-10*(e-1))),gpe={linear:zr,easeIn:upe,easeInOut:mR,easeOut:dpe,circIn:h2,circInOut:mpe,circOut:gR,backIn:p2,backInOut:hpe,backOut:xR,anticipate:ppe},lM=e=>{if(Array.isArray(e)){m2(e.length===4);const[t,n,r,i]=e;return Ah(t,n,r,i)}else if(typeof e=="string")return gpe[e];return e},g2=(e,t)=>n=>!!(Ch(n)&&xhe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),vR=(e,t,n)=>r=>{if(!Ch(r))return r;const[i,a,s,o]=r.match(bv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},xpe=e=>Zl(0,255,e),Yb={...hu,transform:e=>Math.round(xpe(e))},$c={test:g2("rgb","red"),parse:vR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yb.transform(e)+", "+Yb.transform(t)+", "+Yb.transform(n)+", "+Yf(Gf.transform(r))+")"};function vpe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const p1={test:g2("#"),parse:vpe,transform:$c.transform},Qu={test:g2("hsl","hue"),parse:vR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ro.transform(Yf(t))+", "+ro.transform(Yf(n))+", "+Yf(Gf.transform(r))+")"},Qi={test:e=>$c.test(e)||p1.test(e)||Qu.test(e),parse:e=>$c.test(e)?$c.parse(e):Qu.test(e)?Qu.parse(e):p1.parse(e),transform:e=>Ch(e)?e:e.hasOwnProperty("red")?$c.transform(e):Qu.transform(e)},Nr=(e,t,n)=>-n*e+n*t+e;function Xb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bpe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Xb(l,o,e+1/3),a=Xb(l,o,e),s=Xb(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Qb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},ype=[p1,$c,Qu],wpe=e=>ype.find(t=>t.test(e));function cM(e){const t=wpe(e);let n=t.parse(e);return t===Qu&&(n=bpe(n)),n}const bR=(e,t)=>{const n=cM(e),r=cM(t),i={...n};return a=>(i.red=Qb(n.red,r.red,a),i.green=Qb(n.green,r.green,a),i.blue=Qb(n.blue,r.blue,a),i.alpha=Nr(n.alpha,r.alpha,a),$c.transform(i))};function kpe(e){var t,n;return isNaN(e)&&Ch(e)&&(((t=e.match(bv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(qF))===null||n===void 0?void 0:n.length)||0)>0}const yR={regex:phe,countKey:"Vars",token:"${v}",parse:zr},wR={regex:qF,countKey:"Colors",token:"${c}",parse:Qi.parse},kR={regex:bv,countKey:"Numbers",token:"${n}",parse:hu.parse};function Zb(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function B0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zb(n,yR),Zb(n,wR),Zb(n,kR),n}function SR(e){return B0(e).values}function NR(e){const{values:t,numColors:n,numVars:r,tokenised:i}=B0(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(yR.token,s[l]):l<r+n?o=o.replace(wR.token,Qi.transform(s[l])):o=o.replace(kR.token,Yf(s[l]));return o}}const Spe=e=>typeof e=="number"?0:e;function Npe(e){const t=SR(e);return NR(e)(t.map(Spe))}const Jl={test:kpe,parse:SR,createTransformer:NR,getAnimatableNone:Npe},CR=(e,t)=>n=>`${n>0?t:e}`;function jR(e,t){return typeof e=="number"?n=>Nr(e,t,n):Qi.test(e)?bR(e,t):e.startsWith("var(")?CR(e,t):PR(e,t)}const AR=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>jR(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},Cpe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=jR(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},PR=(e,t)=>{const n=Jl.createTransformer(t),r=B0(e),i=B0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ql(AR(r.values,i.values),n):CR(e,t)},Fm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},uM=(e,t)=>n=>Nr(e,t,n);function jpe(e){return typeof e=="number"?uM:typeof e=="string"?Qi.test(e)?bR:PR:Array.isArray(e)?AR:typeof e=="object"?Cpe:uM}function Ape(e,t,n){const r=[],i=n||jpe(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||zr:t;o=ql(l,o)}r.push(o)}return r}function DR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(m2(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Ape(t,r,i),o=s.length,l=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Fm(e[d],e[d+1],u);return s[d](f)};return n?u=>l(Zl(e[0],e[a-1],u)):l}function Ppe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Fm(0,t,r);e.push(Nr(n,1,i))}}function Dpe(e){const t=[0];return Ppe(t,e.length-1),t}function Tpe(e,t){return e.map(n=>n*t)}function Mpe(e,t){return e.map(()=>t||mR).splice(0,e.length-1)}function z0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=fpe(r)?r.map(lM):lM(r),a={done:!1,value:t[0]},s=Tpe(n&&n.length===t.length?n:Dpe(t),e),o=DR(s,t,{ease:Array.isArray(i)?i:Mpe(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function TR(e,t){return t?e*(1e3/t):0}const Epe=5;function MR(e,t,n){const r=Math.max(t-Epe,0);return TR(n-e(r),t-r)}const Jb=.001,Ope=.01,Ipe=10,_pe=.05,Lpe=1;function $pe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=Zl(_pe,Lpe,s),e=Zl(Ope,Ipe,Fo(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-n,m=g1(u,s),p=Math.exp(-f);return Jb-h/m*p},a=u=>{const f=u*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),v=g1(Math.pow(u,2),s);return(-i(u)+Jb>0?-1:1)*((h-m)*p)/v}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Jb+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const o=5/e,l=Rpe(i,a,o);if(e=Hc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Fpe=12;function Rpe(e,t,n){let r=n;for(let i=1;i<Fpe;i++)r=r-e(r)/t(r);return r}function g1(e,t){return e*Math.sqrt(1-t*t)}const Bpe=["duration","bounce"],zpe=["stiffness","damping","mass"];function dM(e,t){return t.some(n=>e[n]!==void 0)}function Upe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!dM(e,zpe)&&dM(e,Bpe)){const n=$pe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function ER({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Upe({...r,velocity:-Fo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*u)),v=a-i,b=Fo(Math.sqrt(o/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let w;if(p<1){const y=g1(b,p);w=N=>{const C=Math.exp(-p*b*N);return a-C*((m+p*b*v)/y*Math.sin(y*N)+v*Math.cos(y*N))}}else if(p===1)w=y=>a-Math.exp(-b*y)*(v+(m+b*v)*y);else{const y=b*Math.sqrt(p*p-1);w=N=>{const C=Math.exp(-p*b*N),S=Math.min(y*N,300);return a-C*((m+p*b*v)*Math.sinh(S)+y*v*Math.cosh(S))/y}}return{calculatedDuration:h&&d||null,next:y=>{const N=w(y);if(h)s.done=y>=d;else{let C=m;y!==0&&(p<1?C=MR(w,y,N):C=0);const S=Math.abs(C)<=n,A=Math.abs(a-N)<=t;s.done=S&&A}return s.value=s.done?a:N,s}}}function fM({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=O=>o!==void 0&&O<o||l!==void 0&&O>l,p=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let v=n*t;const b=f+v,x=s===void 0?b:s(b);x!==b&&(v=x-f);const w=O=>-v*Math.exp(-O/r),y=O=>x+w(O),N=O=>{const R=w(O),M=y(O);h.done=Math.abs(R)<=u,h.value=h.done?x:M};let C,S;const A=O=>{m(h.value)&&(C=O,S=ER({keyframes:[h.value,p(h.value)],velocity:MR(y,O,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:O=>{let R=!1;return!S&&C===void 0&&(R=!0,N(O),A(O)),C!==void 0&&O>C?S.next(O-C):(!R&&N(O),h)}}}const Wpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>hr.update(t,!0),stop:()=>Zo(t),now:()=>Ri.isProcessing?Ri.timestamp:performance.now()}},mM=2e4;function hM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<mM;)t+=n,r=e.next(t);return t>=mM?1/0:t}const Vpe={decay:fM,inertia:fM,tween:z0,keyframes:z0,spring:ER};function U0({autoplay:e=!0,delay:t=0,driver:n=Wpe,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,v,b;const x=()=>{b=new Promise(D=>{v=D})};x();let w;const y=Vpe[i]||z0;let N;y!==z0&&typeof r[0]!="number"&&(N=DR([0,100],r,{clamp:!1}),r=[0,100]);const C=y({...h,keyframes:r});let S;o==="mirror"&&(S=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",O=null,R=null,M=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=hM(C));const{calculatedDuration:L}=C;let _=1/0,G=1/0;L!==null&&(_=L+s,G=_*(a+1)-s);let ee=0;const le=D=>{if(R===null)return;m>0&&(R=Math.min(R,D)),m<0&&(R=Math.min(D-G/m,R)),O!==null?ee=O:ee=Math.round(D-R)*m;const re=ee-t*(m>=0?1:-1),k=m>=0?re<0:re>G;ee=Math.max(re,0),A==="finished"&&O===null&&(ee=G);let W=ee,V=C;if(a){const B=Math.min(ee,G)/_;let U=Math.floor(B),H=B%1;!H&&B>=1&&(H=1),H===1&&U--,U=Math.min(U,a+1),!!(U%2)&&(o==="reverse"?(H=1-H,s&&(H-=s/_)):o==="mirror"&&(V=S)),W=Zl(0,1,H)*_}const ie=k?{done:!1,value:r[0]}:V.next(W);N&&(ie.value=N(ie.value));let{done:ne}=ie;!k&&L!==null&&(ne=m>=0?ee>=G:ee<=0);const se=O===null&&(A==="finished"||A==="running"&&ne);return f&&f(ie.value),se&&q(),ie},ve=()=>{w&&w.stop(),w=void 0},Y=()=>{A="idle",ve(),v(),x(),R=M=null},q=()=>{A="finished",d&&d(),ve(),v()},K=()=>{if(p)return;w||(w=n(le));const D=w.now();l&&l(),O!==null?R=D-O:(!R||A==="finished")&&(R=D),A==="finished"&&x(),M=R,O=null,A="running",w.start()};e&&K();const P={then(D,re){return b.then(D,re)},get time(){return Fo(ee)},set time(D){D=Hc(D),ee=D,O!==null||!w||m===0?O=D:R=w.now()-D/m},get duration(){const D=C.calculatedDuration===null?hM(C):C.calculatedDuration;return Fo(D)},get speed(){return m},set speed(D){D===m||!w||(m=D,P.time=Fo(ee))},get state(){return A},play:K,pause:()=>{A="paused",O=ee},stop:()=>{p=!0,A!=="idle"&&(A="idle",u&&u(),Y())},cancel:()=>{M!==null&&le(M),Y()},complete:()=>{A="finished"},sample:D=>(R=0,le(D))};return P}function Hpe(e){let t;return()=>(t===void 0&&(t=e()),t)}const qpe=Hpe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Kpe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$p=10,Gpe=2e4,Ype=(e,t)=>t.type==="spring"||e==="backgroundColor"||!cR(t.ease);function Xpe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(qpe()&&Kpe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,u=!1;const d=()=>{l=new Promise(y=>{o=y})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Ype(t,i)){const y=U0({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const C=[];let S=0;for(;!N.done&&S<Gpe;)N=y.sample(S),C.push(N.value),S+=$p;p=void 0,f=C,h=S-$p,m="linear"}const v=ape(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),b=()=>{u=!1,v.cancel()},x=()=>{u=!0,hr.update(b),o(),d()};return v.onfinish=()=>{u||(e.set(spe(f,i)),r&&r(),x())},{then(y,N){return l.then(y,N)},attachTimeline(y){return v.timeline=y,v.onfinish=null,zr},get time(){return Fo(v.currentTime||0)},set time(y){v.currentTime=Hc(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return Fo(h)},play:()=>{s||(v.play(),Zo(b))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const N=U0({...i,autoplay:!1});e.setWithVelocity(N.sample(y-$p).value,N.sample(y).value,$p)}x()},complete:()=>{u||v.finish()},cancel:x}}function Qpe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zr,pause:zr,stop:zr,then:a=>(a(),Promise.resolve()),cancel:zr,complete:zr});return t?U0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Zpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Jpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ege={type:"keyframes",duration:.8},tge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nge=(e,{keyframes:t})=>t.length>2?ege:mu.has(e)?e.startsWith("scale")?Jpe(t[1]):Zpe:tge,x1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jl.test(t)||t==="0")&&!t.startsWith("url(")),rge=new Set(["brightness","contrast","saturate","opacity"]);function ige(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bv)||[];if(!r)return e;const i=n.replace(r,"");let a=rge.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const age=/([a-z-]*)\(.*?\)/g,v1={...Jl,getAnimatableNone:e=>{const t=e.match(age);return t?t.map(ige).join(" "):e}},sge={...KF,color:Qi,backgroundColor:Qi,outlineColor:Qi,fill:Qi,stroke:Qi,borderColor:Qi,borderTopColor:Qi,borderRightColor:Qi,borderBottomColor:Qi,borderLeftColor:Qi,filter:v1,WebkitFilter:v1},x2=e=>sge[e];function OR(e,t){let n=x2(e);return n!==v1&&(n=Jl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const IR=e=>/^0[^.\s]+$/.test(e);function oge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||IR(e)}function lge(e,t,n,r){const i=x1(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?s:a[u-1]),oge(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(o=a[u]);if(i&&l.length&&o)for(let u=0;u<l.length;u++){const d=l[u];a[d]=OR(t,o)}return a}function cge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function v2(e,t){return e[t]||e.default||e}const uge={skipAnimations:!1},b2=(e,t,n,r={})=>i=>{const a=v2(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Hc(s);const l=lge(t,e,n,a),u=l[0],d=l[l.length-1],f=x1(e,u),h=x1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(cge(a)||(m={...m,...nge(e,m)}),m.duration&&(m.duration=Hc(m.duration)),m.repeatDelay&&(m.repeatDelay=Hc(m.repeatDelay)),!f||!h||ipe.current||a.type===!1||uge.skipAnimations)return Qpe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Xpe(t,e,m);if(p)return p}return U0(m)};function W0(e){return!!(xa(e)&&e.add)}const _R=e=>/^\-?\d*\.?\d+$/.test(e);function y2(e,t){e.indexOf(t)===-1&&e.push(t)}function w2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class k2{constructor(){this.subscriptions=[]}add(t){return y2(this.subscriptions,t),()=>w2(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dge=e=>!isNaN(parseFloat(e));class fge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Ri;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,hr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>hr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=dge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new k2);const r=this.events[t].add(n);return t==="change"?()=>{r(),hr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?TR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Td(e,t){return new fge(e,t)}const LR=e=>t=>t.test(e),mge={test:e=>e==="auto",parse:e=>e},$R=[hu,Qt,ro,Sl,bhe,vhe,mge],yf=e=>$R.find(LR(e)),hge=[...$R,Qi,Jl],pge=e=>hge.find(LR(e));function gge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Td(n))}function xge(e,t){const n=wv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Ihe(a[s]);gge(e,s,o)}}function vge(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(_R(d)||IR(d))?d=parseFloat(d):!pge(d)&&Jl.test(u)&&(d=OR(l,u)),e.addValue(l,Td(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function bge(e,t){return t?(t[e]||t.default||t).from:void 0}function yge(e,t,n){const r={};for(const i in e){const a=bge(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function wge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function FR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&wge(d,f))continue;const p={delay:n,elapsed:0,...v2(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[RF];if(x){const w=window.HandoffAppearAnimations(x,f,h,hr);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let v=!p.isHandoff&&!kge(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(b2(f,h,m,e.shouldReduceMotion&&mu.has(f)?{type:!1}:p));const b=h.animation;W0(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return s&&Promise.all(u).then(()=>{s&&xge(e,s)}),u}function b1(e,t,n={}){const r=wv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(FR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Sge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function Sge(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(Nge).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(b1(u,t,{...a,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Nge(e,t){return e.sortNodePosition(t)}function Cge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>b1(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=b1(e,t,n);else{const i=typeof t=="function"?wv(e,t,n.custom):t;r=Promise.all(FR(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const jge=[...i2].reverse(),Age=i2.length;function Pge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Cge(e,n,r)))}function Dge(e){let t=Pge(e);const n=Mge();let r=!0;const i=(l,u)=>{const d=wv(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},v=1/0;for(let x=0;x<Age;x++){const w=jge[x],y=n[w],N=d[w]!==void 0?d[w]:f[w],C=Lm(N),S=w===u?y.isActive:null;S===!1&&(v=x);let A=N===f[w]&&N!==d[w]&&C;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),y.protectedKeys={...p},!y.isActive&&S===null||!N&&!y.prevProp||xv(N)||typeof N=="boolean")continue;let R=Tge(y.prevProp,N)||w===u&&y.isActive&&!A&&C||x>v&&C,M=!1;const L=Array.isArray(N)?N:[N];let _=L.reduce(i,{});S===!1&&(_={});const{prevResolvedValues:G={}}=y,ee={...G,..._},le=ve=>{R=!0,m.has(ve)&&(M=!0,m.delete(ve)),y.needsAnimating[ve]=!0};for(const ve in ee){const Y=_[ve],q=G[ve];if(p.hasOwnProperty(ve))continue;let K=!1;R0(Y)&&R0(q)?K=!oR(Y,q):K=Y!==q,K?Y!==void 0?le(ve):m.add(ve):Y!==void 0&&m.has(ve)?le(ve):y.protectedKeys[ve]=!0}y.prevProp=N,y.prevResolvedValues=_,y.isActive&&(p={...p,..._}),r&&e.blockInitialAnimation&&(R=!1),R&&(!A||M)&&h.push(...L.map(ve=>({animation:ve,options:{type:w,...l}})))}if(m.size){const x={};m.forEach(w=>{const y=e.getBaseTarget(w);y!==void 0&&(x[w]=y)}),h.push({animation:x})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function o(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Tge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oR(t,e):!1}function bc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mge(){return{animate:bc(!0),whileInView:bc(),whileHover:bc(),whileTap:bc(),whileDrag:bc(),whileFocus:bc(),exit:bc()}}class Ege extends lc{constructor(t){super(t),t.animationState||(t.animationState=Dge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),xv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Oge=0;class Ige extends lc{constructor(){super(...arguments),this.id=Oge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const _ge={animation:{Feature:Ege},exit:{Feature:Ige}},pM=(e,t)=>Math.abs(e-t);function Lge(e,t){const n=pM(e.x,t.x),r=pM(e.y,t.y);return Math.sqrt(n**2+r**2)}class RR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ty(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Lge(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:v}=Ri;this.history.push({...p,timestamp:v});const{onStart:b,onMove:x}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ey(h,this.transformPagePoint),hr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ty(f.type==="pointercancel"?this.lastMoveEventInfo:ey(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),p&&p(f,b)},!nR(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=yv(t),o=ey(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Ri;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ty(o,this.history)),this.removeListeners=ql($o(this.contextWindow,"pointermove",this.handlePointerMove),$o(this.contextWindow,"pointerup",this.handlePointerUp),$o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zo(this.updatePoint)}}function ey(e,t){return t?{point:t(e.point)}:e}function gM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ty({point:e},t){return{point:e,delta:gM(e,BR(t)),offset:gM(e,$ge(t)),velocity:Fge(t,.1)}}function $ge(e){return e[0]}function BR(e){return e[e.length-1]}function Fge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=BR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hc(t)));)n--;if(!r)return{x:0,y:0};const a=Fo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ra(e){return e.max-e.min}function y1(e,t=0,n=.01){return Math.abs(e-t)<=n}function xM(e,t,n,r=.5){e.origin=r,e.originPoint=Nr(t.min,t.max,e.origin),e.scale=Ra(n)/Ra(t),(y1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Nr(n.min,n.max,e.origin)-e.originPoint,(y1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xf(e,t,n,r){xM(e.x,t.x,n.x,r?r.originX:void 0),xM(e.y,t.y,n.y,r?r.originY:void 0)}function vM(e,t,n){e.min=n.min+t.min,e.max=e.min+Ra(t)}function Rge(e,t,n){vM(e.x,t.x,n.x),vM(e.y,t.y,n.y)}function bM(e,t,n){e.min=t.min-n.min,e.max=e.min+Ra(t)}function Qf(e,t,n){bM(e.x,t.x,n.x),bM(e.y,t.y,n.y)}function Bge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Nr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Nr(n,e,r.max):Math.min(e,n)),e}function yM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zge(e,{top:t,left:n,bottom:r,right:i}){return{x:yM(e.x,n,i),y:yM(e.y,t,r)}}function wM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Uge(e,t){return{x:wM(e.x,t.x),y:wM(e.y,t.y)}}function Wge(e,t){let n=.5;const r=Ra(e),i=Ra(t);return i>r?n=Fm(t.min,t.max-r,e.min):r>i&&(n=Fm(e.min,e.max-i,t.min)),Zl(0,1,n)}function Vge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const w1=.35;function Hge(e=w1){return e===!1?e=0:e===!0&&(e=w1),{x:kM(e,"left","right"),y:kM(e,"top","bottom")}}function kM(e,t,n){return{min:SM(e,t),max:SM(e,n)}}function SM(e,t){return typeof e=="number"?e:e[t]||0}const NM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zu=()=>({x:NM(),y:NM()}),CM=()=>({min:0,max:0}),Hr=()=>({x:CM(),y:CM()});function Ya(e){return[e("x"),e("y")]}function zR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Kge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ny(e){return e===void 0||e===1}function k1({scale:e,scaleX:t,scaleY:n}){return!ny(e)||!ny(t)||!ny(n)}function jc(e){return k1(e)||UR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function UR(e){return jM(e.x)||jM(e.y)}function jM(e){return e&&e!=="0%"}function V0(e,t,n){const r=e-n,i=t*r;return n+i}function AM(e,t,n,r,i){return i!==void 0&&(e=V0(e,i,r)),V0(e,n,r)+t}function S1(e,t=0,n=1,r,i){e.min=AM(e.min,t,n,r,i),e.max=AM(e.max,t,n,r,i)}function WR(e,{x:t,y:n}){S1(e.x,t.translate,t.scale,t.originPoint),S1(e.y,n.translate,n.scale,n.originPoint)}function Gge(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ju(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,WR(e,s)),r&&jc(a.latestValues)&&Ju(e,a.latestValues))}t.x=PM(t.x),t.y=PM(t.y)}function PM(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Pl(e,t){e.min=e.min+t,e.max=e.max+t}function DM(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=Nr(e.min,e.max,a);S1(e,t[n],t[r],s,t.scale)}const Yge=["x","scaleX","originX"],Xge=["y","scaleY","originY"];function Ju(e,t){DM(e.x,t,Yge),DM(e.y,t,Xge)}function VR(e,t){return zR(Kge(e.getBoundingClientRect(),t))}function Qge(e,t,n){const r=VR(e,n),{scroll:i}=t;return i&&(Pl(r.x,i.offset.x),Pl(r.y,i.offset.y)),r}const HR=({current:e})=>e?e.ownerDocument.defaultView:null,Zge=new WeakMap;class Jge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iR(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ya(b=>{let x=this.getAxisMotionValue(b).get()||0;if(ro.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[b];y&&(x=Ra(y)*(parseFloat(x)/100))}}this.originPoint[b]=x}),p&&hr.update(()=>p(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=e0e(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ya(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new RR(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:HR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&hr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Fp(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Bge(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=zge(i.layoutBox,n):this.constraints=!1,this.elastic=Hge(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ya(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Vge(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Qge(r,i.root,this.visualElement.getTransformPagePoint());let s=Uge(i.layout.layoutBox,a);if(n){const o=n(qge(s));this.hasMutatedConstraints=!!o,o&&(s=zR(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ya(d=>{if(!Fp(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(b2(t,r,0,n))}stopAnimation(){Ya(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ya(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ya(n=>{const{drag:r}=this.getProps();if(!Fp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-Nr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ya(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Wge({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ya(s=>{if(!Fp(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Nr(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;Zge.set(this.visualElement,this);const t=this.visualElement.current,n=$o(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Eo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ya(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=w1,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Fp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function e0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class t0e extends lc{constructor(t){super(t),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new Jge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const TM=e=>(t,n)=>{e&&hr.update(()=>e(t,n))};class n0e extends lc{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(t){this.session=new RR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TM(t),onStart:TM(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&hr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=$o(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function r0e(){const e=g.useContext(n2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=g.useId();return g.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const og={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qt.test(e))e=parseFloat(e);else return e;const n=MM(e,t.target.x),r=MM(e,t.target.y);return`${n}% ${r}%`}},i0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Jl.parse(e);if(i.length>5)return r;const a=Jl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=Nr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class a0e extends q0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;dhe(s0e),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),og.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||hr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qR(e){const[t,n]=r0e(),r=g.useContext(zF);return q0.createElement(a0e,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(UF),isPresent:t,safeToRemove:n})}const s0e={borderRadius:{...wf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wf,borderTopRightRadius:wf,borderBottomLeftRadius:wf,borderBottomRightRadius:wf,boxShadow:i0e},KR=["TopLeft","TopRight","BottomLeft","BottomRight"],o0e=KR.length,EM=e=>typeof e=="string"?parseFloat(e):e,OM=e=>typeof e=="number"||Qt.test(e);function l0e(e,t,n,r,i,a){i?(e.opacity=Nr(0,n.opacity!==void 0?n.opacity:1,c0e(r)),e.opacityExit=Nr(t.opacity!==void 0?t.opacity:1,0,u0e(r))):a&&(e.opacity=Nr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<o0e;s++){const o=`border${KR[s]}Radius`;let l=IM(t,o),u=IM(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||OM(l)===OM(u)?(e[o]=Math.max(Nr(EM(l),EM(u),r),0),(ro.test(u)||ro.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Nr(t.rotate||0,n.rotate||0,r))}function IM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c0e=GR(0,.5,gR),u0e=GR(.5,.95,zr);function GR(e,t,n){return r=>r<e?0:r>t?1:n(Fm(e,t,r))}function _M(e,t){e.min=t.min,e.max=t.max}function qa(e,t){_M(e.x,t.x),_M(e.y,t.y)}function LM(e,t,n,r,i){return e-=t,e=V0(e,1/n,r),i!==void 0&&(e=V0(e,1/i,r)),e}function d0e(e,t=0,n=1,r=.5,i,a=e,s=e){if(ro.test(t)&&(t=parseFloat(t),t=Nr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Nr(a.min,a.max,r);e===a&&(o-=t),e.min=LM(e.min,t,n,o,i),e.max=LM(e.max,t,n,o,i)}function $M(e,t,[n,r,i],a,s){d0e(e,t[n],t[r],t[i],t.scale,a,s)}const f0e=["x","scaleX","originX"],m0e=["y","scaleY","originY"];function FM(e,t,n,r){$M(e.x,t,f0e,n?n.x:void 0,r?r.x:void 0),$M(e.y,t,m0e,n?n.y:void 0,r?r.y:void 0)}function RM(e){return e.translate===0&&e.scale===1}function YR(e){return RM(e.x)&&RM(e.y)}function h0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function XR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function BM(e){return Ra(e.x)/Ra(e.y)}class p0e{constructor(){this.members=[]}add(t){y2(this.members,t),t.scheduleRender()}remove(t){if(w2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zM(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const g0e=(e,t)=>e.depth-t.depth;class x0e{constructor(){this.children=[],this.isDirty=!1}add(t){y2(this.children,t),this.isDirty=!0}remove(t){w2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(g0e),this.isDirty=!1,this.children.forEach(t)}}function v0e(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Zo(r),e(a-t))};return hr.read(r,!0),()=>Zo(r)}function b0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function y0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function w0e(e,t,n){const r=xa(e)?e:Td(e);return r.start(b2("",r,t,n)),r.animation}const UM=["","X","Y","Z"],k0e={visibility:"hidden"},WM=1e3;let S0e=0;const Ac={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function QR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=S0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ac.totalNodes=Ac.resolvedTargetDeltas=Ac.recalculatedProjection=0,this.nodes.forEach(j0e),this.nodes.forEach(M0e),this.nodes.forEach(E0e),this.nodes.forEach(A0e),b0e(Ac)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new x0e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new k2),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=y0e(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=v0e(h,250),og.hasAnimatedSinceResize&&(og.hasAnimatedSinceResize=!1,this.nodes.forEach(HM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||$0e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!XR(this.targetLayout,p)||m,y=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const N={...v2(v,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||HM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O0e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VM);return}this.isUpdating||this.nodes.forEach(D0e),this.isUpdating=!1,this.nodes.forEach(T0e),this.nodes.forEach(N0e),this.nodes.forEach(C0e),this.clearAllSnapshots();const o=performance.now();Ri.delta=Zl(0,1e3/60,o-Ri.timestamp),Ri.timestamp=o,Ri.isProcessing=!0,qb.update.process(Ri),qb.preRender.process(Ri),qb.render.process(Ri),Ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(P0e),this.sharedNodes.forEach(I0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!YR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||jc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),F0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Hr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Pl(o.x,l.offset.x),Pl(o.y,l.offset.y)),o}removeElementScroll(s){const o=Hr();qa(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){qa(o,s);const{scroll:h}=this.root;h&&(Pl(o.x,-h.offset.x),Pl(o.y,-h.offset.y))}Pl(o.x,d.offset.x),Pl(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Hr();qa(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ju(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jc(d.latestValues)&&Ju(l,d.latestValues)}return jc(this.latestValues)&&Ju(l,this.latestValues),l}removeTransform(s){const o=Hr();qa(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jc(u.latestValues))continue;k1(u.latestValues)&&u.updateSnapshot();const d=Hr(),f=u.measurePageBox();qa(d,f),FM(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return jc(this.latestValues)&&FM(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ri.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),Qf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hr(),this.targetWithTransforms=Hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Rge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qa(this.target,this.layout.layoutBox),WR(this.target,this.targetDelta)):qa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),Qf(this.relativeTargetOrigin,this.target,m.target),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ac.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||k1(this.parent.latestValues)||UR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ri.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;qa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Gge(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=Zu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zu(),this.projectionDeltaWithTransform=Zu());const v=this.projectionTransform;Xf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=zM(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ac.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Zu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Hr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,b=this.getStack(),x=!b||b.members.length<=1,w=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(L0e));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const C=N/1e3;qM(f.x,s.x,C),qM(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_0e(this.relativeTarget,this.relativeTargetOrigin,h,C),y&&h0e(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Hr()),qa(y,this.relativeTarget)),v&&(this.animationValues=d,l0e(d,u,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hr.update(()=>{og.hasAnimatedSinceResize=!0,this.currentAnimation=w0e(0,WM,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&ZR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Hr();const f=Ra(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ra(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}qa(o,l),Ju(o,d),Xf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new p0e),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<UM.length;d++){const f="rotate"+UM[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return k0e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=sg(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=sg(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!jc(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=zM(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in $0){if(h[v]===void 0)continue;const{correct:b,applyTo:x}=$0[v],w=u.transform==="none"?h[v]:b(h[v],f);if(x){const y=x.length;for(let N=0;N<y;N++)u[x[N]]=w}else u[v]=w}return this.options.layoutId&&(u.pointerEvents=f===this?sg(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(VM),this.root.sharedNodes.clear()}}}function N0e(e){e.updateLayout()}function C0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Ya(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ra(h);h.min=r[f].min,h.max=h.min+m}):ZR(a,n.layoutBox,r)&&Ya(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ra(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=Zu();Xf(o,r,n.layoutBox);const l=Zu();s?Xf(l,e.applyTransform(i,!0),n.measuredBox):Xf(l,r,n.layoutBox);const u=!YR(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Hr();Qf(p,n.layoutBox,h.layoutBox);const v=Hr();Qf(v,r,m.layoutBox),XR(p,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function j0e(e){Ac.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P0e(e){e.clearSnapshot()}function VM(e){e.clearMeasurements()}function D0e(e){e.isLayoutDirty=!1}function T0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function HM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function M0e(e){e.resolveTargetDelta()}function E0e(e){e.calcProjection()}function O0e(e){e.resetRotation()}function I0e(e){e.removeLeadSnapshot()}function qM(e,t,n){e.translate=Nr(t.translate,0,n),e.scale=Nr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function KM(e,t,n,r){e.min=Nr(t.min,n.min,r),e.max=Nr(t.max,n.max,r)}function _0e(e,t,n,r){KM(e.x,t.x,n.x,r),KM(e.y,t.y,n.y,r)}function L0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $0e={duration:.45,ease:[.4,0,.1,1]},GM=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),YM=GM("applewebkit/")&&!GM("chrome/")?Math.round:zr;function XM(e){e.min=YM(e.min),e.max=YM(e.max)}function F0e(e){XM(e.x),XM(e.y)}function ZR(e,t,n){return e==="position"||e==="preserve-aspect"&&!y1(BM(t),BM(n),.2)}const R0e=QR({attachResizeListener:(e,t)=>Eo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ry={current:void 0},JR=QR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ry.current){const e=new R0e({});e.mount(window),e.setOptions({layoutScroll:!0}),ry.current=e}return ry.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B0e={pan:{Feature:n0e},drag:{Feature:t0e,ProjectionNode:JR,MeasureLayout:qR}},z0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function U0e(e){const t=z0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function N1(e,t,n=1){const[r,i]=U0e(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return _R(s)?parseFloat(s):s}else return m1(i)?N1(i,t,n+1):i}function W0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!m1(a))return;const s=N1(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!m1(a))continue;const s=N1(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const V0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eB=e=>V0e.has(e),H0e=e=>Object.keys(e).some(eB),QM=e=>e===hu||e===Qt,ZM=(e,t)=>parseFloat(e.split(", ")[t]),JM=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ZM(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?ZM(a[1],e):0}},q0e=new Set(["x","y","z"]),K0e=Nh.filter(e=>!q0e.has(e));function G0e(e){const t=[];return K0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Md={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:JM(4,13),y:JM(5,14)};Md.translateX=Md.x;Md.translateY=Md.y;const Y0e=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=Md[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(o[u]),e[u]=Md[u](l,a)}),e},X0e=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(eB);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=yf(d);const h=t[l];let m;if(R0(h)){const p=h.length,v=h[0]===null?1:0;d=h[v],f=yf(d);for(let b=v;b<p&&h[b]!==null;b++)m?m2(yf(h[b])===m):m=yf(h[b])}else m=yf(h);if(f!==m)if(QM(f)&&QM(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Qt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(h):(s||(a=G0e(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=Y0e(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),gv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Q0e(e,t,n,r){return H0e(t)?X0e(e,t,n,r):{target:t,transitionEnd:r}}const Z0e=(e,t,n,r)=>{const i=W0e(e,t,r);return t=i.target,r=i.transitionEnd,Q0e(e,t,n,r)},C1={current:null},tB={current:!1};function J0e(){if(tB.current=!0,!!gv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>C1.current=e.matches;e.addListener(t),t()}else C1.current=!1}function exe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(xa(a))e.addValue(i,a),W0(r)&&r.add(i);else if(xa(s))e.addValue(i,Td(a,{owner:e})),W0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Td(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const eE=new WeakMap,nB=Object.keys($m),txe=nB.length,tE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nxe=a2.length;class rxe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>hr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=vv(n),this.isVariantNode=BF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&xa(h)&&(h.set(o[f],!1),W0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,eE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tB.current||J0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:C1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){eE.delete(this.current),this.projection&&this.projection.unmount(),Zo(this.notifyUpdate),Zo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=mu.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&hr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<txe;l++){const u=nB[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=$m[u];h&&(s=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Xu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tE.length;r++){const i=tE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=exe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<nxe;r++){const i=a2[r],a=this.props[i];(Lm(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Td(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=f2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new k2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class rB extends rxe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=yge(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){vge(this,r,s);const o=Z0e(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function ixe(e){return window.getComputedStyle(e)}class axe extends rB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(mu.has(n)){const r=x2(n);return r&&r.default||0}else{const r=ixe(t),i=(HF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VR(t,n)}build(t,n,r,i){o2(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return d2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){QF(t,n,r,i)}}class sxe extends rB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mu.has(n)){const r=x2(n);return r&&r.default||0}return n=ZF.has(n)?n:r2(n),t.getAttribute(n)}measureInstanceViewportBox(){return Hr()}scrapeMotionValuesFromProps(t,n){return eR(t,n)}build(t,n,r,i){c2(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){JF(t,n,r,i)}mount(t){this.isSVGTag=u2(t.tagName),super.mount(t)}}const oxe=(e,t)=>s2(e)?new sxe(t,{enableHardwareAcceleration:!1}):new axe(t,{enableHardwareAcceleration:!0}),lxe={layout:{ProjectionNode:JR,MeasureLayout:qR}},cxe={..._ge,...tpe,...B0e,...lxe},Gs=che((e,t)=>Uhe(e,t,cxe,oxe));function uxe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:v,children:b}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,w)=>c.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:y=>{y.preventDefault(),u(x)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),c.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${w}-${x.text}`))})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ki,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[h.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,w)=>{const y=x.id===m;return c.jsxs("button",{"data-toc-active":y?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${y?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${y?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${w}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:b})})]})})]})}):null}const yc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",j1="arcbridge_web_theme_override",nE="arcbridge_web_kinetic_font_override",rE="__default__",iB=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},iE=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},dxe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},fxe=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},mxe=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},A1=e=>e?e===LN?!0:Tf.some(t=>t.id===e):!1,hxe=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&A1(t))return t;const n=iB(j1);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&A1(i)?i:null}catch{return null}},aE=(e,t)=>e?e===M0?"matte":e===E0||e===Vf?"kinetic":e===LN?"crt":t==="modern"||t==="classic"?t:"classic":t,sE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},pxe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},oE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),gxe=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,u=`${l} ${n-l}`,d=n-i;return i+=l,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:u,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},xxe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function vxe(){var ll;const e=hxe(),[t,n]=g.useState(null),[r,i]=g.useState(null),[a,s]=g.useState(null),[o,l]=g.useState(null),[u,d]=g.useState(""),[f,h]=g.useState(null),[m,p]=g.useState(null),[v,b]=g.useState(!1),[x,w]=g.useState(!1),[y,N]=g.useState(()=>aE(e,"classic")),[C,S]=g.useState("classic"),[A,O]=g.useState(rg.id),[R,M]=g.useState(e),L=g.useMemo(()=>{const Q=new URLSearchParams(window.location.search),Te=Q.get("themeId")||Q.get("theme");return Te&&A1(Te)?Te:null},[]),[_,G]=g.useState("default"),[ee,le]=g.useState(!1),[ve,Y]=g.useState(!1),[q,K]=g.useState(!1),[P,D]=g.useState(""),[re,k]=g.useState(""),[W,V]=g.useState([]),[ie,ne]=g.useState(!1),[se,B]=g.useState("overview"),[U,H]=g.useState("kdr"),[te,z]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ue=g.useRef(null),Z=g.useRef(null),ae=g.useRef(null),Ke=g.useRef(null),Ye=g.useRef(null),be=g.useRef(null),F=g.useRef(new Map),Ee=g.useRef(null),Le=g.useRef(null),wt=g.useMemo(()=>{let Q=window.location.pathname||"/";const Te=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Q.endsWith("/index.html")&&(Q=Q.slice(0,-11)),Q.includes("/reports/")&&(Q=Q.replace(/\/reports\/[^/]+\/?$/,"")),Te&&(Q=Q.replace(/^\/web\/web(?=\/|$)/,"/web")),Q.endsWith("/")||(Q=`${Q}/`),Q},[]),Wt=g.useMemo(()=>new URL(wt,window.location.origin).toString(),[wt]),mn=g.useMemo(()=>L?fxe(Wt,L):Wt,[L,Wt]),Pe=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),rt=g.useMemo(()=>{const Te=[wt,"./","/"],qe=[];return Te.forEach(St=>{let Ut=St||"/";Ut!=="./"&&!Ut.endsWith("/")&&(Ut=`${Ut}/`),qe.includes(Ut)||qe.push(Ut)}),qe},[wt,Pe]),[Lt,sn]=g.useState(rt[0]||"/"),Zt=Q=>{var Te;return typeof Q=="string"||typeof Q=="number"?String(Q):Array.isArray(Q)?Q.map(Zt).join(""):Q&&typeof Q=="object"&&"props"in Q?Zt((Te=Q.props)==null?void 0:Te.children):""},Tr=Q=>{const Te=oE(Q||"section")||"section",qe=F.current,St=(qe.get(Te)??0)+1;return qe.set(Te,St),St===1?Te:`${Te}-${St}`},Rn=g.useMemo(()=>{const Q=Hb.split(`
`),Te=new Map,qe=[],St=Ut=>{const Gt=oE(Ut||"section")||"section",Jt=(Te.get(Gt)??0)+1;return Te.set(Gt,Jt),Jt===1?Gt:`${Gt}-${Jt}`};for(const Ut of Q){const Gt=/^(#{1,3})\s+(.*)\s*$/.exec(Ut);if(!Gt)continue;const Jt=Gt[1].length,Mt=Gt[2].trim();Mt&&qe.push({level:Jt,text:Mt,id:St(Mt)})}return qe},[Hb]),un=(Q,Te)=>{const qe=Q==="./"?"./":Q.endsWith("/")?Q:`${Q}/`,St=String(Te||"").replace(/^\/+/,"");return`${qe}${St}`};g.useEffect(()=>{const Q=iB(nE);(Q==="original"||Q==="default")&&G(Q)},[]),g.useEffect(()=>{const Q=R||A,Te=Tf.find(qe=>qe.id===Q)||rg;h(Te)},[R,A]),g.useEffect(()=>{if(!R){N(C);return}N(aE(R,C))},[R,C]),g.useEffect(()=>{sn(rt[0]||"/");let Q=!0;return(async()=>{for(const qe of rt)try{if((await fetch(un(qe,"ui-theme.json"),{cache:"no-store"})).ok){Q&&sn(qe);return}}catch{}})(),()=>{Q=!1}},[rt]);const ds=(Q,Te)=>{const qe=Te.trim();if(!qe)return Q;const St=Q.toLowerCase(),Ut=qe.toLowerCase(),Gt=St.indexOf(Ut);if(Gt===-1)return Q;const Jt=Q.slice(0,Gt),Mt=Q.slice(Gt,Gt+qe.length),Nt=Q.slice(Gt+qe.length);return c.jsxs(c.Fragment,{children:[Jt,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Mt}),Nt]})},hn=(Q,Te)=>{const qe=Z.current;if(!qe)return;let St=qe.querySelector(`[data-search-hit="${Q}"]`);if(!St&&Te){const Ut=Te.trim().replace(/\s+/g," "),Gt=Array.from(qe.querySelectorAll("h1, h2, h3, p, li, code"));St=Gt.find(Jt=>(Jt.textContent||"").trim().replace(/\s+/g," ")===Ut)||null,St||(St=Gt.find(Jt=>(Jt.textContent||"").toLowerCase().includes(Ut.toLowerCase()))||null)}St&&requestAnimationFrame(()=>{const Ut=qe.getBoundingClientRect(),Gt=St.getBoundingClientRect(),Jt=Math.max(0,qe.scrollTop+(Gt.top-Ut.top)-12);qe.scrollTop=Jt,St.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),be.current&&window.clearTimeout(be.current),be.current=window.setTimeout(()=>{St.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},kn=Q=>{const Te=Z.current,qe=Q.trim().toLowerCase();if(!Te||qe.length<2){V([]);return}const St=Array.from(Te.querySelectorAll("h1, h2, h3, p, li, code"));St.forEach(Jt=>Jt.removeAttribute("data-search-hit"));const Ut=[];let Gt=0;St.forEach((Jt,Mt)=>{const Nt=(Jt.textContent||"").trim();if(Nt&&Nt.toLowerCase().includes(qe)){let $n="";for(let di=Mt;di>=0;di-=1){const lt=St[di];if(lt&&["H1","H2","H3"].includes(lt.tagName)){$n=(lt.textContent||"").trim();break}}Jt.setAttribute("data-search-hit",String(Gt)),Ut.push({index:Mt,text:Nt,section:$n||"Unlabeled Section",hitId:Gt}),Gt+=1}}),V(Ut.slice(0,12))};g.useEffect(()=>{var Te;if(!q)return;D(((Te=Rn[0])==null?void 0:Te.id)||"");const Q=qe=>{var Ut;const St=qe.target;St&&((Ut=ae.current)!=null&&Ut.contains(St)||(ne(!1),V([])))};return window.addEventListener("mousedown",Q),()=>{window.removeEventListener("mousedown",Q)}},[q,Rn]),g.useEffect(()=>{if(!q){D("");return}const Q=Z.current;if(!Q)return;let Te=0;const qe=()=>{var J;const Ut=Array.from(Q.querySelectorAll("[data-heading-id]"));if(Ut.length===0)return;const Jt=Q.getBoundingClientRect().top+18,Mt=Ut.map((ke,fe)=>({index:fe,id:ke.dataset.headingId||ke.id||"",top:ke.getBoundingClientRect().top})).filter(ke=>!!ke.id);if(Mt.length===0)return;let Nt=0,$n=!1;for(const ke of Mt){if(ke.top<=Jt){Nt=ke.index,$n=!0;continue}$n||(Nt=ke.index);break}Q.scrollTop+Q.clientHeight>=Q.scrollHeight-2&&(Nt=Math.max(0,Mt.length-1));const lt=Rn[Nt],T=((J=Mt[Nt])==null?void 0:J.id)||"",$=(lt==null?void 0:lt.id)||T;$&&D($)};qe();const St=()=>{Te&&cancelAnimationFrame(Te),Te=requestAnimationFrame(qe)};return Q.addEventListener("scroll",St,{passive:!0}),window.addEventListener("resize",St),()=>{Te&&cancelAnimationFrame(Te),Q.removeEventListener("scroll",St),window.removeEventListener("resize",St)}},[q,Rn]);const Nn=g.useMemo(()=>[{id:"overview",label:"Overview",icon:d8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Bc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Il},{id:"top-players",label:"Top Players",icon:Bc},{id:"top-skills-outgoing",label:"Top Skills",icon:kk},{id:"squad-composition",label:"Classes",icon:_r},{id:"timeline",label:"Squad vs Enemy Size",icon:_r},{id:"map-distribution",label:"Map Distribution",icon:Ak}]},{id:"roster",label:"Roster Intel",icon:pm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:pm},{id:"squad-comp-fight",label:"Squad Comp",icon:_r},{id:"fight-comp",label:"Fight Comp",icon:Il}]},{id:"offense",label:"Offensive Stats",icon:Il,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:M$},{id:"player-breakdown",label:"Player Breakdown",icon:jk},{id:"damage-breakdown",label:"Damage Breakdown",icon:Sk},{id:"spike-damage",label:"Spike Damage",icon:gm},{id:"conditions-outgoing",label:"Conditions",icon:lx}]},{id:"defense",label:"Defensive Stats",icon:xd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:xd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:gm},{id:"defense-mitigation",label:"Damage Mitigation",icon:Mk},{id:"boon-output",label:"Boon Output",icon:zc},{id:"boon-timeline",label:"Boon Timeline",icon:Tk},{id:"boon-uptime",label:"Boon Uptime",icon:zf},{id:"support-detailed",label:"Support Detailed",icon:Pk},{id:"healing-stats",label:"Healing Stats",icon:PO}]},{id:"other",label:"Other Metrics",icon:cx,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Nk},{id:"special-buffs",label:"Special Buffs",icon:Og},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ek},{id:"skill-usage",label:"Skill Usage",icon:Ck},{id:"apm-stats",label:"APM Breakdown",icon:Dk}]}],[]),_i=g.useMemo(()=>{const Q=new Map;return Nn.forEach(Te=>{Q.set(Te.id.toLowerCase(),Te.id),(Te.sectionIds||[]).forEach(qe=>Q.set(String(qe).toLowerCase(),Te.id)),(Te.items||[]).forEach(qe=>Q.set(String(qe.id).toLowerCase(),Te.id))}),Q.set("report-top","overview"),Q.set("overview","overview"),Q.set("kdr","overview"),Q},[Nn]),Ur=g.useMemo(()=>Nn.find(Q=>Q.id===se)||Nn[0],[Nn,se]),Lr=y==="kinetic",pu=g.useMemo(()=>{const Te=((Ur==null?void 0:Ur.sectionIds)||((Ur==null?void 0:Ur.items)||[]).map(qe=>qe.id)).map(qe=>qe==="kdr"?"overview":qe);return new Set(Te)},[Ur]),co=Q=>{if(Q==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const Te=Q==="kdr"?"overview":Q,qe=Te==="overview"&&Q!=="kdr"?"report-top":Te,St=document.getElementById(qe);if(!St||!(St.getAttribute("data-section-visible")!=="false")||!St.offsetParent)return!1;const Gt=St.getBoundingClientRect();if(Gt.height<=0)return!1;let Jt=0;if(qe==="stats-view-top"){const Nt=document.getElementById("report-top");Nt&&(Jt=Nt.getBoundingClientRect().height+12)}const Mt=Gt.top+window.scrollY-12-Jt;return window.scrollTo({top:Math.max(0,Mt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${qe}`),!0},sl=(Q,Te=0)=>{co(Q)||Te>=12||window.setTimeout(()=>{requestAnimationFrame(()=>sl(Q,Te+1))},40)};g.useEffect(()=>{if(!t)return;const Q=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(qe=>{qe.scrollHeight})});return()=>cancelAnimationFrame(Q)},[t]),g.useEffect(()=>{const Q=Ee.current;if(!Q)return;let Te=0;const qe=()=>{if(co(Q)){Ee.current=null;return}if(Te+=1,Te>=20){Ee.current=null;return}window.setTimeout(()=>requestAnimationFrame(qe),40)};requestAnimationFrame(qe)},[se]),g.useEffect(()=>{const Q=()=>{var Gt,Jt;const Te=(window.location.hash||"").replace(/^#/,"").trim();if(!Te)return;let qe=Te;try{qe=decodeURIComponent(Te)}catch{qe=Te}const St=qe.toLowerCase(),Ut=_i.get(St);if(Ut){if(B(Ut),z(()=>{const Mt={};return Nn.forEach(Nt=>{Mt[Nt.id]=Nt.id===Ut}),Mt}),St==="report-top")H("kdr");else{const Mt=Nn.find(Nt=>Nt.id.toLowerCase()===St);H(((Jt=(Gt=Mt==null?void 0:Mt.items)==null?void 0:Gt[0])==null?void 0:Jt.id)||St)}Ee.current=St==="report-top"?"kdr":St}};return Q(),window.addEventListener("hashchange",Q),()=>{window.removeEventListener("hashchange",Q)}},[_i,Nn]);const ci=y==="matte",Fs=f??rg,sr=Lr&&Fs.id===Vf,ya=Lr?sr?"142, 155, 214":"90, 80, 68":Fs.rgb,ui=ci?"#d8e1eb":Lr?sr?"#f0d8a9":"#24211d":"var(--accent)",wa={"--accent":`rgb(${ya})`,"--accent-rgb":ya,"--accent-soft":`rgba(${ya}, ${Lr?sr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${ya}, ${Lr?sr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${ya}, ${Lr?sr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${ya}, ${Lr?sr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${ya}, ${Lr?sr?"0.08":"0.04":"0.08"})`},Rs=y==="modern"||y==="matte"||y==="kinetic",gu=Fs.pattern?ci||Lr?void 0:Rs?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Fs.pattern}`:Fs.pattern:void 0,er=Lr?{backgroundImage:"none",backgroundColor:sr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:sr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:ci?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Rs?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var Jt;let Q=!0;const qe=new URLSearchParams(window.location.search).get("report")||((Jt=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:Jt[1])||null,St=qe?`${wt}reports/${qe}/report.json`:`${wt}report.json`;qe&&l(St);const Ut=Mt=>{var di,lt,T;const Nt=new Set((((di=Mt==null?void 0:Mt.meta)==null?void 0:di.commanders)||[]).map($=>String($)));if(Nt.size===0)return Mt;const $n=Mt.stats;return(lt=$n==null?void 0:$n.leaderboards)!=null&&lt.closestToTag&&($n.leaderboards.closestToTag=$n.leaderboards.closestToTag.map($=>Nt.has(String($==null?void 0:$.account))?{...$,value:0}:$)),(T=$n==null?void 0:$n.closestToTag)!=null&&T.player&&Nt.has(String($n.closestToTag.player))&&($n.closestToTag={...$n.closestToTag,value:0}),Mt},Gt=Mt=>{var T,$,J,ke,fe;const Nt=Mt==null?void 0:Mt.stats;if(!Nt||typeof Nt!="object")return Mt;const $n=Array.isArray((T=Nt==null?void 0:Nt.leaderboards)==null?void 0:T.downContrib)?Nt.leaderboards.downContrib:[];if(!$n.length)return Mt;const lt=$n.map(Ue=>({...Ue,value:Number((Ue==null?void 0:Ue.value)??0)})).filter(Ue=>Number.isFinite(Ue.value)).sort((Ue,Me)=>Me.value-Ue.value||String((Ue==null?void 0:Ue.account)||"").localeCompare(String((Me==null?void 0:Me.account)||"")))[0];return lt&&(Nt.maxDownContrib={...Nt.maxDownContrib||{},value:Number(lt.value||0),player:String(lt.account||(($=Nt.maxDownContrib)==null?void 0:$.player)||"-"),count:Number(lt.count||((J=Nt.maxDownContrib)==null?void 0:J.count)||0),profession:String(lt.profession||((ke=Nt.maxDownContrib)==null?void 0:ke.profession)||"Unknown"),professionList:Array.isArray(lt.professionList)?lt.professionList:((fe=Nt.maxDownContrib)==null?void 0:fe.professionList)||[]}),Mt};return fetch(St,{cache:"no-store"}).then(Mt=>Mt.ok?Mt.json():Promise.reject()).then(Mt=>{var $n,di,lt,T,$;if(!Q)return;const Nt=Gt(Ut(Mt));if(n(Nt),!R){const J=($n=Nt==null?void 0:Nt.stats)==null?void 0:$n.uiTheme;J==="modern"||J==="classic"||J==="crt"||J==="matte"||J==="kinetic"?S(J):((di=Nt==null?void 0:Nt.stats)==null?void 0:di.webThemeId)===M0?S("matte"):(((lt=Nt==null?void 0:Nt.stats)==null?void 0:lt.webThemeId)===E0||((T=Nt==null?void 0:Nt.stats)==null?void 0:T.webThemeId)===Vf)&&S("kinetic"),typeof(($=Nt==null?void 0:Nt.stats)==null?void 0:$.webThemeId)=="string"&&Nt.stats.webThemeId&&O(Nt.stats.webThemeId)}}).catch(()=>{if(qe){if(!Q)return;s("Report not found yet. It may still be deploying.")}fetch(`${wt}reports/index.json`,{cache:"no-store"}).then(Mt=>Mt.ok?Mt.json():Promise.reject()).then(Mt=>{Q&&i(Array.isArray(Mt)?Mt:[])}).catch(()=>{Q&&s("No report data found.")})}),()=>{Q=!1}},[wt,R]),g.useEffect(()=>{if(t){const Q=t.meta.dateLabel||sE(t.meta.dateStart,t.meta.dateEnd);document.title=Q?`ArcBridge  ${t.meta.title}  ${Q}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),g.useEffect(()=>{var Te;if(R)return;const Q=(Te=t==null?void 0:t.stats)==null?void 0:Te.webThemeId;typeof Q=="string"&&Q&&O(Q)},[t,R]),g.useEffect(()=>{const Q=document.body;Q.classList.add("web-report"),Q.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),ci?Q.classList.add("theme-matte"):y==="modern"?Q.classList.add("theme-modern"):y==="crt"?Q.classList.add("theme-crt"):y==="kinetic"?(Q.classList.add("theme-kinetic"),sr&&Q.classList.add("theme-kinetic-dark"),_==="original"&&Q.classList.add("theme-kinetic-font-original")):Q.classList.add("theme-classic")},[y,ci,sr,_]),g.useEffect(()=>{var Te;if(R||Pe&&((Te=t==null?void 0:t.stats)!=null&&Te.webThemeId))return;let Q=!0;return fetch(un(Lt,"theme.json"),{cache:"no-store"}).then(qe=>qe.ok?qe.json():Promise.reject()).then(qe=>{Q&&typeof(qe==null?void 0:qe.id)=="string"&&qe.id&&O(qe.id)}).catch(()=>{}),()=>{Q=!1}},[Lt,Pe,t,R]),g.useEffect(()=>{var Gt,Jt;if(R)return;const Q=(Gt=t==null?void 0:t.stats)==null?void 0:Gt.webThemeId,Te=(Jt=t==null?void 0:t.stats)==null?void 0:Jt.uiTheme;if((Te==="modern"||Te==="classic"||Te==="crt"||Te==="matte"||Te==="kinetic")&&!(Q===M0&&Te!=="matte"||(Q===E0||Q===Vf)&&Te!=="kinetic"||Q==="CRT"&&Te!=="crt"))return;let Ut=!0;return fetch(un(Lt,"ui-theme.json"),{cache:"no-store"}).then(Mt=>Mt.ok?Mt.json():Promise.reject()).then(Mt=>{if(!Ut)return;const Nt=Mt==null?void 0:Mt.theme;(Nt==="modern"||Nt==="classic"||Nt==="crt"||Nt==="matte"||Nt==="kinetic")&&S(Nt)}).catch(()=>{}),()=>{Ut=!1}},[Lt,t,R]),g.useEffect(()=>{let Q=!0;return fetch(un(Lt,"logo.json"),{cache:"no-store"}).then(Te=>Te.ok?Te.json():Promise.reject()).then(Te=>{if(!Q)return;const qe="svg/ArcBridge.svg",St=Te!=null&&Te.path?String(Te.path):qe,Ut=Te!=null&&Te.updatedAt?String(Te.updatedAt):"",Gt=un(Lt,St),Jt=Ut?`${Gt}?v=${encodeURIComponent(Ut)}`:Gt;p(Jt),b(!(Te!=null&&Te.path)||St===qe)}).catch(()=>{Q&&(p(null),b(!1))}),()=>{Q=!1}},[Lt]);const ka=g.useMemo(()=>r?[...r].sort((Q,Te)=>{const qe=new Date(Q.dateEnd||Q.dateStart).getTime();return new Date(Te.dateEnd||Te.dateStart).getTime()-qe}):[],[r]),oa=g.useMemo(()=>{if(!ka.length)return[];const Q=u.trim().toLowerCase();return Q?ka.filter(Te=>{var Ut;const qe=((Ut=Te.commanders)==null?void 0:Ut.join(" "))||"";return`${Te.title} ${qe} ${Te.dateLabel}`.toLowerCase().includes(Q)}):ka},[ka,u]),xu=Q=>{if(!Q){dxe(j1);return}iE(j1,JSON.stringify({themeId:Q}))},Bs=Q=>{const Te=Q===rE?null:Q;Te&&!Tf.some(qe=>qe.id===Te)||(M(Te),xu(Te),le(!1))},vu=Q=>{G(Q),iE(nE,Q),Y(!1)};g.useEffect(()=>{const Q=qe=>{if(!Ke.current)return;const St=qe.target;Ke.current.contains(St)||Ye.current&&Ye.current.contains(St)||(le(!1),Y(!1))},Te=qe=>{qe.key==="Escape"&&(le(!1),Y(!1))};return window.addEventListener("mousedown",Q),window.addEventListener("keydown",Te),()=>{window.removeEventListener("mousedown",Q),window.removeEventListener("keydown",Te)}},[]),g.useEffect(()=>()=>{Le.current!==null&&(cancelAnimationFrame(Le.current),Le.current=null)},[]);const Sa=g.useMemo(()=>{if(!R)return"Default";const Q=Tf.find(Te=>Te.id===R);return(Q==null?void 0:Q.label)||"Default"},[R]),cc=c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ke,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>le(Q=>!Q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:Sa}),c.jsx("span",{className:`transition-transform ${ee?"rotate-180":""}`,children:""})]}),ee&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>Bs(rE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Tf.map(Q=>c.jsx("button",{type:"button",onClick:()=>Bs(Q.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${R===Q.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Q.label},Q.id))]})]}),ol=Lr?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ye,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>Y(Q=>!Q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:_==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${ve?"rotate-180":""}`,children:""})]}),ve&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>vu("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>vu("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,bu=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:cc}),ol&&c.jsx("div",{className:"min-w-[160px]",children:ol}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:Q=>{Q.preventDefault(),K(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),$r=c.jsxs(uxe,{isOpen:q,onClose:()=>K(!1),searchValue:re,searchFocused:ie,searchResults:W,onSearchChange:Q=>{k(Q),requestAnimationFrame(()=>kn(Q))},onSearchFocus:()=>{ne(!0),requestAnimationFrame(()=>kn(re))},onSearchBlur:Q=>{var Te;Q&&((Te=ae.current)!=null&&Te.contains(Q))||ne(!1)},onSearchEnter:()=>{W.length>0&&hn(W[0].hitId,W[0].text)},onSearchResultMouseDown:Q=>{ne(!0),hn(Q.hitId,Q.text)},renderHighlightedMatch:ds,searchRef:ae,tocItems:Rn,activeTocId:P,onTocClick:Q=>{const Te=Z.current;if(!Te)return;let qe=Te.querySelector(`[data-heading-id="${Q.id}"]`);if(!qe){const St=Q.text.trim().replace(/\s+/g," ");qe=Array.from(Te.querySelectorAll("h1, h2, h3")).find(Gt=>(Gt.textContent||"").trim().replace(/\s+/g," ")===St)||null}qe&&(D(Q.id),requestAnimationFrame(()=>{const St=Te.getBoundingClientRect(),Ut=qe.getBoundingClientRect(),Gt=Te.scrollTop+(Ut.top-St.top)-12;Te.scrollTop=Math.max(0,Gt)}))},contentRef:Z,children:[(F.current=new Map,null),c.jsx(Rde,{remarkPlugins:[Zme],components:{h1:({children:Q})=>{const Te=Zt(Q),qe=Tr(Te);return c.jsx("h1",{id:qe,"data-heading-id":qe,className:"text-2xl font-bold text-white scroll-mt-6",children:Q})},h2:({children:Q})=>{const Te=Zt(Q),qe=Tr(Te);return c.jsx("h2",{id:qe,"data-heading-id":qe,className:"text-xl font-semibold text-white scroll-mt-6",children:Q})},h3:({children:Q})=>{const Te=Zt(Q),qe=Tr(Te);return c.jsx("h3",{id:qe,"data-heading-id":qe,className:"text-lg font-semibold text-white scroll-mt-6",children:Q})},p:({children:Q})=>c.jsx("p",{className:"leading-6 text-gray-200",children:Q}),ul:({children:Q})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Q}),ol:({children:Q})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Q}),li:({children:Q})=>c.jsx("li",{className:"leading-6",children:Q}),blockquote:({children:Q})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Q}),a:({href:Q,children:Te})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Q,target:"_blank",rel:"noreferrer",children:Te}),table:({children:Q})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Q})}),th:({children:Q})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Q}),td:({children:Q})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Q}),pre:({children:Q})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Q}),code:Q=>{const{inline:Te,children:qe}=Q;return Te===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:qe}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:qe})}},children:Hb})]});if(t){const Q=un(Lt,"svg/ArcBridge.svg"),Te=()=>{Le.current!==null&&(cancelAnimationFrame(Le.current),Le.current=null);const lt=window.scrollY||window.pageYOffset||0;if(lt<=1){window.scrollTo({top:0,behavior:"auto"});return}const T=320,$=performance.now(),J=ke=>{const fe=ke-$,Ue=Math.min(1,fe/T),Me=1-Math.pow(1-Ue,3),bt=Math.max(0,Math.round(lt*(1-Me)));window.scrollTo({top:bt,behavior:"auto"}),Ue<1?Le.current=requestAnimationFrame(J):(Le.current=null,window.scrollTo({top:0,behavior:"auto"}))};Le.current=requestAnimationFrame(J)},qe=lt=>{z(()=>{const T={};return Nn.forEach($=>{T[$.id]=$.id===lt}),T})},St=lt=>{var $,J;Ee.current=null,B(lt);const T=Nn.find(ke=>ke.id===lt);H(((J=($=T==null?void 0:T.items)==null?void 0:$[0])==null?void 0:J.id)||"kdr"),Te()},Ut=lt=>{if(!!!te[lt]){qe(lt),St(lt);return}if(lt!==se){St(lt);return}z($=>({...$,[lt]:!1}))},Gt=(lt,T)=>{te[lt]||qe(lt),H(T);const $=lt===se;$||(Ee.current=T,B(lt),requestAnimationFrame(()=>sl(T))),$&&requestAnimationFrame(()=>sl(T))},Jt=lt=>{const T=lt.currentTarget;if(!(T.scrollHeight>T.clientHeight)){window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault();return}const J=T.scrollTop<=0,ke=T.scrollTop+T.clientHeight>=T.scrollHeight-1;(J&&lt.deltaY<0||ke&&lt.deltaY>0)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault())},Mt=lt=>{const T=ue.current;if(!T)return;const $=lt.target;if(!$||!T.contains($))return;let J=$;for(;J&&J!==T;){const fe=window.getComputedStyle(J).overflowY;if((fe==="auto"||fe==="scroll")&&J.scrollHeight>J.clientHeight+1){const Me=J.scrollTop<=0,bt=J.scrollTop+J.clientHeight>=J.scrollHeight-1;(lt.deltaY<0&&Me||lt.deltaY>0&&bt)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault());return}J=J.parentElement}},Nt=lt=>{const T=Math.max(0,6-lt);return{accordionDuration:.5+T*.07,itemDuration:.34+T*.035,stagger:.05+T*.01,delayChildren:.06+T*.015}},$n=lt=>{const T=Nt(lt);return{open:{transition:{staggerChildren:T.stagger,delayChildren:T.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,T.stagger*.7),staggerDirection:-1}}}},di={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ci?"var(--bg-base)":Lr?sr?"#2b3048":"#d8d1c5":Rs?"#0f141c":"#0f172a",backgroundImage:ci?"none":gu,...wa},children:[!ci&&!Lr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:mn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Jt,children:Nn.map(lt=>{const T=lt.icon,$=lt.id===se,J=!!te[lt.id],ke=Nt(lt.items.length),fe=$n(lt.items.length);return c.jsxs(Gs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Ut(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${$?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(T,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(Gs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Qy,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Gs.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ke.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Gs.div,{variants:fe,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(Ue=>{const Me=Ue.icon;return c.jsxs(Gs.button,{variants:di,transition:{duration:ke.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Gt(lt.id,Ue.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${U===Ue.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Me,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ue.label]},Ue.id)})})},`${lt.id}-submenu-mobile`)]},lt.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ui,maskImage:`url(${Q})`,WebkitMaskImage:`url(${Q})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Jt,children:Nn.map(lt=>{const T=lt.icon,$=lt.id===se,J=!!te[lt.id],ke=Nt(lt.items.length),fe=$n(lt.items.length);return c.jsxs(Gs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Ut(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${$?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(T,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(Gs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Qy,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Gs.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ke.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Gs.div,{variants:fe,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(Ue=>{const Me=Ue.icon;return c.jsxs(Gs.button,{variants:di,transition:{duration:ke.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Gt(lt.id,Ue.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${U===Ue.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Me,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ue.label]},Ue.id)})})},`${lt.id}-submenu-desktop`)]},lt.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:mn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${yc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:er,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(v?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ui,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||sE(t.meta.dateStart,t.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(ZC,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(n8,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(_r,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(DO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Ur==null?void 0:Ur.items)||[]).map(lt=>{const T=lt.icon;return c.jsxs("button",{onClick:()=>Gt((Ur==null?void 0:Ur.id)||"overview",lt.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${U===lt.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(T,{className:"w-3 h-3 text-[color:var(--accent)]"})}),lt.label]},`chip-${lt.id}`)})})]}),c.jsx("div",{ref:ue,onWheelCapture:Mt,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(toe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(ll=t.stats)==null?void 0:ll.statsViewSettings,embedded:!0,uiTheme:y,sectionVisibility:lt=>pu.has(lt),dashboardTitle:`Statistics Dashboard - ${(Ur==null?void 0:Ur.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:bu})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:mn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(jO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(ZC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(t8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),$r]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ci?"var(--bg-base)":Lr?sr?"#2b3048":"#d8d1c5":Rs?"#0f141c":"#0f172a",backgroundImage:ci?"none":gu,...wa},children:[!ci&&!Lr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${yc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:er,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(v?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ui,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[oa.length," Reports"]})})]}),c.jsxs("div",{className:`${yc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:er,children:[c.jsx("input",{type:"search",value:u,onChange:Q=>d(Q.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:oa.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:ka.length})]})]}),a&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:er,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&c.jsx("div",{className:`${yc} p-6 text-gray-300`,style:er,children:"Loading reports..."}),oa.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:oa.map(Q=>{var Te,qe,St,Ut;return c.jsx("a",{href:mxe(Wt,Q.id,L),className:`${yc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:er,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Q.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:pxe(Q.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(_r,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:Q.commanders.length?Q.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(Te=Q.summary)!=null&&Te.mapSlices&&Q.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(gxe,{slices:Q.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(xxe,{value:(qe=Q.summary)==null?void 0:qe.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((St=Q.summary)==null?void 0:St.avgSquadSize)??"--"," / ",((Ut=Q.summary)==null?void 0:Ut.avgEnemySize)??"--"]})]}),c.jsx(o8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Q.id)})}),!a&&r&&ka.length===0&&c.jsx("div",{className:`${yc} p-6 text-gray-300`,style:er,children:"No reports uploaded yet."}),!a&&r&&ka.length>0&&oa.length===0&&c.jsx("div",{className:`${yc} p-6 text-gray-300`,style:er,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:bu})]}),$r]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");iy.createRoot(document.getElementById("root")).render(c.jsx(q0.StrictMode,{children:c.jsx(vxe,{})}));
