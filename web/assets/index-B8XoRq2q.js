var kR=Object.defineProperty;var SR=(e,t,n)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Av=(e,t,n)=>SR(e,typeof t!="symbol"?t+"":t,n);function NR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var KT={exports:{}},Vg={},GT={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),CR=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),AR=Symbol.for("react.profiler"),ER=Symbol.for("react.provider"),TR=Symbol.for("react.context"),DR=Symbol.for("react.forward_ref"),MR=Symbol.for("react.suspense"),OR=Symbol.for("react.memo"),IR=Symbol.for("react.lazy"),VN=Symbol.iterator;function _R(e){return e===null||typeof e!="object"?null:(e=VN&&e[VN]||e["@@iterator"],typeof e=="function"?e:null)}var YT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XT=Object.assign,QT={};function Wu(e,t,n){this.props=e,this.context=t,this.refs=QT,this.updater=n||YT}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZT(){}ZT.prototype=Wu.prototype;function Cw(e,t,n){this.props=e,this.context=t,this.refs=QT,this.updater=n||YT}var jw=Cw.prototype=new ZT;jw.constructor=Cw;XT(jw,Wu.prototype);jw.isPureReactComponent=!0;var WN=Array.isArray,JT=Object.prototype.hasOwnProperty,Pw={current:null},eD={key:!0,ref:!0,__self:!0,__source:!0};function tD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)JT.call(t,r)&&!eD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Gf,type:e,key:a,ref:s,props:i,_owner:Pw.current}}function LR(e,t){return{$$typeof:Gf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Aw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gf}function $R(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var HN=/\/+/g;function Ev(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$R(""+e.key):t.toString(36)}function $h(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Gf:case CR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ev(s,0):r,WN(i)?(n="",e!=null&&(n=e.replace(HN,"$&/")+"/"),$h(i,t,n,"",function(c){return c})):i!=null&&(Aw(i)&&(i=LR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",WN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Ev(a,o);s+=$h(a,t,n,l,i)}else if(l=_R(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Ev(a,o++),s+=$h(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ym(e,t,n){if(e==null)return e;var r=[],i=0;return $h(e,r,"","",function(a){return t.call(n,a,i++)}),r}function FR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hi={current:null},Fh={transition:null},RR={ReactCurrentDispatcher:Hi,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:Pw};function nD(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:Ym,forEach:function(e,t,n){Ym(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ym(e,function(){t++}),t},toArray:function(e){return Ym(e,function(t){return t})||[]},only:function(e){if(!Aw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fn.Component=Wu;fn.Fragment=jR;fn.Profiler=AR;fn.PureComponent=Cw;fn.StrictMode=PR;fn.Suspense=MR;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;fn.act=nD;fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=XT({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Pw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)JT.call(t,l)&&!eD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Gf,type:e.type,key:i,ref:a,props:r,_owner:s}};fn.createContext=function(e){return e={$$typeof:TR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ER,_context:e},e.Consumer=e};fn.createElement=tD;fn.createFactory=function(e){var t=tD.bind(null,e);return t.type=e,t};fn.createRef=function(){return{current:null}};fn.forwardRef=function(e){return{$$typeof:DR,render:e}};fn.isValidElement=Aw;fn.lazy=function(e){return{$$typeof:IR,_payload:{_status:-1,_result:e},_init:FR}};fn.memo=function(e,t){return{$$typeof:OR,type:e,compare:t===void 0?null:t}};fn.startTransition=function(e){var t=Fh.transition;Fh.transition={};try{e()}finally{Fh.transition=t}};fn.unstable_act=nD;fn.useCallback=function(e,t){return Hi.current.useCallback(e,t)};fn.useContext=function(e){return Hi.current.useContext(e)};fn.useDebugValue=function(){};fn.useDeferredValue=function(e){return Hi.current.useDeferredValue(e)};fn.useEffect=function(e,t){return Hi.current.useEffect(e,t)};fn.useId=function(){return Hi.current.useId()};fn.useImperativeHandle=function(e,t,n){return Hi.current.useImperativeHandle(e,t,n)};fn.useInsertionEffect=function(e,t){return Hi.current.useInsertionEffect(e,t)};fn.useLayoutEffect=function(e,t){return Hi.current.useLayoutEffect(e,t)};fn.useMemo=function(e,t){return Hi.current.useMemo(e,t)};fn.useReducer=function(e,t,n){return Hi.current.useReducer(e,t,n)};fn.useRef=function(e){return Hi.current.useRef(e)};fn.useState=function(e){return Hi.current.useState(e)};fn.useSyncExternalStore=function(e,t,n){return Hi.current.useSyncExternalStore(e,t,n)};fn.useTransition=function(){return Hi.current.useTransition()};fn.version="18.3.1";GT.exports=fn;var x=GT.exports;const Wg=ps(x),BR=NR({__proto__:null,default:Wg},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR=x,UR=Symbol.for("react.element"),VR=Symbol.for("react.fragment"),WR=Object.prototype.hasOwnProperty,HR=zR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qR={key:!0,ref:!0,__self:!0,__source:!0};function rD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)WR.call(t,r)&&!qR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:UR,type:e,key:a,ref:s,props:i,_owner:HR.current}}Vg.Fragment=VR;Vg.jsx=rD;Vg.jsxs=rD;KT.exports=Vg;var u=KT.exports,sy={},iD={exports:{}},ja={},aD={exports:{}},sD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,re){var E=W.length;W.push(re);e:for(;0<E;){var j=E-1>>>1,V=W[j];if(0<i(V,re))W[j]=re,W[E]=V,E=j;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var re=W[0],E=W.pop();if(E!==re){W[0]=E;e:for(var j=0,V=W.length,k=V>>>1;j<k;){var O=2*(j+1)-1,ie=W[O],Z=O+1,B=W[Z];if(0>i(ie,E))Z<V&&0>i(B,ie)?(W[j]=B,W[Z]=E,j=Z):(W[j]=ie,W[O]=E,j=O);else if(Z<V&&0>i(B,E))W[j]=B,W[Z]=E,j=Z;else break e}}return re}function i(W,re){var E=W.sortIndex-re.sortIndex;return E!==0?E:W.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=W)r(c),re.sortIndex=re.expirationTime,t(l,re);else break;re=n(c)}}function S(W){if(g=!1,w(W),!p)if(n(l)!==null)p=!0,q(C);else{var re=n(c);re!==null&&H(S,re.startTime-W)}}function C(W,re){p=!1,g&&(g=!1,v(D),D=-1),m=!0;var E=h;try{for(w(re),f=n(l);f!==null&&(!(f.expirationTime>re)||W&&!$());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var V=j(f.expirationTime<=re);re=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),w(re)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var O=n(c);O!==null&&H(S,O.startTime-re),k=!1}return k}finally{f=null,h=E,m=!1}}var N=!1,P=null,D=-1,_=5,A=-1;function $(){return!(e.unstable_now()-A<_)}function M(){if(P!==null){var W=e.unstable_now();A=W;var re=!0;try{re=P(!0,W)}finally{re?ee():(N=!1,P=null)}}else N=!1}var ee;if(typeof b=="function")ee=function(){b(M)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ue=ne.port2;ne.port1.onmessage=M,ee=function(){ue.postMessage(null)}}else ee=function(){y(M,0)};function q(W){P=W,N||(N=!0,ee())}function H(W,re){D=y(function(){W(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,q(C))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var E=h;h=re;try{return W()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,re){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var E=h;h=W;try{return re()}finally{h=E}},e.unstable_scheduleCallback=function(W,re,E){var j=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?j+E:j):E=j,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=E+V,W={id:d++,callback:re,priorityLevel:W,startTime:E,expirationTime:V,sortIndex:-1},E>j?(W.sortIndex=E,t(c,W),n(l)===null&&W===n(c)&&(g?(v(D),D=-1):g=!0,H(S,E-j))):(W.sortIndex=V,t(l,W),p||m||(p=!0,q(C))),W},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(W){var re=h;return function(){var E=h;h=re;try{return W.apply(this,arguments)}finally{h=E}}}})(sD);aD.exports=sD;var KR=aD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=x,Sa=KR;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oD=new Set,nf={};function wc(e,t){Su(e,t),Su(e+"Capture",t)}function Su(e,t){for(nf[e]=t,e=0;e<t.length;e++)oD.add(t[e])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},KN={};function XR(e){return oy.call(KN,e)?!0:oy.call(qN,e)?!1:YR.test(e)?KN[e]=!0:(qN[e]=!0,!1)}function QR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZR(e,t,n,r){if(t===null||typeof t>"u"||QR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var vi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vi[e]=new qi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vi[t]=new qi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vi[e]=new qi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vi[e]=new qi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vi[e]=new qi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vi[e]=new qi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vi[e]=new qi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vi[e]=new qi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vi[e]=new qi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ew=/[\-:]([a-z])/g;function Tw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ew,Tw);vi[t]=new qi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ew,Tw);vi[t]=new qi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ew,Tw);vi[t]=new qi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vi[e]=new qi(e,1,!1,e.toLowerCase(),null,!1,!1)});vi.xlinkHref=new qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vi[e]=new qi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dw(e,t,n,r){var i=vi.hasOwnProperty(t)?vi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZR(t,n,i,r)&&(n=null),r||i===null?XR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yo=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xm=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Xc=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),ly=Symbol.for("react.profiler"),lD=Symbol.for("react.provider"),cD=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),cy=Symbol.for("react.suspense"),uy=Symbol.for("react.suspense_list"),Iw=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),uD=Symbol.for("react.offscreen"),GN=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=GN&&e[GN]||e["@@iterator"],typeof e=="function"?e:null)}var xr=Object.assign,Tv;function Td(e){if(Tv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tv=t&&t[1]||""}return`
`+Tv+e}var Dv=!1;function Mv(e,t){if(!e||Dv)return"";Dv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Dv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Td(e):""}function JR(e){switch(e.tag){case 5:return Td(e.type);case 16:return Td("Lazy");case 13:return Td("Suspense");case 19:return Td("SuspenseList");case 0:case 2:case 15:return e=Mv(e.type,!1),e;case 11:return e=Mv(e.type.render,!1),e;case 1:return e=Mv(e.type,!0),e;default:return""}}function dy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xc:return"Fragment";case Yc:return"Portal";case ly:return"Profiler";case Mw:return"StrictMode";case cy:return"Suspense";case uy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cD:return(e.displayName||"Context")+".Consumer";case lD:return(e._context.displayName||"Context")+".Provider";case Ow:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iw:return t=e.displayName||null,t!==null?t:dy(e.type)||"Memo";case Lo:t=e._payload,e=e._init;try{return dy(e(t))}catch{}}return null}function eB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dy(t);case 8:return t===Mw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function il(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tB(e){var t=dD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qm(e){e._valueTracker||(e._valueTracker=tB(e))}function fD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fy(e,t){var n=t.checked;return xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function YN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=il(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mD(e,t){t=t.checked,t!=null&&Dw(e,"checked",t,!1)}function my(e,t){mD(e,t);var n=il(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hy(e,t.type,n):t.hasOwnProperty("defaultValue")&&hy(e,t.type,il(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hy(e,t,n){(t!=="number"||lp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dd=Array.isArray;function mu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+il(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function py(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function QN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Dd(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:il(n)}}function hD(e,t){var n=il(t.value),r=il(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ZN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zm,gD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zm=Zm||document.createElement("div"),Zm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nB=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(e){nB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$d[t]=$d[e]})});function vD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$d.hasOwnProperty(e)&&$d[e]?(""+t).trim():t+"px"}function xD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rB=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(e,t){if(t){if(rB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function xy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=null;function _w(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var by=null,hu=null,pu=null;function JN(e){if(e=Qf(e)){if(typeof by!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Yg(t),by(e.stateNode,e.type,t))}}function yD(e){hu?pu?pu.push(e):pu=[e]:hu=e}function bD(){if(hu){var e=hu,t=pu;if(pu=hu=null,JN(e),t)for(e=0;e<t.length;e++)JN(t[e])}}function wD(e,t){return e(t)}function kD(){}var Ov=!1;function SD(e,t,n){if(Ov)return e(t,n);Ov=!0;try{return wD(e,t,n)}finally{Ov=!1,(hu!==null||pu!==null)&&(kD(),bD())}}function af(e,t){var n=e.stateNode;if(n===null)return null;var r=Yg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var wy=!1;if(oo)try{var ud={};Object.defineProperty(ud,"passive",{get:function(){wy=!0}}),window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{wy=!1}function iB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fd=!1,cp=null,up=!1,ky=null,aB={onError:function(e){Fd=!0,cp=e}};function sB(e,t,n,r,i,a,s,o,l){Fd=!1,cp=null,iB.apply(aB,arguments)}function oB(e,t,n,r,i,a,s,o,l){if(sB.apply(this,arguments),Fd){if(Fd){var c=cp;Fd=!1,cp=null}else throw Error(Ue(198));up||(up=!0,ky=c)}}function kc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ND(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e2(e){if(kc(e)!==e)throw Error(Ue(188))}function lB(e){var t=e.alternate;if(!t){if(t=kc(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e2(i),e;if(a===r)return e2(i),t;a=a.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function CD(e){return e=lB(e),e!==null?jD(e):null}function jD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jD(e);if(t!==null)return t;e=e.sibling}return null}var PD=Sa.unstable_scheduleCallback,t2=Sa.unstable_cancelCallback,cB=Sa.unstable_shouldYield,uB=Sa.unstable_requestPaint,Tr=Sa.unstable_now,dB=Sa.unstable_getCurrentPriorityLevel,Lw=Sa.unstable_ImmediatePriority,AD=Sa.unstable_UserBlockingPriority,dp=Sa.unstable_NormalPriority,fB=Sa.unstable_LowPriority,ED=Sa.unstable_IdlePriority,Hg=null,Ms=null;function mB(e){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Hg,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:gB,hB=Math.log,pB=Math.LN2;function gB(e){return e>>>=0,e===0?32:31-(hB(e)/pB|0)|0}var Jm=64,eh=4194304;function Md(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Md(o):(a&=s,a!==0&&(r=Md(a)))}else s=n&~i,s!==0?r=Md(s):a!==0&&(r=Md(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ss(t),i=1<<n,r|=e[n],t&=~i;return r}function vB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ss(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=vB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Sy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TD(){var e=Jm;return Jm<<=1,!(Jm&4194240)&&(Jm=64),e}function Iv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=n}function yB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ss(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function $w(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Mn=0;function DD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MD,Fw,OD,ID,_D,Ny=!1,th=[],Ko=null,Go=null,Yo=null,sf=new Map,of=new Map,zo=[],bB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n2(e,t){switch(e){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":sf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(t.pointerId)}}function dd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Qf(t),t!==null&&Fw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wB(e,t,n,r,i){switch(t){case"focusin":return Ko=dd(Ko,e,t,n,r,i),!0;case"dragenter":return Go=dd(Go,e,t,n,r,i),!0;case"mouseover":return Yo=dd(Yo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return sf.set(a,dd(sf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,of.set(a,dd(of.get(a)||null,e,t,n,r,i)),!0}return!1}function LD(e){var t=zl(e.target);if(t!==null){var n=kc(t);if(n!==null){if(t=n.tag,t===13){if(t=ND(n),t!==null){e.blockedOn=t,_D(e.priority,function(){OD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yy=r,n.target.dispatchEvent(r),yy=null}else return t=Qf(n),t!==null&&Fw(t),e.blockedOn=n,!1;t.shift()}return!0}function r2(e,t,n){Rh(e)&&n.delete(t)}function kB(){Ny=!1,Ko!==null&&Rh(Ko)&&(Ko=null),Go!==null&&Rh(Go)&&(Go=null),Yo!==null&&Rh(Yo)&&(Yo=null),sf.forEach(r2),of.forEach(r2)}function fd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ny||(Ny=!0,Sa.unstable_scheduleCallback(Sa.unstable_NormalPriority,kB)))}function lf(e){function t(i){return fd(i,e)}if(0<th.length){fd(th[0],e);for(var n=1;n<th.length;n++){var r=th[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ko!==null&&fd(Ko,e),Go!==null&&fd(Go,e),Yo!==null&&fd(Yo,e),sf.forEach(t),of.forEach(t),n=0;n<zo.length;n++)r=zo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zo.length&&(n=zo[0],n.blockedOn===null);)LD(n),n.blockedOn===null&&zo.shift()}var gu=yo.ReactCurrentBatchConfig,mp=!0;function SB(e,t,n,r){var i=Mn,a=gu.transition;gu.transition=null;try{Mn=1,Rw(e,t,n,r)}finally{Mn=i,gu.transition=a}}function NB(e,t,n,r){var i=Mn,a=gu.transition;gu.transition=null;try{Mn=4,Rw(e,t,n,r)}finally{Mn=i,gu.transition=a}}function Rw(e,t,n,r){if(mp){var i=Cy(e,t,n,r);if(i===null)Wv(e,t,r,hp,n),n2(e,r);else if(wB(i,e,t,n,r))r.stopPropagation();else if(n2(e,r),t&4&&-1<bB.indexOf(e)){for(;i!==null;){var a=Qf(i);if(a!==null&&MD(a),a=Cy(e,t,n,r),a===null&&Wv(e,t,r,hp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Wv(e,t,r,null,n)}}var hp=null;function Cy(e,t,n,r){if(hp=null,e=_w(r),e=zl(e),e!==null)if(t=kc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ND(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hp=e,null}function $D(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dB()){case Lw:return 1;case AD:return 4;case dp:case fB:return 16;case ED:return 536870912;default:return 16}default:return 16}}var Wo=null,Bw=null,Bh=null;function FD(){if(Bh)return Bh;var e,t=Bw,n=t.length,r,i="value"in Wo?Wo.value:Wo.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Bh=i.slice(e,1<r?1-r:void 0)}function zh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nh(){return!0}function i2(){return!1}function Pa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nh:i2,this.isPropagationStopped=i2,this}return xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nh)},persist:function(){},isPersistent:nh}),t}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=Pa(Hu),Xf=xr({},Hu,{view:0,detail:0}),CB=Pa(Xf),_v,Lv,md,qg=xr({},Xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==md&&(md&&e.type==="mousemove"?(_v=e.screenX-md.screenX,Lv=e.screenY-md.screenY):Lv=_v=0,md=e),_v)},movementY:function(e){return"movementY"in e?e.movementY:Lv}}),a2=Pa(qg),jB=xr({},qg,{dataTransfer:0}),PB=Pa(jB),AB=xr({},Xf,{relatedTarget:0}),$v=Pa(AB),EB=xr({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),TB=Pa(EB),DB=xr({},Hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MB=Pa(DB),OB=xr({},Hu,{data:0}),s2=Pa(OB),IB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $B(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LB[e])?!!t[e]:!1}function Uw(){return $B}var FB=xr({},Xf,{key:function(e){if(e.key){var t=IB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_B[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(e){return e.type==="keypress"?zh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RB=Pa(FB),BB=xr({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o2=Pa(BB),zB=xr({},Xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),UB=Pa(zB),VB=xr({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),WB=Pa(VB),HB=xr({},qg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qB=Pa(HB),KB=[9,13,27,32],Vw=oo&&"CompositionEvent"in window,Rd=null;oo&&"documentMode"in document&&(Rd=document.documentMode);var GB=oo&&"TextEvent"in window&&!Rd,RD=oo&&(!Vw||Rd&&8<Rd&&11>=Rd),l2=" ",c2=!1;function BD(e,t){switch(e){case"keyup":return KB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qc=!1;function YB(e,t){switch(e){case"compositionend":return zD(t);case"keypress":return t.which!==32?null:(c2=!0,l2);case"textInput":return e=t.data,e===l2&&c2?null:e;default:return null}}function XB(e,t){if(Qc)return e==="compositionend"||!Vw&&BD(e,t)?(e=FD(),Bh=Bw=Wo=null,Qc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RD&&t.locale!=="ko"?null:t.data;default:return null}}var QB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QB[e.type]:t==="textarea"}function UD(e,t,n,r){yD(r),t=pp(t,"onChange"),0<t.length&&(n=new zw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bd=null,cf=null;function ZB(e){JD(e,0)}function Kg(e){var t=eu(e);if(fD(t))return e}function JB(e,t){if(e==="change")return t}var VD=!1;if(oo){var Fv;if(oo){var Rv="oninput"in document;if(!Rv){var d2=document.createElement("div");d2.setAttribute("oninput","return;"),Rv=typeof d2.oninput=="function"}Fv=Rv}else Fv=!1;VD=Fv&&(!document.documentMode||9<document.documentMode)}function f2(){Bd&&(Bd.detachEvent("onpropertychange",WD),cf=Bd=null)}function WD(e){if(e.propertyName==="value"&&Kg(cf)){var t=[];UD(t,cf,e,_w(e)),SD(ZB,t)}}function ez(e,t,n){e==="focusin"?(f2(),Bd=t,cf=n,Bd.attachEvent("onpropertychange",WD)):e==="focusout"&&f2()}function tz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kg(cf)}function nz(e,t){if(e==="click")return Kg(t)}function rz(e,t){if(e==="input"||e==="change")return Kg(t)}function iz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:iz;function uf(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oy.call(t,i)||!us(e[i],t[i]))return!1}return!0}function m2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h2(e,t){var n=m2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m2(n)}}function HD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qD(){for(var e=window,t=lp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lp(e.document)}return t}function Ww(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function az(e){var t=qD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HD(n.ownerDocument.documentElement,n)){if(r!==null&&Ww(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=h2(n,a);var s=h2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sz=oo&&"documentMode"in document&&11>=document.documentMode,Zc=null,jy=null,zd=null,Py=!1;function p2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Py||Zc==null||Zc!==lp(r)||(r=Zc,"selectionStart"in r&&Ww(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zd&&uf(zd,r)||(zd=r,r=pp(jy,"onSelect"),0<r.length&&(t=new zw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zc)))}function rh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jc={animationend:rh("Animation","AnimationEnd"),animationiteration:rh("Animation","AnimationIteration"),animationstart:rh("Animation","AnimationStart"),transitionend:rh("Transition","TransitionEnd")},Bv={},KD={};oo&&(KD=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Gg(e){if(Bv[e])return Bv[e];if(!Jc[e])return e;var t=Jc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in KD)return Bv[e]=t[n];return e}var GD=Gg("animationend"),YD=Gg("animationiteration"),XD=Gg("animationstart"),QD=Gg("transitionend"),ZD=new Map,g2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(e,t){ZD.set(e,t),wc(t,[e])}for(var zv=0;zv<g2.length;zv++){var Uv=g2[zv],oz=Uv.toLowerCase(),lz=Uv[0].toUpperCase()+Uv.slice(1);ul(oz,"on"+lz)}ul(GD,"onAnimationEnd");ul(YD,"onAnimationIteration");ul(XD,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(QD,"onTransitionEnd");Su("onMouseEnter",["mouseout","mouseover"]);Su("onMouseLeave",["mouseout","mouseover"]);Su("onPointerEnter",["pointerout","pointerover"]);Su("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Od));function v2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oB(r,t,void 0,e),e.currentTarget=null}function JD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;v2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;v2(i,o,c),a=l}}}if(up)throw e=ky,up=!1,ky=null,e}function Qn(e,t){var n=t[My];n===void 0&&(n=t[My]=new Set);var r=e+"__bubble";n.has(r)||(eM(t,e,2,!1),n.add(r))}function Vv(e,t,n){var r=0;t&&(r|=4),eM(n,e,r,t)}var ih="_reactListening"+Math.random().toString(36).slice(2);function df(e){if(!e[ih]){e[ih]=!0,oD.forEach(function(n){n!=="selectionchange"&&(cz.has(n)||Vv(n,!1,e),Vv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ih]||(t[ih]=!0,Vv("selectionchange",!1,t))}}function eM(e,t,n,r){switch($D(t)){case 1:var i=SB;break;case 4:i=NB;break;default:i=Rw}n=i.bind(null,t,n,e),i=void 0,!wy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=zl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}SD(function(){var c=a,d=_w(n),f=[];e:{var h=ZD.get(e);if(h!==void 0){var m=zw,p=e;switch(e){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":m=RB;break;case"focusin":p="focus",m=$v;break;case"focusout":p="blur",m=$v;break;case"beforeblur":case"afterblur":m=$v;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=a2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UB;break;case GD:case YD:case XD:m=TB;break;case QD:m=WB;break;case"scroll":m=CB;break;case"wheel":m=qB;break;case"copy":case"cut":case"paste":m=MB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=o2}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=af(b,v),S!=null&&g.push(ff(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==yy&&(p=n.relatedTarget||n.fromElement)&&(zl(p)||p[lo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?zl(p):null,p!==null&&(y=kc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=a2,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=o2,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=m==null?h:eu(m),w=p==null?h:eu(p),h=new g(S,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,S=null,zl(d)===c&&(g=new g(v,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,m&&p)t:{for(g=m,v=p,b=0,w=g;w;w=Rc(w))b++;for(w=0,S=v;S;S=Rc(S))w++;for(;0<b-w;)g=Rc(g),b--;for(;0<w-b;)v=Rc(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Rc(g),v=Rc(v)}g=null}else g=null;m!==null&&x2(f,h,m,g,!1),p!==null&&y!==null&&x2(f,y,p,g,!0)}}e:{if(h=c?eu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=JB;else if(u2(h))if(VD)C=rz;else{C=tz;var N=ez}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=nz);if(C&&(C=C(e,c))){UD(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&hy(h,"number",h.value)}switch(N=c?eu(c):window,e){case"focusin":(u2(N)||N.contentEditable==="true")&&(Zc=N,jy=c,zd=null);break;case"focusout":zd=jy=Zc=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,p2(f,n,d);break;case"selectionchange":if(sz)break;case"keydown":case"keyup":p2(f,n,d)}var P;if(Vw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Qc?BD(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(RD&&n.locale!=="ko"&&(Qc||D!=="onCompositionStart"?D==="onCompositionEnd"&&Qc&&(P=FD()):(Wo=d,Bw="value"in Wo?Wo.value:Wo.textContent,Qc=!0)),N=pp(c,D),0<N.length&&(D=new s2(D,e,null,n,d),f.push({event:D,listeners:N}),P?D.data=P:(P=zD(n),P!==null&&(D.data=P)))),(P=GB?YB(e,n):XB(e,n))&&(c=pp(c,"onBeforeInput"),0<c.length&&(d=new s2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=P))}JD(f,t)})}function ff(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=af(e,n),a!=null&&r.unshift(ff(e,a,i)),a=af(e,t),a!=null&&r.push(ff(e,a,i))),e=e.return}return r}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function x2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=af(n,a),l!=null&&s.unshift(ff(n,l,o))):i||(l=af(n,a),l!=null&&s.push(ff(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var uz=/\r\n?/g,dz=/\u0000|\uFFFD/g;function y2(e){return(typeof e=="string"?e:""+e).replace(uz,`
`).replace(dz,"")}function ah(e,t,n){if(t=y2(t),y2(e)!==t&&n)throw Error(Ue(425))}function gp(){}var Ay=null,Ey=null;function Ty(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,fz=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,mz=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(e){return b2.resolve(null).then(e).catch(hz)}:Dy;function hz(e){setTimeout(function(){throw e})}function Hv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lf(t)}function Xo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+qu,mf="__reactProps$"+qu,lo="__reactContainer$"+qu,My="__reactEvents$"+qu,pz="__reactListeners$"+qu,gz="__reactHandles$"+qu;function zl(e){var t=e[Ts];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lo]||n[Ts]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=w2(e);e!==null;){if(n=e[Ts])return n;e=w2(e)}return t}e=n,n=e.parentNode}return null}function Qf(e){return e=e[Ts]||e[lo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Yg(e){return e[mf]||null}var Oy=[],tu=-1;function dl(e){return{current:e}}function Jn(e){0>tu||(e.current=Oy[tu],Oy[tu]=null,tu--)}function Hn(e,t){tu++,Oy[tu]=e.current,e.current=t}var al={},Ai=dl(al),ta=dl(!1),ac=al;function Nu(e,t){var n=e.type.contextTypes;if(!n)return al;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function na(e){return e=e.childContextTypes,e!=null}function vp(){Jn(ta),Jn(Ai)}function k2(e,t,n){if(Ai.current!==al)throw Error(Ue(168));Hn(Ai,t),Hn(ta,n)}function tM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ue(108,eB(e)||"Unknown",i));return xr({},n,r)}function xp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||al,ac=Ai.current,Hn(Ai,e),Hn(ta,ta.current),!0}function S2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=tM(e,t,ac),r.__reactInternalMemoizedMergedChildContext=e,Jn(ta),Jn(Ai),Hn(Ai,e)):Jn(ta),Hn(ta,n)}var qs=null,Xg=!1,qv=!1;function nM(e){qs===null?qs=[e]:qs.push(e)}function vz(e){Xg=!0,nM(e)}function fl(){if(!qv&&qs!==null){qv=!0;var e=0,t=Mn;try{var n=qs;for(Mn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qs=null,Xg=!1}catch(i){throw qs!==null&&(qs=qs.slice(e+1)),PD(Lw,fl),i}finally{Mn=t,qv=!1}}return null}var nu=[],ru=0,yp=null,bp=0,Fa=[],Ra=0,sc=null,Qs=1,Zs="";function Ol(e,t){nu[ru++]=bp,nu[ru++]=yp,yp=e,bp=t}function rM(e,t,n){Fa[Ra++]=Qs,Fa[Ra++]=Zs,Fa[Ra++]=sc,sc=e;var r=Qs;e=Zs;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var a=32-ss(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qs=1<<32-ss(t)+i|n<<i|r,Zs=a+e}else Qs=1<<a|n<<i|r,Zs=e}function Hw(e){e.return!==null&&(Ol(e,1),rM(e,1,0))}function qw(e){for(;e===yp;)yp=nu[--ru],nu[ru]=null,bp=nu[--ru],nu[ru]=null;for(;e===sc;)sc=Fa[--Ra],Fa[Ra]=null,Zs=Fa[--Ra],Fa[Ra]=null,Qs=Fa[--Ra],Fa[Ra]=null}var ya=null,va=null,ar=!1,ns=null;function iM(e,t){var n=za(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function N2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ya=e,va=Xo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ya=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sc!==null?{id:Qs,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=za(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ya=e,va=null,!0):!1;default:return!1}}function Iy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _y(e){if(ar){var t=va;if(t){var n=t;if(!N2(e,t)){if(Iy(e))throw Error(Ue(418));t=Xo(n.nextSibling);var r=ya;t&&N2(e,t)?iM(r,n):(e.flags=e.flags&-4097|2,ar=!1,ya=e)}}else{if(Iy(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,ar=!1,ya=e}}}function C2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ya=e}function sh(e){if(e!==ya)return!1;if(!ar)return C2(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ty(e.type,e.memoizedProps)),t&&(t=va)){if(Iy(e))throw aM(),Error(Ue(418));for(;t;)iM(e,t),t=Xo(t.nextSibling)}if(C2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){va=Xo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}va=null}}else va=ya?Xo(e.stateNode.nextSibling):null;return!0}function aM(){for(var e=va;e;)e=Xo(e.nextSibling)}function Cu(){va=ya=null,ar=!1}function Kw(e){ns===null?ns=[e]:ns.push(e)}var xz=yo.ReactCurrentBatchConfig;function hd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function oh(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j2(e){var t=e._init;return t(e._payload)}function sM(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=el(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,S){return b===null||b.tag!==6?(b=Jv(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var C=w.type;return C===Xc?d(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Lo&&j2(C)===b.type)?(S=i(b,w.props),S.ref=hd(v,b,w),S.return=v,S):(S=Gh(w.type,w.key,w.props,null,v.mode,S),S.ref=hd(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ex(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,S,C){return b===null||b.tag!==7?(b=Zl(w,v.mode,S,C),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jv(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xm:return w=Gh(b.type,b.key,b.props,null,v.mode,w),w.ref=hd(v,null,b),w.return=v,w;case Yc:return b=ex(b,v.mode,w),b.return=v,b;case Lo:var S=b._init;return f(v,S(b._payload),w)}if(Dd(b)||cd(b))return b=Zl(b,v.mode,w,null),b.return=v,b;oh(v,b)}return null}function h(v,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xm:return w.key===C?l(v,b,w,S):null;case Yc:return w.key===C?c(v,b,w,S):null;case Lo:return C=w._init,h(v,b,C(w._payload),S)}if(Dd(w)||cd(w))return C!==null?null:d(v,b,w,S,null);oh(v,w)}return null}function m(v,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(b,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xm:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,C);case Yc:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,C);case Lo:var N=S._init;return m(v,b,w,N(S._payload),C)}if(Dd(S)||cd(S))return v=v.get(w)||null,d(b,v,S,C,null);oh(b,S)}return null}function p(v,b,w,S){for(var C=null,N=null,P=b,D=b=0,_=null;P!==null&&D<w.length;D++){P.index>D?(_=P,P=null):_=P.sibling;var A=h(v,P,w[D],S);if(A===null){P===null&&(P=_);break}e&&P&&A.alternate===null&&t(v,P),b=a(A,b,D),N===null?C=A:N.sibling=A,N=A,P=_}if(D===w.length)return n(v,P),ar&&Ol(v,D),C;if(P===null){for(;D<w.length;D++)P=f(v,w[D],S),P!==null&&(b=a(P,b,D),N===null?C=P:N.sibling=P,N=P);return ar&&Ol(v,D),C}for(P=r(v,P);D<w.length;D++)_=m(P,v,D,w[D],S),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?D:_.key),b=a(_,b,D),N===null?C=_:N.sibling=_,N=_);return e&&P.forEach(function($){return t(v,$)}),ar&&Ol(v,D),C}function g(v,b,w,S){var C=cd(w);if(typeof C!="function")throw Error(Ue(150));if(w=C.call(w),w==null)throw Error(Ue(151));for(var N=C=null,P=b,D=b=0,_=null,A=w.next();P!==null&&!A.done;D++,A=w.next()){P.index>D?(_=P,P=null):_=P.sibling;var $=h(v,P,A.value,S);if($===null){P===null&&(P=_);break}e&&P&&$.alternate===null&&t(v,P),b=a($,b,D),N===null?C=$:N.sibling=$,N=$,P=_}if(A.done)return n(v,P),ar&&Ol(v,D),C;if(P===null){for(;!A.done;D++,A=w.next())A=f(v,A.value,S),A!==null&&(b=a(A,b,D),N===null?C=A:N.sibling=A,N=A);return ar&&Ol(v,D),C}for(P=r(v,P);!A.done;D++,A=w.next())A=m(P,v,D,A.value,S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?D:A.key),b=a(A,b,D),N===null?C=A:N.sibling=A,N=A);return e&&P.forEach(function(M){return t(v,M)}),ar&&Ol(v,D),C}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Xc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xm:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===Xc){if(N.tag===7){n(v,N.sibling),b=i(N,w.props.children),b.return=v,v=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Lo&&j2(C)===N.type){n(v,N.sibling),b=i(N,w.props),b.ref=hd(v,N,w),b.return=v,v=b;break e}n(v,N);break}else t(v,N);N=N.sibling}w.type===Xc?(b=Zl(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=Gh(w.type,w.key,w.props,null,v.mode,S),S.ref=hd(v,b,w),S.return=v,v=S)}return s(v);case Yc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=ex(w,v.mode,S),b.return=v,v=b}return s(v);case Lo:return N=w._init,y(v,b,N(w._payload),S)}if(Dd(w))return p(v,b,w,S);if(cd(w))return g(v,b,w,S);oh(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=Jv(w,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return y}var ju=sM(!0),oM=sM(!1),wp=dl(null),kp=null,iu=null,Gw=null;function Yw(){Gw=iu=kp=null}function Xw(e){var t=wp.current;Jn(wp),e._currentValue=t}function Ly(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vu(e,t){kp=e,Gw=iu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ji=!0),e.firstContext=null)}function Wa(e){var t=e._currentValue;if(Gw!==e)if(e={context:e,memoizedValue:t,next:null},iu===null){if(kp===null)throw Error(Ue(308));iu=e,kp.dependencies={lanes:0,firstContext:e}}else iu=iu.next=e;return t}var Ul=null;function Qw(e){Ul===null?Ul=[e]:Ul.push(e)}function lM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Qw(t)):(n.next=i.next,i.next=n),t.interleaved=n,co(e,r)}function co(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $o=!1;function Zw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,co(e,n)}return i=r.interleaved,i===null?(t.next=t,Qw(r)):(t.next=i.next,i.next=t),r.interleaved=t,co(e,n)}function Uh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$w(e,n)}}function P2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sp(e,t,n,r){var i=e.updateQueue;$o=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=xr({},f,h);break e;case 2:$o=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);lc|=s,e.lanes=s,e.memoizedState=f}}function A2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var Zf={},Os=dl(Zf),hf=dl(Zf),pf=dl(Zf);function Vl(e){if(e===Zf)throw Error(Ue(174));return e}function Jw(e,t){switch(Hn(pf,t),Hn(hf,e),Hn(Os,Zf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gy(t,e)}Jn(Os),Hn(Os,t)}function Pu(){Jn(Os),Jn(hf),Jn(pf)}function uM(e){Vl(pf.current);var t=Vl(Os.current),n=gy(t,e.type);t!==n&&(Hn(hf,e),Hn(Os,n))}function e1(e){hf.current===e&&(Jn(Os),Jn(hf))}var hr=dl(0);function Np(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kv=[];function t1(){for(var e=0;e<Kv.length;e++)Kv[e]._workInProgressVersionPrimary=null;Kv.length=0}var Vh=yo.ReactCurrentDispatcher,Gv=yo.ReactCurrentBatchConfig,oc=0,vr=null,qr=null,ii=null,Cp=!1,Ud=!1,gf=0,yz=0;function yi(){throw Error(Ue(321))}function n1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!us(e[n],t[n]))return!1;return!0}function r1(e,t,n,r,i,a){if(oc=a,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vh.current=e===null||e.memoizedState===null?Sz:Nz,e=n(r,i),Ud){a=0;do{if(Ud=!1,gf=0,25<=a)throw Error(Ue(301));a+=1,ii=qr=null,t.updateQueue=null,Vh.current=Cz,e=n(r,i)}while(Ud)}if(Vh.current=jp,t=qr!==null&&qr.next!==null,oc=0,ii=qr=vr=null,Cp=!1,t)throw Error(Ue(300));return e}function i1(){var e=gf!==0;return gf=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?vr.memoizedState=ii=e:ii=ii.next=e,ii}function Ha(){if(qr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=ii===null?vr.memoizedState:ii.next;if(t!==null)ii=t,qr=e;else{if(e===null)throw Error(Ue(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},ii===null?vr.memoizedState=ii=e:ii=ii.next=e}return ii}function vf(e,t){return typeof t=="function"?t(e):t}function Yv(e){var t=Ha(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=qr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((oc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,vr.lanes|=d,lc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,us(r,t.memoizedState)||(Ji=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,vr.lanes|=a,lc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xv(e){var t=Ha(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);us(a,t.memoizedState)||(Ji=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function dM(){}function fM(e,t){var n=vr,r=Ha(),i=t(),a=!us(r.memoizedState,i);if(a&&(r.memoizedState=i,Ji=!0),r=r.queue,a1(pM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ii!==null&&ii.memoizedState.tag&1){if(n.flags|=2048,xf(9,hM.bind(null,n,r,i,t),void 0,null),ai===null)throw Error(Ue(349));oc&30||mM(n,t,i)}return i}function mM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hM(e,t,n,r){t.value=n,t.getSnapshot=r,gM(t)&&vM(e)}function pM(e,t,n){return n(function(){gM(t)&&vM(e)})}function gM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!us(e,n)}catch{return!0}}function vM(e){var t=co(e,1);t!==null&&os(t,e,1,-1)}function E2(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:e},t.queue=e,e=e.dispatch=kz.bind(null,vr,e),[t.memoizedState,e]}function xf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xM(){return Ha().memoizedState}function Wh(e,t,n,r){var i=Ps();vr.flags|=e,i.memoizedState=xf(1|t,n,void 0,r===void 0?null:r)}function Qg(e,t,n,r){var i=Ha();r=r===void 0?null:r;var a=void 0;if(qr!==null){var s=qr.memoizedState;if(a=s.destroy,r!==null&&n1(r,s.deps)){i.memoizedState=xf(t,n,a,r);return}}vr.flags|=e,i.memoizedState=xf(1|t,n,a,r)}function T2(e,t){return Wh(8390656,8,e,t)}function a1(e,t){return Qg(2048,8,e,t)}function yM(e,t){return Qg(4,2,e,t)}function bM(e,t){return Qg(4,4,e,t)}function wM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kM(e,t,n){return n=n!=null?n.concat([e]):null,Qg(4,4,wM.bind(null,t,e),n)}function s1(){}function SM(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function NM(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function CM(e,t,n){return oc&21?(us(n,t)||(n=TD(),vr.lanes|=n,lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ji=!0),e.memoizedState=n)}function bz(e,t){var n=Mn;Mn=n!==0&&4>n?n:4,e(!0);var r=Gv.transition;Gv.transition={};try{e(!1),t()}finally{Mn=n,Gv.transition=r}}function jM(){return Ha().memoizedState}function wz(e,t,n){var r=Jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PM(e))AM(t,n);else if(n=lM(e,t,n,r),n!==null){var i=Ui();os(n,e,r,i),EM(n,t,r)}}function kz(e,t,n){var r=Jo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PM(e))AM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,us(o,s)){var l=t.interleaved;l===null?(i.next=i,Qw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=lM(e,t,i,r),n!==null&&(i=Ui(),os(n,e,r,i),EM(n,t,r))}}function PM(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function AM(e,t){Ud=Cp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function EM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$w(e,n)}}var jp={readContext:Wa,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},Sz={readContext:Wa,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:Wa,useEffect:T2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4194308,4,wM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wh(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wz.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:E2,useDebugValue:s1,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=E2(!1),t=e[0];return e=bz.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=Ps();if(ar){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ai===null)throw Error(Ue(349));oc&30||mM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,T2(pM.bind(null,r,a,e),[e]),r.flags|=2048,xf(9,hM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ps(),t=ai.identifierPrefix;if(ar){var n=Zs,r=Qs;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nz={readContext:Wa,useCallback:SM,useContext:Wa,useEffect:a1,useImperativeHandle:kM,useInsertionEffect:yM,useLayoutEffect:bM,useMemo:NM,useReducer:Yv,useRef:xM,useState:function(){return Yv(vf)},useDebugValue:s1,useDeferredValue:function(e){var t=Ha();return CM(t,qr.memoizedState,e)},useTransition:function(){var e=Yv(vf)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:dM,useSyncExternalStore:fM,useId:jM,unstable_isNewReconciler:!1},Cz={readContext:Wa,useCallback:SM,useContext:Wa,useEffect:a1,useImperativeHandle:kM,useInsertionEffect:yM,useLayoutEffect:bM,useMemo:NM,useReducer:Xv,useRef:xM,useState:function(){return Xv(vf)},useDebugValue:s1,useDeferredValue:function(e){var t=Ha();return qr===null?t.memoizedState=e:CM(t,qr.memoizedState,e)},useTransition:function(){var e=Xv(vf)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:dM,useSyncExternalStore:fM,useId:jM,unstable_isNewReconciler:!1};function es(e,t){if(e&&e.defaultProps){t=xr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $y(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zg={isMounted:function(e){return(e=e._reactInternals)?kc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ui(),i=Jo(e),a=no(r,i);a.payload=t,n!=null&&(a.callback=n),t=Qo(e,a,i),t!==null&&(os(t,e,i,r),Uh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ui(),i=Jo(e),a=no(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qo(e,a,i),t!==null&&(os(t,e,i,r),Uh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ui(),r=Jo(e),i=no(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qo(e,i,r),t!==null&&(os(t,e,r,n),Uh(t,e,r))}};function D2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!uf(n,r)||!uf(i,a):!0}function TM(e,t,n){var r=!1,i=al,a=t.contextType;return typeof a=="object"&&a!==null?a=Wa(a):(i=na(t)?ac:Ai.current,r=t.contextTypes,a=(r=r!=null)?Nu(e,i):al),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function M2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zg.enqueueReplaceState(t,t.state,null)}function Fy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Zw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Wa(a):(a=na(t)?ac:Ai.current,i.context=Nu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($y(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Zg.enqueueReplaceState(i,i.state,null),Sp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Au(e,t){try{var n="",r=t;do n+=JR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ry(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jz=typeof WeakMap=="function"?WeakMap:Map;function DM(e,t,n){n=no(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ap||(Ap=!0,Yy=r),Ry(e,t)},n}function MM(e,t,n){n=no(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ry(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ry(e,t),typeof r!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function O2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Bz.bind(null,e,t,n),t.then(e,e))}function I2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=no(-1,1),t.tag=2,Qo(n,t,1))),n.lanes|=1),e)}var Pz=yo.ReactCurrentOwner,Ji=!1;function Ri(e,t,n,r){t.child=e===null?oM(t,null,n,r):ju(t,e.child,n,r)}function L2(e,t,n,r,i){n=n.render;var a=t.ref;return vu(t,i),r=r1(e,t,n,r,a,i),n=i1(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uo(e,t,i)):(ar&&n&&Hw(t),t.flags|=1,Ri(e,t,r,i),t.child)}function $2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!h1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,OM(e,t,a,r,i)):(e=Gh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:uf,n(s,r)&&e.ref===t.ref)return uo(e,t,i)}return t.flags|=1,e=el(a,r),e.ref=t.ref,e.return=t,t.child=e}function OM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(uf(a,r)&&e.ref===t.ref)if(Ji=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ji=!0);else return t.lanes=e.lanes,uo(e,t,i)}return By(e,t,n,r,i)}function IM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(su,ha),ha|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(su,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Hn(su,ha),ha|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Hn(su,ha),ha|=r;return Ri(e,t,i,n),t.child}function _M(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function By(e,t,n,r,i){var a=na(n)?ac:Ai.current;return a=Nu(t,a),vu(t,i),n=r1(e,t,n,r,a,i),r=i1(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uo(e,t,i)):(ar&&r&&Hw(t),t.flags|=1,Ri(e,t,n,i),t.child)}function F2(e,t,n,r,i){if(na(n)){var a=!0;xp(t)}else a=!1;if(vu(t,i),t.stateNode===null)Hh(e,t),TM(t,n,r),Fy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wa(c):(c=na(n)?ac:Ai.current,c=Nu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&M2(t,s,r,c),$o=!1;var h=t.memoizedState;s.state=h,Sp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ta.current||$o?(typeof d=="function"&&($y(t,n,d,r),l=t.memoizedState),(o=$o||D2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,cM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:es(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wa(l):(l=na(n)?ac:Ai.current,l=Nu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&M2(t,s,r,l),$o=!1,h=t.memoizedState,s.state=h,Sp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ta.current||$o?(typeof m=="function"&&($y(t,n,m,r),p=t.memoizedState),(c=$o||D2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return zy(e,t,n,r,a,i)}function zy(e,t,n,r,i,a){_M(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&S2(t,n,!1),uo(e,t,a);r=t.stateNode,Pz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ju(t,e.child,null,a),t.child=ju(t,null,o,a)):Ri(e,t,o,a),t.memoizedState=r.state,i&&S2(t,n,!0),t.child}function LM(e){var t=e.stateNode;t.pendingContext?k2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k2(e,t.context,!1),Jw(e,t.containerInfo)}function R2(e,t,n,r,i){return Cu(),Kw(i),t.flags|=256,Ri(e,t,n,r),t.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function Vy(e){return{baseLanes:e,cachePool:null,transitions:null}}function $M(e,t,n){var r=t.pendingProps,i=hr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Hn(hr,i&1),e===null)return _y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=t0(s,r,0,null),e=Zl(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vy(n),t.memoizedState=Uy,e):o1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Az(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=el(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=el(o,a):(a=Zl(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Vy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Uy,r}return a=e.child,e=a.sibling,r=el(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o1(e,t){return t=t0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lh(e,t,n,r){return r!==null&&Kw(r),ju(t,e.child,null,n),e=o1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Az(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Qv(Error(Ue(422))),lh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=t0({mode:"visible",children:r.children},i,0,null),a=Zl(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ju(t,e.child,null,s),t.child.memoizedState=Vy(s),t.memoizedState=Uy,a);if(!(t.mode&1))return lh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ue(419)),r=Qv(a,r,void 0),lh(e,t,s,r)}if(o=(s&e.childLanes)!==0,Ji||o){if(r=ai,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,co(e,i),os(r,e,i,-1))}return m1(),r=Qv(Error(Ue(421))),lh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,va=Xo(i.nextSibling),ya=t,ar=!0,ns=null,e!==null&&(Fa[Ra++]=Qs,Fa[Ra++]=Zs,Fa[Ra++]=sc,Qs=e.id,Zs=e.overflow,sc=t),t=o1(t,r.children),t.flags|=4096,t)}function B2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ly(e.return,t,n)}function Zv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function FM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ri(e,t,r.children,n),r=hr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B2(e,n,t);else if(e.tag===19)B2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hn(hr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Np(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Np(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zv(t,!0,n,null,a);break;case"together":Zv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=el(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=el(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ez(e,t,n){switch(t.tag){case 3:LM(t),Cu();break;case 5:uM(t);break;case 1:na(t.type)&&xp(t);break;case 4:Jw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Hn(wp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hn(hr,hr.current&1),t.flags|=128,null):n&t.child.childLanes?$M(e,t,n):(Hn(hr,hr.current&1),e=uo(e,t,n),e!==null?e.sibling:null);Hn(hr,hr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hn(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,IM(e,t,n)}return uo(e,t,n)}var RM,Wy,BM,zM;RM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wy=function(){};BM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vl(Os.current);var a=null;switch(n){case"input":i=fy(e,i),r=fy(e,r),a=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),a=[];break;case"textarea":i=py(e,i),r=py(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gp)}vy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};zM=function(e,t,n,r){n!==r&&(t.flags|=4)};function pd(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tz(e,t,n){var r=t.pendingProps;switch(qw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(t),null;case 1:return na(t.type)&&vp(),bi(t),null;case 3:return r=t.stateNode,Pu(),Jn(ta),Jn(Ai),t1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ns!==null&&(Zy(ns),ns=null))),Wy(e,t),bi(t),null;case 5:e1(t);var i=Vl(pf.current);if(n=t.type,e!==null&&t.stateNode!=null)BM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return bi(t),null}if(e=Vl(Os.current),sh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ts]=t,r[mf]=a,e=(t.mode&1)!==0,n){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(i=0;i<Od.length;i++)Qn(Od[i],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":YN(r,a),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qn("invalid",r);break;case"textarea":QN(r,a),Qn("invalid",r)}vy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ah(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ah(r.textContent,o,e),i=["children",""+o]):nf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Qn("scroll",r)}switch(n){case"input":Qm(r),XN(r,a,!0);break;case"textarea":Qm(r),ZN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=gp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ts]=t,e[mf]=r,RM(e,t,!1,!1),t.stateNode=e;e:{switch(s=xy(n,r),n){case"dialog":Qn("cancel",e),Qn("close",e),i=r;break;case"iframe":case"object":case"embed":Qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Od.length;i++)Qn(Od[i],e);i=r;break;case"source":Qn("error",e),i=r;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),i=r;break;case"details":Qn("toggle",e),i=r;break;case"input":YN(e,r),i=fy(e,r),Qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),Qn("invalid",e);break;case"textarea":QN(e,r),i=py(e,r),Qn("invalid",e);break;default:i=r}vy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?xD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rf(e,l):typeof l=="number"&&rf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(nf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Qn("scroll",e):l!=null&&Dw(e,a,l,s))}switch(n){case"input":Qm(e),XN(e,r,!1);break;case"textarea":Qm(e),ZN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+il(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?mu(e,!!r.multiple,a,!1):r.defaultValue!=null&&mu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bi(t),null;case 6:if(e&&t.stateNode!=null)zM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=Vl(pf.current),Vl(Os.current),sh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ts]=t,(a=r.nodeValue!==n)&&(e=ya,e!==null))switch(e.tag){case 3:ah(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ah(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ts]=t,t.stateNode=r}return bi(t),null;case 13:if(Jn(hr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&va!==null&&t.mode&1&&!(t.flags&128))aM(),Cu(),t.flags|=98560,a=!1;else if(a=sh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[Ts]=t}else Cu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bi(t),a=!1}else ns!==null&&(Zy(ns),ns=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Gr===0&&(Gr=3):m1())),t.updateQueue!==null&&(t.flags|=4),bi(t),null);case 4:return Pu(),Wy(e,t),e===null&&df(t.stateNode.containerInfo),bi(t),null;case 10:return Xw(t.type._context),bi(t),null;case 17:return na(t.type)&&vp(),bi(t),null;case 19:if(Jn(hr),a=t.memoizedState,a===null)return bi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)pd(a,!1);else{if(Gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Np(e),s!==null){for(t.flags|=128,pd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn(hr,hr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Tr()>Eu&&(t.flags|=128,r=!0,pd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Np(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ar)return bi(t),null}else 2*Tr()-a.renderingStartTime>Eu&&n!==1073741824&&(t.flags|=128,r=!0,pd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Tr(),t.sibling=null,n=hr.current,Hn(hr,r?n&1|2:n&1),t):(bi(t),null);case 22:case 23:return f1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ha&1073741824&&(bi(t),t.subtreeFlags&6&&(t.flags|=8192)):bi(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function Dz(e,t){switch(qw(t),t.tag){case 1:return na(t.type)&&vp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pu(),Jn(ta),Jn(Ai),t1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e1(t),null;case 13:if(Jn(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Cu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(hr),null;case 4:return Pu(),null;case 10:return Xw(t.type._context),null;case 22:case 23:return f1(),null;case 24:return null;default:return null}}var ch=!1,Si=!1,Mz=typeof WeakSet=="function"?WeakSet:Set,ut=null;function au(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function Hy(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var z2=!1;function Oz(e,t){if(Ay=mp,e=qD(),Ww(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ey={focusedElem:e,selectionRange:n},mp=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:es(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(S){Cr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return p=z2,z2=!1,p}function Vd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Hy(t,n,a)}i=i.next}while(i!==r)}}function Jg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function UM(e){var t=e.alternate;t!==null&&(e.alternate=null,UM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ts],delete t[mf],delete t[My],delete t[pz],delete t[gz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VM(e){return e.tag===5||e.tag===3||e.tag===4}function U2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ky(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gp));else if(r!==4&&(e=e.child,e!==null))for(Ky(e,t,n),e=e.sibling;e!==null;)Ky(e,t,n),e=e.sibling}function Gy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gy(e,t,n),e=e.sibling;e!==null;)Gy(e,t,n),e=e.sibling}var mi=null,ts=!1;function Mo(e,t,n){for(n=n.child;n!==null;)WM(e,t,n),n=n.sibling}function WM(e,t,n){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Hg,n)}catch{}switch(n.tag){case 5:Si||au(n,t);case 6:var r=mi,i=ts;mi=null,Mo(e,t,n),mi=r,ts=i,mi!==null&&(ts?(e=mi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mi.removeChild(n.stateNode));break;case 18:mi!==null&&(ts?(e=mi,n=n.stateNode,e.nodeType===8?Hv(e.parentNode,n):e.nodeType===1&&Hv(e,n),lf(e)):Hv(mi,n.stateNode));break;case 4:r=mi,i=ts,mi=n.stateNode.containerInfo,ts=!0,Mo(e,t,n),mi=r,ts=i;break;case 0:case 11:case 14:case 15:if(!Si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Hy(n,t,s),i=i.next}while(i!==r)}Mo(e,t,n);break;case 1:if(!Si&&(au(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cr(n,t,o)}Mo(e,t,n);break;case 21:Mo(e,t,n);break;case 22:n.mode&1?(Si=(r=Si)||n.memoizedState!==null,Mo(e,t,n),Si=r):Mo(e,t,n);break;default:Mo(e,t,n)}}function V2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mz),t.forEach(function(r){var i=Uz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ja(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:mi=o.stateNode,ts=!1;break e;case 3:mi=o.stateNode.containerInfo,ts=!0;break e;case 4:mi=o.stateNode.containerInfo,ts=!0;break e}o=o.return}if(mi===null)throw Error(Ue(160));WM(a,s,i),mi=null,ts=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HM(t,e),t=t.sibling}function HM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),Ss(e),r&4){try{Vd(3,e,e.return),Jg(3,e)}catch(g){Cr(e,e.return,g)}try{Vd(5,e,e.return)}catch(g){Cr(e,e.return,g)}}break;case 1:Ja(t,e),Ss(e),r&512&&n!==null&&au(n,n.return);break;case 5:if(Ja(t,e),Ss(e),r&512&&n!==null&&au(n,n.return),e.flags&32){var i=e.stateNode;try{rf(i,"")}catch(g){Cr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&mD(i,a),xy(o,s);var c=xy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?xD(i,f):d==="dangerouslySetInnerHTML"?gD(i,f):d==="children"?rf(i,f):Dw(i,d,f,c)}switch(o){case"input":my(i,a);break;case"textarea":hD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?mu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?mu(i,!!a.multiple,a.defaultValue,!0):mu(i,!!a.multiple,a.multiple?[]:"",!1))}i[mf]=a}catch(g){Cr(e,e.return,g)}}break;case 6:if(Ja(t,e),Ss(e),r&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cr(e,e.return,g)}}break;case 3:if(Ja(t,e),Ss(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lf(t.containerInfo)}catch(g){Cr(e,e.return,g)}break;case 4:Ja(t,e),Ss(e);break;case 13:Ja(t,e),Ss(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(u1=Tr())),r&4&&V2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Si=(c=Si)||d,Ja(t,e),Si=c):Ja(t,e),Ss(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ut=e,d=e.child;d!==null;){for(f=ut=d;ut!==null;){switch(h=ut,m=h.child,h.tag){case 0:case 11:case 14:case 15:Vd(4,h,h.return);break;case 1:au(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cr(r,n,g)}}break;case 5:au(h,h.return);break;case 22:if(h.memoizedState!==null){H2(f);continue}}m!==null?(m.return=h,ut=m):H2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=vD("display",s))}catch(g){Cr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Cr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ja(t,e),Ss(e),r&4&&V2(e);break;case 21:break;default:Ja(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(VM(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rf(i,""),r.flags&=-33);var a=U2(e);Gy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=U2(e);Ky(e,o,s);break;default:throw Error(Ue(161))}}catch(l){Cr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iz(e,t,n){ut=e,qM(e)}function qM(e,t,n){for(var r=(e.mode&1)!==0;ut!==null;){var i=ut,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ch;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Si;o=ch;var c=Si;if(ch=s,(Si=l)&&!c)for(ut=i;ut!==null;)s=ut,l=s.child,s.tag===22&&s.memoizedState!==null?q2(i):l!==null?(l.return=s,ut=l):q2(i);for(;a!==null;)ut=a,qM(a),a=a.sibling;ut=i,ch=o,Si=c}W2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ut=a):W2(e)}}function W2(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Si||Jg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Si)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:es(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&A2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}A2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Si||t.flags&512&&qy(t)}catch(h){Cr(t,t.return,h)}}if(t===e){ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}}function H2(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ut=n;break}ut=t.return}}function q2(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jg(4,t)}catch(l){Cr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Cr(t,i,l)}}var a=t.return;try{qy(t)}catch(l){Cr(t,a,l)}break;case 5:var s=t.return;try{qy(t)}catch(l){Cr(t,s,l)}}}catch(l){Cr(t,t.return,l)}if(t===e){ut=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ut=o;break}ut=t.return}}var _z=Math.ceil,Pp=yo.ReactCurrentDispatcher,l1=yo.ReactCurrentOwner,Va=yo.ReactCurrentBatchConfig,bn=0,ai=null,Fr=null,gi=0,ha=0,su=dl(0),Gr=0,yf=null,lc=0,e0=0,c1=0,Wd=null,Zi=null,u1=0,Eu=1/0,Hs=null,Ap=!1,Yy=null,Zo=null,uh=!1,Ho=null,Ep=0,Hd=0,Xy=null,qh=-1,Kh=0;function Ui(){return bn&6?Tr():qh!==-1?qh:qh=Tr()}function Jo(e){return e.mode&1?bn&2&&gi!==0?gi&-gi:xz.transition!==null?(Kh===0&&(Kh=TD()),Kh):(e=Mn,e!==0||(e=window.event,e=e===void 0?16:$D(e.type)),e):1}function os(e,t,n,r){if(50<Hd)throw Hd=0,Xy=null,Error(Ue(185));Yf(e,n,r),(!(bn&2)||e!==ai)&&(e===ai&&(!(bn&2)&&(e0|=n),Gr===4&&Uo(e,gi)),ra(e,r),n===1&&bn===0&&!(t.mode&1)&&(Eu=Tr()+500,Xg&&fl()))}function ra(e,t){var n=e.callbackNode;xB(e,t);var r=fp(e,e===ai?gi:0);if(r===0)n!==null&&t2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&t2(n),t===1)e.tag===0?vz(K2.bind(null,e)):nM(K2.bind(null,e)),mz(function(){!(bn&6)&&fl()}),n=null;else{switch(DD(r)){case 1:n=Lw;break;case 4:n=AD;break;case 16:n=dp;break;case 536870912:n=ED;break;default:n=dp}n=eO(n,KM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KM(e,t){if(qh=-1,Kh=0,bn&6)throw Error(Ue(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=fp(e,e===ai?gi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Tp(e,r);else{t=r;var i=bn;bn|=2;var a=YM();(ai!==e||gi!==t)&&(Hs=null,Eu=Tr()+500,Ql(e,t));do try{Fz();break}catch(o){GM(e,o)}while(!0);Yw(),Pp.current=a,bn=i,Fr!==null?t=0:(ai=null,gi=0,t=Gr)}if(t!==0){if(t===2&&(i=Sy(e),i!==0&&(r=i,t=Qy(e,i))),t===1)throw n=yf,Ql(e,0),Uo(e,r),ra(e,Tr()),n;if(t===6)Uo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Lz(i)&&(t=Tp(e,r),t===2&&(a=Sy(e),a!==0&&(r=a,t=Qy(e,a))),t===1))throw n=yf,Ql(e,0),Uo(e,r),ra(e,Tr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:Il(e,Zi,Hs);break;case 3:if(Uo(e,r),(r&130023424)===r&&(t=u1+500-Tr(),10<t)){if(fp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ui(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dy(Il.bind(null,e,Zi,Hs),t);break}Il(e,Zi,Hs);break;case 4:if(Uo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ss(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_z(r/1960))-r,10<r){e.timeoutHandle=Dy(Il.bind(null,e,Zi,Hs),r);break}Il(e,Zi,Hs);break;case 5:Il(e,Zi,Hs);break;default:throw Error(Ue(329))}}}return ra(e,Tr()),e.callbackNode===n?KM.bind(null,e):null}function Qy(e,t){var n=Wd;return e.current.memoizedState.isDehydrated&&(Ql(e,t).flags|=256),e=Tp(e,t),e!==2&&(t=Zi,Zi=n,t!==null&&Zy(t)),e}function Zy(e){Zi===null?Zi=e:Zi.push.apply(Zi,e)}function Lz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!us(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uo(e,t){for(t&=~c1,t&=~e0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ss(t),r=1<<n;e[n]=-1,t&=~r}}function K2(e){if(bn&6)throw Error(Ue(327));xu();var t=fp(e,0);if(!(t&1))return ra(e,Tr()),null;var n=Tp(e,t);if(e.tag!==0&&n===2){var r=Sy(e);r!==0&&(t=r,n=Qy(e,r))}if(n===1)throw n=yf,Ql(e,0),Uo(e,t),ra(e,Tr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,Zi,Hs),ra(e,Tr()),null}function d1(e,t){var n=bn;bn|=1;try{return e(t)}finally{bn=n,bn===0&&(Eu=Tr()+500,Xg&&fl())}}function cc(e){Ho!==null&&Ho.tag===0&&!(bn&6)&&xu();var t=bn;bn|=1;var n=Va.transition,r=Mn;try{if(Va.transition=null,Mn=1,e)return e()}finally{Mn=r,Va.transition=n,bn=t,!(bn&6)&&fl()}}function f1(){ha=su.current,Jn(su)}function Ql(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fz(n)),Fr!==null)for(n=Fr.return;n!==null;){var r=n;switch(qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vp();break;case 3:Pu(),Jn(ta),Jn(Ai),t1();break;case 5:e1(r);break;case 4:Pu();break;case 13:Jn(hr);break;case 19:Jn(hr);break;case 10:Xw(r.type._context);break;case 22:case 23:f1()}n=n.return}if(ai=e,Fr=e=el(e.current,null),gi=ha=t,Gr=0,yf=null,c1=e0=lc=0,Zi=Wd=null,Ul!==null){for(t=0;t<Ul.length;t++)if(n=Ul[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ul=null}return e}function GM(e,t){do{var n=Fr;try{if(Yw(),Vh.current=jp,Cp){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cp=!1}if(oc=0,ii=qr=vr=null,Ud=!1,gf=0,l1.current=null,n===null||n.return===null){Gr=1,yf=t,Fr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=gi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=I2(s);if(m!==null){m.flags&=-257,_2(m,s,o,a,t),m.mode&1&&O2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){O2(a,c,t),m1();break e}l=Error(Ue(426))}}else if(ar&&o.mode&1){var y=I2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_2(y,s,o,a,t),Kw(Au(l,o));break e}}a=l=Au(l,o),Gr!==4&&(Gr=2),Wd===null?Wd=[a]:Wd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=DM(a,l,t);P2(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zo===null||!Zo.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=MM(a,o,t);P2(a,S);break e}}a=a.return}while(a!==null)}QM(n)}catch(C){t=C,Fr===n&&n!==null&&(Fr=n=n.return);continue}break}while(!0)}function YM(){var e=Pp.current;return Pp.current=jp,e===null?jp:e}function m1(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),ai===null||!(lc&268435455)&&!(e0&268435455)||Uo(ai,gi)}function Tp(e,t){var n=bn;bn|=2;var r=YM();(ai!==e||gi!==t)&&(Hs=null,Ql(e,t));do try{$z();break}catch(i){GM(e,i)}while(!0);if(Yw(),bn=n,Pp.current=r,Fr!==null)throw Error(Ue(261));return ai=null,gi=0,Gr}function $z(){for(;Fr!==null;)XM(Fr)}function Fz(){for(;Fr!==null&&!cB();)XM(Fr)}function XM(e){var t=JM(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?QM(e):Fr=t,l1.current=null}function QM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dz(n,t),n!==null){n.flags&=32767,Fr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gr=6,Fr=null;return}}else if(n=Tz(n,t,ha),n!==null){Fr=n;return}if(t=t.sibling,t!==null){Fr=t;return}Fr=t=e}while(t!==null);Gr===0&&(Gr=5)}function Il(e,t,n){var r=Mn,i=Va.transition;try{Va.transition=null,Mn=1,Rz(e,t,n,r)}finally{Va.transition=i,Mn=r}return null}function Rz(e,t,n,r){do xu();while(Ho!==null);if(bn&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(yB(e,a),e===ai&&(Fr=ai=null,gi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uh||(uh=!0,eO(dp,function(){return xu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Va.transition,Va.transition=null;var s=Mn;Mn=1;var o=bn;bn|=4,l1.current=null,Oz(e,n),HM(n,e),az(Ey),mp=!!Ay,Ey=Ay=null,e.current=n,Iz(n),uB(),bn=o,Mn=s,Va.transition=a}else e.current=n;if(uh&&(uh=!1,Ho=e,Ep=i),a=e.pendingLanes,a===0&&(Zo=null),mB(n.stateNode),ra(e,Tr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ap)throw Ap=!1,e=Yy,Yy=null,e;return Ep&1&&e.tag!==0&&xu(),a=e.pendingLanes,a&1?e===Xy?Hd++:(Hd=0,Xy=e):Hd=0,fl(),null}function xu(){if(Ho!==null){var e=DD(Ep),t=Va.transition,n=Mn;try{if(Va.transition=null,Mn=16>e?16:e,Ho===null)var r=!1;else{if(e=Ho,Ho=null,Ep=0,bn&6)throw Error(Ue(331));var i=bn;for(bn|=4,ut=e.current;ut!==null;){var a=ut,s=a.child;if(ut.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ut=c;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Vd(8,d,a)}var f=d.child;if(f!==null)f.return=d,ut=f;else for(;ut!==null;){d=ut;var h=d.sibling,m=d.return;if(UM(d),d===c){ut=null;break}if(h!==null){h.return=m,ut=h;break}ut=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ut=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ut=s;else e:for(;ut!==null;){if(a=ut,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vd(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ut=v;break e}ut=a.return}}var b=e.current;for(ut=b;ut!==null;){s=ut;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ut=w;else e:for(s=b;ut!==null;){if(o=ut,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Jg(9,o)}}catch(C){Cr(o,o.return,C)}if(o===s){ut=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ut=S;break e}ut=o.return}}if(bn=i,fl(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Hg,e)}catch{}r=!0}return r}finally{Mn=n,Va.transition=t}}return!1}function G2(e,t,n){t=Au(n,t),t=DM(e,t,1),e=Qo(e,t,1),t=Ui(),e!==null&&(Yf(e,1,t),ra(e,t))}function Cr(e,t,n){if(e.tag===3)G2(e,e,n);else for(;t!==null;){if(t.tag===3){G2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zo===null||!Zo.has(r))){e=Au(n,e),e=MM(t,e,1),t=Qo(t,e,1),e=Ui(),t!==null&&(Yf(t,1,e),ra(t,e));break}}t=t.return}}function Bz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ui(),e.pingedLanes|=e.suspendedLanes&n,ai===e&&(gi&n)===n&&(Gr===4||Gr===3&&(gi&130023424)===gi&&500>Tr()-u1?Ql(e,0):c1|=n),ra(e,t)}function ZM(e,t){t===0&&(e.mode&1?(t=eh,eh<<=1,!(eh&130023424)&&(eh=4194304)):t=1);var n=Ui();e=co(e,t),e!==null&&(Yf(e,t,n),ra(e,n))}function zz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZM(e,n)}function Uz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),ZM(e,n)}var JM;JM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ta.current)Ji=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ji=!1,Ez(e,t,n);Ji=!!(e.flags&131072)}else Ji=!1,ar&&t.flags&1048576&&rM(t,bp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hh(e,t),e=t.pendingProps;var i=Nu(t,Ai.current);vu(t,n),i=r1(null,t,r,e,i,n);var a=i1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(r)?(a=!0,xp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zw(t),i.updater=Zg,t.stateNode=i,i._reactInternals=t,Fy(t,r,e,n),t=zy(null,t,r,!0,a,n)):(t.tag=0,ar&&a&&Hw(t),Ri(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Wz(r),e=es(r,e),i){case 0:t=By(null,t,r,e,n);break e;case 1:t=F2(null,t,r,e,n);break e;case 11:t=L2(null,t,r,e,n);break e;case 14:t=$2(null,t,r,es(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),By(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),F2(e,t,r,i,n);case 3:e:{if(LM(t),e===null)throw Error(Ue(387));r=t.pendingProps,a=t.memoizedState,i=a.element,cM(e,t),Sp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Au(Error(Ue(423)),t),t=R2(e,t,r,n,i);break e}else if(r!==i){i=Au(Error(Ue(424)),t),t=R2(e,t,r,n,i);break e}else for(va=Xo(t.stateNode.containerInfo.firstChild),ya=t,ar=!0,ns=null,n=oM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cu(),r===i){t=uo(e,t,n);break e}Ri(e,t,r,n)}t=t.child}return t;case 5:return uM(t),e===null&&_y(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Ty(r,i)?s=null:a!==null&&Ty(r,a)&&(t.flags|=32),_M(e,t),Ri(e,t,s,n),t.child;case 6:return e===null&&_y(t),null;case 13:return $M(e,t,n);case 4:return Jw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ju(t,null,r,n):Ri(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),L2(e,t,r,i,n);case 7:return Ri(e,t,t.pendingProps,n),t.child;case 8:return Ri(e,t,t.pendingProps.children,n),t.child;case 12:return Ri(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Hn(wp,r._currentValue),r._currentValue=s,a!==null)if(us(a.value,s)){if(a.children===i.children&&!ta.current){t=uo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=no(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ly(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ue(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ly(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ri(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vu(t,n),i=Wa(i),r=r(i),t.flags|=1,Ri(e,t,r,n),t.child;case 14:return r=t.type,i=es(r,t.pendingProps),i=es(r.type,i),$2(e,t,r,i,n);case 15:return OM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:es(r,i),Hh(e,t),t.tag=1,na(r)?(e=!0,xp(t)):e=!1,vu(t,n),TM(t,r,i),Fy(t,r,i,n),zy(null,t,r,!0,e,n);case 19:return FM(e,t,n);case 22:return IM(e,t,n)}throw Error(Ue(156,t.tag))};function eO(e,t){return PD(e,t)}function Vz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,n,r){return new Vz(e,t,n,r)}function h1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wz(e){if(typeof e=="function")return h1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ow)return 11;if(e===Iw)return 14}return 2}function el(e,t){var n=e.alternate;return n===null?(n=za(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")h1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Xc:return Zl(n.children,i,a,t);case Mw:s=8,i|=8;break;case ly:return e=za(12,n,t,i|2),e.elementType=ly,e.lanes=a,e;case cy:return e=za(13,n,t,i),e.elementType=cy,e.lanes=a,e;case uy:return e=za(19,n,t,i),e.elementType=uy,e.lanes=a,e;case uD:return t0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lD:s=10;break e;case cD:s=9;break e;case Ow:s=11;break e;case Iw:s=14;break e;case Lo:s=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=za(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Zl(e,t,n,r){return e=za(7,e,r,t),e.lanes=n,e}function t0(e,t,n,r){return e=za(22,e,r,t),e.elementType=uD,e.lanes=n,e.stateNode={isHidden:!1},e}function Jv(e,t,n){return e=za(6,e,null,t),e.lanes=n,e}function ex(e,t,n){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iv(0),this.expirationTimes=Iv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p1(e,t,n,r,i,a,s,o,l){return e=new Hz(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=za(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zw(a),e}function qz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tO(e){if(!e)return al;e=e._reactInternals;e:{if(kc(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(na(n))return tM(e,n,t)}return t}function nO(e,t,n,r,i,a,s,o,l){return e=p1(n,r,!0,e,i,a,s,o,l),e.context=tO(null),n=e.current,r=Ui(),i=Jo(n),a=no(r,i),a.callback=t??null,Qo(n,a,i),e.current.lanes=i,Yf(e,i,r),ra(e,r),e}function n0(e,t,n,r){var i=t.current,a=Ui(),s=Jo(i);return n=tO(n),t.context===null?t.context=n:t.pendingContext=n,t=no(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qo(i,t,s),e!==null&&(os(e,i,s,a),Uh(e,i,s)),s}function Dp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function g1(e,t){Y2(e,t),(e=e.alternate)&&Y2(e,t)}function Kz(){return null}var rO=typeof reportError=="function"?reportError:function(e){console.error(e)};function v1(e){this._internalRoot=e}r0.prototype.render=v1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));n0(e,t,null,null)};r0.prototype.unmount=v1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){n0(null,e,null,null)}),t[lo]=null}};function r0(e){this._internalRoot=e}r0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ID();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zo.length&&t!==0&&t<zo[n].priority;n++);zo.splice(n,0,e),n===0&&LD(e)}};function x1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X2(){}function Gz(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Dp(s);a.call(c)}}var s=nO(t,r,e,0,null,!1,!1,"",X2);return e._reactRootContainer=s,e[lo]=s.current,df(e.nodeType===8?e.parentNode:e),cc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Dp(l);o.call(c)}}var l=p1(e,0,!1,null,null,!1,!1,"",X2);return e._reactRootContainer=l,e[lo]=l.current,df(e.nodeType===8?e.parentNode:e),cc(function(){n0(t,l,n,r)}),l}function a0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Dp(s);o.call(l)}}n0(t,s,e,i)}else s=Gz(n,t,e,i,r);return Dp(s)}MD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Md(t.pendingLanes);n!==0&&($w(t,n|1),ra(t,Tr()),!(bn&6)&&(Eu=Tr()+500,fl()))}break;case 13:cc(function(){var r=co(e,1);if(r!==null){var i=Ui();os(r,e,1,i)}}),g1(e,1)}};Fw=function(e){if(e.tag===13){var t=co(e,134217728);if(t!==null){var n=Ui();os(t,e,134217728,n)}g1(e,134217728)}};OD=function(e){if(e.tag===13){var t=Jo(e),n=co(e,t);if(n!==null){var r=Ui();os(n,e,t,r)}g1(e,t)}};ID=function(){return Mn};_D=function(e,t){var n=Mn;try{return Mn=e,t()}finally{Mn=n}};by=function(e,t,n){switch(t){case"input":if(my(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Yg(r);if(!i)throw Error(Ue(90));fD(r),my(r,i)}}}break;case"textarea":hD(e,n);break;case"select":t=n.value,t!=null&&mu(e,!!n.multiple,t,!1)}};wD=d1;kD=cc;var Yz={usingClientEntryPoint:!1,Events:[Qf,eu,Yg,yD,bD,d1]},gd={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xz={bundleType:gd.bundleType,version:gd.version,rendererPackageName:gd.rendererPackageName,rendererConfig:gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CD(e),e===null?null:e.stateNode},findFiberByHostInstance:gd.findFiberByHostInstance||Kz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Hg=dh.inject(Xz),Ms=dh}catch{}}ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yz;ja.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(t))throw Error(Ue(200));return qz(e,t,null,n)};ja.createRoot=function(e,t){if(!x1(e))throw Error(Ue(299));var n=!1,r="",i=rO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=p1(e,1,!1,null,null,n,!1,r,i),e[lo]=t.current,df(e.nodeType===8?e.parentNode:e),new v1(t)};ja.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=CD(t),e=e===null?null:e.stateNode,e};ja.flushSync=function(e){return cc(e)};ja.hydrate=function(e,t,n){if(!i0(t))throw Error(Ue(200));return a0(null,e,t,!0,n)};ja.hydrateRoot=function(e,t,n){if(!x1(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=rO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=nO(t,null,e,1,n??null,i,!1,a,s),e[lo]=t.current,df(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new r0(t)};ja.render=function(e,t,n){if(!i0(t))throw Error(Ue(200));return a0(null,e,t,!1,n)};ja.unmountComponentAtNode=function(e){if(!i0(e))throw Error(Ue(40));return e._reactRootContainer?(cc(function(){a0(null,null,e,!1,function(){e._reactRootContainer=null,e[lo]=null})}),!0):!1};ja.unstable_batchedUpdates=d1;ja.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!i0(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return a0(e,t,n,!1,r)};ja.version="18.3.1-next-f1338f8080-20240426";function iO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iO)}catch(e){console.error(e)}}iO(),iD.exports=ja;var Ku=iD.exports,Q2=Ku;sy.createRoot=Q2.createRoot,sy.hydrateRoot=Q2.hydrateRoot;const Qz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),aO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],sO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],Zz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],oO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],Jz=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],e6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],t6=new Set([10244]),n6=(e,t)=>{var i;if(t6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return e6.some(a=>r.includes(a))},r6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Z2=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},lO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,cO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},_a=(e,t=2)=>Number.isFinite(e)?lO()&&Math.abs(e)>=1e4?cO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Io=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return lO()&&t>=1e4?cO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var i6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>x.createElement("svg",{ref:c,...i6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${a6(e)}`,...l},[...t.map(([d,f])=>x.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},uO=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),s6=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),y1=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),dO=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),o6=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),l6=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),fO=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Wl=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),c6=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ds=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),u6=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),d6=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),f6=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),bf=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),m6=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),h6=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),mO=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),p6=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),b1=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),g6=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),w1=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),v6=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k1=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Aa=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),J2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),x6=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),y6=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),b6=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),hO=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Tu=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),s0=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),o0=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Mp=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),w6=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),qd=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Jl=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),k6=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Dr=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),S6=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),pO=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ki=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wf=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),S1=({className:e})=>u.jsx(x6,{className:e,strokeWidth:3.2}),Op=({className:e})=>u.jsx(w6,{className:e,style:{transform:"rotate(45deg)"}}),Jf=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},N1=({className:e=""})=>{const t=Jf("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},C1=({className:e=""})=>{const t=Jf("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},j1=({className:e=""})=>{const t=Jf("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},P1=({className:e=""})=>{const t=Jf("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},N6=e=>{const[t,n]=x.useState(!1),[r,i]=x.useState("overview"),a=x.useRef(null),s=x.useRef(null),o=x.useRef(0),l=x.useMemo(()=>[{id:"overview",label:"Overview",icon:Jl,items:[{id:"overview",label:"Overview",icon:Jl},{id:"top-players",label:"Top Players",icon:Jl},{id:"top-skills-outgoing",label:"Top Skills",icon:y1},{id:"timeline",label:"Squad vs Enemy",icon:Dr},{id:"map-distribution",label:"Map Distribution",icon:k1}]},{id:"roster",label:"Roster Intel",icon:bf,items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:bf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Dr},{id:"fight-comp",label:"Fight Comp",icon:qd}]},{id:"offense",label:"Offensive Stats",icon:Op,items:[{id:"offense-detailed",label:"Offense Detailed",icon:Op},{id:"player-breakdown",label:"Player Breakdown",icon:w1},{id:"spike-damage",label:"Spike Damage",icon:wf},{id:"conditions-outgoing",label:"Conditions",icon:s0}]},{id:"defense",label:"Defensive Stats",icon:Tu,items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:b6},{id:"defense-detailed",label:"Defense Detailed",icon:Tu},{id:"defense-mitigation",label:"Damage Mitigation",icon:j1},{id:"support-detailed",label:"Support Detailed",icon:S1},{id:"healing-stats",label:"Healing Stats",icon:mO},{id:"boon-output",label:"Boon Output",icon:C1}]},{id:"other",label:"Other Metrics",icon:Mp,items:[{id:"special-buffs",label:"Special Buffs",icon:Mp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:P1},{id:"skill-usage",label:"Skill Usage",icon:b1},{id:"apm-stats",label:"APM Breakdown",icon:N1}]}],[]),c=x.useMemo(()=>l.flatMap(h=>h.items),[l]),d=h=>{const m=h==="kdr"?"overview":h,p=a.current,g=document.getElementById(m);if(p&&g){const y=p.getBoundingClientRect(),b=g.getBoundingClientRect().top-y.top+p.scrollTop,w=Math.max(0,p.scrollHeight-p.clientHeight),S=Math.min(Math.max(b-16,0),w);p.scrollTo({top:S,behavior:"smooth"}),i(m)}else g&&(g.scrollIntoView({behavior:"smooth",block:"start"}),i(m));n(!1)};x.useEffect(()=>{if(e)return;const h=m=>{const p=a.current;if(!p)return;const g=m.target;if(!(g instanceof Element&&g.closest("[data-stats-mobile-nav]"))&&!(g instanceof Node&&p.contains(g))&&m.deltaY!==0&&!(p.scrollHeight<=p.clientHeight)){if(o.current+=m.deltaY,s.current===null){const y=()=>{const v=o.current;if(Math.abs(v)<.5){o.current=0,s.current=null;return}const b=v*.2;o.current=v-b,p.scrollBy({top:b,behavior:"auto"}),s.current=requestAnimationFrame(y)};s.current=requestAnimationFrame(y)}m.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),o.current=0}},[e]);const f=h=>{var y;const m=Math.max(0,c.findIndex(v=>v.id===r)),p=Math.min(Math.max(m+h,0),c.length-1),g=(y=c[p])==null?void 0:y.id;g&&d(g)};return x.useEffect(()=>{const h=a.current;if(!h)return;let m=0;const p=()=>{var b;const y=h.getBoundingClientRect().top;let v=((b=c[0])==null?void 0:b.id)||"overview";c.forEach(w=>{const S=document.getElementById(w.id);if(!S)return;S.getBoundingClientRect().top-y<=24&&(v=w.id)}),i(w=>w===v?w:v)},g=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(p)};return p(),h.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",g),()=>{m&&cancelAnimationFrame(m),h.removeEventListener("scroll",g),window.removeEventListener("resize",g)}},[c]),{mobileNavOpen:t,setMobileNavOpen:n,activeNavId:r,setActiveNavId:i,scrollContainerRef:a,tocGroups:l,tocItems:c,scrollToSection:d,stepSection:f}},C6=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=x.useState({uploading:!1,message:null,url:null}),[c,d]=x.useState("idle"),f=()=>{const p=new Set;let g=null,y=null;e.forEach(_=>{const A=_.details;if(!A)return;const $=A.timeStartStd||A.timeStart||A.uploadTime||_.uploadTime,M=A.timeEndStd||A.timeEnd||A.uploadTime||_.uploadTime,ee=$?new Date($):null,ne=M?new Date(M):null;ee&&!Number.isNaN(ee.getTime())&&(!g||ee<g)&&(g=ee),ne&&!Number.isNaN(ne.getTime())&&(!y||ne>y)&&(y=ne),(A.players||[]).forEach(q=>{if(!(q!=null&&q.notInSquad)&&q!=null&&q.hasCommanderTag){const H=(q==null?void 0:q.name)||(q==null?void 0:q.account)||"Unknown";p.add(H)}})});const v=Array.from(p).sort((_,A)=>_.localeCompare(A)),b=g||new Date,w=y||b,S=b.toISOString(),C=w.toISOString(),N=`${b.toLocaleString()} - ${w.toLocaleString()}`,P=_=>String(_).padStart(2,"0");return{id:`${b.getFullYear()}${P(b.getMonth()+1)}${P(b.getDate())}-${P(b.getHours())}${P(b.getMinutes())}${P(b.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:v.length?v.join(", "):"Unknown Commander",commanders:v,dateStart:S,dateEnd:C,dateLabel:N,generatedAt:new Date().toISOString()}};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const p=f();await s({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(a||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const g=f(),y=await window.electronAPI.mockWebReport({meta:g,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}});y!=null&&y.success?l({uploading:!1,message:"Local report ready.",url:y.url||null}):l({uploading:!1,message:(y==null?void 0:y.error)||"Local report failed.",url:null})}catch(g){l({uploading:!1,message:(g==null?void 0:g.message)||"Local report failed.",url:null})}}}}};function j6(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const P6=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function tl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Bc=null;function gO(e={}){return Bc||(e.includeStyleProperties?(Bc=e.includeStyleProperties,Bc):(Bc=tl(window.getComputedStyle(document.documentElement)),Bc))}function Ip(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function A6(e){const t=Ip(e,"border-left-width"),n=Ip(e,"border-right-width");return e.clientWidth+t+n}function E6(e){const t=Ip(e,"border-top-width"),n=Ip(e,"border-bottom-width");return e.clientHeight+t+n}function vO(e,t={}){const n=t.width||A6(e),r=t.height||E6(e);return{width:n,height:r}}function T6(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fa=16384;function D6(e){(e.width>fa||e.height>fa)&&(e.width>fa&&e.height>fa?e.width>e.height?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa):e.width>fa?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa))}function _p(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function M6(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function O6(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),M6(i)}const ia=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ia(n,t)};function I6(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function _6(e,t){return gO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function L6(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?I6(n):_6(n,r);return document.createTextNode(`${i}{${a}}`)}function eC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=P6();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(L6(s,n,i,r)),t.appendChild(o)}function $6(e,t,n){eC(e,t,":before",n),eC(e,t,":after",n)}const tC="application/font-woff",nC="image/jpeg",F6={woff:tC,woff2:tC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nC,jpeg:nC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function R6(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function A1(e){const t=R6(e).toLowerCase();return F6[t]||""}function B6(e){return e.split(/,/)[1]}function Jy(e){return e.search(/^(data:)/)!==-1}function z6(e,t){return`data:${t};base64,${e}`}async function xO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const tx={};function U6(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function E1(e,t,n){const r=U6(e,t,n.includeQueryParams);if(tx[r]!=null)return tx[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await xO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),B6(o)));i=z6(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return tx[r]=i,i}async function V6(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):_p(t)}async function W6(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return _p(o)}const n=e.poster,r=A1(n),i=await E1(n,r,t);return _p(i)}async function H6(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await l0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function q6(e,t){return ia(e,HTMLCanvasElement)?V6(e):ia(e,HTMLVideoElement)?W6(e,t):ia(e,HTMLIFrameElement)?H6(e,t):e.cloneNode(yO(e))}const K6=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",yO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function G6(e,t,n){var r,i;if(yO(t))return t;let a=[];return K6(e)&&e.assignedNodes?a=tl(e.assignedNodes()):ia(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=tl(e.contentDocument.body.childNodes):a=tl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ia(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>l0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function Y6(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):gO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ia(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function X6(e,t){ia(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ia(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Q6(e,t){if(ia(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function Z6(e,t,n){return ia(t,Element)&&(Y6(e,t,n),$6(e,t,n),X6(e,t),Q6(e,t)),t}async function J6(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await l0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function l0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>q6(r,t)).then(r=>G6(e,r,t)).then(r=>Z6(e,r,t)).then(r=>J6(r,t))}const bO=/url\((['"]?)([^'"]+?)\1\)/g,eU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,tU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function nU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function rU(e){const t=[];return e.replace(bO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Jy(n))}async function iU(e,t,n,r,i){try{const a=n?j6(t,n):t,s=A1(t);let o;return i||(o=await E1(a,s,r)),e.replace(nU(t),`$1${o}$3`)}catch{}return e}function aU(e,{preferredFontFormat:t}){return t?e.replace(tU,n=>{for(;;){const[r,,i]=eU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function wO(e){return e.search(bO)!==-1}async function kO(e,t,n){if(!wO(e))return e;const r=aU(e,n);return rU(r).reduce((a,s)=>a.then(o=>iU(o,s,t,n)),Promise.resolve(r))}async function zc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await kO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function sU(e,t){await zc("background",e,t)||await zc("background-image",e,t),await zc("mask",e,t)||await zc("-webkit-mask",e,t)||await zc("mask-image",e,t)||await zc("-webkit-mask-image",e,t)}async function oU(e,t){const n=ia(e,HTMLImageElement);if(!(n&&!Jy(e.src))&&!(ia(e,SVGImageElement)&&!Jy(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await E1(r,A1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function lU(e,t){const r=tl(e.childNodes).map(i=>SO(i,t));await Promise.all(r).then(()=>e)}async function SO(e,t){ia(e,Element)&&(await sU(e,t),await oU(e,t),await lU(e,t))}function cU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const rC={};async function iC(e){let t=rC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},rC[e]=t,t}async function aC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),xO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function sC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function uU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{tl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=iC(l).then(d=>aC(d,t)).then(d=>sC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(iC(i.href).then(o=>aC(o,t)).then(o=>sC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{tl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function dU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>wO(t.style.getPropertyValue("src")))}async function fU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=tl(e.ownerDocument.styleSheets),r=await uU(n,t);return dU(r)}function NO(e){return e.trim().replace(/["']/g,"")}function mU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(NO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function hU(e,t){const n=await fU(e,t),r=mU(e);return(await Promise.all(n.filter(a=>r.has(NO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return kO(a.cssText,s,t)}))).join(`
`)}async function pU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await hU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function gU(e,t={}){const{width:n,height:r}=vO(e,t),i=await l0(e,t,!0);return await pU(i,t),await SO(i,t),cU(i,t),await O6(i,n,r)}async function vU(e,t={}){const{width:n,height:r}=vO(e,t),i=await gU(e,t),a=await _p(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||T6(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||D6(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function xU(e,t={}){return(await vU(e,t)).toDataURL()}const yU=e=>{const[t,n]=x.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,v=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=v});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let v=g,b=!1;for(const S of y){const C=S[1];if(!C)continue;const N=await c(C);N&&(v=v.replace(S[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=v,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>xU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},oC=["selfBuffs","groupBuffs","squadBuffs"],Ws=(e,t,n=0)=>t?e/t:n,lC=e=>e!=null&&e.classification?e.classification==="Boon":!0,CO=e=>`b${e}`,bU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},jO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},wU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Ws(a-i,i,1):t==="squadBuffs"?h=Ws(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Ws(d,r):Ws(d,r)*100,p=n?Ws(f,r):Ws(f,r)*100;else{const g=Ws(d,r)/(h||1),y=Ws(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},PO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=wU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Ws(i,s):a},kU=(e,t,n,r,i)=>{const a=PO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},SU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,v=h.get(y)||1,b=bU(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=v,w.squadSupported+=f,oC.forEach(S=>{(m[S]||[]).forEach(N=>{var ne,ue,q,H;if(typeof(N==null?void 0:N.id)!="number")return;const P=CO(N.id),D=l[P];if(!lC(D))return;const _=(D==null?void 0:D.stacking)??!1,A=((ue=(ne=N.buffData)==null?void 0:ne[0])==null?void 0:ue.generation)??0,$=((H=(q=N.buffData)==null?void 0:q[0])==null?void 0:H.wasted)??0,{generationMs:M,wastedMs:ee}=jO(S,_,A,$,o,v,f);!M&&!ee||(t.has(P)||t.set(P,D||{}),w.boons[P]||(w.boons[P]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[P][S].generationMs+=M,w.boons[P][S].wastedMs+=ee)})})})}),{boonTables:Array.from(t.keys()).filter(a=>lC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!oC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var v;const y=((v=l.professionTimeMs)==null?void 0:v[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},cC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(v=>v.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[CO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return jO(t,d,f,h,r,i,a)},NU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},CU={methods:NU},jU=CU,T1="count",PU=e=>(e||0)/1e3,AU=(e,t)=>{var i;if(!e)return 0;const n=(i=jU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},AO=(e,t,n)=>n==="duration"?PU(t):n==="tiered"?AU(e,t):e;function EU(e,t=T1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return AO(r,i,t)}function TU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=cC(o,"selfBuffs",1122,n,l,a,r),d=cC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function DU(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function MU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function OU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const IU=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},_U=(e,t=T1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return AO(r,i,t)},LU=e=>DU(e),$U=e=>OU(e),FU=e=>MU(e),RU=(e,t=T1)=>EU(e,t),BU=(e,t)=>TU(e,t),zU="count",EO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},eb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},UU={uploading:!1,message:null,url:null,buildStatus:"idle"},uC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),TO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},fh=e=>{if(e)return TO[e]},kf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=uC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=uC.get(i);if(a)return a}return null},qc=e=>kf(e),DO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=kf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(TO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Yh=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=kf(i);if(a)return a}return e?kf(e):null},VU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},WU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},HU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},qU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||VU,s=DO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let v=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(v=r[`s${y.id}`].name||v,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(v=r[`${y.id}`].name||v,b=r[`${y.id}`].icon||b));const w=Yh(v,y.id,i);if(!w)return;const S=i==null?void 0:i[`b${y.id}`],C=S==null?void 0:S.name,N=s.get(w)||(S==null?void 0:S.icon),P=v.startsWith("Skill ")?C||w:v,D=b||(S==null?void 0:S.icon),_=Number(y.connectedHits??0),A=Number(y.hits??0),$=_>0?_:A,M=Number(y.totalDamage??0);if(!Number.isFinite($)&&!Number.isFinite(M))return;const ee=l[w]||{name:w,icon:N,applications:0,damage:0};ee.applications+=Number.isFinite($)?$:0,ee.damage+=Number.isFinite(M)?M:0,!ee.icon&&N&&(ee.icon=N),l[w]=ee;const ne=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};ne.applications+=Number.isFinite($)?$:0,ne.damage+=Number.isFinite(M)?M:0;const ue=ne.skills[P]||{name:P,hits:0,damage:0,icon:D};ue.hits+=Number.isFinite($)?$:0,ue.damage+=Number.isFinite(M)?M:0,!ue.icon&&D&&(ue.icon=D),ne.skills[P]=ue,!ne.icon&&N&&(ne.icon=N),o[p][w]=ne})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],v=kf(y==null?void 0:y.name);if(!v||y!=null&&y.classification&&y.classification!=="Condition")return;const b=v;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([S,C])=>{var $;const N=c.get(S);if(!N)return;f+=1;const P=WU(C),D=HU(C);d+=P;const _=(($=o[N])==null?void 0:$[b])||{applications:0,damage:0,skills:{}};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+P,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+D,o[N]=o[N]||{},o[N][b]=_;const A=l[b]||{name:b,applications:0,damage:0};A.applicationsFromBuffs=(A.applicationsFromBuffs||0)+P,A.applicationsFromBuffsActive=(A.applicationsFromBuffsActive||0)+D,l[b]=A})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Sf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},KU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ec(e){return Sf[e]||Sf.Unknown}function GU(e){return e?KU[e]||e:"Unknown"}function Hl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Sf[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=GU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const YU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Xi=(e,t)=>YU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),nx=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=(()=>{const f=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0);return console.log("[useStatsAggregation] Filtering logs:",{total:e.length,passed:f.length,statuses:e.map(h=>h.status),hasDetails:e.map(h=>!!h.details)}),f})(),s=r||eb,o=n||EO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=v=>Array.isArray(v)&&v.some(b=>b&&Number(b.count)>0),p=new Map,g=new Map;e.forEach(v=>{var S;const b=(v==null?void 0:v.filePath)||(v==null?void 0:v.id);b&&p.set(String(b),v);const w=(v==null?void 0:v.permalink)||((S=v==null?void 0:v.details)==null?void 0:S.permalink);typeof w=="string"&&w.trim()&&g.set(w.trim(),v)});const y=h.map(v=>{var P;if(!v||typeof v!="object")return v;const b=v.id?String(v.id):"",w=typeof v.permalink=="string"?v.permalink.trim():"",S=(b?p.get(b):void 0)||(w?g.get(w):void 0);if(!S)return v;let C=v;if(Number(v.timestamp)<=0){const D=Xi(S==null?void 0:S.details,S);D&&(C={...C,timestamp:D})}const N=(P=S==null?void 0:S.details)==null?void 0:P.teamBreakdown;return m(N)&&(C={...C,teamBreakdown:N}),C});return{...f,fightBreakdown:y}},c=(()=>{if(t)return l(t);const f=i||zU,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,v=0,b=0,w=0,S=0,C=0,N=0;const P=T=>{const K=((T==null?void 0:T.players)||[]).filter(lt=>!lt.notInSquad);let we=0,me=0,Ve=0,Ne=0;return K.forEach(lt=>{var Xt;const mt=(Xt=lt.defenses)==null?void 0:Xt[0];if(!mt)return;const wt=Number(mt.downCount||0),Gt=Number(mt.deadCount||0);we+=wt+Gt,Ve+=Gt}),K.forEach(lt=>{!lt.statsTargets||lt.statsTargets.length===0||lt.statsTargets.forEach(mt=>{const wt=mt==null?void 0:mt[0];if(!wt)return;const Gt=Number(wt.downed||0),Xt=Number(wt.killed||0);me+=Gt+Xt,Ne+=Xt})}),{squadDownsDeaths:we,enemyDownsDeaths:me,squadDeaths:Ve,enemyDeaths:Ne}},D=T=>{const{squadDownsDeaths:U,enemyDownsDeaths:K}=P(T);return U>0||K>0?K>U:typeof(T==null?void 0:T.success)=="boolean"?T.success:!1},_=new Map,A=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),$={},M={},ee=new Map,ne={},ue={},q={},H=new Map,W=new Map,re=new Set(Object.keys(Sf)),E=Object.keys(Sf).filter(T=>T&&T!=="Unknown").sort((T,U)=>U.length-T.length),j=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],V=T=>{if(!T)return"Unknown";const U=String(T).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(re.has(U))return U;const K=U.toLowerCase();for(const me of E)if(K.includes(me.toLowerCase()))return me;return j.find(me=>K.includes(me.toLowerCase()))||U||"Unknown"},k=T=>T!=null&&T.classification?T.classification==="Boon":!0,O=new Map,ie=new Map,Z=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),B=T=>{const U=Number(T);return Number.isFinite(U)?U:0},J=T=>{const U=String(T).split("|"),K=U[0]||"Unknown",we=V(U[1]||"Unknown"),me=U[2]||K||"Unknown";return{name:K,profession:we,account:me}},L=(T,U,K)=>{let we=T.get(U);return we?K.profession&&!we.professionList.includes(K.profession)&&we.professionList.push(K.profession):(we={account:K.account,name:K.name,profession:K.profession,professionList:K.profession?[K.profession]:[],activeMs:0,mitigationTotals:Z()},T.set(U,we)),we},Y=(T,U,K)=>{let we=T.get(U);return we?K.profession&&!we.professionList.includes(K.profession)&&we.professionList.push(K.profession):(we={account:K.account,name:K.name,profession:K.profession,professionList:K.profession?[K.profession]:[],activeMs:0,mitigationTotals:Z(),minion:K.minion},T.set(U,we)),we},oe=(T,U)=>{T.totalHits+=B((U==null?void 0:U.skill_hits)??(U==null?void 0:U.skillHits)),T.blocked+=B(U==null?void 0:U.blocked),T.evaded+=B(U==null?void 0:U.evaded),T.glanced+=B(U==null?void 0:U.glanced),T.missed+=B(U==null?void 0:U.missed),T.invulned+=B(U==null?void 0:U.invulned),T.interrupted+=B(U==null?void 0:U.interrupted),T.totalMitigation+=B((U==null?void 0:U.avoided_damage)??(U==null?void 0:U.avoidedDamage)),T.minMitigation+=B((U==null?void 0:U.min_avoided_damage)??(U==null?void 0:U.minAvoidedDamage))},te=T=>Object.values(T).some(U=>U>0);console.log("[useStatsAggregation] Starting aggregation loop",{validLogsCount:a.length});const z=(T,U,K)=>{var Ve,Ne,lt,mt;const we=`s${T}`;if((Ve=U==null?void 0:U[we])!=null&&Ve.name)return U[we].name;if((Ne=U==null?void 0:U[String(T)])!=null&&Ne.name)return U[String(T)].name;const me=`b${T}`;return(lt=K==null?void 0:K[me])!=null&&lt.name?K[me].name:(mt=K==null?void 0:K[String(T)])!=null&&mt.name?K[String(T)].name:`Unknown Skill ${T}`},R=new Map,I=T=>{const U=R.get(T);if(!U)return{hasSkill:!1,avg:1,min:1,hits:0};const K=U.connectedHits||0,we=K>0?U.totalDamage/K:0,me=U.minCount>0?U.minTotal/U.minCount:0;return{hasSkill:!0,avg:we,min:me,hits:K}},Q="Ashtonlightstone.9145",je="Illusionary Warden",_e=[],ae=[],Be=[],Te=[],xt=new Map,on=new Map,Pn=(T,U,K)=>{const we=T.get(U)||Z();return we.totalHits+=K.totalHits,we.blocked+=K.blocked,we.evaded+=K.evaded,we.glanced+=K.glanced,we.missed+=K.missed,we.invulned+=K.invulned,we.interrupted+=K.interrupted,T.set(U,we),we};a.forEach(T=>{const U=T.details;if(!U)return;(U.targets||[]).forEach(we=>{const me=(we==null?void 0:we.totalDamageDist)||[],Ve=Array.isArray(me)?me[0]:null;Ve==null||Ve.forEach(Ne=>{if(!(Ne!=null&&Ne.id))return;const lt=Number(Ne.id),mt=R.get(lt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};mt.totalDamage+=Number(Ne.totalDamage||0),mt.connectedHits+=Number(Ne.connectedHits||0);const wt=Number.isFinite(Number(Ne.min))?Number(Ne.min):0;mt.minTotal+=wt,mt.minCount+=1,R.set(lt,mt)})})}),a.forEach((T,U)=>{var Zt,hn;const K=T.details;if(!K)return;const we=K.players;console.log(`[useStatsAggregation] Processing log ${U}:`,{playerCount:we==null?void 0:we.length,hasTargets:!!K.targets,firstPlayer:we!=null&&we[0]?{account:we[0].account,notInSquad:we[0].notInSquad}:"none"});const me=K.targets||[],Ve=K.skillMap||{},Ne=K.buffMap||{},lt=new Map,mt=new Map;me.forEach(de=>{const Ie=(de==null?void 0:de.totalDamageDist)||[],nt=Array.isArray(Ie)?Ie[0]:null;nt==null||nt.forEach(at=>{var St;if(!(at!=null&&at.id))return;const kt=Number(at.id),se=((St=Ve==null?void 0:Ve[kt])==null?void 0:St.name)||at.name||at.skillName||String(kt),We=lt.get(kt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};We.totalDamage+=Number(at.totalDamage||0),We.connectedHits+=Number(at.connectedHits||0);const ze=Number.isFinite(Number(at.min))?Number(at.min):0;We.minTotal+=ze,We.minCount+=1,lt.set(kt,We);const rt=mt.get(se)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};rt.totalDamage+=Number(at.totalDamage||0),rt.connectedHits+=Number(at.connectedHits||0);const Bt=Number.isFinite(Number(at.min))?Number(at.min):0;rt.minTotal+=Bt,rt.minCount+=1,mt.set(se,rt)})});const wt=de=>{const Ie=lt.get(de);if(!Ie||Ie.connectedHits<=0)return{avg:1,min:1};const nt=Ie.connectedHits>0?Ie.totalDamage/Ie.connectedHits:0,at=Ie.minCount>0?Ie.minTotal/Ie.minCount:nt;return{avg:nt||1,min:at||1}},Gt=de=>{const Ie=mt.get(de);if(!Ie||Ie.connectedHits<=0)return{avg:1,min:1};const nt=Ie.connectedHits>0?Ie.totalDamage/Ie.connectedHits:0,at=Ie.minCount>0?Ie.minTotal/Ie.minCount:nt;return{avg:nt||1,min:at||1}},Xt=K.combatReplayMetaData||{},On=(Xt==null?void 0:Xt.inchToPixel)>0?Xt.inchToPixel:1,Xe=(Xt==null?void 0:Xt.pollingRate)>0?Xt.pollingRate:1,Ye=5e3,ft=de=>Array.isArray(de)?de.map(Ie=>Array.isArray(Ie)?[Number(Ie[0]),Number(Ie[1])]:null).filter(Ie=>!!Ie&&Number.isFinite(Ie[0])):[];let Lt=[],Wt=K.durationMS||0,ve=!1;const ye=we.find(de=>(de==null?void 0:de.hasCommanderTag)&&!(de!=null&&de.notInSquad));(Zt=ye==null?void 0:ye.combatReplayData)!=null&&Zt.positions&&(Lt=ye.combatReplayData.positions,ft(ye.combatReplayData.dead).forEach(([Ie])=>{Ie>0&&(ve=!0,Wt=Math.min(Wt,Ie))}));const Le=de=>{var rt;const Ie=(rt=de.statsAll)==null?void 0:rt[0];if((Ie==null?void 0:Ie.distToCom)!==void 0&&(Ie==null?void 0:Ie.distToCom)!=="Infinity")return Math.round(Number(Ie.distToCom));if((Ie==null?void 0:Ie.stackDist)!==void 0)return Math.round(Number(Ie.stackDist))||0;if(de.hasCommanderTag)return 0;const nt=de.combatReplayData;if(!(nt!=null&&nt.positions)||!Lt.length)return 0;const at=nt.positions,kt=ft(nt.dead),se=ft(nt.down),We=Math.floor((nt.start||0)/Xe);let ze=0;if(kt.length&&se.length)for(const[Bt]of kt){if(Bt<0)continue;const St=Math.max(0,Math.floor(Bt/Xe))-We;for(const[gt,Dt]of se){if(Bt!==Dt)continue;const zt=ve&&gt>Wt?Math.max(1,Math.floor(Wt/Xe)):St,Vt=Math.max(0,Math.min(zt,at.length,Lt.length));if(Vt<=0)continue;let It=0;for(let Et=0;Et<Vt;Et++){const[De,Je]=at[Et],[vt,yt]=Lt[Et];It+=Math.hypot(De-vt,Je-yt)}ze=Math.round(It/Vt/On)}}return ze},Me=we.filter(de=>!de.notInSquad);v+=Me.length,b+=me.filter(de=>!de.isFake).length,BU(we,{durationMS:K.durationMS,buffMap:K.buffMap});const{squadDeaths:Ze,enemyDeaths:le}=P(K);w+=Ze,S+=le,N+=Ze,C+=le,D(K)?g++:y++;const Ge=K.skillMap?Number((hn=Object.keys(K.skillMap).find(de=>{var Ie,nt;return((nt=(Ie=K.skillMap)==null?void 0:Ie[de])==null?void 0:nt.name)==="Battle Standard"}))==null?void 0:hn.replace(/^s/,"")):null;we.forEach((de,Ie)=>{var Mi,Xa,Ec,Eo,Oi,kl,$m,Fm,Rm,Bm,bs,Tc,zm;if(de.notInSquad)return;const nt=de.account||"Unknown",at=nt!=="Unknown"?nt:de.name||"Unknown",kt=de.name||"Unknown";_.has(at)||_.set(at,{name:kt,account:at,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:de.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const se=_.get(at);if(de.hasCommanderTag&&(se.isCommander=!0),kt!=="Unknown"&&se.characterNames.add(String(kt)),de.profession&&de.profession!=="Unknown"){se.profession=de.profession,se.professions.add(de.profession);const Ae=Array.isArray(de.activeTimes)&&typeof de.activeTimes[0]=="number"?de.activeTimes[0]:K.durationMS||0;se.professionTimeMs[de.profession]=(se.professionTimeMs[de.profession]||0)+Ae}se.logsJoined++,se.downContrib+=LU(de),se.cleanses+=IU(de),se.strips+=_U(de,f),se.healing+=$U(de),se.barrier+=FU(de),se.cc+=RU(de,f),se.stab+=de.stabGeneration||0;const We=Le(de);We<=Ye&&(se.totalDist+=We,se.distCount++),(Mi=de.defenses)!=null&&Mi[0]&&(se.dodges+=de.defenses[0].dodgeCount||0,se.downs+=de.defenses[0].downCount||0,se.deaths+=de.defenses[0].deadCount||0),K.durationMS&&(se.totalFightMs+=K.durationMS);const ze=Array.isArray(de.activeTimes)&&typeof de.activeTimes[0]=="number"?de.activeTimes[0]:K.durationMS||0;se.squadActiveMs+=ze;const rt=Xi(K,T),Bt=Number((K==null?void 0:K.durationMS)||0);rt>0&&((se.firstSeenFightTs<=0||rt<se.firstSeenFightTs)&&(se.firstSeenFightTs=rt),se.lastSeenFightTs<=0||rt>se.lastSeenFightTs?(se.lastSeenFightTs=rt,se.lastSeenFightDurationMs=Bt):rt===se.lastSeenFightTs&&Bt>se.lastSeenFightDurationMs&&(se.lastSeenFightDurationMs=Bt)),se.defenseActiveMs+=ze,se.supportActiveMs+=ze,se.healingActiveMs+=ze,Array.isArray(de.buffUptimes)&&de.buffUptimes.length>0&&de.buffUptimes.forEach(Ae=>{var Um,Nl,Dc,Vm,Wm,da;if(typeof(Ae==null?void 0:Ae.id)!="number")return;const Fe=`b${Ae.id}`,qe=((Um=K.buffMap)==null?void 0:Um[Fe])||((Nl=K.buffMap)==null?void 0:Nl[String(Ae.id)]);if(!qe||k(qe))return;const et=Number(((Vm=(Dc=Ae.buffData)==null?void 0:Dc[0])==null?void 0:Vm.uptime)??0),$t=Number(((da=(Wm=Ae.buffData)==null?void 0:Wm[0])==null?void 0:da.presence)??0);if((!Number.isFinite(et)||et<=0)&&(!Number.isFinite($t)||$t<=0))return;const Kn=(qe==null?void 0:qe.stacking)??!1,dr=(Kn?Number.isFinite(et)?et:0:Number.isFinite(et)?et/100:0)*ze,Ea=Kn?$t:et,Ii=Math.min(Math.max(Number.isFinite(Ea)?Ea:0,0),100)/100*ze,Sl=Number.isFinite(dr)&&dr>0,Wr=Number.isFinite(Ii)&&Ii>0;if(!Sl&&!Wr)return;const Un=qc(qe==null?void 0:qe.name);if(Un&&Qz.has(Un)&&(!(qe!=null&&qe.classification)||qe.classification==="Condition")){const Mc=dr/1e3,ui=qe==null?void 0:qe.icon,Cl=ne[Un]||{name:Un,icon:ui,applications:0,damage:0};Cl.applicationsFromUptime=(Cl.applicationsFromUptime||0)+Mc,!Cl.icon&&ui&&(Cl.icon=ui),ne[Un]=Cl;const jl=se.outgoingConditions[Un]||{applications:0,damage:0,skills:{},icon:ui};jl.applicationsFromUptime=(jl.applicationsFromUptime||0)+Mc,!jl.icon&&ui&&(jl.icon=ui),se.outgoingConditions[Un]=jl;const Pl=ue[Un]||{name:Un,icon:ui,applications:0,damage:0};Pl.applicationsFromUptime=(Pl.applicationsFromUptime||0)+Mc,!Pl.icon&&ui&&(Pl.icon=ui),ue[Un]=Pl;const _i=se.incomingConditions[Un]||{applications:0,damage:0,skills:{},icon:ui};_i.applicationsFromUptime=(_i.applicationsFromUptime||0)+Mc,!_i.icon&&ui&&(_i.icon=ui),se.incomingConditions[Un]=_i}H.has(Fe)||H.set(Fe,{name:qe==null?void 0:qe.name,stacking:Kn,icon:qe==null?void 0:qe.icon}),W.has(Fe)||W.set(Fe,new Map);const To=W.get(Fe),ad=se.account||de.account||de.name||"Unknown";let Ta=To.get(ad);Ta||(Ta={account:ad,profession:se.profession||de.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},To.set(ad,Ta));const ci=de.profession||se.profession;ci&&ci!=="Unknown"&&(Ta.professions.add(ci),Ta.professionTimeMs[ci]=(Ta.professionTimeMs[ci]||0)+ze,Ta.profession=ci),Ta.totalMs+=Sl?dr:0,Ta.uptimeMs+=Wr?Ii:0,Ta.durationMs+=ze}),(Xa=de.defenses)!=null&&Xa[0]&&sO.forEach(Ae=>{const Fe=Number(de.defenses[0][Ae.field]??0);Number.isFinite(Fe)&&(se.defenseTotals[Ae.id]=(se.defenseTotals[Ae.id]||0)+Fe)}),(Ec=de.support)!=null&&Ec[0]&&oO.forEach(Ae=>{let Fe=Number(de.support[0][Ae.field]??0);Number.isFinite(Fe)&&(A.has(Ae.field)&&Fe>999999&&(Fe=0),se.supportTotals[Ae.id]=(se.supportTotals[Ae.id]||0)+Fe)});const St=(Ae,Fe)=>{Number.isFinite(Fe)&&(se.healingTotals[Ae]=(se.healingTotals[Ae]||0)+Fe)},gt=(Ae,Fe)=>Array.isArray(Ae)?Ae.reduce((qe,et)=>qe+Number((et==null?void 0:et[Fe])??0),0):0,Dt=(Ae,Fe,qe)=>{if(!Number.isFinite(qe)||qe<=0)return;const et=we[Fe],$t=Fe===Ie,Kn=et==null?void 0:et.notInSquad,ur=!Kn,dr=ur&&(et==null?void 0:et.group)!=null&&et.group===de.group;St(Ae,qe),ur&&St(`squad${Ae[0].toUpperCase()}${Ae.slice(1)}`,qe),dr&&St(`group${Ae[0].toUpperCase()}${Ae.slice(1)}`,qe),$t&&St(`self${Ae[0].toUpperCase()}${Ae.slice(1)}`,qe),Kn&&St(`offSquad${Ae[0].toUpperCase()}${Ae.slice(1)}`,qe)};if(Array.isArray(de.rotation)){let Ae=0;de.rotation.forEach(Fe=>{var et;if(!(Fe!=null&&Fe.id)||!n6(Fe.id,K.skillMap))return;const qe=((et=Fe.skills)==null?void 0:et.length)||0;qe>0&&(Ae+=qe,St(`resUtility_s${Fe.id}`,qe))}),Ae>0&&St("resUtility",Ae)}const zt=(Eo=de.extHealingStats)==null?void 0:Eo.outgoingHealingAllies;Array.isArray(zt)&&zt.forEach((Ae,Fe)=>{const qe=gt(Ae,"healing"),et=gt(Ae,"downedHealing");Dt("healing",Fe,qe),Dt("downedHealing",Fe,et)});const Vt=(Oi=de.extBarrierStats)==null?void 0:Oi.outgoingBarrierAllies;Array.isArray(Vt)&&Vt.forEach((Ae,Fe)=>{const qe=gt(Ae,"barrier");Dt("barrier",Fe,qe)});const It=(kl=de.statsAll)==null?void 0:kl[0],Et=($m=de.dpsAll)==null?void 0:$m[0],De=(Fm=de.support)==null?void 0:Fm[0];if(aO.forEach(Ae=>{if(Ae.id==="downContributionPercent"||!Ae.field)return;let Fe=0,qe=0;Ae.source==="dpsAll"&&Et?Fe=Number(Et[Ae.field]??0):Ae.source==="statsAll"&&It?(Fe=Number(It[Ae.field]??0),qe=Number(It[Ae.denomField||Ae.weightField||"connectedDamageCount"]??0)):Ae.source==="support"&&De?Fe=Number(De[Ae.field]??0):de.statsTargets&&de.statsTargets.forEach(et=>{et!=null&&et[0]&&(Fe+=Number(et[0][Ae.field]??0),qe+=Number(et[0][Ae.denomField||Ae.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Fe)&&(se.offenseTotals[Ae.id]=(se.offenseTotals[Ae.id]||0)+Fe,Ae.isRate&&qe>0&&(se.offenseRateWeights[Ae.id]=(se.offenseRateWeights[Ae.id]||0)+qe))}),de.targetDamageDist&&Number.isFinite(Ge)){const Ae=de.targetDamageDist.flatMap(Fe=>Fe||[]).flatMap(Fe=>Fe||[]).reduce((Fe,qe)=>qe!=null&&qe.id&&qe.id===Ge?Fe+((qe==null?void 0:qe.connectedHits)||0):Fe,0);se.offenseTotals.battleStandardHits=(se.offenseTotals.battleStandardHits||0)+Ae}se.revives+=((Bm=(Rm=de.support)==null?void 0:Rm[0])==null?void 0:Bm.resurrects)||0,Et&&(se.damage+=Et.damage||0,se.dps+=Et.dps||0);const Je=Ae=>{var $t,Kn,ur,dr;let Fe=`Skill ${Ae.id}`;const qe=(($t=K.skillMap)==null?void 0:$t[`s${Ae.id}`])||((Kn=K.skillMap)==null?void 0:Kn[`${Ae.id}`]);let et=qe==null?void 0:qe.icon;if(qe!=null&&qe.name&&(Fe=qe.name),Fe.startsWith("Skill ")){const Ea=Yh(Fe,Ae.id,K.buffMap);Ea&&(Fe=Ea,et=((dr=(ur=K.buffMap)==null?void 0:ur[`b${Ae.id}`])==null?void 0:dr.icon)||et)}return{name:Fe,icon:et}},vt=Ae=>{if(!(Ae!=null&&Ae.id))return;const{name:Fe,icon:qe}=Je(Ae);$[Ae.id]||($[Ae.id]={name:Fe,icon:qe,damage:0,hits:0,downContribution:0}),$[Ae.id].name.startsWith("Skill ")&&!Fe.startsWith("Skill ")&&($[Ae.id].name=Fe),!$[Ae.id].icon&&qe&&($[Ae.id].icon=qe),$[Ae.id].damage+=Ae.totalDamage,$[Ae.id].hits+=Ae.connectedHits,$[Ae.id].downContribution+=Number(Ae.downContribution||0)},yt=de.account||de.name||"Unknown",Ht=de.profession||"Unknown",kn=`${yt}|${Ht}`;let Ir=ee.get(kn);Ir||(Ir={key:kn,account:yt,displayName:yt,profession:Ht,professionList:[Ht],totalFightMs:0,skills:new Map},ee.set(kn,Ir)),Ir.professionList.includes(Ht)||Ir.professionList.push(Ht),Ir.totalFightMs+=K.durationMS||0;const li=Ae=>{if(!(Ae!=null&&Ae.id))return;const{name:Fe,icon:qe}=Je(Ae),et=`s${Ae.id}`;let $t=Ir.skills.get(et);$t||($t={id:et,name:Fe,icon:qe,damage:0,downContribution:0},Ir.skills.set(et,$t)),$t.name.startsWith("Skill ")&&!Fe.startsWith("Skill ")&&($t.name=Fe),!$t.icon&&qe&&($t.icon=qe),$t.damage+=Number(Ae.totalDamage||0),$t.downContribution+=Number(Ae.downContribution||0)};if(h==="total")(bs=de.totalDamageDist)==null||bs.forEach(Ae=>{Ae==null||Ae.forEach(Fe=>{vt(Fe),li(Fe)})});else{const Ae=new Map;(Tc=de.targetDamageDist)==null||Tc.forEach(qe=>{qe==null||qe.forEach(et=>{et==null||et.forEach($t=>{const Kn=Number($t==null?void 0:$t.id);if(Number.isFinite(Kn)){const ur=Ae.get(Kn)||{damage:0,hits:0,downContribution:0};ur.damage+=Number(($t==null?void 0:$t.totalDamage)||0),ur.hits+=Number(($t==null?void 0:$t.connectedHits)||0),ur.downContribution+=Number(($t==null?void 0:$t.downContribution)||0),Ae.set(Kn,ur)}vt($t),li($t)})})}),!(K!=null&&K.detailedWvW)&&((zm=de.totalDamageDist)==null||zm.forEach(qe=>{qe==null||qe.forEach(et=>{const $t=Number(et==null?void 0:et.id);if(!Number.isFinite($t))return;const Kn=Ae.get($t);if(!Kn){vt(et),li(et);return}const ur=Number((et==null?void 0:et.totalDamage)||0),dr=Number((et==null?void 0:et.connectedHits)||0),Ea=Number((et==null?void 0:et.downContribution)||0),ws=ur-Number(Kn.damage||0),Ii=dr-Number(Kn.hits||0),Sl=Ea-Number(Kn.downContribution||0);if(ws<=0&&Ii<=0&&Sl<=0)return;const Wr={...et,totalDamage:Math.max(0,ws),connectedHits:Math.max(0,Ii),downContribution:Math.max(0,Sl)};vt(Wr),li(Wr)})}))}de.totalDamageTaken&&de.totalDamageTaken.forEach(Ae=>{Ae==null||Ae.forEach(Fe=>{var Kn,ur,dr,Ea;if(!(Fe!=null&&Fe.id))return;let qe=`Skill ${Fe.id}`;const et=((Kn=K.skillMap)==null?void 0:Kn[`s${Fe.id}`])||((ur=K.skillMap)==null?void 0:ur[`${Fe.id}`]);let $t=et==null?void 0:et.icon;if(et!=null&&et.name&&(qe=et.name),qe.startsWith("Skill ")){const ws=Yh(qe,Fe.id,K.buffMap);ws&&(qe=ws,$t=((Ea=(dr=K.buffMap)==null?void 0:dr[`b${Fe.id}`])==null?void 0:Ea.icon)||$t)}M[Fe.id]||(M[Fe.id]={name:qe,icon:$t,damage:0,hits:0}),(!M[Fe.id].name.startsWith("Skill ")||qe.startsWith("Skill "))&&(M[Fe.id].name=qe),!M[Fe.id].icon&&$t&&(M[Fe.id].icon=$t),M[Fe.id].damage+=Fe.totalDamage,M[Fe.id].hits+=Fe.hits})})}),me.forEach(de=>{if(de!=null&&de.isFake)return;const Ie=V((de==null?void 0:de.profession)||(de==null?void 0:de.name)||(de==null?void 0:de.id));Ie&&(q[Ie]=(q[Ie]||0)+1)});const Oe=qU({players:we,targets:me,skillMap:K.skillMap,buffMap:K.buffMap,getPlayerKey:de=>de.account&&de.account!=="Unknown"?de.account:de.name||null}),Qe=DO(K.buffMap);Object.entries(Oe.playerConditions).forEach(([de,Ie])=>{const nt=_.get(de);nt&&Object.entries(Ie).forEach(([at,kt])=>{const se=nt.outgoingConditions[at]||{applications:0,damage:0,skills:{},icon:kt.icon};se.applications+=Number(kt.applications||0),se.damage+=Number(kt.damage||0),kt.applicationsFromBuffs&&(se.applicationsFromBuffs=(se.applicationsFromBuffs||0)+kt.applicationsFromBuffs),kt.applicationsFromBuffsActive&&(se.applicationsFromBuffsActive=(se.applicationsFromBuffsActive||0)+kt.applicationsFromBuffsActive),Object.entries(kt.skills||{}).forEach(([We,ze])=>{const rt=se.skills[We]||{name:ze.name,hits:0,damage:0,icon:ze.icon};rt.hits+=Number(ze.hits||0),rt.damage+=Number(ze.damage||0),!rt.icon&&ze.icon&&(rt.icon=ze.icon),se.skills[We]=rt}),!se.icon&&kt.icon&&(se.icon=kt.icon),nt.outgoingConditions[at]=se})}),Object.entries(Oe.summary).forEach(([de,Ie])=>{const nt=ne[de]||{name:Ie.name||de,icon:Ie.icon,applications:0,damage:0};nt.applications+=Number(Ie.applications||0),nt.damage+=Number(Ie.damage||0),Ie.applicationsFromBuffs&&(nt.applicationsFromBuffs=(nt.applicationsFromBuffs||0)+Ie.applicationsFromBuffs),Ie.applicationsFromBuffsActive&&(nt.applicationsFromBuffsActive=(nt.applicationsFromBuffsActive||0)+Ie.applicationsFromBuffsActive),!nt.icon&&Ie.icon&&(nt.icon=Ie.icon),ne[de]=nt}),Me.forEach(de=>{const Ie=de.account&&de.account!=="Unknown"?de.account:de.name||"Unknown",nt=_.get(Ie);!nt||!de.totalDamageTaken||de.totalDamageTaken.forEach(at=>at==null?void 0:at.forEach(kt=>{var Et,De,Je,vt,yt,Ht;if(!(kt!=null&&kt.id))return;let se=`Skill ${kt.id}`;const We=((Et=K.skillMap)==null?void 0:Et[`s${kt.id}`])||((De=K.skillMap)==null?void 0:De[`${kt.id}`]);We!=null&&We.name&&(se=We.name);const ze=Yh(se,kt.id,K.buffMap);if(!ze)return;const rt=(vt=(Je=K.buffMap)==null?void 0:Je[`b${kt.id}`])==null?void 0:vt.name,Bt=Qe.get(ze)||((Ht=(yt=K.buffMap)==null?void 0:yt[`b${kt.id}`])==null?void 0:Ht.icon),St=(We==null?void 0:We.icon)||Bt;se.startsWith("Skill ")&&(rt||ze)&&(se=rt||ze);const gt=Number(kt.hits??0),Dt=Number(kt.totalDamage??0),zt=ue[ze]||{name:ze,icon:Bt,applications:0,damage:0};zt.applications+=Number.isFinite(gt)?gt:0,zt.damage+=Number.isFinite(Dt)?Dt:0,!zt.icon&&Bt&&(zt.icon=Bt),ue[ze]=zt;const Vt=nt.incomingConditions[ze]||{applications:0,damage:0,skills:{},icon:Bt};Vt.applications+=Number.isFinite(gt)?gt:0,Vt.damage+=Number.isFinite(Dt)?Dt:0;const It=Vt.skills[se]||{name:se,hits:0,damage:0,icon:St};It.hits+=Number.isFinite(gt)?gt:0,It.damage+=Number.isFinite(Dt)?Dt:0,!It.icon&&St&&(It.icon=St),Vt.skills[se]=It,!Vt.icon&&Bt&&(Vt.icon=Bt),nt.incomingConditions[ze]=Vt}))});const Qt=K.player_damage_mitigation||K.playerDamageMitigation,Rt=Qt&&typeof Qt=="object"&&Object.keys(Qt).length>0;Rt&&Object.entries(Qt).forEach(([de,Ie])=>{if(!Ie||typeof Ie!="object")return;const nt=J(de),at=L(O,nt.account,nt);Object.values(Ie).forEach(kt=>{B((kt==null?void 0:kt.avoided_damage)??(kt==null?void 0:kt.avoidedDamage))<=0||oe(at.mitigationTotals,kt)})});const wn=K.player_minion_damage_mitigation||K.playerMinionDamageMitigation,En=wn&&typeof wn=="object"&&Object.keys(wn).length>0;En&&Object.entries(wn).forEach(([de,Ie])=>{if(!Ie||typeof Ie!="object")return;const nt=J(de);Object.entries(Ie).forEach(([at,kt])=>{if(!kt||typeof kt!="object")return;const se=`${nt.account}::${at}`,We=Y(ie,se,{...nt,minion:String(at||"Unknown")});Object.values(kt).forEach(ze=>{oe(We.mitigationTotals,ze)})})}),(!Rt||!En)&&(Rt||Me.forEach(de=>{const Ie=(de==null?void 0:de.totalDamageTaken)||[];if(!Array.isArray(Ie)||Ie.length===0)return;const nt=de.account||de.name||"Unknown",at={account:nt,name:de.name||nt,profession:V(de.profession||"Unknown")};L(O,nt,at);const kt=K.skillMap||{},se=K.buffMap||{},We=Array.isArray(Ie)?Ie[0]:null;if(We==null||We.forEach(ze=>{if(!(ze!=null&&ze.id))return;const rt=B(ze.blocked),Bt=B(ze.evaded),St=B(ze.glance??ze.glanced),gt=B(ze.missed),Dt=B(ze.invulned),zt=B(ze.interrupted),Vt=B(ze.hits??ze.connectedHits),It=Number(ze.id),Et=z(It,kt,se);if(Pn(xt,`${nt}::${It}`,{totalHits:Vt,blocked:rt,evaded:Bt,glanced:St,missed:gt,invulned:Dt,interrupted:zt}),nt===Q){const De=R.get(It),Je=I(It),vt=Je.hasSkill?Je.hits>0?Je.avg:0:1,yt=Je.hasSkill?Je.min||0:1,Ht=Je.hits>0?St*vt/2+(rt+Bt+gt+Dt+zt)*vt:0,kn=Je.hits>0?St*yt/2+(rt+Bt+gt+Dt+zt)*yt:0;Be.push({logId:T.filePath||T.id||U,skillId:ze.id,skillName:Et,blocked:rt,evaded:Bt,glanced:St,missed:gt,invulned:Dt,interrupted:zt,totalAvoids:rt+Bt+St+gt+Dt+zt,avg:vt,min:yt,enemyHits:(De==null?void 0:De.connectedHits)??0,enemyTotalDmg:(De==null?void 0:De.totalDamage)??0,avoidDmg:Ht,avoidMinDmg:kn})}}),nt===Q){const ze=(rt,Bt)=>{let St=0,gt=0,Dt=0;if(!Array.isArray(rt))return{total:St,minTotal:gt,hits:Dt};for(const zt of rt){if(!(zt!=null&&zt.id))continue;const Vt=B(zt.blocked),It=B(zt.evaded),Et=B(zt.glance??zt.glanced),De=B(zt.missed),Je=B(zt.invulned),vt=B(zt.interrupted),yt=z(Number(zt.id),Ve,Ne),Ht=Bt(Number(zt.id),yt);(Ht.hits??0)>0&&(St+=Et*Ht.avg/2+(Vt+It+De+Je+vt)*Ht.avg,gt+=Et*Ht.min/2+(Vt+It+De+Je+vt)*Ht.min),Dt+=B(zt.hits??zt.connectedHits)}return{total:St,minTotal:gt,hits:Dt}};Te.push({logId:T.filePath||T.id||U,variant:"current_global_name_taken0",...ze(We,(rt,Bt)=>{const St=I(rt),gt=St.hasSkill?St.hits>0?St.avg:0:1,Dt=St.hasSkill?St.min||0:1;return{avg:gt,min:Dt,hits:St.hits}})})}}),En||Me.forEach(de=>{const Ie=(de==null?void 0:de.minions)||[];if(!Array.isArray(Ie)||Ie.length===0)return;const nt=de.account||de.name||"Unknown",at={account:nt,name:de.name||nt,profession:V(de.profession||"Unknown")},kt=K.skillMap||{},se=K.buffMap||{};Ie.forEach(We=>{const ze=(We==null?void 0:We.totalDamageTakenDist)||[];if(!Array.isArray(ze)||ze.length===0)return;let rt=String((We==null?void 0:We.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";rt.toUpperCase().includes("UNKNOWN")&&(rt="Unknown");const Bt=`${nt}::${rt}`;Y(ie,Bt,{...at,minion:rt});const St=Array.isArray(ze)?ze[0]:null;if(St==null||St.forEach(gt=>{if(!(gt!=null&&gt.id))return;const Dt=B(gt.blocked),zt=B(gt.evaded),Vt=B(gt.glance??gt.glanced),It=B(gt.missed),Et=B(gt.invulned),De=B(gt.interrupted),Je=B(gt.hits??gt.connectedHits),vt=Number(gt.id),yt=z(vt,kt,se);if(Pn(on,`${Bt}::${vt}`,{totalHits:Je,blocked:Dt,evaded:zt,glanced:Vt,missed:It,invulned:Et,interrupted:De}),nt===Q&&rt===je){const Ht=R.get(vt),kn=I(vt),Ir=kn.hasSkill?kn.hits>0?kn.avg:0:1,li=kn.hasSkill?kn.min||0:1,Mi=kn.hits>0?Vt*Ir/2+(Dt+zt+It+Et+De)*Ir:0,Xa=kn.hits>0?Vt*li/2+(Dt+zt+It+Et+De)*li:0;_e.push({logId:T.filePath||T.id||U,skillId:gt.id,skillName:yt,blocked:Dt,evaded:zt,glanced:Vt,missed:It,invulned:Et,interrupted:De,totalAvoids:Dt+zt+Vt+It+Et+De,avg:Ir,min:li,enemyHits:(Ht==null?void 0:Ht.connectedHits)??0,enemyTotalDmg:(Ht==null?void 0:Ht.totalDamage)??0,avoidDmg:Mi,avoidMinDmg:Xa})}}),nt===Q&&rt===je){const gt=(It,Et)=>{let De=0,Je=0,vt=0;if(!Array.isArray(It))return{total:De,minTotal:Je,hits:vt};for(const yt of It){if(!(yt!=null&&yt.id))continue;const Ht=B(yt.blocked),kn=B(yt.evaded),Ir=B(yt.glance??yt.glanced),li=B(yt.missed),Mi=B(yt.invulned),Xa=B(yt.interrupted),Ec=z(Number(yt.id),Ve,Ne),{avg:Eo,min:Oi}=Et(Number(yt.id),Ec);B(yt.hits??yt.connectedHits)>0&&(De+=Ir*Eo/2+(Ht+kn+li+Mi+Xa)*Eo,Je+=Ir*Oi/2+(Ht+kn+li+Mi+Xa)*Oi),vt+=B(yt.hits??yt.connectedHits)}return{total:De,minTotal:Je,hits:vt}},Dt=Array.isArray(ze)?ze[0]||[]:[],zt=Array.isArray(ze)?ze.flat():[],Vt=Array.isArray(We==null?void 0:We.totalDamageTaken)?We.totalDamageTaken[0]||[]:[];ae.push({logId:T.filePath||T.id||U,variant:"current_global_name_dist0",...gt(Dt,(It,Et)=>{const De=I(It),Je=De.hasSkill?De.hits>0?De.avg:0:1,vt=De.hasSkill&&De.min||0;return{avg:Je,min:vt}})}),ae.push({logId:T.filePath||T.id||U,variant:"local_name_dist0",...gt(Dt,(It,Et)=>Gt(Et))}),ae.push({logId:T.filePath||T.id||U,variant:"local_id_dist0",...gt(Dt,It=>wt(It))}),ae.push({logId:T.filePath||T.id||U,variant:"global_name_alllists",...gt(zt,(It,Et)=>{const De=I(It),Je=De.hasSkill?De.hits>0?De.avg:0:1,vt=De.hasSkill&&De.min||0;return{avg:Je,min:vt}})}),ae.push({logId:T.filePath||T.id||U,variant:"global_name_taken0",...gt(Vt,(It,Et)=>{const De=I(It),Je=De.hasSkill?De.hits>0?De.avg:0:1,vt=De.hasSkill&&De.min||0;return{avg:Je,min:vt}})})}})}))}),_e.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(_e),ae.length>0&&console.table(ae),console.groupEnd()),Be.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Be),Te.length>0&&console.table(Te),console.groupEnd());const cn=(T,U)=>{const K=new Map,we=me=>{let Ve=K.get(me);return Ve||(Ve=Z(),K.set(me,Ve)),Ve};U.forEach((me,Ve)=>{const Ne=Ve.lastIndexOf("::"),lt=Ne>-1?Ve.slice(0,Ne):Ve,mt=Ne>-1?Number(Ve.slice(Ne+2)):Number.NaN,wt=Number.isFinite(mt)?I(mt):{hasSkill:!1,avg:0,min:0,hits:0};if(!wt.hasSkill||wt.hits<=0)return;const Gt=wt.avg,Xt=wt.min,On=me.glanced*Gt/2+(me.blocked+me.evaded+me.missed+me.invulned+me.interrupted)*Gt,Xe=me.glanced*Xt/2+(me.blocked+me.evaded+me.missed+me.invulned+me.interrupted)*Xt;if(On<=0)return;const Ye=we(lt);Ye.totalHits+=me.totalHits,Ye.blocked+=me.blocked,Ye.evaded+=me.evaded,Ye.glanced+=me.glanced,Ye.missed+=me.missed,Ye.invulned+=me.invulned,Ye.interrupted+=me.interrupted,Ye.totalMitigation+=On,Ye.minMitigation+=Xe}),T.forEach((me,Ve)=>{const Ne=K.get(Ve)||Z();me.mitigationTotals.totalHits=Ne.totalHits,me.mitigationTotals.blocked=Ne.blocked,me.mitigationTotals.evaded=Ne.evaded,me.mitigationTotals.glanced=Ne.glanced,me.mitigationTotals.missed=Ne.missed,me.mitigationTotals.invulned=Ne.invulned,me.mitigationTotals.interrupted=Ne.interrupted,me.mitigationTotals.totalMitigation=Ne.totalMitigation,me.mitigationTotals.minMitigation=Ne.minMitigation})};cn(O,xt),cn(ie,on);const he=p>0?Math.round(v/p):0,Se=p>0?Math.round(b/p):0,Ft=w>0?(S/w).toFixed(2):S>0?"":"0.00",Kt=C>0?(N/C).toFixed(2):N>0?"":"0.00",gn=(T,U)=>{const we=T.filter(Ne=>Number.isFinite(Ne.value)&&(U?Ne.value>0:Ne.value>=0)).sort((Ne,lt)=>{const mt=U?lt.value-Ne.value:Ne.value-lt.value;return mt!==0?mt:Ne.account.localeCompare(lt.account)});let me=null,Ve=0;return we.map((Ne,lt)=>((me===null||Ne.value!==me)&&(Ve=lt+1,me=Ne.value),{rank:Ve,...Ne}))},mn=Array.from(_.values()).map(T=>{const U=Array.from(T.professions).filter(K=>K!=="Unknown");if(T.professionList=U,U.length>0){let K=U[0],we=T.professionTimeMs[K]||0;U.forEach(me=>{const Ve=T.professionTimeMs[me]||0;Ve>we&&(we=Ve,K=me)}),T.profession=K}return{key:T.account,stat:T}}),Ur=T=>{const U=_.get(T.account);if(!U){const me=T.professionList.length>0?T.professionList:T.profession?[T.profession]:[];return{...T,professionList:me}}const K=U.professionList&&U.professionList.length>0?U.professionList:Array.from(U.professions||[]).filter(me=>me&&me!=="Unknown"),we=U.profession||T.profession;return{...T,profession:we,professionList:K.length>0?K:we?[we]:[],activeMs:U.defenseActiveMs||U.totalFightMs||T.activeMs}},lr=Array.from(O.values()).map(Ur).filter(T=>te(T.mitigationTotals)).sort((T,U)=>T.account.localeCompare(U.account)),ua=Array.from(ie.values()).map(Ur).filter(T=>T.mitigationTotals.totalMitigation>0).sort((T,U)=>{const K=T.account.localeCompare(U.account);return K!==0?K:String(T.minion||"").localeCompare(String(U.minion||""))}),Ti=(T,U)=>{switch(U){case"downContrib":return T.downContrib;case"barrier":return T.barrier;case"healing":return T.healing;case"dodges":return T.dodges;case"strips":return T.strips;case"cleanses":return T.cleanses;case"cc":return T.cc;case"stability":return T.stab;case"revives":return T.revives;case"dps":return T.dps;case"damage":return T.damage;case"participation":return T.logsJoined;case"closestToTag":return!T.isCommander&&T.distCount>0?T.totalDist/T.distCount:Number.POSITIVE_INFINITY;default:return 0}},vn=(T,U)=>gn(mn.map(({stat:K})=>({account:K.account,profession:K.profession,professionList:K.professionList,value:Ti(K,T),count:K.logsJoined})),U),xn={downContrib:vn("downContrib",!0),barrier:vn("barrier",!0),healing:vn("healing",!0),dodges:vn("dodges",!0),strips:vn("strips",!0),cleanses:vn("cleanses",!0),cc:vn("cc",!0),stability:vn("stability",!0),revives:vn("revives",!0),participation:vn("participation",!0),dps:vn("dps",!0),damage:vn("damage",!0),closestToTag:vn("closestToTag",!1).filter(T=>Number.isFinite(T.value))},br={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},un=T=>{const U=T==null?void 0:T[0];return{value:(U==null?void 0:U.value)??0,player:(U==null?void 0:U.account)??"-",count:(U==null?void 0:U.count)??0,profession:(U==null?void 0:U.profession)??"Unknown",professionList:(U==null?void 0:U.professionList)??[]}},ei={maxDownContrib:un([]),maxBarrier:un([]),maxHealing:un([]),maxDodges:un([]),maxStrips:un([]),maxCleanses:un([]),maxCC:un([]),maxStab:un([]),closestToTag:un([])},Di={},Ac=(T,U)=>{if(U==="closestToTag")return Ti(T,U);const K=Math.max(1,(T.totalFightMs||0)/1e3);return Ti(T,U)/K};Object.values(br).forEach(T=>{const U=T!=="closestToTag";Di[T]=gn(mn.map(({stat:K})=>({account:K.account,profession:K.profession,professionList:K.professionList,value:Ac(K,T),count:K.logsJoined})),U)}),ei.maxDownContrib=un(Di.downContrib),ei.maxBarrier=un(Di.barrier),ei.maxHealing=un(Di.healing),ei.maxDodges=un(Di.dodges),ei.maxStrips=un(Di.strips),ei.maxCleanses=un(Di.cleanses),ei.maxCC=un(Di.cc),ei.maxStab=un(Di.stability),ei.closestToTag=un(Di.closestToTag);const yl={maxDownContrib:un(xn.downContrib),maxBarrier:un(xn.barrier),maxHealing:un(xn.healing),maxDodges:un(xn.dodges),maxStrips:un(xn.strips),maxCleanses:un(xn.cleanses),maxCC:un(xn.cc),maxStab:un(xn.stability),closestToTag:un(xn.closestToTag)};let bl={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},zs,wl,Us=0;if(s!=null&&s.showMvp){const T={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},U=Ve=>{const Ne=T[Ve];return Ne?Number(o[Ne]||0)>0:!1},K=[],we=Ve=>[...Ve||[]].filter(Ne=>U(Ne==null?void 0:Ne.name)).sort((Ne,lt)=>lt.ratio-Ne.ratio||Ne.rank-lt.rank||Ne.name.localeCompare(lt.name)).slice(0,3),me=Ve=>{var lt;if(!Ve)return;const Ne=we(Ve.contribs);return{...Ve,player:Ve.name,reason:((lt=Ne[0])==null?void 0:lt.name)||"Top Performance",topStats:Ne}};mn.forEach(({stat:Ve})=>{let Ne=0;const lt=[],mt=(wt,Gt,Xt,On,Xe=!0)=>{var ft,Lt;if(Xt<=0)return;const Ye=((ft=Gt[0])==null?void 0:ft.value)||0;if(Ye&&Number.isFinite(wt)&&(Xe?wt>0:wt<Number.POSITIVE_INFINITY)){const Wt=Xe?wt/Ye:Ye/wt;Ne+=Wt*Xt;const ve=((Lt=Gt.find(ye=>ye.account===Ve.account))==null?void 0:Lt.rank)||0;lt.push({name:On,ratio:Wt,val:wt.toLocaleString(),rank:ve})}};mt(Ve.downContrib,xn.downContrib,o.downContribution,"Down Contribution"),mt(Ve.healing,xn.healing,o.healing,"Healing"),mt(Ve.cleanses,xn.cleanses,o.cleanses,"Cleanses"),mt(Ve.strips,xn.strips,o.strips,"Strips"),mt(Ve.stab,xn.stability,o.stability,"Stability"),mt(Ve.cc,xn.cc,o.cc,"CC"),mt(Ve.revives,xn.revives,o.revives,"Revives"),mt(Ti(Ve,"closestToTag"),xn.closestToTag,o.distanceToTag,"Distance to Tag",!1),mt(Ve.logsJoined,xn.participation,o.participation,"Participation"),mt(Ve.dodges,xn.dodges,o.dodging,"Dodging"),mt(Ve.dps,xn.dps,o.dps,"DPS"),mt(Ve.damage,xn.damage,o.damage,"Damage"),K.push({...Ve,score:Ne,contribs:lt.filter(wt=>U(wt.name))})}),K.sort((Ve,Ne)=>Ne.score-Ve.score),K[0]&&K[0].score>0&&(bl=me(K[0])||bl),zs=me(K[1]),wl=me(K[2]),Us=K.length>0?K.reduce((Ve,Ne)=>Ve+Ne.score,0)/K.length:0}const X=Object.values($).sort((T,U)=>U.damage-T.damage||U.hits-T.hits||String(T.name||"").localeCompare(String(U.name||""))).slice(0,25),pe=Object.values($).sort((T,U)=>U.downContribution-T.downContribution||U.hits-T.hits||String(T.name||"").localeCompare(String(U.name||""))).slice(0,25),ke=m==="downContribution"?pe:X,ot=Object.values(M).sort((T,U)=>U.damage-T.damage).slice(0,25),Pt=T=>{const U=String(T).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),K=U.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return K?`${K[1]} Borderlands`:U||"Unknown"},Mt=(T,U)=>Pt((T==null?void 0:T.zone)||(T==null?void 0:T.mapName)||(T==null?void 0:T.map)||(T==null?void 0:T.location)||(T==null?void 0:T.fightName)||(U==null?void 0:U.fightName)||(U==null?void 0:U.encounterName)||"Unknown"),an=(T,U)=>{const K=(U==null?void 0:U.permalink)||(T==null?void 0:T.permalink);if(typeof K=="string"&&K.trim().length>0)return K.trim();const we=T==null?void 0:T.uploadLinks;if(!Array.isArray(we))return"";for(const me of we){if(typeof me=="string"&&me.trim().length>0)return me.trim();if(me&&typeof me=="object"){const Ve=me.permalink||me.link||me.url||me.reportLink;if(typeof Ve=="string"&&Ve.trim().length>0)return Ve.trim()}}return""},jt={};a.forEach(T=>{const U=Mt(T==null?void 0:T.details,T);jt[U]=(jt[U]||0)+1});const At=Object.entries(jt).map(([T,U])=>{const K=String(T).trim(),we=/eternal battlegrounds|^ebg$/i.test(K);let me="#64748b";return we?me="#ffffff":/red/i.test(K)?me="#ef4444":/blue/i.test(K)?me="#3b82f6":/green/i.test(K)&&(me="#22c55e"),{name:T,value:U,color:me}}).sort((T,U)=>U.value-T.value),{boonTables:ln}=SU(a),Ke=a.map((T,U)=>{var we,me;const K=((we=T.details)==null?void 0:we.players)||[];return{index:U+1,label:`Log ${U+1}`,timestamp:Xi(T.details,T),squadCount:K.filter(Ve=>!Ve.notInSquad).length,friendlyCount:K.length,enemies:((me=T.details)==null?void 0:me.targets).filter(Ve=>!Ve.isFake).length}}).sort((T,U)=>T.timestamp-U.timestamp),pt={};Array.from(_.values()).forEach(T=>{T.profession&&T.profession!=="Unknown"&&(pt[T.profession]=(pt[T.profession]||0)+1)});const Nn=Object.entries(pt).map(([T,U])=>({name:T,value:U,color:ec(T)})).sort((T,U)=>U.value-T.value),sn={};Object.keys(q).length===0&&a.forEach(T=>{var U,K;(K=(U=T.details)==null?void 0:U.targets)==null||K.forEach(we=>{if(we.isFake)return;const me=we.profession&&we.profession!=="Unknown"?we.profession:we.name||we.id||"Unknown",Ve=V(me);sn[Ve]=(sn[Ve]||0)+1})});const Or=Object.keys(q).length>0?q:sn,cr=Object.entries(Or).map(([T,U])=>({name:T,value:U,color:ec(T)})).sort((T,U)=>U.value-T.value),Vr=a.map((T,U)=>({log:T,originalIndex:U})).sort((T,U)=>Xi(T.log.details,T.log)-Xi(U.log.details,U.log)).map(({log:T},U)=>{const K=T.details;if(!K)return null;const we=K.players||[],me=we.filter(le=>!le.notInSquad),Ve=we.filter(le=>le.notInSquad),lt=(K.targets||[]).filter(le=>!le.isFake),mt=me.reduce((le,$e)=>{var Ge,Oe;return le+(((Oe=(Ge=$e.dpsAll)==null?void 0:Ge[0])==null?void 0:Oe.damage)||0)},0),wt=me.reduce((le,$e)=>{var Ge,Oe;return le+(((Oe=(Ge=$e.defenses)==null?void 0:Ge[0])==null?void 0:Oe.damageTaken)||0)},0),{enemyDeaths:Gt,enemyDownsDeaths:Xt}=P(K),On=D(K),Xe=Xi(K,T),Ye=Mt(K,T),ft=le=>{if(!le||typeof le!="object")return;const $e=le.teamID??le.teamId??le.team??le.teamColor??le.team_color;if($e!=null)return $e;const Ge=Object.keys(le).find(Oe=>/^team/i.test(Oe));return Ge?le[Ge]:void 0},Lt=(le,$e)=>{const Ge={};return le.forEach(Oe=>{const Qe=$e(Oe),Qt=V(Qe);Qt&&(Ge[Qt]=(Ge[Qt]||0)+1)}),Ge},Wt=Lt(me,le=>(le==null?void 0:le.profession)||(le==null?void 0:le.name)),ve=Lt(Ve,le=>(le==null?void 0:le.profession)||(le==null?void 0:le.name)),ye=Lt(lt,le=>(le==null?void 0:le.profession)||(le==null?void 0:le.name)||(le==null?void 0:le.id)),Le=new Set;me.forEach(le=>{const $e=ft(le);$e!=null&&Le.add(String($e))});const Me=new Map;lt.forEach(le=>{if((le==null?void 0:le.enemyPlayer)===!1)return;const $e=ft(le);if($e==null)return;const Ge=String($e);Le.has(Ge)||Me.set(Ge,(Me.get(Ge)||0)+1)});const Ze=Array.from(Me.entries()).sort((le,$e)=>{const Ge=$e[1]-le[1];return Ge!==0?Ge:le[0].localeCompare($e[0],void 0,{numeric:!0})}).slice(0,3).map(([le,$e])=>({teamId:le,count:$e}));return{id:T.filePath||`fight-${U}`,label:T.encounterName||`Fight ${U+1}`,permalink:an(K,T),timestamp:Xe,mapName:Ye,duration:Z2(K.durationMS),isWin:On,squadCount:me.length,allyCount:Ve.length,enemyCount:lt.length,teamBreakdown:Ze,alliesDown:me.reduce((le,$e)=>{var Ge,Oe;return le+(((Oe=(Ge=$e.defenses)==null?void 0:Ge[0])==null?void 0:Oe.downCount)||0)},0),alliesDead:me.reduce((le,$e)=>{var Ge,Oe;return le+(((Oe=(Ge=$e.defenses)==null?void 0:Ge[0])==null?void 0:Oe.deadCount)||0)},0),alliesRevived:me.reduce((le,$e)=>{var Ge,Oe;return Number(((Oe=(Ge=$e.statsAll)==null?void 0:Ge[0])==null?void 0:Oe.saved)||0)>0?le+1:le},0),rallies:0,enemyDeaths:Gt,enemyDowns:Math.max(0,Xt-Gt),totalOutgoingDamage:mt,totalIncomingDamage:wt,incomingBarrierAbsorbed:me.reduce((le,$e)=>{var Ge,Oe;return le+(((Oe=(Ge=$e.defenses)==null?void 0:Ge[0])==null?void 0:Oe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:me.reduce((le,$e)=>{var Qe;const Ge=(Qe=$e.extBarrierStats)==null?void 0:Qe.outgoingBarrier;if(!Array.isArray(Ge))return le;let Oe=0;return Ge.forEach(Qt=>{if(Array.isArray(Qt)){Qt.forEach(Rt=>{Oe+=Number((Rt==null?void 0:Rt.barrier)||0)});return}Oe+=Number((Qt==null?void 0:Qt.barrier)||0)}),le+Oe},0),squadClassCountsFight:Wt,allyClassCountsFight:ve,enemyClassCounts:ye}}).filter(Boolean),Ar=Array.from(_.values()).map(T=>{const U=Object.entries(T.professionTimeMs||{}).map(([K,we])=>({profession:K,timeMs:Number(we||0)})).filter(K=>K.profession&&K.profession!=="Unknown"&&K.timeMs>0).sort((K,we)=>{const me=we.timeMs-K.timeMs;return me!==0?me:K.profession.localeCompare(we.profession)});return{account:T.account||"Unknown",characterNames:Array.from(T.characterNames||[]).filter(Boolean).sort((K,we)=>K.localeCompare(we)),classTimes:U,combatTimeMs:Number(T.squadActiveMs||T.totalFightMs||0),squadTimeMs:(()=>{const K=Number(T.firstSeenFightTs||0),we=Number(T.lastSeenFightTs||0),me=Math.max(0,Number(T.lastSeenFightDurationMs||0));return K>0&&we>0?Math.max(0,we+me-K):Number(T.squadActiveMs||T.totalFightMs||0)})()}}).filter(T=>T.account&&T.account!=="Unknown").sort((T,U)=>{const K=U.squadTimeMs-T.squadTimeMs;return K!==0?K:String(T.account).localeCompare(String(U.account))}),ys=a.map(T=>T).sort((T,U)=>Xi(T.details,T)-Xi(U.details,U)).map((T,U)=>{const K=T==null?void 0:T.details,we=Array.isArray(K==null?void 0:K.players)?K.players.filter(Ne=>!(Ne!=null&&Ne.notInSquad)):[],me=new Map;we.forEach(Ne=>{const lt=Number(Ne==null?void 0:Ne.group),mt=Number.isFinite(lt)&&lt>0?lt:0;me.has(mt)||me.set(mt,{party:mt,players:[],classCounts:{}});const wt=V((Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||"Unknown"),Gt=String((Ne==null?void 0:Ne.account)||"Unknown"),Xt=String((Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.character_name)||""),On=!!(Ne!=null&&Ne.hasCommanderTag),Xe=me.get(mt);Xe.players.push({account:Gt,characterName:Xt,profession:wt,isCommander:On}),Xe.classCounts[wt]=(Xe.classCounts[wt]||0)+1});const Ve=Array.from(me.values()).map(Ne=>({...Ne,players:Ne.players.sort((lt,mt)=>{const wt=+!!mt.isCommander-+!!lt.isCommander;if(wt!==0)return wt;const Gt=String(lt.profession).localeCompare(String(mt.profession));return Gt!==0?Gt:String(lt.account).localeCompare(String(mt.account))})})).sort((Ne,lt)=>Ne.party===0&&lt.party!==0?1:lt.party===0&&Ne.party!==0?-1:Ne.party-lt.party);return{id:String((T==null?void 0:T.filePath)||(T==null?void 0:T.id)||`fight-${U+1}`),label:`F${U+1}`,timestamp:Xi(K,T),mapName:Mt(K,T),duration:Z2(Number((K==null?void 0:K.durationMS)||0)),parties:Ve}}),wv=(T,U)=>{const K=(U==null?void 0:U.skillMap)||{},we=(U==null?void 0:U.buffMap)||{};let me=0,Ve="";const Ne=wt=>{const Gt=Number(wt);if(!Number.isFinite(Gt))return String(wt||"Unknown Skill");const Xt=(K==null?void 0:K[`s${Gt}`])||(K==null?void 0:K[`${Gt}`]);if(Xt!=null&&Xt.name)return String(Xt.name);const On=(we==null?void 0:we[`b${Gt}`])||(we==null?void 0:we[`${Gt}`]);return On!=null&&On.name?String(On.name):`Skill ${Gt}`},lt=wt=>{if(!wt||typeof wt!="object")return;const Gt=[Number(wt.max),Number(wt.maxDamage),Number(wt.maxHit)].filter(On=>Number.isFinite(On)),Xt=Gt.length>0?Math.max(...Gt):0;Xt>me&&(me=Xt,Ve=Ne(wt.id))};let mt=!1;return Array.isArray(T==null?void 0:T.targetDamageDist)&&T.targetDamageDist.forEach(wt=>{Array.isArray(wt)&&wt.forEach(Gt=>{Array.isArray(Gt)&&Gt.forEach(Xt=>{mt=!0,lt(Xt)})})}),(!mt||me<=0)&&Array.isArray(T==null?void 0:T.totalDamageDist)&&T.totalDamageDist.forEach(wt=>{Array.isArray(wt)&&wt.forEach(Gt=>lt(Gt))}),{peak:me,skillName:Ve||"Unknown Skill"}},kv=(()=>{const T=Xe=>String(Xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=Xe=>T(Xe).toLowerCase().split(/[^a-z0-9]+/i).map(Ye=>Ye.trim()).filter(Boolean).map(Ye=>Ye.length>3&&Ye.endsWith("s")?Ye.slice(0,-1):Ye),K=(Xe,Ye)=>{const ft=T(Xe),Lt=T(Ye);if(!Lt)return ft;if(!ft)return Lt;const Wt=U(ft),ve=U(Lt),ye=new Set(Wt),Le=new Set(ve),Me=ve.length>0&&ve.every(le=>ye.has(le)),Ze=Wt.length>0&&Wt.every(le=>Le.has(le));return Me||Ze?ft:`${ft} - ${Lt}`},we=[],me=new Map,Ve=Xe=>{const Ye=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ze=[];for(let le=0;le<Me.length;le+=1){const $e=Number(Me[le]||0),Ge=le>0?Number(Me[le-1]||0):0;Ze.push(Math.max(0,$e-Ge))}return Ze},ft=Me=>{if(!Array.isArray(Me))return[];const Ze=Me.reduce(($e,Ge)=>Math.max($e,Array.isArray(Ge)?Ge.length:0),0);if(Ze<=0)return[];const le=new Array(Ze).fill(0);return Me.forEach($e=>{if(Array.isArray($e))for(let Ge=0;Ge<Ze;Ge+=1)le[Ge]+=Number($e[Ge]||0)}),le},Lt=Me=>Array.isArray(Me)?Me.map(Ze=>Number(Ze||0)):null,ve=(Me=>{if(!Array.isArray(Me)||Me.length===0)return null;const Ze=Me[0];if(!Array.isArray(Ze))return null;if(Array.isArray(Ze[0])&&Array.isArray(Ze[0][0]))return ft(Ze);if(Array.isArray(Ze[0])&&!Array.isArray(Ze[0][0])){const le=Me.map($e=>Lt(Array.isArray($e)?$e[0]:null)).filter($e=>Array.isArray($e)&&$e.length>0);if(le.length>0)return ft(le)}return null})(Xe==null?void 0:Xe.targetDamage1S),ye=Array.isArray(Xe==null?void 0:Xe.damage1S)&&Array.isArray(Xe.damage1S[0])?Xe.damage1S[0]:null,Le=ve||(Array.isArray(ye)?ye.map(Me=>Number(Me||0)):[]);return Ye(Le)},Ne=(Xe,Ye)=>{if(!Array.isArray(Xe)||Xe.length===0||Ye<=0)return 0;let ft=0,Lt=0;for(let Wt=0;Wt<Xe.length;Wt+=1)ft+=Number(Xe[Wt]||0),Wt>=Ye&&(ft-=Number(Xe[Wt-Ye]||0)),Wt>=Ye-1&&ft>Lt&&(Lt=ft);return Math.max(0,Lt)},lt=(Xe,Ye)=>{if(!Array.isArray(Xe)||Xe.length===0||Ye<=0)return[];const ft=[];for(let Lt=0;Lt<Xe.length;Lt+=Ye){const Wt=Math.min(Lt+Ye,Xe.length),ve=Xe.slice(Lt,Wt).reduce((ye,Le)=>ye+Number(Le||0),0);ft.push(ve)}return ft},mt=(Xe,Ye)=>{const ft=Number(Xe);if(!Number.isFinite(ft))return{name:String(Xe||"Unknown Skill"),icon:void 0};const Lt=(Ye==null?void 0:Ye.skillMap)||{},Wt=(Ye==null?void 0:Ye.buffMap)||{},ve=(Lt==null?void 0:Lt[`s${ft}`])||(Lt==null?void 0:Lt[`${ft}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const ye=(Wt==null?void 0:Wt[`b${ft}`])||(Wt==null?void 0:Wt[`${ft}`]);return ye!=null&&ye.name?{name:String(ye.name),icon:ye==null?void 0:ye.icon}:{name:`Skill ${ft}`,icon:void 0}},wt=Xe=>Array.isArray(Xe)?Xe.map(Ye=>Array.isArray(Ye)?[Number(Ye[0]),Number(Ye[1])]:Ye&&typeof Ye=="object"?[Number(Ye.time),Number(Ye.value)]:null).filter(Ye=>!!Ye&&Number.isFinite(Ye[0])&&Ye[0]>=0):[],Gt=(Xe,Ye,ft,Lt,Wt)=>{if(!Xe.length||Lt<=0)return[];const ve=Math.max(Lt*5e3,Wt||0),ye=Qe=>Qe.reduce((Qt,Rt)=>Rt>=0&&Rt<=ve+2e3?Qt+1:Qt,0),Le=Xe.map(Qe=>Number(Qe||0)).filter(Qe=>Number.isFinite(Qe)&&Qe>=0);if(!Le.length)return[];const Me=[Le],Ze=Le.reduce((Qe,Qt)=>Math.max(Qe,Qt),0),le=Le.reduce((Qe,Qt)=>Math.min(Qe,Qt),Number.POSITIVE_INFINITY);Ze>ve*20&&Me.push(Le.map(Qe=>Qe/1e3)),Ze<=ve*2&&le>=0&&Ze>0&&Ze<Math.max(120,Lt*5+10)&&Me.push(Le.map(Qe=>Qe*1e3));let $e=Le,Ge=0,Oe=-1;return Me.forEach(Qe=>{const Qt=Qe.reduce((wn,En)=>Math.min(wn,En),Number.POSITIVE_INFINITY),Rt=new Set([0,...Ye,...ft]);if(Number.isFinite(Qt)&&ve>0&&Qt>ve){const wn=Math.floor(Qt/ve)*ve;Rt.add(wn),Rt.add(Math.max(0,wn-ve))}Rt.forEach(wn=>{const En=Qe.map(hn=>hn-wn),Zt=ye(En);Zt>Oe&&(Oe=Zt,Ge=wn,$e=Qe)})}),$e.map(Qe=>Qe-Ge).filter(Qe=>Number.isFinite(Qe)&&Qe>=0)},Xt=(Xe,Ye,ft,Lt,Wt)=>{const ve=Gt(Xe,Ye,ft,Lt,Wt);return Array.from(new Set(ve.map(ye=>Math.floor(ye/5e3)).filter(ye=>Number.isFinite(ye)&&ye>=0&&ye<Lt)))};a.map(Xe=>({log:Xe,ts:Xi(Xe==null?void 0:Xe.details,Xe)})).sort((Xe,Ye)=>Xe.ts-Ye.ts).forEach(({log:Xe},Ye)=>{const ft=Xe==null?void 0:Xe.details;if(!ft)return;const Lt=T(ft.fightName||Xe.fightName||`Fight ${Ye+1}`),Wt=Mt(ft,Xe),ve=K(Lt,String(Wt||"")),ye={},Le=Array.isArray(ft.players)?ft.players:[],Me=Le.flatMap(Oe=>{const Qe=Oe==null?void 0:Oe.combatReplayData;return Array.isArray(Qe)?Qe.map(Qt=>Number(Qt==null?void 0:Qt.start)):[Number(Qe==null?void 0:Qe.start)]}).filter(Oe=>Number.isFinite(Oe)&&Oe>=0);Le.forEach(Oe=>{if(Oe!=null&&Oe.notInSquad)return;const Qe=String((Oe==null?void 0:Oe.account)||(Oe==null?void 0:Oe.name)||"Unknown"),Qt=String((Oe==null?void 0:Oe.character_name)||(Oe==null?void 0:Oe.display_name)||(Oe==null?void 0:Oe.name)||""),Rt=String((Oe==null?void 0:Oe.profession)||"Unknown"),wn=`${Qe}|${Rt}`,En=wv(Oe,ft),Zt=Number(En.peak||0),hn=Ve(Oe),de=Number(Ne(hn,1)||0),Ie=Number(Ne(hn,5)||0),nt=Number(Ne(hn,30)||0),at=Math.max(0,Math.ceil(Number((ft==null?void 0:ft.durationMS)||0)/5e3)),kt=Math.max(0,Math.ceil(hn.length/5)),se=Math.max(at,kt),We=lt(hn,5),ze=Array.from({length:se},(De,Je)=>Number(We[Je]||0)),rt=new Map,Bt=De=>{if(!De||typeof De!="object"||De.indirectDamage)return;const Je=Number(De.totalDamage||0);if(!Number.isFinite(Je)||Je<=0)return;const vt=Number(De.connectedHits||De.hits||0),yt=mt(De.id,ft),Ht=yt.name,kn=rt.get(Ht)||{skillName:Ht,damage:0,hits:0,icon:yt.icon};kn.damage+=Je,kn.hits+=Number.isFinite(vt)?vt:0,!kn.icon&&yt.icon&&(kn.icon=yt.icon),rt.set(Ht,kn)},St=new Map;Array.isArray(Oe==null?void 0:Oe.targetDamageDist)&&Oe.targetDamageDist.forEach(De=>{Array.isArray(De)&&De.forEach(Je=>{Array.isArray(Je)&&Je.forEach(vt=>{const yt=Number(vt==null?void 0:vt.id),Ht=Number((vt==null?void 0:vt.totalDamage)||0);if(Number.isFinite(yt)){const kn=St.get(yt)||{damage:0,hits:0};kn.damage+=Number.isFinite(Ht)?Ht:0,kn.hits+=Number((vt==null?void 0:vt.connectedHits)||(vt==null?void 0:vt.hits)||0),St.set(yt,kn)}Bt(vt)})})}),!(ft!=null&&ft.detailedWvW)&&Array.isArray(Oe==null?void 0:Oe.totalDamageDist)&&Oe.totalDamageDist.forEach(De=>{Array.isArray(De)&&De.forEach(Je=>{const vt=Number(Je==null?void 0:Je.id);if(!Number.isFinite(vt)){Bt(Je);return}const yt=St.get(vt);if(!yt){Bt(Je);return}const Ht=Number((Je==null?void 0:Je.totalDamage)||0),kn=Number((Je==null?void 0:Je.connectedHits)||(Je==null?void 0:Je.hits)||0),Ir=Ht-Number(yt.damage||0),li=kn-Number(yt.hits||0);Ir<=0&&li<=0||Bt({...Je,totalDamage:Math.max(0,Ir),connectedHits:Math.max(0,li),hits:Math.max(0,li)})})});const Dt=(()=>{const De=Oe==null?void 0:Oe.combatReplayData;return Array.isArray(De)?De.filter(Je=>Je&&typeof Je=="object"):De&&typeof De=="object"?[De]:[]})(),zt=Dt.map(De=>Number(De==null?void 0:De.start)).filter(De=>Number.isFinite(De)&&De>=0),Vt=Dt.flatMap(De=>wt(De==null?void 0:De.down).map(([Je])=>Number(Je||0))),It=Dt.flatMap(De=>wt(De==null?void 0:De.dead).map(([Je])=>Number(Je||0)));ye[wn]={hit:Zt,burst1s:de,burst5s:Ie,burst30s:nt,skillName:En.skillName,buckets5s:ze,downIndices5s:Xt(Vt,zt,Me,se,Number((ft==null?void 0:ft.durationMS)||0)),deathIndices5s:Xt(It,zt,Me,se,Number((ft==null?void 0:ft.durationMS)||0)),skillRows:Array.from(rt.values()).sort((De,Je)=>Je.damage-De.damage).slice(0,50)};const Et=me.get(wn)||{key:wn,account:Qe,displayName:Qe,characterName:Qt,profession:Rt,professionList:[Rt],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Et.logs+=1,Et.professionList.includes(Rt)||Et.professionList.push(Rt),!Et.characterName&&Qt&&(Et.characterName=Qt),Zt>Et.peakHit&&(Et.peakHit=Zt,Et.peakFightLabel=ve,Et.peakSkillName=En.skillName),de>Et.peak1s&&(Et.peak1s=de),Ie>Et.peak5s&&(Et.peak5s=Ie),nt>Et.peak30s&&(Et.peak30s=nt),me.set(wn,Et)});const Ze=Object.values(ye).reduce((Oe,Qe)=>Math.max(Oe,Number((Qe==null?void 0:Qe.hit)||0)),0),le=Object.values(ye).reduce((Oe,Qe)=>Math.max(Oe,Number((Qe==null?void 0:Qe.burst1s)||0)),0),$e=Object.values(ye).reduce((Oe,Qe)=>Math.max(Oe,Number((Qe==null?void 0:Qe.burst5s)||0)),0),Ge=Object.values(ye).reduce((Oe,Qe)=>Math.max(Oe,Number((Qe==null?void 0:Qe.burst30s)||0)),0);we.push({id:Xe.filePath||Xe.id||`fight-${Ye+1}`,shortLabel:`F${Ye+1}`,fullLabel:ve,timestamp:Xi(ft,Xe),values:ye,maxHit:Ze,max1s:le,max5s:$e,max30s:Ge})});const On=Array.from(me.values()).sort((Xe,Ye)=>Ye.peakHit!==Xe.peakHit?Ye.peakHit-Xe.peakHit:Xe.displayName.localeCompare(Ye.displayName));return{fights:we,players:On}})(),Sv=(()=>{const T=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=ve=>T(ve).toLowerCase().split(/[^a-z0-9]+/i).map(ye=>ye.trim()).filter(Boolean).map(ye=>ye.length>3&&ye.endsWith("s")?ye.slice(0,-1):ye),K=(ve,ye)=>{const Le=T(ve),Me=T(ye);if(!Me)return Le;if(!Le)return Me;const Ze=U(Le),le=U(Me),$e=new Set(Ze),Ge=new Set(le),Oe=le.length>0&&le.every(Qt=>$e.has(Qt)),Qe=Ze.length>0&&Ze.every(Qt=>Ge.has(Qt));return Oe||Qe?Le:`${Le} - ${Me}`},we=[],me=new Map,Ve=(ve,ye)=>{const Le=Number(ve);if(!Number.isFinite(Le))return{name:String(ve||"Unknown Skill"),icon:void 0};const Me=(ye==null?void 0:ye.skillMap)||{},Ze=(ye==null?void 0:ye.buffMap)||{},le=(Me==null?void 0:Me[`s${Le}`])||(Me==null?void 0:Me[`${Le}`]);if(le!=null&&le.name)return{name:String(le.name),icon:le==null?void 0:le.icon};const $e=(Ze==null?void 0:Ze[`b${Le}`])||(Ze==null?void 0:Ze[`${Le}`]);return $e!=null&&$e.name?{name:String($e.name),icon:$e==null?void 0:$e.icon}:{name:`Skill ${Le}`,icon:void 0}},Ne=(ve,ye)=>{let Le=0,Me="";const Ze=le=>{if(!le||typeof le!="object"||le.indirectDamage)return;const $e=[Number(le.max),Number(le.maxDamage),Number(le.maxHit)].filter(Oe=>Number.isFinite(Oe)),Ge=$e.length>0?Math.max(...$e):0;Ge>Le&&(Le=Ge,Me=Ve(le.id,ye).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(le=>{Array.isArray(le)&&le.forEach($e=>Ze($e))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(le=>{Array.isArray(le)&&le.forEach($e=>{Array.isArray($e)&&$e.forEach(Ge=>Ze(Ge))})}),{peak:Le,skillName:Me||"Unknown Skill"}},lt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=[];for(let Le=0;Le<ve.length;Le+=1){const Me=Number(ve[Le]||0),Ze=Le>0?Number(ve[Le-1]||0):0;ye.push(Math.max(0,Me-Ze))}return ye},mt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=ve.reduce((Me,Ze)=>Math.max(Me,Array.isArray(Ze)?Ze.length:0),0);if(ye<=0)return[];const Le=new Array(ye).fill(0);return ve.forEach(Me=>{if(Array.isArray(Me))for(let Ze=0;Ze<ye;Ze+=1)Le[Ze]+=Number(Me[Ze]||0)}),Le},wt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=ve[0];if(typeof ye=="number")return ve.map(Le=>Number(Le||0));if(Array.isArray(ye)&&ye.length>0){if(typeof ye[0]=="number")return ye.map(Le=>Number(Le||0));if(Array.isArray(ye[0])){const Le=ye.map(Me=>Array.isArray(Me)?Me.map(Ze=>Number(Ze||0)):null).filter(Me=>Array.isArray(Me)&&Me.length>0);if(Le.length>0)return mt(Le)}}return[]},Gt=ve=>{const ye=wt(ve==null?void 0:ve.powerDamage1S),Le=wt(ve==null?void 0:ve.damage1S),Me=ye.length>0?ye:Le;return lt(Me)},Xt=(ve,ye)=>{const Le=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(Le)||!Array.isArray(Le[ye]))return[];const Me=Le[ye];if(!Array.isArray(Me)||Me.length===0)return[];if(typeof Me[0]=="number")return Me.map(Ze=>Number(Ze||0));if(Array.isArray(Me[0])&&!Array.isArray(Me[0][0]))return Me[0].map(Ze=>Number(Ze||0));if(Array.isArray(Me[0])&&Array.isArray(Me[0][0])){const le=Me[0].map($e=>Array.isArray($e)?$e.map(Ge=>Number(Ge||0)):null).filter($e=>Array.isArray($e)&&$e.length>0);return mt(le)}return[]},On=(ve,ye)=>{if(!Array.isArray(ve)||ve.length===0||ye<=0)return 0;let Le=0,Me=0;for(let Ze=0;Ze<ve.length;Ze+=1)Le+=Number(ve[Ze]||0),Ze>=ye&&(Le-=Number(ve[Ze-ye]||0)),Ze>=ye-1&&Le>Me&&(Me=Le);return Math.max(0,Me)},Xe=(ve,ye)=>{if(!Array.isArray(ve)||ve.length===0||ye<=0)return[];const Le=[];for(let Me=0;Me<ve.length;Me+=ye){const Ze=Math.min(Me+ye,ve.length),le=ve.slice(Me,Ze).reduce(($e,Ge)=>$e+Number(Ge||0),0);Le.push(le)}return Le},Ye=ve=>Array.isArray(ve)?ve.map(ye=>Array.isArray(ye)?[Number(ye[0]),Number(ye[1])]:ye&&typeof ye=="object"?[Number(ye.time),Number(ye.value)]:null).filter(ye=>!!ye&&Number.isFinite(ye[0])&&ye[0]>=0):[],ft=(ve,ye,Le,Me,Ze)=>{if(!ve.length||Me<=0)return[];const le=Math.max(Me*5e3,Ze||0),$e=Zt=>Zt.reduce((hn,de)=>de>=0&&de<=le+2e3?hn+1:hn,0),Ge=ve.map(Zt=>Number(Zt||0)).filter(Zt=>Number.isFinite(Zt)&&Zt>=0);if(!Ge.length)return[];const Oe=[Ge],Qe=Ge.reduce((Zt,hn)=>Math.max(Zt,hn),0),Qt=Ge.reduce((Zt,hn)=>Math.min(Zt,hn),Number.POSITIVE_INFINITY);Qe>le*20&&Oe.push(Ge.map(Zt=>Zt/1e3)),Qe<=le*2&&Qt>=0&&Qe>0&&Qe<Math.max(120,Me*5+10)&&Oe.push(Ge.map(Zt=>Zt*1e3));let Rt=Ge,wn=0,En=-1;return Oe.forEach(Zt=>{const hn=Zt.reduce((Ie,nt)=>Math.min(Ie,nt),Number.POSITIVE_INFINITY),de=new Set([0,...ye,...Le]);if(Number.isFinite(hn)&&le>0&&hn>le){const Ie=Math.floor(hn/le)*le;de.add(Ie),de.add(Math.max(0,Ie-le))}de.forEach(Ie=>{const nt=Zt.map(kt=>kt-Ie),at=$e(nt);at>En&&(En=at,wn=Ie,Rt=Zt)})}),Rt.map(Zt=>Zt-wn).filter(Zt=>Number.isFinite(Zt)&&Zt>=0)},Lt=(ve,ye,Le,Me,Ze)=>{const le=ft(ve,ye,Le,Me,Ze);return Array.from(new Set(le.map($e=>Math.floor($e/5e3)).filter($e=>Number.isFinite($e)&&$e>=0&&$e<Me)))};a.map(ve=>({log:ve,ts:Xi(ve==null?void 0:ve.details,ve)})).sort((ve,ye)=>ve.ts-ye.ts).forEach(({log:ve},ye)=>{const Le=ve==null?void 0:ve.details;if(!Le)return;const Me=T(Le.fightName||ve.fightName||`Fight ${ye+1}`),Ze=Mt(Le,ve),le=K(Me,String(Ze||"")),$e={},Oe=(Array.isArray(Le.players)?Le.players:[]).filter(se=>!(se!=null&&se.notInSquad)),Qe=Oe.flatMap(se=>{const We=se==null?void 0:se.combatReplayData;return Array.isArray(We)?We.map(ze=>Number(ze==null?void 0:ze.start)):[Number(We==null?void 0:We.start)]}).filter(se=>Number.isFinite(se)&&se>=0),Qt=Oe.flatMap(se=>{const We=se==null?void 0:se.combatReplayData;return(Array.isArray(We)?We:We?[We]:[]).flatMap(rt=>Ye(rt==null?void 0:rt.down).map(([Bt])=>Number(Bt||0)))}),Rt=Oe.flatMap(se=>{const We=se==null?void 0:se.combatReplayData;return(Array.isArray(We)?We:We?[We]:[]).flatMap(rt=>Ye(rt==null?void 0:rt.dead).map(([Bt])=>Number(Bt||0)))}),wn=new Map,En=new Map,Zt=new Map;(Array.isArray(Le.targets)?Le.targets:[]).forEach((se,We)=>{if(!se||se.isFake||!se.enemyPlayer)return;const ze=V((se==null?void 0:se.profession)||(se==null?void 0:se.name)||(se==null?void 0:se.id))||"Unknown";Zt.set(ze,(Zt.get(ze)||0)+1);const rt=En.get(ze)||new Map;Array.isArray(se==null?void 0:se.totalDamageDist)&&se.totalDamageDist.forEach(Vt=>{Array.isArray(Vt)&&Vt.forEach(It=>{if(!It||typeof It!="object"||It.indirectDamage)return;const Et=Number(It.totalDamage||0);if(!Number.isFinite(Et)||Et<=0)return;const De=Number(It.connectedHits||It.hits||0),Je=Ve(It.id,Le),vt=Je.name,yt=rt.get(vt)||{skillName:vt,damage:0,hits:0,icon:Je.icon};yt.damage+=Et,yt.hits+=Number.isFinite(De)?De:0,!yt.icon&&Je.icon&&(yt.icon=Je.icon),rt.set(vt,yt)})}),En.set(ze,rt);const Bt=mt(Oe.map(Vt=>Xt(Vt,We))),St=Bt.length>0?lt(Bt):Gt(se),gt=Ne(se,Le);let Dt=wn.get(ze);Dt||(Dt={perSecond:[],hit:0,skillName:""},wn.set(ze,Dt)),St.length>Dt.perSecond.length&&(Dt.perSecond.length=St.length);for(let Vt=0;Vt<St.length;Vt+=1)Dt.perSecond[Vt]=Number(Dt.perSecond[Vt]||0)+Number(St[Vt]||0);const zt=Number(gt.peak||0);zt>Dt.hit&&(Dt.hit=zt,Dt.skillName=gt.skillName||"Unknown Skill")});const de=Array.from(wn.values()).some(se=>Array.isArray(se.perSecond)&&se.perSecond.some(We=>Number(We||0)>0));if(wn.size===0||!de){const se=mt(Oe.map(ze=>{const rt=wt(ze==null?void 0:ze.powerDamageTaken1S);return lt(rt)})),We=Array.from(Zt.values()).reduce((ze,rt)=>ze+Number(rt||0),0);se.length>0&&We>0&&Zt.forEach((ze,rt)=>{const Bt=Number(ze||0)/We,St=se.map(Dt=>Number(Dt||0)*Bt),gt=wn.get(rt);wn.set(rt,{perSecond:St,hit:Number((gt==null?void 0:gt.hit)||0),skillName:String((gt==null?void 0:gt.skillName)||"")})})}wn.forEach((se,We)=>{var Je;const ze=We,rt=Number(se.hit||0),Bt=Number(On(se.perSecond,1)||0),St=Number(On(se.perSecond,5)||0),gt=Number(On(se.perSecond,30)||0),Dt=Math.max(0,Math.ceil(Number((Le==null?void 0:Le.durationMS)||0)/5e3)),zt=Math.max(0,Math.ceil(se.perSecond.length/5)),Vt=Math.max(Dt,zt),It=Xe(se.perSecond,5),Et=Array.from({length:Vt},(vt,yt)=>Number(It[yt]||0));$e[ze]={hit:rt,burst1s:Bt,burst5s:St,burst30s:gt,skillName:se.skillName||"Unknown Skill",buckets5s:Et,downIndices5s:Lt(Qt,[],Qe,Vt,Number((Le==null?void 0:Le.durationMS)||0)),deathIndices5s:Lt(Rt,[],Qe,Vt,Number((Le==null?void 0:Le.durationMS)||0)),skillRows:Array.from(((Je=En.get(We))==null?void 0:Je.values())||[]).sort((vt,yt)=>yt.damage-vt.damage).slice(0,50)};const De=me.get(ze)||{key:ze,account:We,displayName:We,characterName:"",profession:We,professionList:[We],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};De.logs+=1,rt>De.peakHit&&(De.peakHit=rt,De.peakFightLabel=le,De.peakSkillName=se.skillName||"Unknown Skill"),Bt>De.peak1s&&(De.peak1s=Bt),St>De.peak5s&&(De.peak5s=St),gt>De.peak30s&&(De.peak30s=gt),me.set(ze,De)});const Ie=Object.values($e).reduce((se,We)=>Math.max(se,Number((We==null?void 0:We.hit)||0)),0),nt=Object.values($e).reduce((se,We)=>Math.max(se,Number((We==null?void 0:We.burst1s)||0)),0),at=Object.values($e).reduce((se,We)=>Math.max(se,Number((We==null?void 0:We.burst5s)||0)),0),kt=Object.values($e).reduce((se,We)=>Math.max(se,Number((We==null?void 0:We.burst30s)||0)),0);we.push({id:ve.filePath||ve.id||`fight-${ye+1}`,shortLabel:`F${ye+1}`,fullLabel:le,timestamp:Xi(Le,ve),values:$e,maxHit:Ie,max1s:nt,max5s:at,max30s:kt})});const Wt=Array.from(me.values()).sort((ve,ye)=>ye.peakHit!==ve.peakHit?ye.peakHit-ve.peakHit:ve.displayName.localeCompare(ye.displayName));return{fights:we,players:Wt}})(),Nv=Array.from(W.entries()).map(([T,U])=>{const K=H.get(T)||{},we=Array.from(U.values()).map(me=>{var On,Xe;const Ve=Array.from(me.professions||[]).filter(Ye=>Ye&&Ye!=="Unknown");let Ne=me.profession||"Unknown";if(Ve.length>0){Ne=Ve[0];let Ye=((On=me.professionTimeMs)==null?void 0:On[Ne])||0;Ve.forEach(ft=>{var Wt;const Lt=((Wt=me.professionTimeMs)==null?void 0:Wt[ft])||0;Lt>Ye&&(Ye=Lt,Ne=ft)})}const lt=me.durationMs||0,mt=me.totalMs/1e3,wt=lt>0?me.totalMs/lt:0,Gt=((Xe=_.get(me.account))==null?void 0:Xe.supportActiveMs)||lt,Xt=Gt>0?me.uptimeMs/Gt:0;return{account:me.account,profession:Ne,professionList:Ve,total:mt,perSecond:wt,uptimePerSecond:Xt,duration:lt/1e3}}).filter(me=>me.total>0||me.perSecond>0);return{id:T,name:K.name||T,icon:K.icon,rows:we}}).filter(T=>T.rows.length>0),Cv=Array.from(ee.values()).map(T=>{const U=Array.from(T.skills.values()).sort((we,me)=>me.damage-we.damage),K=U.reduce((we,me)=>(we[me.id]=me,we),{});return{key:T.key,account:T.account,displayName:T.displayName,profession:T.profession,professionList:T.professionList,totalFightMs:T.totalFightMs,skills:U,skillMap:K}}).sort((T,U)=>T.displayName.localeCompare(U.displayName));return{total:p,wins:g,losses:y,avgSquadSize:he,avgEnemies:Se,squadKDR:Ft,enemyKDR:Kt,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:xn,...yl,outgoingConditionSummary:Object.values(ne).sort((T,U)=>U.damage-T.damage),incomingConditionSummary:Object.values(ue).sort((T,U)=>U.damage-T.damage),outgoingConditionPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.incomingConditions})),topSkills:ke,topIncomingSkills:ot,topSkillsByDamage:X,topSkillsByDownContribution:pe,playerSkillBreakdowns:Cv,topSkillsMetric:m,mapData:At,timelineData:Ke,boonTables:ln,offensePlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,offenseTotals:T.offenseTotals,offenseRateWeights:T.offenseRateWeights,totalFightMs:T.totalFightMs})),defensePlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,defenseTotals:T.defenseTotals,activeMs:T.defenseActiveMs})),damageMitigationPlayers:lr,damageMitigationMinions:ua,supportPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,supportTotals:T.supportTotals,activeMs:T.supportActiveMs})),healingPlayers:Array.from(_.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,healingTotals:T.healingTotals,activeMs:T.healingActiveMs})),mvp:bl,silver:zs,bronze:wl,squadClassData:Nn,enemyClassData:cr,fightBreakdown:Vr,attendanceData:Ar,squadCompByFight:ys,spikeDamage:kv,incomingStrikeDamage:Sv,specialTables:Nv,topStatsPerSecond:ei,topStatsLeaderboardsPerSecond:Di,avgMvpScore:Us}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(v=>{const b=v.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Xi(b,v)||Date.now(),N={id:v.filePath||v.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(D=>{if(D.notInSquad)return;const _=D.account||D.name||"Unknown",A=D.profession||"Unknown",$=`${_}|${A}`;let M=h.get($);M||(M={key:$,account:_,displayName:_,profession:A,professionList:[A],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set($,M)),M.logs++;const ee=(Array.isArray(D.activeTimes)?D.activeTimes[0]:0)/1e3;M.totalActiveSeconds=(M.totalActiveSeconds||0)+ee,N.playerActiveSeconds[$]=ee,(D.rotation||[]).forEach(ne=>{var re,E,j;if(!(ne!=null&&ne.id))return;const ue=((re=ne.skills)==null?void 0:re.length)||0;if(ue<=0)return;const q=`s${ne.id}`,H=((E=w[q])==null?void 0:E.name)||`Skill ${ne.id}`,W=(j=w[q])==null?void 0:j.icon;M.skillTotals[q]=(M.skillTotals[q]||0)+ue,f.set(q,(f.get(q)||0)+ue),p.set(q,H),W&&!g.has(q)&&g.set(q,W),N.skillEntries[q]||(N.skillEntries[q]={name:H,icon:W,players:{}}),!N.skillEntries[q].icon&&W&&(N.skillEntries[q].icon=W),N.skillEntries[q].players[$]=(N.skillEntries[q].players[$]||0)+ue})}),m.push(N)});const y=Array.from(f.entries()).map(([v,b])=>({id:v,name:p.get(v)||v,total:b,icon:g.get(v)})).sort((v,b)=>b.total-v.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},XU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const[a,s]=x.useState(()=>nx({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[o,l]=x.useState(0),[c,d]=x.useState(0),[f,h]=x.useState(0),[m,p]=x.useState(0),[g,y]=x.useState(null),v=x.useRef(0),[b,w]=x.useState(0),S=x.useRef(null),C=x.useRef(null),[N,P]=x.useState(!1),D=x.useRef(null),A=e.length<=8,$=x.useRef(""),M=x.useRef(void 0),ee=x.useMemo(()=>{if(!r){$.current="",M.current=void 0;return}const H={...r};delete H.topSkillsMetric;const W=JSON.stringify(H);return $.current!==W&&($.current=W,M.current=H),M.current},[r]),ne=x.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),[e,t,n,ee,i]);x.useEffect(()=>{if(!(typeof Worker>"u")&&!N&&A)return C.current||(C.current=new Worker(new URL(""+new URL("statsWorker-u-QqHRja.js",import.meta.url).href,import.meta.url),{type:"module"}),C.current.onmessage=H=>{var W;((W=H.data)==null?void 0:W.type)==="result"&&(s(H.data.result),typeof H.data.computeId=="number"?l(H.data.computeId):l(re=>re+1),typeof H.data.logCount=="number"&&d(H.data.logCount),typeof H.data.token=="number"&&h(H.data.token),typeof H.data.completedAt=="number"&&p(H.data.completedAt),typeof H.data.flushId=="number"&&y(H.data.flushId))},C.current.onerror=H=>{var W;console.warn("[StatsWorker] Worker error. Falling back to main thread.",H),(W=C.current)==null||W.terminate(),C.current=null,P(!0)},C.current.onmessageerror=H=>{var W;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",H),(W=C.current)==null||W.terminate(),C.current=null,P(!0)},S.current!==null&&C.current.postMessage({type:"flush",flushId:S.current})),()=>{var H;(H=C.current)==null||H.terminate(),C.current=null}},[N,A]),x.useEffect(()=>{var H;if(!(!C.current||N||!A))try{v.current+=1,w(v.current),C.current.postMessage({type:"reset",token:v.current}),C.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}}),D.current&&(window.clearTimeout(D.current),D.current=null);let W=0;const re=()=>{if(!C.current)return;const E=5;for(let j=0;j<E&&W<e.length;j+=1,W+=1)C.current.postMessage({type:"log",payload:e[W]});W<e.length?D.current=window.setTimeout(re,0):(D.current=null,C.current.postMessage({type:"flush"}))};re()}catch(W){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",W),(H=C.current)==null||H.terminate(),C.current=null,P(!0)}},[ne,e,t,n,ee,i,A]);const ue=x.useMemo(()=>!N&&typeof Worker<"u"&&A?null:nx({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),[N,e,t,n,ee,i,A]);return x.useEffect(()=>{!N&&typeof Worker<"u"&&A||(l(H=>H+1),d(e.length),h(v.current),p(Date.now()))},[ue,N,e.length,A]),{result:N||typeof Worker>"u"||!A?ue??nx({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}):a,computeTick:o,lastComputedLogCount:c,lastComputedToken:f,activeToken:b,lastComputedAt:m,lastComputedFlushId:g,requestFlush:()=>{const H=Date.now();return S.current=H,C.current&&!N&&C.current.postMessage({type:"flush",flushId:H}),H}}},QU=e=>({apmSpecBuckets:x.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=r6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const P=Number(N);if(!Number.isFinite(P)||P<=0)return;const D=r.get(C),_=(D==null?void 0:D.name)||C,A=D==null?void 0:D.icon,$=a(_,C);f+=P,$&&(h+=P);let M=l.skillMap.get(C);M||(M={id:C,name:_,icon:A,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,M)),!M.icon&&A&&(M.icon=A),M.totalCasts+=P;const ee=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;M.playerCounts.set(ee,P)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),v=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,S={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:v,aps:b,apsNoAuto:w};l.playerRows.push(S)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var S;const y=Number(((S=d.playerCounts)==null?void 0:S.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const v=Number(g.totalActiveSeconds||0),b=v>0?y/(v/60):0,w=v>0?y/v:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),ZU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=x.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=x.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=x.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=x.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let v=!1,b=!1;if(Object.entries(g.players).forEach(([w,S])=>{var N;if(n.size>0&&!n.has(w))return;let C=S;if(f){const P=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=P>0?S/P:0}y[w]=C,C>d&&(d=C),v=!0,b=!0}),n.size>0){if(!b)return null}else if(!v)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=x.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function MO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=MO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=MO(e))&&(r&&(r+=" "),r+=t);return r}var JU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function D1(e){if(typeof e!="string")return!1;var t=JU;return t.includes(e)}var e8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t8=new Set(e8);function OO(e){return typeof e!="string"?!1:t8.has(e)}function IO(e){return typeof e=="string"&&e.startsWith("data-")}function qa(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OO(n)||IO(n))&&(t[n]=e[n]);return t}function Du(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qa(t)}return typeof e=="object"&&!Array.isArray(e)?qa(e):null}function Vi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OO(n)||IO(n)||D1(n))&&(t[n]=e[n]);return t}function n8(e){return e==null?null:x.isValidElement(e)?Vi(e.props):typeof e=="object"&&!Array.isArray(e)?Vi(e):null}var r8=["children","width","height","viewBox","className","style","title","desc"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function i8(e,t){if(e==null)return{};var n,r,i=a8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M1=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=i8(e,r8),f=a||{width:r,height:i,x:0,y:0},h=jn("recharts-surface",s);return x.createElement("svg",tb({},Vi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),s8=["children","className"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,i=l8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aa=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=o8(e,s8),a=jn("recharts-layer",r);return x.createElement("g",nb({className:a},Vi(i),{ref:t}),n)}),_O=x.createContext(null),c8=()=>x.useContext(_O);function Wn(e){return function(){return e}}const LO=Math.cos,Lp=Math.sin,gs=Math.sqrt,$p=Math.PI,c0=2*$p,rb=Math.PI,ib=2*rb,_l=1e-6,u8=ib-_l;function $O(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function d8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $O;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class f8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$O:d8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>_l)if(!(Math.abs(f*l-c*d)>_l)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((rb-Math.acos((g+h-y)/(2*v*b)))/2),S=w/b,C=w/v;Math.abs(S-1)>_l&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>_l||Math.abs(this._y1-d)>_l)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%ib+ib),h>u8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>_l&&this._append`A${r},${r},0,${+(h>=rb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new f8(t)}function I1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FO(e){this._context=e}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function u0(e){return new FO(e)}function RO(e){return e[0]}function BO(e){return e[1]}function zO(e,t){var n=Wn(!0),r=null,i=u0,a=null,s=O1(o);e=typeof e=="function"?e:e===void 0?RO:Wn(e),t=typeof t=="function"?t:t===void 0?BO:Wn(t);function o(l){var c,d=(l=I1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Wn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Wn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function mh(e,t,n){var r=null,i=Wn(!0),a=null,s=u0,o=null,l=O1(c);e=typeof e=="function"?e:e===void 0?RO:Wn(+e),t=typeof t=="function"?t:Wn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BO:Wn(+n);function c(f){var h,m,p,g=(f=I1(f)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],S[p]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return o=null,b+""||null}function d(){return zO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Wn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class UO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function m8(e){return new UO(e,!0)}function h8(e){return new UO(e,!1)}const _1={draw(e,t){const n=gs(t/$p);e.moveTo(n,0),e.arc(0,0,n,0,c0)}},p8={draw(e,t){const n=gs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VO=gs(1/3),g8=VO*2,v8={draw(e,t){const n=gs(t/g8),r=n*VO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},x8={draw(e,t){const n=gs(t),r=-n/2;e.rect(r,r,n,n)}},y8=.8908130915292852,WO=Lp($p/10)/Lp(7*$p/10),b8=Lp(c0/10)*WO,w8=-LO(c0/10)*WO,k8={draw(e,t){const n=gs(t*y8),r=b8*n,i=w8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=c0*a/5,o=LO(s),l=Lp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},rx=gs(3),S8={draw(e,t){const n=-gs(t/(rx*3));e.moveTo(0,n*2),e.lineTo(-rx*n,-n),e.lineTo(rx*n,-n),e.closePath()}},Da=-.5,Ma=gs(3)/2,ab=1/gs(12),N8=(ab/2+1)*3,C8={draw(e,t){const n=gs(t/N8),r=n/2,i=n*ab,a=r,s=n*ab+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Da*r-Ma*i,Ma*r+Da*i),e.lineTo(Da*a-Ma*s,Ma*a+Da*s),e.lineTo(Da*o-Ma*l,Ma*o+Da*l),e.lineTo(Da*r+Ma*i,Da*i-Ma*r),e.lineTo(Da*a+Ma*s,Da*s-Ma*a),e.lineTo(Da*o+Ma*l,Da*l-Ma*o),e.closePath()}};function j8(e,t){let n=null,r=O1(i);e=typeof e=="function"?e:Wn(e||_1),t=typeof t=="function"?t:Wn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Wn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Wn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Fp(){}function Rp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P8(e){return new HO(e)}function qO(e){this._context=e}qO.prototype={areaStart:Fp,areaEnd:Fp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A8(e){return new qO(e)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E8(e){return new KO(e)}function GO(e){this._context=e}GO.prototype={areaStart:Fp,areaEnd:Fp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T8(e){return new GO(e)}function dC(e){return e<0?-1:1}function fC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(dC(a)+dC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function mC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ix(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Bp(e){this._context=e}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ix(this,this._t0,mC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ix(this,mC(this,n=fC(this,e,t)),n);break;default:ix(this,this._t0,n=fC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YO(e){this._context=new XO(e)}(YO.prototype=Object.create(Bp.prototype)).point=function(e,t){Bp.prototype.point.call(this,t,e)};function XO(e){this._context=e}XO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function D8(e){return new Bp(e)}function M8(e){return new YO(e)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hC(e),i=hC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function O8(e){return new QO(e)}function d0(e,t){this._context=e,this._t=t}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function I8(e){return new d0(e,.5)}function _8(e){return new d0(e,0)}function L8(e){return new d0(e,1)}function uc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $8(e,t){return e[t]}function F8(e){const t=[];return t.key=e,t}function R8(){var e=Wn([]),t=sb,n=uc,r=$8;function i(a){var s=Array.from(e.apply(this,arguments),F8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=I1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Wn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?sb:typeof a=="function"?a:Wn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??uc,i):n},i}function B8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}uc(e,t)}}function z8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}uc(e,t)}}function U8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,v=g[r-1][1]||0;m+=y-v}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,uc(e,t)}}var f0={},ZO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(ZO);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(L1);var m0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(m0);var h0={},JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(JO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO,n=m0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(h0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO,n=L1,r=m0,i=h0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(f0);var V8=f0.get;const dc=ps(V8);var W8=4;function qo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+qo(o)+a:i+a},"")}var ji=e=>e===0?0:e>0?1:-1,Ls=e=>typeof e=="number"&&e!=+e,fo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ct=e=>(typeof e=="number"||e instanceof Number)&&!Ls(e),$s=e=>Ct(e)||typeof e=="string",H8=0,Nf=e=>{var t=++H8;return"".concat(e||"").concat(t)},ba=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ct(t)&&typeof t!="string")return r;var a;if(fo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Ls(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},e5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ci(e,t,n){return Ct(e)&&Ct(t)?qo(e+n*(t-e)):t}function t5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):dc(r,t))===n)}var Yr=e=>e===null||typeof e>"u",em=e=>Yr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function q8(e){return e!=null}function tm(){}var K8=["type","size","sizeType"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){G8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G8(e,t,n){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y8(e){var t=X8(e,"string");return typeof t=="symbol"?t:t+""}function X8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q8(e,t){if(e==null)return{};var n,r,i=Z8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n5={symbolCircle:_1,symbolCross:p8,symbolDiamond:v8,symbolSquare:x8,symbolStar:k8,symbolTriangle:S8,symbolWye:C8},J8=Math.PI/180,eV=e=>{var t="symbol".concat(em(e));return n5[t]||_1},tV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*J8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nV=(e,t)=>{n5["symbol".concat(em(e))]=t},$1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Q8(e,K8),a=gC(gC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=eV(s),m=j8().type(h).size(tV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Vi(a);return Ct(c)&&Ct(d)&&Ct(n)?x.createElement("path",ob({},f,{className:jn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};$1.registerSymbol=nV;var r5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,F1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{D1(i)&&(r[i]=a=>n[i](n,a))}),r},rV=(e,t,n)=>r=>(e(t,n,r),null),R1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];D1(i)&&typeof a=="function"&&(r||(r={}),r[i]=rV(a,t,n))}),r};function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=sV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t){var n=iV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zp.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=32,fV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function mV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=La/2,a=La/6,s=La/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:La,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(La,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(La/8,"h").concat(La,"v").concat(La*3/4,"h").concat(-La,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var d=lV({},t);return delete d.legendIcon,x.cloneElement(t.legendIcon,d)}return x.createElement($1,{fill:o,cx:i,cy:i,size:La,sizeType:"diameter",type:l})}function hV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:La,height:La},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=jn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return x.createElement("li",zp({className:m,style:l,key:"legend-item-".concat(f)},R1(e,d,f)),x.createElement(M1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},x.createElement(mV,{data:d,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var pV=e=>{var t=Xr(e,fV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(hV,zp({},t,{payload:n})))},i5={},a5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(a5);var s5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(s5);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(B1);var o5={},p0={},l5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(l5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(p0);var c5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(c5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0,n=c5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(o5);var u5={},d5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(d5);var f5={},z1={},m5={},U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(U1);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(V1);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=V1,r=W1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,v,b,w){const S=h(p,g,y,v,b,w);return S!==void 0?!!S:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let v=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let S=!1;if(h(w,y,g,d,f,m)&&(S=!0),S){p.add(b),v=!0;break}}if(!v)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(m5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(z1);var h5={},H1={},p5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(p5);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(g0);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",D="[object BigInt64Array]",_="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=_,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(q1);var g5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(g5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5,n=g0,r=q1,i=V1,a=g5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[v,b]of d)y.set(v,o(b,v,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const v of d)y.add(o(v,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=o(f[v],v,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(H1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(h5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=h5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(f5);var v5={},x5={},y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=g0,r=q1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(x5);var b5={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(K1);var w5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(w5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=K1,r=w5,i=h0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(b5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=m0,r=x5,i=f0,a=b5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(v5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=d5,r=f5,i=v5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(u5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a5,n=s5,r=B1,i=o5,a=u5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(i5);var gV=i5.uniqBy;const yC=ps(gV);function k5(e,t,n){return t===!0?yC(e,n):typeof t=="function"?yC(e,t):e}var S5={exports:{}},N5={},C5={exports:{}},j5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=x;function vV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xV=typeof Object.is=="function"?Object.is:vV,yV=Mu.useState,bV=Mu.useEffect,wV=Mu.useLayoutEffect,kV=Mu.useDebugValue;function SV(e,t){var n=t(),r=yV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return wV(function(){i.value=n,i.getSnapshot=t,ax(i)&&a({inst:i})},[e,n,t]),bV(function(){return ax(i)&&a({inst:i}),e(function(){ax(i)&&a({inst:i})})},[e]),kV(n),n}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xV(e,n)}catch{return!0}}function NV(e,t){return t()}var CV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NV:SV;j5.useSyncExternalStore=Mu.useSyncExternalStore!==void 0?Mu.useSyncExternalStore:CV;C5.exports=j5;var jV=C5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=x,PV=jV;function AV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EV=typeof Object.is=="function"?Object.is:AV,TV=PV.useSyncExternalStore,DV=v0.useRef,MV=v0.useEffect,OV=v0.useMemo,IV=v0.useDebugValue;N5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=DV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=OV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,EV(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=TV(e,a[0],a[1]);return MV(function(){s.hasValue=!0,s.value=o},[o]),IV(o),o};S5.exports=N5;var _V=S5.exports,G1=x.createContext(null),LV=e=>e,qn=()=>{var e=x.useContext(G1);return e?e.store.dispatch:LV},Xh=()=>{},$V=()=>Xh,FV=(e,t)=>e===t;function bt(e){var t=x.useContext(G1);return _V.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$V,t?t.store.getState:Xh,t?t.store.getState:Xh,t?e:Xh,FV)}function RV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function BV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var bC=e=>Array.isArray(e)?e:[e];function UV(e){const t=Array.isArray(e[0])?e[0]:e;return zV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function VV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var WV=class{constructor(e){this.value=e}deref(){return this.value}},HV=typeof WeakRef<"u"?WeakRef:WV,qV=0,wC=1;function hh(){return{s:qV,v:void 0,o:null,p:null}}function P5(e,t={}){let n=hh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=hh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=hh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===wC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new HV(d):d}return c.s=wC,c.v=d,d}return s.clearCache=()=>{n=hh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function KV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),RV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=P5,argsMemoizeOptions:p=[]}=d,g=bC(h),y=bC(p),v=UV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=VV(v,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var fe=KV(P5),GV=Object.assign((e,t=fe)=>{BV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>GV}),A5={},E5={},T5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(T5);var D5={},Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(D5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T5,n=D5,r=h0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(E5);var M5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(M5);var X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=p0,r=U1,i=W1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(X1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E5,n=M5,r=X1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(A5);var YV=A5.sortBy;const x0=ps(YV);var O5=e=>e.legend.settings,XV=e=>e.legend.size,QV=e=>e.legend.payload,ZV=fe([QV,O5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?x0(r,n):r});function JV(){return bt(ZV)}var ph=1;function I5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>ph||Math.abs(s.left-t.left)>ph||Math.abs(s.top-t.top)>ph||Math.abs(s.width-t.width)>ph)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function fi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var e9=typeof Symbol=="function"&&Symbol.observable||"@@observable",kC=e9,sx=()=>Math.random().toString(36).substring(7).split("").join("."),t9={INIT:`@@redux/INIT${sx()}`,REPLACE:`@@redux/REPLACE${sx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sx()}`},Up=t9;function Q1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _5(e,t,n){if(typeof e!="function")throw new Error(fi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fi(1));return n(_5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,v)=>{s.set(v,y)}))}function d(){if(l)throw new Error(fi(3));return i}function f(y){if(typeof y!="function")throw new Error(fi(4));if(l)throw new Error(fi(5));let v=!0;c();const b=o++;return s.set(b,y),function(){if(v){if(l)throw new Error(fi(6));v=!1,c(),s.delete(b),a=null}}}function h(y){if(!Q1(y))throw new Error(fi(7));if(typeof y.type>"u")throw new Error(fi(8));if(typeof y.type!="string")throw new Error(fi(17));if(l)throw new Error(fi(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(fi(10));r=y,h({type:Up.REPLACE})}function p(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(fi(11));function b(){const S=v;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[kC](){return this}}}return h({type:Up.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[kC]:p}}function n9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Up.INIT})>"u")throw new Error(fi(12));if(typeof n(void 0,{type:Up.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fi(13))})}function L5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{n9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(fi(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Vp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function r9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(fi(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Vp(...o)(i.dispatch),{...i,dispatch:a}}}function $5(e){return Q1(e)&&"type"in e&&typeof e.type=="string"}var F5=Symbol.for("immer-nothing"),SC=Symbol.for("immer-draftable"),Wi=Symbol.for("immer-state");function rs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xa=Object,Ou=xa.getPrototypeOf,Wp="constructor",y0="prototype",lb="configurable",Hp="enumerable",Qh="writable",Cf="value",mo=e=>!!e&&!!e[Wi];function fs(e){var t;return e?R5(e)||w0(e)||!!e[SC]||!!((t=e[Wp])!=null&&t[SC])||k0(e)||S0(e):!1}var i9=xa[y0][Wp].toString(),NC=new WeakMap;function R5(e){if(!e||!Z1(e))return!1;const t=Ou(e);if(t===null||t===xa[y0])return!0;const n=xa.hasOwnProperty.call(t,Wp)&&t[Wp];if(n===Object)return!0;if(!Kc(n))return!1;let r=NC.get(n);return r===void 0&&(r=Function.toString.call(n),NC.set(n,r)),r===i9}function b0(e,t,n=!0){nm(e)===0?(n?Reflect.ownKeys(e):xa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function nm(e){const t=e[Wi];return t?t.type_:w0(e)?1:k0(e)?2:S0(e)?3:0}var CC=(e,t,n=nm(e))=>n===2?e.has(t):xa[y0].hasOwnProperty.call(e,t),cb=(e,t,n=nm(e))=>n===2?e.get(t):e[t],qp=(e,t,n,r=nm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function a9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var w0=Array.isArray,k0=e=>e instanceof Map,S0=e=>e instanceof Set,Z1=e=>typeof e=="object",Kc=e=>typeof e=="function",ox=e=>typeof e=="boolean";function s9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ks=e=>e.copy_||e.base_,J1=e=>e.modified_?e.copy_:e.base_;function ub(e,t){if(k0(e))return new Map(e);if(S0(e))return new Set(e);if(w0(e))return Array[y0].slice.call(e);const n=R5(e);if(t===!0||t==="class_only"&&!n){const r=xa.getOwnPropertyDescriptors(e);delete r[Wi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Qh]===!1&&(o[Qh]=!0,o[lb]=!0),(o.get||o.set)&&(r[s]={[lb]:!0,[Qh]:!0,[Hp]:o[Hp],[Cf]:e[s]})}return xa.create(Ou(e),r)}else{const r=Ou(e);if(r!==null&&n)return{...e};const i=xa.create(r);return xa.assign(i,e)}}function ek(e,t=!1){return N0(e)||mo(e)||!fs(e)||(nm(e)>1&&xa.defineProperties(e,{set:gh,add:gh,clear:gh,delete:gh}),xa.freeze(e),t&&b0(e,(n,r)=>{ek(r,!0)},!1)),e}function o9(){rs(2)}var gh={[Cf]:o9};function N0(e){return e===null||!Z1(e)?!0:xa.isFrozen(e)}var Kp="MapSet",db="Patches",jC="ArrayMethods",B5={};function fc(e){const t=B5[e];return t||rs(0,e),t}var PC=e=>!!B5[e],jf,z5=()=>jf,l9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PC(Kp)?fc(Kp):void 0,arrayMethodsPlugin_:PC(jC)?fc(jC):void 0});function AC(e,t){t&&(e.patchPlugin_=fc(db),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fb(e){mb(e),e.drafts_.forEach(c9),e.drafts_=null}function mb(e){e===jf&&(jf=e.parent_)}var EC=e=>jf=l9(jf,e);function c9(e){const t=e[Wi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function TC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Wi].modified_&&(fb(t),rs(4)),fs(e)&&(e=DC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Wi].base_,e,t)}else e=DC(t,n);return u9(t,e,!0),fb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==F5?e:void 0}function DC(e,t){if(N0(t))return t;const n=t[Wi];if(!n)return Gp(t,e.handledSet_,e);if(!C0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);W5(n,e)}return n.copy_}function u9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ek(t,n)}function U5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var C0=(e,t)=>e.scope_===t,d9=[];function V5(e,t,n,r){const i=Ks(e),a=e.type_;if(r!==void 0&&cb(i,r,a)===t){qp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;b0(i,(l,c)=>{if(mo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??d9;for(const o of s)qp(i,o,n,a)}function f9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!C0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=J1(a);V5(e,a.draft_??a,s,n),W5(a,i)})}function W5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}U5(e)}}function m9(e,t,n){const{scope_:r}=e;if(mo(n)){const i=n[Wi];C0(i,r)&&i.callbacks_.push(function(){Zh(e);const s=J1(i);V5(e,n,s,t)})}else fs(n)&&e.callbacks_.push(function(){const a=Ks(e);e.type_===3?a.has(n)&&Gp(n,r.handledSet_,r):cb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gp(cb(e.copy_,t,e.type_),r.handledSet_,r)})}function Gp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||mo(e)||t.has(e)||!fs(e)||N0(e)||(t.add(e),b0(e,(r,i)=>{if(mo(i)){const a=i[Wi];if(C0(a,n)){const s=J1(a);qp(e,r,s,e.type_),U5(a)}}else fs(i)&&Gp(i,t,n)})),e}function h9(e,t){const n=w0(e),r={type_:n?1:0,scope_:t?t.scope_:z5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Yp;n&&(i=[r],a=Pf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Yp={get(e,t){if(t===Wi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ks(e);if(!CC(i,t,e.type_))return p9(e,i,t);const a=i[t];if(e.finalized_||!fs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&s9(t))return a;if(a===lx(e.base_,t)){Zh(e);const s=e.type_===1?+t:t,o=pb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Ks(e)},ownKeys(e){return Reflect.ownKeys(Ks(e))},set(e,t,n){const r=H5(Ks(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lx(Ks(e),t),a=i==null?void 0:i[Wi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(a9(n,i)&&(n!==void 0||CC(e.base_,t,e.type_)))return!0;Zh(e),hb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),m9(e,t,n)),!0},deleteProperty(e,t){return Zh(e),lx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ks(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Qh]:!0,[lb]:e.type_!==1||t!=="length",[Hp]:r[Hp],[Cf]:n[t]}},defineProperty(){rs(11)},getPrototypeOf(e){return Ou(e.base_)},setPrototypeOf(){rs(12)}},Pf={};for(let e in Yp){let t=Yp[e];Pf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Pf.deleteProperty=function(e,t){return Pf.set.call(this,e,t,void 0)};Pf.set=function(e,t,n){return Yp.set.call(this,e[0],t,n,e[0])};function lx(e,t){const n=e[Wi];return(n?Ks(n):e)[t]}function p9(e,t,n){var i;const r=H5(t,n);return r?Cf in r?r[Cf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function H5(e,t){if(!(t in e))return;let n=Ou(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ou(n)}}function hb(e){e.modified_||(e.modified_=!0,e.parent_&&hb(e.parent_))}function Zh(e){e.copy_||(e.assigned_=new Map,e.copy_=ub(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var g9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Kc(n)&&!Kc(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}Kc(r)||rs(6),i!==void 0&&!Kc(i)&&rs(7);let a;if(fs(n)){const s=EC(this),o=pb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?fb(s):mb(s)}return AC(s,i),TC(a,s)}else if(!n||!Z1(n)){if(a=r(n),a===void 0&&(a=n),a===F5&&(a=void 0),this.autoFreeze_&&ek(a,!0),i){const s=[],o=[];fc(db).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else rs(1,n)},this.produceWithPatches=(n,r)=>{if(Kc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},ox(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ox(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ox(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fs(t)||rs(8),mo(t)&&(t=ls(t));const n=EC(this),r=pb(n,t,void 0);return r[Wi].isManual_=!0,mb(n),r}finishDraft(t,n){const r=t&&t[Wi];(!r||!r.isManual_)&&rs(9);const{scope_:i}=r;return AC(i,n),TC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=fc(db).applyPatches_;return mo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function pb(e,t,n,r){const[i,a]=k0(t)?fc(Kp).proxyMap_(t,n):S0(t)?fc(Kp).proxySet_(t,n):h9(t,n);return((n==null?void 0:n.scope_)??z5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?f9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function ls(e){return mo(e)||rs(10,e),q5(e)}function q5(e){if(!fs(e)||N0(e))return e;const t=e[Wi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ub(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ub(e,!0);return b0(n,(i,a)=>{qp(n,i,q5(a))},r),t&&(t.finalized_=!1),n}var v9=new g9,K5=v9.produce;function G5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var x9=G5(),y9=G5,b9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vp:Vp.apply(null,arguments)};function Ka(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(wa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>$5(r)&&r.type===e,n}var Y5=class Id extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Id.prototype)}static get[Symbol.species](){return Id}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Id(...t[0].concat(this)):new Id(...t.concat(this))}};function MC(e){return fs(e)?K5(e,()=>{}):e}function vh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function w9(e){return typeof e=="boolean"}var k9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Y5;return n&&(w9(n)?s.push(x9):s.push(y9(n.extraArgument))),s},X5="RTK_autoBatch",ir=()=>e=>({payload:e,meta:{[X5]:!0}}),OC=e=>t=>{setTimeout(t,e)},Q5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OC(10):e.type==="callback"?e.queueNotification:OC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[X5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},S9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Y5(e);return r&&i.push(Q5(typeof r=="object"?r:void 0)),i};function N9(e){const t=k9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(Q1(n))o=L5(n);else throw new Error(wa(1));let l;typeof r=="function"?l=r(t):l=t();let c=Vp;i&&(c=b9({trace:!1,...typeof i=="object"&&i}));const d=r9(...l),f=S9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return _5(o,a,m)}function Z5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(wa(28));if(o in t)throw new Error(wa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function C9(e){return typeof e=="function"}function j9(e,t){let[n,r,i]=Z5(t),a;if(C9(e))a=()=>MC(e());else{const o=MC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(mo(d)){const m=f(d,l);return m===void 0?d:m}else{if(fs(d))return K5(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var P9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A9=(e=21)=>{let t="",n=e;for(;n--;)t+=P9[Math.random()*64|0];return t},E9=Symbol.for("rtk-slice-createasyncthunk");function T9(e,t){return`${e}/${t}`}function D9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[E9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(wa(11));const o=(typeof i.reducers=="function"?i.reducers(O9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(wa(12));if(N in c.sliceCaseReducersByType)throw new Error(wa(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return c.actionCreators[S]=C,d},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,d}};l.forEach(S=>{const C=o[S],N={reducerName:S,type:T9(a,S),createNotation:typeof i.reducers=="function"};_9(C)?$9(N,C,d,t):I9(N,C,d)});function f(){const[S={},C=[],N=void 0]=typeof i.extraReducers=="function"?Z5(i.extraReducers):[i.extraReducers],P={...S,...c.sliceCaseReducersByType};return j9(i.initialState,D=>{for(let _ in P)D.addCase(_,P[_]);for(let _ of c.sliceMatchers)D.addMatcher(_.matcher,_.reducer);for(let _ of C)D.addMatcher(_.matcher,_.reducer);N&&D.addDefaultCase(N)})}const h=S=>S,m=new Map,p=new WeakMap;let g;function y(S,C){return g||(g=f()),g(S,C)}function v(){return g||(g=f()),g.getInitialState()}function b(S,C=!1){function N(D){let _=D[S];return typeof _>"u"&&C&&(_=vh(p,N,v)),_}function P(D=h){const _=vh(m,C,()=>new WeakMap);return vh(_,D,()=>{const A={};for(const[$,M]of Object.entries(i.selectors??{}))A[$]=M9(M,D,()=>vh(p,D,v),C);return A})}return{reducerPath:S,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(S,{reducerPath:C,...N}={}){const P=C??s;return S.inject({reducerPath:P,reducer:y},N),{...w,...b(P,!0)}}};return w}}function M9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var oa=D9();function O9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function I9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!L9(r))throw new Error(wa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ka(e,s):Ka(e))}function _9(e){return e._reducerDefinitionType==="asyncThunk"}function L9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(wa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||xh,pending:o||xh,rejected:l||xh,settled:c||xh})}function xh(){}var F9="task",J5="listener",eI="completed",tk="cancelled",R9=`task-${tk}`,B9=`task-${eI}`,gb=`${J5}-${tk}`,z9=`${J5}-${eI}`,j0=class{constructor(e){Av(this,"name","TaskAbortError");Av(this,"message");this.code=e,this.message=`${F9} ${tk} (reason: ${e})`}},nk=(e,t)=>{if(typeof e!="function")throw new TypeError(wa(32))},Xp=()=>{},tI=(e,t=Xp)=>(e.catch(t),e),nI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tc=e=>{if(e.aborted)throw new j0(e.reason)};function rI(e,t){let n=Xp;return new Promise((r,i)=>{const a=()=>i(new j0(e.reason));if(e.aborted){a();return}n=nI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Xp})}var U9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof j0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qp=e=>t=>tI(rI(e,t).then(n=>(tc(e),n))),iI=e=>{const t=Qp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:yu}=Object,IC={},P0="listenerMiddleware",V9=(e,t)=>{const n=r=>nI(e,()=>r.abort(e.reason));return(r,i)=>{nk(r);const a=new AbortController;n(a);const s=U9(async()=>{tc(e),tc(a.signal);const o=await r({pause:Qp(a.signal),delay:iI(a.signal),signal:a.signal});return tc(a.signal),o},()=>a.abort(B9));return i!=null&&i.autoJoin&&t.push(s.catch(Xp)),{result:Qp(e)(s),cancel(){a.abort(R9)}}}},W9=(e,t)=>{const n=async(r,i)=>{tc(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await rI(t,Promise.race(o));return tc(t),l}finally{a()}};return(r,i)=>tI(n(r,i))},aI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ka(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(wa(21));return nk(a),{predicate:i,type:t,effect:a}},sI=yu(e=>{const{type:t,predicate:n,effect:r}=aI(e);return{id:A9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wa(22))}}},{withTypes:()=>sI}),_C=(e,t)=>{const{type:n,effect:r,predicate:i}=aI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},vb=e=>{e.pending.forEach(t=>{t.abort(gb)})},H9=(e,t)=>()=>{for(const n of t.keys())vb(n);e.clear()},LC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},oI=yu(Ka(`${P0}/add`),{withTypes:()=>oI}),q9=Ka(`${P0}/removeAll`),lI=yu(Ka(`${P0}/remove`),{withTypes:()=>lI}),K9=(...e)=>{console.error(`${P0}/error`,...e)},rm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=K9}=e;nk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&vb(m)}),l=m=>{const p=_C(t,m)??sI(m);return o(p)};yu(l,{withTypes:()=>l});const c=m=>{const p=_C(t,m);return p&&(p.unsubscribe(),m.cancelActive&&vb(p)),!!p};yu(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const v=new AbortController,b=W9(l,v.signal),w=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(p,yu({},g,{getOriginalState:y,condition:(S,C)=>b(S,C).then(Boolean),take:b,delay:iI(v.signal),pause:Qp(v.signal),extra:a,signal:v.signal,fork:V9(v.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,N)=>{S!==v&&(S.abort(gb),N.delete(S))})},cancel:()=>{v.abort(gb),m.pending.delete(v)},throwIfCancelled:()=>{tc(v.signal)}})))}catch(S){S instanceof j0||LC(s,S,{raisedBy:"effect"})}finally{await Promise.all(w),v.abort(z9),i(m),m.pending.delete(v)}},f=H9(t,n);return{middleware:m=>p=>g=>{if(!$5(g))return p(g);if(oI.match(g))return l(g.payload);if(q9.match(g)){f();return}if(lI.match(g))return c(g.payload);let y=m.getState();const v=()=>{if(y===IC)throw new Error(wa(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const C of S){let N=!1;try{N=C.predicate(g,w,y)}catch(P){N=!1,LC(s,P,{raisedBy:"predicate"})}N&&d(C,g,m,v)}}}finally{y=IC}return b},startListening:l,stopListening:c,clearListeners:f}};function wa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},cI=oa({name:"chartLayout",initialState:G9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Y9,setLayout:X9,setChartSize:Q9,setScale:Z9}=cI.actions,J9=cI.reducer;function uI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zr(e){return Number.isFinite(e)}function Fs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){eW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eW(e,t,n){return(t=tW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t,n){return Yr(e)||Yr(t)?n:$s(t)?dc(e,t,n):typeof t=="function"?t(e):n}var rW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ct(e[a]))return ou(ou({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ct(e[s]))return ou(ou({},e),{},{[s]:e[s]+(i||0)})}return e},ml=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},fI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?ji(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:s(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!Ls(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:s(v)+g,value:v,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((v,b)=>({coordinate:s(v)+g,value:v,offset:g,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+g,value:r?r[v]:v,index:b,offset:g}))},FC=1e-4,iW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-FC,a=Math.max(r[0],r[1])+FC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},aW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=Ls(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},sW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=Ls(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},oW={sign:aW,expand:B8,none:uc,silhouette:z8,wiggle:U8,positive:sW},lW=(e,t,n)=>{var r,i=(r=oW[n])!==null&&r!==void 0?r:uc,a=R8().keys(t).value((o,l)=>Number(er(o,l,0))).order(sb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=er(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Ct(f[0])&&Ct(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function RC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Yr(i[t.dataKey])){var o=t5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=er(i,Yr(s)?t.dataKey:s);return Yr(l)?null:t.scale(l)}var cW=e=>{var t=e.flat(2).filter(Ct);return[Math.min(...t),Math.max(...t)]},uW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dW=(e,t,n)=>{if(e!=null)return uW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=uI(c,t,n),f=cW(d);return!zr(f[0])||!zr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},BC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zp=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=x0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function UC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return ou(ou({},t),{},{dataKey:n,payload:r,value:i,name:a})}function A0(e,t){if(e)return String(e);if(typeof t=="string")return t}var fW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mW=(e,t)=>t==="centric"?e.angle:e.radius,bo=e=>e.layout.width,wo=e=>e.layout.height,hW=e=>e.layout.scale,mI=e=>e.layout.margin,E0=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),T0=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hI="data-recharts-item-index",pI="data-recharts-item-id",im=60;function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){pW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xW=e=>e.brush.height;function yW(e){var t=T0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:im;return n+i}return n},0)}function bW(e){var t=T0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:im;return n+i}return n},0)}function wW(e){var t=E0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kW(e){var t=E0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var si=fe([bo,wo,mI,xW,yW,bW,wW,kW,O5,XV],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=yh(yh({},f),d),m=h.bottom;h.bottom+=r,h=rW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return yh(yh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),SW=fe(si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),gI=fe(bo,wo,(e,t)=>({x:0,y:0,width:e,height:t})),NW=x.createContext(null),la=()=>x.useContext(NW)!=null,D0=e=>e.brush,M0=fe([D0,si,mI],(e,t,n)=>({height:e.height,x:Ct(e.x)?e.x:t.left,y:Ct(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ct(e.width)?e.width:t.width})),vI={},xI={},yI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return v.schedule=m,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(yI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(xI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(vI);var CW=vI.throttle;const jW=ps(CW);var Jp=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},bI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=fo(r)?e:Number(r),l=fo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},PW={width:0,height:0,overflow:"visible"},AW={width:0,overflowX:"visible"},EW={height:0,overflowY:"visible"},TW={},DW=e=>{var{width:t,height:n}=e,r=fo(t),i=fo(n);return r&&i?PW:r?AW:i?EW:TW};function MW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){OW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wI=x.createContext({width:-1,height:-1});function LW(e){return Fs(e.width)&&Fs(e.height)}function kI(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return LW(i)?x.createElement(wI.Provider,{value:i},t):null}var rk=()=>x.useContext(wI),$W=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=x.useRef(null),y=x.useRef();y.current=m,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((D,_)=>{b(A=>{var $=Math.round(D),M=Math.round(_);return A.containerWidth===$&&A.containerHeight===M?A:{containerWidth:$,containerHeight:M}})},[]);x.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return tm;var D=M=>{var ee,{width:ne,height:ue}=M[0].contentRect;w(ne,ue),(ee=y.current)===null||ee===void 0||ee.call(y,ne,ue)};d>0&&(D=jW(D,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(D),{width:A,height:$}=g.current.getBoundingClientRect();return w(A,$),_.observe(g.current),()=>{_.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=v;Jp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:P}=bI(S,C,{width:i,height:a,aspect:n,maxHeight:l});return Jp(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,a,s,o,n),x.createElement("div",{id:f?"".concat(f):void 0,className:jn("recharts-responsive-container",h),style:HC(HC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},x.createElement("div",{style:DW({width:i,height:a})},x.createElement(kI,{width:N,height:P},c)))}),mc=x.forwardRef((e,t)=>{var n=rk();if(Fs(n.width)&&Fs(n.height))return e.children;var{width:r,height:i}=MW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=bI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ct(a)&&Ct(s)?x.createElement(kI,{width:a,height:s},e.children):x.createElement($W,xb({},e,{width:r,height:i,ref:t}))});function SI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var O0=()=>{var e,t=la(),n=bt(SW),r=bt(M0),i=(e=bt(D0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},FW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NI=()=>{var e;return(e=bt(si))!==null&&e!==void 0?e:FW},ik=()=>bt(bo),ak=()=>bt(wo),RW=()=>bt(e=>e.layout.margin),Ln=e=>e.layout.layoutType,am=()=>bt(Ln),BW=()=>{var e=am();return e!==void 0},I0=e=>{var t=qn(),n=la(),{width:r,height:i}=e,a=rk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),x.useEffect(()=>{!n&&Fs(s)&&Fs(o)&&t(Q9({width:s,height:o}))},[t,n,s,o]),null},CI=Symbol.for("immer-nothing"),qC=Symbol.for("immer-draftable"),Na=Symbol.for("immer-state");function is(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Af=Object.getPrototypeOf;function Iu(e){return!!e&&!!e[Na]}function hc(e){var t;return e?jI(e)||Array.isArray(e)||!!e[qC]||!!((t=e.constructor)!=null&&t[qC])||sm(e)||L0(e):!1}var zW=Object.prototype.constructor.toString(),KC=new WeakMap;function jI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=KC.get(n);return r===void 0&&(r=Function.toString.call(n),KC.set(n,r)),r===zW}function eg(e,t,n=!0){_0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function _0(e){const t=e[Na];return t?t.type_:Array.isArray(e)?1:sm(e)?2:L0(e)?3:0}function yb(e,t){return _0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PI(e,t,n){const r=_0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function UW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sm(e){return e instanceof Map}function L0(e){return e instanceof Set}function Ll(e){return e.copy_||e.base_}function bb(e,t){if(sm(e))return new Map(e);if(L0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=jI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Na];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Af(e),r)}else{const r=Af(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function sk(e,t=!1){return $0(e)||Iu(e)||!hc(e)||(_0(e)>1&&Object.defineProperties(e,{set:bh,add:bh,clear:bh,delete:bh}),Object.freeze(e),t&&Object.values(e).forEach(n=>sk(n,!0))),e}function VW(){is(2)}var bh={value:VW};function $0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WW={};function pc(e){const t=WW[e];return t||is(0,e),t}var Ef;function AI(){return Ef}function HW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GC(e,t){t&&(pc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wb(e){kb(e),e.drafts_.forEach(qW),e.drafts_=null}function kb(e){e===Ef&&(Ef=e.parent_)}function YC(e){return Ef=HW(Ef,e)}function qW(e){const t=e[Na];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function XC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Na].modified_&&(wb(t),is(4)),hc(e)&&(e=tg(t,e),t.parent_||ng(t,e)),t.patches_&&pc("Patches").generateReplacementPatches_(n[Na].base_,e,t.patches_,t.inversePatches_)):e=tg(t,n,[]),wb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CI?e:void 0}function tg(e,t,n){if($0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Na];if(!i)return eg(t,(a,s)=>QC(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ng(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),eg(s,(l,c)=>QC(e,i,a,l,c,n,o),r),ng(e,a,!1),n&&e.patches_&&pc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function QC(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=$0(i);if(!(o&&!s)){if(Iu(i)){const l=a&&t&&t.type_!==3&&!yb(t.assigned_,r)?a.concat(r):void 0,c=tg(e,i,l);if(PI(n,r,c),Iu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(hc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;tg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(sm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ng(e,i)}}}function ng(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sk(t,n)}function KW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:AI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ok;n&&(i=[r],a=Tf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var ok={get(e,t){if(t===Na)return e;const n=Ll(e);if(!yb(n,t))return GW(e,n,t);const r=n[t];return e.finalized_||!hc(r)?r:r===cx(e.base_,t)?(ux(e),e.copy_[t]=Nb(r,e)):r},has(e,t){return t in Ll(e)},ownKeys(e){return Reflect.ownKeys(Ll(e))},set(e,t,n){const r=EI(Ll(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cx(Ll(e),t),a=i==null?void 0:i[Na];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(UW(n,i)&&(n!==void 0||yb(e.base_,t)))return!0;ux(e),Sb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ux(e),Sb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ll(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){is(11)},getPrototypeOf(e){return Af(e.base_)},setPrototypeOf(){is(12)}},Tf={};eg(ok,(e,t)=>{Tf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tf.deleteProperty=function(e,t){return Tf.set.call(this,e,t,void 0)};Tf.set=function(e,t,n){return ok.set.call(this,e[0],t,n,e[0])};function cx(e,t){const n=e[Na];return(n?Ll(n):e)[t]}function GW(e,t,n){var i;const r=EI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function EI(e,t){if(!(t in e))return;let n=Af(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Af(n)}}function Sb(e){e.modified_||(e.modified_=!0,e.parent_&&Sb(e.parent_))}function ux(e){e.copy_||(e.copy_=bb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&is(6),r!==void 0&&typeof r!="function"&&is(7);let i;if(hc(t)){const a=YC(this),s=Nb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?wb(a):kb(a)}return GC(a,r),XC(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===CI&&(i=void 0),this.autoFreeze_&&sk(i,!0),r){const a=[],s=[];pc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else is(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){hc(e)||is(8),Iu(e)&&(e=XW(e));const t=YC(this),n=Nb(e,void 0);return n[Na].isManual_=!0,kb(t),n}finishDraft(e,t){const n=e&&e[Na];(!n||!n.isManual_)&&is(9);const{scope_:r}=n;return GC(r,t),XC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=pc("Patches").applyPatches_;return Iu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Nb(e,t){const n=sm(e)?pc("MapSet").proxyMap_(e,t):L0(e)?pc("MapSet").proxySet_(e,t):KW(e,t);return(t?t.scope_:AI()).drafts_.push(n),n}function XW(e){return Iu(e)||is(10,e),TI(e)}function TI(e){if(!hc(e)||$0(e))return e;const t=e[Na];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=bb(e,!0);return eg(n,(i,a)=>{PI(n,i,TI(a))},r),t&&(t.finalized_=!1),n}var QW=new YW;QW.produce;var ZW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DI=oa({name:"legend",initialState:ZW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ir()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ls(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ir()},removeLegendPayload:{reducer(e,t){var n=ls(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ir()}}}),{setLegendSize:ZC,setLegendSettings:JW,addLegendPayload:MI,replaceLegendPayload:OI,removeLegendPayload:II}=DI.actions,eH=DI.reducer,tH=["contextPayload"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){nH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nH(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){if(e==null)return{};var n,r,i=sH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oH(e){return e.value}function lH(e){var{contextPayload:t}=e,n=aH(e,tH),r=k5(t,e.payloadUniqBy,oH),i=_u(_u({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(pV,i)}function cH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_u(_u({},c),d)}function uH(e){var t=qn();return x.useEffect(()=>{t(JW(e))},[t,e]),null}function dH(e){var t=qn();return x.useEffect(()=>(t(ZC(e)),()=>{t(ZC({width:0,height:0}))}),[t,e]),null}function fH(e,t,n,r){return e==="vertical"&&Ct(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var mH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _I(e){var t=Xr(e,mH),n=JV(),r=c8(),i=RW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=I5([n]),f=ik(),h=ak();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=fH(t.layout,s,a,m),g=l?o:_u(_u({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},cH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},x.createElement(uH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(dH,{width:c.width,height:c.height}),x.createElement(lH,Cb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Ku.createPortal(v,y)}_I.displayName="Legend";function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(null,arguments)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e){return Array.isArray(e)&&$s(e[0])&&$s(e[1])?e.join(" ~ "):e}var xH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?x0(a,o):a).map((P,D)=>{if(P.type==="none")return null;var _=P.formatter||s||vH,{value:A,name:$}=P,M=A,ee=$;if(_){var ne=_(A,$,P,D,a);if(Array.isArray(ne))[M,ee]=ne;else if(ne!=null)M=ne;else return null}var ue=dx({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ue},$s(ee)?x.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,$s(ee)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},M),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=dx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=dx({margin:0},i),y=!Yr(d),v=y?d:"",b=jn("recharts-default-tooltip",l),w=jn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",jb({className:b,style:p},S),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),m())},vd="recharts-tooltip-wrapper",yH={visibility:"hidden"};function bH(e){var{coordinate:t,translateX:n,translateY:r}=e;return jn(vd,{["".concat(vd,"-right")]:Ct(n)&&t&&Ct(t.x)&&n>=t.x,["".concat(vd,"-left")]:Ct(n)&&t&&Ct(t.x)&&n<t.x,["".concat(vd,"-bottom")]:Ct(r)&&t&&Ct(t.y)&&r>=t.y,["".concat(vd,"-top")]:Ct(r)&&t&&Ct(t.y)&&r<t.y})}function tj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Ct(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function wH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=tj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=tj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=wH({translateX:d,translateY:f,useTranslate3d:o})):c=yH,{cssProperties:c,cssClasses:bH({translateX:d,translateY:f,coordinate:n})}}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){Pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n){return(t=SH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CH extends x.PureComponent{constructor(){super(...arguments),Pb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=kH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),S=v?{}:wh(wh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=wh(wh({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var LI=()=>{var e;return(e=bt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){jH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jH(e,t,n){return(t=PH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aj={curveBasisClosed:A8,curveBasisOpen:E8,curveBasis:P8,curveBumpX:m8,curveBumpY:h8,curveLinearClosed:T8,curveLinear:u0,curveMonotoneX:D8,curveMonotoneY:M8,curveNatural:O8,curveStep:I8,curveStepAfter:L8,curveStepBefore:_8},rg=e=>zr(e.x)&&zr(e.y),sj=e=>e.base!=null&&rg(e.base)&&rg(e),xd=e=>e.x,yd=e=>e.y,EH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(em(e));return(n==="curveMonotone"||n==="curveBump")&&t?aj["".concat(n).concat(t==="vertical"?"Y":"X")]:aj[n]||u0},TH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=EH(t,i),o=a?n.filter(rg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>ij(ij({},m),{},{base:r[p]}));i==="vertical"?l=mh().y(yd).x1(xd).x0(m=>m.base.x):l=mh().x(xd).y1(yd).y0(m=>m.base.y);var d=l.defined(sj).curve(s),f=a?c.filter(sj):c;return d(f)}i==="vertical"&&Ct(r)?l=mh().y(yd).x1(xd).x0(r):Ct(r)?l=mh().x(xd).y1(yd).y0(r):l=zO().x(xd).y(yd);var h=l.defined(rg).curve(s);return h(o)},lk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=am();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?TH(s):r;return x.createElement("path",Ab({},qa(e),F1(e),{className:jn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},DH=["x","y","top","left","width","height","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var n,r,i=$H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),RH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=LH(e,DH),c=MH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Ct(t)||!Ct(n)||!Ct(a)||!Ct(s)||!Ct(r)||!Ct(i)?null:x.createElement("path",Eb({},Vi(c),{className:jn("recharts-cross",o),d:FH(t,n,a,s,r,i)}))};function BH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){zH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zH(e,t,n){return(t=UH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$I=(e,t,n)=>e.map(r=>"".concat(WH(r)," ").concat(t,"ms ").concat(n)).join(","),HH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Df=(e,t)=>Object.keys(t).reduce((n,r)=>cj(cj({},n),{},{[r]:e(r,t[r])}),{});function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=(e,t,n)=>e+(t-e)*n,Tb=e=>{var{from:t,to:n}=e;return t!==n},FI=(e,t,n)=>{var r=Df((i,a)=>{if(Tb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Kr(Kr({},a),{},{from:s,velocity:o})}return a},t);return n<1?Df((i,a)=>Tb(a)&&r[i]!=null?Kr(Kr({},a),{},{velocity:ig(a.velocity,r[i].velocity,n),from:ig(a.from,r[i].from,n)}):a,t):FI(e,r,n-1)};function YH(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Kr(Kr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Df((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Tb).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=FI(n,o,p),i(Kr(Kr(Kr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function XH(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Kr(Kr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=Df((g,y)=>ig(...y,n(h)),l);if(a(Kr(Kr(Kr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Df((g,y)=>ig(...y,n(1)),l);a(Kr(Kr(Kr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const QH=(e,t,n,r,i,a)=>{var s=HH(e,t);return n==null?()=>(i(Kr(Kr({},e),t)),()=>{}):n.isStepper===!0?YH(e,t,n,s,i,a):XH(e,t,n,r,s,i,a)};var ag=1e-4,RI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],BI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),dj=(e,t)=>n=>{var r=RI(e,t);return BI(r,n)},ZH=(e,t)=>n=>{var r=RI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return BI(i,n)},JH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},e7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=JH(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},t7=(e,t,n,r)=>{var i=dj(e,n),a=dj(t,r),s=ZH(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<ag||p<ag)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},fj=function(){return t7(...e7(...arguments))},n7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<ag&&Math.abs(f)<ag?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},r7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fj(e);case"spring":return n7();default:if(e.split("(")[0]==="cubic-bezier")return fj(e)}return typeof e=="function"?e:null};function i7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class a7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function s7(){return i7(new a7)}var o7=x.createContext(s7);function l7(e,t){var n=x.useContext(o7);return x.useMemo(()=>t??n(e),[e,t,n])}var c7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),F0={isSsr:c7()},u7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mj={t:0},fx={t:1};function R0(e){var t=Xr(e,u7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!F0.isSsr:n,f=l7(t.animationId,t.animationManager),[h,m]=x.useState(d?mj:fx),p=x.useRef(null);return x.useEffect(()=>{d||m(fx)},[d]),x.useEffect(()=>{if(!d||!r)return tm;var g=QH(mj,fx,r7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function B0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Nf(t)),r=x.useRef(e);return r.current!==e&&(n.current=Nf(t),r.current=e),n.current}var d7=["radius"],f7=["radius"],hj,pj,gj,vj,xj,yj,bj,wj,kj,Sj;function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return(t=h7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(null,arguments)}function jj(e,t){if(e==null)return{};var n,r,i=g7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ns(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Pj=(e,t,n,r,i)=>{var a=qo(n),s=qo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Nr(hj||(hj=Ns(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Nr(pj||(pj=Ns(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Nr(gj||(gj=Ns(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Nr(vj||(vj=Ns(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Nr(xj||(xj=Ns(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Nr(yj||(yj=Ns(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Nr(bj||(bj=Ns(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Nr(wj||(wj=Ns(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Nr(kj||(kj=Ns(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=Nr(Sj||(Sj=Ns(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Aj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zI=e=>{var t=Xr(e,Aj),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var H=n.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=x.useRef(o),v=x.useRef(l),b=x.useRef(a),w=x.useRef(s),S=x.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=B0(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=jn("recharts-rectangle",d);if(!g){var P=Vi(t),{radius:D}=P,_=jj(P,d7);return x.createElement("path",sg({},_,{x:qo(a),y:qo(s),width:qo(o),height:qo(l),radius:typeof c=="number"?c:void 0,className:N,d:Pj(a,s,o,l,c)}))}var A=y.current,$=v.current,M=b.current,ee=w.current,ne="0px ".concat(r===-1?1:r,"px"),ue="".concat(r,"px 0px"),q=$I(["strokeDasharray"],h,typeof f=="string"?f:Aj.animationEasing);return x.createElement(R0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},H=>{var W=Ci(A,o,H),re=Ci($,l,H),E=Ci(M,a,H),j=Ci(ee,s,H);n.current&&(y.current=W,v.current=re,b.current=E,w.current=j);var V;p?H>0?V={transition:q,strokeDasharray:ue}:V={strokeDasharray:ne}:V={strokeDasharray:ue};var k=Vi(t),{radius:O}=k,ie=jj(k,f7);return x.createElement("path",sg({},ie,{radius:typeof c=="number"?c:void 0,className:N,d:Pj(E,j,W,re,c),ref:n,style:Cj(Cj({},V),t.style)}))})};function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){v7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var og=Math.PI/180,b7=e=>e*180/Math.PI,Rr=(e,t,n,r)=>({x:e+Math.cos(-og*r)*n,y:t+Math.sin(-og*r)*n}),UI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},w7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},k7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=w7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:b7(l),angleInRadian:l}},S7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},N7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},C7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=k7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=S7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Tj(Tj({},t),{},{radius:i,angle:N7(d,t)}):null};function VI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Rr(t,n,r,i),o=Rr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Dj,Mj,Oj,Ij,_j,Lj,$j;function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function ql(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j7=(e,t)=>{var n=ji(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},kh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/og,f=l?i:i+a*d,h=Rr(t,n,c,f),m=Rr(t,n,r,f),p=l?i-a*d:i,g=Rr(t,n,c*Math.cos(d*og),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},WI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=j7(a,s),l=a+o,c=Rr(t,n,i,a),d=Rr(t,n,i,l),f=Nr(Dj||(Dj=ql(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Rr(t,n,r,a),m=Rr(t,n,r,l);f+=Nr(Mj||(Mj=ql(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Nr(Oj||(Oj=ql(["L ",","," Z"])),t,n);return f},P7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=ji(c-l),{circleTangency:f,lineTangency:h,theta:m}=kh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=kh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(v<0)return s?Nr(Ij||(Ij=ql(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):WI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=Nr(_j||(_j=ql(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(v>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=kh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:P,theta:D}=kh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-C-D;if(_<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Nr(Lj||(Lj=ql(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(d<0),N.x,N.y,r,r,+(_>180),+(d>0),w.x,w.y,a,a,+(d<0),S.x,S.y)}else b+=Nr($j||($j=ql(["L",",","Z"])),t,n);return b},A7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HI=e=>{var t=Xr(e,A7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=jn("recharts-sector",f),m=a-i,p=ba(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=P7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=WI({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),x.createElement("path",Db({},Vi(t),{className:h,d:g}))};function E7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(r5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Rr(r,i,a,o),c=Rr(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return VI(t)}}var qI={},KI={},GI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(GI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(KI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1,n=KI;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(qI);var T7=qI.range;const YI=ps(T7);function nl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function D7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ck(e){let t,n,r;e.length!==2?(t=nl,n=(o,l)=>nl(e(o),l),r=(o,l)=>e(o)-l):(t=e===nl||e===D7?e:M7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function M7(){return 0}function XI(e){return e===null?NaN:+e}function*O7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const I7=ck(nl),om=I7.right;ck(XI).center;class Fj extends Map{constructor(t,n=$7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Rj(this,t))}has(t){return super.has(Rj(this,t))}set(t,n){return super.set(_7(this,t),n)}delete(t){return super.delete(L7(this,t))}}function Rj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function L7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function F7(e=nl){if(e===nl)return QI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function QI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const R7=Math.sqrt(50),B7=Math.sqrt(10),z7=Math.sqrt(2);function lg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=R7?10:a>=B7?5:a>=z7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?lg(e,t,n*2):[o,l,c]}function Mb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?lg(t,e,n):lg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Ob(e,t,n){return t=+t,e=+e,n=+n,lg(e,t,n)[2]}function Ib(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ob(t,e,n):Ob(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Bj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?QI:F7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));ZI(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(bd(e,n,t),i(e[r],a)>0&&bd(e,n,r);s<o;){for(bd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?bd(e,n,o):(++o,bd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function bd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function U7(e,t,n){if(e=Float64Array.from(O7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zj(e);if(t>=1)return Bj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Bj(ZI(e,a).subarray(0,a+1)),o=zj(e.subarray(a+1));return s+(o-s)*(i-a)}}function V7(e,t,n=XI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function W7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ko(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _b=Symbol("implicit");function uk(){var e=new Fj,t=[],n=[],r=_b;function i(a){let s=e.get(a);if(s===void 0){if(r!==_b)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Fj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uk(t,n).unknown(r)},Ya.apply(i,arguments),i}function dk(){var e=uk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=W7(h).map(function(v){return p+a*v});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return dk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Ya.apply(f(),arguments)}function JI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JI(t())},e}function H7(){return JI(dk.apply(null,arguments).paddingInner(1))}function fk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function lm(){}var Mf=.7,cg=1/Mf,bu="\\s*([+-]?\\d+)\\s*",Of="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q7=/^#([0-9a-f]{3,8})$/,K7=new RegExp(`^rgb\\(${bu},${bu},${bu}\\)$`),G7=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),Y7=new RegExp(`^rgba\\(${bu},${bu},${bu},${Of}\\)$`),X7=new RegExp(`^rgba\\(${Is},${Is},${Is},${Of}\\)$`),Q7=new RegExp(`^hsl\\(${Of},${Is},${Is}\\)$`),Z7=new RegExp(`^hsla\\(${Of},${Is},${Is},${Of}\\)$`),Uj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fk(lm,If,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vj,formatHex:Vj,formatHex8:J7,formatHsl:eq,formatRgb:Wj,toString:Wj});function Vj(){return this.rgb().formatHex()}function J7(){return this.rgb().formatHex8()}function eq(){return t_(this).formatHsl()}function Wj(){return this.rgb().formatRgb()}function If(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=q7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hj(t):n===3?new ea(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=K7.exec(e))?new ea(t[1],t[2],t[3],1):(t=G7.exec(e))?new ea(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y7.exec(e))?Sh(t[1],t[2],t[3],t[4]):(t=X7.exec(e))?Sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Q7.exec(e))?Gj(t[1],t[2]/100,t[3]/100,1):(t=Z7.exec(e))?Gj(t[1],t[2]/100,t[3]/100,t[4]):Uj.hasOwnProperty(e)?Hj(Uj[e]):e==="transparent"?new ea(NaN,NaN,NaN,0):null}function Hj(e){return new ea(e>>16&255,e>>8&255,e&255,1)}function Sh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ea(e,t,n,r)}function tq(e){return e instanceof lm||(e=If(e)),e?(e=e.rgb(),new ea(e.r,e.g,e.b,e.opacity)):new ea}function Lb(e,t,n,r){return arguments.length===1?tq(e):new ea(e,t,n,r??1)}function ea(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fk(ea,Lb,e_(lm,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mf:Math.pow(Mf,e),new ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ea(nc(this.r),nc(this.g),nc(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qj,formatHex:qj,formatHex8:nq,formatRgb:Kj,toString:Kj}));function qj(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}`}function nq(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}${Kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kj(){const e=ug(this.opacity);return`${e===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${e===1?")":`, ${e})`}`}function ug(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function nc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kl(e){return e=nc(e),(e<16?"0":"")+e.toString(16)}function Gj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new as(e,t,n,r)}function t_(e){if(e instanceof as)return new as(e.h,e.s,e.l,e.opacity);if(e instanceof lm||(e=If(e)),!e)return new as;if(e instanceof as)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new as(s,o,l,e.opacity)}function rq(e,t,n,r){return arguments.length===1?t_(e):new as(e,t,n,r??1)}function as(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fk(as,rq,e_(lm,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new as(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mf:Math.pow(Mf,e),new as(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ea(mx(e>=240?e-240:e+120,i,r),mx(e,i,r),mx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new as(Yj(this.h),Nh(this.s),Nh(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ug(this.opacity);return`${e===1?"hsl(":"hsla("}${Yj(this.h)}, ${Nh(this.s)*100}%, ${Nh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yj(e){return e=(e||0)%360,e<0?e+360:e}function Nh(e){return Math.max(0,Math.min(1,e||0))}function mx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mk=e=>()=>e;function iq(e,t){return function(n){return e+n*t}}function aq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sq(e){return(e=+e)==1?n_:function(t,n){return n-t?aq(t,n,e):mk(isNaN(t)?n:t)}}function n_(e,t){var n=t-e;return n?iq(e,n):mk(isNaN(e)?t:e)}const Xj=function e(t){var n=sq(t);function r(i,a){var s=n((i=Lb(i)).r,(a=Lb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=n_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function oq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function lq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Gu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function uq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hx=new RegExp($b.source,"g");function fq(e){return function(){return e}}function mq(e){return function(t){return e(t)+""}}function hq(e,t){var n=$b.lastIndex=hx.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=$b.exec(e))&&(i=hx.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:dg(r,i)})),n=hx.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?mq(l[0].x):fq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Gu(e,t){var n=typeof t,r;return t==null||n==="boolean"?mk(t):(n==="number"?dg:n==="string"?(r=If(t))?(t=r,Xj):hq:t instanceof If?Xj:t instanceof Date?uq:lq(t)?oq:Array.isArray(t)?cq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dq:dg)(e,t)}function hk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pq(e,t){t===void 0&&(t=e,e=Gu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function gq(e){return function(){return e}}function fg(e){return+e}var Qj=[0,1];function zi(e){return e}function Fb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gq(isNaN(t)?NaN:.5)}function vq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Fb(i,r),a=n(s,a)):(r=Fb(r,i),a=n(a,s)),function(o){return a(r(o))}}function yq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Fb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=om(e,o,1,r)-1;return a[l](i[l](o))}}function cm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function z0(){var e=Qj,t=Qj,n=Gu,r,i,a,s=zi,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==zi&&(s=vq(e[0],e[h-1])),o=h>2?yq:xq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),dg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,fg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=hk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:zi,d()):s!==zi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function pk(){return z0()(zi,zi)}function bq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Lu(e){return e=mg(Math.abs(e)),e?e[1]:NaN}function wq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function kq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Sq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _f(e){if(!(t=Sq.exec(e)))throw new Error("invalid format: "+e);var t;return new gk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_f.prototype=gk.prototype;function gk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var hg;function Cq(e,t){var n=mg(e,t);if(!n)return hg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(hg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+mg(e,Math.max(0,t+a-1))[0]}function Zj(e,t){var n=mg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zj(e*100,t),r:Zj,s:Cq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eP(e){return e}var tP=Array.prototype.map,nP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jq(e){var t=e.grouping===void 0||e.thousands===void 0?eP:wq(tP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?eP:kq(tP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=_f(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):Jj[N]||(S===void 0&&(S=12),C=!0,N="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var P=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),D=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),_=Jj[N],A=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function $(M){var ee=P,ne=D,ue,q,H;if(N==="c")ne=_(M)+ne,M="";else{M=+M;var W=M<0||1/M<0;if(M=isNaN(M)?l:_(Math.abs(M),S),C&&(M=Nq(M)),W&&+M==0&&g!=="+"&&(W=!1),ee=(W?g==="("?g:o:g==="-"||g==="("?"":g)+ee,ne=(N==="s"&&!isNaN(M)&&hg!==void 0?nP[8+hg/3]:"")+ne+(W&&g==="("?")":""),A){for(ue=-1,q=M.length;++ue<q;)if(H=M.charCodeAt(ue),48>H||H>57){ne=(H===46?i+M.slice(ue+1):M.slice(ue))+ne,M=M.slice(0,ue);break}}}w&&!v&&(M=t(M,1/0));var re=ee.length+M.length+ne.length,E=re<b?new Array(b-re+1).join(m):"";switch(w&&v&&(M=t(E+M,E.length?b-ne.length:1/0),E=""),p){case"<":M=ee+M+ne+E;break;case"=":M=ee+E+M+ne;break;case"^":M=E.slice(0,re=E.length>>1)+ee+M+ne+E.slice(re);break;default:M=E+ee+M+ne;break}return a(M)}return $.toString=function(){return f+""},$}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Lu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=_f(f),f.type="f",f),{suffix:nP[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Ch,vk,r_;Pq({thousands:",",grouping:[3],currency:["$",""]});function Pq(e){return Ch=jq(e),vk=Ch.format,r_=Ch.formatPrefix,Ch}function Aq(e){return Math.max(0,-Lu(Math.abs(e)))}function Eq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lu(t)/3)))*3-Lu(Math.abs(e)))}function Tq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lu(t)-Lu(e))+1}function i_(e,t,n,r){var i=Ib(e,t,n),a;switch(r=_f(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Eq(i,s))&&(r.precision=a),r_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Tq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Aq(i))&&(r.precision=a-(r.type==="%")*2);break}}return vk(r)}function hl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return i_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Ob(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function a_(){var e=pk();return e.copy=function(){return cm(e,a_())},Ya.apply(e,arguments),hl(e)}function s_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return s_(e).unknown(t)},e=arguments.length?Array.from(e,fg):[0,1],hl(n)}function o_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function rP(e){return Math.log(e)}function iP(e){return Math.exp(e)}function Dq(e){return-Math.log(-e)}function Mq(e){return-Math.exp(-e)}function Oq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Iq(e){return e===10?Oq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _q(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aP(e){return(t,n)=>-e(-t,n)}function xk(e){const t=e(rP,iP),n=t.domain;let r=10,i,a;function s(){return i=_q(r),a=Iq(r),n()[0]<0?(i=aP(i),a=aP(a),e(Dq,Mq)):e(rP,iP),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;v.push(g)}v.length*2<y&&(v=Mb(c,d,y))}else v=Mb(h,m,Math.min(m-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=_f(l)).precision==null&&(l.trim=!0),l=vk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(o_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function l_(){const e=xk(z0()).domain([1,10]);return e.copy=()=>cm(e,l_()).base(e.base()),Ya.apply(e,arguments),e}function sP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yk(e){var t=1,n=e(sP(t),oP(t));return n.constant=function(r){return arguments.length?e(sP(t=+r),oP(t)):t},hl(n)}function c_(){var e=yk(z0());return e.copy=function(){return cm(e,c_()).constant(e.constant())},Ya.apply(e,arguments)}function lP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Lq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $q(e){return e<0?-e*e:e*e}function bk(e){var t=e(zi,zi),n=1;function r(){return n===1?e(zi,zi):n===.5?e(Lq,$q):e(lP(n),lP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},hl(t)}function wk(){var e=bk(z0());return e.copy=function(){return cm(e,wk()).exponent(e.exponent())},Ya.apply(e,arguments),e}function Fq(){return wk.apply(null,arguments).exponent(.5)}function cP(e){return Math.sign(e)*e*e}function Rq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u_(){var e=pk(),t=[0,1],n=!1,r;function i(a){var s=Rq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(cP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,fg)).map(cP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return u_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ya.apply(i,arguments),hl(i)}function d_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=V7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[om(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(nl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return d_().domain(e).range(t).unknown(r)},Ya.apply(a,arguments)}function f_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[om(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return f_().domain([e,t]).range(i).unknown(a)},Ya.apply(hl(s),arguments)}function m_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[om(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return m_().domain(e).range(t).unknown(n)},Ya.apply(i,arguments)}const px=new Date,gx=new Date;function Qr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Qr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(px.setTime(+a),gx.setTime(+s),e(px),e(gx),Math.floor(n(px,gx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const pg=Qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pg);pg.range;const Js=1e3,Ua=Js*60,eo=Ua*60,ho=eo*24,kk=ho*7,uP=ho*30,vx=ho*365,Gl=Qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getUTCSeconds());Gl.range;const Sk=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Js)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getMinutes());Sk.range;const Nk=Qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCMinutes());Nk.range;const Ck=Qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Js-e.getMinutes()*Ua)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getHours());Ck.range;const jk=Qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCHours());jk.range;const um=Qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ua)/ho,e=>e.getDate()-1);um.range;const U0=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ho,e=>e.getUTCDate()-1);U0.range;const h_=Qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ho,e=>Math.floor(e/ho));h_.range;function Sc(e){return Qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ua)/kk)}const V0=Sc(0),gg=Sc(1),Bq=Sc(2),zq=Sc(3),$u=Sc(4),Uq=Sc(5),Vq=Sc(6);V0.range;gg.range;Bq.range;zq.range;$u.range;Uq.range;Vq.range;function Nc(e){return Qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kk)}const W0=Nc(0),vg=Nc(1),Wq=Nc(2),Hq=Nc(3),Fu=Nc(4),qq=Nc(5),Kq=Nc(6);W0.range;vg.range;Wq.range;Hq.range;Fu.range;qq.range;Kq.range;const Pk=Qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pk.range;const Ak=Qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ak.range;const po=Qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());po.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});po.range;const go=Qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});go.range;function p_(e,t,n,r,i,a){const s=[[Gl,1,Js],[Gl,5,5*Js],[Gl,15,15*Js],[Gl,30,30*Js],[a,1,Ua],[a,5,5*Ua],[a,15,15*Ua],[a,30,30*Ua],[i,1,eo],[i,3,3*eo],[i,6,6*eo],[i,12,12*eo],[r,1,ho],[r,2,2*ho],[n,1,kk],[t,1,uP],[t,3,3*uP],[e,1,vx]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=ck(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Ib(c/vx,d/vx,f));if(m===0)return pg.every(Math.max(Ib(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[Gq,Yq]=p_(go,Ak,W0,h_,jk,Nk),[Xq,Qq]=p_(po,Pk,V0,um,Ck,Sk);function xx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Zq(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=kd(i),d=Sd(i),f=kd(a),h=Sd(a),m=kd(s),p=Sd(s),g=kd(o),y=Sd(o),v=kd(l),b=Sd(l),w={a:H,A:W,b:re,B:E,c:null,d:gP,e:gP,f:wK,g:DK,G:OK,H:xK,I:yK,j:bK,L:g_,m:kK,M:SK,p:j,q:V,Q:yP,s:bP,S:NK,u:CK,U:jK,V:PK,w:AK,W:EK,x:null,X:null,y:TK,Y:MK,Z:IK,"%":xP},S={a:k,A:O,b:ie,B:Z,c:null,d:vP,e:vP,f:FK,g:GK,G:XK,H:_K,I:LK,j:$K,L:x_,m:RK,M:BK,p:B,q:J,Q:yP,s:bP,S:zK,u:UK,U:VK,V:WK,w:HK,W:qK,x:null,X:null,y:KK,Y:YK,Z:QK,"%":xP},C={a:A,A:$,b:M,B:ee,c:ne,d:hP,e:hP,f:hK,g:mP,G:fP,H:pP,I:pP,j:uK,L:mK,m:cK,M:dK,p:_,q:lK,Q:gK,s:vK,S:fK,u:rK,U:iK,V:aK,w:nK,W:sK,x:ue,X:q,y:mP,Y:fP,Z:oK,"%":pK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(L,Y){return function(oe){var te=[],z=-1,R=0,I=L.length,Q,je,_e;for(oe instanceof Date||(oe=new Date(+oe));++z<I;)L.charCodeAt(z)===37&&(te.push(L.slice(R,z)),(je=dP[Q=L.charAt(++z)])!=null?Q=L.charAt(++z):je=Q==="e"?" ":"0",(_e=Y[Q])&&(Q=_e(oe,je)),te.push(Q),R=z+1);return te.push(L.slice(R,z)),te.join("")}}function P(L,Y){return function(oe){var te=wd(1900,void 0,1),z=D(te,L,oe+="",0),R,I;if(z!=oe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Y&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(R=yx(wd(te.y,0,1)),I=R.getUTCDay(),R=I>4||I===0?vg.ceil(R):vg(R),R=U0.offset(R,(te.V-1)*7),te.y=R.getUTCFullYear(),te.m=R.getUTCMonth(),te.d=R.getUTCDate()+(te.w+6)%7):(R=xx(wd(te.y,0,1)),I=R.getDay(),R=I>4||I===0?gg.ceil(R):gg(R),R=um.offset(R,(te.V-1)*7),te.y=R.getFullYear(),te.m=R.getMonth(),te.d=R.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),I="Z"in te?yx(wd(te.y,0,1)).getUTCDay():xx(wd(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(I+5)%7:te.w+te.U*7-(I+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,yx(te)):xx(te)}}function D(L,Y,oe,te){for(var z=0,R=Y.length,I=oe.length,Q,je;z<R;){if(te>=I)return-1;if(Q=Y.charCodeAt(z++),Q===37){if(Q=Y.charAt(z++),je=C[Q in dP?Y.charAt(z++):Q],!je||(te=je(L,oe,te))<0)return-1}else if(Q!=oe.charCodeAt(te++))return-1}return te}function _(L,Y,oe){var te=c.exec(Y.slice(oe));return te?(L.p=d.get(te[0].toLowerCase()),oe+te[0].length):-1}function A(L,Y,oe){var te=m.exec(Y.slice(oe));return te?(L.w=p.get(te[0].toLowerCase()),oe+te[0].length):-1}function $(L,Y,oe){var te=f.exec(Y.slice(oe));return te?(L.w=h.get(te[0].toLowerCase()),oe+te[0].length):-1}function M(L,Y,oe){var te=v.exec(Y.slice(oe));return te?(L.m=b.get(te[0].toLowerCase()),oe+te[0].length):-1}function ee(L,Y,oe){var te=g.exec(Y.slice(oe));return te?(L.m=y.get(te[0].toLowerCase()),oe+te[0].length):-1}function ne(L,Y,oe){return D(L,t,Y,oe)}function ue(L,Y,oe){return D(L,n,Y,oe)}function q(L,Y,oe){return D(L,r,Y,oe)}function H(L){return s[L.getDay()]}function W(L){return a[L.getDay()]}function re(L){return l[L.getMonth()]}function E(L){return o[L.getMonth()]}function j(L){return i[+(L.getHours()>=12)]}function V(L){return 1+~~(L.getMonth()/3)}function k(L){return s[L.getUTCDay()]}function O(L){return a[L.getUTCDay()]}function ie(L){return l[L.getUTCMonth()]}function Z(L){return o[L.getUTCMonth()]}function B(L){return i[+(L.getUTCHours()>=12)]}function J(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var Y=N(L+="",w);return Y.toString=function(){return L},Y},parse:function(L){var Y=P(L+="",!1);return Y.toString=function(){return L},Y},utcFormat:function(L){var Y=N(L+="",S);return Y.toString=function(){return L},Y},utcParse:function(L){var Y=P(L+="",!0);return Y.toString=function(){return L},Y}}}var dP={"-":"",_:" ",0:"0"},oi=/^\s*\d+/,Jq=/^%/,eK=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tK(e){return e.replace(eK,"\\$&")}function kd(e){return new RegExp("^(?:"+e.map(tK).join("|")+")","i")}function Sd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function fP(e,t,n){var r=oi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lK(e,t,n){var r=oi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pP(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=oi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=oi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=oi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pK(e,t,n){var r=Jq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gK(e,t,n){var r=oi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=oi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function gP(e,t){return Sn(e.getDate(),t,2)}function xK(e,t){return Sn(e.getHours(),t,2)}function yK(e,t){return Sn(e.getHours()%12||12,t,2)}function bK(e,t){return Sn(1+um.count(po(e),e),t,3)}function g_(e,t){return Sn(e.getMilliseconds(),t,3)}function wK(e,t){return g_(e,t)+"000"}function kK(e,t){return Sn(e.getMonth()+1,t,2)}function SK(e,t){return Sn(e.getMinutes(),t,2)}function NK(e,t){return Sn(e.getSeconds(),t,2)}function CK(e){var t=e.getDay();return t===0?7:t}function jK(e,t){return Sn(V0.count(po(e)-1,e),t,2)}function v_(e){var t=e.getDay();return t>=4||t===0?$u(e):$u.ceil(e)}function PK(e,t){return e=v_(e),Sn($u.count(po(e),e)+(po(e).getDay()===4),t,2)}function AK(e){return e.getDay()}function EK(e,t){return Sn(gg.count(po(e)-1,e),t,2)}function TK(e,t){return Sn(e.getFullYear()%100,t,2)}function DK(e,t){return e=v_(e),Sn(e.getFullYear()%100,t,2)}function MK(e,t){return Sn(e.getFullYear()%1e4,t,4)}function OK(e,t){var n=e.getDay();return e=n>=4||n===0?$u(e):$u.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function IK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function vP(e,t){return Sn(e.getUTCDate(),t,2)}function _K(e,t){return Sn(e.getUTCHours(),t,2)}function LK(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function $K(e,t){return Sn(1+U0.count(go(e),e),t,3)}function x_(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function FK(e,t){return x_(e,t)+"000"}function RK(e,t){return Sn(e.getUTCMonth()+1,t,2)}function BK(e,t){return Sn(e.getUTCMinutes(),t,2)}function zK(e,t){return Sn(e.getUTCSeconds(),t,2)}function UK(e){var t=e.getUTCDay();return t===0?7:t}function VK(e,t){return Sn(W0.count(go(e)-1,e),t,2)}function y_(e){var t=e.getUTCDay();return t>=4||t===0?Fu(e):Fu.ceil(e)}function WK(e,t){return e=y_(e),Sn(Fu.count(go(e),e)+(go(e).getUTCDay()===4),t,2)}function HK(e){return e.getUTCDay()}function qK(e,t){return Sn(vg.count(go(e)-1,e),t,2)}function KK(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function GK(e,t){return e=y_(e),Sn(e.getUTCFullYear()%100,t,2)}function YK(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function XK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fu(e):Fu.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function QK(){return"+0000"}function xP(){return"%"}function yP(e){return+e}function bP(e){return Math.floor(+e/1e3)}var Uc,b_,w_;ZK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZK(e){return Uc=Zq(e),b_=Uc.format,Uc.parse,w_=Uc.utcFormat,Uc.utcParse,Uc}function JK(e){return new Date(e)}function eG(e){return e instanceof Date?+e:+new Date(+e)}function Ek(e,t,n,r,i,a,s,o,l,c){var d=pk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?v:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,eG)):h().map(JK)},d.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?C:c(P)},d.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(o_(P,N)):d},d.copy=function(){return cm(d,Ek(e,t,n,r,i,a,s,o,l,c))},d}function tG(){return Ya.apply(Ek(Xq,Qq,po,Pk,V0,um,Ck,Sk,Gl,b_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nG(){return Ya.apply(Ek(Gq,Yq,go,Ak,W0,U0,jk,Nk,Gl,w_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function H0(){var e=0,t=1,n,r,i,a,s=zi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(Gu),c.rangeRound=d(hk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k_(){var e=hl(H0()(zi));return e.copy=function(){return pl(e,k_())},ko.apply(e,arguments)}function S_(){var e=xk(H0()).domain([1,10]);return e.copy=function(){return pl(e,S_()).base(e.base())},ko.apply(e,arguments)}function N_(){var e=yk(H0());return e.copy=function(){return pl(e,N_()).constant(e.constant())},ko.apply(e,arguments)}function Tk(){var e=bk(H0());return e.copy=function(){return pl(e,Tk()).exponent(e.exponent())},ko.apply(e,arguments)}function rG(){return Tk.apply(null,arguments).exponent(.5)}function C_(){var e=[],t=zi;function n(r){if(r!=null&&!isNaN(r=+r))return t((om(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(nl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>U7(e,a/r))},n.copy=function(){return C_(t).domain(e)},ko.apply(n,arguments)}function q0(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=zi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=pq(g,[v,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(Gu),m.rangeRound=p(hk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function j_(){var e=hl(q0()(zi));return e.copy=function(){return pl(e,j_())},ko.apply(e,arguments)}function P_(){var e=xk(q0()).domain([.1,1,10]);return e.copy=function(){return pl(e,P_()).base(e.base())},ko.apply(e,arguments)}function A_(){var e=yk(q0());return e.copy=function(){return pl(e,A_()).constant(e.constant())},ko.apply(e,arguments)}function Dk(){var e=bk(q0());return e.copy=function(){return pl(e,Dk()).exponent(e.exponent())},ko.apply(e,arguments)}function iG(){return Dk.apply(null,arguments).exponent(.5)}const _d=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dk,scaleDiverging:j_,scaleDivergingLog:P_,scaleDivergingPow:Dk,scaleDivergingSqrt:iG,scaleDivergingSymlog:A_,scaleIdentity:s_,scaleImplicit:_b,scaleLinear:a_,scaleLog:l_,scaleOrdinal:uk,scalePoint:H7,scalePow:wk,scaleQuantile:d_,scaleQuantize:f_,scaleRadial:u_,scaleSequential:k_,scaleSequentialLog:S_,scaleSequentialPow:Tk,scaleSequentialQuantile:C_,scaleSequentialSqrt:rG,scaleSequentialSymlog:N_,scaleSqrt:Fq,scaleSymlog:c_,scaleThreshold:m_,scaleTime:tG,scaleUtc:nG,tickFormat:i_},Symbol.toStringTag,{value:"Module"}));var gl=e=>e.chartData,Mk=fe([gl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ok=(e,t,n,r)=>r?Mk(e):gl(e);function sl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(zr(t)&&zr(n))return!0}return!1}function wP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function E_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(zr(n))i=n;else if(typeof n=="function")return;if(zr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(sl(s))return s}}function aG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(sl(r))return wP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ct(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&BC.test(i)){var l=BC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Ct(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&zC.test(a)){var d=zC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(sl(h))return t==null?h:wP(h,t,n)}}}var Yu=1e9,sG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_k,sr=!0,Ga="[DecimalError] ",rc=Ga+"Invalid argument: ",Ik=Ga+"Exponent out of range: ",Xu=Math.floor,$l=Math.pow,oG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,ri=1e7,Zn=7,T_=9007199254740991,xg=Xu(T_/Zn),dt={};dt.absoluteValue=dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};dt.comparedTo=dt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};dt.decimalPlaces=dt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Zn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};dt.dividedBy=dt.div=function(e){return ro(this,new this.constructor(e))};dt.dividedToIntegerBy=dt.idiv=function(e){var t=this,n=t.constructor;return Rn(ro(t,new n(e),0,1),n.precision)};dt.equals=dt.eq=function(e){return!this.cmp(e)};dt.exponent=function(){return Br(this)};dt.greaterThan=dt.gt=function(e){return this.cmp(e)>0};dt.greaterThanOrEqualTo=dt.gte=function(e){return this.cmp(e)>=0};dt.isInteger=dt.isint=function(){return this.e>this.d.length-2};dt.isNegative=dt.isneg=function(){return this.s<0};dt.isPositive=dt.ispos=function(){return this.s>0};dt.isZero=function(){return this.s===0};dt.lessThan=dt.lt=function(e){return this.cmp(e)<0};dt.lessThanOrEqualTo=dt.lte=function(e){return this.cmp(e)<1};dt.logarithm=dt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ga))throw Error(Ga+"NaN");if(n.s<1)throw Error(Ga+(n.s?"NaN":"-Infinity"));return n.eq(ga)?new r(0):(sr=!1,t=ro(Lf(n,a),Lf(e,a),a),sr=!0,Rn(t,i))};dt.minus=dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O_(t,e):D_(t,(e.s=-e.s,e))};dt.modulo=dt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ga+"NaN");return n.s?(sr=!1,t=ro(n,e,0,1).times(e),sr=!0,n.minus(t)):Rn(new r(n),i)};dt.naturalExponential=dt.exp=function(){return M_(this)};dt.naturalLogarithm=dt.ln=function(){return Lf(this)};dt.negated=dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};dt.plus=dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D_(t,e):O_(t,(e.s=-e.s,e))};dt.precision=dt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rc+e);if(t=Br(i)+1,r=i.d.length-1,n=r*Zn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};dt.squareRoot=dt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ga+"NaN")}for(e=Br(o),sr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ds(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Xu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(ro(o,a,s+2)).times(.5),Ds(a.d).slice(0,s)===(t=Ds(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Rn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return sr=!0,Rn(r,n)};dt.times=dt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ri|0,t=o/ri|0;a[i]=(a[i]+t)%ri|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,sr?Rn(e,f.precision):e};dt.toDecimalPlaces=dt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Rs(e,0,Yu),t===void 0?t=r.rounding:Rs(t,0,8),Rn(n,e+Br(n)+1,t))};dt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=gc(r,!0):(Rs(e,0,Yu),t===void 0?t=i.rounding:Rs(t,0,8),r=Rn(new i(r),e+1,t),n=gc(r,!0,e+1)),n};dt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?gc(i):(Rs(e,0,Yu),t===void 0?t=a.rounding:Rs(t,0,8),r=Rn(new a(i),e+Br(i)+1,t),n=gc(r.abs(),!1,e+Br(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};dt.toInteger=dt.toint=function(){var e=this,t=e.constructor;return Rn(new t(e),Br(e)+1,t.rounding)};dt.toNumber=function(){return+this};dt.toPower=dt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ga);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ga+"Infinity");return o}if(o.eq(ga))return o;if(r=l.precision,e.eq(ga))return Rn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=T_){for(i=new l(ga),t=Math.ceil(r/Zn+4),sr=!1;n%2&&(i=i.times(o),SP(i.d,t)),n=Xu(n/2),n!==0;)o=o.times(o),SP(o.d,t);return sr=!0,e.s<0?new l(ga).div(i):Rn(i,r)}}else if(a<0)throw Error(Ga+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,sr=!1,i=e.times(Lf(o,r+c)),sr=!0,i=M_(i),i.s=a,i};dt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Br(i),r=gc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Rs(e,1,Yu),t===void 0?t=a.rounding:Rs(t,0,8),i=Rn(new a(i),e,t),n=Br(i),r=gc(i,e<=n||n<=a.toExpNeg,e)),r};dt.toSignificantDigits=dt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Rs(e,1,Yu),t===void 0?t=r.rounding:Rs(t,0,8)),Rn(new r(n),e,t)};dt.toString=dt.valueOf=dt.val=dt.toJSON=dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Br(e),n=e.constructor;return gc(e,t<=n.toExpNeg||t>=n.toExpPos)};function D_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),sr?Rn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/Zn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ri|0,l[a]%=ri;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,sr?Rn(t,f):t}function Rs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(rc+e)}function Ds(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=Zn-r.length,n&&(a+=Fo(n)),a+=r;s=e[t],r=s+"",n=Zn-r.length,n&&(a+=Fo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ro=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ri|0,s=a/ri|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ri+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,v,b,w,S,C,N,P,D,_=r.constructor,A=r.s==i.s?1:-1,$=r.d,M=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Ga+"Division by zero");for(l=r.e-i.e,P=M.length,C=$.length,m=new _(A),p=m.d=[],c=0;M[c]==($[c]||0);)++c;if(M[c]>($[c]||0)&&--l,a==null?b=a=_.precision:s?b=a+(Br(r)-Br(i))+1:b=a,b<0)return new _(0);if(b=b/Zn+2|0,c=0,P==1)for(d=0,M=M[0],b++;(c<C||d)&&b--;c++)w=d*ri+($[c]||0),p[c]=w/M|0,d=w%M|0;else{for(d=ri/(M[0]+1)|0,d>1&&(M=e(M,d),$=e($,d),P=M.length,C=$.length),S=P,g=$.slice(0,P),y=g.length;y<P;)g[y++]=0;D=M.slice(),D.unshift(0),N=M[0],M[1]>=ri/2&&++N;do d=0,o=t(M,g,P,y),o<0?(v=g[0],P!=y&&(v=v*ri+(g[1]||0)),d=v/N|0,d>1?(d>=ri&&(d=ri-1),f=e(M,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,P<h?D:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(M,g,P,y),o<1&&(d++,n(g,P<y?D:M,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=$[S]||0:(g=[$[S]],y=1);while((S++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,Rn(m,s?a+Br(m)+1:a)}}();function M_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Br(e)>16)throw Error(Ik+Br(e));if(!e.s)return new d(ga);for(sr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log($l(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(ga),d.precision=o;;){if(i=Rn(i.times(e),o),n=n.times(++l),s=a.plus(ro(i,n,o)),Ds(s.d).slice(0,o)===Ds(a.d).slice(0,o)){for(;c--;)a=Rn(a.times(a),o);return d.precision=f,t==null?(sr=!0,Rn(a,f)):a}a=s}}function Br(e){for(var t=e.e*Zn,n=e.d[0];n>=10;n/=10)t++;return t}function bx(e,t,n){if(t>e.LN10.sd())throw sr=!0,n&&(e.precision=n),Error(Ga+"LN10 precision limit exceeded");return Rn(new e(e.LN10),t)}function Fo(e){for(var t="";e--;)t+="0";return t}function Lf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ga+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new g(0);if(t==null?(sr=!1,c=y):c=t,m.eq(10))return t==null&&(sr=!0),bx(g,c);if(c+=h,g.precision=c,n=Ds(p),r=n.charAt(0),a=Br(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ds(m.d),r=n.charAt(0),f++;a=Br(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=bx(g,c+2,y).times(a+""),m=Lf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(sr=!0,Rn(m,y)):m;for(o=s=m=ro(m.minus(ga),m.plus(ga),c),d=Rn(m.times(m),c),i=3;;){if(s=Rn(s.times(d),c),l=o.plus(ro(s,new g(i),c)),Ds(l.d).slice(0,c)===Ds(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(bx(g,c+2,y).times(a+""))),o=ro(o,new g(f),c),g.precision=y,t==null?(sr=!0,Rn(o,y)):o;o=l,i+=2}}function kP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Xu(n/Zn),e.d=[],r=(n+1)%Zn,n<0&&(r+=Zn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Zn;r<i;)e.d.push(+t.slice(r,r+=Zn));t=t.slice(r),r=Zn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),sr&&(e.e>xg||e.e<-xg))throw Error(Ik+n)}else e.s=0,e.e=0,e.d=[0];return e}function Rn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=Zn,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Zn),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=Zn,i=r-Zn+s}if(n!==void 0&&(a=$l(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/$l(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Br(e),f.length=1,t=t-a-1,f[0]=$l(10,(Zn-t%Zn)%Zn),e.e=Xu(-t/Zn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=$l(10,Zn-r),f[d]=i>0?(c/$l(10,s-i)%$l(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ri&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ri)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(sr&&(e.e>xg||e.e<-xg))throw Error(Ik+Br(e));return e}function O_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),sr?Rn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/Zn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ri-1;--l[a],l[i]+=ri}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,sr?Rn(t,m):t):new h(0)}function gc(e,t,n){var r,i=Br(e),a=Ds(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Fo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Fo(-i-1)+a,n&&(r=n-s)>0&&(a+=Fo(r))):i>=s?(a+=Fo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Fo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Fo(r))),e.s<0?"-"+a:a}function SP(e,t){if(e.length>t)return e.length=t,!0}function I_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(rc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return kP(s,a.toString())}else if(typeof a!="string")throw Error(rc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,oG.test(a))kP(s,a);else throw Error(rc+a)}if(i.prototype=dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=I_,i.config=i.set=lG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function lG(e){if(!e||typeof e!="object")throw Error(Ga+"Object expected");var t,n,r,i=["precision",1,Yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Xu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(rc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rc+n+": "+r);return this}var _k=I_(sG);ga=new _k(1);const Tn=_k;var cG=e=>e,__={},L_=e=>e===__,NP=e=>function t(){return arguments.length===0||arguments.length===1&&L_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$_=(e,t)=>e===1?t:NP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==__).length;return a>=e?t(...r):$_(e-a,NP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>L_(d)?o.shift():d);return t(...c,...o)}))}),uG=e=>$_(e.length,e),Rb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},dG=uG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),fG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return cG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function F_(e){var t;return e===0?t=1:t=Math.floor(new Tn(e).abs().log(10).toNumber())+1,t}function R_(e,t,n){for(var r=new Tn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var B_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},z_=(e,t,n)=>{if(e.lte(0))return new Tn(0);var r=F_(e.toNumber()),i=new Tn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Tn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Tn(l.toNumber()):new Tn(Math.ceil(l.toNumber()))},mG=(e,t,n)=>{var r=new Tn(1),i=new Tn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Tn(10).pow(F_(e)-1),i=new Tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tn(Math.floor(e)))}else e===0?i=new Tn(Math.floor((t-1)/2)):n||(i=new Tn(Math.floor(e)));var s=Math.floor((t-1)/2),o=fG(dG(l=>i.add(new Tn(l-s).mul(r)).toNumber()),Rb);return o(0,t)},U_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Tn(0),tickMin:new Tn(0),tickMax:new Tn(0)};var s=z_(new Tn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Tn(0):(o=new Tn(t).add(n).div(2),o=o.sub(new Tn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Tn(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?U_(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Tn(l).mul(s)),tickMax:o.add(new Tn(c).mul(s))})},hG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=B_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Rb(0,i-1).map(()=>1/0)]:[...Rb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return mG(o,i,a);var{step:d,tickMin:f,tickMax:h}=U_(o,l,s,a,0),m=R_(f,h.add(new Tn(.1).mul(d)),d);return n>r?m.reverse():m},pG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=B_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=z_(new Tn(o).sub(s).div(l-1),a,0),d=[...R_(new Tn(s),new Tn(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},gG=e=>e.rootProps.barCategoryGap,dm=e=>e.rootProps.stackOffset,V_=e=>e.rootProps.reverseStackOrder,Lk=e=>e.options.chartName,$k=e=>e.rootProps.syncId,W_=e=>e.rootProps.syncMethod,Fk=e=>e.options.eventEmitter,pi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},K0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:Gs.reversed,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:Gs.type,unit:void 0},xG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},yG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bG={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:"category",unit:void 0},Rk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yG:vG,Bk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bG:xG,G0=e=>e.polarOptions,zk=fe([bo,wo,si],UI),H_=fe([G0,zk],(e,t)=>{if(e!=null)return ba(e.innerRadius,t,0)}),q_=fe([G0,zk],(e,t)=>{if(e!=null)return ba(e.outerRadius,t,t*.8)}),wG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},K_=fe([G0],wG);fe([Rk,K_],K0);var G_=fe([zk,H_,q_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});fe([Bk,G_],K0);var Y_=fe([Ln,G0,H_,q_,bo,wo],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ba(s,i,i/2),cy:ba(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),or=(e,t)=>t,fm=(e,t,n)=>n;function X_(e){return e==null?void 0:e.id}function Q_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=X_(o);c.forEach((f,h)=>{var m=a==null||i?h:String(er(f,a,null)),p=er(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function Uk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Y0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function X0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Zr=e=>{var t=Ln(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Qu=e=>e.tooltip.settings.axisId;function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){SG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SG(e,t,n){return(t=NG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb=[0,"auto"],ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Z_=(e,t)=>e.cartesianAxis.xAxis[t],So=(e,t)=>{var n=Z_(e,t);return n??ti},ni={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:im},J_=(e,t)=>e.cartesianAxis.yAxis[t],No=(e,t)=>{var n=J_(e,t);return n??ni},jG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Vk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??jG},yr=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return No(e,n);case"zAxis":return Vk(e,n);case"angleAxis":return Rk(e,n);case"radiusAxis":return Bk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PG=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return No(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mm=(e,t,n)=>{switch(t){case"xAxis":return So(e,n);case"yAxis":return No(e,n);case"angleAxis":return Rk(e,n);case"radiusAxis":return Bk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},e3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Wk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var t3=e=>e.graphicalItems.cartesianItems,AG=fe([or,fm],Wk),Hk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),hm=fe([t3,yr,AG],Hk,{memoizeOptions:{resultEqualityCheck:X0}}),n3=fe([hm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uk)),r3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),EG=fe([hm],r3),qk=e=>e.map(t=>t.data).filter(Boolean).flat(1),TG=fe([hm],qk,{memoizeOptions:{resultEqualityCheck:X0}}),Kk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Gk=fe([TG,Ok],Kk),Yk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:er(i,r)}))):e.map(r=>({value:r})),Q0=fe([Gk,yr,hm],Yk);function i3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Jh(e){if($s(e)||e instanceof Date){var t=Number(e);if(zr(t))return t}}function jP(e){if(Array.isArray(e)){var t=[Jh(e[0]),Jh(e[1])];return sl(t)?t:void 0}var n=Jh(e);if(n!=null)return[n,n]}function vo(e){return e.map(Jh).filter(q8)}function DG(e,t,n){return!n||typeof t!="number"||Ls(t)?[]:n.length?vo(n.flatMap(r=>{var i=er(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!zr(a)||!zr(s)))return[t-a,t+s]})):[]}var Jr=e=>{var t=Zr(e),n=Qu(e);return mm(e,t,n)},pm=fe([Jr],e=>e==null?void 0:e.dataKey),MG=fe([n3,Ok,Jr],Q_),a3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(X_);return[o,{stackedData:lW(e,d,n),graphicalItems:c}]}))},OG=fe([MG,n3,dm,V_],a3),s3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=dW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},IG=fe([yr],e=>e.allowDataOverflow),Xk=e=>{var t;if(e==null||!("domain"in e))return Bb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=vo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bb},Qk=fe([yr],Xk),Zk=fe([Qk,IG],E_),_G=fe([OG,gl,or,Zk],s3,{memoizeOptions:{resultEqualityCheck:Y0}}),Z0=e=>e.errorBars,LG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>i3(n,r)),bg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Jk=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(v=>i3(i,v)),h=er(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=DG(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=jP(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=jP(er(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),zr(a)&&zr(s))return[a,s]},$G=fe([Gk,yr,EG,Z0,or],Jk,{memoizeOptions:{resultEqualityCheck:Y0}});function FG(e){var{value:t}=e;if($s(t)||t instanceof Date)return t}var RG=(e,t,n)=>{var r=e.map(FG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&e5(r))?YI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},o3=e=>e.referenceElements.dots,Zu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),BG=fe([o3,or,fm],Zu),l3=e=>e.referenceElements.areas,zG=fe([l3,or,fm],Zu),c3=e=>e.referenceElements.lines,UG=fe([c3,or,fm],Zu),u3=(e,t)=>{if(e!=null){var n=vo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VG=fe(BG,or,u3),d3=(e,t)=>{if(e!=null){var n=vo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WG=fe([zG,or],d3);function HG(e){var t;if(e.x!=null)return vo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:vo(n)}function qG(e){var t;if(e.y!=null)return vo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:vo(n)}var f3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?HG(r):qG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KG=fe([UG,or],f3),GG=fe(VG,KG,WG,(e,t,n)=>bg(e,n,t)),eS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?bg(r,a,i):bg(a,i);return aG(t,c,e.allowDataOverflow)},YG=fe([yr,Qk,Zk,_G,$G,GG,Ln,or],eS,{memoizeOptions:{resultEqualityCheck:Y0}}),XG=[0,1],tS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=ml(t,a);if(c&&o==null){var d;return YI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?RG(r,e,c):i==="expand"?XG:s}},nS=fe([yr,Ln,Gk,Q0,dm,or,YG],tS),m3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(em(a));return o in _d?o:"point"}}},Ju=fe([yr,Ln,e3,Lk,or],m3);function QG(e){if(e!=null){if(e in _d)return _d[e]();var t="scale".concat(em(e));if(t in _d)return _d[t]()}}function rS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=QG(t);if(i!=null){var a=i.domain(n).range(r);return iW(a),a}}}var iS=(e,t,n)=>{var r=Xk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&sl(e))return hG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&sl(e))return pG(e,t.tickCount,t.allowDecimals)}},aS=fe([nS,mm,Ju],iS),sS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&sl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},ZG=fe([yr,nS,aS,or],sS),JG=fe(Q0,yr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(vo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),h3=fe(JG,Ln,gG,si,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!zr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ba(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),eY=(e,t,n)=>{var r=So(e,t);return r==null||typeof r.padding!="string"?0:h3(e,"xAxis",t,n,r.padding)},tY=(e,t,n)=>{var r=No(e,t);return r==null||typeof r.padding!="string"?0:h3(e,"yAxis",t,n,r.padding)},nY=fe(So,eY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),rY=fe(No,tY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),iY=fe([si,nY,M0,D0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),aY=fe([si,Ln,rY,M0,D0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return iY(e,n,r);case"yAxis":return aY(e,n,r);case"zAxis":return(i=Vk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return K_(e);case"radiusAxis":return G_(e,n);default:return}},p3=fe([yr,gm],K0),J0=fe([yr,Ju,ZG,p3],rS);fe([hm,Z0,or],LG);function g3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ev=(e,t)=>t,tv=(e,t,n)=>n,sY=fe(E0,ev,tv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(g3)),oY=fe(T0,ev,tv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(g3)),v3=(e,t)=>({width:e.width,height:t.height}),lY=(e,t)=>{var n=typeof t.width=="number"?t.width:im;return{width:n,height:e.height}},cY=fe(si,So,v3),uY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fY=fe(wo,si,sY,ev,tv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=v3(t,o);s==null&&(s=uY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),mY=fe(bo,si,oY,ev,tv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=lY(t,o);s==null&&(s=dY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),hY=(e,t)=>{var n=So(e,t);if(n!=null)return fY(e,n.orientation,n.mirror)},pY=fe([si,So,hY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),gY=(e,t)=>{var n=No(e,t);if(n!=null)return mY(e,n.orientation,n.mirror)},vY=fe([si,No,gY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),xY=fe(si,No,(e,t)=>{var n=typeof t.width=="number"?t.width:im;return{width:n,height:e.height}}),x3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=ml(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&e5(l))return l}},oS=fe([Ln,Q0,yr,or],x3),y3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=ml(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},lS=fe([Ln,Q0,mm,or],y3),PP=fe([Ln,PG,Ju,J0,oS,lS,gm,aS,or],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=ml(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),yY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=ml(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?ji(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((v,b)=>{var w=s?s.indexOf(v):v;return{index:b,coordinate:r(w)+p,value:v,offset:p}});return y.filter(v=>zr(v.coordinate))}return c&&o?o.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})).filter(v=>zr(v.coordinate)):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:s?s[v]:v,index:b,offset:p}))}},b3=fe([Ln,mm,Ju,J0,aS,gm,oS,lS,or],yY),bY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=ml(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?ji(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},w3=fe([Ln,mm,J0,gm,oS,lS,or],bY),k3=fe(yr,J0,(e,t)=>{if(!(e==null||t==null))return yg(yg({},e),{},{scale:t})}),wY=fe([yr,Ju,nS,p3],rS);fe((e,t,n)=>Vk(e,n),wY,(e,t)=>{if(!(e==null||t==null))return yg(yg({},e),{},{scale:t})});var kY=fe([Ln,E0,T0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),S3=e=>e.options.defaultTooltipEventType,N3=e=>e.options.validateTooltipEventTypes;function C3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function cS(e,t){var n=S3(e),r=N3(e);return C3(t,n,r)}function SY(e){return bt(t=>cS(t,e))}var j3=(e,t)=>{var n,r=Number(t);if(!(Ls(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},NY=e=>e.tooltip.settings,Vo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},CY={itemInteraction:{click:Vo,hover:Vo},axisInteraction:{click:Vo,hover:Vo},keyboardInteraction:Vo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P3=oa({name:"tooltip",initialState:CY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ir()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ls(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ir()},removeTooltipEntrySettings:{reducer(e,t){var n=ls(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ir()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:jY,replaceTooltipEntrySettings:PY,removeTooltipEntrySettings:AY,setTooltipSettingsState:EY,setActiveMouseOverItemIndex:A3,mouseLeaveItem:TY,mouseLeaveChart:E3,setActiveClickItemIndex:DY,setMouseOverAxisIndex:T3,setMouseClickAxisIndex:MY,setSyncInteraction:zb,setKeyboardInteraction:Ub}=P3.actions,OY=P3.reducer;function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){IY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Y(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FY(e){return e.index!=null}var D3=(e,t,n,r)=>{if(t==null)return Vo;var i=$Y(e,t,n);if(i==null)return Vo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(FY(i)){if(a)return jh(jh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return jh(jh({},Vo),{},{coordinate:i.coordinate})};function RY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function BY(e,t){var n=RY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function zY(e,t,n){if(n==null||t==null)return!0;var r=er(e,t);return r==null||!sl(n)?!0:BY(r,n)}var uS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!zr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||zY(c,n,r)?String(l):null},M3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},O3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},vm=e=>e.options.tooltipPayloadSearcher,ed=e=>e.tooltip;function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){UY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e,t){return e??t}var I3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,v=HY(g,o),b=Array.isArray(v)?uI(v,c,d):v,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,S=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=t5(b,r,i):C=a(b,t,l,S),Array.isArray(C))C.forEach(P=>{var D=TP(TP({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(UC({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:er(P.payload,P.dataKey),name:P.name}))});else{var N;h.push(UC({tooltipEntrySettings:y,dataKey:w,payload:C,value:er(C,w),name:(N=er(C,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},dS=fe([Jr,Ln,e3,Lk,Zr],m3),qY=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KY=fe([Zr,Qu],Wk),td=fe([qY,Jr,KY],Hk,{memoizeOptions:{resultEqualityCheck:X0}}),GY=fe([td],e=>e.filter(Uk)),YY=fe([td],qk,{memoizeOptions:{resultEqualityCheck:X0}}),nd=fe([YY,gl],Kk),XY=fe([GY,gl,Jr],Q_),fS=fe([nd,Jr,td],Yk),_3=fe([Jr],Xk),QY=fe([Jr],e=>e.allowDataOverflow),L3=fe([_3,QY],E_),ZY=fe([td],e=>e.filter(Uk)),JY=fe([XY,ZY,dm,V_],a3),eX=fe([JY,gl,Zr,L3],s3),tX=fe([td],r3),nX=fe([nd,Jr,tX,Z0,Zr],Jk,{memoizeOptions:{resultEqualityCheck:Y0}}),rX=fe([o3,Zr,Qu],Zu),iX=fe([rX,Zr],u3),aX=fe([l3,Zr,Qu],Zu),sX=fe([aX,Zr],d3),oX=fe([c3,Zr,Qu],Zu),lX=fe([oX,Zr],f3),cX=fe([iX,lX,sX],bg),uX=fe([Jr,_3,L3,eX,nX,cX,Ln,Zr],eS),xm=fe([Jr,Ln,nd,fS,dm,Zr,uX],tS),dX=fe([xm,Jr,dS],iS),fX=fe([Jr,xm,dX,Zr],sS),$3=e=>{var t=Zr(e),n=Qu(e),r=!1;return gm(e,t,n,r)},F3=fe([Jr,$3],K0),R3=fe([Jr,dS,fX,F3],rS),mX=fe([Ln,fS,Jr,Zr],x3),hX=fe([Ln,fS,Jr,Zr],y3),pX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=ml(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ji(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Co=fe([Ln,Jr,dS,R3,$3,mX,hX,Zr],pX),mS=fe([S3,N3,NY],(e,t,n)=>C3(n.shared,e,t)),B3=e=>e.tooltip.settings.trigger,hS=e=>e.tooltip.settings.defaultIndex,ym=fe([ed,mS,B3,hS],D3),Ru=fe([ym,nd,pm,xm],uS),z3=fe([Co,Ru],j3),U3=fe([ym],e=>{if(e)return e.dataKey}),gX=fe([ym],e=>{if(e)return e.graphicalItemId}),V3=fe([ed,mS,B3,hS],O3),vX=fe([bo,wo,Ln,si,Co,hS,V3,vm],M3),xX=fe([ym,vX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yX=fe([ym],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bX=fe([V3,Ru,gl,pm,z3,vm,mS],I3),wX=fe([bX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=()=>bt(Jr),jX=()=>{var e=CX(),t=bt(Co),n=bt(R3);return Zp(!e||!n?void 0:MP(MP({},e),{},{scale:n}),t)};function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){PX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},DX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Vc(Vc(Vc({},r),Rr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Vc(Vc(Vc({},r),Rr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var W3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(ji(p-m)!==ji(g-p)){var v=[];if(ji(g-p)===ji(i[1]-i[0])){y=g;var b=p+i[1]-i[0];v[0]=Math.min(b,(b+m)/2),v[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];v[0]=Math.min(p,(w+p)/2),v[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),P=Math.max(m,g);if(e>(N+p)/2&&e<=(P+p)/2){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}}else if(t)for(var _=0;_<s;_++){var A=t[_];if(A!=null){var $=t[_+1],M=t[_-1];if(_===0&&$!=null&&e<=(A.coordinate+$.coordinate)/2||_===s-1&&M!=null&&e>(A.coordinate+M.coordinate)/2||_>0&&_<s-1&&M!=null&&$!=null&&e>(A.coordinate+M.coordinate)/2&&e<=(A.coordinate+$.coordinate)/2)return A.index}}return-1},OX=()=>bt(Lk),pS=(e,t)=>t,H3=(e,t,n)=>n,gS=(e,t,n,r)=>r,IX=fe(Co,e=>x0(e,t=>t.coordinate)),vS=fe([ed,pS,H3,gS],D3),xS=fe([vS,nd,pm,xm],uS),_X=(e,t,n)=>{if(t!=null){var r=ed(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},q3=fe([ed,pS,H3,gS],O3),wg=fe([bo,wo,Ln,si,Co,gS,q3,vm],M3),LX=fe([vS,wg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),K3=fe([Co,xS],j3),$X=fe([q3,xS,gl,pm,K3,vm,pS],I3),FX=fe([vS,xS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),RX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&MX(e,s)){var o=fW(e,t),l=W3(o,a,i,n,r),c=TX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},BX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=C7(e,n);if(o){var l=mW(o,t),c=W3(l,s,a,r,i),d=DX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},zX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?RX(e,t,r,i,a,s,o):BX(e,t,n,r,i,a,s)},UX=fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),VX=fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(pi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:kG}});function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=HX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KX={},GX={zIndexMap:Object.values(pi).reduce((e,t)=>_P(_P({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KX)},YX=new Set(Object.values(pi));function XX(e){return YX.has(e)}var G3=oa({name:"zIndex",initialState:GX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ir()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!XX(n)&&delete e.zIndexMap[n])},prepare:ir()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ir()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ir()}}}),{registerZIndexPortal:QX,unregisterZIndexPortal:ZX,registerZIndexPortalElement:JX,unregisterZIndexPortalElement:eQ}=G3.actions,tQ=G3.reducer;function vs(e){var{zIndex:t,children:n}=e,r=BW(),i=r&&t!==void 0&&t!==0,a=la(),s=qn();x.useLayoutEffect(()=>i?(s(QX({zIndex:t})),()=>{s(ZX({zIndex:t}))}):tm,[s,t,i]);var o=bt(l=>UX(l,t,a));return i?o?Ku.createPortal(n,o):null:n}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(null,arguments)}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function sQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=RH,y=pi.cursorLine;else if(d==="BarChart")p=BH(o,f,a,s),g=zI,y=pi.cursorRectangle;else if(o==="radial"&&r5(f)){var{cx:v,cy:b,radius:w,startAngle:S,endAngle:C}=VI(f);p={cx:v,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},g=HI,y=pi.cursorLine}else p={points:E7(o,f,a)},g=lk,y=pi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,P=Ph(Ph(Ph(Ph({stroke:"#ccc",pointerEvents:"none"},a),p),Du(l)),{},{payload:h,payloadIndex:m,className:jn("recharts-tooltip-cursor",N)});return x.createElement(vs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},x.createElement(aQ,{cursor:l,cursorComp:g,cursorProps:P}))}function oQ(e){var t=jX(),n=NI(),r=am(),i=OX();return t==null||n==null||r==null||i==null?null:x.createElement(sQ,Vb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Y3=x.createContext(null),lQ=()=>x.useContext(Y3),X3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,C;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(X3);var cQ=X3.exports;const uQ=ps(cQ);var $f=new uQ,Wb="recharts.syncEvent.tooltip",$P="recharts.syncEvent.brush";function Q3(e,t){if(t){var n=Number.parseInt(t,10);if(!Ls(n))return e==null?void 0:e[n]}}var dQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Z3=oa({name:"options",initialState:dQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fQ=Z3.reducer,{createEventEmitter:mQ}=Z3.actions;function hQ(e){return e.tooltip.syncInteraction}var pQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},J3=oa({name:"chartData",initialState:pQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:FP,setDataStartEndIndexes:gQ,setComputedData:cge}=J3.actions,vQ=J3.reducer,xQ=["x","y"];function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kQ(e,t){if(e==null)return{};var n,r,i=SQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NQ(){var e=bt($k),t=bt(Fk),n=qn(),r=bt(W_),i=bt(Co),a=am(),s=O0(),o=bt(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return tm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=kQ(m,xQ),{x:v,y:b,width:w,height:S}=d.payload.sourceViewBox,C=Wc(Wc({},y),{},{x:s.x+(w?(p-v)/w:0)*s.width,y:s.y+(S?(g-b)/S:0)*s.height});n(Wc(Wc({},d),{},{payload:Wc(Wc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=r(i,P);N=i[D]}else r==="value"&&(N=i.find(q=>String(q.value)===d.payload.label));var{coordinate:_}=d.payload;if(N==null||d.payload.active===!1||_==null||s==null){n(zb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:$}=_,M=Math.min(A,s.x+s.width),ee=Math.min($,s.y+s.height),ne={x:a==="horizontal"?N.coordinate:M,y:a==="horizontal"?ee:N.coordinate},ue=zb({active:d.payload.active,coordinate:ne,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ue)}}};return $f.on(Wb,l),()=>{$f.off(Wb,l)}},[o,n,t,e,r,i,a,s])}function CQ(){var e=bt($k),t=bt(Fk),n=qn();x.useEffect(()=>{if(e==null)return tm;var r=(i,a,s)=>{t!==s&&e===i&&n(gQ(a))};return $f.on($P,r),()=>{$f.off($P,r)}},[n,t,e])}function jQ(){var e=qn();x.useEffect(()=>{e(mQ())},[e]),NQ(),CQ()}function PQ(e,t,n,r,i,a){var s=bt(m=>_X(m,e,t)),o=bt(Fk),l=bt($k),c=bt(W_),d=bt(hQ),f=d==null?void 0:d.active,h=O0();x.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=zb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});$f.emit(Wb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DQ(e){return e.dataKey}function MQ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(xH,t)}var UP=[],OQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vc(e){var t,n,r=Xr(e,OQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,P=qn(),D=typeof S=="number"?String(S):S;x.useEffect(()=>{P(EY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:D}))},[P,b,w,N,i,D]);var _=O0(),A=LI(),$=SY(b),{activeIndex:M,isActive:ee}=(t=bt(B=>FX(B,$,w,D)))!==null&&t!==void 0?t:{},ne=bt(B=>$X(B,$,w,D)),ue=bt(B=>K3(B,$,w,D)),q=bt(B=>LX(B,$,w,D)),H=ne,W=lQ(),re=(n=i??ee)!==null&&n!==void 0?n:!1,[E,j]=I5([H,re]),V=$==="axis"?ue:void 0;PQ($,w,q,V,M,re);var k=C??W;if(k==null||_==null||$==null)return null;var O=H??UP;re||(O=UP),c&&O.length&&(O=k5(O.filter(B=>B.value!=null&&(B.hide!==!0||r.includeHidden)),h,DQ));var ie=O.length>0,Z=x.createElement(CH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:re,coordinate:q,hasPayload:ie,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:_,wrapperStyle:y,lastBoundingBox:E,innerRef:j,hasPortalFromProps:!!C},MQ(l,zP(zP({},r),{},{payload:O,label:V,active:re,activeIndex:M,coordinate:q,accessibilityLayer:A})));return x.createElement(x.Fragment,null,Ku.createPortal(Z,k),re&&x.createElement(oQ,{cursor:v,tooltipEventType:$,coordinate:q,payload:O,index:M}))}var Bu=e=>null;Bu.displayName="Cell";function IQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $Q{constructor(t){IQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ={cacheSize:2e3,enableCache:!0},e4=FQ({},UQ),WP=new $Q(e4.cacheSize),VQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HP="recharts_measurement_span";function WQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var qP=(e,t)=>{try{var n=document.getElementById(HP);n||(n=document.createElement("span"),n.setAttribute("id",HP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,VQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Kd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||F0.isSsr)return{width:0,height:0};if(!e4.enableCache)return qP(t,n);var r=WQ(t,n),i=WP.get(r);if(i)return i;var a=qP(t,n);return WP.set(r,a),a},t4;function HQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QQ=["cm","mm","pt","pc","in","Q","px"];function ZQ(e){return QQ.includes(e)}var lu="NaN";function JQ(e,t){return e*XQ[t]}class hi{static parse(t){var n,[,r,i]=(n=YQ.exec(t))!==null&&n!==void 0?n:[];return r==null?hi.NaN:new hi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ls(t)&&(this.unit=""),n!==""&&!GQ.test(n)&&(this.num=NaN,this.unit=""),ZQ(n)&&(this.num=JQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new hi(NaN,""):new hi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hi(NaN,""):new hi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hi(NaN,""):new hi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hi(NaN,""):new hi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ls(this.num)}}t4=hi;HQ(hi,"NaN",new t4(NaN,""));function n4(e){if(e==null||e.includes(lu))return lu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=KP.exec(t))!==null&&n!==void 0?n:[],s=hi.parse(r??""),o=hi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return lu;t=t.replace(KP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=GP.exec(t))!==null&&c!==void 0?c:[],m=hi.parse(d??""),p=hi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return lu;t=t.replace(GP,g.toString())}return t}var YP=/\(([^()]*)\)/;function eZ(e){for(var t=e,n;(n=YP.exec(t))!=null;){var[,r]=n;t=t.replace(YP,n4(r))}return t}function tZ(e){var t=e.replace(/\s+/g,"");return t=eZ(t),t=n4(t),t}function nZ(e){try{return tZ(e)}catch{return lu}}function wx(e){var t=nZ(e.slice(5,-1));return t===lu?"":t}var rZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iZ=["dx","dy","angle","className","breakAll"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function XP(e,t){if(e==null)return{};var n,r,i=aZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r4=/[ \f\n\r\t\v\u2028\u2029]+/,i4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Yr(t)||(n?i=t.toString().split(""):i=t.toString().split(r4));var a=i.map(o=>({word:o,width:Kd(o,r).width})),s=n?0:Kd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function sZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var a4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),s4=e=>e.reduce((t,n)=>t.width>n.width?t:n),oZ="",QP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=i4({breakAll:n,style:r,children:l+oZ});if(!c)return[!1,[]];var d=a4(c.wordsWithComputedWidth,a,s,o),f=d.length>i||s4(d).width>Number(a);return[f,d]},lZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Ct(a),d=String(s),f=a4(t,r,n,i);if(!c||i)return f;var h=f.length>a||s4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var v=Math.floor((m+p)/2),b=v-1,[w,S]=QP(d,b,l,o,a,r,n,i),[C]=QP(d,v,l,o,a,r,n,i);if(!w&&!C&&(m=v+1),w&&C&&(p=v-1),!w&&C){y=S;break}g++}return y||f},ZP=e=>{var t=Yr(e)?[]:e.toString().split(r4);return[{words:t,width:void 0}]},cZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!F0.isSsr){var o,l,c=i4({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return ZP(r);return lZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return ZP(r)},o4="#808080",uZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:o4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nv=x.forwardRef((e,t)=>{var n=Xr(e,uZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=XP(n,rZ),h=x.useMemo(()=>cZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:v}=f,b=XP(f,iZ);if(!$s(r)||!$s(i)||h.length===0)return null;var w=Number(r)+(Ct(m)?m:0),S=Number(i)+(Ct(p)?p:0);if(!zr(w)||!zr(S))return null;var C;switch(d){case"start":C=wx("calc(".concat(s,")"));break;case"middle":C=wx("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=wx("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var P=h[0].width,{width:D}=f;N.push("scale(".concat(Ct(D)&&Ct(P)?D/P:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),x.createElement("text",Hb({},Vi(b),{ref:t,x:w,y:S,className:jn("recharts-text",y),textAnchor:c,fill:o.includes("url")?o4:o}),h.map((_,A)=>{var $=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:A===0?C:a,key:"".concat($,"-").concat(A)},$)}))});nv.displayName="Text";var dZ=["labelRef"],fZ=["content"];function JP(e,t){if(e==null)return{};var n,r,i=mZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){hZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ys.apply(null,arguments)}var l4=x.createContext(null),vZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return x.createElement(l4.Provider,{value:l},o)},c4=()=>{var e=x.useContext(l4),t=O0();return e||SI(t)},xZ=x.createContext(null),yZ=()=>{var e=x.useContext(xZ),t=bt(Y_);return e||t},bZ=e=>{var{value:t,formatter:n}=e,r=Yr(e.children)?t:e.children;return typeof n=="function"?n(r):r},yS=e=>e!=null&&typeof e=="function",wZ=(e,t)=>{var n=ji(t-e),r=Math.min(Math.abs(t-e),360);return n*r},kZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=wZ(f,h),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=m;break;case"insideEnd":v=h-y*a,b=!m;break;case"end":v=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Rr(o,l,p,v),S=Rr(o,l,p,v+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Yr(e.id)?Nf("recharts-radial-line-"):e.id;return x.createElement("text",Ys({},r,{dominantBaseline:"central",className:jn("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:N,d:C})),x.createElement("textPath",{xlinkHref:"#".concat(N)},n))},SZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Rr(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Rr(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},qb=e=>"cx"in e&&Ct(e.cx),NZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!qb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,v=y*r,b=y>0?"end":"start",w=y>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",P=S>0?"start":"end";if(i==="top"){var D={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:b};return Er(Er({},D),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:h+c/2,y:o+d+v,textAnchor:"middle",verticalAnchor:w};return Er(Er({},_),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var A={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Er(Er({},A),a?{width:Math.max(A.x-a.x,0),height:d}:{})}if(i==="right"){var $={x:m+p+C,y:o+d/2,textAnchor:P,verticalAnchor:"middle"};return Er(Er({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:d}:{})}var M=a?{width:p,height:d}:{};return i==="insideLeft"?Er({x:m+C,y:o+d/2,textAnchor:P,verticalAnchor:"middle"},M):i==="insideRight"?Er({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},M):i==="insideTop"?Er({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:w},M):i==="insideBottom"?Er({x:h+c/2,y:o+d-v,textAnchor:"middle",verticalAnchor:b},M):i==="insideTopLeft"?Er({x:f+C,y:o+v,textAnchor:P,verticalAnchor:w},M):i==="insideTopRight"?Er({x:f+l-C,y:o+v,textAnchor:N,verticalAnchor:w},M):i==="insideBottomLeft"?Er({x:h+C,y:o+d-v,textAnchor:P,verticalAnchor:b},M):i==="insideBottomRight"?Er({x:h+c-C,y:o+d-v,textAnchor:N,verticalAnchor:b},M):i&&typeof i=="object"&&(Ct(i.x)||fo(i.x))&&(Ct(i.y)||fo(i.y))?Er({x:s+ba(i.x,p),y:o+ba(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Er({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},CZ={angle:0,offset:5,zIndex:pi.label,position:"middle",textBreakAll:!1};function Ro(e){var t=Xr(e,CZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=yZ(),f=c4(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:qb(n)?m=n:m=SI(n),!m||Yr(i)&&Yr(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var y=Er(Er({},t),{},{viewBox:m});if(x.isValidElement(s)){var{labelRef:v}=y,b=JP(y,dZ);return x.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,S=JP(y,fZ);if(p=x.createElement(s,S),x.isValidElement(p))return p}else p=bZ(t);var C=Vi(t);if(qb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return kZ(t,r,p,C,m);g=SZ(m,t.offset,t.position)}else g=NZ(t,m);return x.createElement(vs,{zIndex:t.zIndex},x.createElement(nv,Ys({ref:c,className:jn("recharts-label",o)},C,g,{textAnchor:sZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}Ro.displayName="Label";var jZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Ro,Ys({key:"label-implicit"},r)):$s(e)?x.createElement(Ro,Ys({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Ro?x.cloneElement(e,Er({key:"label-implicit"},r)):x.createElement(Ro,Ys({key:"label-implicit",content:e},r)):yS(e)?x.createElement(Ro,Ys({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Ro,Ys({},e,{key:"label-implicit"},r)):null};function PZ(e){var{label:t,labelRef:n}=e,r=c4();return jZ(t,r,n)||null}var u4={},d4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(d4);var f4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(f4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d4,n=f4,r=p0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(u4);var AZ=u4.last;const EZ=ps(AZ);var TZ=["valueAccessor"],DZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(null,arguments)}function tA(e,t){if(e==null)return{};var n,r,i=MZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OZ=e=>Array.isArray(e.value)?EZ(e.value):e.value,m4=x.createContext(void 0),IZ=m4.Provider,h4=x.createContext(void 0),_Z=h4.Provider;function LZ(){return x.useContext(m4)}function $Z(){return x.useContext(h4)}function ep(e){var{valueAccessor:t=OZ}=e,n=tA(e,TZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=tA(n,DZ),c=LZ(),d=$Z(),f=c||d;return!f||!f.length?null:x.createElement(vs,{zIndex:o??pi.label},x.createElement(aa,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Yr(r)?t(h,m):er(h&&h.payload,r),y=Yr(a)?{}:{id:"".concat(a,"-").concat(m)};return x.createElement(Ro,kg({key:"label-".concat(m)},Vi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}ep.displayName="LabelList";function p4(e){var{label:t}=e;return t?t===!0?x.createElement(ep,{key:"labelList-implicit"}):x.isValidElement(t)||yS(t)?x.createElement(ep,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ep,kg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}var g4=e=>{var{cx:t,cy:n,r,className:i}=e,a=jn("recharts-dot",i);return Ct(t)&&Ct(n)&&Ct(r)?x.createElement("circle",Kb({},qa(e),F1(e),{className:a,cx:t,cy:n,r})):null},v4=e=>e.graphicalItems.polarItems,FZ=fe([or,fm],Wk),rv=fe([v4,yr,FZ],Hk),RZ=fe([rv],qk),iv=fe([RZ,Mk],Kk),BZ=fe([iv,yr,rv],Yk);fe([iv,yr,rv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=er(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:er(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var nA=()=>{},zZ=fe([iv,yr,rv,Z0,or],Jk),UZ=fe([yr,Qk,Zk,nA,zZ,nA,Ln,or],eS),x4=fe([yr,Ln,iv,BZ,dm,or,UZ],tS),VZ=fe([x4,yr,Ju],iS);fe([yr,x4,VZ,or],sS);var WZ={radiusAxis:{},angleAxis:{}},y4=oa({name:"polarAxis",initialState:WZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uge,removeRadiusAxis:dge,addAngleAxis:fge,removeAngleAxis:mge}=y4.actions,HZ=y4.reducer;function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){qZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YZ=(e,t)=>t,bS=fe([v4,YZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),XZ=[],wS=(e,t,n)=>(n==null?void 0:n.length)===0?XZ:n,b4=fe([Mk,bS,wS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>iA(iA({},t.presentationProps),a.props))),i!=null)return i}}),QZ=fe([b4,bS,wS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=er(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:A0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),ZZ=fe([b4,bS,wS,si],(e,t,n,r)=>{if(!(t==null||e==null))return dee({offset:r,pieSettings:t,displayedData:e,cells:n})}),w4={exports:{}},zn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=60103,sv=60106,bm=60107,wm=60108,km=60114,Sm=60109,Nm=60110,Cm=60112,jm=60113,kS=60120,Pm=60115,Am=60116,k4=60121,S4=60122,N4=60117,C4=60129,j4=60131;if(typeof Symbol=="function"&&Symbol.for){var di=Symbol.for;av=di("react.element"),sv=di("react.portal"),bm=di("react.fragment"),wm=di("react.strict_mode"),km=di("react.profiler"),Sm=di("react.provider"),Nm=di("react.context"),Cm=di("react.forward_ref"),jm=di("react.suspense"),kS=di("react.suspense_list"),Pm=di("react.memo"),Am=di("react.lazy"),k4=di("react.block"),S4=di("react.server.block"),N4=di("react.fundamental"),C4=di("react.debug_trace_mode"),j4=di("react.legacy_hidden")}function xs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case av:switch(e=e.type,e){case bm:case km:case wm:case jm:case kS:return e;default:switch(e=e&&e.$$typeof,e){case Nm:case Cm:case Am:case Pm:case Sm:return e;default:return t}}case sv:return t}}}var JZ=Sm,eJ=av,tJ=Cm,nJ=bm,rJ=Am,iJ=Pm,aJ=sv,sJ=km,oJ=wm,lJ=jm;zn.ContextConsumer=Nm;zn.ContextProvider=JZ;zn.Element=eJ;zn.ForwardRef=tJ;zn.Fragment=nJ;zn.Lazy=rJ;zn.Memo=iJ;zn.Portal=aJ;zn.Profiler=sJ;zn.StrictMode=oJ;zn.Suspense=lJ;zn.isAsyncMode=function(){return!1};zn.isConcurrentMode=function(){return!1};zn.isContextConsumer=function(e){return xs(e)===Nm};zn.isContextProvider=function(e){return xs(e)===Sm};zn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===av};zn.isForwardRef=function(e){return xs(e)===Cm};zn.isFragment=function(e){return xs(e)===bm};zn.isLazy=function(e){return xs(e)===Am};zn.isMemo=function(e){return xs(e)===Pm};zn.isPortal=function(e){return xs(e)===sv};zn.isProfiler=function(e){return xs(e)===km};zn.isStrictMode=function(e){return xs(e)===wm};zn.isSuspense=function(e){return xs(e)===jm};zn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bm||e===km||e===C4||e===wm||e===jm||e===kS||e===j4||typeof e=="object"&&e!==null&&(e.$$typeof===Am||e.$$typeof===Pm||e.$$typeof===Sm||e.$$typeof===Nm||e.$$typeof===Cm||e.$$typeof===N4||e.$$typeof===k4||e[0]===S4)};zn.typeOf=xs;w4.exports=zn;var cJ=w4.exports,aA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",sA=null,kx=null,P4=e=>{if(e===sA&&Array.isArray(kx))return kx;var t=[];return x.Children.forEach(e,n=>{Yr(n)||(cJ.isFragment(n)?t=t.concat(P4(n.props.children)):t.push(n))}),kx=t,sA=e,t};function A4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>aA(i)):r=[aA(t)],P4(e).forEach(i=>{var a=dc(i,"type.displayName")||dc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var E4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(T4);var uJ=T4.isPlainObject;const dJ=ps(uJ);var oA,lA,cA,uA,dA;function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}function Nd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hA=(e,t,n,r,i)=>{var a=n-r,s;return s=Nr(oA||(oA=Nd(["M ",",",""])),e,t),s+=Nr(lA||(lA=Nd(["L ",",",""])),e+n,t),s+=Nr(cA||(cA=Nd(["L ",",",""])),e+n-a/2,t+i),s+=Nr(uA||(uA=Nd(["L ",",",""])),e+n-a/2-r,t+i),s+=Nr(dA||(dA=Nd(["L ",","," Z"])),e,t),s},pJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gJ=e=>{var t=Xr(e,pJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,p]=x.useState(-1),g=x.useRef(i),y=x.useRef(a),v=x.useRef(s),b=x.useRef(n),w=x.useRef(r),S=B0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ne=h.current.getTotalLength();ne&&p(ne)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=jn("recharts-trapezoid",o);if(!f)return x.createElement("g",null,x.createElement("path",Sg({},Vi(t),{className:C,d:hA(n,r,i,a,s)})));var N=g.current,P=y.current,D=v.current,_=b.current,A=w.current,$="0px ".concat(m===-1?1:m,"px"),M="".concat(m,"px 0px"),ee=$I(["strokeDasharray"],c,l);return x.createElement(R0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},ne=>{var ue=Ci(N,i,ne),q=Ci(P,a,ne),H=Ci(D,s,ne),W=Ci(_,n,ne),re=Ci(A,r,ne);h.current&&(g.current=ue,y.current=q,v.current=H,b.current=W,w.current=re);var E=ne>0?{transition:ee,strokeDasharray:M}:{strokeDasharray:$};return x.createElement("path",Sg({},Vi(t),{className:C,d:hA(W,re,ue,q,H),ref:h,style:mA(mA({},E),t.style)}))})},vJ=["option","shapeType","activeClassName"];function xJ(e,t){if(e==null)return{};var n,r,i=yJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){bJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bJ(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SJ(e,t){return Ng(Ng({},t),e)}function NJ(e,t){return e==="symbols"}function gA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(zI,n);case"trapezoid":return x.createElement(gJ,n);case"sector":return x.createElement(HI,n);case"symbols":if(NJ(t))return x.createElement($1,n);break;case"curve":return x.createElement(lk,n);default:return null}}function CJ(e){return x.isValidElement(e)?e.props:e}function D4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=xJ(e,vJ),a;if(x.isValidElement(t))a=x.cloneElement(t,Ng(Ng({},i),CJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(dJ(t)&&typeof t!="boolean"){var s=SJ(t,i);a=x.createElement(gA,{shapeType:n,elementProps:s})}else{var o=i;a=x.createElement(gA,{shapeType:n,elementProps:o})}return i.isActive?x.createElement(aa,{className:r},a):a}var jJ=(e,t,n)=>{var r=qn();return(i,a)=>s=>{e==null||e(i,a,s),r(A3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},PJ=e=>{var t=qn();return(n,r)=>i=>{e==null||e(n,r,i),t(TY())}},AJ=(e,t,n)=>{var r=qn();return(i,a)=>s=>{e==null||e(i,a,s),r(DY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function M4(e){var{tooltipEntrySettings:t}=e,n=qn(),r=la(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(jY(t)):i.current!==t&&n(PY({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(AY(i.current)),i.current=null)},[n]),null}function EJ(e){var{legendPayload:t}=e,n=qn(),r=la(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(MI(t)):i.current!==t&&n(OI({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(II(i.current)),i.current=null)},[n]),null}function TJ(e){var{legendPayload:t}=e,n=qn(),r=bt(Ln),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(MI(t)):i.current!==t&&n(OI({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(II(i.current)),i.current=null)},[n]),null}var Sx,DJ=()=>{var[e]=x.useState(()=>Nf("uid-"));return e},MJ=(Sx=BR.useId)!==null&&Sx!==void 0?Sx:DJ;function OJ(e,t){var n=MJ();return t||(e?"".concat(e,"-").concat(n):n)}var IJ=x.createContext(void 0),O4=e=>{var{id:t,type:n,children:r}=e,i=OJ("recharts-".concat(n),t);return x.createElement(IJ.Provider,{value:i},r(i))},_J={cartesianItems:[],polarItems:[]},I4=oa({name:"graphicalItems",initialState:_J,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ir()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ls(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ir()},removeCartesianGraphicalItem:{reducer(e,t){var n=ls(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ir()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ir()},removePolarGraphicalItem:{reducer(e,t){var n=ls(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ir()}}}),{addCartesianGraphicalItem:LJ,replaceCartesianGraphicalItem:$J,removeCartesianGraphicalItem:FJ,addPolarGraphicalItem:RJ,removePolarGraphicalItem:BJ}=I4.actions,zJ=I4.reducer,UJ=e=>{var t=qn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(LJ(e)):n.current!==e&&t($J({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(FJ(n.current)),n.current=null)},[t]),null},VJ=x.memo(UJ);function WJ(e){var t=qn();return x.useLayoutEffect(()=>(t(RJ(e)),()=>{t(BJ(e))}),[t,e]),null}var HJ=["key"],qJ=["onMouseEnter","onClick","onMouseLeave"],KJ=["id"],GJ=["id"];function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){YJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YJ(e,t,n){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(null,arguments)}function ov(e,t){if(e==null)return{};var n,r,i=ZJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function JJ(e){var t=x.useMemo(()=>A4(e.children,Bu),[e.children]),n=bt(r=>QZ(r,e.id,t));return n==null?null:x.createElement(TJ,{legendPayload:n})}var eee=x.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:A0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return x.createElement(M4,{tooltipEntrySettings:f})}),tee=(e,t)=>e>t?"start":e<t?"end":"middle",nee=(e,t,n)=>ba(typeof t=="function"?t(e):t,n,n*.8),ree=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=UI(a,s),l=i+ba(e.cx,a,a/2),c=r+ba(e.cy,s,s/2),d=ba(e.innerRadius,o,0),f=nee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},iee=(e,t)=>{var n=ji(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function aee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var see=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=jn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=ov(t,HJ);return x.createElement(lk,ol({},i,{type:"linear",className:n}))},oee=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=jn("recharts-pie-label-text",aee(e));return x.createElement(nv,ol({},t,{alignmentBaseline:"middle",className:i}),r)};function lee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=qa(n),l=Du(i),c=Du(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Rr(h.cx,h.cy,h.outerRadius+d,p),y=jr(jr(jr(jr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:tee(g.x,h.cx)},g),v=jr(jr(jr(jr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Rr(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return x.createElement(vs,{zIndex:pi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},x.createElement(aa,null,a&&see(a,v),oee(i,y,er(h,s))))});return x.createElement(aa,{className:"recharts-pie-labels"},f)}function cee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(p4,{label:i}):x.createElement(lee,{sectors:t,props:n,showLabels:r})}function uee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=bt(Ru),l=bt(U3),c=bt(gX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=ov(i,qJ),p=jJ(d,i.dataKey,s),g=PJ(h),y=AJ(f,i.dataKey,s);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((v,b)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,S=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&S?n:C,P=jr(jr({},v),{},{stroke:v.stroke,tabIndex:-1,[hI]:b,[pI]:s});return x.createElement(aa,ol({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},R1(m,v,b),{onMouseEnter:p(v,b),onMouseLeave:g(v,b),onClick:y(v,b)}),x.createElement(D4,ol({option:a??N,index:b,shapeType:"sector",isActive:S},P)))}))}function dee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=iee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>er(N,c,0)!==0).length,v=(p>=360?y:y-1)*g,b=p-y*h-v,w=r.reduce((N,P)=>{var D=er(P,c,0);return N+(Ct(D)?D:0)},0),S;if(w>0){var C;S=r.map((N,P)=>{var D=er(N,c,0),_=er(N,d,P),A=ree(n,a,N),$=(Ct(D)?D:0)/w,M,ee=jr(jr({},N),i&&i[P]&&i[P].props);P?M=C.endAngle+ji(m)*g*(D!==0?1:0):M=o;var ne=M+ji(m)*((D!==0?h:0)+$*b),ue=(M+ne)/2,q=(A.innerRadius+A.outerRadius)/2,H=[{name:_,value:D,payload:ee,dataKey:c,type:f,graphicalItemId:n.id}],W=Rr(A.cx,A.cy,q,ue);return C=jr(jr(jr(jr({},n.presentationProps),{},{percent:$,cornerRadius:typeof s=="string"?parseFloat(s):s,name:_,tooltipPayload:H,midAngle:ue,middleRadius:q,tooltipPosition:W},ee),A),{},{value:D,dataKey:c,startAngle:M,endAngle:ne,payload:ee,paddingAngle:ji(m)*g}),C})}return S}function fee(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return x.createElement(_Z,{value:t?i:void 0},r)}function mee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=B0(t,"recharts-pie-"),p=n.current,[g,y]=x.useState(!1),v=x.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(fee,{showLabels:!g,sectors:i},x.createElement(R0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:v,key:m},w=>{var S=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((P,D)=>{var _=p&&p[D],A=D>0?dc(P,"paddingAngle",0):0;if(_){var $=Ci(_.endAngle-_.startAngle,P.endAngle-P.startAngle,w),M=jr(jr({},P),{},{startAngle:N+A,endAngle:N+$+A});S.push(M),N=M.endAngle}else{var{endAngle:ee,startAngle:ne}=P,ue=Ci(0,ee-ne,w),q=jr(jr({},P),{},{startAngle:N+A,endAngle:N+ue+A});S.push(q),N=q.endAngle}}),n.current=S,x.createElement(aa,null,x.createElement(uee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(cee,{showLabels:!g,sectors:i,props:t}),t.children)}var hee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pi.area};function pee(e){var{id:t}=e,n=ov(e,KJ),{hide:r,className:i,rootTabIndex:a}=e,s=x.useMemo(()=>A4(e.children,Bu),[e.children]),o=bt(d=>ZZ(d,t,s)),l=x.useRef(null),c=jn("recharts-pie",i);return r||o==null?(l.current=null,x.createElement(aa,{tabIndex:a,className:c})):x.createElement(vs,{zIndex:e.zIndex},x.createElement(eee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(aa,{tabIndex:a,className:c},x.createElement(mee,{props:jr(jr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Cg(e){var t=Xr(e,hee),{id:n}=t,r=ov(t,GJ),i=qa(r);return x.createElement(O4,{id:n,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(WJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(JJ,ol({},r,{id:a})),x.createElement(pee,ol({},r,{id:a}))))}Cg.displayName="Pie";var gee=["points"];function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}function bee(e,t){if(e==null)return{};var n,r,i=wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kee(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=jn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=bee(a,gee);return x.createElement(g4,jg({},o,{className:i}))}function See(e,t){return e==null?!1:t?!0:e.length===1}function Nee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=pi.scatter}=e;if(!See(t,n))return null;var d=E4(n),f=n8(n),h=t.map((p,g)=>{var y,v,b=Nx(Nx(Nx({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return x.createElement(kee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),x.createElement(vs,{zIndex:c},x.createElement(aa,jg({className:r},m),h))}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aee={xAxis:{},yAxis:{},zAxis:{}},_4=oa({name:"cartesianAxis",initialState:Aee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ir()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ir()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ir()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ir()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ir()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ir()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ir()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ir()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ir()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=bA(bA({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Eee,replaceXAxis:Tee,removeXAxis:Dee,addYAxis:Mee,replaceYAxis:Oee,removeYAxis:Iee,addZAxis:hge,replaceZAxis:pge,removeZAxis:gge,updateYAxisWidth:_ee}=_4.actions,Lee=_4.reducer,$ee=fe([si],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Fee=fe([$ee,bo,wo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),SS=()=>bt(Fee),Ree=()=>bt(wX);function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){Bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bee(e,t,n){return(t=zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Cx(Cx(Cx({},o),Du(i)),F1(i)),c;return x.isValidElement(i)?c=x.cloneElement(i,l):typeof i=="function"?c=i(l):c=x.createElement(g4,l),x.createElement(aa,{className:"recharts-active-dot",clipPath:s},c)};function Wee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=pi.activeDot}=e,o=bt(Ru),l=Ree();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Yr(c)?null:x.createElement(vs,{zIndex:s},x.createElement(Vee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var L4=e=>{var{chartData:t}=e,n=qn(),r=la();return x.useEffect(()=>r?()=>{}:(n(FP(t)),()=>{n(FP(void 0))}),[t,n,r]),null},kA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$4=oa({name:"brush",initialState:kA,reducers:{setBrushSettings(e,t){return t.payload==null?kA:t.payload}}}),{setBrushSettings:vge}=$4.actions,Hee=$4.reducer;function qee(e,t,n){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NS{static create(t){return new NS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}qee(NS,"EPS",1e-4);function Yee(e){return(e%180+180)%180}var Xee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Qee={dots:[],areas:[],lines:[]},F4=oa({name:"referenceElements",initialState:Qee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ls(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ls(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ls(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xge,removeDot:yge,addArea:bge,removeArea:wge,addLine:kge,removeLine:Sge}=F4.actions,Zee=F4.reducer,Jee=x.createContext(void 0),ete=e=>{var{children:t}=e,[n]=x.useState("".concat(Nf("recharts"),"-clip")),r=SS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return x.createElement(Jee.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function R4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function tte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Xee(r,n)}function nte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Ff(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function rte(e,t){return R4(e,t+1)}function ite(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:R4(r,c)};var g=l,y,v=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Ff(e,b,v,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ate(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,S,C=()=>(S===void 0&&(S=n(b,w)),S),N=b.coordinate,P=p===d||Ff(e,N,C,f,l);if(!P)return h=!1,1;P&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ste(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=ki(ki({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=ki(ki({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Ff(e,m.tickCoord,g,o,l);v&&(l=m.tickCoord-e*(g()/2+i),a[h]=ki(ki({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function ute(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=ki(ki({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Ff(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=ki(ki({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],S,C=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=ki(ki({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=ki(ki({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=Ff(e,w.tickCoord,C,l,c);P&&(l=w.tickCoord+e*(C()/2+i),s[b]=ki(ki({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function CS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Ct(l)||F0.isSsr){var h;return(h=rte(i,Ct(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Kd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return p==="width"?tte(Kd(C,{fontSize:t,letterSpacing:n}),g,f):Kd(C,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?ji(i[1].coordinate-i[0].coordinate):1,b=nte(a,v,p);return l==="equidistantPreserveStart"?ite(v,b,y,i,s):l==="equidistantPreserveEnd"?ate(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=ute(v,b,y,i,s,l==="preserveStartEnd"):m=cte(v,b,y,i,s),m.filter(w=>w.isShow))}var dte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},fte=["axisLine","width","height","className","hide","ticks","axisType"];function mte(e,t){if(e==null)return{};var n,r,i=hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(null,arguments)}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gte(e){var t=vte(e,"string");return typeof t=="symbol"?t:t+""}function vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var io={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pi.axis};function xte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=$r($r($r({},l),qa(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=$r($r({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=$r($r({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",xc({},c,{className:jn("recharts-cartesian-axis-line",dc(o,"className"))}))}function yte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,v=Ct(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=v;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=v;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=v;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=v;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function bte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function kte(e){var{option:t,tickProps:n,value:r}=e,i,a=jn(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,$r($r({},n),{},{className:a}));else if(typeof t=="function")i=t($r($r({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=jn(s,t==null?void 0:t.className)),i=x.createElement(nv,xc({},n,{className:s}),r)}return i}var Ste=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,P=CS($r($r({},S),{},{ticks:n}),b,w),D=bte(d,f),_=wte(d,f),A=qa(S),$=Du(r),M={};typeof i=="object"&&(M=i);var ee=$r($r({},A),{},{fill:"none"},M),ne=P.map(H=>$r({entry:H},yte(H,h,m,p,g,d,y,f,v))),ue=ne.map(H=>{var{entry:W,line:re}=H;return x.createElement(aa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&x.createElement("line",xc({},ee,re,{className:jn("recharts-cartesian-axis-tick-line",dc(i,"className"))})))}),q=ne.map((H,W)=>{var{entry:re,tick:E}=H,j=$r($r($r($r({textAnchor:D,verticalAnchor:_},A),{},{stroke:"none",fill:a},$),E),{},{index:W,payload:re,visibleTicksCount:P.length,tickFormatter:s,padding:l},c);return x.createElement(aa,xc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},R1(C,re,W)),r&&x.createElement(kte,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(re.value,W):re.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},q.length>0&&x.createElement(vs,{zIndex:pi.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},q)),ue.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ue))}),Nte=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=mte(e,fte),[d,f]=x.useState(""),[h,m]=x.useState(""),p=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return dte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=x.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var b=v[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==h)&&(f(S),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(vs,{zIndex:e.zIndex},x.createElement(aa,{className:jn("recharts-cartesian-axis",a)},x.createElement(xte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qa(e)}),x.createElement(Ste,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(vZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(PZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),jS=x.forwardRef((e,t)=>{var n=Xr(e,io);return x.createElement(Nte,xc({},n,{ref:t}))});jS.displayName="CartesianAxis";var Cte=["x1","y1","x2","y2","key"],jte=["offset"],Pte=["xAxisId","yAxisId"],Ate=["xAxisId","yAxisId"];function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(null,arguments)}function Pg(e,t){if(e==null)return{};var n,r,i=Mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ote=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B4(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Pg(n,Cte),f=(i=qa(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Pg(f,jte);r=x.createElement("line",Yl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Ite(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Pg(e,Pte),l=i.map((c,d)=>{var f=Ni(Ni({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return x.createElement(B4,{key:"line-".concat(d),option:r,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _te(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Pg(e,Ate),l=i.map((c,d)=>{var f=Ni(Ni({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return x.createElement(B4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $te(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Fte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return dI(CS(Ni(Ni(Ni({},io),n),{},{ticks:fI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Rte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return dI(CS(Ni(Ni(Ni({},io),n),{},{ticks:fI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Bte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pi.grid};function Rf(e){var t=ik(),n=ak(),r=NI(),i=Ni(Ni({},Xr(e,Bte)),{},{x:Ct(e.x)?e.x:r.left,y:Ct(e.y)?e.y:r.top,width:Ct(e.width)?e.width:r.width,height:Ct(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=la(),g=bt(_=>PP(_,"xAxis",a,p)),y=bt(_=>PP(_,"yAxis",s,p));if(!Fs(c)||!Fs(d)||!Ct(o)||!Ct(l))return null;var v=i.verticalCoordinatesGenerator||Fte,b=i.horizontalCoordinatesGenerator||Rte,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?Ni(Ni({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);Jp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof v=="function"){var P=m&&m.length,D=v({xAxis:g?Ni(Ni({},g),{},{ticks:P?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},P?!0:f);Jp(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(S=D)}return x.createElement(vs,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Ote,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Lte,Yl({},i,{horizontalPoints:w})),x.createElement($te,Yl({},i,{verticalPoints:S})),x.createElement(Ite,Yl({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(_te,Yl({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y}))))}Rf.displayName="CartesianGrid";var zte={},z4=oa({name:"errorBars",initialState:zte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Nge,replaceErrorBar:Cge,removeErrorBar:jge}=z4.actions,Ute=z4.reducer,Vte=["children"];function Wte(e,t){if(e==null)return{};var n,r,i=Hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Kte=x.createContext(qte);function Gte(e){var{children:t}=e,n=Wte(e,Vte);return x.createElement(Kte.Provider,{value:n},t)}function U4(e,t){var n,r,i=bt(c=>So(c,e)),a=bt(c=>No(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ti.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ni.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Yte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=SS(),{needClipX:a,needClipY:s,needClip:o}=U4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var V4=(e,t,n,r)=>k3(e,"xAxis",t,r),W4=(e,t,n,r)=>w3(e,"xAxis",t,r),H4=(e,t,n,r)=>k3(e,"yAxis",n,r),q4=(e,t,n,r)=>w3(e,"yAxis",n,r),Xte=fe([Ln,V4,H4,W4,q4],(e,t,n,r,i)=>ml(e,"xAxis")?Zp(t,r,!1):Zp(n,i,!1)),Qte=(e,t,n,r,i)=>i;function Zte(e){return e.type==="line"}var Jte=fe([t3,Qte],(e,t)=>e.filter(Zte).find(n=>n.id===t)),ene=fe([Ln,V4,H4,W4,q4,Jte,Xte,Ok],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Hne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function tne(e){var t=Du(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var nne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=x;function rne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ine=typeof Object.is=="function"?Object.is:rne,ane=Em.useSyncExternalStore,sne=Em.useRef,one=Em.useEffect,lne=Em.useMemo,cne=Em.useDebugValue;nne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=sne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=lne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,ine(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=ane(e,a[0],a[1]);return one(function(){s.hasValue=!0,s.value=o},[o]),cne(o),o};function une(e){e()}function dne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){une(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var jA={notify(){},get:()=>[]};function fne(e,t){let n,r=jA,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=dne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=jA)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var mne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hne=mne(),pne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gne=pne(),vne=()=>hne||gne?x.useLayoutEffect:x.useEffect,xne=vne();function PA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function yne(e,t){if(PA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!PA(e[n[i]],t[n[i]]))return!1;return!0}var jx=Symbol.for("react-redux-context"),Px=typeof globalThis<"u"?globalThis:{};function bne(){if(!x.createContext)return{};const e=Px[jx]??(Px[jx]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var wne=bne();function kne(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=fne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);xne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||wne;return x.createElement(o.Provider,{value:a},t)}var Sne=kne,Nne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function PS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Nne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!yne(e[r],t[r]))return!1}else if(!Cne(e[r],t[r]))return!1;return!0}var jne=["id"],Pne=["type","layout","connectNulls","needClip","shape"],Ane=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(null,arguments)}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AS(e,t){if(e==null)return{};var n,r,i=Mne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var One=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:A0(n,t),payload:e}]},Ine=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:A0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return x.createElement(M4,{tooltipEntrySettings:f})}),K4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _ne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Lne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return K4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[..._ne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function $ne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=AS(r,jne),c=qa(l);return x.createElement(Nee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Fne(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Es(Es({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(IZ,{value:t?i:void 0},n)}function EA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=AS(a,Pne),h=Es(Es({},Vi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(D4,Bf({shapeType:"curve",option:d},h,{pathRef:n})),x.createElement($ne,{points:r,clipPathId:t,props:a}))}function Rne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Bne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,v=i.current,b=B0(s,"recharts-line-"),w=x.useRef(b),[S,C]=x.useState(!1),N=!S,P=x.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),D=x.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),_=Rne(r.current),A=x.useRef(0);w.current!==b&&(A.current=a.current,w.current=b);var $=A.current;return x.createElement(Fne,{points:s,showLabels:N},n.children,x.createElement(R0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:P,onAnimationStart:D,key:b},M=>{var ee=Ci($,_+$,M),ne=Math.min(ee,_),ue;if(l)if(o){var q="".concat(o).split(/[,\s]+/gim).map(re=>parseFloat(re));ue=Lne(ne,_,q)}else ue=K4(_,ne);else ue=o==null?void 0:String(o);if(M>0&&_>0&&(i.current=s,a.current=Math.max(a.current,ne)),v){var H=v.length/s.length,W=M===1?s:s.map((re,E)=>{var j=Math.floor(E*H);if(v[j]){var V=v[j];return Es(Es({},re),{},{x:Ci(V.x,re.x,M),y:Ci(V.y,re.y,M)})}return h?Es(Es({},re),{},{x:Ci(m*2,re.x,M),y:Ci(p/2,re.y,M)}):Es(Es({},re),{},{x:re.x,y:re.y})});return i.current=W,x.createElement(EA,{props:n,points:W,clipPathId:t,pathRef:r,strokeDasharray:ue})}return x.createElement(EA,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ue})}),x.createElement(p4,{label:n.label}))}function zne(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Bne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Une=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:er(e.payload,t)}};class Vne extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=jn("recharts-line",i),g=f,{r:y,strokeWidth:v}=tne(n),b=E4(n),w=y*2+v,S=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return x.createElement(vs,{zIndex:m},x.createElement(aa,{className:p},h&&x.createElement("defs",null,x.createElement(Yte,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),x.createElement(Gte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Une,errorBarOffset:0},x.createElement(zne,{props:this.props,clipPathId:g}))),x.createElement(Wee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var G4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pi.line,type:"linear"};function Wne(e){var t=Xr(e,G4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=AS(t,Ane),{needClip:v}=U4(m,p),b=SS(),w=am(),S=la(),C=bt(A=>ene(A,m,p,S,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:P,x:D,y:_}=b;return x.createElement(Vne,Bf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:P,left:D,top:_,needClip:v}))}function Hne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=er(c,s);if(t==="horizontal"){var h=RC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Yr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Yr(f)?null:n.scale(f),g=RC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function qne(e){var t=Xr(e,G4),n=la();return x.createElement(O4,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(EJ,{legendPayload:One(t)}),x.createElement(Ine,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),x.createElement(VJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(Wne,Bf({},t,{id:r}))))}var Xs=x.memo(qne,PS);Xs.displayName="Line";var Kne=["domain","range"],Gne=["domain","range"];function TA(e,t){if(e==null)return{};var n,r,i=Yne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Y4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=TA(e,Kne),{domain:a,range:s}=t,o=TA(t,Gne);return!DA(n,a)||!DA(r,s)?!1:PS(i,o)}var Xne=["dangerouslySetInnerHTML","ticks","scale"],Qne=["id","scale"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function MA(e,t){if(e==null)return{};var n,r,i=Zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jne(e){var t=qn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Eee(e)):n.current!==e&&t(Tee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var ere=e=>{var{xAxisId:t,className:n}=e,r=bt(gI),i=la(),a="xAxis",s=bt(v=>b3(v,a,t,i)),o=bt(v=>cY(v,t)),l=bt(v=>pY(v,t)),c=bt(v=>Z_(v,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=MA(e,Xne),{id:p,scale:g}=c,y=MA(c,Qne);return x.createElement(jS,Gb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:jn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},tre={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,angle:ti.angle,axisLine:io.axisLine,height:ti.height,hide:!1,includeHidden:ti.includeHidden,interval:ti.interval,minTickGap:ti.minTickGap,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,tickLine:io.tickLine,tickSize:io.tickSize,type:ti.type,xAxisId:0},nre=e=>{var t=Xr(e,tre);return x.createElement(x.Fragment,null,x.createElement(Jne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(ere,t))},zf=x.memo(nre,Y4);zf.displayName="XAxis";var rre=["dangerouslySetInnerHTML","ticks","scale"],ire=["id","scale"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}function OA(e,t){if(e==null)return{};var n,r,i=are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sre(e){var t=qn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Oee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Iee(n.current)),n.current=null)},[t]),null}var ore=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=bt(gI),l=la(),c=qn(),d="yAxis",f=bt(N=>xY(N,t)),h=bt(N=>vY(N,t)),m=bt(N=>b3(N,d,t,l)),p=bt(N=>J_(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!f||yS(i)||x.isValidElement(i)||p==null)){var N=a.current;if(N){var P=N.getCalculatedWidth();Math.round(f.width)!==Math.round(P)&&c(_ee({id:t,width:P}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:v}=e,b=OA(e,rre),{id:w,scale:S}=p,C=OA(p,ire);return x.createElement(jS,Yb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:jn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},lre={allowDataOverflow:ni.allowDataOverflow,allowDecimals:ni.allowDecimals,allowDuplicatedCategory:ni.allowDuplicatedCategory,angle:ni.angle,axisLine:io.axisLine,hide:!1,includeHidden:ni.includeHidden,interval:ni.interval,minTickGap:ni.minTickGap,mirror:ni.mirror,orientation:ni.orientation,padding:ni.padding,reversed:ni.reversed,scale:ni.scale,tick:ni.tick,tickCount:ni.tickCount,tickLine:io.tickLine,tickSize:io.tickSize,type:ni.type,width:ni.width,yAxisId:0},cre=e=>{var t=Xr(e,lre);return x.createElement(x.Fragment,null,x.createElement(sre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ore,t))},Uf=x.memo(cre,Y4);Uf.displayName="YAxis";var ure=(e,t)=>t,ES=fe([ure,Ln,Y_,Zr,F3,Co,IX,si],zX),TS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},X4=Ka("mouseClick"),Q4=rm();Q4.startListening({actionCreator:X4,effect:(e,t)=>{var n=e.payload,r=ES(t.getState(),TS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Xb=Ka("mouseMove"),Z4=rm(),Ah=null;Z4.startListening({actionCreator:Xb,effect:(e,t)=>{var n=e.payload;Ah!==null&&cancelAnimationFrame(Ah);var r=TS(n);Ah=requestAnimationFrame(()=>{var i=t.getState(),a=cS(i,i.tooltip.settings.shared);if(a==="axis"){var s=ES(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(T3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(E3())}Ah=null})}});function dre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var IA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},J4=oa({name:"rootProps",initialState:IA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:IA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fre=J4.reducer,{updateOptions:mre}=J4.actions,eL=oa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hre}=eL.actions,pre=eL.reducer,tL=Ka("keyDown"),nL=Ka("focus"),DS=rm();DS.startListening({actionCreator:tL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=uS(i,nd(n),pm(n),xm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Co(n);if(a==="Enter"){var c=wg(n,"axis","hover",String(i.index));t.dispatch(Ub({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=kY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=wg(n,"axis","hover",String(m));t.dispatch(Ub({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});DS.startListening({actionCreator:nL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=wg(n,"axis","hover",String(a));t.dispatch(Ub({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ia=Ka("externalEvent"),rL=rm(),Ax=new Map;rL.startListening({actionCreator:Ia,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Ax.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:xX(o),activeDataKey:U3(o),activeIndex:Ru(o),activeLabel:z3(o),activeTooltipIndex:Ru(o),isTooltipActive:yX(o)};n(l,r)}finally{Ax.delete(i)}});Ax.set(i,s)}}});var gre=fe([ed],e=>e.tooltipItemPayloads),vre=fe([gre,vm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),iL=Ka("touchMove"),aL=rm();aL.startListening({actionCreator:iL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=cS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=ES(r,TS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(T3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(hI),f=(o=c.getAttribute(pI))!==null&&o!==void 0?o:void 0,h=td(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=vre(r,d,f);t.dispatch(A3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var xre=L5({brush:Hee,cartesianAxis:Lee,chartData:vQ,errorBars:Ute,graphicalItems:zJ,layout:J9,legend:eH,options:fQ,polarAxis:HZ,polarOptions:pre,referenceElements:Zee,rootProps:fre,tooltip:OY,zIndex:tQ}),yre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return N9({reducer:xre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Q4.middleware,Z4.middleware,DS.middleware,rL.middleware,aL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(Q5({type:"raf"}))},devTools:{serialize:{replacer:dre},name:"recharts-".concat(n)}})};function sL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=la(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=yre(t,r));var s=G1;return x.createElement(Sne,{context:s,store:a.current},n)}function bre(e){var{layout:t,margin:n}=e,r=qn(),i=la();return x.useEffect(()=>{i||(r(X9(t)),r(Y9(n)))},[r,i,t,n]),null}var oL=x.memo(bre,PS);function lL(e){var t=qn();return x.useEffect(()=>{t(mre(e))},[t,e]),null}function _A(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=qn();return x.useLayoutEffect(()=>(r.current&&i(JX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(eQ({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function LA(e){var{children:t,isPanorama:n}=e,r=bt(VX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement(_A,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>x.createElement(_A,{key:s,zIndex:s,isPanorama:n})))}var wre=["children"];function kre(e,t){if(e==null)return{};var n,r,i=Sre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(null,arguments)}var Nre={width:"100%",height:"100%",display:"block"},Cre=x.forwardRef((e,t)=>{var n=ik(),r=ak(),i=LI();if(!Fs(n)||!Fs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),x.createElement(M1,Ag({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Nre,ref:t}),a)}),jre=e=>{var{children:t}=e,n=bt(M0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return x.createElement(M1,{width:r,height:i,x:s,y:a},t)},$A=x.forwardRef((e,t)=>{var{children:n}=e,r=kre(e,wre),i=la();return i?x.createElement(jre,null,x.createElement(LA,{isPanorama:!0},n)):x.createElement(Cre,Ag({ref:t},r),x.createElement(LA,{isPanorama:!1},n))});function Pre(){var e=qn(),[t,n]=x.useState(null),r=bt(hW);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;zr(a)&&a!==r&&e(Z9(a))}},[t,e,r]),n}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Are(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yc.apply(null,arguments)}var Mre=()=>(jQ(),null);function Eg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ore=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,s]=x.useState({containerWidth:Eg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Eg((r=e.style)===null||r===void 0?void 0:r.height)}),o=x.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return x.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement(I0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",yc({ref:l},e)))}),Ire=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:Eg(n),containerHeight:Eg(r)}),s=x.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return x.createElement(x.Fragment,null,x.createElement(I0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",yc({ref:o},e)))}),_re=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(I0,{width:n,height:r}),x.createElement("div",yc({ref:t},e)))}),Lre=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return fo(n)||fo(r)?x.createElement(Ire,yc({},e,{ref:t})):x.createElement(_re,yc({},e,{ref:t}))});function $re(e){return e===!0?Ore:Lre}var Fre=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:v,responsive:b,dispatchTouchEvents:w=!0}=e,S=x.useRef(null),C=qn(),[N,P]=x.useState(null),[D,_]=x.useState(null),A=Pre(),$=rk(),M=($==null?void 0:$.width)>0?$.width:v,ee=($==null?void 0:$.height)>0?$.height:i,ne=x.useCallback(L=>{A(L),typeof t=="function"&&t(L),P(L),_(L),L!=null&&(S.current=L)},[A,t,P,_]),ue=x.useCallback(L=>{C(X4(L)),C(Ia({handler:a,reactEvent:L}))},[C,a]),q=x.useCallback(L=>{C(Xb(L)),C(Ia({handler:c,reactEvent:L}))},[C,c]),H=x.useCallback(L=>{C(E3()),C(Ia({handler:d,reactEvent:L}))},[C,d]),W=x.useCallback(L=>{C(Xb(L)),C(Ia({handler:f,reactEvent:L}))},[C,f]),re=x.useCallback(()=>{C(nL())},[C]),E=x.useCallback(L=>{C(tL(L.key))},[C]),j=x.useCallback(L=>{C(Ia({handler:s,reactEvent:L}))},[C,s]),V=x.useCallback(L=>{C(Ia({handler:o,reactEvent:L}))},[C,o]),k=x.useCallback(L=>{C(Ia({handler:l,reactEvent:L}))},[C,l]),O=x.useCallback(L=>{C(Ia({handler:h,reactEvent:L}))},[C,h]),ie=x.useCallback(L=>{C(Ia({handler:g,reactEvent:L}))},[C,g]),Z=x.useCallback(L=>{w&&C(iL(L)),C(Ia({handler:p,reactEvent:L}))},[C,w,p]),B=x.useCallback(L=>{C(Ia({handler:m,reactEvent:L}))},[C,m]),J=$re(b);return x.createElement(Y3.Provider,{value:N},x.createElement(_O.Provider,{value:D},x.createElement(J,{width:M??(y==null?void 0:y.width),height:ee??(y==null?void 0:y.height),className:jn("recharts-wrapper",r),style:Are({position:"relative",cursor:"default",width:M,height:ee},y),onClick:ue,onContextMenu:j,onDoubleClick:V,onFocus:re,onKeyDown:E,onMouseDown:k,onMouseEnter:q,onMouseLeave:H,onMouseMove:W,onMouseUp:O,onTouchEnd:B,onTouchMove:Z,onTouchStart:ie,ref:ne},x.createElement(Mre,null),n)))}),Rre=["width","height","responsive","children","className","style","compact","title","desc"];function Bre(e,t){if(e==null)return{};var n,r,i=zre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cL=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Bre(e,Rre),h=qa(f);return l?x.createElement(x.Fragment,null,x.createElement(I0,{width:n,height:r}),x.createElement($A,{otherAttributes:h,title:c,desc:d},a)):x.createElement(Fre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement($A,{otherAttributes:h,title:c,desc:d,ref:t},x.createElement(ete,null,a)))});function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}var Ure={top:5,right:5,bottom:5,left:5},Vre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ure,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Wre=x.forwardRef(function(t,n){var r,i=Xr(t.categoricalChartProps,Vre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(sL,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},x.createElement(L4,{chartData:c.data}),x.createElement(oL,{layout:i.layout,margin:i.margin}),x.createElement(lL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(cL,Qb({},i,{ref:n})))}),Hre=["axis"],Tg=x.forwardRef((e,t)=>x.createElement(Wre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hre,tooltipPayloadSearcher:Q3,categoricalChartProps:e,ref:t}));function qre(e){var t=qn();return x.useEffect(()=>{t(hre(e))},[t,e]),null}var Kre=["layout"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function Gre(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xre={top:5,right:5,bottom:5,left:5},uL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Qre=x.forwardRef(function(t,n){var r,i=Xr(t.categoricalChartProps,uL),{layout:a}=i,s=Gre(i,Kre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(sL,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},x.createElement(L4,{chartData:i.data}),x.createElement(oL,{layout:a,margin:i.margin}),x.createElement(lL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(qre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(cL,Zb({},s,{ref:n})))});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tie=["item"],nie=BA(BA({},uL),{},{layout:"centric",startAngle:0,endAngle:360}),Jb=x.forwardRef((e,t)=>{var n=Xr(e,nie);return x.createElement(Qre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:tie,tooltipPayloadSearcher:Q3,categoricalChartProps:n,ref:t})});const Dn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),zA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Gd=new Map,wu=new Map,rie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Gd.has(r)||wu.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Gd.set(r,s),s})();wu.set(r,i);try{await i}finally{wu.delete(r)}}))},iie=e=>{const[t,n]=x.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Gd.get(e)||zA:null});return x.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Gd.get(e);if(r){n(r);return}let i=!0;const a=wu.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Gd.set(e,l),l})();return wu.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(zA)}}).finally(()=>{wu.delete(e)}),()=>{i=!1}},[e]),t},aie=(e,t,n,r)=>{const[i,a]=x.useState("bottom"),[s,o]=x.useState(0);return x.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(D=>{let _=(D==null?void 0:D.parentElement)||null;for(;_;){const A=window.getComputedStyle(_),$=`${A.overflow}${A.overflowY}${A.overflowX}`;if(/(auto|scroll|hidden)/.test($))return _;_=_.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,v=f.top-g.top,b=y<h.height+8&&v>y?"top":"bottom";a(b);const w=6,S=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,P=Math.min(Math.max(S,C),N);o(P-S)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},sie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},dL=(e,t,n,r,i=8)=>{const[a,s]=x.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return x.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,v=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,v),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},oie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Hl(i||"Unknown"),s=r.length>1,[o,l]=x.useState(!1),c=x.useRef(null),d=x.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=aie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>ec(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",v={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:v,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${y} ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Hl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},lie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(oie,{profession:e,professionList:t,className:n}),Ex=({count:e,classCounts:t,label:n,className:r})=>{const i=sie(t||{}),a=e>0,[s,o]=x.useState(!1),l=x.useRef(null),c=x.useRef(null),d=dL(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Ku.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Hl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Pr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i=""})=>{const a=iie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[a?u.jsx("img",{src:a,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${i}`,children:e})]})},UA=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=x.useState(!1),o=x.useRef(null),l=x.useRef(null),c=dL(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&Ku.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${a?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Pr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},cie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:v,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:P,skillBarData:D,selectedSkillName:_,selectedSkillIcon:A,skillUsageReady:$,skillUsageAvailable:M,isSkillUsagePerSecond:ee,skillChartData:ne,skillChartMaxY:ue,playerTotalsForSkill:q,hoveredSkillPlayer:H,setHoveredSkillPlayer:W,getLineStrokeColor:re,getLineDashForPlayer:E,formatSkillUsageValue:j,renderProfessionIcon:V})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Dn,{value:v,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const O=d.get(k);return O?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:O.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[O.logs," ",O.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(O.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(pO,{className:"w-3 h-3"})})]},O.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const O=h===k.profession,ie=k.players.map(B=>B.key),Z=ie.length>0&&ie.every(B=>o.includes(B));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(O){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${O?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[V(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),O?u.jsx(Wl,{className:"w-3.5 h-3.5"}):u.jsx(c6,{className:"w-3.5 h-3.5"})]})]})}),O&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(B=>{if(Z)return B.filter(L=>!ie.includes(L));const J=new Set(B);return ie.forEach(L=>J.add(L)),Array.from(J)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Z?"Clear All":"Select All"})]}),k.players.map(B=>{const J=o.includes(B.key);return u.jsx("button",{type:"button",onClick:()=>p(B.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${J?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:B.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[B.account,"  ",B.profession,"  ",B.logs," ",B.logs===1?"log":"logs"]})]}),J&&u.jsx(fO,{className:"w-4 h-4 text-cyan-300"})]})},B.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${ee?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):D.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=D.reduce((O,ie)=>Math.max(O,ie.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:D.map((O,ie)=>{const Z=Math.min(100,O.total/k*100),B=N===O.skillId;return u.jsxs("button",{type:"button",onClick:()=>P(O.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${B?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${ie+1}`}),u.jsx(Pr,{name:O.name,iconUrl:O.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:j(O.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Z}%`,backgroundColor:O.color}})})]},O.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:$?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_?u.jsx(Pr,{name:_,iconUrl:A,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",ee?"casts per second":"casts per log",")"]})]}),u.jsx(mc,{width:"100%",height:250,children:u.jsxs(Tg,{data:ne,children:[u.jsx(Rf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(zf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const O=ne[k],ie=String((O==null?void 0:O.shortLabel)??k);return ie.length>20?`${ie.slice(0,20)}`:ie}}),u.jsx(Uf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ue)],allowDecimals:!1}),u.jsx(vc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:O,label:ie})=>{var L;if(!k||!O||O.length===0)return null;const Z=[...O].sort((Y,oe)=>(oe.value||0)-(Y.value||0)),B=Z[0],J=((L=B==null?void 0:B.payload)==null?void 0:L.fullLabel)||ie;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:J}),u.jsx("div",{className:"space-y-1",children:Z.map(Y=>{const oe=String(Y.name||""),te=d.get(oe),z=(te==null?void 0:te.displayName)||oe||"Player",R=j(Number(Y.value||0)),I=Y.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:I},children:z}),u.jsx("span",{className:"text-gray-200 font-mono",children:R})]},`${z}-${R}`)})})]})}}),o.map(k=>{const O=H.includes(k),ie=H.length>0,Z=re(k,O,ie),B=E(k),J=H.length>0&&!O;return u.jsx(Xs,{dataKey:k,stroke:Z,strokeWidth:O?4:3,strokeDasharray:B,opacity:J?.6:1,dot:!1,isAnimationActive:!1},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,O)=>(q.get(O)||0)-(q.get(k)||0)).map(k=>{const O=d.get(k),ie=q.get(k)??0,Z=H.includes(k),B=H.length>0,J=re(k,Z,B);return u.jsxs("button",{type:"button",onClick:()=>{W(L=>L.includes(k)?L.filter(Y=>Y!==k):[...L,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Z?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Z,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:J,strokeWidth:"2",strokeDasharray:E(k),strokeLinecap:"round"})}),V(O==null?void 0:O.profession,O==null?void 0:O.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(O==null?void 0:O.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(O==null?void 0:O.logs)??0," ",((O==null?void 0:O.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:j(ie)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:M?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),uie=({containerRef:e,className:t=""})=>{const n=x.useRef(null),[r,i]=x.useState(0),[a,s]=x.useState(0),o=x.useRef(!1),l=x.useRef(0),c=x.useRef(0);x.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=h,N=w>S,P=n.current,D=(P==null?void 0:P.clientWidth)||0;if(!D){m=window.requestAnimationFrame(p);return}if(!N){i(D),s(0);return}const _=S/w,A=Math.max(20,Math.floor(D*_)),$=w-S,M=Math.max(0,D-A),ee=$>0?Math.floor(C/$*M):0;i(A),s(ee)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const v=h.firstElementChild;v instanceof HTMLElement&&y.observe(v),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),x.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const v=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,v.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?S/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,v=Math.max(0,g.width-r),b=Math.min(v,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=v>0?b/v*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},ms=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=x.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(uie,{containerRef:c})]})},hs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(0),f=x.useRef(null),h=x.useRef(null),m=x.useRef(new Map);x.useEffect(()=>{const v=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=x.useMemo(()=>{const v=a.trim().toLowerCase();return v?e.filter(b=>b.label.toLowerCase().includes(v)).slice(0,50):e.slice(0,50)},[e,a]),g=x.useMemo(()=>{const v=new Map;return p.forEach((b,w)=>{v.set(`${b.type}-${b.id}`,w)}),v},[p]),y=x.useMemo(()=>{const v=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:v,players:b}},[p]);return x.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(v=>Math.min(Math.max(v,0),p.length-1))}},[p,o]),x.useEffect(()=>{if(!o)return;const v=p[c];if(!v)return;const b=`${v.type}-${v.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:v=>{s(v.target.value),l(!0)},onKeyDown:v=>{if(!o&&(v.key==="ArrowDown"||v.key==="ArrowUp")){l(!0);return}if(o)if(v.key==="ArrowDown"){if(v.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(v.key==="ArrowUp"){if(v.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(v.key==="Enter"){v.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else v.key==="Escape"&&(v.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(v=>{const b=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${v.type}-${v.id}`,w)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${v.type}-${v.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,u.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(v=>{const b=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${v.type}-${v.id}`,w)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${v.type}-${v.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,u.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]})]})})]})},gr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=x.useState(!1),c=x.useRef(null),d=new Set(t);return x.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},die=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:v,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:P,setApmView:D,formatApmValue:_,formatCastRateValue:A,formatCastCountValue:$,renderProfessionIcon:M})=>{var B;const[ee,ne]=x.useState({key:"apm",dir:"desc"}),ue=e==="apm-stats",[q,H]=x.useState({columnId:"",dir:"desc"}),[W,re]=x.useState([]),[E,j]=x.useState([]),[V,k]=x.useState({}),O=ue?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ie=J=>{ne(L=>({key:J,dir:L.key===J&&L.dir==="desc"?"asc":"desc"}))},Z=x.useMemo(()=>{const J=[...(S==null?void 0:S.playerRows)||[]];return J.sort((L,Y)=>{const oe=ee.key==="apm"?Number(P==="perSecond"?L.aps:L.apm):Number(P==="perSecond"?L.apsNoAuto:L.apmNoAuto),te=ee.key==="apm"?Number(P==="perSecond"?Y.aps:Y.apm):Number(P==="perSecond"?Y.apsNoAuto:Y.apmNoAuto);return(ee.dir==="desc"?te-oe:oe-te)||String(L.displayName||"").localeCompare(String(Y.displayName||""))}),J},[S,ee,P]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:J=>w(J.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:O,children:d.map(J=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=f!==J.profession;h(J.profession),p(L?J.profession:m===J.profession?null:J.profession),L&&(y(v),re([]),j([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===J.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(J.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[J.players.length,"p"]})})]})}),!ue&&m===J.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:V[J.profession]||"",onChange:L=>{const Y=L.target.value;k(oe=>({...oe,[J.profession]:Y}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(J.profession),y(v)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===J.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(J.skills||[]).filter(L=>{const Y=(V[J.profession]||"").trim().toLowerCase();return Y?String(L.name||"").toLowerCase().includes(Y):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{h(J.profession),y(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===J.profession&&g===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(J.skills||[]).filter(L=>{const Y=(V[J.profession]||"").trim().toLowerCase();return Y?String(L.name||"").toLowerCase().includes(Y):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},J.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ue&&(()=>{const J=S.skills||[],L=(S.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,icon:M(z.profession,z.professionList,"w-3 h-3")})),Y=J.map(z=>({id:z.id,label:z.name,icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),oe=[...J.map(z=>({id:z.id,label:z.name,type:"column",icon:z.icon?u.jsx("img",{src:z.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(z=>({id:z.key,label:z.displayName||z.account||z.key,type:"player",icon:M(z.profession,z.professionList,"w-3 h-3")}))],te=new Set([...W.map(z=>`column:${z}`),...E.map(z=>`player:${z}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:oe,selectedIds:te,onSelect:z=>{z.type==="column"?re(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id]):j(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:Y,selectedIds:W,onToggle:z=>{re(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>re([]),buttonLabel:"Columns",buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:L,selectedIds:E,onToggle:z=>{j(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>j([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:P,onChange:D,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(W.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{re([]),j([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),W.map(z=>{var I;const R=((I=J.find(Q=>Q.id===z))==null?void 0:I.name)||z;return u.jsxs("button",{type:"button",onClick:()=>re(Q=>Q.filter(je=>je!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),E.map(z=>{var I;const R=((I=L.find(Q=>Q.id===z))==null?void 0:I.label)||z;return u.jsxs("button",{type:"button",onClick:()=>j(Q=>Q.filter(je=>je!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},z)})]})]})})(),ue?(()=>{var z,R;const J=S.skills||[],L=W.length>0?J.filter(I=>W.includes(I.id)):J,Y=E.length>0?(S.playerRows||[]).filter(I=>E.includes(I.key)):S.playerRows||[];if(J.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const oe=((z=L.find(I=>I.id===q.columnId))==null?void 0:z.id)||((R=L[0])==null?void 0:R.id)||"",te=[...Y].map(I=>{const Q={},je={};return L.forEach(_e=>{var Te;const ae=Number(((Te=_e.playerCounts)==null?void 0:Te.get(I.key))||0),Be=P==="perSecond"?ae/Math.max(1,I.totalActiveSeconds||0):ae;je[_e.id]=Be,Q[_e.id]=P==="perSecond"?A(Be):$(Be)}),{row:I,values:Q,numericValues:je}}).sort((I,Q)=>{const je=I.numericValues[oe]??0,_e=Q.numericValues[oe]??0;return(q.dir==="desc"?_e-je:je-_e)||String(I.row.displayName||"").localeCompare(String(Q.row.displayName||""))});return u.jsx(ms,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:oe,sortDirection:q.dir,onSortColumn:I=>{H(Q=>({columnId:I,dir:Q.columnId===I&&Q.dir==="desc"?"asc":"desc"}))},columns:L.map(I=>({id:I.id,label:u.jsx(Pr,{name:I.name,iconUrl:I.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:te.map((I,Q)=>({id:`${S.profession}-${I.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Q+1}),M(I.row.profession,I.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.row.displayName})]}),values:I.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Pr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((B=S.playerRows)==null?void 0:B.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ie("apm"),className:`text-right transition-colors ${ee.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM",ee.key==="apm"?ee.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ie("apmNoAuto"),className:`text-right transition-colors ${ee.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM"," (No Auto)",ee.key==="apmNoAuto"?ee.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:P==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:Z.map((J,L)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),M(J.profession,J.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:J.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?J.aps:J.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?J.apsNoAuto:J.apmNoAuto)})]},`${S.profession}-all-${J.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((J,L)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),M(J.profession,J.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:J.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(J.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(P==="perSecond"?J.aps||0:J.apm||0))})]},`${S.profession}-${C.id}-${J.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},fie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:v,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:P,skillSearch:D,setSkillSearch:_,activePlayerBreakdown:A,activePlayerSkill:$,activeClassBreakdown:M,activeClassSkill:ee,renderProfessionIcon:ne})=>{const ue=d.length,q=((A==null?void 0:A.skills)||[]).reduce((R,I)=>R+(I.damage||0),0),H=(M==null?void 0:M.players)||[],[W,re]=x.useState({key:"down",dir:"desc"}),E=e==="player-breakdown",[j,V]=x.useState([]),[k,O]=x.useState([]),[ie,Z]=x.useState({columnId:"",dir:"desc"}),[B,J]=x.useState({}),[L,Y]=x.useState({}),oe=E?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,te=x.useMemo(()=>{if(!M||!ee)return H;const R=[...H];return R.sort((I,Q)=>{var he,Se;const je=(he=I.skillMap)==null?void 0:he[ee.id],_e=(Se=Q.skillMap)==null?void 0:Se[ee.id],ae=Number((je==null?void 0:je.downContribution)||0),Be=Number((_e==null?void 0:_e.downContribution)||0),Te=Number((je==null?void 0:je.damage)||0),xt=Number((_e==null?void 0:_e.damage)||0),on=I.totalFightMs>0?Te/(I.totalFightMs/1e3):0,Pn=Q.totalFightMs>0?xt/(Q.totalFightMs/1e3):0;let cn=0;return W.key==="down"&&(cn=ae-Be),W.key==="damage"&&(cn=Te-xt),W.key==="dps"&&(cn=on-Pn),W.dir==="asc"?cn:-cn}),R},[M,H,ee,W]),z=R=>{re(I=>I.key!==R?{key:R,dir:"desc"}:{key:R,dir:I.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ue," ",ue===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:E?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!E&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(R=>{const I=l===R.id;return u.jsx("button",{type:"button",onClick:()=>c(R.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${I?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:R.label},R.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:D,onChange:R=>_(R.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:oe,children:(E?"class":l)==="player"?d.map(R=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=h!==R.key;I&&(v(null),V([]),O([])),m(R.key),g(I?R.key:p===R.key?null:R.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===R.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:R.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ne(R.profession,R.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:R.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[R.skills.length," skills"]})})]})}),!E&&p===R.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:B[R.key]||"",onChange:I=>{const Q=I.target.value;J(je=>({...je,[R.key]:Q}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),R.skills.filter(I=>{const Q=(B[R.key]||"").trim().toLowerCase();return Q?String(I.name||"").toLowerCase().includes(Q):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{m(R.key),v(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===R.key&&y===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:I.name})]})},I.id)),R.skills.filter(I=>{const Q=(B[R.key]||"").trim().toLowerCase();return Q?String(I.name||"").toLowerCase().includes(Q):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},R.key)):f.map(R=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=b!==R.profession;I&&(P(null),V([]),O([])),w(R.profession),C(I?R.profession:S===R.profession?null:R.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===R.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ne(R.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:R.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[R.players.length,"p"]})})]})}),!E&&S===R.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:L[R.profession]||"",onChange:I=>{const Q=I.target.value;Y(je=>({...je,[R.profession]:Q}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),R.skills.filter(I=>{const Q=(L[R.profession]||"").trim().toLowerCase();return Q?String(I.name||"").toLowerCase().includes(Q):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{w(R.profession),P(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===R.profession&&N===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:I.name})]})},I.id)),R.skills.filter(I=>{const Q=(L[R.profession]||"").trim().toLowerCase();return Q?String(I.name||"").toLowerCase().includes(Q):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},R.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(E?"class":l)==="player"?!A||!E&&!$?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const R=A.skills||[],I=d.map(ae=>({id:ae.key,label:ae.displayName||ae.key,icon:ne(ae.profession,ae.professionList,"w-3 h-3")})),Q=R.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),je=[...R.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ae=>({id:ae.key,label:ae.displayName||ae.key,type:"player",icon:ne(ae.profession,ae.professionList,"w-3 h-3")}))],_e=new Set([...j.map(ae=>`column:${ae}`),...k.map(ae=>`player:${ae}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:je,selectedIds:_e,onSelect:ae=>{ae.type==="column"?V(Be=>Be.includes(ae.id)?Be.filter(Te=>Te!==ae.id):[...Be,ae.id]):O(Be=>Be.includes(ae.id)?Be.filter(Te=>Te!==ae.id):[...Be,ae.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:Q,selectedIds:j,onToggle:ae=>{V(Be=>Be.includes(ae)?Be.filter(Te=>Te!==ae):[...Be,ae])},onClear:()=>V([]),buttonLabel:"Columns",buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:I,selectedIds:k,onToggle:ae=>{O(Be=>Be.includes(ae)?Be.filter(Te=>Te!==ae):[...Be,ae])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{V([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(ae=>{var Te;const Be=((Te=R.find(xt=>xt.id===ae))==null?void 0:Te.name)||ae;return u.jsxs("button",{type:"button",onClick:()=>V(xt=>xt.filter(on=>on!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)}),k.map(ae=>{var Te;const Be=((Te=I.find(xt=>xt.id===ae))==null?void 0:Te.label)||ae;return u.jsxs("button",{type:"button",onClick:()=>O(xt=>xt.filter(on=>on!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),E?(()=>{var ae,Be;const R=A.skills||[],I=j.length>0?R.filter(Te=>j.includes(Te.id)):R,Q=k.length>0?d.filter(Te=>k.includes(Te.key)):d,je=((ae=I.find(Te=>Te.id===ie.columnId))==null?void 0:ae.id)||((Be=I[0])==null?void 0:Be.id)||"",_e=Q.map(Te=>{const xt={},on={};return I.forEach(Pn=>{var Se;const cn=(Se=Te.skillMap)==null?void 0:Se[Pn.id],he=Number((cn==null?void 0:cn.damage)||0);on[Pn.id]=he,xt[Pn.id]=Io(he)}),{player:Te,values:xt,numericValues:on}}).sort((Te,xt)=>{const on=Te.numericValues[je]??0,Pn=xt.numericValues[je]??0;return(ie.dir==="desc"?Pn-on:on-Pn)||String(Te.player.displayName||"").localeCompare(String(xt.player.displayName||""))});return u.jsx(ms,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:je,sortDirection:ie.dir,onSortColumn:Te=>{Z(xt=>({columnId:Te,dir:xt.columnId===Te&&xt.dir==="desc"?"asc":"desc"}))},columns:I.map(Te=>({id:Te.id,label:u.jsx(Pr,{name:Te.name,iconUrl:Te.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:_e.map((Te,xt)=>({id:`${Te.player.key}-${xt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:xt+1}),ne(Te.player.profession,Te.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Te.player.displayName})]}),values:Te.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ne(A.profession,A.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Pr,{name:($==null?void 0:$.name)||"",iconUrl:$==null?void 0:$.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[A.skills.length," skills | ",Io(q)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Io(($==null?void 0:$.downContribution)||0)},{label:"Total Damage",value:Io(($==null?void 0:$.damage)||0)},{label:"DPS",value:_a(A.totalFightMs>0?(($==null?void 0:$.damage)||0)/(A.totalFightMs/1e3):0,1)}].map(R=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:R.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R.value})]},R.label))})]})]}):!M||!E&&!ee?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const R=M.skills||[],I=H.map(ae=>({id:ae.key,label:ae.displayName||ae.key,icon:ne(ae.profession,ae.professionList,"w-3 h-3")})),Q=R.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),je=[...R.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...H.map(ae=>({id:ae.key,label:ae.displayName||ae.key,type:"player",icon:ne(ae.profession,ae.professionList,"w-3 h-3")}))],_e=new Set([...j.map(ae=>`column:${ae}`),...k.map(ae=>`player:${ae}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:je,selectedIds:_e,onSelect:ae=>{ae.type==="column"?V(Be=>Be.includes(ae.id)?Be.filter(Te=>Te!==ae.id):[...Be,ae.id]):O(Be=>Be.includes(ae.id)?Be.filter(Te=>Te!==ae.id):[...Be,ae.id])},className:"w-full sm:w-64"}),u.jsx(gr,{options:Q,selectedIds:j,onToggle:ae=>{V(Be=>Be.includes(ae)?Be.filter(Te=>Te!==ae):[...Be,ae])},onClear:()=>V([]),buttonLabel:"Columns",buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:I,selectedIds:k,onToggle:ae=>{O(Be=>Be.includes(ae)?Be.filter(Te=>Te!==ae):[...Be,ae])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{V([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(ae=>{var Te;const Be=((Te=R.find(xt=>xt.id===ae))==null?void 0:Te.name)||ae;return u.jsxs("button",{type:"button",onClick:()=>V(xt=>xt.filter(on=>on!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)}),k.map(ae=>{var Te;const Be=((Te=I.find(xt=>xt.id===ae))==null?void 0:Te.label)||ae;return u.jsxs("button",{type:"button",onClick:()=>O(xt=>xt.filter(on=>on!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),E?(()=>{var ae,Be;const R=M.skills||[],I=j.length>0?R.filter(Te=>j.includes(Te.id)):R,Q=k.length>0?H.filter(Te=>k.includes(Te.key)):H,je=((ae=I.find(Te=>Te.id===ie.columnId))==null?void 0:ae.id)||((Be=I[0])==null?void 0:Be.id)||"",_e=Q.map(Te=>{const xt={},on={};return I.forEach(Pn=>{var Se;const cn=(Se=Te.skillMap)==null?void 0:Se[Pn.id],he=Number((cn==null?void 0:cn.damage)||0);on[Pn.id]=he,xt[Pn.id]=Io(he)}),{player:Te,values:xt,numericValues:on}}).sort((Te,xt)=>{const on=Te.numericValues[je]??0,Pn=xt.numericValues[je]??0;return(ie.dir==="desc"?Pn-on:on-Pn)||String(Te.player.displayName||"").localeCompare(String(xt.player.displayName||""))});return u.jsx(ms,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:je,sortDirection:ie.dir,onSortColumn:Te=>{Z(xt=>({columnId:Te,dir:xt.columnId===Te&&xt.dir==="desc"?"asc":"desc"}))},columns:I.map(Te=>({id:Te.id,label:u.jsx(Pr,{name:Te.name,iconUrl:Te.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:_e.map((Te,xt)=>({id:`${Te.player.key}-${xt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:xt+1}),ne(Te.player.profession,Te.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Te.player.displayName})]}),values:Te.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ne(M.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:M.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Pr,{name:(ee==null?void 0:ee.name)||"",iconUrl:ee==null?void 0:ee.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[H.length," players | ",M.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>z("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:W.key==="down"?W.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>z("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:W.key==="damage"?W.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>z("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:W.key==="dps"?W.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:te.map(R=>{var ae;const I=(ae=R.skillMap)==null?void 0:ae[(ee==null?void 0:ee.id)||""],Q=Number((I==null?void 0:I.downContribution)||0),je=Number((I==null?void 0:I.damage)||0),_e=R.totalFightMs>0?je/(R.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ne(R.profession,R.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:R.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Io(Q)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Io(je)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_a(_e,1)})]},`${M.profession}-${R.key}`)})})]})]})})]})})]})},jo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Po=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),mie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v,sidebarListClass:b})=>{var E;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),P=f==="offense-detailed",[D,_]=x.useState([]),[A,$]=x.useState([]),M=t.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),ee=t.map(j=>({id:j.id,label:j.label})),ne=ee.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),q=D.length>0?t.filter(j=>D.includes(j.id)):t,H=Array.from(new Map(e.offensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),W=new Set([...D.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),re=j=>{S(V=>({key:j,dir:V.key===j&&V.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:v("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Op,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...ee.map(j=>({...j,type:"column"})),...H.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id]):$(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id])},selectedIds:W,className:"w-full sm:w-64"}),u.jsx(gr,{options:ne,selectedIds:D,onToggle:j=>{_(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>_([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:H,selectedIds:A,onToggle:j=>{$(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const V=((k=ee.find(O=>O.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(ie=>ie!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(V=>V.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var Z,B;const j=J=>Math.max(1,(J.totalFightMs||0)/1e3),V=(J,L,Y)=>{var oe,te,z,R,I;if(L==="downContributionPercent"){const Q=((oe=J.offenseTotals)==null?void 0:oe.downContribution)||0,je=((te=J.offenseTotals)==null?void 0:te.damage)||0;return je>0?Q/je*100:0}if(Y.isRate){const Q=((z=J.offenseRateWeights)==null?void 0:z[L])||0,je=((R=J.offenseTotals)==null?void 0:R[L])||0;return Q>0?je/Q*100:0}return((I=J.offenseTotals)==null?void 0:I[L])||0},k=(J,L)=>{const Y=n&&!L.isPercent&&o==="total"?0:2,oe=c(J,Y);return L.isPercent?`${oe}%`:oe},O=((Z=q.find(J=>J.id===C.columnId))==null?void 0:Z.id)||((B=q[0])==null?void 0:B.id)||"",ie=[...e.offensePlayers].filter(J=>A.length===0||A.includes(J.account)).map(J=>{const L={},Y={};return q.forEach(oe=>{const te=V(J,oe.id,oe),z=o==="total"||oe.isPercent||oe.isRate?te:o==="per1s"?te/j(J):te*60/j(J);Y[oe.id]=z,L[oe.id]=k(z,oe)}),{row:J,values:L,numericValues:Y}}).sort((J,L)=>{const Y=J.numericValues[O]??0,oe=L.numericValues[O]??0;return(C.dir==="desc"?oe-Y:Y-oe)||String(J.row.account||"").localeCompare(String(L.row.account||""))});return u.jsx(ms,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:O,sortDirection:C.dir,onSortColumn:J=>{N(L=>({columnId:J,dir:L.columnId===J&&L.dir==="desc"?"asc":"desc"}))},columns:q.map(J=>({id:J.id,label:J.label,align:"right",minWidth:90})),rows:ie.map((J,L)=>({id:`${J.row.account}-${L}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),d(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account})]}),values:J.values}))})})()})]}):u.jsx(jo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:j=>i(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):M.map(j=>u.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(Z=>Z.id===a)||t[0],V=Z=>Math.max(1,(Z.totalFightMs||0)/1e3),k=Z=>{var B,J,L,Y,oe;if(j.id==="downContributionPercent"){const te=((B=Z.offenseTotals)==null?void 0:B.downContribution)||0,z=((J=Z.offenseTotals)==null?void 0:J.damage)||0;return z>0?te/z*100:0}if(j.isRate){const te=((L=Z.offenseRateWeights)==null?void 0:L[j.id])||0,z=((Y=Z.offenseTotals)==null?void 0:Y[j.id])||0;return te>0?z/te*100:0}return((oe=Z.offenseTotals)==null?void 0:oe[j.id])||0},O=Z=>{const B=n&&!j.isPercent&&o==="total"?0:2,J=c(Z,B);return j.isPercent?`${J}%`:J},ie=[...e.offensePlayers].map(Z=>({...Z,total:k(Z),per1s:j.isPercent||j.isRate?k(Z):k(Z)/V(Z),per60s:j.isPercent||j.isRate?k(Z):k(Z)*60/V(Z)})).sort((Z,B)=>{const J=w.key==="fightTime"?Number(Z.totalFightMs||0):Number(o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s),L=w.key==="fightTime"?Number(B.totalFightMs||0):Number(o==="total"?B.total:o==="per1s"?B.per1s:B.per60s);return(w.dir==="desc"?L-J:J-L)||Z.account.localeCompare(B.account)});return u.jsx(Po,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ie.map((Z,B)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Z.profession,Z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Z.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const J=o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s;return O(J)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Z.totalFightMs?`${(Z.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${Z.account}-${B}`))})})})()})})]})},hie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var E;const C=m==="conditions-outgoing",[N,P]=x.useState([]),[D,_]=x.useState([]),[A,$]=x.useState({columnId:"all",dir:"desc"}),M=j=>{if(!j)return 0;if(s!=="outgoing"){const ie=Number(j.applicationsFromUptime);return Number.isFinite(ie)&&ie>0?ie:Number(j.applications||0)}const V=Number(j.applicationsFromUptime);if(Number.isFinite(V)&&V>0)return V;const k=Number(j.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const O=Number(j.applicationsFromBuffs);return Number.isFinite(O)&&O>0?O:Number(j.applications||0)},ee=[...e||[]].sort((j,V)=>(V.damage||0)-(j.damage||0)),ne=ee.filter(j=>j.name.toLowerCase().includes(n.trim().toLowerCase())),ue=ne.map(j=>({id:j.name,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),H=N.length>0?ee.filter(j=>N.includes(j.name)):ee,W=Array.from(new Map((t||[]).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:h(j.profession,j.professionList,"w-3 h-3")})),re=new Set([...N.map(j=>`column:${j}`),...D.map(j=>`player:${j}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":v("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(s0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...ee.map(j=>({id:j.name,label:j.name,type:"column"})),...W.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?P(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id]):_(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id])},selectedIds:re,className:"w-full sm:w-64"}),u.jsx(gr,{options:ue,selectedIds:N,onToggle:j=>{P(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>P([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:W,selectedIds:D,onToggle:j=>{_(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Dn,{value:c.key,onChange:j=>d({key:j,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ne.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const j=c.key,V=[{id:"all",label:"All Conditions",icon:null},...H],k=(t||[]).filter(Z=>D.length===0||D.includes(Z.account)).map(Z=>{const B=Z.conditions||{},J={},L={};return V.forEach(Y=>{if(Y.id==="all"||Y.name==="All Conditions"){const z=Object.values(B).reduce((I,Q)=>{const je=M(Q);return I.applications+=Number(je||0),I.damage+=Number((Q==null?void 0:Q.damage)||0),I},{applications:0,damage:0}),R=j==="applications"?z.applications:z.damage;L.all=R||0,J.all=Math.round(R||0).toLocaleString();return}const oe=B[Y.name],te=j==="applications"?M(oe):Number((oe==null?void 0:oe.damage)||0);L[Y.name]=Number(te||0),J[Y.name]=Math.round(te||0).toLocaleString()}),{player:Z,values:J,numericValues:L}}).filter(Z=>Object.values(Z.values).some(B=>B!=="0")),O=["all",...H.map(Z=>Z.name)].includes(A.columnId)?A.columnId:"all",ie=[...k].sort((Z,B)=>{const J=Z.numericValues[O]??0,L=B.numericValues[O]??0;return(A.dir==="desc"?L-J:J-L)||String(Z.player.account||"").localeCompare(String(B.player.account||""))});return u.jsx(ms,{title:"Conditions - Dense View",subtitle:j==="applications"?"Applications":"Damage",sortColumnId:O,sortDirection:A.dir,onSortColumn:Z=>{$(B=>({columnId:Z,dir:B.columnId===Z&&B.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...H.map(Z=>({id:Z.name,label:u.jsx(Pr,{name:Z.name,iconUrl:Z.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:ie.map((Z,B)=>({id:`${Z.player.account}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),h(Z.player.profession,Z.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Z.player.account})]}),values:Z.values}))})})()}),(N.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(j=>u.jsxs("button",{type:"button",onClick:()=>P(V=>V.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j)),D.map(j=>u.jsxs("button",{type:"button",onClick:()=>_(V=>V.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}):u.jsx(jo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ne.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ne.map(j=>u.jsx("button",{type:"button",onClick:()=>a(j.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})},j.name))]})})]}),content:u.jsx(Po,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Pr,{name:i,iconUrl:(E=e.find(j=>j.name===i))==null?void 0:E.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const V=(t||[]).map(k=>{const O=k.conditions||{};if(i==="all"){const Z=Object.values(O).reduce((B,J)=>{const L=M(J);return B.applications+=Number(L||0),B.damage+=Number((J==null?void 0:J.damage)||0),B},{applications:0,damage:0});return{...k,applications:Z.applications,damage:Z.damage}}const ie=O[i];return{...k,applications:M(ie),damage:Number((ie==null?void 0:ie.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,O)=>{const ie=c.key==="applications"?k.applications||0:k.damage||0,Z=c.key==="applications"?O.applications||0:O.damage||0,B=c.dir==="desc"?Z-ie:ie-Z;if(B!==0)return B;const J=c.key==="applications"?(O.damage||0)-(k.damage||0):(O.applications||0)-(k.applications||0);return J!==0?J:String(k.account||"").localeCompare(String(O.account||""))});return V.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):V.map((k,O)=>{var z;const ie=k.conditions||{};let Z={};i==="all"?Object.values(ie).forEach(R=>{const I=(R==null?void 0:R.skills)||{};Object.values(I).forEach(Q=>{const je=(Q==null?void 0:Q.name)||"Unknown",_e=Number((Q==null?void 0:Q.hits)||0),ae=Number((Q==null?void 0:Q.damage)||0);if((!Number.isFinite(_e)||_e<=0)&&(!Number.isFinite(ae)||ae<=0))return;const Be=Z[je]||{name:je,hits:0,damage:0,icon:Q==null?void 0:Q.icon};Be.hits+=Number.isFinite(_e)?_e:0,Be.damage+=Number.isFinite(ae)?ae:0,!Be.icon&&(Q!=null&&Q.icon)&&(Be.icon=Q.icon),Z[je]=Be})}):Z=((z=ie[i])==null?void 0:z.skills)||{};const B=Object.values(Z).filter(R=>Number.isFinite(R.hits)&&R.hits>0).sort((R,I)=>I.hits-R.hits||R.name.localeCompare(I.name)),J=Object.values(Z).filter(R=>Number.isFinite(R.damage)&&R.damage>0).sort((R,I)=>I.damage-R.damage||R.name.localeCompare(I.name)),L=i==="all"&&B.length>0,Y=i==="all"&&J.length>0,oe=Math.round(k.applications||0).toLocaleString(),te=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L?u.jsx(UA,{value:oe,label:"Condition Sources",items:B.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.hits).toLocaleString()})),className:"justify-end"}):oe}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:Y?u.jsx(UA,{value:te,label:"Condition Damage Sources",items:J.map(R=>({name:R.name,iconUrl:R.icon,value:Math.round(R.damage).toLocaleString()})),className:"justify-end"}):te}):null]},`${k.account}-${O}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},pie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[P,D]=x.useState({key:"value",dir:"desc"}),[_,A]=x.useState({columnId:"",dir:"desc"}),$=g==="boon-output",[M,ee]=x.useState([]),[ne,ue]=x.useState([]),q=e.boonTables||[],W=M.length>0?q.filter(k=>M.includes(k.id)):q,re=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),E=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),j=new Set([...M.map(k=>`column:${k}`),...ne.map(k=>`player:${k}`)]),V=k=>{D(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():v("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):$?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...q.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?ee(O=>O.includes(k.id)?O.filter(ie=>ie!==k.id):[...O,k.id]):ue(O=>O.includes(k.id)?O.filter(ie=>ie!==k.id):[...O,k.id])},selectedIds:j,className:"w-full sm:w-64"}),u.jsx(gr,{options:re,selectedIds:M,onToggle:k=>{ee(O=>O.includes(k)?O.filter(ie=>ie!==k):[...O,k])},onClear:()=>ee([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:E,selectedIds:ne,onToggle:k=>{ue(O=>O.includes(k)?O.filter(ie=>ie!==k):[...O,k])},onClear:()=>ue([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||ne.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ee([]),ue([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>{var ie;const O=((ie=q.find(Z=>Z.id===k))==null?void 0:ie.name)||k;return u.jsxs("button",{type:"button",onClick:()=>ee(Z=>Z.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:O}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),ne.map(k=>u.jsxs("button",{type:"button",onClick:()=>ue(O=>O.filter(ie=>ie!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var J,L;const k=W,O=((J=k.find(Y=>Y.id===_.columnId))==null?void 0:J.id)||(a&&k.some(Y=>Y.id===a)?a:void 0)||((L=k[0])==null?void 0:L.id)||"",ie=new Map,Z=new Map;k.forEach(Y=>{const oe=new Map;Y.rows.forEach(te=>{const z=te.account||te.name||te.id;z&&(oe.set(z,te),Z.has(z)||Z.set(z,te))}),ie.set(Y.id,oe)});const B=Array.from(Z.entries()).filter(([Y])=>ne.length===0||ne.includes(String(Y))).map(([Y,oe])=>{const te={};return k.forEach(z=>{var I;const R=(I=ie.get(z.id))==null?void 0:I.get(Y);te[z.id]=R?f(R,t,z.stacking,r,{roundCountStats:p}):"-"}),{key:Y,row:oe,values:te}}).sort((Y,oe)=>{var _e,ae;if(!O)return String(Y.key).localeCompare(String(oe.key));const te=k.find(Be=>Be.id===O),z=te?(_e=ie.get(te.id))==null?void 0:_e.get(Y.key):null,R=te?(ae=ie.get(te.id))==null?void 0:ae.get(oe.key):null,I=z?h(z,t,te==null?void 0:te.stacking,r):0,Q=R?h(R,t,te==null?void 0:te.stacking,r):0;return(_.dir==="desc"?Q-I:I-Q)||String(Y.key).localeCompare(String(oe.key))});return u.jsx(ms,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:O,sortDirection:_.dir,onSortColumn:Y=>{A(oe=>({columnId:Y,dir:oe.columnId===Y&&oe.dir==="desc"?"asc":"desc"}))},columns:k.map(Y=>({id:Y.id,label:u.jsx(Pr,{name:Y.name,iconUrl:Y.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:B.map((Y,oe)=>({id:`${Y.key}-${oe}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),m(Y.row.profession,Y.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Y.row.account||Y.row.name||Y.key})]}),values:Y.values}))})})()})]}):u.jsx(jo,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(Po,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${P.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",P.key==="value"?P.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,O)=>(()=>{const ie=P.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),Z=P.key==="fightTime"?Number(O.activeTimeMs||0):h(O,t,o.stacking,r);return(P.dir==="desc"?Z-ie:ie-Z)||String(k.account||"").localeCompare(String(O.account||""))})()).map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${O}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},gie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v,sidebarListClass:b})=>{var E;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),P=f==="defense-detailed",[D,_]=x.useState([]),[A,$]=x.useState([]),M=t.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),ee=t.map(j=>({id:j.id,label:j.label})),ne=ee.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),q=D.length>0?t.filter(j=>D.includes(j.id)):t,H=Array.from(new Map(e.defensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),W=new Set([...D.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),re=j=>{S(V=>({key:j,dir:V.key===j&&V.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:v("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Tu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...ee.map(j=>({...j,type:"column"})),...H.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id]):$(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id])},selectedIds:W,className:"w-full sm:w-64"}),u.jsx(gr,{options:ne,selectedIds:D,onToggle:j=>{_(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>_([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:H,selectedIds:A,onToggle:j=>{$(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const V=((k=ee.find(O=>O.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(ie=>ie!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(V=>V.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var ie,Z;const j=B=>Math.max(1,(B.activeMs||0)/1e3),V=(B,J)=>{const L=J.isPercent,oe=c(B,l&&!L&&s==="total"?0:2);return L?`${oe}%`:oe},k=((ie=q.find(B=>B.id===C.columnId))==null?void 0:ie.id)||((Z=q[0])==null?void 0:Z.id)||"",O=[...e.defensePlayers].filter(B=>A.length===0||A.includes(B.account)).map(B=>{const J={},L={};return q.forEach(Y=>{var R;const oe=((R=B.defenseTotals)==null?void 0:R[Y.id])||0,te=Y.isPercent,z=s==="total"||te?oe:s==="per1s"?oe/j(B):oe*60/j(B);L[Y.id]=z,J[Y.id]=V(z,Y)}),{row:B,values:J,numericValues:L}}).sort((B,J)=>{const L=B.numericValues[k]??0,Y=J.numericValues[k]??0;return(C.dir==="desc"?Y-L:L-Y)||String(B.row.account||"").localeCompare(String(J.row.account||""))});return u.jsx(ms,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:k,sortDirection:C.dir,onSortColumn:B=>{N(J=>({columnId:B,dir:J.columnId===B&&J.dir==="desc"?"asc":"desc"}))},columns:q.map(B=>({id:B.id,label:B.label,align:"right",minWidth:90})),rows:O.map((B,J)=>({id:`${B.row.account}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),d(B.row.profession,B.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.row.account})]}),values:B.values}))})})()})]}):u.jsx(jo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):M.map(j=>u.jsx("button",{onClick:()=>a(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(O=>O.id===i)||t[0],V=O=>Math.max(1,(O.activeMs||0)/1e3),k=[...e.defensePlayers].map(O=>{var ie,Z,B;return{...O,total:((ie=O.defenseTotals)==null?void 0:ie[j.id])||0,per1s:(((Z=O.defenseTotals)==null?void 0:Z[j.id])||0)/V(O),per60s:(((B=O.defenseTotals)==null?void 0:B[j.id])||0)*60/V(O)}}).sort((O,ie)=>{const Z=w.key==="fightTime"?Number(O.activeMs||0):Number(s==="total"?O.total:s==="per1s"?O.per1s:O.per60s),B=w.key==="fightTime"?Number(ie.activeMs||0):Number(s==="total"?ie.total:s==="per1s"?ie.per1s:ie.per60s);return(w.dir==="desc"?B-Z:Z-B)||O.account.localeCompare(ie.account)});return u.jsx(Po,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:k.map((O,ie)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ie+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(O.profession,O.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Z=s==="total"?O.total:s==="per1s"?O.per1s:O.per60s;return c(Z,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:O.activeMs?`${(O.activeMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${O.account}-${ie}`))})})})()})})]})},vie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var oe,te;const C=((oe=t.find(z=>z.id==="totalMitigation"))==null?void 0:oe.id)||((te=t[0])==null?void 0:te.id)||"totalMitigation",[N,P]=x.useState({key:"value",dir:"desc"}),[D,_]=x.useState({columnId:C,dir:"desc"}),A=m==="defense-mitigation",[$,M]=x.useState([]),[ee,ne]=x.useState([]),[ue,q]=x.useState([]),H=e.damageMitigationPlayers||[],W=e.damageMitigationMinions||[],re=l==="minions"?W:H,E=H.length>0||W.length>0,j=t.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),V=t.map(z=>({id:z.id,label:z.label})),k=V.filter(z=>z.label.toLowerCase().includes(n.trim().toLowerCase())),ie=$.length>0?t.filter(z=>$.includes(z.id)):t,Z=Array.from(new Map(re.map(z=>[z.account,z])).values()).map(z=>({id:z.account,label:z.account,icon:h(z.profession,z.professionList,"w-3 h-3")})),B=Array.from(new Map(W.map(z=>[z.minion,z])).values()).filter(z=>z==null?void 0:z.minion).map(z=>({id:String(z.minion),label:String(z.minion)})),J=new Set([...$.map(z=>`column:${z}`),...ee.map(z=>`player:${z}`)]),L=z=>{P(R=>({key:z,dir:R.key===z&&R.dir==="desc"?"asc":"desc"}))},Y=z=>f(z,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":v("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...V.map(z=>({...z,type:"column"})),...Z.map(z=>({...z,type:"player"}))],onSelect:z=>{z.type==="column"?M(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id]):ne(R=>R.includes(z.id)?R.filter(I=>I!==z.id):[...R,z.id])},selectedIds:J,className:"w-full sm:w-64"}),u.jsx(gr,{options:k,selectedIds:$,onToggle:z=>{M(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>M([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:Z,selectedIds:ee,onToggle:z=>{ne(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>ne([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(gr,{options:B,selectedIds:ue,onToggle:z=>{q(R=>R.includes(z)?R.filter(I=>I!==z):[...R,z])},onClear:()=>q([]),buttonLabel:"Minions"}),u.jsx(Dn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),ne([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(z=>{var I;const R=((I=V.find(Q=>Q.id===z))==null?void 0:I.label)||z;return u.jsxs("button",{type:"button",onClick:()=>M(Q=>Q.filter(je=>je!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),ee.map(z=>u.jsxs("button",{type:"button",onClick:()=>ne(R=>R.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},z))]}),l==="minions"&&ue.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>q([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ue.map(z=>u.jsxs("button",{type:"button",onClick:()=>q(R=>R.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},z))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:re.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var Q,je;const z=_e=>Math.max(1,(_e.activeMs||0)/1e3),R=((Q=ie.find(_e=>_e.id===D.columnId))==null?void 0:Q.id)||((je=ie[0])==null?void 0:je.id)||"",I=[...re].filter(_e=>ee.length===0||ee.includes(_e.account)).filter(_e=>l!=="minions"||!ue.length?!0:ue.includes(String(_e.minion||""))).map(_e=>{const ae={},Be={};return ie.forEach(Te=>{var Pn;const xt=((Pn=_e.mitigationTotals)==null?void 0:Pn[Te.id])||0,on=s==="total"?xt:s==="per1s"?xt/z(_e):xt*60/z(_e);Be[Te.id]=on,ae[Te.id]=Y(on)}),{row:_e,values:ae,numericValues:Be}}).sort((_e,ae)=>{const Be=_e.numericValues[R]??0,Te=ae.numericValues[R]??0;return(D.dir==="desc"?Te-Be:Be-Te)||String(_e.row.account||"").localeCompare(String(ae.row.account||""))});return u.jsx(ms,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:R,sortDirection:D.dir,onSortColumn:_e=>{_(ae=>({columnId:_e,dir:ae.columnId===_e&&ae.dir==="desc"?"asc":"desc"}))},columns:ie.map(_e=>({id:_e.id,label:_e.label,align:"right",minWidth:90})),rows:I.map((_e,ae)=>({id:`${_e.row.account}-${_e.row.minion||"player"}-${ae}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ae+1}),h(_e.row.profession,_e.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:_e.row.account}),_e.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:_e.row.minion})]})]}),values:_e.values}))})})()})]}):u.jsx(jo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:z=>r(z.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(z=>u.jsx("button",{onClick:()=>a(z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===z.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:z.label},z.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const z=t.find(Q=>Q.id===i)||t[0],R=Q=>Math.max(1,(Q.activeMs||0)/1e3),I=[...re].map(Q=>{var je,_e,ae;return{...Q,total:((je=Q.mitigationTotals)==null?void 0:je[z.id])||0,per1s:(((_e=Q.mitigationTotals)==null?void 0:_e[z.id])||0)/R(Q),per60s:(((ae=Q.mitigationTotals)==null?void 0:ae[z.id])||0)*60/R(Q)}}).filter(Q=>l!=="minions"||!ue.length?!0:ue.includes(String(Q.minion||""))).sort((Q,je)=>{const _e=N.key==="fightTime"?Number(Q.activeMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s),ae=N.key==="fightTime"?Number(je.activeMs||0):Number(s==="total"?je.total:s==="per1s"?je.per1s:je.per60s);return(N.dir==="desc"?ae-_e:_e-ae)||Q.account.localeCompare(je.account)});return u.jsx(Po,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:z.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:I.map((Q,je)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:je+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(Q.profession,Q.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Q.account}),Q.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Q.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const _e=s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s;return Y(_e)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.activeMs?`${(Q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${z.id}-${Q.account}-${Q.minion||"player"}-${je}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},xie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var V;const[C,N]=x.useState({key:"value",dir:"desc"}),[P,D]=x.useState({columnId:((V=t[0])==null?void 0:V.id)||"value",dir:"desc"}),_=m==="support-detailed",[A,$]=x.useState([]),[M,ee]=x.useState([]),ne=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),ue=t.map(k=>({id:k.id,label:k.label})),q=ue.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),W=A.length>0?t.filter(k=>A.includes(k.id)):t,re=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),E=new Set([...A.map(k=>`column:${k}`),...M.map(k=>`player:${k}`)]),j=k=>{N(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":v("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...ue.map(k=>({...k,type:"column"})),...re.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?$(O=>O.includes(k.id)?O.filter(ie=>ie!==k.id):[...O,k.id]):ee(O=>O.includes(k.id)?O.filter(ie=>ie!==k.id):[...O,k.id])},selectedIds:E,className:"w-full sm:w-64"}),u.jsx(gr,{options:q,selectedIds:A,onToggle:k=>{$(O=>O.includes(k)?O.filter(ie=>ie!==k):[...O,k])},onClear:()=>$([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:re,selectedIds:M,onToggle:k=>{ee(O=>O.includes(k)?O.filter(ie=>ie!==k):[...O,k])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(Dn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(A.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>{var ie;const O=((ie=ue.find(Z=>Z.id===k))==null?void 0:ie.label)||k;return u.jsxs("button",{type:"button",onClick:()=>$(Z=>Z.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:O}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>ee(O=>O.filter(ie=>ie!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ne.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var J,L;const k=(Y,oe)=>{var te,z,R;if(oe==="condiCleanse"){const I=((te=Y.supportTotals)==null?void 0:te.condiCleanse)||0,Q=((z=Y.supportTotals)==null?void 0:z.condiCleanseSelf)||0;return l==="all"?I+Q:I}return((R=Y.supportTotals)==null?void 0:R[oe])||0},O=Y=>Math.max(1,(Y.activeMs||0)/1e3),ie=(Y,oe)=>{const te=Y.isTime?1:d&&s==="total"?0:2;return f(oe,te)},Z=((J=W.find(Y=>Y.id===P.columnId))==null?void 0:J.id)||((L=W[0])==null?void 0:L.id)||"",B=[...e.supportPlayers].filter(Y=>M.length===0||M.includes(Y.account)).map(Y=>{const oe={},te={};return W.forEach(z=>{const R=k(Y,z.id),I=s==="total"?R:s==="per1s"?R/O(Y):R*60/O(Y);te[z.id]=I,oe[z.id]=ie(z,I)}),{row:Y,values:oe,numericValues:te}}).sort((Y,oe)=>{const te=Y.numericValues[Z]??0,z=oe.numericValues[Z]??0;return(P.dir==="desc"?z-te:te-z)||String(Y.row.account||"").localeCompare(String(oe.row.account||""))});return u.jsx(ms,{title:"Support - Dense View",subtitle:"Support",sortColumnId:Z,sortDirection:P.dir,onSortColumn:Y=>{D(oe=>({columnId:Y,dir:oe.columnId===Y&&oe.dir==="desc"?"asc":"desc"}))},columns:W.map(Y=>({id:Y.id,label:Y.label,align:"right",minWidth:90})),rows:B.map((Y,oe)=>({id:`${Y.row.account}-${oe}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),h(Y.row.profession,Y.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Y.row.account})]}),values:Y.values}))})})()})]}):u.jsx(jo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ne.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ne.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(B=>B.id===i)||t[0],O=B=>{var J,L,Y;if(k.id==="condiCleanse"){const oe=((J=B.supportTotals)==null?void 0:J.condiCleanse)||0,te=((L=B.supportTotals)==null?void 0:L.condiCleanseSelf)||0;return l==="all"?oe+te:oe}return((Y=B.supportTotals)==null?void 0:Y[k.id])||0},ie=B=>Math.max(1,(B.activeMs||0)/1e3),Z=[...e.supportPlayers].map(B=>({...B,total:O(B),per1s:O(B)/ie(B),per60s:O(B)*60/ie(B)})).sort((B,J)=>{const L=C.key==="fightTime"?Number(B.activeMs||0):Number(s==="total"?B.total:s==="per1s"?B.per1s:B.per60s),Y=C.key==="fightTime"?Number(J.activeMs||0):Number(s==="total"?J.total:s==="per1s"?J.per1s:J.per60s);return(C.dir==="desc"?Y-L:L-Y)||B.account.localeCompare(J.account)});return u.jsx(Po,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Dn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>j("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>j("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:Z.map((B,J)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:J+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(B.profession,B.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const L=s==="total"?B.total:s==="per1s"?B.per1s:B.per60s,Y=k.isTime?1:d&&s==="total"?0:2;return f(L,Y)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:B.activeMs?`${(B.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${B.account}-${J}`))})})})()})})]})},yie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v})=>{var q;const[b,w]=x.useState({key:"value",dir:"desc"}),[S,C]=x.useState({columnId:((q=t[0])==null?void 0:q.id)||"value",dir:"desc"}),N=f==="healing-stats",[P,D]=x.useState([]),[_,A]=x.useState([]),$=Array.from(new Map(e.healingPlayers.map(H=>[H.account,H])).values()).map(H=>({id:H.account,label:H.account,icon:d(H.profession,H.professionList,"w-3 h-3")})),M=new Set([..._.map(H=>`column:${H}`),...P.map(H=>`player:${H}`)]),ee=t.map(H=>({id:H.id,label:H.label})),ne=_.length>0?t.filter(H=>_.includes(H.id)):t,ue=H=>{w(W=>({key:H,dir:W.key===H&&W.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:v("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(uO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...ee.map(H=>({...H,type:"column"})),...$.map(H=>({...H,type:"player"}))],onSelect:H=>{H.type==="column"?A(W=>W.includes(H.id)?W.filter(re=>re!==H.id):[...W,H.id]):D(W=>W.includes(H.id)?W.filter(re=>re!==H.id):[...W,H.id])},selectedIds:M,className:"w-full sm:w-64"}),u.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(gr,{options:ee,selectedIds:_,onToggle:H=>{A(W=>W.includes(H)?W.filter(re=>re!==H):[...W,H])},onClear:()=>A([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(H=>({value:H.id,label:H.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(gr,{options:$,selectedIds:P,onToggle:H=>{D(W=>W.includes(H)?W.filter(re=>re!==H):[...W,H])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})})]}),(_.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(H=>{var re;const W=((re=ee.find(E=>E.id===H))==null?void 0:re.label)||H;return u.jsxs("button",{type:"button",onClick:()=>A(E=>E.filter(j=>j!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},H)}),P.map(H=>u.jsxs("button",{type:"button",onClick:()=>D(W=>W.filter(re=>re!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:H}),u.jsx("span",{className:"text-gray-400",children:""})]},H))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var j,V;const H=k=>Math.max(1,(k.activeMs||0)/1e3),W=k=>{const O=k.baseField==="resUtility",ie=O||i==="total"?"":i==="offSquad"?"offSquad":i;return O?s==="all"?"resUtility":`resUtility_${s}`:ie?`${ie}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},re=[...e.healingPlayers].filter(k=>P.length===0||P.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{const O={},ie={};return ne.forEach(Z=>{var Y;const B=W(Z),J=Number(((Y=k.healingTotals)==null?void 0:Y[B])??0),L=Z.perSecond?J/H(k):J;ie[Z.id]=L,O[Z.id]=c(L,Z.decimals)}),{row:k,values:O,numericValues:ie}}).sort((k,O)=>{var L,Y;const ie=((L=ne.find(oe=>oe.id===S.columnId))==null?void 0:L.id)||((Y=ne[0])==null?void 0:Y.id)||"",Z=k.numericValues[ie]??0,B=O.numericValues[ie]??0;return(S.dir==="desc"?B-Z:Z-B)||String(k.row.account||"").localeCompare(String(O.row.account||""))}),E=((j=ne.find(k=>k.id===S.columnId))==null?void 0:j.id)||((V=ne[0])==null?void 0:V.id)||"";return u.jsx(ms,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:S.dir,onSortColumn:k=>{C(O=>({columnId:k,dir:O.columnId===k&&O.dir==="desc"?"asc":"desc"}))},columns:ne.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:re.map((k,O)=>({id:`${k.row.account}-${O}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:O+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(jo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(H=>u.jsx("button",{onClick:()=>r(H.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===H.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:H.label},H.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const H=t.find(k=>k.id===n)||t[0],W=H.baseField==="resUtility",re=k=>Math.max(1,(k.activeMs||0)/1e3),E=W||i==="total"?"":i==="offSquad"?"offSquad":i,j=W?s==="all"?"resUtility":`resUtility_${s}`:E?`${E}${H.baseField[0].toUpperCase()}${H.baseField.slice(1)}`:H.baseField,V=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{var Z;const O=Number(((Z=k.healingTotals)==null?void 0:Z[j])??0),ie=H.perSecond?O/re(k):O;return{...k,value:ie}}).sort((k,O)=>{const ie=b.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),Z=b.key==="fightTime"?Number(O.activeMs||0):Number(O.value||0);return(b.dir==="desc"?Z-ie:ie-Z)||k.account.localeCompare(O.account)});return u.jsx(Po,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:H.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[W&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!W&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ue("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[H.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ue("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:V.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):V.map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,H.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${H.id}-${k.account}-${O}`))})})})()})})]})},bie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",wie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[v,b]=x.useState("total"),[w,S]=x.useState("desc"),[C,N]=x.useState({columnId:"",dir:"desc"}),P=c==="special-buffs",[D,_]=x.useState([]),[A,$]=x.useState([]),M=e.specialTables||[],ne=D.length>0?M.filter(j=>D.includes(j.id)):M,ue=r.map(j=>({id:j.id,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),q=Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:l(j.profession,j.professionList,"w-3 h-3")})),H=new Set([...D.map(j=>`column:${j}`),...A.map(j=>`player:${j}`)]),W=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((V,k)=>{const O=Number((V==null?void 0:V[v])??0),ie=Number((k==null?void 0:k[v])??0),Z=w==="desc"?ie-O:O-ie;return Z!==0?Z:String((V==null?void 0:V.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),j},[s,v,w]),re=j=>{if(v===j){S(V=>V==="desc"?"asc":"desc");return}b(j),S("desc")},E=j=>v!==j?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(o0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(hs,{options:[...M.map(j=>({id:j.id,label:j.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,type:"player",icon:l(j.profession,j.professionList,"w-3 h-3")}))],onSelect:j=>{j.type==="column"?_(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id]):$(V=>V.includes(j.id)?V.filter(k=>k!==j.id):[...V,j.id])},selectedIds:H,className:"w-full sm:w-64"}),u.jsx(gr,{options:ue,selectedIds:D,onToggle:j=>{_(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>_([]),buttonIcon:u.jsx(ds,{className:"h-3.5 w-3.5"})}),u.jsx(gr,{options:q,selectedIds:A,onToggle:j=>{$(V=>V.includes(j)?V.filter(k=>k!==j):[...V,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Dr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:v,onChange:j=>b(j),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const V=((k=M.find(O=>O.id===j))==null?void 0:k.name)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(ie=>ie!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:V}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),A.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(V=>V.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var B,J;const j=ne,V=new Map,k=new Map;j.forEach(L=>{const Y=new Map;L.rows.forEach(oe=>{const te=oe.account||oe.name||oe.id;te&&(Y.set(te,oe),k.has(te)||k.set(te,oe))}),V.set(L.id,Y)});const O=Array.from(k.entries()).filter(([L])=>A.length===0||A.includes(String(L))).map(([L,Y])=>{const oe={},te={};return j.forEach(z=>{var je;const R=(je=V.get(z.id))==null?void 0:je.get(L);if(!R){oe[z.id]="-",te[z.id]=0;return}if(v==="duration"){oe[z.id]=R.duration?`${R.duration.toFixed(1)}s`:"-",te[z.id]=Number(R.duration||0);return}const I=v==="total"?R.total:R.perSecond,Q=v==="total"?0:1;te[z.id]=Number(I||0),oe[z.id]=o(I||0,Q)}),{key:L,row:Y,values:oe,numericValues:te}}),ie=((B=j.find(L=>L.id===C.columnId))==null?void 0:B.id)||(i&&j.some(L=>L.id===i)?i:void 0)||((J=j[0])==null?void 0:J.id)||"",Z=[...O].sort((L,Y)=>{if(!ie)return String(L.key).localeCompare(String(Y.key));const oe=L.numericValues[ie]??0,te=Y.numericValues[ie]??0;return(C.dir==="desc"?te-oe:oe-te)||String(L.key).localeCompare(String(Y.key))});return u.jsx(ms,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:ie,sortDirection:C.dir,onSortColumn:L=>{N(Y=>({columnId:L,dir:Y.columnId===L&&Y.dir==="desc"?"asc":"desc"}))},columns:j.map(L=>({id:L.id,label:u.jsx(Pr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Z.map((L,Y)=>({id:`${L.key}-${Y}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Y+1}),l(L.row.profession,L.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):u.jsx(jo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(j=>u.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:bie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(Po,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("total"),className:`text-right transition-colors ${v==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",E("total")]}),u.jsxs("button",{type:"button",onClick:()=>re("perSecond"),className:`text-right transition-colors ${v==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",E("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>re("duration"),className:`text-right transition-colors ${v==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",E("duration")]})]}),rows:u.jsx(u.Fragment,{children:W.map((j,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(j.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(j.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.duration?`${j.duration.toFixed(1)}s`:"-"})]},`${s.id}-${j.account}-${V}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},kie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Sie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[v,b]=x.useState("desc"),w=c==="sigil-relic-uptime",S=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,P)=>{const D=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),_=Number((P==null?void 0:P.uptimePerSecond)??(P==null?void 0:P.perSecond)??0),A=v==="desc"?_-D:D-_;return A!==0?A:String((N==null?void 0:N.account)||"").localeCompare(String((P==null?void 0:P.account)||""))}),C},[s,v]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]}),e?u.jsx(jo,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:kie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(Po,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",v==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const P=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(P,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Nie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Cie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=x.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Dn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ex,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ex,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ex,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},VA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},jie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=VA[r]||VA.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Pie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},WA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Aie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Jl,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(d6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(o0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Mp,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:WA(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,v,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(v=m.data)==null?void 0:v.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:WA(w.val,s)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",v=m?" /s":"",b=[{icon:p6,title:`Down Contribution${v}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Tu,title:`${y}Barrier${v}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:uO,title:`${y}Healing${v}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:S6,title:`${y}Dodges${v}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:wf,title:`${y}Strips${v}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:m6,title:`${y}Cleanses${v}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:h6,title:`${y}CC${v}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:hO,title:`${y}Stab Gen${v}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:u6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?s(S):o(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var _,A,$,M;const C=i==="all",N=Pie((g==null?void 0:g[S.statKey])||[],S.higherIsBetter),P=N[0],D=P?{...S.data,value:Number(P.value||0),player:P.account||((_=S.data)==null?void 0:_.player)||"-",count:P.count||((A=S.data)==null?void 0:A.count)||0,profession:P.profession||(($=S.data)==null?void 0:$.profession)||"Unknown",professionList:P.professionList||((M=S.data)==null?void 0:M.professionList)||[]}:S.data;return u.jsx(jie,{...S,data:D,active:C,onClick:()=>a(ee=>ee==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Eie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=x.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const v=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-v||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=x.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Pr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(s6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var v;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Pr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((v=e.topIncomingSkills[0])==null?void 0:v.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Tie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"squad-composition","data-section-visible":r("squad-composition"),"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(mc,{width:"100%",height:"100%",children:u.jsxs(Jb,{children:[u.jsx(Cg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,o)=>u.jsx(Bu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${o}`))}),u.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(s0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(mc,{width:"100%",height:"100%",children:u.jsxs(Jb,{children:[u.jsx(Cg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,o)=>u.jsx(Bu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${o}`))}),u.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]}),Die=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(mc,{width:"100%",height:"100%",children:u.jsxs(Tg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Rf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(zf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Uf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Xs,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Xs,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Mie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(mc,{width:"100%",height:"100%",children:u.jsxs(Jb,{children:[u.jsx(Cg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Bu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(vc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(_I,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),HA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:v,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:P,setSelectedSpikeFightIndex:D,spikeDrilldownTitle:_,spikeDrilldownData:A,spikeDrilldownDownIndices:$,spikeDrilldownDeathIndices:M,spikeFightSkillRows:ee=[],spikeFightSkillTitle:ne="Skill Damage (Selected Fight)",formatWithCommas:ue,renderProfessionIcon:q})=>{const[H,W]=x.useState(null),[re,E]=x.useState(null),j=I=>String(I||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=s===e,k=S?ec(S.profession):"#fda4af",O=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",ie=I=>y==="hit"?I.peakHit:y==="1s"?I.peak1s:y==="5s"?I.peak5s:I.peak30s,Z=g.flatMap(I=>I.players.map(Q=>({...Q,groupProfession:I.profession}))).sort((I,Q)=>{const je=ie(Q)-ie(I);return je!==0?je:I.displayName.localeCompare(Q.displayName)}),B=C.reduce((I,Q)=>!I||Q.damage>I.damage?Q:I,null),J=I=>{if(!Number.isFinite(I)||I<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(I))}catch{return""}},L=A.reduce((I,Q)=>Math.max(I,Number(Q.value||0)),0),Y=Math.max(1,L),oe=new Set($),te=new Set(M),z=A.map((I,Q)=>({...I,downMarker:oe.has(Q)?Math.max(Number(I.value||0),Y*.88):null,deathMarker:te.has(Q)?Math.max(Number(I.value||0),Y*.96):null})),R=I=>Q=>{const je=Number(Q==null?void 0:Q.cx),_e=Number(Q==null?void 0:Q.cy),ae=Number(Q==null?void 0:Q.index);if(!Number.isFinite(je)||!Number.isFinite(_e)||!Number.isFinite(ae))return null;const Be=(Q==null?void 0:Q.payload)||{},Te=I==="down"?Be==null?void 0:Be.downMarker:Be==null?void 0:Be.deathMarker;if(!Number.isFinite(Number(Te)))return null;const xt=`${I}-${ae}`,on=H===xt,Pn=I==="down"?"#facc15":"#ef4444",cn=I==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{W(xt),E({x:je,y:_e,kind:I,label:String((Be==null?void 0:Be.label)||"")})},onMouseLeave:()=>{W(he=>he===xt?null:he),E(he=>(he==null?void 0:he.kind)===I&&(he==null?void 0:he.label)===String((Be==null?void 0:Be.label)||"")?null:he)},children:[u.jsx("circle",{cx:je,cy:_e,r:on?10:7,fill:cn,opacity:on?.35:.18}),u.jsx("circle",{cx:je,cy:_e,r:on?7:5.5,fill:Pn,stroke:"#0f172a",strokeWidth:on?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${V?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:V?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(wf,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${V?"pr-10 md:pr-0":""}`,children:[u.jsx(Dn,{value:y,onChange:I=>v(I),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>V?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${V?"absolute top-2 right-2 md:static":""}`,"aria-label":V?`Close ${t}`:`Expand ${t}`,title:V?"Close":"Expand",children:V?u.jsx(Ki,{className:"w-4 h-4"}):u.jsx(Aa,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:I=>p(I.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:Z.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:Z.map(I=>{const Q=b===I.key;return u.jsx("button",{type:"button",onClick:()=>w(I.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${Q?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[q(I.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:I.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:I.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[I.characterName||I.displayName,"  ",I.logs," ",I.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ue(ie(I)||0,0)})]})},I.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",O]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(mc,{width:"100%",height:"100%",children:u.jsxs(Tg,{data:C,onClick:I=>{const Q=Number(I==null?void 0:I.activeTooltipIndex);Number.isFinite(Q)&&D(P===Q?null:Q)},children:[u.jsx(Rf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(zf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Uf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:I=>ue(I,0)}),u.jsx(vc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,Q)=>[ue(Number(I||0),0),String(Q||"")],labelFormatter:(I,Q)=>{var ae;const je=(ae=Q==null?void 0:Q[0])==null?void 0:ae.payload;if(!je)return"";const _e=j(je.fullLabel||"");return y==="hit"&&je.skillName?`${_e}  ${je.skillName}`:_e}}),u.jsx(Xs,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:k,strokeWidth:3,dot:I=>{var _e;const Q=Number((_e=I==null?void 0:I.payload)==null?void 0:_e.index);if(!Number.isFinite(Q))return null;const je=P===Q;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ae=>{ae.stopPropagation(),D(je?null:Q)},children:[u.jsx("circle",{cx:I.cx,cy:I.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:I.cx,cy:I.cy,r:je?4:3,fill:k,stroke:je?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:je?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Xs,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[q(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${O}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ue(ie(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const I=j((B==null?void 0:B.fullLabel)||S.peakFightLabel||"N/A"),Q=J(Number((B==null?void 0:B.timestamp)||0)),je=Q?`${Q} - ${I}`:I;return y!=="hit"?je:S.peakSkillName?`${S.peakSkillName}  ${je}`:je})()})]})]}),S&&P!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),u.jsx("button",{type:"button",onClick:()=>D(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:A.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(mc,{width:"100%",height:"100%",children:u.jsxs(Tg,{data:z,children:[u.jsx(Rf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(zf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Uf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:I=>ue(I,0)}),u.jsx(vc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,Q)=>{const je=String(Q||"");return je==="Down"?["Downed","Event"]:je==="Death"?["Dead","Event"]:[ue(Number(I||0),0),"Damage"]},labelFormatter:I=>String(I||"")}),u.jsx(Xs,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Xs,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:R("down")}),u.jsx(Xs,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:R("death")})]})}),re&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,re.x)}px`,top:`${Math.max(8,re.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${re.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:re.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:re.label})]})]})})]}),S&&P!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${ee.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ne}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[ee.length," ",ee.length===1?"skill":"skills"]})]}),ee.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:ee.map((I,Q)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:I.skillName,children:I.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ue(Number(I.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ue(Number(I.hits||0),0)})]},`${I.skillName}-${Q}`))})]})]})]})},Oie=10,Tx=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},Iie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(""),[o,l]=x.useState("squad"),[c,d]=x.useState("desc"),f=a.trim().toLowerCase(),h=x.useMemo(()=>{const g=e.filter(v=>{if(!f)return!0;const b=String(v.account||"").toLowerCase(),w=(v.characterNames||[]).join(" ").toLowerCase(),S=(v.classTimes||[]).map(C=>String(C.profession||"").toLowerCase()).join(" ");return b.includes(f)||w.includes(f)||S.includes(f)}),y=v=>Number(o==="fight"?v.combatTimeMs??v.squadTimeMs??0:v.squadTimeMs??0);return[...g].sort((v,b)=>{const w=y(b)-y(v);return w!==0?c==="desc"?w:-w:String(v.account||"").localeCompare(String(b.account||""))})},[e,f,c,o]),m=g=>{if(o===g){d(y=>y==="desc"?"asc":"desc");return}l(g),d("desc")},p=h.length>Oie;return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(bf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:a,onChange:g=>s(g.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[900px] border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(g=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:g.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:g.characterNames.length>0?g.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:g.classTimes.length>0?g.classTimes.map(y=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?u.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:y.profession}),u.jsx("span",{className:"text-gray-400",children:Tx(y.timeMs)})]},`${g.account}-${y.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Tx(Number(g.combatTimeMs??g.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Tx(g.squadTimeMs)})]},g.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},_ie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Lie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null),[o,l]=x.useState(""),c=o.trim().toLowerCase(),d=Jf("svg/commander_tag.svg");x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=x.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",_ie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},$ie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Fie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null);x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=x.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=x.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(qd,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",$ie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-3 overflow-x-auto",children:o?u.jsxs("div",{className:"grid grid-cols-2 gap-3 min-w-[640px]",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[42px_minmax(0,1fr)] gap-2 items-center px-2 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-1",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-2.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-4 h-4 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2.5",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/[0.03] px-2 py-1",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1.5 py-1",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[11px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Rie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(dO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(Jl,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(o0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(k6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(y6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Bie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=x.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(v6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(fO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(pO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},zie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Uie=({embedded:e,uiTheme:t="classic",mobileNavOpen:n,setMobileNavOpen:r,tocGroups:i,tocItems:a,activeNavId:s,scrollToSection:o,stepSection:l})=>{var v;const c=t==="matte",d=t==="modern",f=t==="crt",h=c?"rounded-2xl border border-white/10 bg-[#222629] shadow-[-4px_-4px_8px_rgba(255,255,255,0.03),6px_6px_12px_rgba(0,0,0,0.45)]":f?"rounded-sm border border-green-400/35 bg-[#07110c]":d?"rounded-2xl border border-white/15 bg-[#1b2430]":"rounded-2xl border border-white/25 bg-white/5 backdrop-blur-2xl shadow-[0_24px_65px_rgba(0,0,0,0.55)]",m=c?"rounded-xl bg-[#2a2e31] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200 shadow-[inset_1px_1px_2px_rgba(255,255,255,0.04),inset_-1px_-1px_2px_rgba(0,0,0,0.35)]":f?"rounded-sm bg-[#0b1a12] border border-green-400/35 text-[10px] uppercase tracking-widest text-green-200":d?"rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200":"rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",p=c?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/15 bg-[#222629] flex flex-col overflow-hidden":f?"w-full max-w-sm max-h-[68vh] rounded-sm p-4 border border-green-400/35 bg-[#07110c] flex flex-col overflow-hidden":d?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden":"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-white/5 shadow-[0_22px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl flex flex-col overflow-hidden",[g,y]=x.useState({});return x.useEffect(()=>{i.length!==0&&y(b=>{if(Object.keys(b).length>0)return b;const w={};return i.forEach((S,C)=>{w[S.id]=C===0}),w})},[i]),x.useEffect(()=>{const b=i.find(w=>w.items.some(S=>S.id===s));b&&y(w=>({...w,[b.id]:!0}))},[s,i]),e?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:u.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 ${h}`,children:[u.jsxs("button",{onClick:()=>l(-1),className:`flex items-center gap-2 px-3 py-1.5 ${m}`,children:[u.jsx(Wl,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),u.jsxs("button",{onClick:()=>r(b=>!b),className:`flex items-center gap-2 px-4 py-1.5 ${m}`,children:[u.jsx("span",{className:"truncate max-w-[160px]",children:((v=a.find(b=>b.id===s))==null?void 0:v.label)||"Sections"}),u.jsx(Wl,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${n?"rotate-180":""}`})]}),u.jsxs("button",{onClick:()=>l(1),className:`flex items-center gap-2 px-3 py-1.5 ${m}`,children:["Next",u.jsx(Wl,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),n&&u.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:b=>{b.target===b.currentTarget&&r(!1)},children:u.jsxs("div",{"data-stats-mobile-nav":"panel",className:p,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),u.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:u.jsx(Ki,{className:"w-4 h-4"})})]}),u.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:u.jsx("div",{className:"space-y-3",children:i.map(b=>{const w=b.icon,S=g[b.id]??!1,C=b.items.some(N=>N.id===s);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>y(N=>({...N,[b.id]:!S})),className:`w-full text-left flex items-center gap-2 px-2 py-2 rounded-lg border transition-colors ${C?"bg-white/10 border-white/15 text-white":"bg-white/5 border-white/10 text-gray-200 hover:bg-white/[0.08]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(w,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] truncate",children:b.label}),u.jsx(Wl,{className:`ml-auto w-4 h-4 text-gray-300 transition-transform ${S?"rotate-180":""}`})]}),S&&u.jsx("div",{className:"space-y-1 pl-2",children:b.items.map(N=>{const P=N.icon,D=N.id===s;return u.jsxs("button",{onClick:()=>o(N.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 rounded-md ${D?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(P,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:N.label})]},N.id)})})]},b.id)})})})]})})]})},Cs="space-y-1 pr-1 max-h-72 overflow-y-auto",Vie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Wie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Hie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0}){var AN,EN;const p=n||EO,g=r||eb,y=a||UU,v=g.showTopStats,b=g.showMvp,w=g.roundCountStats,S=g.topStatsMode||"total",[C,N]=x.useState(g.topSkillsMetric||"damage"),P=(i?g.topSkillsMetric:C)||"damage",D=y.uploading,_=y.message,A=y.url,$=y.buildStatus,M=!c&&!1,{result:ee}=XU({logs:e,precomputedStats:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),{stats:ne,skillUsageData:ue}=ee,q=x.useMemo(()=>{var ct,Jt,Nt,en,st,$n;const F=ne&&typeof ne=="object"?ne:{},G=Ce=>Array.isArray(Ce)?Ce:[],ge=Ce=>Ce&&typeof Ce=="object"?Ce:{},Re=(Ce,Ot)=>Ce&&typeof Ce=="object"?Ce:Ot,Ee={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Pe={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ce={...F,total:Number(F.total||0),timelineData:G(F.timelineData),mapData:G(F.mapData),fightBreakdown:G(F.fightBreakdown),topSkills:G(F.topSkills),topIncomingSkills:G(F.topIncomingSkills),leaderboards:ge(F.leaderboards),topStatsPerSecond:ge(F.topStatsPerSecond),topStatsLeaderboardsPerSecond:ge(F.topStatsLeaderboardsPerSecond),maxDownContrib:Re(F.maxDownContrib,Ee),maxBarrier:Re(F.maxBarrier,Ee),maxHealing:Re(F.maxHealing,Ee),maxDodges:Re(F.maxDodges,Ee),maxStrips:Re(F.maxStrips,Ee),maxCleanses:Re(F.maxCleanses,Ee),maxCC:Re(F.maxCC,Ee),maxStab:Re(F.maxStab,Ee),closestToTag:Re(F.closestToTag,Ee),mvp:{...Pe,...ge(F.mvp),topStats:G((ct=F==null?void 0:F.mvp)==null?void 0:ct.topStats)},silver:Re(F.silver,Pe),bronze:Re(F.bronze,Pe),avgMvpScore:Number(F.avgMvpScore||0),offensePlayers:G(F.offensePlayers),defensePlayers:G(F.defensePlayers),damageMitigationPlayers:G(F.damageMitigationPlayers),damageMitigationMinions:G(F.damageMitigationMinions),supportPlayers:G(F.supportPlayers),healingPlayers:G(F.healingPlayers),boonTables:G(F.boonTables),specialTables:G(F.specialTables),outgoingConditionSummary:G(F.outgoingConditionSummary),outgoingConditionPlayers:G(F.outgoingConditionPlayers),incomingConditionSummary:G(F.incomingConditionSummary),incomingConditionPlayers:G(F.incomingConditionPlayers),squadClassData:G(F.squadClassData),enemyClassData:G(F.enemyClassData),attendanceData:G(F.attendanceData),squadCompByFight:G(F.squadCompByFight),playerSkillBreakdowns:G(F.playerSkillBreakdowns)},pn=G((Jt=ce.leaderboards)==null?void 0:Jt.downContrib).map(Ce=>({...Ce,value:Number((Ce==null?void 0:Ce.value)??0)})).filter(Ce=>Number.isFinite(Ce.value)).sort((Ce,Ot)=>Ot.value-Ce.value||String((Ce==null?void 0:Ce.account)||"").localeCompare(String((Ot==null?void 0:Ot.account)||"")))[0];return pn&&(ce.maxDownContrib={...ce.maxDownContrib||{},value:Number(pn.value||0),player:String(pn.account||((Nt=ce.maxDownContrib)==null?void 0:Nt.player)||"-"),count:Number(pn.count||((en=ce.maxDownContrib)==null?void 0:en.count)||0),profession:String(pn.profession||((st=ce.maxDownContrib)==null?void 0:st.profession)||"Unknown"),professionList:Array.isArray(pn.professionList)?pn.professionList:(($n=ce.maxDownContrib)==null?void 0:$n.professionList)||[]}),ce},[ne]);x.useEffect(()=>{var ge;if(!((ge=window==null?void 0:window.electronAPI)!=null&&ge.fetchImageAsDataUrl))return;const F=new Set,G=Re=>{if(Re){if(typeof Re=="string"){/^https?:\/\//i.test(Re)&&F.add(Re);return}if(Array.isArray(Re)){Re.forEach(G);return}typeof Re=="object"&&Object.entries(Re).forEach(([Ee,Pe])=>{if((Ee==="icon"||Ee==="iconUrl")&&typeof Pe=="string"){/^https?:\/\//i.test(Pe)&&F.add(Pe);return}G(Pe)})}};G(q),F.size>0&&rie(Array.from(F))},[q]);const H=x.useMemo(()=>{const F=(l==null?void 0:l.skillUsageData)??ue;return{logRecords:Array.isArray(F==null?void 0:F.logRecords)?F.logRecords:[],players:Array.isArray(F==null?void 0:F.players)?F.players:[],skillOptions:Array.isArray(F==null?void 0:F.skillOptions)?F.skillOptions:[],resUtilitySkills:Array.isArray(F==null?void 0:F.resUtilitySkills)?F.resUtilitySkills:[]}},[ue,l==null?void 0:l.skillUsageData]),W=H.players.length>0;x.useEffect(()=>{i||N(g.topSkillsMetric||"damage")},[g.topSkillsMetric,i]);const re=F=>{if(i){i({...g,topSkillsMetric:F});return}N(F)},{mobileNavOpen:E,setMobileNavOpen:j,activeNavId:V,scrollContainerRef:k,tocGroups:O,tocItems:ie,scrollToSection:Z,stepSection:B}=N6(c),{devMockUploadState:J,webCopyStatus:L,setWebCopyStatus:Y,handleWebUpload:oe,handleDevMockUpload:te}=C6({logs:e,stats:q,skillUsageData:H,activeStatsViewSettings:r||eb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:z,handleShare:R}=yU(c),I={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},Q=F=>{const G=I[F];return G?p[G]>0:!0},[je,_e]=x.useState(null),[ae,Be]=x.useState(null),[Te,xt]=x.useState("totalBuffs"),[on,Pn]=x.useState("total"),[cn,he]=x.useState(""),[Se,Ft]=x.useState(null),[Kt,gn]=x.useState(""),[mn,Ur]=x.useState(null),[lr,ua]=x.useState(""),[Ti,vn]=x.useState(""),[xn,br]=x.useState(""),[un,ei]=x.useState(""),[Di,Ac]=x.useState(""),[yl,bl]=x.useState(""),[zs,wl]=x.useState(""),[Us,X]=x.useState("outgoing"),[pe,ke]=x.useState(""),[ot,Pt]=x.useState("damage"),[Mt,an]=x.useState("damageTaken"),[jt,At]=x.useState("totalMitigation"),[ln,Ke]=x.useState("all"),[pt,Nn]=x.useState({key:"damage",dir:"desc"}),Or=!(ln!=="all"&&Vie.has(ln)),cr=Or?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Vr=Or?pt:{key:"applications",dir:pt.key==="applications"?pt.dir:"desc"},[Ar,ys]=x.useState("condiCleanse"),[wv,kv]=x.useState("healing"),[Sv,Nv]=x.useState("total"),[Cv,T]=x.useState("all"),[U,K]=x.useState("total"),[we,me]=x.useState("total"),[Ve,Ne]=x.useState("total"),[lt,mt]=x.useState("total"),[wt,Gt]=x.useState("all"),[Xt,On]=x.useState("squad"),[Xe,Ye]=x.useState("player"),[ft,Lt]=x.useState(""),[Wt,ve]=x.useState(""),[ye,Le]=x.useState(null),[Me,Ze]=x.useState([]),[le,$e]=x.useState(null),[Ge,Oe]=x.useState(null),[Qe,Qt]=x.useState("hit"),[Rt,wn]=x.useState(null),[En,Zt]=x.useState(null),[hn,de]=x.useState("hit"),[Ie,nt]=x.useState([]),[at,kt]=x.useState(null),[se,We]=x.useState(!1),ze=x.useRef(null),[rt,Bt]=x.useState("sizes"),[St,gt]=x.useState("total"),Dt=St==="perSecond",[zt,Vt]=x.useState(null),[It,Et]=x.useState("total"),[De,Je]=x.useState(null),[vt,yt]=x.useState(null),[Ht,kn]=x.useState(null),[Ir,li]=x.useState(""),[Mi,Xa]=x.useState(null),[Ec,Eo]=x.useState(null),[Oi,kl]=x.useState(null),[$m,Fm]=x.useState(""),[Rm,Bm]=x.useState("player"),[bs,Tc]=x.useState(null),[zm,Ae]=x.useState(null),[Fe,qe]=x.useState(null),{apmSpecBuckets:et}=QU(H),$t=q.playerSkillBreakdowns||[],Kn=x.useMemo(()=>{const F=new Map;return $t.forEach(G=>F.set(G.key,G)),F},[$t]),ur=x.useMemo(()=>{const F=new Map;return $t.forEach(G=>{const ge=G.profession||"Unknown";F.has(ge)||F.set(ge,{profession:ge,players:[],skills:new Map});const Re=F.get(ge);Re.players.push(G),G.skills.forEach(Ee=>{var ce;const Pe=Re.skills.get(Ee.id)||{...Ee,damage:0,downContribution:0};Pe.damage+=Number(Ee.damage||0),Pe.downContribution+=Number(Ee.downContribution||0),!Pe.icon&&Ee.icon&&(Pe.icon=Ee.icon),(ce=Pe.name)!=null&&ce.startsWith("Skill ")&&!Ee.name.startsWith("Skill ")&&(Pe.name=Ee.name),Re.skills.set(Ee.id,Pe)})}),Array.from(F.values()).map(G=>{const ge=Array.from(G.skills.values()).sort((Ee,Pe)=>Pe.damage-Ee.damage),Re=ge.reduce((Ee,Pe)=>(Ee[Pe.id]=Pe,Ee),{});return{profession:G.profession,players:G.players,skills:ge,skillMap:Re}}).sort((G,ge)=>G.profession.localeCompare(ge.profession))},[$t]),dr=Mi&&Kn.get(Mi)||null,Ea=dr&&Oi&&((AN=dr.skillMap)==null?void 0:AN[Oi])||null,ws=x.useMemo(()=>{const F=new Map;return ur.forEach(G=>F.set(G.profession,G)),F},[ur]),Ii=bs&&ws.get(bs)||null,Sl=Ii&&Fe&&((EN=Ii.skillMap)==null?void 0:EN[Fe])||null,Wr=x.useMemo(()=>{const F=Ce=>String(Ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),G=Ce=>F(Ce).toLowerCase().split(/[^a-z0-9]+/i).map(Ot=>Ot.trim()).filter(Boolean).map(Ot=>Ot.length>3&&Ot.endsWith("s")?Ot.slice(0,-1):Ot),ge=(Ce,Ot)=>{const be=F(Ce),Fn=F(Ot);if(!Fn)return be;if(!be)return Fn;const Hr=G(be),wr=G(Fn),fr=new Set(Hr),Cn=new Set(wr),$i=wr.length>0&&wr.every(Gn=>fr.has(Gn)),Tt=Hr.length>0&&Hr.every(Gn=>Cn.has(Gn));return $i||Tt?be:`${be} - ${Fn}`},Re=Ce=>{if(Ce==null||Ce==="")return 0;if(typeof Ce=="number")return!Number.isFinite(Ce)||Ce<=0?0:Ce>1e12?Ce:Ce*1e3;if(Ce instanceof Date){const fr=Ce.getTime();return Number.isFinite(fr)&&fr>0?fr:0}const Ot=String(Ce).trim();if(!Ot)return 0;const be=Number(Ot);if(Number.isFinite(be)&&be>0)return be>1e12?be:be*1e3;const Fn=Date.parse(Ot);if(Number.isFinite(Fn)&&Fn>0)return Fn;const Hr=Ot.replace(/([+-]\d{2})$/,"$1:00"),wr=Date.parse(Hr);return Number.isFinite(wr)&&wr>0?wr:0},Ee=(Ce,Ot)=>Re((Ce==null?void 0:Ce.uploadTime)??(Ot==null?void 0:Ot.uploadTime)??(Ce==null?void 0:Ce.timeStartStd)??(Ce==null?void 0:Ce.timeStart)??(Ce==null?void 0:Ce.timeEndStd)??(Ce==null?void 0:Ce.timeEnd)),Pe=q==null?void 0:q.spikeDamage,ce=Array.isArray(Pe==null?void 0:Pe.fights)?Pe.fights:[],tt=Array.isArray(Pe==null?void 0:Pe.players)?Pe.players:[],pn=ce.some(Ce=>(Ce!=null&&Ce.values&&typeof Ce.values=="object"?Object.values(Ce.values):[]).some(be=>be&&typeof be=="object"&&(Number(be.burst1s||0)>0||Number(be.burst5s||0)>0||Number(be.burst30s||0)>0)))||tt.some(Ce=>Number((Ce==null?void 0:Ce.peak1s)||0)>0||Number((Ce==null?void 0:Ce.peak5s)||0)>0||Number((Ce==null?void 0:Ce.peak30s)||0)>0);if((ce.length>0||tt.length>0)&&(pn||e.length===0)){const Ce=ce.map((be,Fn)=>{const Hr=be!=null&&be.values&&typeof be.values=="object"?be.values:{},wr={};return Object.entries(Hr).forEach(([fr,Cn])=>{if(Cn&&typeof Cn=="object"){const $i=Number(Cn.damage||0);wr[fr]={hit:Number(Cn.hit??$i),burst1s:Number(Cn.burst1s||0),burst5s:Number(Cn.burst5s||0),burst30s:Number(Cn.burst30s||0),skillName:String(Cn.skillName||""),buckets5s:Array.isArray(Cn.buckets5s)?Cn.buckets5s.map(Tt=>Number(Tt||0)):void 0,downIndices5s:Array.isArray(Cn.downIndices5s)?Cn.downIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,deathIndices5s:Array.isArray(Cn.deathIndices5s)?Cn.deathIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,skillRows:Array.isArray(Cn.skillRows)?Cn.skillRows.map(Tt=>({skillName:String((Tt==null?void 0:Tt.skillName)||(Tt==null?void 0:Tt.name)||"Unknown Skill"),damage:Number((Tt==null?void 0:Tt.damage)||0),hits:Number((Tt==null?void 0:Tt.hits)||0),icon:typeof(Tt==null?void 0:Tt.icon)=="string"?Tt.icon:void 0})).filter(Tt=>Number.isFinite(Tt.damage)&&Tt.damage>0):void 0};return}wr[fr]={hit:Number(Cn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((be==null?void 0:be.id)||`fight-${Fn+1}`),shortLabel:String((be==null?void 0:be.shortLabel)||`F${Fn+1}`),fullLabel:F((be==null?void 0:be.fullLabel)||`Fight ${Fn+1}`),timestamp:Number((be==null?void 0:be.timestamp)||0),values:wr,maxHit:Number((be==null?void 0:be.maxHit)??(be==null?void 0:be.maxDamage)??0),max1s:Number((be==null?void 0:be.max1s)||0),max5s:Number((be==null?void 0:be.max5s)||0),max30s:Number((be==null?void 0:be.max30s)||0)}}),Ot=tt.map(be=>({key:String((be==null?void 0:be.key)||""),account:String((be==null?void 0:be.account)||"Unknown"),displayName:String((be==null?void 0:be.displayName)||(be==null?void 0:be.account)||"Unknown"),characterName:String((be==null?void 0:be.characterName)||(be==null?void 0:be.name)||(be==null?void 0:be.character_name)||(be==null?void 0:be.display_name)||""),profession:String((be==null?void 0:be.profession)||"Unknown"),professionList:Array.isArray(be==null?void 0:be.professionList)?be.professionList.map(Fn=>String(Fn)):[],logs:Number((be==null?void 0:be.logs)||0),peakHit:Number((be==null?void 0:be.peakHit)||0),peak1s:Number((be==null?void 0:be.peak1s)||0),peak5s:Number((be==null?void 0:be.peak5s)||0),peak30s:Number((be==null?void 0:be.peak30s)||0),peakFightLabel:F((be==null?void 0:be.peakFightLabel)||""),peakSkillName:String((be==null?void 0:be.peakSkillName)||"")}));return{fights:Ce,players:Ot}}const Jt=(Ce,Ot)=>{const be=(Ot==null?void 0:Ot.skillMap)||{},Fn=(Ot==null?void 0:Ot.buffMap)||{};let Hr=0,wr="";const fr=Tt=>{const Gn=Number(Tt);if(!Number.isFinite(Gn))return String(Tt||"Unknown Skill");const nn=(be==null?void 0:be[`s${Gn}`])||(be==null?void 0:be[`${Gn}`]);if(nn!=null&&nn.name)return String(nn.name);const ht=(Fn==null?void 0:Fn[`b${Gn}`])||(Fn==null?void 0:Fn[`${Gn}`]);return ht!=null&&ht.name?String(ht.name):`Skill ${Gn}`},Cn=Tt=>{if(!Tt||typeof Tt!="object")return;const Gn=[Number(Tt.max),Number(Tt.maxDamage),Number(Tt.maxHit)].filter(ht=>Number.isFinite(ht)),nn=Gn.length>0?Math.max(...Gn):0;nn>Hr&&(Hr=nn,wr=fr(Tt.id))};let $i=!1;return Array.isArray(Ce==null?void 0:Ce.targetDamageDist)&&Ce.targetDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(Gn=>{Array.isArray(Gn)&&Gn.forEach(nn=>{$i=!0,Cn(nn)})})}),(!$i||Hr<=0)&&Array.isArray(Ce==null?void 0:Ce.totalDamageDist)&&Ce.totalDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(Gn=>Cn(Gn))}),{peak:Hr,skillName:wr||"Unknown Skill"}},Nt=(Ce,Ot)=>{const be=nn=>{if(!Array.isArray(nn)||nn.length===0)return[];const ht=[];for(let qt=0;qt<nn.length;qt+=1){const kr=Number(nn[qt]||0),Yn=qt>0?Number(nn[qt-1]||0):0;ht.push(Math.max(0,kr-Yn))}return ht},Fn=(nn,ht)=>{if(!Array.isArray(nn)||nn.length===0||ht<=0)return 0;let qt=0,kr=0;for(let Yn=0;Yn<nn.length;Yn+=1)qt+=Number(nn[Yn]||0),Yn>=ht&&(qt-=Number(nn[Yn-ht]||0)),Yn>=ht-1&&qt>kr&&(kr=qt);return Math.max(0,kr)},Hr=nn=>{if(!Array.isArray(nn))return[];const ht=nn.reduce((kr,Yn)=>Math.max(kr,Array.isArray(Yn)?Yn.length:0),0);if(ht<=0)return[];const qt=new Array(ht).fill(0);return nn.forEach(kr=>{if(Array.isArray(kr))for(let Yn=0;Yn<ht;Yn+=1)qt[Yn]+=Number(kr[Yn]||0)}),qt},wr=nn=>Array.isArray(nn)?nn.map(ht=>Number(ht||0)):null,Cn=(nn=>{if(!Array.isArray(nn)||nn.length===0)return null;const ht=nn[0];if(!Array.isArray(ht))return null;if(Array.isArray(ht[0])&&Array.isArray(ht[0][0]))return Hr(ht);if(Array.isArray(ht[0])&&!Array.isArray(ht[0][0])){const qt=nn.map(kr=>wr(Array.isArray(kr)?kr[0]:null)).filter(kr=>Array.isArray(kr)&&kr.length>0);if(qt.length>0)return Hr(qt)}return null})(Ce==null?void 0:Ce.targetDamage1S),$i=Array.isArray(Ce==null?void 0:Ce.damage1S)&&Array.isArray(Ce.damage1S[0])?Ce.damage1S[0]:null,Tt=Cn||(Array.isArray($i)?$i.map(nn=>Number(nn||0)):[]),Gn=be(Tt);return Fn(Gn,Ot)},en=[],st=new Map;e.forEach(Ce=>{const Ot=Ce==null?void 0:Ce.details;if(!Ot)return;const be=en.length+1,Fn=F(Ot.fightName||Ce.fightName||`Fight ${be}`),Hr=Ot.zone||Ot.mapName||Ot.map||Ot.location||"",wr=ge(Fn,String(Hr||"")),fr={};(Array.isArray(Ot.players)?Ot.players:[]).forEach(ht=>{if(ht!=null&&ht.notInSquad)return;const qt=String((ht==null?void 0:ht.account)||(ht==null?void 0:ht.name)||"Unknown"),kr=String((ht==null?void 0:ht.character_name)||(ht==null?void 0:ht.display_name)||(ht==null?void 0:ht.name)||""),Yn=String((ht==null?void 0:ht.profession)||"Unknown"),_c=`${qt}|${Yn}`,Gm=Jt(ht,Ot),Lc=Number(Gm.peak||0),$c=Number(Nt(ht,1)||0),od=Number(Nt(ht,5)||0),Al=Number(Nt(ht,30)||0);fr[_c]={hit:Lc,burst1s:$c,burst5s:od,burst30s:Al,skillName:Gm.skillName};const Sr=st.get(_c)||{key:_c,account:qt,displayName:qt,characterName:kr,profession:Yn,professionList:[Yn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Sr.logs+=1,Sr.professionList.includes(Yn)||Sr.professionList.push(Yn),!Sr.characterName&&kr&&(Sr.characterName=kr),Lc>Sr.peakHit&&(Sr.peakHit=Lc,Sr.peakFightLabel=wr,Sr.peakSkillName=Gm.skillName),$c>Sr.peak1s&&(Sr.peak1s=$c),od>Sr.peak5s&&(Sr.peak5s=od),Al>Sr.peak30s&&(Sr.peak30s=Al),st.set(_c,Sr)});const $i=Object.values(fr).reduce((ht,qt)=>Math.max(ht,Number((qt==null?void 0:qt.hit)||0)),0),Tt=Object.values(fr).reduce((ht,qt)=>Math.max(ht,Number((qt==null?void 0:qt.burst1s)||0)),0),Gn=Object.values(fr).reduce((ht,qt)=>Math.max(ht,Number((qt==null?void 0:qt.burst5s)||0)),0),nn=Object.values(fr).reduce((ht,qt)=>Math.max(ht,Number((qt==null?void 0:qt.burst30s)||0)),0);en.push({id:Ce.filePath||Ce.id||`fight-${be}`,shortLabel:`F${be}`,fullLabel:wr,timestamp:Ee(Ot,Ce),values:fr,maxHit:$i,max1s:Tt,max5s:Gn,max30s:nn})});const $n=Array.from(st.values()).sort((Ce,Ot)=>Ot.peakHit!==Ce.peakHit?Ot.peakHit-Ce.peakHit:Ce.displayName.localeCompare(Ot.displayName));return{fights:en,players:$n}},[e,q]),Un=x.useMemo(()=>{const F=ce=>String(ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),G=q==null?void 0:q.incomingStrikeDamage,ge=Array.isArray(G==null?void 0:G.fights)?G.fights:[],Re=Array.isArray(G==null?void 0:G.players)?G.players:[];if(ge.length===0&&Re.length===0)return{fights:[],players:[]};const Ee=ge.map((ce,tt)=>{const pn=ce!=null&&ce.values&&typeof ce.values=="object"?ce.values:{},ct={};return Object.entries(pn).forEach(([Jt,Nt])=>{if(Nt&&typeof Nt=="object"){const en=Number(Nt.damage||0);ct[Jt]={hit:Number(Nt.hit??en),burst1s:Number(Nt.burst1s||0),burst5s:Number(Nt.burst5s||0),burst30s:Number(Nt.burst30s||0),skillName:String(Nt.skillName||""),buckets5s:Array.isArray(Nt.buckets5s)?Nt.buckets5s.map(st=>Number(st||0)):void 0,downIndices5s:Array.isArray(Nt.downIndices5s)?Nt.downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,deathIndices5s:Array.isArray(Nt.deathIndices5s)?Nt.deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,skillRows:Array.isArray(Nt.skillRows)?Nt.skillRows.map(st=>({skillName:String((st==null?void 0:st.skillName)||(st==null?void 0:st.name)||"Unknown Skill"),damage:Number((st==null?void 0:st.damage)||0),hits:Number((st==null?void 0:st.hits)||0),icon:typeof(st==null?void 0:st.icon)=="string"?st.icon:void 0})).filter(st=>Number.isFinite(st.damage)&&st.damage>0):void 0};return}ct[Jt]={hit:Number(Nt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ce==null?void 0:ce.id)||`fight-${tt+1}`),shortLabel:String((ce==null?void 0:ce.shortLabel)||`F${tt+1}`),fullLabel:F((ce==null?void 0:ce.fullLabel)||`Fight ${tt+1}`),timestamp:Number((ce==null?void 0:ce.timestamp)||0),values:ct,maxHit:Number((ce==null?void 0:ce.maxHit)??(ce==null?void 0:ce.maxDamage)??0),max1s:Number((ce==null?void 0:ce.max1s)||0),max5s:Number((ce==null?void 0:ce.max5s)||0),max30s:Number((ce==null?void 0:ce.max30s)||0)}}),Pe=Re.map(ce=>({key:String((ce==null?void 0:ce.key)||""),account:String((ce==null?void 0:ce.account)||"Unknown"),displayName:String((ce==null?void 0:ce.displayName)||(ce==null?void 0:ce.account)||"Unknown"),characterName:String((ce==null?void 0:ce.characterName)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.character_name)||(ce==null?void 0:ce.display_name)||""),profession:String((ce==null?void 0:ce.profession)||"Unknown"),professionList:Array.isArray(ce==null?void 0:ce.professionList)?ce.professionList.map(tt=>String(tt)):[],logs:Number((ce==null?void 0:ce.logs)||0),peakHit:Number((ce==null?void 0:ce.peakHit)||0),peak1s:Number((ce==null?void 0:ce.peak1s)||0),peak5s:Number((ce==null?void 0:ce.peak5s)||0),peak30s:Number((ce==null?void 0:ce.peak30s)||0),peakFightLabel:F((ce==null?void 0:ce.peakFightLabel)||""),peakSkillName:String((ce==null?void 0:ce.peakSkillName)||"")}));return{fights:Ee,players:Pe}},[q]),To=x.useMemo(()=>{const F=new Map;return Wr.players.forEach(G=>F.set(G.key,G)),F},[Wr.players]),ad=x.useMemo(()=>{const F=Ee=>Qe==="hit"?Ee.peakHit:Qe==="1s"?Ee.peak1s:Qe==="5s"?Ee.peak5s:Ee.peak30s,G=yl.trim().toLowerCase(),ge=G?Wr.players.filter(Ee=>Ee.displayName.toLowerCase().includes(G)||Ee.account.toLowerCase().includes(G)||Ee.profession.toLowerCase().includes(G)):Wr.players,Re=new Map;return ge.forEach(Ee=>{const Pe=Ee.profession||"Unknown",ce=Re.get(Pe)||[];ce.push(Ee),Re.set(Pe,ce)}),Array.from(Re.entries()).map(([Ee,Pe])=>({profession:Ee,players:[...Pe].sort((ce,tt)=>F(tt)-F(ce)||ce.displayName.localeCompare(tt.displayName))})).sort((Ee,Pe)=>Ee.profession.localeCompare(Pe.profession))},[Wr.players,yl,Qe]),Ta=le&&To.get(le)||null,ci=x.useMemo(()=>{if(!le)return[];const F=ge=>ge?Number(Qe==="hit"?ge.hit||0:Qe==="1s"?ge.burst1s||0:Qe==="5s"?ge.burst5s||0:ge.burst30s||0):0,G=ge=>Number(Qe==="hit"?ge.maxHit||0:Qe==="1s"?ge.max1s||0:Qe==="5s"?ge.max5s||0:ge.max30s||0);return Wr.fights.map((ge,Re)=>{var Ee;return{index:Re,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:F(ge.values[le]),maxDamage:G(ge),skillName:String(((Ee=ge.values[le])==null?void 0:Ee.skillName)||"")}})},[Wr.fights,le,Qe]),Um=x.useMemo(()=>{const F=ci.reduce((ge,Re)=>Math.max(ge,Number(Re.damage||0)),0),G=ci.reduce((ge,Re)=>Math.max(ge,Number(Re.maxDamage||0)),0);return Math.max(1,F,G)},[ci]),Nl=x.useMemo(()=>{var DN,MN,ON,IN,_N,LN,$N,FN,RN;const F=Ge===null?null:ci.find(xe=>xe.index===Ge)||null;if(!F||!le)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const G=Wr.fights.find((xe,it)=>String(xe.id||"")===String(F.fightId||"")||it===F.index)||null,[ge,Re]=le.split("|"),Ee=e.find(xe=>String((xe==null?void 0:xe.filePath)||(xe==null?void 0:xe.id)||"")===String(F.fightId||"")),Pe=Ee==null?void 0:Ee.details,ce=xe=>Array.isArray(xe)?xe.map(it=>Array.isArray(it)?[Number(it[0]),Number(it[1])]:it&&typeof it=="object"?[Number(it.time),Number(it.value)]:null).filter(it=>!!it&&Number.isFinite(it[0])&&it[0]>=0):[],tt=xe=>String(xe||"").trim().toLowerCase(),pn=tt(ge),ct=tt(Re),Jt=To.get(le),Nt=new Set([tt(Jt==null?void 0:Jt.displayName),tt(Jt==null?void 0:Jt.characterName),tt(Jt==null?void 0:Jt.account)].filter(Boolean)),en=Array.isArray(Pe==null?void 0:Pe.players)&&((DN=Pe.players.map(xe=>{const it=tt(xe==null?void 0:xe.account),Yt=tt(xe==null?void 0:xe.name),Xn=tt(xe==null?void 0:xe.profession),An=!!it&&it===pn,_n=!!Yt&&(Yt===pn||Nt.has(Yt)),Yi=!!it&&Nt.has(it),Do=!ct||Xn===ct;let Za=0;return An&&(Za+=100),_n&&(Za+=90),Yi&&(Za+=80),Do&&(Za+=20),{player:xe,score:Za}}).filter(xe=>xe.score>0).sort((xe,it)=>it.score-xe.score)[0])==null?void 0:DN.player)||null,st=(()=>{const xe=en==null?void 0:en.combatReplayData;return Array.isArray(xe)?xe.filter(it=>it&&typeof it=="object"):xe&&typeof xe=="object"?[xe]:[]})(),$n=st.flatMap(xe=>ce(xe==null?void 0:xe.down).map(([it])=>it)),Ce=st.flatMap(xe=>ce(xe==null?void 0:xe.dead).map(([it])=>it)),Ot=st.map(xe=>Number(xe==null?void 0:xe.start)).filter(xe=>Number.isFinite(xe)&&xe>=0),be=Array.isArray(Pe==null?void 0:Pe.players)?Pe.players.flatMap(xe=>{const it=xe==null?void 0:xe.combatReplayData;return Array.isArray(it)?it.map(Yt=>Number(Yt==null?void 0:Yt.start)):[Number(it==null?void 0:it.start)]}).filter(xe=>Number.isFinite(xe)&&xe>=0).reduce((xe,it)=>Math.min(xe,it),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Fn=[0,Number((Pe==null?void 0:Pe.logStartOffset)||0),...Ot,Number.isFinite(be)?be:0].filter(xe=>Number.isFinite(xe)&&xe>=0),Hr=xe=>{const it=Math.max(0,Math.floor(Number(xe||0)/1e3)),Yt=Math.floor(it/5)*5;return`${Yt}s-${Yt+5}s`},wr=(xe,it)=>{if(xe.length===0||it.length===0)return[];const Yt=it.length*5e3,Xn=mr=>mr.reduce((ks,Fc)=>Fc>=0&&Fc<=Yt+2e3?ks+1:ks,0),An=[],_n=xe.map(mr=>Number(mr||0)).filter(mr=>Number.isFinite(mr)&&mr>=0);if(_n.length===0)return[];An.push(_n);const Yi=_n.reduce((mr,ks)=>Math.max(mr,ks),0),Do=_n.reduce((mr,ks)=>Math.min(mr,ks),Number.POSITIVE_INFINITY);Yi>Yt*20&&An.push(_n.map(mr=>mr/1e3)),Yi<=Yt*2&&Do>=0&&Yi>0&&Yi<Math.max(120,it.length*5+10)&&An.push(_n.map(mr=>mr*1e3));let Za=_n,BN=0,zN=-1;return An.forEach(mr=>{const ks=new Set(Fn),Fc=mr.reduce((El,Pv)=>Math.min(El,Pv),Number.POSITIVE_INFINITY);if(Number.isFinite(Fc)&&Yt>0&&Fc>Yt){const El=Math.floor(Fc/Yt)*Yt;ks.add(El),ks.add(Math.max(0,El-Yt))}ks.forEach(El=>{const Pv=mr.map(wR=>wR-El),UN=Xn(Pv);UN>zN&&(zN=UN,BN=El,Za=mr)})}),Za.map(mr=>mr-BN).filter(mr=>Number.isFinite(mr)&&mr>=0)},fr=(xe,it)=>{if(xe.length===0||it.length===0)return[];const Yt=wr(it,xe),Xn=new Map;xe.forEach(_n=>{const Yi=/^(\d+)s-/.exec(String(_n));if(!Yi)return;const Do=Number(Yi[1]);Number.isFinite(Do)&&Xn.set(Do,_n)});const An=[];return Yt.forEach(_n=>{const Yi=Math.max(0,Math.floor(Number(_n||0)/1e3)),Do=Math.floor(Yi/5)*5,Za=Xn.get(Do)||Hr(_n);xe.includes(Za)&&An.push(Za)}),Array.from(new Set(An))},Cn=(xe,it)=>{if(xe<=0||it.length===0)return[];const Yt=Array.from({length:xe},(_n,Yi)=>`${Yi*5}s-${(Yi+1)*5}s`),An=wr(it,Yt).map(_n=>Math.floor(Math.max(0,Number(_n||0))/5e3)).filter(_n=>Number.isFinite(_n)&&_n>=0&&_n<xe);return Array.from(new Set(An))},$i=Array.isArray((ON=(MN=G==null?void 0:G.values)==null?void 0:MN[le])==null?void 0:ON.buckets5s)?((_N=(IN=G==null?void 0:G.values)==null?void 0:IN[le])==null?void 0:_N.buckets5s)||[]:[],Tt=Array.isArray(($N=(LN=G==null?void 0:G.values)==null?void 0:LN[le])==null?void 0:$N.downIndices5s)?G.values[le].downIndices5s.map(xe=>Number(xe)).filter(xe=>Number.isFinite(xe)&&xe>=0):[],Gn=Array.isArray((RN=(FN=G==null?void 0:G.values)==null?void 0:FN[le])==null?void 0:RN.deathIndices5s)?G.values[le].deathIndices5s.map(xe=>Number(xe)).filter(xe=>Number.isFinite(xe)&&xe>=0):[];if($i.length>0){const xe=Math.max(0,Math.ceil(Number((Pe==null?void 0:Pe.durationMS)||0)/5e3)),it=Math.max($i.length,xe),Yt=Array.from({length:it},(An,_n)=>({label:`${_n*5}s-${(_n+1)*5}s`,value:Number($i[_n]||0)})),Xn=Yt.map(An=>An.label);return{title:`Fight Breakdown - ${F.shortLabel||"Fight"} (5s Damage Buckets)`,data:Yt,downLabels:fr(Xn,$n),deathLabels:fr(Xn,Ce),downIndices:Tt.length>0?Tt.filter(An=>An<Yt.length):Cn(Yt.length,$n),deathIndices:Gn.length>0?Gn.filter(An=>An<Yt.length):Cn(Yt.length,Ce)}}const nn=F.shortLabel||"Fight";if(!Pe||!Array.isArray(Pe.players))return{title:`Fight Breakdown - ${nn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ht=Pe.players.find(xe=>String((xe==null?void 0:xe.account)||(xe==null?void 0:xe.name)||"Unknown")===ge&&String((xe==null?void 0:xe.profession)||"Unknown")===Re);if(!ht)return{title:`Fight Breakdown - ${nn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const qt=ht,kr=xe=>{if(!Array.isArray(xe)||xe.length===0)return[];const it=[];for(let Yt=0;Yt<xe.length;Yt+=1){const Xn=Number(xe[Yt]||0),An=Yt>0?Number(xe[Yt-1]||0):0;it.push(Math.max(0,Xn-An))}return it},Yn=xe=>{if(!Array.isArray(xe))return[];const it=xe.reduce((Xn,An)=>Math.max(Xn,Array.isArray(An)?An.length:0),0);if(it<=0)return[];const Yt=new Array(it).fill(0);return xe.forEach(Xn=>{if(Array.isArray(Xn))for(let An=0;An<it;An+=1)Yt[An]+=Number(Xn[An]||0)}),Yt},_c=xe=>Array.isArray(xe)?xe.map(it=>Number(it||0)):null,Lc=(xe=>{if(!Array.isArray(xe)||xe.length===0)return null;const it=xe[0];if(!Array.isArray(it))return null;if(Array.isArray(it[0])&&Array.isArray(it[0][0]))return Yn(it);if(Array.isArray(it[0])&&!Array.isArray(it[0][0])){const Yt=xe.map(Xn=>_c(Array.isArray(Xn)?Xn[0]:null)).filter(Xn=>Array.isArray(Xn)&&Xn.length>0);if(Yt.length>0)return Yn(Yt)}return null})(qt==null?void 0:qt.targetDamage1S),$c=Array.isArray(qt==null?void 0:qt.damage1S)&&Array.isArray(qt.damage1S[0])?qt.damage1S[0]:null,od=Lc||(Array.isArray($c)?$c.map(xe=>Number(xe||0)):[]),Al=kr(od),Sr=5,xR=Math.max(0,Math.ceil(Number((Pe==null?void 0:Pe.durationMS)||0)/(Sr*1e3))),yR=Math.max(0,Math.ceil(Al.length/Sr)),bR=Math.max(xR,yR),ld=[];for(let xe=0;xe<bR;xe+=1){const it=xe*Sr,Yt=Math.min(it+Sr,Al.length),Xn=Al.slice(it,Yt).reduce((An,_n)=>An+Number(_n||0),0);ld.push({label:`${it}s-${it+Sr}s`,value:Xn})}const TN=ld.map(xe=>xe.label);return{title:`Fight Breakdown - ${nn} (5s Damage Buckets)`,data:ld,downLabels:fr(TN,$n),deathLabels:fr(TN,Ce),downIndices:Cn(ld.length,$n),deathIndices:Cn(ld.length,Ce)}},[Ge,ci,le,e,Wr.fights,To]),Dc=x.useMemo(()=>{const F=new Map;return Un.players.forEach(G=>F.set(G.key,G)),F},[Un.players]),Vm=x.useMemo(()=>{const F=Ee=>hn==="hit"?Ee.peakHit:hn==="1s"?Ee.peak1s:hn==="5s"?Ee.peak5s:Ee.peak30s,G=zs.trim().toLowerCase(),ge=G?Un.players.filter(Ee=>Ee.displayName.toLowerCase().includes(G)||Ee.account.toLowerCase().includes(G)||Ee.profession.toLowerCase().includes(G)):Un.players,Re=new Map;return ge.forEach(Ee=>{const Pe=Ee.profession||"Unknown",ce=Re.get(Pe)||[];ce.push(Ee),Re.set(Pe,ce)}),Array.from(Re.entries()).map(([Ee,Pe])=>({profession:Ee,players:[...Pe].sort((ce,tt)=>F(tt)-F(ce)||ce.displayName.localeCompare(tt.displayName))})).sort((Ee,Pe)=>Ee.profession.localeCompare(Pe.profession))},[Un.players,zs,hn]),Wm=Rt&&Dc.get(Rt)||null,da=x.useMemo(()=>{if(!Rt)return[];const F=ge=>ge?Number(hn==="hit"?ge.hit||0:hn==="1s"?ge.burst1s||0:hn==="5s"?ge.burst5s||0:ge.burst30s||0):0,G=ge=>Number(hn==="hit"?ge.maxHit||0:hn==="1s"?ge.max1s||0:hn==="5s"?ge.max5s||0:ge.max30s||0);return Un.fights.map((ge,Re)=>{var Ee;return{index:Re,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:F(ge.values[Rt]),maxDamage:G(ge),skillName:String(((Ee=ge.values[Rt])==null?void 0:Ee.skillName)||"")}})},[Un.fights,Rt,hn]),Mc=x.useMemo(()=>{const F=da.reduce((ge,Re)=>Math.max(ge,Number(Re.damage||0)),0),G=da.reduce((ge,Re)=>Math.max(ge,Number(Re.maxDamage||0)),0);return Math.max(1,F,G)},[da]),ui=x.useMemo(()=>{var Pe,ce,tt,pn,ct,Jt,Nt,en;const F=En===null?null:da.find(st=>st.index===En)||null;if(!F||!Rt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const G=Un.fights.find((st,$n)=>String(st.id||"")===String(F.fightId||"")||$n===F.index)||null,ge=Array.isArray((ce=(Pe=G==null?void 0:G.values)==null?void 0:Pe[Rt])==null?void 0:ce.buckets5s)?((pn=(tt=G==null?void 0:G.values)==null?void 0:tt[Rt])==null?void 0:pn.buckets5s)||[]:[],Re=Array.isArray((Jt=(ct=G==null?void 0:G.values)==null?void 0:ct[Rt])==null?void 0:Jt.downIndices5s)?G.values[Rt].downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[],Ee=Array.isArray((en=(Nt=G==null?void 0:G.values)==null?void 0:Nt[Rt])==null?void 0:en.deathIndices5s)?G.values[Rt].deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[];if(ge.length>0){const st=ge.map(($n,Ce)=>({label:`${Ce*5}s-${(Ce+1)*5}s`,value:Number($n||0)}));return{title:`Fight Breakdown - ${F.shortLabel||"Fight"} (5s Damage Buckets)`,data:st,downLabels:[],deathLabels:[],downIndices:Re.filter($n=>$n<st.length),deathIndices:Ee.filter($n=>$n<st.length)}}return{title:`Fight Breakdown - ${F.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[En,da,Rt,Un.fights]),Cl=x.useMemo(()=>{var Re,Ee;if(En===null||!Rt)return[];const F=da.find(Pe=>Pe.index===En);if(!F)return[];const G=Un.fights.find((Pe,ce)=>String(Pe.id||"")===String(F.fightId||"")||ce===F.index);return[...((Ee=(Re=G==null?void 0:G.values)==null?void 0:Re[Rt])==null?void 0:Ee.skillRows)||[]].filter(Pe=>Number((Pe==null?void 0:Pe.damage)||0)>0).sort((Pe,ce)=>Number(ce.damage||0)-Number(Pe.damage||0)).slice(0,30)},[En,Rt,da,Un.fights]),jl=x.useMemo(()=>{var Re,Ee;if(Ge===null||!le)return[];const F=ci.find(Pe=>Pe.index===Ge);if(!F)return[];const G=Wr.fights.find((Pe,ce)=>String(Pe.id||"")===String(F.fightId||"")||ce===F.index);return[...((Ee=(Re=G==null?void 0:G.values)==null?void 0:Re[le])==null?void 0:Ee.skillRows)||[]].filter(Pe=>Number((Pe==null?void 0:Pe.damage)||0)>0).sort((Pe,ce)=>Number(ce.damage||0)-Number(Pe.damage||0)).slice(0,30)},[Ge,le,ci,Wr.fights]);x.useEffect(()=>{if($t.length===0){Mi!==null&&Xa(null),Oi!==null&&kl(null);return}if(!Mi||!Kn.has(Mi)){const F=$t[0].key;Xa(F),Eo(null)}},[$t,Kn,Mi,Oi]),x.useEffect(()=>{if(!dr||dr.skills.length===0){Oi!==null&&kl(null);return}const F=dr.skills.some(G=>G.id===Oi);(!Oi||!F)&&kl(dr.skills[0].id)},[dr,Oi]),x.useEffect(()=>{if(ur.length===0){bs!==null&&Tc(null),Fe!==null&&qe(null);return}if(!bs||!ws.has(bs)){const F=ur[0].profession;Tc(F),Ae(null)}},[ur,ws,bs,Fe]),x.useEffect(()=>{if(!Ii||Ii.skills.length===0){Fe!==null&&qe(null);return}const F=Ii.skills.some(G=>G.id===Fe);(!Fe||!F)&&qe(Ii.skills[0].id)},[Ii,Fe]),x.useEffect(()=>{if(Wr.players.length===0){le!==null&&$e(null);return}(!le||!To.has(le))&&le!==null&&$e(null)},[Wr.players,To,le]),x.useEffect(()=>{Oe(null)},[le,Qe]),x.useEffect(()=>{if(Ge===null)return;ci.some(G=>G.index===Ge)||Oe(null)},[ci,Ge]),x.useEffect(()=>{if(Un.players.length===0){Rt!==null&&wn(null);return}(!Rt||!Dc.has(Rt))&&Rt!==null&&wn(null)},[Un.players,Dc,Rt]),x.useEffect(()=>{Zt(null)},[Rt,hn]),x.useEffect(()=>{if(En===null)return;da.some(G=>G.index===En)||Zt(null)},[da,En]);const Pl=x.useMemo(()=>new Set(Me),[Me]),{playerMapByKey:_i,playerTotalsForSkill:Oc,skillChartData:FF,skillChartMaxY:RF,groupedSkillUsagePlayers:BF}=ZU({skillUsageData:H,selectedSkillId:ye,selectedPlayers:Pl,skillUsageView:St==="perSecond"?"perSecond":"total"}),xN=x.useMemo(()=>{const F=new Map,G=Pe=>{Pe.forEach(ce=>{const tt=qc(ce==null?void 0:ce.name)||(ce==null?void 0:ce.name);tt&&ce!=null&&ce.icon&&!F.has(tt)&&F.set(tt,ce.icon)})},ge=Pe=>{Pe.forEach(ce=>{Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([tt,pn])=>{const ct=qc(tt)||tt;pn!=null&&pn.icon&&!F.has(ct)&&F.set(ct,pn.icon)})})},Re=Pe=>{const ce=new Map;return Pe.forEach(tt=>{const pn=qc(tt==null?void 0:tt.name)||(tt==null?void 0:tt.name);if(!pn)return;const ct=ce.get(pn)||{name:pn,icon:(tt==null?void 0:tt.icon)||F.get(pn)||fh(pn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};ct.applications+=Number((tt==null?void 0:tt.applications)||0),ct.damage+=Number((tt==null?void 0:tt.damage)||0),tt!=null&&tt.applicationsFromUptime&&(ct.applicationsFromUptime+=Number(tt.applicationsFromUptime||0)),tt!=null&&tt.applicationsFromBuffs&&(ct.applicationsFromBuffs+=Number(tt.applicationsFromBuffs||0)),tt!=null&&tt.applicationsFromBuffsActive&&(ct.applicationsFromBuffsActive+=Number(tt.applicationsFromBuffsActive||0)),!ct.icon&&(tt!=null&&tt.icon)&&(ct.icon=tt.icon),ct.icon||(ct.icon=fh(pn)),ce.set(pn,ct)}),Array.from(ce.values())},Ee=Pe=>Pe.map(ce=>{const tt={};return Object.entries((ce==null?void 0:ce.conditions)||{}).forEach(([pn,ct])=>{const Jt=qc(pn)||pn;if(!Jt)return;const Nt=tt[Jt]||{icon:(ct==null?void 0:ct.icon)||F.get(Jt)||fh(Jt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Nt.applications+=Number((ct==null?void 0:ct.applications)||0),Nt.damage+=Number((ct==null?void 0:ct.damage)||0),ct!=null&&ct.applicationsFromUptime&&(Nt.applicationsFromUptime+=Number(ct.applicationsFromUptime||0)),ct!=null&&ct.applicationsFromBuffs&&(Nt.applicationsFromBuffs+=Number(ct.applicationsFromBuffs||0)),ct!=null&&ct.applicationsFromBuffsActive&&(Nt.applicationsFromBuffsActive+=Number(ct.applicationsFromBuffsActive||0)),!Nt.icon&&(ct!=null&&ct.icon)&&(Nt.icon=ct.icon),Nt.icon||(Nt.icon=fh(Jt)),Object.values((ct==null?void 0:ct.skills)||{}).forEach(en=>{const st=(en==null?void 0:en.name)||"Unknown",$n=Nt.skills[st]||{name:st,hits:0,damage:0,icon:en==null?void 0:en.icon};$n.hits+=Number((en==null?void 0:en.hits)||0),$n.damage+=Number((en==null?void 0:en.damage)||0),!$n.icon&&(en!=null&&en.icon)&&($n.icon=en.icon),Nt.skills[st]=$n}),tt[Jt]=Nt}),{...ce,conditions:tt}});return(Pe,ce)=>(G(Pe),ge(ce),{summary:Re(Pe),players:Ee(ce)})},[]),yN=Us==="outgoing"?q.outgoingConditionSummary:q.incomingConditionSummary,bN=Us==="outgoing"?q.outgoingConditionPlayers:q.incomingConditionPlayers,{summary:Hm,players:zF}=x.useMemo(()=>xN(yN||[],bN||[]),[xN,yN,bN]);x.useEffect(()=>{if(ln==="all"||Hm.some(G=>G.name===ln))return;const F=qc(ln);F&&Hm.some(G=>G.name===F)?Ke(F):Ke("all")},[ln,Hm,Ke]);const UF=x.useMemo(()=>{const F={};return Oc.forEach((G,ge)=>{const Re=_i.get(ge);if(!Re)return;const Ee=Re.profession;(!F[Ee]||G>F[Ee])&&(F[Ee]=G)}),F},[Oc,_i]),In=x.useCallback(F=>d?d(F):!0,[d]),nr=x.useCallback((F,G)=>{const ge=In(F);return`${G} transition-[opacity,transform] duration-700 ease-in-out ${ge?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[In]),wN=x.useMemo(()=>Wie.find(F=>In(F))||null,[In]),rr=x.useCallback(F=>F===wN,[wN]),VF=x.useMemo(()=>{const F=new Map,G=new Map;return Me.forEach(ge=>{const Re=_i.get(ge);if(!Re)return;const Ee=Oc.get(ge)??0,Pe=G.get(Re.profession)||[];Pe.push({key:ge,total:Ee}),G.set(Re.profession,Pe)}),G.forEach(ge=>{ge.sort((Re,Ee)=>Ee.total-Re.total),ge.forEach((Re,Ee)=>{F.set(Re.key,Ee)})}),F},[Me,_i,Oc]),kN=["0","12 3","8 3","6 3","4 3","2 3"],WF=F=>{const G=_i.get(F),ge=ec((G==null?void 0:G.profession)||""),Re=Oc.get(F)??0,Ee=G!=null&&G.profession&&UF[G.profession]||1,ce=.35+(Ee>0?Re/Ee:1)*.65;return qm(ge,ce)},HF=F=>{const G=VF.get(F)??0;return kN[G%kN.length]},qF=(F,G,ge)=>{if(!ge)return WF(F);const Re=_i.get(F),Ee=ec((Re==null?void 0:Re.profession)||"");return G?qm(Ee,1.2):qm(Ee,.5)},qm=(F,G)=>{const ge=F.replace("#","");if(ge.length!==6)return F;const Re=ct=>Math.max(0,Math.min(255,ct)),Ee=ct=>Number.parseInt(ge.slice(ct,ct+2),16),Pe=ct=>Re(Math.round(ct)).toString(16).padStart(2,"0"),ce=Ee(0),tt=Ee(2),pn=Ee(4);return`#${Pe(ce*G)}${Pe(tt*G)}${Pe(pn*G)}`},SN=x.useMemo(()=>{const F=new Map;return H.skillOptions.forEach(G=>{F.set(G.id,{name:G.name,icon:G.icon})}),F},[H.skillOptions]),sd=x.useMemo(()=>{var ct;if(Me.length===0)return[];const F=new Map,G=new Map;let ge=0;Me.forEach(Jt=>{const Nt=_i.get(Jt);if(!Nt)return;ge+=Nt.totalActiveSeconds||0,Object.entries(Nt.skillTotals||{}).forEach(([st,$n])=>{F.set(st,(F.get(st)||0)+Number($n||0))});const en=Nt.profession||"Unknown";G.set(en,(G.get(en)||0)+(Nt.totalActiveSeconds||0))});const Re=Wt.trim().toLowerCase(),Ee=St==="perSecond",Pe=((ct=Array.from(G.entries()).sort((Jt,Nt)=>Nt[1]-Jt[1])[0])==null?void 0:ct[0])||"Unknown",ce=ec(Pe),tt="#64748b";return Array.from(F.entries()).map(([Jt,Nt])=>{const en=SN.get(Jt),st=(en==null?void 0:en.name)||Jt,$n=Ee&&ge>0?Nt/ge:Nt;return{skillId:Jt,name:st,icon:en==null?void 0:en.icon,total:$n}}).filter(Jt=>Jt.total>0&&(!Re||Jt.name.toLowerCase().includes(Re))).sort((Jt,Nt)=>Nt.total-Jt.total).map((Jt,Nt)=>({...Jt,color:Nt===0?ce:qm(ce,.85-Math.min(Nt*.06,.4))||tt}))},[Me,_i,Wt,St,SN]);x.useEffect(()=>{if(sd.length===0){ye!==null&&Le(null);return}(!ye||!sd.some(F=>F.skillId===ye))&&Le(sd[0].skillId)},[sd,ye,Le]);const Ic=H.skillOptions.find(F=>F.id===ye),KF=(Ic==null?void 0:Ic.name)||"",GF=(Ic==null?void 0:Ic.icon)||null,YF=W&&!!ye&&Me.length>0,Km="__all__",XF=W&&et.length>0,Vs=x.useMemo(()=>et.find(F=>F.profession===De)??null,[et,De]),QF=Ht===Km,ZF=x.useMemo(()=>{var F;return((F=Vs==null?void 0:Vs.skills)==null?void 0:F.find(G=>G.id===Ht))??null},[Vs,Ht]);x.useEffect(()=>{if(et.length===0){De!==null&&Je(null),vt!==null&&yt(null);return}if(!De||!et.some(F=>F.profession===De)){const F=et[0].profession;Je(F),yt(null)}},[et,De,vt]),x.useEffect(()=>{if(!Vs||Vs.skills.length===0){Ht!==null&&kn(null);return}const F=Vs.skills.some(G=>G.id===Ht);(!Ht||!F&&Ht!==Km)&&kn(Km)},[Vs,Ht]);const JF=F=>{Ze(G=>G.includes(F)?G.filter(ge=>ge!==F):[...G,F])},eR=F=>{Ze(G=>G.filter(ge=>ge!==F))},tR=x.useMemo(()=>{const F=cn.trim().toLowerCase(),G=q.boonTables||[];return F?G.filter(ge=>ge.name.toLowerCase().includes(F)):G},[q.boonTables,cn]),nR=x.useMemo(()=>ae?(q.boonTables||[]).find(F=>F.id===ae)??null:null,[q.boonTables,ae]),rR=x.useMemo(()=>{const F=Kt.trim().toLowerCase(),G=[...q.specialTables||[]].sort((ge,Re)=>ge.name.localeCompare(Re.name));return F?G.filter(ge=>ge.name.toLowerCase().includes(F)):G},[q.specialTables,Kt]),Qa=x.useMemo(()=>[...q.specialTables||[]].filter(G=>/\b(sigil|relic)\b/i.test(String((G==null?void 0:G.name)||""))).sort((G,ge)=>G.name.localeCompare(ge.name)),[q.specialTables]),iR=x.useMemo(()=>{const F=lr.trim().toLowerCase();return F?Qa.filter(G=>G.name.toLowerCase().includes(F)):Qa},[Qa,lr]),aR=x.useMemo(()=>Se?(q.specialTables||[]).find(F=>F.id===Se)??null:null,[q.specialTables,Se]),sR=x.useMemo(()=>mn?Qa.find(F=>F.id===mn)??null:null,[Qa,mn]);x.useEffect(()=>{!q.boonTables||q.boonTables.length===0||(!ae||!q.boonTables.some(F=>F.id===ae))&&Be(q.boonTables[0].id)},[q.boonTables,ae]),x.useEffect(()=>{!q.specialTables||q.specialTables.length===0||(!Se||!q.specialTables.some(F=>F.id===Se))&&Ft(q.specialTables[0].id)},[q.specialTables,Se]),x.useEffect(()=>{if(!Qa||Qa.length===0){mn!==null&&Ur(null);return}(!mn||!Qa.some(F=>F.id===mn))&&Ur(Qa[0].id)},[Qa,mn]),x.useEffect(()=>{const F=()=>{const ge=window.getSelection();ge&&ge.rangeCount>0&&ge.removeAllRanges()},G=ge=>{var Ee;const Re=ge.target;(Ee=Re==null?void 0:Re.closest)!=null&&Ee.call(Re,".recharts-wrapper")&&(ge.preventDefault(),F())};return document.addEventListener("selectstart",G),document.addEventListener("mousedown",G),document.addEventListener("mousemove",G),document.addEventListener("dragstart",G),()=>{document.removeEventListener("selectstart",G),document.removeEventListener("mousedown",G),document.removeEventListener("mousemove",G),document.removeEventListener("dragstart",G)}},[]);const Gi=F=>{ze.current&&(window.clearTimeout(ze.current),ze.current=null),We(!1),kt(F)},xi=()=>{at&&(ze.current&&window.clearTimeout(ze.current),We(!0),ze.current=window.setTimeout(()=>{kt(null),We(!1),ze.current=null},160))};x.useEffect(()=>{if(!at)return;const F=Re=>{Re.key==="Escape"&&xi()},G=document.body.style.overflow,ge=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F),document.body.style.overflow=G,document.documentElement.style.overflow=ge}},[at]);const NN=(F,G)=>{const ge=((G==null?void 0:G.value)||0)-((F==null?void 0:F.value)||0);return ge!==0?ge:String((F==null?void 0:F.name)||"").localeCompare(String((G==null?void 0:G.name)||""))},CN=Array.isArray(q==null?void 0:q.squadClassData)?q.squadClassData:[],jN=Array.isArray(q==null?void 0:q.enemyClassData)?q.enemyClassData:[],oR=Array.isArray(q==null?void 0:q.attendanceData)?q.attendanceData:[],jv=Array.isArray(q==null?void 0:q.squadCompByFight)?q.squadCompByFight:[],PN=Array.isArray(q==null?void 0:q.fightBreakdown)?q.fightBreakdown:[],lR=x.useMemo(()=>{const F=new Map;return PN.forEach(G=>{const ge=String((G==null?void 0:G.id)||"");ge&&F.set(ge,G)}),jv.map(G=>{const ge=F.get(String((G==null?void 0:G.id)||""))||null;return{...G,enemyClassCounts:(ge==null?void 0:ge.enemyClassCounts)||{}}})},[jv,PN]),cR=x.useMemo(()=>[...CN].sort(NN),[CN]),uR=x.useMemo(()=>[...jN].sort(NN),[jN]),dR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-6xl mx-auto overflow-hidden",fR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${at?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${at?"":"backdrop-blur-2xl"}`,mR=c&&h!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,hR=F=>St==="perSecond"?F.toFixed(1):Math.round(F).toLocaleString(),pR=F=>F.toFixed(1),gR=F=>Math.round(F).toLocaleString(),vR=F=>typeof F=="number"&&Number.isFinite(F)?F.toFixed(1):"0.0",Li=lie;return u.jsxs("div",{className:dR,children:[at&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${se?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:xi}),u.jsx(Rie,{embedded:c,dashboardTitle:f,totalLogs:q.total,onBack:t,devMockAvailable:M,devMockUploadState:J,onDevMockUpload:te,uploadingWeb:D,onWebUpload:oe,sharing:z,canShareDiscord:m,onShare:R}),u.jsx(Bie,{embedded:c,webUploadMessage:_,webUploadUrl:A,webUploadBuildStatus:$,webCopyStatus:L,setWebCopyStatus:Y}),u.jsx(zie,{embedded:c,devMockAvailable:M,devMockUploadState:J}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:k,className:`${fR} ${c?"":"flex-1"}`,style:mR,children:[u.jsxs(u.Fragment,{children:[u.jsx(Nie,{stats:q,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Cie,{stats:q,fightBreakdownTab:rt,setFightBreakdownTab:Bt,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Aie,{stats:q,showTopStats:v,showMvp:b,topStatsMode:S,expandedLeader:je,setExpandedLeader:_e,formatTopStatValue:Io,formatWithCommas:_a,isMvpStatEnabled:Q,renderProfessionIcon:Li,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Eie,{stats:q,topSkillsMetric:P,onTopSkillsMetricChange:re,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Tie,{sortedSquadClassData:cR,sortedEnemyClassData:uR,getProfessionIconPath:Hl,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Iie,{attendanceRows:oR,getProfessionIconPath:Hl,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Lie,{fights:jv,getProfessionIconPath:Hl,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Fie,{fights:lR,getProfessionIconPath:Hl,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Die,{timelineData:q.timelineData,timelineFriendlyScope:Xt,setTimelineFriendlyScope:On,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(Mie,{mapData:q.mapData,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(mie,{stats:q,OFFENSE_METRICS:aO,roundCountStats:w,offenseSearch:Ti,setOffenseSearch:vn,activeOffenseStat:ot,setActiveOffenseStat:Pt,offenseViewMode:U,setOffenseViewMode:K,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(fie,{expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs,viewMode:Rm,setViewMode:Bm,playerSkillBreakdowns:$t,classSkillBreakdowns:ur,activePlayerKey:Mi,setActivePlayerKey:Xa,expandedPlayerKey:Ec,setExpandedPlayerKey:Eo,activePlayerSkillId:Oi,setActivePlayerSkillId:kl,activeClassKey:bs,setActiveClassKey:Tc,expandedClassKey:zm,setExpandedClassKey:Ae,activeClassSkillId:Fe,setActiveClassSkillId:qe,skillSearch:$m,setSkillSearch:Fm,activePlayerBreakdown:dr,activePlayerSkill:Ea,activeClassBreakdown:Ii,activeClassSkill:Sl,renderProfessionIcon:Li}),u.jsx(HA,{expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,spikePlayerFilter:yl,setSpikePlayerFilter:bl,groupedSpikePlayers:ad,spikeMode:Qe,setSpikeMode:Qt,selectedSpikePlayerKey:le,setSelectedSpikePlayerKey:$e,selectedSpikePlayer:Ta,spikeChartData:ci,spikeChartMaxY:Um,selectedSpikeFightIndex:Ge,setSelectedSpikeFightIndex:Oe,spikeDrilldownTitle:Nl.title,spikeDrilldownData:Nl.data,spikeDrilldownDownIndices:Nl.downIndices,spikeDrilldownDeathIndices:Nl.deathIndices,spikeFightSkillRows:jl,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:_a,renderProfessionIcon:Li}),u.jsx(hie,{conditionSummary:Hm,conditionPlayers:zF,conditionSearch:Di,setConditionSearch:Ac,activeConditionName:ln,setActiveConditionName:Ke,conditionDirection:Us,setConditionDirection:X,conditionGridClass:cr,effectiveConditionSort:Vr,setConditionSort:Nn,showConditionDamage:Or,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(gie,{stats:q,DEFENSE_METRICS:sO,defenseSearch:xn,setDefenseSearch:br,activeDefenseStat:Mt,setActiveDefenseStat:an,defenseViewMode:we,setDefenseViewMode:me,roundCountStats:w,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(HA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,spikePlayerFilter:zs,setSpikePlayerFilter:wl,groupedSpikePlayers:Vm,spikeMode:hn,setSpikeMode:de,selectedSpikePlayerKey:Rt,setSelectedSpikePlayerKey:wn,selectedSpikePlayer:Wm,spikeChartData:da,spikeChartMaxY:Mc,selectedSpikeFightIndex:En,setSelectedSpikeFightIndex:Zt,spikeDrilldownTitle:ui.title,spikeDrilldownData:ui.data,spikeDrilldownDownIndices:ui.downIndices,spikeDrilldownDeathIndices:ui.deathIndices,spikeFightSkillRows:Cl,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:_a,renderProfessionIcon:Li}),u.jsx(vie,{stats:q,DAMAGE_MITIGATION_METRICS:Zz,damageMitigationSearch:un,setDamageMitigationSearch:ei,activeDamageMitigationStat:jt,setActiveDamageMitigationStat:At,damageMitigationViewMode:Ve,setDamageMitigationViewMode:Ne,damageMitigationScope:Xe,setDamageMitigationScope:Ye,roundCountStats:w,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(pie,{stats:q,activeBoonCategory:Te,setActiveBoonCategory:F=>xt(F),activeBoonMetric:on,setActiveBoonMetric:Pn,activeBoonTab:ae,setActiveBoonTab:Be,activeBoonTable:nR,filteredBoonTables:tR,boonSearch:cn,setBoonSearch:he,formatBoonMetricDisplay:kU,getBoonMetricValue:PO,renderProfessionIcon:Li,roundCountStats:w,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(xie,{stats:q,SUPPORT_METRICS:oO,supportSearch:pe,setSupportSearch:ke,activeSupportStat:Ar,setActiveSupportStat:ys,supportViewMode:lt,setSupportViewMode:mt,cleanseScope:wt,setCleanseScope:Gt,roundCountStats:w,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(yie,{stats:q,HEALING_METRICS:Jz,activeHealingMetric:wv,setActiveHealingMetric:kv,healingCategory:Sv,setHealingCategory:Nv,activeResUtilitySkill:Cv,setActiveResUtilitySkill:T,skillUsageData:H,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr}),u.jsx(wie,{stats:q,specialSearch:Kt,setSpecialSearch:gn,filteredSpecialTables:rR,activeSpecialTab:Se,setActiveSpecialTab:Ft,activeSpecialTable:aR,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(Sie,{hasSigilRelicTables:Qa.length>0,sigilRelicSearch:lr,setSigilRelicSearch:ua,filteredSigilRelicTables:iR,activeSigilRelicTab:mn,setActiveSigilRelicTab:Ur,activeSigilRelicTable:sR,formatWithCommas:_a,renderProfessionIcon:Li,expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs}),u.jsx(cie,{expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,selectedPlayers:Me,setSelectedPlayers:Ze,removeSelectedPlayer:eR,playerMapByKey:_i,groupedSkillUsagePlayers:BF,expandedSkillUsageClass:zt,setExpandedSkillUsageClass:Vt,togglePlayerSelection:JF,skillUsagePlayerFilter:ft,setSkillUsagePlayerFilter:Lt,skillUsageView:St,setSkillUsageView:gt,skillUsageData:H,skillUsageSkillFilter:Wt,setSkillUsageSkillFilter:ve,selectedSkillId:ye,setSelectedSkillId:Le,skillBarData:sd,selectedSkillName:KF,selectedSkillIcon:GF,skillUsageReady:YF,skillUsageAvailable:W,isSkillUsagePerSecond:Dt,skillChartData:FF,skillChartMaxY:RF,playerTotalsForSkill:Oc,hoveredSkillPlayer:Ie,setHoveredSkillPlayer:nt,getLineStrokeColor:qF,getLineDashForPlayer:HF,formatSkillUsageValue:hR,renderProfessionIcon:Li}),u.jsx(die,{expandedSection:at,expandedSectionClosing:se,openExpandedSection:Gi,closeExpandedSection:xi,isSectionVisible:In,isFirstVisibleSection:rr,sectionClass:nr,sidebarListClass:Cs,apmSpecAvailable:XF,skillUsageAvailable:W,apmSpecTables:et,activeApmSpec:De,setActiveApmSpec:Je,expandedApmSpec:vt,setExpandedApmSpec:yt,activeApmSkillId:Ht,setActiveApmSkillId:kn,ALL_SKILLS_KEY:Km,apmSkillSearch:Ir,setApmSkillSearch:li,activeApmSpecTable:Vs,activeApmSkill:ZF,isAllApmSkills:QF,apmView:It,setApmView:Et,formatApmValue:vR,formatCastRateValue:pR,formatCastCountValue:gR,renderProfessionIcon:Li})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),u.jsx(Uie,{embedded:c,uiTheme:h,mobileNavOpen:E,setMobileNavOpen:j,tocGroups:O,tocItems:ie,activeNavId:V,scrollToSection:Z,stepSection:B})]})}const qie="Arcane",Kie="CRT",tp="MatteSlate",np={id:qie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Gie={id:tp,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Yie=[np,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Xie={id:Kie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Cd=[...Yie,Xie,Gie];function Qie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Zie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eae={};function qA(e,t){return(eae.jsx?Jie:Zie).test(e)}const tae=/[ \t\n\f\r]/g;function nae(e){return typeof e=="object"?e.type==="text"?KA(e.value):!1:KA(e)}function KA(e){return e.replace(tae,"")===""}class Tm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Tm.prototype.normal={};Tm.prototype.property={};Tm.prototype.space=void 0;function fL(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Tm(n,r,t)}function ew(e){return e.toLowerCase()}class ca{constructor(t,n){this.attribute=n,this.property=t}}ca.prototype.attribute="";ca.prototype.booleanish=!1;ca.prototype.boolean=!1;ca.prototype.commaOrSpaceSeparated=!1;ca.prototype.commaSeparated=!1;ca.prototype.defined=!1;ca.prototype.mustUseProperty=!1;ca.prototype.number=!1;ca.prototype.overloadedBoolean=!1;ca.prototype.property="";ca.prototype.spaceSeparated=!1;ca.prototype.space=void 0;let rae=0;const rn=Cc(),Lr=Cc(),tw=Cc(),He=Cc(),Vn=Cc(),ku=Cc(),ma=Cc();function Cc(){return 2**++rae}const nw=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:Lr,commaOrSpaceSeparated:ma,commaSeparated:ku,number:He,overloadedBoolean:tw,spaceSeparated:Vn},Symbol.toStringTag,{value:"Module"})),Dx=Object.keys(nw);class MS extends ca{constructor(t,n,r,i){let a=-1;if(super(t,n),GA(this,"space",i),typeof r=="number")for(;++a<Dx.length;){const s=Dx[a];GA(this,Dx[a],(r&nw[s])===nw[s])}}}MS.prototype.defined=!0;function GA(e,t,n){n&&(e[t]=n)}function rd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new MS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ew(r)]=r,n[ew(a.attribute)]=r}return new Tm(t,n,e.space)}const mL=rd({properties:{ariaActiveDescendant:null,ariaAtomic:Lr,ariaAutoComplete:null,ariaBusy:Lr,ariaChecked:Lr,ariaColCount:He,ariaColIndex:He,ariaColSpan:He,ariaControls:Vn,ariaCurrent:null,ariaDescribedBy:Vn,ariaDetails:null,ariaDisabled:Lr,ariaDropEffect:Vn,ariaErrorMessage:null,ariaExpanded:Lr,ariaFlowTo:Vn,ariaGrabbed:Lr,ariaHasPopup:null,ariaHidden:Lr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Vn,ariaLevel:He,ariaLive:null,ariaModal:Lr,ariaMultiLine:Lr,ariaMultiSelectable:Lr,ariaOrientation:null,ariaOwns:Vn,ariaPlaceholder:null,ariaPosInSet:He,ariaPressed:Lr,ariaReadOnly:Lr,ariaRelevant:null,ariaRequired:Lr,ariaRoleDescription:Vn,ariaRowCount:He,ariaRowIndex:He,ariaRowSpan:He,ariaSelected:Lr,ariaSetSize:He,ariaSort:null,ariaValueMax:He,ariaValueMin:He,ariaValueNow:He,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function hL(e,t){return t in e?e[t]:t}function pL(e,t){return hL(e,t.toLowerCase())}const iae=rd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ku,acceptCharset:Vn,accessKey:Vn,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:Vn,autoFocus:rn,autoPlay:rn,blocking:Vn,capture:null,charSet:null,checked:rn,cite:null,className:Vn,cols:He,colSpan:null,content:null,contentEditable:Lr,controls:rn,controlsList:Vn,coords:He|ku,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:tw,draggable:Lr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:Vn,height:He,hidden:tw,high:He,href:null,hrefLang:null,htmlFor:Vn,httpEquiv:Vn,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:Vn,itemRef:Vn,itemScope:rn,itemType:Vn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:He,manifest:null,max:null,maxLength:He,media:null,method:null,min:null,minLength:He,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:He,pattern:null,ping:Vn,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:Vn,required:rn,reversed:rn,rows:He,rowSpan:He,sandbox:Vn,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:He,sizes:null,slot:null,span:He,spellCheck:Lr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:He,step:null,style:null,tabIndex:He,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:Lr,width:He,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Vn,axis:null,background:null,bgColor:null,border:He,borderColor:null,bottomMargin:He,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:He,leftMargin:He,link:null,longDesc:null,lowSrc:null,marginHeight:He,marginWidth:He,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:He,rules:null,scheme:null,scrolling:Lr,standby:null,summary:null,text:null,topMargin:He,valueType:null,version:null,vAlign:null,vLink:null,vSpace:He,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:He,security:null,unselectable:null},space:"html",transform:pL}),aae=rd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ma,accentHeight:He,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:He,amplitude:He,arabicForm:null,ascent:He,attributeName:null,attributeType:null,azimuth:He,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:He,by:null,calcMode:null,capHeight:He,className:Vn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:He,diffuseConstant:He,direction:null,display:null,dur:null,divisor:He,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:He,enableBackground:null,end:null,event:null,exponent:He,externalResourcesRequired:null,fill:null,fillOpacity:He,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ku,g2:ku,glyphName:ku,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:He,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:He,horizOriginX:He,horizOriginY:He,id:null,ideographic:He,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:He,k:He,k1:He,k2:He,k3:He,k4:He,kernelMatrix:ma,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:He,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:He,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:He,overlineThickness:He,paintOrder:null,panose1:null,path:null,pathLength:He,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Vn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:He,pointsAtY:He,pointsAtZ:He,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ma,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ma,rev:ma,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ma,requiredFeatures:ma,requiredFonts:ma,requiredFormats:ma,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:He,specularExponent:He,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:He,strikethroughThickness:He,string:null,stroke:null,strokeDashArray:ma,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:He,strokeOpacity:He,strokeWidth:null,style:null,surfaceScale:He,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ma,tabIndex:He,tableValues:null,target:null,targetX:He,targetY:He,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ma,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:He,underlineThickness:He,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:He,values:null,vAlphabetic:He,vMathematical:He,vectorEffect:null,vHanging:He,vIdeographic:He,version:null,vertAdvY:He,vertOriginX:He,vertOriginY:He,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:He,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:hL}),gL=rd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),vL=rd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pL}),xL=rd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),sae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oae=/[A-Z]/g,YA=/-[a-z]/g,lae=/^data[-\w.:]+$/i;function cae(e,t){const n=ew(t);let r=t,i=ca;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(YA,dae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!YA.test(a)){let s=a.replace(oae,uae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=MS}return new i(r,t)}function uae(e){return"-"+e.toLowerCase()}function dae(e){return e.charAt(1).toUpperCase()}const fae=fL([mL,iae,gL,vL,xL],"html"),OS=fL([mL,aae,gL,vL,xL],"svg");function mae(e){return e.join(" ").trim()}var IS={},XA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hae=/\n/g,pae=/^\s*/,gae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,vae=/^:\s*/,xae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,yae=/^[;\s]*/,bae=/^\s+|\s+$/g,wae=`
`,QA="/",ZA="*",Bl="",kae="comment",Sae="declaration";function Nae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(hae);g&&(n+=g.length);var y=p.lastIndexOf(wae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(pae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(QA!=e.charAt(0)||ZA!=e.charAt(1))){for(var g=2;Bl!=e.charAt(g)&&(ZA!=e.charAt(g)||QA!=e.charAt(g+1));)++g;if(g+=2,Bl===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:kae,comment:y})}}function h(){var p=a(),g=l(gae);if(g){if(f(),!l(vae))return o("property missing ':'");var y=l(xae),v=p({type:Sae,property:JA(g[0].replace(XA,Bl)),value:y?JA(y[0].replace(XA,Bl)):Bl});return l(yae),v}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function JA(e){return e?e.replace(bae,Bl):Bl}var Cae=Nae,jae=op&&op.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(IS,"__esModule",{value:!0});IS.default=Aae;const Pae=jae(Cae);function Aae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Pae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var lv={};Object.defineProperty(lv,"__esModule",{value:!0});lv.camelCase=void 0;var Eae=/^--[a-zA-Z0-9_-]+$/,Tae=/-([a-z])/g,Dae=/^[^-]+$/,Mae=/^-(webkit|moz|ms|o|khtml)-/,Oae=/^-(ms)-/,Iae=function(e){return!e||Dae.test(e)||Eae.test(e)},_ae=function(e,t){return t.toUpperCase()},eE=function(e,t){return"".concat(t,"-")},Lae=function(e,t){return t===void 0&&(t={}),Iae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Oae,eE):e=e.replace(Mae,eE),e.replace(Tae,_ae))};lv.camelCase=Lae;var $ae=op&&op.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Fae=$ae(IS),Rae=lv;function rw(e,t){var n={};return!e||typeof e!="string"||(0,Fae.default)(e,function(r,i){r&&i&&(n[(0,Rae.camelCase)(r,t)]=i)}),n}rw.default=rw;var Bae=rw;const zae=ps(Bae),yL=bL("end"),_S=bL("start");function bL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Uae(e){const t=_S(e),n=yL(e);if(t&&n)return{start:t,end:n}}function Yd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tE(e.position):"start"in e||"end"in e?tE(e):"line"in e||"column"in e?iw(e):""}function iw(e){return nE(e&&e.line)+":"+nE(e&&e.column)}function tE(e){return iw(e&&e.start)+"-"+iw(e&&e.end)}function nE(e){return e&&typeof e=="number"?e:1}class Ei extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Yd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ei.prototype.file="";Ei.prototype.name="";Ei.prototype.reason="";Ei.prototype.message="";Ei.prototype.stack="";Ei.prototype.column=void 0;Ei.prototype.line=void 0;Ei.prototype.ancestors=void 0;Ei.prototype.cause=void 0;Ei.prototype.fatal=void 0;Ei.prototype.place=void 0;Ei.prototype.ruleId=void 0;Ei.prototype.source=void 0;const LS={}.hasOwnProperty,Vae=new Map,Wae=/[A-Z]/g,Hae=new Set(["table","tbody","thead","tfoot","tr"]),qae=new Set(["td","th"]),wL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Kae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=tse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ese(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?OS:fae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=kL(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function kL(e,t,n){if(t.type==="element")return Gae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Yae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Qae(e,t,n);if(t.type==="mdxjsEsm")return Xae(e,t);if(t.type==="root")return Zae(e,t,n);if(t.type==="text")return Jae(e,t)}function Gae(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=OS,e.schema=i),e.ancestors.push(t);const a=NL(e,t.tagName,!1),s=nse(e,t);let o=FS(e,t);return Hae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!nae(l):!0})),SL(e,s,a,t),$S(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Yae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Vf(e,t.position)}function Xae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Vf(e,t.position)}function Qae(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=OS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:NL(e,t.name,!0),s=rse(e,t),o=FS(e,t);return SL(e,s,a,t),$S(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Zae(e,t,n){const r={};return $S(r,FS(e,t)),e.create(t,e.Fragment,r,n)}function Jae(e,t){return t.value}function SL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function $S(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ese(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function tse(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=_S(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function nse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&LS.call(t.properties,i)){const a=ise(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&qae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function rse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Vf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Vf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function FS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Vae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=kL(e,a,s);o!==void 0&&n.push(o)}return n}function ise(e,t,n){const r=cae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Qie(n):mae(n)),r.property==="style"){let i=typeof n=="object"?n:ase(e,String(n));return e.stylePropertyNameCase==="css"&&(i=sse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?sae[r.property]||r.property:r.attribute,n]}}function ase(e,t){try{return zae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ei("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=wL+"#cannot-parse-style-attribute",i}}function NL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=qA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=qA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return LS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Vf(e)}function Vf(e,t){const n=new Ei("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=wL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sse(e){const t={};let n;for(n in e)LS.call(e,n)&&(t[ose(n)]=e[n]);return t}function ose(e){let t=e.replace(Wae,lse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lse(e){return"-"+e.toLowerCase()}const Mx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cse={};function RS(e,t){const n=cse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return CL(e,r,i)}function CL(e,t,n){if(use(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rE(e.children,t,n)}return Array.isArray(e)?rE(e,t,n):""}function rE(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=CL(e[i],t,n);return r.join("")}function use(e){return!!(e&&typeof e=="object")}const iE=document.createElement("i");function BS(e){const t="&"+e+";";iE.innerHTML=t;const n=iE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ka(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ba(e,t){return e.length>0?(ka(e,e.length,0,t),e):t}const aE={}.hasOwnProperty;function jL(e){const t={};let n=-1;for(;++n<e.length;)dse(t,e[n]);return t}function dse(e,t){let n;for(n in t){const i=(aE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){aE.call(i,s)||(i[s]=[]);const o=a[s];fse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function fse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ka(e,0,0,r)}function PL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function cs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bi=vl(/[A-Za-z]/),Pi=vl(/[\dA-Za-z]/),mse=vl(/[#-'*+\--9=?A-Z^-~]/);function Dg(e){return e!==null&&(e<32||e===127)}const aw=vl(/\d/),hse=vl(/[\dA-Fa-f]/),pse=vl(/[!-/:-@[-`{-~]/);function _t(e){return e!==null&&e<-2}function Bn(e){return e!==null&&(e<0||e===32)}function dn(e){return e===-2||e===-1||e===32}const cv=vl(new RegExp("\\p{P}|\\p{S}","u")),bc=vl(/\s/);function vl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function id(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Pi(e.charCodeAt(n+1))&&Pi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function yn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return dn(l)?(e.enter(n),o(l)):t(l)}function o(l){return dn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const gse={tokenize:vse};function vse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),yn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return _t(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const xse={tokenize:yse},sE={tokenize:bse};function yse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}v(r);let P=S;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return ka(t.events,C+1,0,t.events.slice(S)),t.events.length=P,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sE,d,f)(w)}function d(w){return i&&b(),v(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(sE,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return _t(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const P=t.events.length;let D=P,_,A;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(_){A=t.events[D][1].end;break}_=!0}for(v(r),N=P;N<t.events.length;)t.events[N][1].end={...A},N++;ka(t.events,D+1,0,t.events.slice(P)),t.events.length=N}}function v(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bse(e,t,n){return yn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zu(e){if(e===null||Bn(e)||bc(e))return 1;if(cv(e))return 2}function uv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const sw={name:"attention",resolveAll:wse,tokenize:kse};function wse(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};oE(f,-l),oE(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ba(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ba(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ba(c,uv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ba(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ba(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ka(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function kse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=zu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function oE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Sse={name:"autolink",tokenize:Nse};function Nse(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Bi(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Pi(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Pi(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Dg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):mse(m)?(e.consume(m),c):n(m)}function d(m){return Pi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Pi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Dm={partial:!0,tokenize:Cse};function Cse(e,t,n){return r;function r(a){return dn(a)?yn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||_t(a)?t(a):n(a)}}const AL={continuation:{tokenize:Pse},exit:Ase,name:"blockQuote",tokenize:jse};function jse(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return dn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Pse(e,t,n){const r=this;return i;function i(s){return dn(s)?yn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(AL,t,n)(s)}}function Ase(e){e.exit("blockQuote")}const EL={name:"characterEscape",tokenize:Ese};function Ese(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return pse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const TL={name:"characterReference",tokenize:Tse};function Tse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Pi,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=hse,d):(e.enter("characterReferenceValue"),a=7,s=aw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Pi&&!BS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const lE={partial:!0,tokenize:Mse},cE={concrete:!0,name:"codeFenced",tokenize:Dse};function Dse(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),dn(N)?yn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||_t(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(lE,g,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||_t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):dn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||_t(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||_t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,S,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return a>0&&dn(N)?yn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||_t(N)?e.check(lE,g,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||_t(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,P,D){let _=0;return A;function A(ue){return N.enter("lineEnding"),N.consume(ue),N.exit("lineEnding"),$}function $(ue){return N.enter("codeFencedFence"),dn(ue)?yn(N,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):M(ue)}function M(ue){return ue===o?(N.enter("codeFencedFenceSequence"),ee(ue)):D(ue)}function ee(ue){return ue===o?(_++,N.consume(ue),ee):_>=s?(N.exit("codeFencedFenceSequence"),dn(ue)?yn(N,ne,"whitespace")(ue):ne(ue)):D(ue)}function ne(ue){return ue===null||_t(ue)?(N.exit("codeFencedFence"),P(ue)):D(ue)}}}function Mse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Ox={name:"codeIndented",tokenize:Ise},Ose={partial:!0,tokenize:_se};function Ise(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),yn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):_t(c)?e.attempt(Ose,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||_t(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function _se(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):_t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):yn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):_t(s)?i(s):n(s)}}const Lse={name:"codeText",previous:Fse,resolve:$se,tokenize:Rse};function $se(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Fse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):_t(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||_t(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Bse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jd(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);jd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jd(this.left,n.reverse())}}}function jd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function DL(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Bse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return ka(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function zse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const v=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Use={resolve:Wse,tokenize:Hse},Vse={partial:!0,tokenize:qse};function Wse(e){return DL(e),e}function Hse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):_t(o)?e.check(Vse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),yn(e,a,"linePrefix")}function a(s){if(s===null||_t(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function ML(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||Dg(v)?n(v):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||_t(v)?n(v):(e.consume(v),v===92?p:m)}function p(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function g(v){return!d&&(v===null||v===41||Bn(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(v)):d<c&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||Dg(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function OL(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):_t(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||_t(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!dn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function IL(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):_t(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),yn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||_t(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Xd(e,t){let n;return r;function r(i){return _t(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):dn(i)?yn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Kse={name:"definition",tokenize:Yse},Gse={partial:!0,tokenize:Xse};function Yse(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return OL.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=cs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Bn(m)?Xd(e,c)(m):c(m)}function c(m){return ML(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Gse,f,f)(m)}function f(m){return dn(m)?yn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||_t(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Xse(e,t,n){return r;function r(o){return Bn(o)?Xd(e,i)(o):n(o)}function i(o){return IL(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return dn(o)?yn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||_t(o)?t(o):n(o)}}const Qse={name:"hardBreakEscape",tokenize:Zse};function Zse(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return _t(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Jse={name:"headingAtx",resolve:eoe,tokenize:toe};function eoe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ka(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function toe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Bn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||_t(d)?(e.exit("atxHeading"),t(d)):dn(d)?yn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Bn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const noe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uE=["pre","script","style","textarea"],roe={concrete:!0,name:"htmlFlow",resolveTo:soe,tokenize:ooe},ioe={partial:!0,tokenize:coe},aoe={partial:!0,tokenize:loe};function soe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ooe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:E):Bi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Bi(k)?(e.consume(k),i=4,r.interrupt?t:E):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:E):n(k)}function p(k){const O="CDATA[";return k===O.charCodeAt(o++)?(e.consume(k),o===O.length?r.interrupt?t:M:p):n(k)}function g(k){return Bi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Bn(k)){const O=k===47,ie=s.toLowerCase();return!O&&!a&&uE.includes(ie)?(i=1,r.interrupt?t(k):M(k)):noe.includes(s.toLowerCase())?(i=6,O?(e.consume(k),v):r.interrupt?t(k):M(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?b(k):w(k))}return k===45||Pi(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function v(k){return k===62?(e.consume(k),r.interrupt?t:M):n(k)}function b(k){return dn(k)?(e.consume(k),b):A(k)}function w(k){return k===47?(e.consume(k),A):k===58||k===95||Bi(k)?(e.consume(k),S):dn(k)?(e.consume(k),w):A(k)}function S(k){return k===45||k===46||k===58||k===95||Pi(k)?(e.consume(k),S):C(k)}function C(k){return k===61?(e.consume(k),N):dn(k)?(e.consume(k),C):w(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,P):dn(k)?(e.consume(k),N):D(k)}function P(k){return k===l?(e.consume(k),l=null,_):k===null||_t(k)?n(k):(e.consume(k),P)}function D(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Bn(k)?C(k):(e.consume(k),D)}function _(k){return k===47||k===62||dn(k)?w(k):n(k)}function A(k){return k===62?(e.consume(k),$):n(k)}function $(k){return k===null||_t(k)?M(k):dn(k)?(e.consume(k),$):n(k)}function M(k){return k===45&&i===2?(e.consume(k),q):k===60&&i===1?(e.consume(k),H):k===62&&i===4?(e.consume(k),j):k===63&&i===3?(e.consume(k),E):k===93&&i===5?(e.consume(k),re):_t(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ioe,V,ee)(k)):k===null||_t(k)?(e.exit("htmlFlowData"),ee(k)):(e.consume(k),M)}function ee(k){return e.check(aoe,ne,V)(k)}function ne(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ue}function ue(k){return k===null||_t(k)?ee(k):(e.enter("htmlFlowData"),M(k))}function q(k){return k===45?(e.consume(k),E):M(k)}function H(k){return k===47?(e.consume(k),s="",W):M(k)}function W(k){if(k===62){const O=s.toLowerCase();return uE.includes(O)?(e.consume(k),j):M(k)}return Bi(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),W):M(k)}function re(k){return k===93?(e.consume(k),E):M(k)}function E(k){return k===62?(e.consume(k),j):k===45&&i===2?(e.consume(k),E):M(k)}function j(k){return k===null||_t(k)?(e.exit("htmlFlowData"),V(k)):(e.consume(k),j)}function V(k){return e.exit("htmlFlow"),t(k)}}function loe(e,t,n){const r=this;return i;function i(s){return _t(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function coe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Dm,t,n)}}const uoe={name:"htmlText",tokenize:doe};function doe(e,t,n){const r=this;let i,a,s;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),c):E===47?(e.consume(E),C):E===63?(e.consume(E),w):Bi(E)?(e.consume(E),D):n(E)}function c(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),a=0,p):Bi(E)?(e.consume(E),b):n(E)}function d(E){return E===45?(e.consume(E),m):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),h):_t(E)?(s=f,H(E)):(e.consume(E),f)}function h(E){return E===45?(e.consume(E),m):f(E)}function m(E){return E===62?q(E):E===45?h(E):f(E)}function p(E){const j="CDATA[";return E===j.charCodeAt(a++)?(e.consume(E),a===j.length?g:p):n(E)}function g(E){return E===null?n(E):E===93?(e.consume(E),y):_t(E)?(s=g,H(E)):(e.consume(E),g)}function y(E){return E===93?(e.consume(E),v):g(E)}function v(E){return E===62?q(E):E===93?(e.consume(E),v):g(E)}function b(E){return E===null||E===62?q(E):_t(E)?(s=b,H(E)):(e.consume(E),b)}function w(E){return E===null?n(E):E===63?(e.consume(E),S):_t(E)?(s=w,H(E)):(e.consume(E),w)}function S(E){return E===62?q(E):w(E)}function C(E){return Bi(E)?(e.consume(E),N):n(E)}function N(E){return E===45||Pi(E)?(e.consume(E),N):P(E)}function P(E){return _t(E)?(s=P,H(E)):dn(E)?(e.consume(E),P):q(E)}function D(E){return E===45||Pi(E)?(e.consume(E),D):E===47||E===62||Bn(E)?_(E):n(E)}function _(E){return E===47?(e.consume(E),q):E===58||E===95||Bi(E)?(e.consume(E),A):_t(E)?(s=_,H(E)):dn(E)?(e.consume(E),_):q(E)}function A(E){return E===45||E===46||E===58||E===95||Pi(E)?(e.consume(E),A):$(E)}function $(E){return E===61?(e.consume(E),M):_t(E)?(s=$,H(E)):dn(E)?(e.consume(E),$):_(E)}function M(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,ee):_t(E)?(s=M,H(E)):dn(E)?(e.consume(E),M):(e.consume(E),ne)}function ee(E){return E===i?(e.consume(E),i=void 0,ue):E===null?n(E):_t(E)?(s=ee,H(E)):(e.consume(E),ee)}function ne(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Bn(E)?_(E):(e.consume(E),ne)}function ue(E){return E===47||E===62||Bn(E)?_(E):n(E)}function q(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function H(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),W}function W(E){return dn(E)?yn(e,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):re(E)}function re(E){return e.enter("htmlTextData"),s(E)}}const zS={name:"labelEnd",resolveAll:poe,resolveTo:goe,tokenize:voe},foe={tokenize:xoe},moe={tokenize:yoe},hoe={tokenize:boe};function poe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ka(e,0,e.length,n),e}function goe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ba(o,e.slice(a+1,a+r+3)),o=Ba(o,[["enter",d,t]]),o=Ba(o,uv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ba(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=Ba(o,e.slice(s+1)),o=Ba(o,[["exit",l,t]]),ka(e,a,e.length,o),e}function voe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(cs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(foe,d,s?d:f)(h):h===91?e.attempt(moe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(hoe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function xoe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Bn(f)?Xd(e,a)(f):a(f)}function a(f){return f===41?d(f):ML(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Bn(f)?Xd(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?IL(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Bn(f)?Xd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function yoe(e,t,n){const r=this;return i;function i(o){return OL.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(cs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function boe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const woe={name:"labelStartImage",resolveAll:zS.resolveAll,tokenize:koe};function koe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Soe={name:"labelStartLink",resolveAll:zS.resolveAll,tokenize:Noe};function Noe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ix={name:"lineEnding",tokenize:Coe};function Coe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yn(e,t,"linePrefix")}}const rp={name:"thematicBreak",tokenize:joe};function joe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||_t(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),dn(c)?yn(e,o,"whitespace")(c):o(c))}}const Qi={continuation:{tokenize:Toe},exit:Moe,name:"list",tokenize:Eoe},Poe={partial:!0,tokenize:Ooe},Aoe={partial:!0,tokenize:Doe};function Eoe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:aw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(rp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return aw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Dm,r.interrupt?n:d,e.attempt(Poe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return dn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Toe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Dm,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!dn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Aoe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,yn(e,e.attempt(Qi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Doe(e,t,n){const r=this;return yn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Moe(e){e.exit(this.containerState.type)}function Ooe(e,t,n){const r=this;return yn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!dn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const dE={name:"setextUnderline",resolveTo:Ioe,tokenize:_oe};function Ioe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function _oe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),dn(c)?yn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||_t(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Loe={tokenize:$oe};function $oe(e){const t=this,n=e.attempt(Dm,r,e.attempt(this.parser.constructs.flowInitial,i,yn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Use,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Foe={resolveAll:LL()},Roe=_L("string"),Boe=_L("text");function _L(e){return{resolveAll:LL(e==="text"?zoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function LL(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function zoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Uoe={42:Qi,43:Qi,45:Qi,48:Qi,49:Qi,50:Qi,51:Qi,52:Qi,53:Qi,54:Qi,55:Qi,56:Qi,57:Qi,62:AL},Voe={91:Kse},Woe={[-2]:Ox,[-1]:Ox,32:Ox},Hoe={35:Jse,42:rp,45:[dE,rp],60:roe,61:dE,95:rp,96:cE,126:cE},qoe={38:TL,92:EL},Koe={[-5]:Ix,[-4]:Ix,[-3]:Ix,33:woe,38:TL,42:sw,60:[Sse,uoe],91:Soe,92:[Qse,EL],93:zS,95:sw,96:Lse},Goe={null:[sw,Foe]},Yoe={null:[42,95]},Xoe={null:[]},Qoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yoe,contentInitial:Voe,disable:Xoe,document:Uoe,flow:Hoe,flowInitial:Woe,insideSpan:Goe,string:qoe,text:Koe},Symbol.toStringTag,{value:"Module"}));function Zoe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:P(C),check:P(N),consume:b,enter:w,exit:S,interrupt:P(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f($){return s=Ba(s,$),y(),s[s.length-1]!==null?[]:(D(t,0),c.events=uv(a,c.events,c),c.events)}function h($,M){return ele(m($),M)}function m($){return Joe(s,$)}function p(){const{_bufferIndex:$,_index:M,line:ee,column:ne,offset:ue}=r;return{_bufferIndex:$,_index:M,line:ee,column:ne,offset:ue}}function g($){i[$.line]=$.column,A()}function y(){let $;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<M.length;)v(M.charCodeAt(r._bufferIndex));else v(M)}}function v($){d=d($)}function b($){_t($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,A()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=$}function w($,M){const ee=M||{};return ee.type=$,ee.start=p(),c.events.push(["enter",ee,c]),o.push(ee),ee}function S($){const M=o.pop();return M.end=p(),c.events.push(["exit",M,c]),M}function C($,M){D($,M.from)}function N($,M){M.restore()}function P($,M){return ee;function ee(ne,ue,q){let H,W,re,E;return Array.isArray(ne)?V(ne):"tokenize"in ne?V([ne]):j(ne);function j(Z){return B;function B(J){const L=J!==null&&Z[J],Y=J!==null&&Z.null,oe=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(Y)?Y:Y?[Y]:[]];return V(oe)(J)}}function V(Z){return H=Z,W=0,Z.length===0?q:k(Z[W])}function k(Z){return B;function B(J){return E=_(),re=Z,Z.partial||(c.currentConstruct=Z),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?ie():Z.tokenize.call(M?Object.assign(Object.create(c),M):c,l,O,ie)(J)}}function O(Z){return $(re,E),ue}function ie(Z){return E.restore(),++W<H.length?k(H[W]):q}}}function D($,M){$.resolveAll&&!a.includes($)&&a.push($),$.resolve&&ka(c.events,M,c.events.length-M,$.resolve(c.events.slice(M),c)),$.resolveTo&&(c.events=$.resolveTo(c.events,c))}function _(){const $=p(),M=c.previous,ee=c.currentConstruct,ne=c.events.length,ue=Array.from(o);return{from:ne,restore:q};function q(){r=$,c.previous=M,c.currentConstruct=ee,c.events.length=ne,o=ue,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Joe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function ele(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function tle(e){const r={constructs:jL([Qoe,...(e||{}).extensions||[]]),content:i(gse),defined:[],document:i(xse),flow:i(Loe),lazy:{},string:i(Roe),text:i(Boe)};return r;function i(a){return s;function s(o){return Zoe(r,a,o)}}}function nle(e){for(;!DL(e););return e}const fE=/[\0\t\n\r]/g;function rle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(fE.lastIndex=f,c=fE.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ile=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ale(e){return e.replace(ile,sle)}function sle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return PL(n.slice(a?2:1),a?16:10)}return BS(n)||e}const $L={}.hasOwnProperty;function ole(e,t,n){return typeof t!="string"&&(n=t,t=void 0),lle(n)(nle(tle(n).document().write(rle()(e,t,!0))))}function lle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ae),autolinkProtocol:_,autolinkEmail:_,atxHeading:a(I),blockQuote:a(Y),characterEscape:_,characterReference:_,codeFenced:a(oe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(oe,s),codeText:a(te,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(R),hardBreakEscape:a(Q),hardBreakTrailing:a(Q),htmlFlow:a(je,s),htmlFlowData:_,htmlText:a(je,s),htmlTextData:_,image:a(_e),label:s,link:a(ae),listItem:a(Te),listItemValue:h,listOrdered:a(Be,f),listUnordered:a(Be),paragraph:a(xt),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(I),strong:a(on),thematicBreak:a(cn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:L,autolinkProtocol:J,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:ie,characterReferenceMarkerNumeric:ie,characterReferenceValue:Z,characterReference:B,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:l(v),codeText:l(ue),codeTextData:A,data:A,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(ee),htmlFlowData:A,htmlText:l(ne),htmlTextData:A,image:l(H),label:re,labelText:W,lineEnding:$,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:O,resourceDestinationString:E,resourceTitleString:j,resource:V,setextHeading:l(D),setextHeadingLineSequence:P,setextHeadingText:N,strong:l(),thematicBreak:l()}};FL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Se={type:"root",children:[]};const Ft={stack:[Se],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Kt=[];let gn=-1;for(;++gn<he.length;)if(he[gn][1].type==="listOrdered"||he[gn][1].type==="listUnordered")if(he[gn][0]==="enter")Kt.push(gn);else{const mn=Kt.pop();gn=i(he,mn,gn)}for(gn=-1;++gn<he.length;){const mn=t[he[gn][0]];$L.call(mn,he[gn][1].type)&&mn[he[gn][1].type].call(Object.assign({sliceSerialize:he[gn][2].sliceSerialize},Ft),he[gn][1])}if(Ft.tokenStack.length>0){const mn=Ft.tokenStack[Ft.tokenStack.length-1];(mn[1]||mE).call(Ft,void 0,mn[0])}for(Se.position={start:Oo(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:Oo(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},gn=-1;++gn<t.transforms.length;)Se=t.transforms[gn](Se)||Se;return Se}function i(he,Se,Ft){let Kt=Se-1,gn=-1,mn=!1,Ur,lr,ua,Ti;for(;++Kt<=Ft;){const vn=he[Kt];switch(vn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vn[0]==="enter"?gn++:gn--,Ti=void 0;break}case"lineEndingBlank":{vn[0]==="enter"&&(Ur&&!Ti&&!gn&&!ua&&(ua=Kt),Ti=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ti=void 0}if(!gn&&vn[0]==="enter"&&vn[1].type==="listItemPrefix"||gn===-1&&vn[0]==="exit"&&(vn[1].type==="listUnordered"||vn[1].type==="listOrdered")){if(Ur){let xn=Kt;for(lr=void 0;xn--;){const br=he[xn];if(br[1].type==="lineEnding"||br[1].type==="lineEndingBlank"){if(br[0]==="exit")continue;lr&&(he[lr][1].type="lineEndingBlank",mn=!0),br[1].type="lineEnding",lr=xn}else if(!(br[1].type==="linePrefix"||br[1].type==="blockQuotePrefix"||br[1].type==="blockQuotePrefixWhitespace"||br[1].type==="blockQuoteMarker"||br[1].type==="listItemIndent"))break}ua&&(!lr||ua<lr)&&(Ur._spread=!0),Ur.end=Object.assign({},lr?he[lr][1].start:vn[1].end),he.splice(lr||Kt,0,["exit",Ur,vn[2]]),Kt++,Ft++}if(vn[1].type==="listItemPrefix"){const xn={type:"listItem",_spread:!1,start:Object.assign({},vn[1].start),end:void 0};Ur=xn,he.splice(Kt,0,["enter",xn,vn[2]]),Kt++,Ft++,ua=void 0,Ti=!0}}}return he[Se][1]._spread=mn,Ft}function a(he,Se){return Ft;function Ft(Kt){o.call(this,he(Kt),Kt),Se&&Se.call(this,Kt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(he,Se,Ft){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Se,Ft||void 0]),he.position={start:Oo(Se.start),end:void 0}}function l(he){return Se;function Se(Ft){he&&he.call(this,Ft),c.call(this,Ft)}}function c(he,Se){const Ft=this.stack.pop(),Kt=this.tokenStack.pop();if(Kt)Kt[0].type!==he.type&&(Se?Se.call(this,he,Kt[0]):(Kt[1]||mE).call(this,he,Kt[0]));else throw new Error("Cannot close `"+he.type+"` ("+Yd({start:he.start,end:he.end})+"): its not open");Ft.position.end=Oo(he.end)}function d(){return RS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(he){if(this.data.expectingFirstListItemValue){const Se=this.stack[this.stack.length-2];Se.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function m(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.lang=he}function p(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.meta=he}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he.replace(/(\r?\n|\r)$/g,"")}function b(he){const Se=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=Se,Ft.identifier=cs(this.sliceSerialize(he)).toLowerCase()}function w(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.title=he}function S(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.url=he}function C(he){const Se=this.stack[this.stack.length-1];if(!Se.depth){const Ft=this.sliceSerialize(he).length;Se.depth=Ft}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(he){const Se=this.stack[this.stack.length-1];Se.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function _(he){const Ft=this.stack[this.stack.length-1].children;let Kt=Ft[Ft.length-1];(!Kt||Kt.type!=="text")&&(Kt=Pn(),Kt.position={start:Oo(he.start),end:void 0},Ft.push(Kt)),this.stack.push(Kt)}function A(he){const Se=this.stack.pop();Se.value+=this.sliceSerialize(he),Se.position.end=Oo(he.end)}function $(he){const Se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=Se.children[Se.children.length-1];Ft.position.end=Oo(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Se.type)&&(_.call(this,he),A.call(this,he))}function M(){this.data.atHardBreak=!0}function ee(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function ne(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function ue(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.value=he}function q(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Se,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function H(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Se=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Se,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function W(he){const Se=this.sliceSerialize(he),Ft=this.stack[this.stack.length-2];Ft.label=ale(Se),Ft.identifier=cs(Se).toLowerCase()}function re(){const he=this.stack[this.stack.length-1],Se=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const Kt=he.children;Ft.children=Kt}else Ft.alt=Se}function E(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.url=he}function j(){const he=this.resume(),Se=this.stack[this.stack.length-1];Se.title=he}function V(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function O(he){const Se=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=Se,Ft.identifier=cs(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function ie(he){this.data.characterReferenceType=he.type}function Z(he){const Se=this.sliceSerialize(he),Ft=this.data.characterReferenceType;let Kt;Ft?(Kt=PL(Se,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Kt=BS(Se);const gn=this.stack[this.stack.length-1];gn.value+=Kt}function B(he){const Se=this.stack.pop();Se.position.end=Oo(he.end)}function J(he){A.call(this,he);const Se=this.stack[this.stack.length-1];Se.url=this.sliceSerialize(he)}function L(he){A.call(this,he);const Se=this.stack[this.stack.length-1];Se.url="mailto:"+this.sliceSerialize(he)}function Y(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function te(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function R(){return{type:"emphasis",children:[]}}function I(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function je(){return{type:"html",value:""}}function _e(){return{type:"image",title:null,url:"",alt:null}}function ae(){return{type:"link",title:null,url:"",children:[]}}function Be(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Te(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function xt(){return{type:"paragraph",children:[]}}function on(){return{type:"strong",children:[]}}function Pn(){return{type:"text",value:""}}function cn(){return{type:"thematicBreak"}}}function Oo(e){return{line:e.line,column:e.column,offset:e.offset}}function FL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?FL(e,r):cle(e,r)}}function cle(e,t){let n;for(n in t)if($L.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function mE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yd({start:t.start,end:t.end})+") is still open")}function ule(e){const t=this;t.parser=n;function n(r){return ole(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function mle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function hle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ple(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=id(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function vle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function RL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function yle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return RL(e,t);const i={src:id(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function ble(e,t){const n={src:id(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function wle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function kle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return RL(e,t);const i={href:id(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Sle(e,t){const n={href:id(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Nle(e,t,n){const r=e.all(t),i=n?Cle(n):BL(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Cle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=BL(n[r])}return t}function BL(e){const t=e.spread;return t??e.children.length>1}function jle(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Ple(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ale(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ele(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=_S(t.children[1]),l=yL(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Dle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Mle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const hE=9,pE=32;function Ole(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(gE(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(gE(t.slice(i),i>0,!1)),a.join("")}function gE(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===hE||a===pE;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===hE||a===pE;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ile(e,t){const n={type:"text",value:Ole(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function _le(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Lle={blockquote:dle,break:fle,code:mle,delete:hle,emphasis:ple,footnoteReference:gle,heading:vle,html:xle,imageReference:yle,image:ble,inlineCode:wle,linkReference:kle,link:Sle,listItem:Nle,list:jle,paragraph:Ple,root:Ale,strong:Ele,table:Tle,tableCell:Mle,tableRow:Dle,text:Ile,thematicBreak:_le,toml:Eh,yaml:Eh,definition:Eh,footnoteDefinition:Eh};function Eh(){}const zL=-1,dv=0,Qd=1,Mg=2,US=3,VS=4,WS=5,HS=6,UL=7,VL=8,vE=typeof self=="object"?self:globalThis,$le=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case dv:case zL:return n(s,i);case Qd:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Mg:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case US:return n(new Date(s),i);case VS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case WS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case HS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case UL:{const{name:o,message:l}=s;return n(new vE[o](l),i)}case VL:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new vE[a](s),i)};return r},xE=e=>$le(new Map,e)(0),Hc="",{toString:Fle}={},{keys:Rle}=Object,Pd=e=>{const t=typeof e;if(t!=="object"||!e)return[dv,t];const n=Fle.call(e).slice(8,-1);switch(n){case"Array":return[Qd,Hc];case"Object":return[Mg,Hc];case"Date":return[US,Hc];case"RegExp":return[VS,Hc];case"Map":return[WS,Hc];case"Set":return[HS,Hc];case"DataView":return[Qd,n]}return n.includes("Array")?[Qd,n]:n.includes("Error")?[UL,n]:[Mg,n]},Th=([e,t])=>e===dv&&(t==="function"||t==="symbol"),Ble=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Pd(s);switch(o){case dv:{let d=s;switch(l){case"bigint":o=VL,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([zL],s)}return i([o,d],s)}case Qd:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case Mg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Rle(s))(e||!Th(Pd(s[h])))&&d.push([a(h),a(s[h])]);return f}case US:return i([o,s.toISOString()],s);case VS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case WS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Th(Pd(h))||Th(Pd(m))))&&d.push([a(h),a(m)]);return f}case HS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Th(Pd(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},yE=(e,{json:t,lossy:n}={})=>{const r=[];return Ble(!(t||n),!!t,new Map,r)(e),r},Og=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?xE(yE(e,t)):structuredClone(e):(e,t)=>xE(yE(e,t));function zle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ule(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Vle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zle,r=e.options.footnoteBackLabel||Ule,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=id(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Og(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const fv=function(e){if(e==null)return Kle;if(typeof e=="function")return mv(e);if(typeof e=="object")return Array.isArray(e)?Wle(e):Hle(e);if(typeof e=="string")return qle(e);throw new Error("Expected function, string, or object as test")};function Wle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fv(e[n]);return mv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Hle(e){const t=e;return mv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function qle(e){return mv(t);function t(n){return n&&n.type===e}}function mv(e){return t;function t(n,r,i){return!!(Gle(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Kle(){return!0}function Gle(e){return e!==null&&typeof e=="object"&&"type"in e}const WL=[],Yle=!0,ow=!1,Xle="skip";function HL(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=fv(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=WL,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=Qle(n(l,d)),m[0]===ow))return m;if("children"in l&&l.children){const v=l;if(v.children&&m[0]!==Xle)for(g=(r?v.children.length:-1)+s,y=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(p=o(b,g,y)(),p[0]===ow)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function Qle(e){return Array.isArray(e)?e:typeof e=="number"?[Yle,e]:e==null?WL:[e]}function qS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),HL(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const lw={}.hasOwnProperty,Zle={};function Jle(e,t){const n=t||Zle,r=new Map,i=new Map,a=new Map,s={...Lle,...n.handlers},o={all:c,applyData:tce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:ece,wrap:rce};return qS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(lw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,v=Og(y);return v.children=o.all(d),v}return Og(d)}return(o.options.unknownHandler||nce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=bE(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=bE(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function ece(e,t){e.position&&(t.position=Uae(e))}function tce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Og(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function nce(e,t){const n=t.data||{},r="value"in t&&!(lw.call(n,"hProperties")||lw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function wE(e,t){const n=Jle(e,t),r=n.one(e,void 0),i=Vle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ice(e,t){return e&&"run"in e?async function(n,r){const i=wE(n,{file:r,...t});await e.run(i,r)}:function(n,r){return wE(n,{file:r,...e||t})}}function kE(e){if(e)throw e}var ip=Object.prototype.hasOwnProperty,qL=Object.prototype.toString,SE=Object.defineProperty,NE=Object.getOwnPropertyDescriptor,CE=function(t){return typeof Array.isArray=="function"?Array.isArray(t):qL.call(t)==="[object Array]"},jE=function(t){if(!t||qL.call(t)!=="[object Object]")return!1;var n=ip.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ip.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ip.call(t,i)},PE=function(t,n){SE&&n.name==="__proto__"?SE(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},AE=function(t,n){if(n==="__proto__")if(ip.call(t,n)){if(NE)return NE(t,n).value}else return;return t[n]},ace=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=AE(o,n),i=AE(t,n),o!==i&&(d&&i&&(jE(i)||(a=CE(i)))?(a?(a=!1,s=r&&CE(r)?r:[]):s=r&&jE(r)?r:{},PE(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&PE(o,{name:n,newValue:i}));return o};const _x=ps(ace);function cw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?oce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function oce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const As={basename:lce,dirname:cce,extname:uce,join:dce,sep:"/"};function lce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Mm(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function cce(e){if(Mm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function uce(e){Mm(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function dce(...e){let t=-1,n;for(;++t<e.length;)Mm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":fce(n)}function fce(e){Mm(e);const t=e.codePointAt(0)===47;let n=mce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function mce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Mm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const hce={cwd:pce};function pce(){return"/"}function uw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function gce(e){if(typeof e=="string")e=new URL(e);else if(!uw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vce(e)}function vce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Lx=["history","path","basename","stem","extname","dirname"];class KL{constructor(t){let n;t?uw(t)?n={path:t}:typeof t=="string"||xce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":hce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Lx.length;){const a=Lx[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Lx.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?As.basename(this.path):void 0}set basename(t){Fx(t,"basename"),$x(t,"basename"),this.path=As.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?As.dirname(this.path):void 0}set dirname(t){EE(this.basename,"dirname"),this.path=As.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?As.extname(this.path):void 0}set extname(t){if($x(t,"extname"),EE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=As.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){uw(t)&&(t=gce(t)),Fx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?As.basename(this.path,this.extname):void 0}set stem(t){Fx(t,"stem"),$x(t,"stem"),this.path=As.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ei(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function $x(e,t){if(e&&e.includes(As.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+As.sep+"`")}function Fx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function EE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},bce={}.hasOwnProperty;class KS extends yce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sce()}copy(){const t=new KS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_x(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zx("data",this.frozen),this.namespace[t]=n,this):bce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Dh(t),r=this.parser||this.Parser;return Rx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Rx("process",this.parser||this.Parser),Bx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Dh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Sce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Rx("processSync",this.parser||this.Parser),Bx("processSync",this.compiler||this.Compiler),this.process(t,i),DE("processSync","process",n),r;function i(a,s){n=!0,kE(a),r=s}}run(t,n,r){TE(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Dh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),DE("runSync","run",r),i;function a(s,o){kE(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Dh(n),i=this.compiler||this.Compiler;return Bx("stringify",i),TE(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zx("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=_x(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];cw(g)&&cw(m)&&(m=_x(!0,g,m)),r[h]=[c,m,...p]}}}}const wce=new KS().freeze();function Rx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function TE(e){if(!cw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function DE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Dh(e){return kce(e)?e:new KL(e)}function kce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Sce(e){return typeof e=="string"||Nce(e)}function Nce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Cce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ME=[],OE={allowDangerousHtml:!0},jce=/^(https?|ircs?|mailto|xmpp)$/i,Pce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ace(e){const t=Ece(e),n=Tce(e);return Dce(t.runSync(t.parse(n),n),e)}function Ece(e){const t=e.rehypePlugins||ME,n=e.remarkPlugins||ME,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...OE}:OE;return wce().use(ule).use(n).use(ice,r).use(t)}function Tce(e){const t=e.children||"",n=new KL;return typeof t=="string"&&(n.value=t),n}function Dce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Mce;for(const d of Pce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Cce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),qS(e,c),Kae(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mx)if(Object.hasOwn(Mx,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Mx[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Mce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||jce.test(e.slice(0,t))?e:""}function IE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Oce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ice(e,t,n){const i=fv((n||{}).ignore||[]),a=_ce(t);let s=-1;for(;++s<a.length;)HL(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=S+1:(p!==S&&b.push({type:"text",value:c.value.slice(p,S)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=S+w[0].length,v=!0),!h.global)break;w=h.exec(c.value)}return v?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function _ce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Lce(i[0]),$ce(i[1])])}return t}function Lce(e){return typeof e=="string"?new RegExp(Oce(e),"g"):e}function $ce(e){return typeof e=="function"?e:function(){return e}}const Ux="phrasing",Vx=["autolink","link","image","label"];function Fce(){return{transforms:[Hce],enter:{literalAutolink:Bce,literalAutolinkEmail:Wx,literalAutolinkHttp:Wx,literalAutolinkWww:Wx},exit:{literalAutolink:Wce,literalAutolinkEmail:Vce,literalAutolinkHttp:zce,literalAutolinkWww:Uce}}}function Rce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ux,notInConstruct:Vx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ux,notInConstruct:Vx},{character:":",before:"[ps]",after:"\\/",inConstruct:Ux,notInConstruct:Vx}]}}function Bce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wx(e){this.config.enter.autolinkProtocol.call(this,e)}function zce(e){this.config.exit.autolinkProtocol.call(this,e)}function Uce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Vce(e){this.config.exit.autolinkEmail.call(this,e)}function Wce(e){this.exit(e)}function Hce(e){Ice(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Kce]],{ignore:["link","linkReference"]})}function qce(e,t,n,r,i){let a="";if(!GL(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Gce(n)))return!1;const s=Yce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Kce(e,t,n,r){return!GL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Gce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Yce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=IE(e,"(");let a=IE(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function GL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||bc(n)||cv(n))&&(!t||n!==47)}YL.peek=iue;function Xce(){this.buffer()}function Qce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Zce(){this.buffer()}function Jce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function eue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function tue(e){this.exit(e)}function nue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rue(e){this.exit(e)}function iue(){return"["}function YL(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function aue(){return{enter:{gfmFootnoteCallString:Xce,gfmFootnoteCall:Qce,gfmFootnoteDefinitionLabelString:Zce,gfmFootnoteDefinition:Jce},exit:{gfmFootnoteCallString:eue,gfmFootnoteCall:tue,gfmFootnoteDefinitionLabelString:nue,gfmFootnoteDefinition:rue}}}function sue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:YL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?XL:oue))),c(),l}}function oue(e,t,n){return t===0?e:XL(e,t,n)}function XL(e,t,n){return(n?"":"    ")+e}const lue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QL.peek=mue;function cue(){return{canContainEols:["delete"],enter:{strikethrough:due},exit:{strikethrough:fue}}}function uue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:lue}],handlers:{delete:QL}}}function due(e){this.enter({type:"delete",children:[]},e)}function fue(e){this.exit(e)}function QL(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function mue(){return"~"}function hue(e){return e.length}function pue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||hue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let v=-1;for(e[d].length>c&&(c=e[d].length);++v<e[d].length;){const b=gue(e[d][v]);if(n.alignDelimiters!==!1){const w=i(b);y[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=_E(r[f]);else{const g=_E(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-v.length);const w=y+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const v=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(b),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function gue(e){return e==null?"":String(e)}function _E(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function vue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),xue);return i(),s}function xue(e,t,n){return">"+(n?"":" ")+e}function yue(e,t){return LE(e,t.inConstruct,!0)&&!LE(e,t.notInConstruct,!1)}function LE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function $E(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&yue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function bue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function wue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function kue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Sue(e,t,n,r){const i=kue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(wue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Nue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(bue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Nue(e,t,n){return(n?"":"    ")+e}function GS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Cue(e,t,n,r){const i=GS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function jue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Wf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ig(e,t,n){const r=zu(e),i=zu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ZL.peek=Pue;function ZL(e,t,n,r){const i=jue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Ig(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Wf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Ig(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Wf(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Pue(e,t,n){return n.options.emphasis||"*"}function Aue(e,t){let n=!1;return qS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ow}),!!((!e.depth||e.depth<3)&&RS(e)&&(t.options.setext||n))}function Eue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Aue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Wf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}JL.peek=Tue;function JL(e){return e.value||""}function Tue(){return"<"}e$.peek=Due;function e$(e,t,n,r){const i=GS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Due(){return"!"}t$.peek=Mue;function t$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Mue(){return"!"}n$.peek=Oue;function n$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Oue(){return"`"}function r$(e,t){const n=RS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}i$.peek=Iue;function i$(e,t,n,r){const i=GS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(r$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Iue(e,t,n){return r$(e,n)?"<":"["}a$.peek=_ue;function a$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function _ue(){return"["}function YS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Lue(e){const t=YS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function $ue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function s$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Fue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?$ue(n):YS(n);const o=e.ordered?s==="."?")":".":Lue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),s$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Rue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Bue(e,t,n,r){const i=Rue(n);let a=n.bulletCurrent||YS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function zue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Uue=fv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Vue(e,t,n,r){return(e.children.some(function(s){return Uue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Wue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}o$.peek=Hue;function o$(e,t,n,r){const i=Wue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Ig(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Wf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Ig(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Wf(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Hue(e,t,n){return n.options.strong||"*"}function que(e,t,n,r){return n.safe(e.value,r)}function Kue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Gue(e,t,n){const r=(s$(n)+(n.options.ruleSpaces?" ":"")).repeat(Kue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const l$={blockquote:vue,break:$E,code:Sue,definition:Cue,emphasis:ZL,hardBreak:$E,heading:Eue,html:JL,image:e$,imageReference:t$,inlineCode:n$,link:i$,linkReference:a$,list:Fue,listItem:Bue,paragraph:zue,root:Vue,strong:o$,text:que,thematicBreak:Gue};function Yue(){return{enter:{table:Xue,tableData:FE,tableHeader:FE,tableRow:Zue},exit:{codeText:Jue,table:Que,tableData:Hx,tableHeader:Hx,tableRow:Hx}}}function Xue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Que(e){this.exit(e),this.data.inTable=void 0}function Zue(e){this.enter({type:"tableRow",children:[]},e)}function Hx(e){this.exit(e)}function FE(e){this.enter({type:"tableCell",children:[]},e)}function Jue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ede));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ede(e,t){return t==="|"?t:e}function tde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const v=f(m,g,y),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const v=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),v(),w}function c(m,p){return pue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let v=-1;const b=[],w=p.enter("table");for(;++v<y.length;)b[v]=f(y[v],p,g);return w(),b}function f(m,p,g){const y=m.children;let v=-1;const b=[],w=p.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],m,p,g);return w(),b}function h(m,p,g){let y=l$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function nde(){return{exit:{taskListCheckValueChecked:RE,taskListCheckValueUnchecked:RE,paragraph:ide}}}function rde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ade}}}function RE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ide(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ade(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=l$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function sde(){return[Fce(),aue(),cue(),Yue(),nde()]}function ode(e){return{extensions:[Rce(),sue(e),uue(),tde(e),rde()]}}const lde={tokenize:hde,partial:!0},c$={tokenize:pde,partial:!0},u$={tokenize:gde,partial:!0},d$={tokenize:vde,partial:!0},cde={tokenize:xde,partial:!0},f$={name:"wwwAutolink",tokenize:fde,previous:h$},m$={name:"protocolAutolink",tokenize:mde,previous:p$},Ao={name:"emailAutolink",tokenize:dde,previous:g$},Bs={};function ude(){return{text:Bs}}let Tl=48;for(;Tl<123;)Bs[Tl]=Ao,Tl++,Tl===58?Tl=65:Tl===91&&(Tl=97);Bs[43]=Ao;Bs[45]=Ao;Bs[46]=Ao;Bs[95]=Ao;Bs[72]=[Ao,m$];Bs[104]=[Ao,m$];Bs[87]=[Ao,f$];Bs[119]=[Ao,f$];function dde(e,t,n){const r=this;let i,a;return s;function s(f){return!dw(f)||!g$.call(r,r.previous)||XS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return dw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(cde,d,c)(f):f===45||f===95||Pi(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Bi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function fde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!h$.call(r,r.previous)||XS(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(lde,e.attempt(c$,e.attempt(u$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function mde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&p$.call(r,r.previous)&&!XS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Bi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Dg(f)||Bn(f)||bc(f)||cv(f)?n(f):e.attempt(c$,e.attempt(u$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function hde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function pde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(d$,l,o)(c):c===null||Bn(c)||bc(c)||c!==45&&cv(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function gde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(d$,t,a)(s):s===null||Bn(s)||bc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function vde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Bn(o)||bc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Bn(o)||bc(o)?t(o):r(o)}function a(o){return Bi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Bi(o)?(e.consume(o),s):n(o)}}function xde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Pi(a)?n(a):t(a)}}function h$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Bn(e)}function p$(e){return!Bi(e)}function g$(e){return!(e===47||dw(e))}function dw(e){return e===43||e===45||e===46||e===95||Pi(e)}function XS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const yde={tokenize:Pde,partial:!0};function bde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Nde,continuation:{tokenize:Cde},exit:jde}},text:{91:{name:"gfmFootnoteCall",tokenize:Sde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wde,resolveTo:kde}}}}function wde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=cs(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function kde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Sde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Bn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(cs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Bn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Nde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Bn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=cs(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Bn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),yn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Cde(e,t,n){return e.check(Dm,t,e.attempt(yde,t,n))}function jde(e){e.exit("gfmFootnoteDefinition")}function Pde(e,t,n){const r=this;return yn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Ade(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&ka(h,h.length,0,uv(m,s.slice(c+1,l),o)),ka(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),ka(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=zu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),v=zu(p);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,o(p)}}}class Ede{constructor(){this.map=[]}add(t,n,r){Tde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Tde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Dde(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Mde(){return{flow:{null:{name:"table",tokenize:Ode,resolveAll:Ide}}}}function Ode(e,t,n){const r=this;let i=0,a=0,s;return o;function o(A){let $=r.events.length-1;for(;$>-1;){const ne=r.events[$][1].type;if(ne==="lineEnding"||ne==="linePrefix")$--;else break}const M=$>-1?r.events[$][1].type:null,ee=M==="tableHead"||M==="tableRow"?N:l;return ee===N&&r.parser.lazy[r.now().line]?n(A):ee(A)}function l(A){return e.enter("tableHead"),e.enter("tableRow"),c(A)}function c(A){return A===124||(s=!0,a+=1),d(A)}function d(A){return A===null?n(A):_t(A)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),m):n(A):dn(A)?yn(e,d,"whitespace")(A):(a+=1,s&&(s=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(A)))}function f(A){return A===null||A===124||Bn(A)?(e.exit("data"),d(A)):(e.consume(A),A===92?h:f)}function h(A){return A===92||A===124?(e.consume(A),f):f(A)}function m(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),s=!1,dn(A)?yn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):p(A))}function p(A){return A===45||A===58?y(A):A===124?(s=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),g):C(A)}function g(A){return dn(A)?yn(e,y,"whitespace")(A):y(A)}function y(A){return A===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),v):A===45?(a+=1,v(A)):A===null||_t(A)?S(A):C(A)}function v(A){return A===45?(e.enter("tableDelimiterFiller"),b(A)):C(A)}function b(A){return A===45?(e.consume(A),b):A===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(A))}function w(A){return dn(A)?yn(e,S,"whitespace")(A):S(A)}function S(A){return A===124?p(A):A===null||_t(A)?!s||i!==a?C(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):C(A)}function C(A){return n(A)}function N(A){return e.enter("tableRow"),P(A)}function P(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),P):A===null||_t(A)?(e.exit("tableRow"),t(A)):dn(A)?yn(e,P,"whitespace")(A):(e.enter("data"),D(A))}function D(A){return A===null||A===124||Bn(A)?(e.exit("data"),P(A)):(e.consume(A),A===92?_:D)}function _(A){return A===92||A===124?(e.consume(A),D):D(A)}}function Ide(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Ede;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(BE(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Mh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Mh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Mh(h,t,a,i,n,f)):s[1]!==0&&(f=Mh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&BE(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Dde(t.events,n))}return e}function Mh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Gc(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Gc(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Gc(t.events,n[2]),d=Gc(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Gc(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function BE(e,t,n,r,i){const a=[],s=Gc(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Gc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const _de={name:"tasklistCheck",tokenize:$de};function Lde(){return{text:{91:_de}}}function $de(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Bn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return _t(l)?t(l):dn(l)?e.check({tokenize:Fde},t,n)(l):n(l)}}function Fde(e,t,n){return yn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Rde(e){return jL([ude(),bde(),Ade(e),Mde(),Lde()])}const Bde={};function zde(e){const t=this,n=e||Bde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Rde(n)),a.push(sde()),s.push(ode(n))}const qx='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',v$=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),hv=x.createContext({}),QS=x.createContext(null),pv=typeof document<"u",Ude=pv?x.useLayoutEffect:x.useEffect,x$=x.createContext({strict:!1}),ZS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vde="framerAppearId",y$="data-"+ZS(Vde);function Wde(e,t,n,r){const{visualElement:i}=x.useContext(hv),a=x.useContext(x$),s=x.useContext(QS),o=x.useContext(v$).reducedMotion,l=x.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,s)});const d=x.useRef(!!(n[y$]&&!window.HandoffComplete));return Ude(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function cu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Hde(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):cu(n)&&(n.current=r))},[t])}function Hf(e){return typeof e=="string"||Array.isArray(e)}function gv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const JS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eN=["initial",...JS];function vv(e){return gv(e.animate)||eN.some(t=>Hf(e[t]))}function b$(e){return!!(vv(e)||e.variants)}function qde(e,t){if(vv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hf(n)?n:void 0,animate:Hf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Kde(e){const{initial:t,animate:n}=qde(e,x.useContext(hv));return x.useMemo(()=>({initial:t,animate:n}),[zE(t),zE(n)])}function zE(e){return Array.isArray(e)?e.join(" "):e}const UE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qf={};for(const e in UE)qf[e]={isEnabled:t=>UE[e].some(n=>!!t[n])};function Gde(e){for(const t in e)qf[t]={...qf[t],...e[t]}}const w$=x.createContext({}),k$=x.createContext({}),Yde=Symbol.for("motionComponentSymbol");function Xde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Gde(e);function a(o,l){let c;const d={...x.useContext(v$),...o,layoutId:Qde(o)},{isStatic:f}=d,h=Kde(o),m=r(o,f);if(!f&&pv){h.visualElement=Wde(i,m,d,t);const p=x.useContext(k$),g=x.useContext(x$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return x.createElement(hv.Provider,{value:h},c&&h.visualElement?x.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Hde(m,h.visualElement,l),m,f,h.visualElement))}const s=x.forwardRef(a);return s[Yde]=i,s}function Qde({layoutId:e}){const t=x.useContext(w$).id;return t&&e!==void 0?t+"-"+e:e}function Zde(e){function t(r,i={}){return Xde(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Jde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tN(e){return typeof e!="string"||e.includes("-")?!1:!!(Jde.indexOf(e)>-1||/[A-Z]/.test(e))}const _g={};function efe(e){Object.assign(_g,e)}const Om=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(Om);function S$(e,{layout:t,layoutId:n}){return jc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_g[e]||e==="opacity")}const sa=e=>!!(e&&e.getVelocity),tfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nfe=Om.length;function rfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<nfe;s++){const o=Om[s];if(e[o]!==void 0){const l=tfe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const N$=e=>t=>typeof t=="string"&&t.startsWith(e),C$=N$("--"),fw=N$("var(--"),ife=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,afe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ll=(e,t,n)=>Math.min(Math.max(n,e),t),Pc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zd={...Pc,transform:e=>ll(0,1,e)},Oh={...Pc,default:1},Jd=e=>Math.round(e*1e5)/1e5,xv=/(-)?([\d]*\.?[\d])+/g,j$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Im(e){return typeof e=="string"}const _m=e=>({test:t=>Im(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_o=_m("deg"),_s=_m("%"),Ut=_m("px"),ofe=_m("vh"),lfe=_m("vw"),VE={..._s,parse:e=>_s.parse(e)/100,transform:e=>_s.transform(e*100)},WE={...Pc,transform:Math.round},P$={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,size:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:_o,skewX:_o,skewY:_o,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:Zd,originX:VE,originY:VE,originZ:Ut,zIndex:WE,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:WE};function nN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(C$(f)){a[f]=h;continue}const m=P$[f],p=afe(h,m);if(jc.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=rfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const rN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A$(e,t,n){for(const r in t)!sa(t[r])&&!S$(r,n)&&(e[r]=t[r])}function cfe({transformTemplate:e},t,n){return x.useMemo(()=>{const r=rN();return nN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function ufe(e,t,n){const r=e.style||{},i={};return A$(i,r,e),Object.assign(i,cfe(e,t,n)),e.transformValues?e.transformValues(i):i}function dfe(e,t,n){const r={},i=ufe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ffe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ffe.has(e)}let E$=e=>!Lg(e);function mfe(e){e&&(E$=t=>t.startsWith("on")?!Lg(t):e(t))}try{mfe(require("@emotion/is-prop-valid").default)}catch{}function hfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(E$(i)||n===!0&&Lg(i)||!t&&!Lg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function HE(e,t,n){return typeof e=="string"?e:Ut.transform(t+n*e)}function pfe(e,t,n){const r=HE(t,e.x,e.width),i=HE(n,e.y,e.height);return`${r} ${i}`}const gfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vfe={offset:"strokeDashoffset",array:"strokeDasharray"};function xfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?gfe:vfe;e[a.offset]=Ut.transform(-r);const s=Ut.transform(t),o=Ut.transform(n);e[a.array]=`${s} ${o}`}function iN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(nN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=pfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&xfe(m,s,o,l,!1)}const T$=()=>({...rN(),attrs:{}}),aN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yfe(e,t,n,r){const i=x.useMemo(()=>{const a=T$();return iN(a,t,{enableHardwareAcceleration:!1},aN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};A$(a,e.style,e),i.style={...a,...i.style}}return i}function bfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(tN(n)?yfe:dfe)(r,a,s,n),d={...hfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=x.useMemo(()=>sa(f)?f.get():f,[f]);return x.createElement(n,{...d,children:h})}}function D$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const M$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O$(e,t,n,r){D$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(M$.has(i)?i:ZS(i),t.attrs[i])}function sN(e,t){const{style:n}=e,r={};for(const i in n)(sa(n[i])||t.style&&sa(t.style[i])||S$(i,e))&&(r[i]=n[i]);return r}function I$(e,t){const n=sN(e,t);for(const r in e)if(sa(e[r])||sa(t[r])){const i=Om.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function oN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function wfe(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const $g=e=>Array.isArray(e),kfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Sfe=e=>$g(e)?e[e.length-1]||0:e;function ap(e){const t=sa(e)?e.get():e;return kfe(t)?t.toValue():t}function Nfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Cfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const _$=e=>(t,n)=>{const r=x.useContext(hv),i=x.useContext(QS),a=()=>Nfe(e,t,r,i);return n?a():wfe(a)};function Cfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=ap(a[h]);let{initial:s,animate:o}=e;const l=vv(e),c=b$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!gv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=oN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...v}=p;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Mr=e=>e;class qE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function jfe(e){let t=new qE,n=new qE,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Ih=["prepare","read","update","preRender","render","postRender"],Pfe=40;function Afe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Ih.reduce((f,h)=>(f[h]=jfe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Pfe),1),i.timestamp=f,i.isProcessing=!0,Ih.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Ih.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Ih.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:tr,cancel:xo,state:wi,steps:Kx}=Afe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0),Efe={useVisualState:_$({scrapeMotionValuesFromProps:I$,createRenderState:T$,onMount:(e,t,{renderState:n,latestValues:r})=>{tr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tr.render(()=>{iN(n,r,{enableHardwareAcceleration:!1},aN(t.tagName),e.transformTemplate),O$(t,n)})}})},Tfe={useVisualState:_$({scrapeMotionValuesFromProps:sN,createRenderState:rN})};function Dfe(e,{forwardMotionProps:t=!1},n,r){return{...tN(e)?Efe:Tfe,preloadedFeatures:n,useRender:bfe(t),createVisualElement:r,Component:e}}function to(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const L$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function yv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Mfe=e=>t=>L$(t)&&e(t,yv(t));function ao(e,t,n,r){return to(e,t,Mfe(n),r)}const Ofe=(e,t)=>n=>t(e(n)),rl=(...e)=>e.reduce(Ofe);function $$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const KE=$$("dragHorizontal"),GE=$$("dragVertical");function F$(e){let t=!1;if(e==="y")t=GE();else if(e==="x")t=KE();else{const n=KE(),r=GE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function R$(){const e=F$(!0);return e?(e(),!1):!0}class xl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function YE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||R$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&tr.update(()=>o[r](a,s))};return ao(e.current,n,i,{passive:!e.getProps()[r]})}class Ife extends xl{mount(){this.unmount=rl(YE(this.node,!0),YE(this.node,!1))}unmount(){}}class _fe extends xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rl(to(this.node.current,"focus",()=>this.onFocus()),to(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const B$=(e,t)=>t?e===t?!0:B$(e,t.parentElement):!1;function Gx(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,yv(n))}class Lfe extends xl{constructor(){super(...arguments),this.removeStartListeners=Mr,this.removeEndListeners=Mr,this.removeAccessibleListeners=Mr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ao(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();tr.update(()=>{!f&&!B$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=ao(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=rl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Gx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&tr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=to(this.node.current,"keyup",s),Gx("down",(o,l)=>{this.startPress(o,l)})},n=to(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gx("cancel",(a,s)=>this.cancelPress(a,s))},i=to(this.node.current,"blur",r);this.removeAccessibleListeners=rl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!R$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ao(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=to(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=rl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const mw=new WeakMap,Yx=new WeakMap,$fe=e=>{const t=mw.get(e.target);t&&t(e)},Ffe=e=>{e.forEach($fe)};function Rfe({root:e,...t}){const n=e||document;Yx.has(n)||Yx.set(n,{});const r=Yx.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ffe,{root:e,...t})),r[i]}function Bfe(e,t,n){const r=Rfe(t);return mw.set(e,n),r.observe(e),()=>{mw.delete(e),r.unobserve(e)}}const zfe={some:0,all:1};class Ufe extends xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:zfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Bfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Vfe(t,n))&&this.startObserver()}unmount(){}}function Vfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Wfe={inView:{Feature:Ufe},tap:{Feature:Lfe},focus:{Feature:_fe},hover:{Feature:Ife}};function z$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Hfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function qfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function bv(e,t,n){const r=e.getProps();return oN(r,t,n!==void 0?n:r.custom,Hfe(e),qfe(e))}let lN=Mr;const ic=e=>e*1e3,so=e=>e/1e3,Kfe={current:!1},U$=e=>Array.isArray(e)&&typeof e[0]=="number";function V$(e){return!!(!e||typeof e=="string"&&W$[e]||U$(e)||Array.isArray(e)&&e.every(V$))}const Ld=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,W$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ld([0,.65,.55,1]),circOut:Ld([.55,0,1,.45]),backIn:Ld([.31,.01,.66,-.59]),backOut:Ld([.33,1.53,.69,.99])};function H$(e){if(e)return U$(e)?Ld(e):Array.isArray(e)?e.map(H$):W$[e]}function Gfe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=H$(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Yfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const q$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xfe=1e-7,Qfe=12;function Zfe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=q$(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Xfe&&++o<Qfe);return s}function Lm(e,t,n,r){if(e===t&&n===r)return Mr;const i=a=>Zfe(a,0,1,e,n);return a=>a===0||a===1?a:q$(i(a),t,r)}const Jfe=Lm(.42,0,1,1),eme=Lm(0,0,.58,1),K$=Lm(.42,0,.58,1),tme=e=>Array.isArray(e)&&typeof e[0]!="number",G$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Y$=e=>t=>1-e(1-t),cN=e=>1-Math.sin(Math.acos(e)),X$=Y$(cN),nme=G$(cN),Q$=Lm(.33,1.53,.69,.99),uN=Y$(Q$),rme=G$(uN),ime=e=>(e*=2)<1?.5*uN(e):.5*(2-Math.pow(2,-10*(e-1))),ame={linear:Mr,easeIn:Jfe,easeInOut:K$,easeOut:eme,circIn:cN,circInOut:nme,circOut:X$,backIn:uN,backInOut:rme,backOut:Q$,anticipate:ime},XE=e=>{if(Array.isArray(e)){lN(e.length===4);const[t,n,r,i]=e;return Lm(t,n,r,i)}else if(typeof e=="string")return ame[e];return e},dN=(e,t)=>n=>!!(Im(n)&&sfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Z$=(e,t,n)=>r=>{if(!Im(r))return r;const[i,a,s,o]=r.match(xv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},sme=e=>ll(0,255,e),Xx={...Pc,transform:e=>Math.round(sme(e))},Xl={test:dN("rgb","red"),parse:Z$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xx.transform(e)+", "+Xx.transform(t)+", "+Xx.transform(n)+", "+Jd(Zd.transform(r))+")"};function ome(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hw={test:dN("#"),parse:ome,transform:Xl.transform},uu={test:dN("hsl","hue"),parse:Z$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_s.transform(Jd(t))+", "+_s.transform(Jd(n))+", "+Jd(Zd.transform(r))+")"},Fi={test:e=>Xl.test(e)||hw.test(e)||uu.test(e),parse:e=>Xl.test(e)?Xl.parse(e):uu.test(e)?uu.parse(e):hw.parse(e),transform:e=>Im(e)?e:e.hasOwnProperty("red")?Xl.transform(e):uu.transform(e)},pr=(e,t,n)=>-n*e+n*t+e;function Qx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Qx(l,o,e+1/3),a=Qx(l,o,e),s=Qx(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Zx=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},cme=[hw,Xl,uu],ume=e=>cme.find(t=>t.test(e));function QE(e){const t=ume(e);let n=t.parse(e);return t===uu&&(n=lme(n)),n}const J$=(e,t)=>{const n=QE(e),r=QE(t),i={...n};return a=>(i.red=Zx(n.red,r.red,a),i.green=Zx(n.green,r.green,a),i.blue=Zx(n.blue,r.blue,a),i.alpha=pr(n.alpha,r.alpha,a),Xl.transform(i))};function dme(e){var t,n;return isNaN(e)&&Im(e)&&(((t=e.match(xv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(j$))===null||n===void 0?void 0:n.length)||0)>0}const eF={regex:ife,countKey:"Vars",token:"${v}",parse:Mr},tF={regex:j$,countKey:"Colors",token:"${c}",parse:Fi.parse},nF={regex:xv,countKey:"Numbers",token:"${n}",parse:Pc.parse};function Jx(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Fg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jx(n,eF),Jx(n,tF),Jx(n,nF),n}function rF(e){return Fg(e).values}function iF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Fg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(eF.token,s[l]):l<r+n?o=o.replace(tF.token,Fi.transform(s[l])):o=o.replace(nF.token,Jd(s[l]));return o}}const fme=e=>typeof e=="number"?0:e;function mme(e){const t=rF(e);return iF(e)(t.map(fme))}const cl={test:dme,parse:rF,createTransformer:iF,getAnimatableNone:mme},aF=(e,t)=>n=>`${n>0?t:e}`;function sF(e,t){return typeof e=="number"?n=>pr(e,t,n):Fi.test(e)?J$(e,t):e.startsWith("var(")?aF(e,t):lF(e,t)}const oF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>sF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},hme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=sF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},lF=(e,t)=>{const n=cl.createTransformer(t),r=Fg(e),i=Fg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?rl(oF(r.values,i.values),n):aF(e,t)},Kf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ZE=(e,t)=>n=>pr(e,t,n);function pme(e){return typeof e=="number"?ZE:typeof e=="string"?Fi.test(e)?J$:lF:Array.isArray(e)?oF:typeof e=="object"?hme:ZE}function gme(e,t,n){const r=[],i=n||pme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Mr:t;o=rl(l,o)}r.push(o)}return r}function cF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(lN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=gme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Kf(e[d],e[d+1],c);return s[d](f)};return n?c=>l(ll(e[0],e[a-1],c)):l}function vme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Kf(0,t,r);e.push(pr(n,1,i))}}function xme(e){const t=[0];return vme(t,e.length-1),t}function yme(e,t){return e.map(n=>n*t)}function bme(e,t){return e.map(()=>t||K$).splice(0,e.length-1)}function Rg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=tme(r)?r.map(XE):XE(r),a={done:!1,value:t[0]},s=yme(n&&n.length===t.length?n:xme(t),e),o=cF(s,t,{ease:Array.isArray(i)?i:bme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function uF(e,t){return t?e*(1e3/t):0}const wme=5;function dF(e,t,n){const r=Math.max(t-wme,0);return uF(n-e(r),t-r)}const ey=.001,kme=.01,Sme=10,Nme=.05,Cme=1;function jme({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=ll(Nme,Cme,s),e=ll(kme,Sme,so(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=pw(c,s),p=Math.exp(-f);return ey-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=pw(Math.pow(c,2),s);return(-i(c)+ey>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ey+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Ame(i,a,o);if(e=ic(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Pme=12;function Ame(e,t,n){let r=n;for(let i=1;i<Pme;i++)r=r-e(r)/t(r);return r}function pw(e,t){return e*Math.sqrt(1-t*t)}const Eme=["duration","bounce"],Tme=["stiffness","damping","mass"];function JE(e,t){return t.some(n=>e[n]!==void 0)}function Dme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!JE(e,Tme)&&JE(e,Eme)){const n=jme(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function fF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Dme({...r,velocity:-so(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=so(Math.sqrt(o/c)),v=Math.abs(g)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let b;if(p<1){const w=pw(y,p);b=S=>{const C=Math.exp(-p*y*S);return a-C*((m+p*y*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*y*S),N=Math.min(w*S,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=dF(b,w,S):C=0);const N=Math.abs(C)<=n,P=Math.abs(a-S)<=t;s.done=N&&P}return s.value=s.done?a:S,s}}}function eT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=D=>o!==void 0&&D<o||l!==void 0&&D>l,p=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let g=n*t;const y=f+g,v=s===void 0?y:s(y);v!==y&&(g=v-f);const b=D=>-g*Math.exp(-D/r),w=D=>v+b(D),S=D=>{const _=b(D),A=w(D);h.done=Math.abs(_)<=c,h.value=h.done?v:A};let C,N;const P=D=>{m(h.value)&&(C=D,N=fF({keyframes:[h.value,p(h.value)],velocity:dF(w,D,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:D=>{let _=!1;return!N&&C===void 0&&(_=!0,S(D),P(D)),C!==void 0&&D>C?N.next(D-C):(!_&&S(D),h)}}}const Mme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tr.update(t,!0),stop:()=>xo(t),now:()=>wi.isProcessing?wi.timestamp:performance.now()}},tT=2e4;function nT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tT;)t+=n,r=e.next(t);return t>=tT?1/0:t}const Ome={decay:eT,inertia:eT,tween:Rg,keyframes:Rg,spring:fF};function Bg({autoplay:e=!0,delay:t=0,driver:n=Mme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const v=()=>{y=new Promise(j=>{g=j})};v();let b;const w=Ome[i]||Rg;let S;w!==Rg&&typeof r[0]!="number"&&(S=cF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let P="idle",D=null,_=null,A=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=nT(C));const{calculatedDuration:$}=C;let M=1/0,ee=1/0;$!==null&&(M=$+s,ee=M*(a+1)-s);let ne=0;const ue=j=>{if(_===null)return;m>0&&(_=Math.min(_,j)),m<0&&(_=Math.min(j-ee/m,_)),D!==null?ne=D:ne=Math.round(j-_)*m;const V=ne-t*(m>=0?1:-1),k=m>=0?V<0:V>ee;ne=Math.max(V,0),P==="finished"&&D===null&&(ne=ee);let O=ne,ie=C;if(a){const L=Math.min(ne,ee)/M;let Y=Math.floor(L),oe=L%1;!oe&&L>=1&&(oe=1),oe===1&&Y--,Y=Math.min(Y,a+1),!!(Y%2)&&(o==="reverse"?(oe=1-oe,s&&(oe-=s/M)):o==="mirror"&&(ie=N)),O=ll(0,1,oe)*M}const Z=k?{done:!1,value:r[0]}:ie.next(O);S&&(Z.value=S(Z.value));let{done:B}=Z;!k&&$!==null&&(B=m>=0?ne>=ee:ne<=0);const J=D===null&&(P==="finished"||P==="running"&&B);return f&&f(Z.value),J&&W(),Z},q=()=>{b&&b.stop(),b=void 0},H=()=>{P="idle",q(),g(),v(),_=A=null},W=()=>{P="finished",d&&d(),q(),g()},re=()=>{if(p)return;b||(b=n(ue));const j=b.now();l&&l(),D!==null?_=j-D:(!_||P==="finished")&&(_=j),P==="finished"&&v(),A=_,D=null,P="running",b.start()};e&&re();const E={then(j,V){return y.then(j,V)},get time(){return so(ne)},set time(j){j=ic(j),ne=j,D!==null||!b||m===0?D=j:_=b.now()-j/m},get duration(){const j=C.calculatedDuration===null?nT(C):C.calculatedDuration;return so(j)},get speed(){return m},set speed(j){j===m||!b||(m=j,E.time=so(ne))},get state(){return P},play:re,pause:()=>{P="paused",D=ne},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),H())},cancel:()=>{A!==null&&ue(A),H()},complete:()=>{P="finished"},sample:j=>(_=0,ue(j))};return E}function Ime(e){let t;return()=>(t===void 0&&(t=e()),t)}const _me=Ime(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_h=10,$me=2e4,Fme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!V$(t.ease);function Rme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(_me()&&Lme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Fme(t,i)){const w=Bg({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const C=[];let N=0;for(;!S.done&&N<$me;)S=w.sample(N),C.push(S.value),N+=_h;p=void 0,f=C,h=N-_h,m="linear"}const g=Gfe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},v=()=>{c=!0,tr.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(Yfe(f,i)),r&&r(),v())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Mr},get time(){return so(g.currentTime||0)},set time(w){g.currentTime=ic(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return so(h)},play:()=>{s||(g.play(),xo(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=Bg({...i,autoplay:!1});e.setWithVelocity(S.sample(w-_h).value,S.sample(w).value,_h)}v()},complete:()=>{c||g.finish()},cancel:v}}function Bme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Mr,pause:Mr,stop:Mr,then:a=>(a(),Promise.resolve()),cancel:Mr,complete:Mr});return t?Bg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const zme={type:"spring",stiffness:500,damping:25,restSpeed:10},Ume=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vme={type:"keyframes",duration:.8},Wme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hme=(e,{keyframes:t})=>t.length>2?Vme:jc.has(e)?e.startsWith("scale")?Ume(t[1]):zme:Wme,gw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cl.test(t)||t==="0")&&!t.startsWith("url(")),qme=new Set(["brightness","contrast","saturate","opacity"]);function Kme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xv)||[];if(!r)return e;const i=n.replace(r,"");let a=qme.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Gme=/([a-z-]*)\(.*?\)/g,vw={...cl,getAnimatableNone:e=>{const t=e.match(Gme);return t?t.map(Kme).join(" "):e}},Yme={...P$,color:Fi,backgroundColor:Fi,outlineColor:Fi,fill:Fi,stroke:Fi,borderColor:Fi,borderTopColor:Fi,borderRightColor:Fi,borderBottomColor:Fi,borderLeftColor:Fi,filter:vw,WebkitFilter:vw},fN=e=>Yme[e];function mF(e,t){let n=fN(e);return n!==vw&&(n=cl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hF=e=>/^0[^.\s]+$/.test(e);function Xme(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||hF(e)}function Qme(e,t,n,r){const i=gw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),Xme(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=mF(t,o)}return a}function Zme({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function mN(e,t){return e[t]||e.default||e}const Jme={skipAnimations:!1},hN=(e,t,n,r={})=>i=>{const a=mN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-ic(s);const l=Qme(t,e,n,a),c=l[0],d=l[l.length-1],f=gw(e,c),h=gw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Zme(a)||(m={...m,...Hme(e,m)}),m.duration&&(m.duration=ic(m.duration)),m.repeatDelay&&(m.repeatDelay=ic(m.repeatDelay)),!f||!h||Kfe.current||a.type===!1||Jme.skipAnimations)return Bme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Rme(t,e,m);if(p)return p}return Bg(m)};function zg(e){return!!(sa(e)&&e.add)}const pF=e=>/^\-?\d*\.?\d+$/.test(e);function pN(e,t){e.indexOf(t)===-1&&e.push(t)}function gN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vN{constructor(){this.subscriptions=[]}add(t){return pN(this.subscriptions,t),()=>gN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ehe=e=>!isNaN(parseFloat(e));class the{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=wi;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,tr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ehe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vN);const r=this.events[t].add(n);return t==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(e,t){return new the(e,t)}const gF=e=>t=>t.test(e),nhe={test:e=>e==="auto",parse:e=>e},vF=[Pc,Ut,_s,_o,lfe,ofe,nhe],Ad=e=>vF.find(gF(e)),rhe=[...vF,Fi,cl],ihe=e=>rhe.find(gF(e));function ahe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Uu(n))}function she(e,t){const n=bv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Sfe(a[s]);ahe(e,s,o)}}function ohe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(pF(d)||hF(d))?d=parseFloat(d):!ihe(d)&&cl.test(c)&&(d=mF(l,c)),e.addValue(l,Uu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function lhe(e,t){return t?(t[e]||t.default||t).from:void 0}function che(e,t,n){const r={};for(const i in e){const a=lhe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function uhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function dhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function xF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&uhe(d,f))continue;const p={delay:n,elapsed:0,...mN(a||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[y$];if(v){const b=window.HandoffAppearAnimations(v,f,h,tr);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!dhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(hN(f,h,m,e.shouldReduceMotion&&jc.has(f)?{type:!1}:p));const y=h.animation;zg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&she(e,s)}),c}function xw(e,t,n={}){const r=bv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(xF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return fhe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function fhe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(mhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(xw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function mhe(e,t){return e.sortNodePosition(t)}function hhe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>xw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=xw(e,t,n);else{const i=typeof t=="function"?bv(e,t,n.custom):t;r=Promise.all(xF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const phe=[...JS].reverse(),ghe=JS.length;function vhe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hhe(e,n,r)))}function xhe(e){let t=vhe(e);const n=bhe();let r=!0;const i=(l,c)=>{const d=bv(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let v=0;v<ghe;v++){const b=phe[v],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Hf(S),N=b===c?w.isActive:null;N===!1&&(g=v);let P=S===f[b]&&S!==d[b]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&N===null||!S&&!w.prevProp||gv(S)||typeof S=="boolean")continue;let _=yhe(w.prevProp,S)||b===c&&w.isActive&&!P&&C||v>g&&C,A=!1;const $=Array.isArray(S)?S:[S];let M=$.reduce(i,{});N===!1&&(M={});const{prevResolvedValues:ee={}}=w,ne={...ee,...M},ue=q=>{_=!0,m.has(q)&&(A=!0,m.delete(q)),w.needsAnimating[q]=!0};for(const q in ne){const H=M[q],W=ee[q];if(p.hasOwnProperty(q))continue;let re=!1;$g(H)&&$g(W)?re=!z$(H,W):re=H!==W,re?H!==void 0?ue(q):m.add(q):H!==void 0&&m.has(q)?ue(q):w.protectedKeys[q]=!0}w.prevProp=S,w.prevResolvedValues=M,w.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(_=!1),_&&(!P||A)&&h.push(...$.map(q=>({animation:q,options:{type:b,...l}})))}if(m.size){const v={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(v[b]=w)}),h.push({animation:v})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function yhe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!z$(t,e):!1}function Dl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bhe(){return{animate:Dl(!0),whileInView:Dl(),whileHover:Dl(),whileTap:Dl(),whileDrag:Dl(),whileFocus:Dl(),exit:Dl()}}class whe extends xl{constructor(t){super(t),t.animationState||(t.animationState=xhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),gv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let khe=0;class She extends xl{constructor(){super(...arguments),this.id=khe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Nhe={animation:{Feature:whe},exit:{Feature:She}},rT=(e,t)=>Math.abs(e-t);function Che(e,t){const n=rT(e.x,t.x),r=rT(e.y,t.y);return Math.sqrt(n**2+r**2)}class yF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ny(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Che(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=wi;this.history.push({...p,timestamp:g});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ty(h,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ny(f.type==="pointercancel"?this.lastMoveEventInfo:ty(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!L$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=yv(t),o=ty(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=wi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,ny(o,this.history)),this.removeListeners=rl(ao(this.contextWindow,"pointermove",this.handlePointerMove),ao(this.contextWindow,"pointerup",this.handlePointerUp),ao(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xo(this.updatePoint)}}function ty(e,t){return t?{point:t(e.point)}:e}function iT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ny({point:e},t){return{point:e,delta:iT(e,bF(t)),offset:iT(e,jhe(t)),velocity:Phe(t,.1)}}function jhe(e){return e[0]}function bF(e){return e[e.length-1]}function Phe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=bF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ic(t)));)n--;if(!r)return{x:0,y:0};const a=so(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ca(e){return e.max-e.min}function yw(e,t=0,n=.01){return Math.abs(e-t)<=n}function aT(e,t,n,r=.5){e.origin=r,e.originPoint=pr(t.min,t.max,e.origin),e.scale=Ca(n)/Ca(t),(yw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=pr(n.min,n.max,e.origin)-e.originPoint,(yw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ef(e,t,n,r){aT(e.x,t.x,n.x,r?r.originX:void 0),aT(e.y,t.y,n.y,r?r.originY:void 0)}function sT(e,t,n){e.min=n.min+t.min,e.max=e.min+Ca(t)}function Ahe(e,t,n){sT(e.x,t.x,n.x),sT(e.y,t.y,n.y)}function oT(e,t,n){e.min=t.min-n.min,e.max=e.min+Ca(t)}function tf(e,t,n){oT(e.x,t.x,n.x),oT(e.y,t.y,n.y)}function Ehe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pr(n,e,r.max):Math.min(e,n)),e}function lT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function The(e,{top:t,left:n,bottom:r,right:i}){return{x:lT(e.x,n,i),y:lT(e.y,t,r)}}function cT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Dhe(e,t){return{x:cT(e.x,t.x),y:cT(e.y,t.y)}}function Mhe(e,t){let n=.5;const r=Ca(e),i=Ca(t);return i>r?n=Kf(t.min,t.max-r,e.min):r>i&&(n=Kf(e.min,e.max-i,t.min)),ll(0,1,n)}function Ohe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bw=.35;function Ihe(e=bw){return e===!1?e=0:e===!0&&(e=bw),{x:uT(e,"left","right"),y:uT(e,"top","bottom")}}function uT(e,t,n){return{min:dT(e,t),max:dT(e,n)}}function dT(e,t){return typeof e=="number"?e:e[t]||0}const fT=()=>({translate:0,scale:1,origin:0,originPoint:0}),du=()=>({x:fT(),y:fT()}),mT=()=>({min:0,max:0}),_r=()=>({x:mT(),y:mT()});function $a(e){return[e("x"),e("y")]}function wF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _he({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Lhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ry(e){return e===void 0||e===1}function ww({scale:e,scaleX:t,scaleY:n}){return!ry(e)||!ry(t)||!ry(n)}function Fl(e){return ww(e)||kF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function kF(e){return hT(e.x)||hT(e.y)}function hT(e){return e&&e!=="0%"}function Ug(e,t,n){const r=e-n,i=t*r;return n+i}function pT(e,t,n,r,i){return i!==void 0&&(e=Ug(e,i,r)),Ug(e,n,r)+t}function kw(e,t=0,n=1,r,i){e.min=pT(e.min,t,n,r,i),e.max=pT(e.max,t,n,r,i)}function SF(e,{x:t,y:n}){kw(e.x,t.translate,t.scale,t.originPoint),kw(e.y,n.translate,n.scale,n.originPoint)}function $he(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,SF(e,s)),r&&Fl(a.latestValues)&&fu(e,a.latestValues))}t.x=gT(t.x),t.y=gT(t.y)}function gT(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Bo(e,t){e.min=e.min+t,e.max=e.max+t}function vT(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=pr(e.min,e.max,a);kw(e,t[n],t[r],s,t.scale)}const Fhe=["x","scaleX","originX"],Rhe=["y","scaleY","originY"];function fu(e,t){vT(e.x,t,Fhe),vT(e.y,t,Rhe)}function NF(e,t){return wF(Lhe(e.getBoundingClientRect(),t))}function Bhe(e,t,n){const r=NF(e,n),{scroll:i}=t;return i&&(Bo(r.x,i.offset.x),Bo(r.y,i.offset.y)),r}const CF=({current:e})=>e?e.ownerDocument.defaultView:null,zhe=new WeakMap;class Uhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=F$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$a(y=>{let v=this.getAxisMotionValue(y).get()||0;if(_s.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=Ca(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&tr.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Vhe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>$a(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:CF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&tr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Lh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Ehe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&cu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=The(i.layoutBox,n):this.constraints=!1,this.elastic=Ihe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&$a(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Ohe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!cu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Bhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Dhe(i.layout.layoutBox,a);if(n){const o=n(_he(s));this.hasMutatedConstraints=!!o,o&&(s=wF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=$a(d=>{if(!Lh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(hN(t,r,0,n))}stopAnimation(){$a(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$a(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$a(n=>{const{drag:r}=this.getProps();if(!Lh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-pr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};$a(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Mhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$a(s=>{if(!Lh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(pr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;zhe.set(this.visualElement,this);const t=this.visualElement.current,n=ao(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();cu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=to(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($a(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=bw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Lh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Vhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Whe extends xl{constructor(t){super(t),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new Uhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xT=e=>(t,n)=>{e&&tr.update(()=>e(t,n))};class Hhe extends xl{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(t){this.session=new yF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xT(t),onStart:xT(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&tr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=ao(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qhe(){const e=x.useContext(QS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ed={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=yT(e,t.target.x),r=yT(e,t.target.y);return`${n}% ${r}%`}},Khe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=cl.parse(e);if(i.length>5)return r;const a=cl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=pr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Ghe extends Wg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;efe(Yhe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||tr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jF(e){const[t,n]=qhe(),r=x.useContext(w$);return Wg.createElement(Ghe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(k$),isPresent:t,safeToRemove:n})}const Yhe={borderRadius:{...Ed,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ed,borderTopRightRadius:Ed,borderBottomLeftRadius:Ed,borderBottomRightRadius:Ed,boxShadow:Khe},PF=["TopLeft","TopRight","BottomLeft","BottomRight"],Xhe=PF.length,bT=e=>typeof e=="string"?parseFloat(e):e,wT=e=>typeof e=="number"||Ut.test(e);function Qhe(e,t,n,r,i,a){i?(e.opacity=pr(0,n.opacity!==void 0?n.opacity:1,Zhe(r)),e.opacityExit=pr(t.opacity!==void 0?t.opacity:1,0,Jhe(r))):a&&(e.opacity=pr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Xhe;s++){const o=`border${PF[s]}Radius`;let l=kT(t,o),c=kT(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||wT(l)===wT(c)?(e[o]=Math.max(pr(bT(l),bT(c),r),0),(_s.test(c)||_s.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=pr(t.rotate||0,n.rotate||0,r))}function kT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zhe=AF(0,.5,X$),Jhe=AF(.5,.95,Mr);function AF(e,t,n){return r=>r<e?0:r>t?1:n(Kf(e,t,r))}function ST(e,t){e.min=t.min,e.max=t.max}function Oa(e,t){ST(e.x,t.x),ST(e.y,t.y)}function NT(e,t,n,r,i){return e-=t,e=Ug(e,1/n,r),i!==void 0&&(e=Ug(e,1/i,r)),e}function epe(e,t=0,n=1,r=.5,i,a=e,s=e){if(_s.test(t)&&(t=parseFloat(t),t=pr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=pr(a.min,a.max,r);e===a&&(o-=t),e.min=NT(e.min,t,n,o,i),e.max=NT(e.max,t,n,o,i)}function CT(e,t,[n,r,i],a,s){epe(e,t[n],t[r],t[i],t.scale,a,s)}const tpe=["x","scaleX","originX"],npe=["y","scaleY","originY"];function jT(e,t,n,r){CT(e.x,t,tpe,n?n.x:void 0,r?r.x:void 0),CT(e.y,t,npe,n?n.y:void 0,r?r.y:void 0)}function PT(e){return e.translate===0&&e.scale===1}function EF(e){return PT(e.x)&&PT(e.y)}function rpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function TF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function AT(e){return Ca(e.x)/Ca(e.y)}class ipe{constructor(){this.members=[]}add(t){pN(this.members,t),t.scheduleRender()}remove(t){if(gN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ET(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const ape=(e,t)=>e.depth-t.depth;class spe{constructor(){this.children=[],this.isDirty=!1}add(t){pN(this.children,t),this.isDirty=!0}remove(t){gN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ape),this.isDirty=!1,this.children.forEach(t)}}function ope(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(xo(r),e(a-t))};return tr.read(r,!0),()=>xo(r)}function lpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function cpe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function upe(e,t,n){const r=sa(e)?e:Uu(e);return r.start(hN("",r,t,n)),r.animation}const TT=["","X","Y","Z"],dpe={visibility:"hidden"},DT=1e3;let fpe=0;const Rl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function DF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=fpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rl.totalNodes=Rl.resolvedTargetDeltas=Rl.recalculatedProjection=0,this.nodes.forEach(ppe),this.nodes.forEach(bpe),this.nodes.forEach(wpe),this.nodes.forEach(gpe),lpe(Rl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new spe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new vN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cpe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ope(h,250),sp.hasAnimatedSinceResize&&(sp.hasAnimatedSinceResize=!1,this.nodes.forEach(OT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||jpe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!TF(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...mN(g,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||OT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kpe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MT);return}this.isUpdating||this.nodes.forEach(xpe),this.isUpdating=!1,this.nodes.forEach(ype),this.nodes.forEach(mpe),this.nodes.forEach(hpe),this.clearAllSnapshots();const o=performance.now();wi.delta=ll(0,1e3/60,o-wi.timestamp),wi.timestamp=o,wi.isProcessing=!0,Kx.update.process(wi),Kx.preRender.process(wi),Kx.render.process(wi),wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vpe),this.sharedNodes.forEach(Spe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!EF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Fl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ppe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return _r();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Bo(o.x,l.offset.x),Bo(o.y,l.offset.y)),o}removeElementScroll(s){const o=_r();Oa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Oa(o,s);const{scroll:h}=this.root;h&&(Bo(o.x,-h.offset.x),Bo(o.y,-h.offset.y))}Bo(o.x,d.offset.x),Bo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=_r();Oa(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Fl(d.latestValues)&&fu(l,d.latestValues)}return Fl(this.latestValues)&&fu(l,this.latestValues),l}removeTransform(s){const o=_r();Oa(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fl(c.latestValues))continue;ww(c.latestValues)&&c.updateSnapshot();const d=_r(),f=c.measurePageBox();Oa(d,f),jT(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Fl(this.latestValues)&&jT(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=wi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),tf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ahe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oa(this.target,this.layout.layoutBox),SF(this.target,this.targetDelta)):Oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),tf(this.relativeTargetOrigin,this.target,m.target),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ww(this.parent.latestValues)||kF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Oa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;$he(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=du(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=du(),this.projectionDeltaWithTransform=du());const g=this.projectionTransform;ef(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=ET(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Rl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=_r(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),v=!y||y.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Cpe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;IT(f.x,s.x,C),IT(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Npe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&rpe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=_r()),Oa(w,this.relativeTarget)),g&&(this.animationValues=d,Qhe(d,c,this.latestValues,C,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{sp.hasAnimatedSinceResize=!0,this.currentAnimation=upe(0,DT,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&MF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||_r();const f=Ca(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ca(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Oa(o,l),fu(o,d),ef(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ipe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<TT.length;d++){const f="rotate"+TT[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ap(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ap(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Fl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=ET(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in _g){if(h[g]===void 0)continue;const{correct:y,applyTo:v}=_g[g],b=c.transform==="none"?h[g]:y(h[g],f);if(v){const w=v.length;for(let S=0;S<w;S++)c[v[S]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?ap(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(MT),this.root.sharedNodes.clear()}}}function mpe(e){e.updateLayout()}function hpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?$a(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ca(h);h.min=r[f].min,h.max=h.min+m}):MF(a,n.layoutBox,r)&&$a(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ca(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=du();ef(o,r,n.layoutBox);const l=du();s?ef(l,e.applyTransform(i,!0),n.measuredBox):ef(l,r,n.layoutBox);const c=!EF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=_r();tf(p,n.layoutBox,h.layoutBox);const g=_r();tf(g,r,m.layoutBox),TF(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ppe(e){Rl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vpe(e){e.clearSnapshot()}function MT(e){e.clearMeasurements()}function xpe(e){e.isLayoutDirty=!1}function ype(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bpe(e){e.resolveTargetDelta()}function wpe(e){e.calcProjection()}function kpe(e){e.resetRotation()}function Spe(e){e.removeLeadSnapshot()}function IT(e,t,n){e.translate=pr(t.translate,0,n),e.scale=pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _T(e,t,n,r){e.min=pr(t.min,n.min,r),e.max=pr(t.max,n.max,r)}function Npe(e,t,n,r){_T(e.x,t.x,n.x,r),_T(e.y,t.y,n.y,r)}function Cpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jpe={duration:.45,ease:[.4,0,.1,1]},LT=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$T=LT("applewebkit/")&&!LT("chrome/")?Math.round:Mr;function FT(e){e.min=$T(e.min),e.max=$T(e.max)}function Ppe(e){FT(e.x),FT(e.y)}function MF(e,t,n){return e==="position"||e==="preserve-aspect"&&!yw(AT(t),AT(n),.2)}const Ape=DF({attachResizeListener:(e,t)=>to(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},OF=DF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iy.current){const e=new Ape({});e.mount(window),e.setOptions({layoutScroll:!0}),iy.current=e}return iy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Epe={pan:{Feature:Hhe},drag:{Feature:Whe,ProjectionNode:OF,MeasureLayout:jF}},Tpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Dpe(e){const t=Tpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Sw(e,t,n=1){const[r,i]=Dpe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return pF(s)?parseFloat(s):s}else return fw(i)?Sw(i,t,n+1):i}function Mpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!fw(a))return;const s=Sw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!fw(a))continue;const s=Sw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Ope=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),IF=e=>Ope.has(e),Ipe=e=>Object.keys(e).some(IF),RT=e=>e===Pc||e===Ut,BT=(e,t)=>parseFloat(e.split(", ")[t]),zT=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return BT(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?BT(a[1],e):0}},_pe=new Set(["x","y","z"]),Lpe=Om.filter(e=>!_pe.has(e));function $pe(e){const t=[];return Lpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Vu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zT(4,13),y:zT(5,14)};Vu.translateX=Vu.x;Vu.translateY=Vu.y;const Fpe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Vu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Vu[c](l,a)}),e},Rpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(IF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Ad(d);const h=t[l];let m;if($g(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Ad(d);for(let y=g;y<p&&h[y]!==null;y++)m?lN(Ad(h[y])===m):m=Ad(h[y])}else m=Ad(h);if(f!==m)if(RT(f)&&RT(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Ut&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=$pe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Fpe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),pv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Bpe(e,t,n,r){return Ipe(t)?Rpe(e,t,n,r):{target:t,transitionEnd:r}}const zpe=(e,t,n,r)=>{const i=Mpe(e,t,r);return t=i.target,r=i.transitionEnd,Bpe(e,t,n,r)},Nw={current:null},_F={current:!1};function Upe(){if(_F.current=!0,!!pv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nw.current=e.matches;e.addListener(t),t()}else Nw.current=!1}function Vpe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(sa(a))e.addValue(i,a),zg(r)&&r.add(i);else if(sa(s))e.addValue(i,Uu(a,{owner:e})),zg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Uu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const UT=new WeakMap,LF=Object.keys(qf),Wpe=LF.length,VT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Hpe=eN.length;class qpe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=vv(n),this.isVariantNode=b$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&sa(h)&&(h.set(o[f],!1),zg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,UT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_F.current||Upe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UT.delete(this.current),this.projection&&this.projection.unmount(),xo(this.notifyUpdate),xo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=jc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&tr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Wpe;l++){const c=LF[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=qf[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&cu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VT.length;r++){const i=VT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Vpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Hpe;r++){const i=eN[r],a=this.props[i];(Hf(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Uu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=oN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class $F extends qpe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=che(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){ohe(this,r,s);const o=zpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Kpe(e){return window.getComputedStyle(e)}class Gpe extends $F{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(jc.has(n)){const r=fN(n);return r&&r.default||0}else{const r=Kpe(t),i=(C$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NF(t,n)}build(t,n,r,i){nN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return sN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){D$(t,n,r,i)}}class Ype extends $F{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(jc.has(n)){const r=fN(n);return r&&r.default||0}return n=M$.has(n)?n:ZS(n),t.getAttribute(n)}measureInstanceViewportBox(){return _r()}scrapeMotionValuesFromProps(t,n){return I$(t,n)}build(t,n,r,i){iN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){O$(t,n,r,i)}mount(t){this.isSVGTag=aN(t.tagName),super.mount(t)}}const Xpe=(e,t)=>tN(e)?new Ype(t,{enableHardwareAcceleration:!1}):new Gpe(t,{enableHardwareAcceleration:!0}),Qpe={layout:{ProjectionNode:OF,MeasureLayout:jF}},Zpe={...Nhe,...Wfe,...Epe,...Qpe},js=Zde((e,t)=>Dfe(e,t,Zpe,Xpe));function Jpe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:v=>v.target===v.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onFocus:s,onBlur:v=>o(v.relatedTarget),onKeyDown:v=>{v.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((v,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(v)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:v.section}),u.jsx("div",{className:"truncate",children:d(v.text,n)})]},`${v.hitId}-${b}-${v.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Ki,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((v,b)=>{const w=v.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${v.level===1?"proof-of-work-toc-item--l1":v.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":v.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(v),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:v.text})]},`${v.id}-${v.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Ml="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",ay="arcbridge_web_theme_override",WT="__default__",ege=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},tge=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},nge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},HT=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},rge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},qT=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),ige=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},age=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function sge(){var Us;const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,a]=x.useState(null),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,f]=x.useState(null),[h,m]=x.useState(null),[p,g]=x.useState(!1),[y,v]=x.useState(!1),[b,w]=x.useState("classic"),[S,C]=x.useState("classic"),[N,P]=x.useState(np.id),[D,_]=x.useState(null),[A,$]=x.useState(!1),[M,ee]=x.useState(!1),[ne,ue]=x.useState(""),[q,H]=x.useState(""),[W,re]=x.useState([]),[E,j]=x.useState(!1),[V,k]=x.useState("overview"),[O,ie]=x.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),Z=x.useRef(null),B=x.useRef(null),J=x.useRef(null),L=x.useRef(null),Y=x.useRef(null),oe=x.useRef(new Map),te=x.useRef(null),z=x.useMemo(()=>{let X=window.location.pathname||"/";const pe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return X.endsWith("/index.html")&&(X=X.slice(0,-11)),X.includes("/reports/")&&(X=X.replace(/\/reports\/[^/]+\/?$/,"")),pe&&(X=X.replace(/^\/web\/web(?=\/|$)/,"/web")),X.endsWith("/")||(X=`${X}/`),X},[]),R=x.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),I=x.useMemo(()=>{const pe=[z,"./","/"],ke=[];return pe.forEach(ot=>{let Pt=ot||"/";Pt!=="./"&&!Pt.endsWith("/")&&(Pt=`${Pt}/`),ke.includes(Pt)||ke.push(Pt)}),ke},[z,R]),[Q,je]=x.useState(I[0]||"/"),_e=X=>{var pe;return typeof X=="string"||typeof X=="number"?String(X):Array.isArray(X)?X.map(_e).join(""):X&&typeof X=="object"&&"props"in X?_e((pe=X.props)==null?void 0:pe.children):""},ae=X=>{const pe=qT(X||"section")||"section",ke=oe.current,ot=(ke.get(pe)??0)+1;return ke.set(pe,ot),ot===1?pe:`${pe}-${ot}`},Be=x.useMemo(()=>{const X=qx.split(`
`),pe=new Map,ke=[],ot=Pt=>{const Mt=qT(Pt||"section")||"section",an=(pe.get(Mt)??0)+1;return pe.set(Mt,an),an===1?Mt:`${Mt}-${an}`};for(const Pt of X){const Mt=/^(#{1,3})\s+(.*)\s*$/.exec(Pt);if(!Mt)continue;const an=Mt[1].length,jt=Mt[2].trim();jt&&ke.push({level:an,text:jt,id:ot(jt)})}return ke},[qx]),Te=(X,pe)=>{const ke=X==="./"?"./":X.endsWith("/")?X:`${X}/`,ot=String(pe||"").replace(/^\/+/,"");return`${ke}${ot}`};x.useEffect(()=>{const X=ege(ay);if(X)try{const pe=JSON.parse(X),ke=typeof(pe==null?void 0:pe.themeId)=="string"?pe.themeId:null;ke&&Cd.some(ot=>ot.id===ke)&&_(ke)}catch{}},[]),x.useEffect(()=>{const X=D||N,pe=Cd.find(ke=>ke.id===X)||np;f(pe)},[D,N]),x.useEffect(()=>{if(!D){w(S);return}if(D===tp){w("matte");return}if(D==="CRT"){w("crt");return}w("classic")},[D,S]),x.useEffect(()=>{je(I[0]||"/");let X=!0;return(async()=>{for(const ke of I)try{if((await fetch(Te(ke,"ui-theme.json"),{cache:"no-store"})).ok){X&&je(ke);return}}catch{}})(),()=>{X=!1}},[I]);const xt=(X,pe)=>{const ke=pe.trim();if(!ke)return X;const ot=X.toLowerCase(),Pt=ke.toLowerCase(),Mt=ot.indexOf(Pt);if(Mt===-1)return X;const an=X.slice(0,Mt),jt=X.slice(Mt,Mt+ke.length),At=X.slice(Mt+ke.length);return u.jsxs(u.Fragment,{children:[an,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:jt}),At]})},on=(X,pe)=>{const ke=B.current;if(!ke)return;let ot=ke.querySelector(`[data-search-hit="${X}"]`);if(!ot&&pe){const Pt=pe.trim().replace(/\s+/g," "),Mt=Array.from(ke.querySelectorAll("h1, h2, h3, p, li, code"));ot=Mt.find(an=>(an.textContent||"").trim().replace(/\s+/g," ")===Pt)||null,ot||(ot=Mt.find(an=>(an.textContent||"").toLowerCase().includes(Pt.toLowerCase()))||null)}ot&&requestAnimationFrame(()=>{const Pt=ke.getBoundingClientRect(),Mt=ot.getBoundingClientRect(),an=Math.max(0,ke.scrollTop+(Mt.top-Pt.top)-12);ke.scrollTop=an,ot.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),Y.current&&window.clearTimeout(Y.current),Y.current=window.setTimeout(()=>{ot.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Pn=X=>{const pe=B.current,ke=X.trim().toLowerCase();if(!pe||ke.length<2){re([]);return}const ot=Array.from(pe.querySelectorAll("h1, h2, h3, p, li, code"));ot.forEach(an=>an.removeAttribute("data-search-hit"));const Pt=[];let Mt=0;ot.forEach((an,jt)=>{const At=(an.textContent||"").trim();if(At&&At.toLowerCase().includes(ke)){let ln="";for(let Ke=jt;Ke>=0;Ke-=1){const pt=ot[Ke];if(pt&&["H1","H2","H3"].includes(pt.tagName)){ln=(pt.textContent||"").trim();break}}an.setAttribute("data-search-hit",String(Mt)),Pt.push({index:jt,text:At,section:ln||"Unlabeled Section",hitId:Mt}),Mt+=1}}),re(Pt.slice(0,12))};x.useEffect(()=>{var pe;if(!M)return;ue(((pe=Be[0])==null?void 0:pe.id)||"");const X=ke=>{var Pt;const ot=ke.target;ot&&((Pt=J.current)!=null&&Pt.contains(ot)||(j(!1),re([])))};return window.addEventListener("mousedown",X),()=>{window.removeEventListener("mousedown",X)}},[M,Be]),x.useEffect(()=>{if(!M){ue("");return}const X=B.current;if(!X)return;let pe=0;const ke=()=>{var Or;const Pt=Array.from(X.querySelectorAll("[data-heading-id]"));if(Pt.length===0)return;const an=X.getBoundingClientRect().top+18,jt=Pt.map((cr,Vr)=>({index:Vr,id:cr.dataset.headingId||cr.id||"",top:cr.getBoundingClientRect().top})).filter(cr=>!!cr.id);if(jt.length===0)return;let At=0,ln=!1;for(const cr of jt){if(cr.top<=an){At=cr.index,ln=!0;continue}ln||(At=cr.index);break}X.scrollTop+X.clientHeight>=X.scrollHeight-2&&(At=Math.max(0,jt.length-1));const pt=Be[At],Nn=((Or=jt[At])==null?void 0:Or.id)||"",sn=(pt==null?void 0:pt.id)||Nn;sn&&ue(sn)};ke();const ot=()=>{pe&&cancelAnimationFrame(pe),pe=requestAnimationFrame(ke)};return X.addEventListener("scroll",ot,{passive:!0}),window.addEventListener("resize",ot),()=>{pe&&cancelAnimationFrame(pe),X.removeEventListener("scroll",ot),window.removeEventListener("resize",ot)}},[M,Be]);const cn=x.useMemo(()=>[{id:"overview",label:"Overview",icon:g6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Jl},{id:"fight-breakdown",label:"Fight Breakdown",icon:qd},{id:"top-players",label:"Top Players",icon:Jl},{id:"top-skills-outgoing",label:"Top Skills",icon:y1},{id:"squad-composition",label:"Classes",icon:Dr},{id:"timeline",label:"Squad vs Enemy Size",icon:Dr},{id:"map-distribution",label:"Map Distribution",icon:k1}]},{id:"roster",label:"Roster Intel",icon:bf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:bf},{id:"squad-comp-fight",label:"Squad Comp",icon:Dr},{id:"fight-comp",label:"Fight Comp",icon:qd}]},{id:"offense",label:"Offensive Stats",icon:qd,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Op},{id:"player-breakdown",label:"Player Breakdown",icon:w1},{id:"spike-damage",label:"Spike Damage",icon:wf},{id:"conditions-outgoing",label:"Conditions",icon:s0}]},{id:"defense",label:"Defensive Stats",icon:Tu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Tu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:wf},{id:"defense-mitigation",label:"Damage Mitigation",icon:j1},{id:"boon-output",label:"Boon Output",icon:C1},{id:"support-detailed",label:"Support Detailed",icon:S1},{id:"healing-stats",label:"Healing Stats",icon:mO}]},{id:"other",label:"Other Metrics",icon:o0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Mp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:P1},{id:"skill-usage",label:"Skill Usage",icon:b1},{id:"apm-stats",label:"APM Breakdown",icon:N1}]}],[]),he=x.useMemo(()=>{const X=new Map;return cn.forEach(pe=>{X.set(pe.id.toLowerCase(),pe.id),(pe.sectionIds||[]).forEach(ke=>X.set(String(ke).toLowerCase(),pe.id)),(pe.items||[]).forEach(ke=>X.set(String(ke.id).toLowerCase(),pe.id))}),X.set("report-top","overview"),X.set("overview","overview"),X.set("kdr","overview"),X},[cn]),Se=x.useMemo(()=>cn.find(X=>X.id===V)||cn[0],[cn,V]),Ft=x.useMemo(()=>{const pe=((Se==null?void 0:Se.sectionIds)||((Se==null?void 0:Se.items)||[]).map(ke=>ke.id)).map(ke=>ke==="kdr"?"overview":ke);return new Set(pe)},[Se]),Kt=X=>{const pe=X==="kdr"?"overview":X,ke=pe==="overview"?"report-top":pe,ot=document.getElementById(ke);if(!ot||!(ot.getAttribute("data-section-visible")!=="false")||!ot.offsetParent)return!1;const Mt=ot.getBoundingClientRect();if(Mt.height<=0)return!1;let an=0;if(ke==="stats-view-top"){const At=document.getElementById("report-top");At&&(an=At.getBoundingClientRect().height+12)}const jt=Mt.top+window.scrollY-12-an;return window.scrollTo({top:Math.max(0,jt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${ke}`),!0},gn=(X,pe=0)=>{Kt(X)||pe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>gn(X,pe+1))},40)};x.useEffect(()=>{if(!e)return;const X=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ke=>{ke.scrollHeight})});return()=>cancelAnimationFrame(X)},[e]),x.useEffect(()=>{const X=te.current;if(!X)return;let pe=0;const ke=()=>{if(Kt(X)){te.current=null;return}if(pe+=1,pe>=20){te.current=null;return}window.setTimeout(()=>requestAnimationFrame(ke),40)};requestAnimationFrame(ke)},[V]),x.useEffect(()=>{const X=()=>{const pe=(window.location.hash||"").replace(/^#/,"").trim();if(!pe)return;let ke=pe;try{ke=decodeURIComponent(pe)}catch{ke=pe}const ot=ke.toLowerCase(),Pt=he.get(ot);Pt&&(k(Pt),ie(()=>{const Mt={};return cn.forEach(an=>{Mt[an.id]=an.id===Pt}),Mt}),te.current=ot==="report-top"?"kdr":ot)};return X(),window.addEventListener("hashchange",X),()=>{window.removeEventListener("hashchange",X)}},[he,cn]);const mn=b==="matte",Ur=d??np,lr=Ur.rgb,ua=mn?"#d8e1eb":"var(--accent)",Ti={"--accent":`rgb(${lr})`,"--accent-rgb":lr,"--accent-soft":`rgba(${lr}, 0.32)`,"--accent-strong":`rgba(${lr}, 0.95)`,"--accent-border":`rgba(${lr}, 0.4)`,"--accent-glow":`rgba(${lr}, 0.18)`,"--accent-glow-soft":`rgba(${lr}, 0.08)`},vn=b==="modern"||b==="matte",xn=Ur.pattern?mn?void 0:vn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Ur.pattern}`:Ur.pattern:void 0,br=mn?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:vn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};x.useEffect(()=>{var an;let X=!0;const ke=new URLSearchParams(window.location.search).get("report")||((an=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:an[1])||null,ot=ke?`${z}reports/${ke}/report.json`:`${z}report.json`;ke&&o(ot);const Pt=jt=>{var Ke,pt,Nn;const At=new Set((((Ke=jt==null?void 0:jt.meta)==null?void 0:Ke.commanders)||[]).map(sn=>String(sn)));if(At.size===0)return jt;const ln=jt.stats;return(pt=ln==null?void 0:ln.leaderboards)!=null&&pt.closestToTag&&(ln.leaderboards.closestToTag=ln.leaderboards.closestToTag.map(sn=>At.has(String(sn==null?void 0:sn.account))?{...sn,value:0}:sn)),(Nn=ln==null?void 0:ln.closestToTag)!=null&&Nn.player&&At.has(String(ln.closestToTag.player))&&(ln.closestToTag={...ln.closestToTag,value:0}),jt},Mt=jt=>{var Nn,sn,Or,cr,Vr;const At=jt==null?void 0:jt.stats;if(!At||typeof At!="object")return jt;const ln=Array.isArray((Nn=At==null?void 0:At.leaderboards)==null?void 0:Nn.downContrib)?At.leaderboards.downContrib:[];if(!ln.length)return jt;const pt=ln.map(Ar=>({...Ar,value:Number((Ar==null?void 0:Ar.value)??0)})).filter(Ar=>Number.isFinite(Ar.value)).sort((Ar,ys)=>ys.value-Ar.value||String((Ar==null?void 0:Ar.account)||"").localeCompare(String((ys==null?void 0:ys.account)||"")))[0];return pt&&(At.maxDownContrib={...At.maxDownContrib||{},value:Number(pt.value||0),player:String(pt.account||((sn=At.maxDownContrib)==null?void 0:sn.player)||"-"),count:Number(pt.count||((Or=At.maxDownContrib)==null?void 0:Or.count)||0),profession:String(pt.profession||((cr=At.maxDownContrib)==null?void 0:cr.profession)||"Unknown"),professionList:Array.isArray(pt.professionList)?pt.professionList:((Vr=At.maxDownContrib)==null?void 0:Vr.professionList)||[]}),jt};return fetch(ot,{cache:"no-store"}).then(jt=>jt.ok?jt.json():Promise.reject()).then(jt=>{var Ke,pt,Nn;if(!X)return;const At=Mt(Pt(jt));t(At);const ln=(Ke=At==null?void 0:At.stats)==null?void 0:Ke.uiTheme;ln==="modern"||ln==="classic"||ln==="crt"||ln==="matte"?C(ln):((pt=At==null?void 0:At.stats)==null?void 0:pt.webThemeId)===tp&&C("matte"),typeof((Nn=At==null?void 0:At.stats)==null?void 0:Nn.webThemeId)=="string"&&At.stats.webThemeId&&P(At.stats.webThemeId)}).catch(()=>{if(ke){if(!X)return;a("Report not found yet. It may still be deploying.")}fetch(`${z}reports/index.json`,{cache:"no-store"}).then(jt=>jt.ok?jt.json():Promise.reject()).then(jt=>{X&&r(Array.isArray(jt)?jt:[])}).catch(()=>{X&&a("No report data found.")})}),()=>{X=!1}},[z]),x.useEffect(()=>{if(e){const X=e.meta.dateLabel||HT(e.meta.dateStart,e.meta.dateEnd);document.title=X?`ArcBridge  ${e.meta.title}  ${X}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),x.useEffect(()=>{var pe;const X=(pe=e==null?void 0:e.stats)==null?void 0:pe.webThemeId;typeof X=="string"&&X&&P(X)},[e]),x.useEffect(()=>{const X=document.body;X.classList.add("web-report"),X.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),mn?X.classList.add("theme-matte"):b==="modern"?X.classList.add("theme-modern"):b==="crt"?X.classList.add("theme-crt"):X.classList.add("theme-classic")},[b,mn]),x.useEffect(()=>{var pe;if(R&&((pe=e==null?void 0:e.stats)!=null&&pe.webThemeId))return;let X=!0;return fetch(Te(Q,"theme.json"),{cache:"no-store"}).then(ke=>ke.ok?ke.json():Promise.reject()).then(ke=>{X&&typeof(ke==null?void 0:ke.id)=="string"&&ke.id&&P(ke.id)}).catch(()=>{}),()=>{X=!1}},[Q,R,e]),x.useEffect(()=>{var Mt,an;const X=(Mt=e==null?void 0:e.stats)==null?void 0:Mt.webThemeId,pe=(an=e==null?void 0:e.stats)==null?void 0:an.uiTheme;if((pe==="modern"||pe==="classic"||pe==="crt"||pe==="matte")&&!(X===tp&&pe!=="matte"||X==="CRT"&&pe!=="crt"))return;let Pt=!0;return fetch(Te(Q,"ui-theme.json"),{cache:"no-store"}).then(jt=>jt.ok?jt.json():Promise.reject()).then(jt=>{if(!Pt)return;const At=jt==null?void 0:jt.theme;(At==="modern"||At==="classic"||At==="crt"||At==="matte")&&C(At)}).catch(()=>{}),()=>{Pt=!1}},[Q,e]),x.useEffect(()=>{let X=!0;return fetch(Te(Q,"logo.json"),{cache:"no-store"}).then(pe=>pe.ok?pe.json():Promise.reject()).then(pe=>{if(!X)return;const ke="svg/ArcBridge.svg",ot=pe!=null&&pe.path?String(pe.path):ke,Pt=pe!=null&&pe.updatedAt?String(pe.updatedAt):"",Mt=Te(Q,ot),an=Pt?`${Mt}?v=${encodeURIComponent(Pt)}`:Mt;m(an),g(!(pe!=null&&pe.path)||ot===ke)}).catch(()=>{X&&(m(null),g(!1))}),()=>{X=!1}},[Q]);const un=x.useMemo(()=>n?[...n].sort((X,pe)=>{const ke=new Date(X.dateEnd||X.dateStart).getTime();return new Date(pe.dateEnd||pe.dateStart).getTime()-ke}):[],[n]),ei=x.useMemo(()=>{if(!un.length)return[];const X=l.trim().toLowerCase();return X?un.filter(pe=>{var Pt;const ke=((Pt=pe.commanders)==null?void 0:Pt.join(" "))||"";return`${pe.title} ${ke} ${pe.dateLabel}`.toLowerCase().includes(X)}):un},[un,l]),Di=X=>{if(!X){nge(ay);return}tge(ay,JSON.stringify({themeId:X}))},Ac=X=>{const pe=X===WT?null:X;pe&&!Cd.some(ke=>ke.id===pe)||(_(pe),Di(pe),$(!1))};x.useEffect(()=>{const X=ke=>{L.current&&(L.current.contains(ke.target)||$(!1))},pe=ke=>{ke.key==="Escape"&&$(!1)};return window.addEventListener("mousedown",X),window.addEventListener("keydown",pe),()=>{window.removeEventListener("mousedown",X),window.removeEventListener("keydown",pe)}},[]);const yl=x.useMemo(()=>{if(!D)return"Default";const X=Cd.find(pe=>pe.id===D);return(X==null?void 0:X.label)||"Default"},[D]),bl=u.jsxs("div",{className:"relative flex items-center gap-2",ref:L,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>$(X=>!X),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:yl}),u.jsx("span",{className:`transition-transform ${A?"rotate-180":""}`,children:""})]}),A&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Ac(WT),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Cd.map(X=>u.jsx("button",{type:"button",onClick:()=>Ac(X.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===X.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:X.label},X.id))]})]}),zs=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:bl}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:X=>{X.preventDefault(),ee(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),wl=u.jsxs(Jpe,{isOpen:M,onClose:()=>ee(!1),searchValue:q,searchFocused:E,searchResults:W,onSearchChange:X=>{H(X),requestAnimationFrame(()=>Pn(X))},onSearchFocus:()=>{j(!0),requestAnimationFrame(()=>Pn(q))},onSearchBlur:X=>{var pe;X&&((pe=J.current)!=null&&pe.contains(X))||j(!1)},onSearchEnter:()=>{W.length>0&&on(W[0].hitId,W[0].text)},onSearchResultMouseDown:X=>{j(!0),on(X.hitId,X.text)},renderHighlightedMatch:xt,searchRef:J,tocItems:Be,activeTocId:ne,onTocClick:X=>{const pe=B.current;if(!pe)return;let ke=pe.querySelector(`[data-heading-id="${X.id}"]`);if(!ke){const ot=X.text.trim().replace(/\s+/g," ");ke=Array.from(pe.querySelectorAll("h1, h2, h3")).find(Mt=>(Mt.textContent||"").trim().replace(/\s+/g," ")===ot)||null}ke&&(ue(X.id),requestAnimationFrame(()=>{const ot=pe.getBoundingClientRect(),Pt=ke.getBoundingClientRect(),Mt=pe.scrollTop+(Pt.top-ot.top)-12;pe.scrollTop=Math.max(0,Mt)}))},contentRef:B,children:[(oe.current=new Map,null),u.jsx(Ace,{remarkPlugins:[zde],components:{h1:({children:X})=>{const pe=_e(X),ke=ae(pe);return u.jsx("h1",{id:ke,"data-heading-id":ke,className:"text-2xl font-bold text-white scroll-mt-6",children:X})},h2:({children:X})=>{const pe=_e(X),ke=ae(pe);return u.jsx("h2",{id:ke,"data-heading-id":ke,className:"text-xl font-semibold text-white scroll-mt-6",children:X})},h3:({children:X})=>{const pe=_e(X),ke=ae(pe);return u.jsx("h3",{id:ke,"data-heading-id":ke,className:"text-lg font-semibold text-white scroll-mt-6",children:X})},p:({children:X})=>u.jsx("p",{className:"leading-6 text-gray-200",children:X}),ul:({children:X})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:X}),ol:({children:X})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:X}),li:({children:X})=>u.jsx("li",{className:"leading-6",children:X}),blockquote:({children:X})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:X}),a:({href:X,children:pe})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:X,target:"_blank",rel:"noreferrer",children:pe}),table:({children:X})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:X})}),th:({children:X})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:X}),td:({children:X})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:X}),pre:({children:X})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:X}),code:X=>{const{inline:pe,children:ke}=X;return pe===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:ke}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:ke})}},children:qx})]});if(e){const X=Te(Q,"svg/ArcBridge.svg"),pe=Ke=>{ie(()=>{const pt={};return cn.forEach(Nn=>{pt[Nn.id]=Nn.id===Ke}),pt})},ke=Ke=>{te.current=null,k(Ke),window.scrollTo({top:0,behavior:"smooth"})},ot=Ke=>{if(!!!O[Ke]){pe(Ke),ke(Ke);return}if(Ke!==V){ke(Ke);return}ie(Nn=>({...Nn,[Ke]:!1}))},Pt=(Ke,pt)=>{O[Ke]||pe(Ke);const Nn=Ke===V;Nn||(te.current=pt,k(Ke),window.scrollTo({top:0,behavior:"auto"})),Nn&&requestAnimationFrame(()=>gn(pt))},Mt=Ke=>{const pt=Ke.currentTarget;if(!(pt.scrollHeight>pt.clientHeight)){window.scrollBy({top:Ke.deltaY,behavior:"auto"}),Ke.preventDefault();return}const sn=pt.scrollTop<=0,Or=pt.scrollTop+pt.clientHeight>=pt.scrollHeight-1;(sn&&Ke.deltaY<0||Or&&Ke.deltaY>0)&&(window.scrollBy({top:Ke.deltaY,behavior:"auto"}),Ke.preventDefault())},an=Ke=>{const pt=Z.current;if(!pt)return;const Nn=Ke.target;if(!Nn||!pt.contains(Nn))return;let sn=Nn;for(;sn&&sn!==pt;){const cr=window.getComputedStyle(sn).overflowY;if((cr==="auto"||cr==="scroll")&&sn.scrollHeight>sn.clientHeight+1){const Ar=sn.scrollTop<=0,ys=sn.scrollTop+sn.clientHeight>=sn.scrollHeight-1;(Ke.deltaY<0&&Ar||Ke.deltaY>0&&ys)&&(window.scrollBy({top:Ke.deltaY,behavior:"auto"}),Ke.preventDefault());return}sn=sn.parentElement}},jt=Ke=>{const pt=Math.max(0,6-Ke);return{accordionDuration:.5+pt*.07,itemDuration:.34+pt*.035,stagger:.05+pt*.01,delayChildren:.06+pt*.015}},At=Ke=>{const pt=jt(Ke);return{open:{transition:{staggerChildren:pt.stagger,delayChildren:pt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,pt.stagger*.7),staggerDirection:-1}}}},ln={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:mn?"var(--bg-base)":vn?"#0f141c":"#0f172a",backgroundImage:mn?"none":xn,...Ti},children:[!mn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>v(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Mt,children:cn.map(Ke=>{const pt=Ke.icon,Nn=Ke.id===V,sn=!!O[Ke.id],Or=jt(Ke.items.length),cr=At(Ke.items.length);return u.jsxs(js.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>ot(Ke.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Nn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(pt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ke.label}),u.jsx(js.span,{className:"ml-auto inline-flex",animate:{rotate:sn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Wl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(js.div,{initial:!1,animate:sn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Or.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(js.div,{variants:cr,initial:!1,animate:sn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ke.items.map(Vr=>{const Ar=Vr.icon;return u.jsxs(js.button,{variants:ln,transition:{duration:Or.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Pt(Ke.id,Vr.id),v(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Ar,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Vr.label]},Vr.id)})})},`${Ke.id}-submenu-mobile`)]},Ke.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ua,maskImage:`url(${X})`,WebkitMaskImage:`url(${X})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Mt,children:cn.map(Ke=>{const pt=Ke.icon,Nn=Ke.id===V,sn=!!O[Ke.id],Or=jt(Ke.items.length),cr=At(Ke.items.length);return u.jsxs(js.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>ot(Ke.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Nn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(pt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ke.label}),u.jsx(js.span,{className:"ml-auto inline-flex",animate:{rotate:sn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Wl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(js.div,{initial:!1,animate:sn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Or.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(js.div,{variants:cr,initial:!1,animate:sn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ke.items.map(Vr=>{const Ar=Vr.icon;return u.jsxs(js.button,{variants:ln,transition:{duration:Or.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Pt(Ke.id,Vr.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Ar,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Vr.label]},Vr.id)})})},`${Ke.id}-submenu-desktop`)]},Ke.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Ml} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:br,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ua,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||HT(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>v(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(J2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(l6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Dr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(hO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Se==null?void 0:Se.items)||[]).map(Ke=>{const pt=Ke.icon;return u.jsxs("button",{onClick:()=>Pt((Se==null?void 0:Se.id)||"overview",Ke.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(pt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Ke.label]},`chip-${Ke.id}`)})})]}),u.jsx("div",{ref:Z,onWheelCapture:an,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Hie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(Us=e.stats)==null?void 0:Us.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:Ke=>Ft.has(Ke),dashboardTitle:`Statistics Dashboard - ${(Se==null?void 0:Se.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:zs})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(dO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(J2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(o6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),wl]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:mn?"var(--bg-base)":vn?"#0f141c":"#0f172a",backgroundImage:mn?"none":xn,...Ti},children:[!mn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Ml} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:br,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ua,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[ei.length," Reports"]})})]}),u.jsxs("div",{className:`${Ml} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:br,children:[u.jsx("input",{type:"search",value:l,onChange:X=>c(X.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:ei.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:un.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:br,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${Ml} p-6 text-gray-300`,style:br,children:"Loading reports..."}),ei.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:ei.map(X=>{var pe,ke,ot,Pt;return u.jsx("a",{href:X.url,className:`${Ml} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:br,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:X.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:rge(X.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Dr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:X.commanders.length?X.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(pe=X.summary)!=null&&pe.mapSlices&&X.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(ige,{slices:X.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(age,{value:(ke=X.summary)==null?void 0:ke.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((ot=X.summary)==null?void 0:ot.avgSquadSize)??"--"," / ",((Pt=X.summary)==null?void 0:Pt.avgEnemySize)??"--"]})]}),u.jsx(f6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},X.id)})}),!i&&n&&un.length===0&&u.jsx("div",{className:`${Ml} p-6 text-gray-300`,style:br,children:"No reports uploaded yet."}),!i&&n&&un.length>0&&ei.length===0&&u.jsx("div",{className:`${Ml} p-6 text-gray-300`,style:br,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:zs})]}),wl]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");sy.createRoot(document.getElementById("root")).render(u.jsx(Wg.StrictMode,{children:u.jsx(sge,{})}));
