var vz=Object.defineProperty;var bz=(e,t,n)=>t in e?vz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Dv=(e,t,n)=>bz(e,typeof t!="symbol"?t+"":t,n);function yz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cE={exports:{}},q0={},uE={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=Symbol.for("react.element"),wz=Symbol.for("react.portal"),kz=Symbol.for("react.fragment"),Sz=Symbol.for("react.strict_mode"),Nz=Symbol.for("react.profiler"),Cz=Symbol.for("react.provider"),jz=Symbol.for("react.context"),Az=Symbol.for("react.forward_ref"),Pz=Symbol.for("react.suspense"),Dz=Symbol.for("react.memo"),Tz=Symbol.for("react.lazy"),V2=Symbol.iterator;function Mz(e){return e===null||typeof e!="object"?null:(e=V2&&e[V2]||e["@@iterator"],typeof e=="function"?e:null)}var dE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fE=Object.assign,mE={};function Od(e,t,n){this.props=e,this.context=t,this.refs=mE,this.updater=n||dE}Od.prototype.isReactComponent={};Od.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Od.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hE(){}hE.prototype=Od.prototype;function D1(e,t,n){this.props=e,this.context=t,this.refs=mE,this.updater=n||dE}var T1=D1.prototype=new hE;T1.constructor=D1;fE(T1,Od.prototype);T1.isPureReactComponent=!0;var H2=Array.isArray,pE=Object.prototype.hasOwnProperty,M1={current:null},gE={key:!0,ref:!0,__self:!0,__source:!0};function xE(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)pE.call(t,r)&&!gE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Bm,type:e,key:a,ref:s,props:i,_owner:M1.current}}function Ez(e,t){return{$$typeof:Bm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bm}function Oz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var q2=/\/+/g;function Tv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Oz(""+e.key):t.toString(36)}function Bp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Bm:case wz:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Tv(s,0):r,H2(i)?(n="",e!=null&&(n=e.replace(q2,"$&/")+"/"),Bp(i,t,n,"",function(u){return u})):i!=null&&(E1(i)&&(i=Ez(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(q2,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",H2(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Tv(a,o);s+=Bp(a,t,n,l,i)}else if(l=Mz(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Tv(a,o++),s+=Bp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Yh(e,t,n){if(e==null)return e;var r=[],i=0;return Bp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Iz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ia={current:null},zp={transition:null},_z={ReactCurrentDispatcher:ia,ReactCurrentBatchConfig:zp,ReactCurrentOwner:M1};function vE(){throw Error("act(...) is not supported in production builds of React.")}yn.Children={map:Yh,forEach:function(e,t,n){Yh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yh(e,function(){t++}),t},toArray:function(e){return Yh(e,function(t){return t})||[]},only:function(e){if(!E1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yn.Component=Od;yn.Fragment=kz;yn.Profiler=Nz;yn.PureComponent=D1;yn.StrictMode=Sz;yn.Suspense=Pz;yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_z;yn.act=vE;yn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=M1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)pE.call(t,l)&&!gE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Bm,type:e.type,key:i,ref:a,props:r,_owner:s}};yn.createContext=function(e){return e={$$typeof:jz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cz,_context:e},e.Consumer=e};yn.createElement=xE;yn.createFactory=function(e){var t=xE.bind(null,e);return t.type=e,t};yn.createRef=function(){return{current:null}};yn.forwardRef=function(e){return{$$typeof:Az,render:e}};yn.isValidElement=E1;yn.lazy=function(e){return{$$typeof:Tz,_payload:{_status:-1,_result:e},_init:Iz}};yn.memo=function(e,t){return{$$typeof:Dz,type:e,compare:t===void 0?null:t}};yn.startTransition=function(e){var t=zp.transition;zp.transition={};try{e()}finally{zp.transition=t}};yn.unstable_act=vE;yn.useCallback=function(e,t){return ia.current.useCallback(e,t)};yn.useContext=function(e){return ia.current.useContext(e)};yn.useDebugValue=function(){};yn.useDeferredValue=function(e){return ia.current.useDeferredValue(e)};yn.useEffect=function(e,t){return ia.current.useEffect(e,t)};yn.useId=function(){return ia.current.useId()};yn.useImperativeHandle=function(e,t,n){return ia.current.useImperativeHandle(e,t,n)};yn.useInsertionEffect=function(e,t){return ia.current.useInsertionEffect(e,t)};yn.useLayoutEffect=function(e,t){return ia.current.useLayoutEffect(e,t)};yn.useMemo=function(e,t){return ia.current.useMemo(e,t)};yn.useReducer=function(e,t,n){return ia.current.useReducer(e,t,n)};yn.useRef=function(e){return ia.current.useRef(e)};yn.useState=function(e){return ia.current.useState(e)};yn.useSyncExternalStore=function(e,t,n){return ia.current.useSyncExternalStore(e,t,n)};yn.useTransition=function(){return ia.current.useTransition()};yn.version="18.3.1";uE.exports=yn;var g=uE.exports;const K0=_s(g),Lz=yz({__proto__:null,default:K0},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $z=g,Fz=Symbol.for("react.element"),Rz=Symbol.for("react.fragment"),Bz=Object.prototype.hasOwnProperty,zz=$z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uz={key:!0,ref:!0,__self:!0,__source:!0};function bE(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Bz.call(t,r)&&!Uz.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Fz,type:e,key:a,ref:s,props:i,_owner:zz.current}}q0.Fragment=Rz;q0.jsx=bE;q0.jsxs=bE;cE.exports=q0;var c=cE.exports,ay={},yE={exports:{}},Ba={},wE={exports:{}},kE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,K){var E=q.length;q.push(K);e:for(;0<E;){var D=E-1>>>1,ie=q[D];if(0<i(ie,K))q[D]=K,q[E]=ie,E=D;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],E=q.pop();if(E!==K){q[0]=E;e:for(var D=0,ie=q.length,k=ie>>>1;D<k;){var B=2*(D+1)-1,V=q[B],ne=B+1,re=q[ne];if(0>i(V,E))ne<ie&&0>i(re,V)?(q[D]=re,q[ne]=E,D=ne):(q[D]=V,q[B]=E,D=B);else if(ne<ie&&0>i(re,E))q[D]=re,q[ne]=E,D=ne;else break e}}return K}function i(q,K){var E=q.sortIndex-K.sortIndex;return E!==0?E:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=q)r(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=n(u)}}function N(q){if(x=!1,y(q),!p)if(n(l)!==null)p=!0,be(j);else{var K=n(u);K!==null&&X(N,K.startTime-q)}}function j(q,K){p=!1,x&&(x=!1,v(I),I=-1),m=!0;var E=h;try{for(y(K),f=n(l);f!==null&&(!(f.expirationTime>K)||q&&!L());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var ie=D(f.expirationTime<=K);K=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),y(K)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var B=n(u);B!==null&&X(N,B.startTime-K),k=!1}return k}finally{f=null,h=E,m=!1}}var S=!1,A=null,I=-1,R=5,T=-1;function L(){return!(e.unstable_now()-T<R)}function _(){if(A!==null){var q=e.unstable_now();T=q;var K=!0;try{K=A(!0,q)}finally{K?G():(S=!1,A=null)}}else S=!1}var G;if(typeof w=="function")G=function(){w(_)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=_,G=function(){le.postMessage(null)}}else G=function(){b(_,0)};function be(q){A=q,S||(S=!0,G())}function X(q,K){I=b(function(){q(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,be(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var E=h;h=K;try{return q()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var E=h;h=q;try{return K()}finally{h=E}},e.unstable_scheduleCallback=function(q,K,E){var D=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=E+ie,q={id:d++,callback:K,priorityLevel:q,startTime:E,expirationTime:ie,sortIndex:-1},E>D?(q.sortIndex=E,t(u,q),n(l)===null&&q===n(u)&&(x?(v(I),I=-1):x=!0,X(N,E-D))):(q.sortIndex=ie,t(l,q),p||m||(p=!0,be(j))),q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(q){var K=h;return function(){var E=h;h=K;try{return q.apply(this,arguments)}finally{h=E}}}})(kE);wE.exports=kE;var Wz=wE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vz=g,$a=Wz;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SE=new Set,Jf={};function ou(e,t){dd(e,t),dd(e+"Capture",t)}function dd(e,t){for(Jf[e]=t,e=0;e<t.length;e++)SE.add(t[e])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sy=Object.prototype.hasOwnProperty,Hz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K2={},G2={};function qz(e){return sy.call(G2,e)?!0:sy.call(K2,e)?!1:Hz.test(e)?G2[e]=!0:(K2[e]=!0,!1)}function Kz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gz(e,t,n,r){if(t===null||typeof t>"u"||Kz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function aa(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oi[e]=new aa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oi[t]=new aa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oi[e]=new aa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oi[e]=new aa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oi[e]=new aa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oi[e]=new aa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oi[e]=new aa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oi[e]=new aa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oi[e]=new aa(e,5,!1,e.toLowerCase(),null,!1,!1)});var O1=/[\-:]([a-z])/g;function I1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O1,I1);Oi[t]=new aa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O1,I1);Oi[t]=new aa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O1,I1);Oi[t]=new aa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oi[e]=new aa(e,1,!1,e.toLowerCase(),null,!1,!1)});Oi.xlinkHref=new aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oi[e]=new aa(e,1,!1,e.toLowerCase(),null,!0,!0)});function _1(e,t,n,r){var i=Oi.hasOwnProperty(t)?Oi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gz(t,n,i,r)&&(n=null),r||i===null?qz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jo=Vz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xh=Symbol.for("react.element"),$u=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),$1=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),F1=Symbol.for("react.memo"),Nl=Symbol.for("react.lazy"),jE=Symbol.for("react.offscreen"),Y2=Symbol.iterator;function nf(e){return e===null||typeof e!="object"?null:(e=Y2&&e[Y2]||e["@@iterator"],typeof e=="function"?e:null)}var Dr=Object.assign,Mv;function Sf(e){if(Mv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mv=t&&t[1]||""}return`
`+Mv+e}var Ev=!1;function Ov(e,t){if(!e||Ev)return"";Ev=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ev=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sf(e):""}function Yz(e){switch(e.tag){case 5:return Sf(e.type);case 16:return Sf("Lazy");case 13:return Sf("Suspense");case 19:return Sf("SuspenseList");case 0:case 2:case 15:return e=Ov(e.type,!1),e;case 11:return e=Ov(e.type.render,!1),e;case 1:return e=Ov(e.type,!0),e;default:return""}}function uy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case $u:return"Portal";case oy:return"Profiler";case L1:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CE:return(e.displayName||"Context")+".Consumer";case NE:return(e._context.displayName||"Context")+".Provider";case $1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F1:return t=e.displayName||null,t!==null?t:uy(e.type)||"Memo";case Nl:t=e._payload,e=e._init;try{return uy(e(t))}catch{}}return null}function Xz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(t);case 8:return t===L1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function AE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qz(e){var t=AE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qh(e){e._valueTracker||(e._valueTracker=Qz(e))}function PE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=AE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ug(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dy(e,t){var n=t.checked;return Dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function X2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DE(e,t){t=t.checked,t!=null&&_1(e,"checked",t,!1)}function fy(e,t){DE(e,t);var n=Kl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?my(e,t.type,n):t.hasOwnProperty("defaultValue")&&my(e,t.type,Kl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Q2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function my(e,t,n){(t!=="number"||ug(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nf=Array.isArray;function td(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Dr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Z2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(Nf(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kl(n)}}function TE(e,t){var n=Kl(t.value),r=Kl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function J2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ME(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ME(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zh,EE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zh=Zh||document.createElement("div"),Zh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function em(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zz=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(e){Zz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Of[t]=Of[e]})});function OE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Of.hasOwnProperty(e)&&Of[e]?(""+t).trim():t+"px"}function IE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Jz=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(e,t){if(t){if(Jz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function xy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function R1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var by=null,nd=null,rd=null;function eC(e){if(e=Wm(e)){if(typeof by!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=Z0(t),by(e.stateNode,e.type,t))}}function _E(e){nd?rd?rd.push(e):rd=[e]:nd=e}function LE(){if(nd){var e=nd,t=rd;if(rd=nd=null,eC(e),t)for(e=0;e<t.length;e++)eC(t[e])}}function $E(e,t){return e(t)}function FE(){}var Iv=!1;function RE(e,t,n){if(Iv)return e(t,n);Iv=!0;try{return $E(e,t,n)}finally{Iv=!1,(nd!==null||rd!==null)&&(FE(),LE())}}function tm(e,t){var n=e.stateNode;if(n===null)return null;var r=Z0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var yy=!1;if(Ro)try{var rf={};Object.defineProperty(rf,"passive",{get:function(){yy=!0}}),window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{yy=!1}function e6(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var If=!1,dg=null,fg=!1,wy=null,t6={onError:function(e){If=!0,dg=e}};function n6(e,t,n,r,i,a,s,o,l){If=!1,dg=null,e6.apply(t6,arguments)}function r6(e,t,n,r,i,a,s,o,l){if(n6.apply(this,arguments),If){if(If){var u=dg;If=!1,dg=null}else throw Error(ct(198));fg||(fg=!0,wy=u)}}function lu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tC(e){if(lu(e)!==e)throw Error(ct(188))}function i6(e){var t=e.alternate;if(!t){if(t=lu(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tC(i),e;if(a===r)return tC(i),t;a=a.sibling}throw Error(ct(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function zE(e){return e=i6(e),e!==null?UE(e):null}function UE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UE(e);if(t!==null)return t;e=e.sibling}return null}var WE=$a.unstable_scheduleCallback,nC=$a.unstable_cancelCallback,a6=$a.unstable_shouldYield,s6=$a.unstable_requestPaint,Br=$a.unstable_now,o6=$a.unstable_getCurrentPriorityLevel,B1=$a.unstable_ImmediatePriority,VE=$a.unstable_UserBlockingPriority,mg=$a.unstable_NormalPriority,l6=$a.unstable_LowPriority,HE=$a.unstable_IdlePriority,G0=null,eo=null;function c6(e){if(eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(G0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ss=Math.clz32?Math.clz32:f6,u6=Math.log,d6=Math.LN2;function f6(e){return e>>>=0,e===0?32:31-(u6(e)/d6|0)|0}var Jh=64,ep=4194304;function Cf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Cf(o):(a&=s,a!==0&&(r=Cf(a)))}else s=n&~i,s!==0?r=Cf(s):a!==0&&(r=Cf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ss(t),i=1<<n,r|=e[n],t&=~i;return r}function m6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ss(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=m6(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function ky(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qE(){var e=Jh;return Jh<<=1,!(Jh&4194240)&&(Jh=64),e}function _v(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ss(t),e[t]=n}function p6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ss(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function z1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Vn=0;function KE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GE,U1,YE,XE,QE,Sy=!1,tp=[],Ll=null,$l=null,Fl=null,nm=new Map,rm=new Map,Dl=[],g6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rC(e,t){switch(e){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":$l=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":nm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rm.delete(t.pointerId)}}function af(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Wm(t),t!==null&&U1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function x6(e,t,n,r,i){switch(t){case"focusin":return Ll=af(Ll,e,t,n,r,i),!0;case"dragenter":return $l=af($l,e,t,n,r,i),!0;case"mouseover":return Fl=af(Fl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return nm.set(a,af(nm.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,rm.set(a,af(rm.get(a)||null,e,t,n,r,i)),!0}return!1}function ZE(e){var t=Dc(e.target);if(t!==null){var n=lu(t);if(n!==null){if(t=n.tag,t===13){if(t=BE(n),t!==null){e.blockedOn=t,QE(e.priority,function(){YE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Up(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ny(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vy=r,n.target.dispatchEvent(r),vy=null}else return t=Wm(n),t!==null&&U1(t),e.blockedOn=n,!1;t.shift()}return!0}function iC(e,t,n){Up(e)&&n.delete(t)}function v6(){Sy=!1,Ll!==null&&Up(Ll)&&(Ll=null),$l!==null&&Up($l)&&($l=null),Fl!==null&&Up(Fl)&&(Fl=null),nm.forEach(iC),rm.forEach(iC)}function sf(e,t){e.blockedOn===t&&(e.blockedOn=null,Sy||(Sy=!0,$a.unstable_scheduleCallback($a.unstable_NormalPriority,v6)))}function im(e){function t(i){return sf(i,e)}if(0<tp.length){sf(tp[0],e);for(var n=1;n<tp.length;n++){var r=tp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ll!==null&&sf(Ll,e),$l!==null&&sf($l,e),Fl!==null&&sf(Fl,e),nm.forEach(t),rm.forEach(t),n=0;n<Dl.length;n++)r=Dl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dl.length&&(n=Dl[0],n.blockedOn===null);)ZE(n),n.blockedOn===null&&Dl.shift()}var id=Jo.ReactCurrentBatchConfig,pg=!0;function b6(e,t,n,r){var i=Vn,a=id.transition;id.transition=null;try{Vn=1,W1(e,t,n,r)}finally{Vn=i,id.transition=a}}function y6(e,t,n,r){var i=Vn,a=id.transition;id.transition=null;try{Vn=4,W1(e,t,n,r)}finally{Vn=i,id.transition=a}}function W1(e,t,n,r){if(pg){var i=Ny(e,t,n,r);if(i===null)Hv(e,t,r,gg,n),rC(e,r);else if(x6(i,e,t,n,r))r.stopPropagation();else if(rC(e,r),t&4&&-1<g6.indexOf(e)){for(;i!==null;){var a=Wm(i);if(a!==null&&GE(a),a=Ny(e,t,n,r),a===null&&Hv(e,t,r,gg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Hv(e,t,r,null,n)}}var gg=null;function Ny(e,t,n,r){if(gg=null,e=R1(r),e=Dc(e),e!==null)if(t=lu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=BE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gg=e,null}function JE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o6()){case B1:return 1;case VE:return 4;case mg:case l6:return 16;case HE:return 536870912;default:return 16}default:return 16}}var El=null,V1=null,Wp=null;function e5(){if(Wp)return Wp;var e,t=V1,n=t.length,r,i="value"in El?El.value:El.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Wp=i.slice(e,1<r?1-r:void 0)}function Vp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function np(){return!0}function aC(){return!1}function za(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?np:aC,this.isPropagationStopped=aC,this}return Dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),t}var Id={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H1=za(Id),Um=Dr({},Id,{view:0,detail:0}),w6=za(Um),Lv,$v,of,Y0=Dr({},Um,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==of&&(of&&e.type==="mousemove"?(Lv=e.screenX-of.screenX,$v=e.screenY-of.screenY):$v=Lv=0,of=e),Lv)},movementY:function(e){return"movementY"in e?e.movementY:$v}}),sC=za(Y0),k6=Dr({},Y0,{dataTransfer:0}),S6=za(k6),N6=Dr({},Um,{relatedTarget:0}),Fv=za(N6),C6=Dr({},Id,{animationName:0,elapsedTime:0,pseudoElement:0}),j6=za(C6),A6=Dr({},Id,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P6=za(A6),D6=Dr({},Id,{data:0}),oC=za(D6),T6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E6[e])?!!t[e]:!1}function q1(){return O6}var I6=Dr({},Um,{key:function(e){if(e.key){var t=T6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?M6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q1,charCode:function(e){return e.type==="keypress"?Vp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_6=za(I6),L6=Dr({},Y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lC=za(L6),$6=Dr({},Um,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q1}),F6=za($6),R6=Dr({},Id,{propertyName:0,elapsedTime:0,pseudoElement:0}),B6=za(R6),z6=Dr({},Y0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=za(z6),W6=[9,13,27,32],K1=Ro&&"CompositionEvent"in window,_f=null;Ro&&"documentMode"in document&&(_f=document.documentMode);var V6=Ro&&"TextEvent"in window&&!_f,t5=Ro&&(!K1||_f&&8<_f&&11>=_f),cC=" ",uC=!1;function n5(e,t){switch(e){case"keyup":return W6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ru=!1;function H6(e,t){switch(e){case"compositionend":return r5(t);case"keypress":return t.which!==32?null:(uC=!0,cC);case"textInput":return e=t.data,e===cC&&uC?null:e;default:return null}}function q6(e,t){if(Ru)return e==="compositionend"||!K1&&n5(e,t)?(e=e5(),Wp=V1=El=null,Ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t5&&t.locale!=="ko"?null:t.data;default:return null}}var K6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K6[e.type]:t==="textarea"}function i5(e,t,n,r){_E(r),t=xg(t,"onChange"),0<t.length&&(n=new H1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lf=null,am=null;function G6(e){p5(e,0)}function X0(e){var t=Uu(e);if(PE(t))return e}function Y6(e,t){if(e==="change")return t}var a5=!1;if(Ro){var Rv;if(Ro){var Bv="oninput"in document;if(!Bv){var fC=document.createElement("div");fC.setAttribute("oninput","return;"),Bv=typeof fC.oninput=="function"}Rv=Bv}else Rv=!1;a5=Rv&&(!document.documentMode||9<document.documentMode)}function mC(){Lf&&(Lf.detachEvent("onpropertychange",s5),am=Lf=null)}function s5(e){if(e.propertyName==="value"&&X0(am)){var t=[];i5(t,am,e,R1(e)),RE(G6,t)}}function X6(e,t,n){e==="focusin"?(mC(),Lf=t,am=n,Lf.attachEvent("onpropertychange",s5)):e==="focusout"&&mC()}function Q6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return X0(am)}function Z6(e,t){if(e==="click")return X0(t)}function J6(e,t){if(e==="input"||e==="change")return X0(t)}function eU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var As=typeof Object.is=="function"?Object.is:eU;function sm(e,t){if(As(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sy.call(t,i)||!As(e[i],t[i]))return!1}return!0}function hC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pC(e,t){var n=hC(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hC(n)}}function o5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?o5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l5(){for(var e=window,t=ug();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ug(e.document)}return t}function G1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tU(e){var t=l5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&o5(n.ownerDocument.documentElement,n)){if(r!==null&&G1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=pC(n,a);var s=pC(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nU=Ro&&"documentMode"in document&&11>=document.documentMode,Bu=null,Cy=null,$f=null,jy=!1;function gC(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jy||Bu==null||Bu!==ug(r)||(r=Bu,"selectionStart"in r&&G1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$f&&sm($f,r)||($f=r,r=xg(Cy,"onSelect"),0<r.length&&(t=new H1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bu)))}function rp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zu={animationend:rp("Animation","AnimationEnd"),animationiteration:rp("Animation","AnimationIteration"),animationstart:rp("Animation","AnimationStart"),transitionend:rp("Transition","TransitionEnd")},zv={},c5={};Ro&&(c5=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function Q0(e){if(zv[e])return zv[e];if(!zu[e])return e;var t=zu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in c5)return zv[e]=t[n];return e}var u5=Q0("animationend"),d5=Q0("animationiteration"),f5=Q0("animationstart"),m5=Q0("transitionend"),h5=new Map,xC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ec(e,t){h5.set(e,t),ou(t,[e])}for(var Uv=0;Uv<xC.length;Uv++){var Wv=xC[Uv],rU=Wv.toLowerCase(),iU=Wv[0].toUpperCase()+Wv.slice(1);ec(rU,"on"+iU)}ec(u5,"onAnimationEnd");ec(d5,"onAnimationIteration");ec(f5,"onAnimationStart");ec("dblclick","onDoubleClick");ec("focusin","onFocus");ec("focusout","onBlur");ec(m5,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);ou("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ou("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ou("onBeforeInput",["compositionend","keypress","textInput","paste"]);ou("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ou("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aU=new Set("cancel close invalid load scroll toggle".split(" ").concat(jf));function vC(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,r6(r,t,void 0,e),e.currentTarget=null}function p5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;vC(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;vC(i,o,u),a=l}}}if(fg)throw e=wy,fg=!1,wy=null,e}function dr(e,t){var n=t[My];n===void 0&&(n=t[My]=new Set);var r=e+"__bubble";n.has(r)||(g5(t,e,2,!1),n.add(r))}function Vv(e,t,n){var r=0;t&&(r|=4),g5(n,e,r,t)}var ip="_reactListening"+Math.random().toString(36).slice(2);function om(e){if(!e[ip]){e[ip]=!0,SE.forEach(function(n){n!=="selectionchange"&&(aU.has(n)||Vv(n,!1,e),Vv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ip]||(t[ip]=!0,Vv("selectionchange",!1,t))}}function g5(e,t,n,r){switch(JE(t)){case 1:var i=b6;break;case 4:i=y6;break;default:i=W1}n=i.bind(null,t,n,e),i=void 0,!yy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Dc(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}RE(function(){var u=a,d=R1(n),f=[];e:{var h=h5.get(e);if(h!==void 0){var m=H1,p=e;switch(e){case"keypress":if(Vp(n)===0)break e;case"keydown":case"keyup":m=_6;break;case"focusin":p="focus",m=Fv;break;case"focusout":p="blur",m=Fv;break;case"beforeblur":case"afterblur":m=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=S6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=F6;break;case u5:case d5:case f5:m=j6;break;case m5:m=B6;break;case"scroll":m=w6;break;case"wheel":m=U6;break;case"copy":case"cut":case"paste":m=P6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=lC}var x=(t&4)!==0,b=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var w=u,y;w!==null;){y=w;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,v!==null&&(N=tm(w,v),N!=null&&x.push(lm(w,N,y)))),b)break;w=w.return}0<x.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==vy&&(p=n.relatedTarget||n.fromElement)&&(Dc(p)||p[Bo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Dc(p):null,p!==null&&(b=lu(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=sC,N="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(x=lC,N="onPointerLeave",v="onPointerEnter",w="pointer"),b=m==null?h:Uu(m),y=p==null?h:Uu(p),h=new x(N,w+"leave",m,n,d),h.target=b,h.relatedTarget=y,N=null,Dc(d)===u&&(x=new x(v,w+"enter",p,n,d),x.target=y,x.relatedTarget=b,N=x),b=N,m&&p)t:{for(x=m,v=p,w=0,y=x;y;y=Au(y))w++;for(y=0,N=v;N;N=Au(N))y++;for(;0<w-y;)x=Au(x),w--;for(;0<y-w;)v=Au(v),y--;for(;w--;){if(x===v||v!==null&&x===v.alternate)break t;x=Au(x),v=Au(v)}x=null}else x=null;m!==null&&bC(f,h,m,x,!1),p!==null&&b!==null&&bC(f,b,p,x,!0)}}e:{if(h=u?Uu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Y6;else if(dC(h))if(a5)j=J6;else{j=Q6;var S=X6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Z6);if(j&&(j=j(e,u))){i5(f,j,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&my(h,"number",h.value)}switch(S=u?Uu(u):window,e){case"focusin":(dC(S)||S.contentEditable==="true")&&(Bu=S,Cy=u,$f=null);break;case"focusout":$f=Cy=Bu=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,gC(f,n,d);break;case"selectionchange":if(nU)break;case"keydown":case"keyup":gC(f,n,d)}var A;if(K1)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ru?n5(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(t5&&n.locale!=="ko"&&(Ru||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ru&&(A=e5()):(El=d,V1="value"in El?El.value:El.textContent,Ru=!0)),S=xg(u,I),0<S.length&&(I=new oC(I,e,null,n,d),f.push({event:I,listeners:S}),A?I.data=A:(A=r5(n),A!==null&&(I.data=A)))),(A=V6?H6(e,n):q6(e,n))&&(u=xg(u,"onBeforeInput"),0<u.length&&(d=new oC("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}p5(f,t)})}function lm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=tm(e,n),a!=null&&r.unshift(lm(e,a,i)),a=tm(e,t),a!=null&&r.push(lm(e,a,i))),e=e.return}return r}function Au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bC(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=tm(n,a),l!=null&&s.unshift(lm(n,l,o))):i||(l=tm(n,a),l!=null&&s.push(lm(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var sU=/\r\n?/g,oU=/\u0000|\uFFFD/g;function yC(e){return(typeof e=="string"?e:""+e).replace(sU,`
`).replace(oU,"")}function ap(e,t,n){if(t=yC(t),yC(e)!==t&&n)throw Error(ct(425))}function vg(){}var Ay=null,Py=null;function Dy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ty=typeof setTimeout=="function"?setTimeout:void 0,lU=typeof clearTimeout=="function"?clearTimeout:void 0,wC=typeof Promise=="function"?Promise:void 0,cU=typeof queueMicrotask=="function"?queueMicrotask:typeof wC<"u"?function(e){return wC.resolve(null).then(e).catch(uU)}:Ty;function uU(e){setTimeout(function(){throw e})}function qv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),im(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);im(t)}function Rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _d=Math.random().toString(36).slice(2),Zs="__reactFiber$"+_d,cm="__reactProps$"+_d,Bo="__reactContainer$"+_d,My="__reactEvents$"+_d,dU="__reactListeners$"+_d,fU="__reactHandles$"+_d;function Dc(e){var t=e[Zs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bo]||n[Zs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kC(e);e!==null;){if(n=e[Zs])return n;e=kC(e)}return t}e=n,n=e.parentNode}return null}function Wm(e){return e=e[Zs]||e[Bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function Z0(e){return e[cm]||null}var Ey=[],Wu=-1;function tc(e){return{current:e}}function mr(e){0>Wu||(e.current=Ey[Wu],Ey[Wu]=null,Wu--)}function sr(e,t){Wu++,Ey[Wu]=e.current,e.current=t}var Gl={},qi=tc(Gl),ma=tc(!1),qc=Gl;function fd(e,t){var n=e.type.contextTypes;if(!n)return Gl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ha(e){return e=e.childContextTypes,e!=null}function bg(){mr(ma),mr(qi)}function SC(e,t,n){if(qi.current!==Gl)throw Error(ct(168));sr(qi,t),sr(ma,n)}function x5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ct(108,Xz(e)||"Unknown",i));return Dr({},n,r)}function yg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gl,qc=qi.current,sr(qi,e),sr(ma,ma.current),!0}function NC(e,t,n){var r=e.stateNode;if(!r)throw Error(ct(169));n?(e=x5(e,t,qc),r.__reactInternalMemoizedMergedChildContext=e,mr(ma),mr(qi),sr(qi,e)):mr(ma),sr(ma,n)}var No=null,J0=!1,Kv=!1;function v5(e){No===null?No=[e]:No.push(e)}function mU(e){J0=!0,v5(e)}function nc(){if(!Kv&&No!==null){Kv=!0;var e=0,t=Vn;try{var n=No;for(Vn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}No=null,J0=!1}catch(i){throw No!==null&&(No=No.slice(e+1)),WE(B1,nc),i}finally{Vn=t,Kv=!1}}return null}var Vu=[],Hu=0,wg=null,kg=0,Xa=[],Qa=0,Kc=null,Po=1,Do="";function wc(e,t){Vu[Hu++]=kg,Vu[Hu++]=wg,wg=e,kg=t}function b5(e,t,n){Xa[Qa++]=Po,Xa[Qa++]=Do,Xa[Qa++]=Kc,Kc=e;var r=Po;e=Do;var i=32-Ss(r)-1;r&=~(1<<i),n+=1;var a=32-Ss(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Po=1<<32-Ss(t)+i|n<<i|r,Do=a+e}else Po=1<<a|n<<i|r,Do=e}function Y1(e){e.return!==null&&(wc(e,1),b5(e,1,0))}function X1(e){for(;e===wg;)wg=Vu[--Hu],Vu[Hu]=null,kg=Vu[--Hu],Vu[Hu]=null;for(;e===Kc;)Kc=Xa[--Qa],Xa[Qa]=null,Do=Xa[--Qa],Xa[Qa]=null,Po=Xa[--Qa],Xa[Qa]=null}var Oa=null,Ma=null,br=!1,bs=null;function y5(e,t){var n=Ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function CC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oa=e,Ma=Rl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oa=e,Ma=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kc!==null?{id:Po,overflow:Do}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oa=e,Ma=null,!0):!1;default:return!1}}function Oy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Iy(e){if(br){var t=Ma;if(t){var n=t;if(!CC(e,t)){if(Oy(e))throw Error(ct(418));t=Rl(n.nextSibling);var r=Oa;t&&CC(e,t)?y5(r,n):(e.flags=e.flags&-4097|2,br=!1,Oa=e)}}else{if(Oy(e))throw Error(ct(418));e.flags=e.flags&-4097|2,br=!1,Oa=e}}}function jC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oa=e}function sp(e){if(e!==Oa)return!1;if(!br)return jC(e),br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dy(e.type,e.memoizedProps)),t&&(t=Ma)){if(Oy(e))throw w5(),Error(ct(418));for(;t;)y5(e,t),t=Rl(t.nextSibling)}if(jC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ma=Rl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ma=null}}else Ma=Oa?Rl(e.stateNode.nextSibling):null;return!0}function w5(){for(var e=Ma;e;)e=Rl(e.nextSibling)}function md(){Ma=Oa=null,br=!1}function Q1(e){bs===null?bs=[e]:bs.push(e)}var hU=Jo.ReactCurrentBatchConfig;function lf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function op(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AC(e){var t=e._init;return t(e._payload)}function k5(e){function t(v,w){if(e){var y=v.deletions;y===null?(v.deletions=[w],v.flags|=16):y.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Wl(v,w),v.index=0,v.sibling=null,v}function a(v,w,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<w?(v.flags|=2,w):y):(v.flags|=2,w)):(v.flags|=1048576,w)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,w,y,N){return w===null||w.tag!==6?(w=eb(y,v.mode,N),w.return=v,w):(w=i(w,y),w.return=v,w)}function l(v,w,y,N){var j=y.type;return j===Fu?d(v,w,y.props.children,N,y.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nl&&AC(j)===w.type)?(N=i(w,y.props),N.ref=lf(v,w,y),N.return=v,N):(N=Qp(y.type,y.key,y.props,null,v.mode,N),N.ref=lf(v,w,y),N.return=v,N)}function u(v,w,y,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=tb(y,v.mode,N),w.return=v,w):(w=i(w,y.children||[]),w.return=v,w)}function d(v,w,y,N,j){return w===null||w.tag!==7?(w=Rc(y,v.mode,N,j),w.return=v,w):(w=i(w,y),w.return=v,w)}function f(v,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=eb(""+w,v.mode,y),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xh:return y=Qp(w.type,w.key,w.props,null,v.mode,y),y.ref=lf(v,null,w),y.return=v,y;case $u:return w=tb(w,v.mode,y),w.return=v,w;case Nl:var N=w._init;return f(v,N(w._payload),y)}if(Nf(w)||nf(w))return w=Rc(w,v.mode,y,null),w.return=v,w;op(v,w)}return null}function h(v,w,y,N){var j=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:o(v,w,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xh:return y.key===j?l(v,w,y,N):null;case $u:return y.key===j?u(v,w,y,N):null;case Nl:return j=y._init,h(v,w,j(y._payload),N)}if(Nf(y)||nf(y))return j!==null?null:d(v,w,y,N,null);op(v,y)}return null}function m(v,w,y,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(y)||null,o(w,v,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xh:return v=v.get(N.key===null?y:N.key)||null,l(w,v,N,j);case $u:return v=v.get(N.key===null?y:N.key)||null,u(w,v,N,j);case Nl:var S=N._init;return m(v,w,y,S(N._payload),j)}if(Nf(N)||nf(N))return v=v.get(y)||null,d(w,v,N,j,null);op(w,N)}return null}function p(v,w,y,N){for(var j=null,S=null,A=w,I=w=0,R=null;A!==null&&I<y.length;I++){A.index>I?(R=A,A=null):R=A.sibling;var T=h(v,A,y[I],N);if(T===null){A===null&&(A=R);break}e&&A&&T.alternate===null&&t(v,A),w=a(T,w,I),S===null?j=T:S.sibling=T,S=T,A=R}if(I===y.length)return n(v,A),br&&wc(v,I),j;if(A===null){for(;I<y.length;I++)A=f(v,y[I],N),A!==null&&(w=a(A,w,I),S===null?j=A:S.sibling=A,S=A);return br&&wc(v,I),j}for(A=r(v,A);I<y.length;I++)R=m(A,v,I,y[I],N),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?I:R.key),w=a(R,w,I),S===null?j=R:S.sibling=R,S=R);return e&&A.forEach(function(L){return t(v,L)}),br&&wc(v,I),j}function x(v,w,y,N){var j=nf(y);if(typeof j!="function")throw Error(ct(150));if(y=j.call(y),y==null)throw Error(ct(151));for(var S=j=null,A=w,I=w=0,R=null,T=y.next();A!==null&&!T.done;I++,T=y.next()){A.index>I?(R=A,A=null):R=A.sibling;var L=h(v,A,T.value,N);if(L===null){A===null&&(A=R);break}e&&A&&L.alternate===null&&t(v,A),w=a(L,w,I),S===null?j=L:S.sibling=L,S=L,A=R}if(T.done)return n(v,A),br&&wc(v,I),j;if(A===null){for(;!T.done;I++,T=y.next())T=f(v,T.value,N),T!==null&&(w=a(T,w,I),S===null?j=T:S.sibling=T,S=T);return br&&wc(v,I),j}for(A=r(v,A);!T.done;I++,T=y.next())T=m(A,v,I,T.value,N),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?I:T.key),w=a(T,w,I),S===null?j=T:S.sibling=T,S=T);return e&&A.forEach(function(_){return t(v,_)}),br&&wc(v,I),j}function b(v,w,y,N){if(typeof y=="object"&&y!==null&&y.type===Fu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xh:e:{for(var j=y.key,S=w;S!==null;){if(S.key===j){if(j=y.type,j===Fu){if(S.tag===7){n(v,S.sibling),w=i(S,y.props.children),w.return=v,v=w;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nl&&AC(j)===S.type){n(v,S.sibling),w=i(S,y.props),w.ref=lf(v,S,y),w.return=v,v=w;break e}n(v,S);break}else t(v,S);S=S.sibling}y.type===Fu?(w=Rc(y.props.children,v.mode,N,y.key),w.return=v,v=w):(N=Qp(y.type,y.key,y.props,null,v.mode,N),N.ref=lf(v,w,y),N.return=v,v=N)}return s(v);case $u:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(v,w.sibling),w=i(w,y.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=tb(y,v.mode,N),w.return=v,v=w}return s(v);case Nl:return S=y._init,b(v,w,S(y._payload),N)}if(Nf(y))return p(v,w,y,N);if(nf(y))return x(v,w,y,N);op(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,y),w.return=v,v=w):(n(v,w),w=eb(y,v.mode,N),w.return=v,v=w),s(v)):n(v,w)}return b}var hd=k5(!0),S5=k5(!1),Sg=tc(null),Ng=null,qu=null,Z1=null;function J1(){Z1=qu=Ng=null}function ek(e){var t=Sg.current;mr(Sg),e._currentValue=t}function _y(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ad(e,t){Ng=e,Z1=qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(da=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(Z1!==e)if(e={context:e,memoizedValue:t,next:null},qu===null){if(Ng===null)throw Error(ct(308));qu=e,Ng.dependencies={lanes:0,firstContext:e}}else qu=qu.next=e;return t}var Tc=null;function tk(e){Tc===null?Tc=[e]:Tc.push(e)}function N5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,tk(t)):(n.next=i.next,i.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cl=!1;function nk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,On&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zo(e,n)}return i=r.interleaved,i===null?(t.next=t,tk(r)):(t.next=i.next,i.next=t),r.interleaved=t,zo(e,n)}function Hp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,z1(e,n)}}function PC(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cg(e,t,n,r){var i=e.updateQueue;Cl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,x=o;switch(h=t,m=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Dr({},f,h);break e;case 2:Cl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Yc|=s,e.lanes=s,e.memoizedState=f}}function DC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var Vm={},to=tc(Vm),um=tc(Vm),dm=tc(Vm);function Mc(e){if(e===Vm)throw Error(ct(174));return e}function rk(e,t){switch(sr(dm,t),sr(um,e),sr(to,Vm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:py(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=py(t,e)}mr(to),sr(to,t)}function pd(){mr(to),mr(um),mr(dm)}function j5(e){Mc(dm.current);var t=Mc(to.current),n=py(t,e.type);t!==n&&(sr(um,e),sr(to,n))}function ik(e){um.current===e&&(mr(to),mr(um))}var Nr=tc(0);function jg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gv=[];function ak(){for(var e=0;e<Gv.length;e++)Gv[e]._workInProgressVersionPrimary=null;Gv.length=0}var qp=Jo.ReactCurrentDispatcher,Yv=Jo.ReactCurrentBatchConfig,Gc=0,Pr=null,ni=null,bi=null,Ag=!1,Ff=!1,fm=0,pU=0;function $i(){throw Error(ct(321))}function sk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!As(e[n],t[n]))return!1;return!0}function ok(e,t,n,r,i,a){if(Gc=a,Pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qp.current=e===null||e.memoizedState===null?bU:yU,e=n(r,i),Ff){a=0;do{if(Ff=!1,fm=0,25<=a)throw Error(ct(301));a+=1,bi=ni=null,t.updateQueue=null,qp.current=wU,e=n(r,i)}while(Ff)}if(qp.current=Pg,t=ni!==null&&ni.next!==null,Gc=0,bi=ni=Pr=null,Ag=!1,t)throw Error(ct(300));return e}function lk(){var e=fm!==0;return fm=0,e}function Ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Pr.memoizedState=bi=e:bi=bi.next=e,bi}function rs(){if(ni===null){var e=Pr.alternate;e=e!==null?e.memoizedState:null}else e=ni.next;var t=bi===null?Pr.memoizedState:bi.next;if(t!==null)bi=t,ni=e;else{if(e===null)throw Error(ct(310));ni=e,e={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},bi===null?Pr.memoizedState=bi=e:bi=bi.next=e}return bi}function mm(e,t){return typeof t=="function"?t(e):t}function Xv(e){var t=rs(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=ni,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Gc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Pr.lanes|=d,Yc|=d}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,As(r,t.memoizedState)||(da=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Pr.lanes|=a,Yc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qv(e){var t=rs(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);As(a,t.memoizedState)||(da=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function A5(){}function P5(e,t){var n=Pr,r=rs(),i=t(),a=!As(r.memoizedState,i);if(a&&(r.memoizedState=i,da=!0),r=r.queue,ck(M5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||bi!==null&&bi.memoizedState.tag&1){if(n.flags|=2048,hm(9,T5.bind(null,n,r,i,t),void 0,null),wi===null)throw Error(ct(349));Gc&30||D5(n,t,i)}return i}function D5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function T5(e,t,n,r){t.value=n,t.getSnapshot=r,E5(t)&&O5(e)}function M5(e,t,n){return n(function(){E5(t)&&O5(e)})}function E5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!As(e,n)}catch{return!0}}function O5(e){var t=zo(e,1);t!==null&&Ns(t,e,1,-1)}function TC(e){var t=Ys();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mm,lastRenderedState:e},t.queue=e,e=e.dispatch=vU.bind(null,Pr,e),[t.memoizedState,e]}function hm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pr.updateQueue,t===null?(t={lastEffect:null,stores:null},Pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I5(){return rs().memoizedState}function Kp(e,t,n,r){var i=Ys();Pr.flags|=e,i.memoizedState=hm(1|t,n,void 0,r===void 0?null:r)}function ex(e,t,n,r){var i=rs();r=r===void 0?null:r;var a=void 0;if(ni!==null){var s=ni.memoizedState;if(a=s.destroy,r!==null&&sk(r,s.deps)){i.memoizedState=hm(t,n,a,r);return}}Pr.flags|=e,i.memoizedState=hm(1|t,n,a,r)}function MC(e,t){return Kp(8390656,8,e,t)}function ck(e,t){return ex(2048,8,e,t)}function _5(e,t){return ex(4,2,e,t)}function L5(e,t){return ex(4,4,e,t)}function $5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F5(e,t,n){return n=n!=null?n.concat([e]):null,ex(4,4,$5.bind(null,t,e),n)}function uk(){}function R5(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function B5(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function z5(e,t,n){return Gc&21?(As(n,t)||(n=qE(),Pr.lanes|=n,Yc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,da=!0),e.memoizedState=n)}function gU(e,t){var n=Vn;Vn=n!==0&&4>n?n:4,e(!0);var r=Yv.transition;Yv.transition={};try{e(!1),t()}finally{Vn=n,Yv.transition=r}}function U5(){return rs().memoizedState}function xU(e,t,n){var r=Ul(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W5(e))V5(t,n);else if(n=N5(e,t,n,r),n!==null){var i=ta();Ns(n,e,r,i),H5(n,t,r)}}function vU(e,t,n){var r=Ul(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W5(e))V5(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,As(o,s)){var l=t.interleaved;l===null?(i.next=i,tk(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=N5(e,t,i,r),n!==null&&(i=ta(),Ns(n,e,r,i),H5(n,t,r))}}function W5(e){var t=e.alternate;return e===Pr||t!==null&&t===Pr}function V5(e,t){Ff=Ag=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function H5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,z1(e,n)}}var Pg={readContext:ns,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useInsertionEffect:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i,useDeferredValue:$i,useTransition:$i,useMutableSource:$i,useSyncExternalStore:$i,useId:$i,unstable_isNewReconciler:!1},bU={readContext:ns,useCallback:function(e,t){return Ys().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:MC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Kp(4194308,4,$5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kp(4,2,e,t)},useMemo:function(e,t){var n=Ys();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ys();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xU.bind(null,Pr,e),[r.memoizedState,e]},useRef:function(e){var t=Ys();return e={current:e},t.memoizedState=e},useState:TC,useDebugValue:uk,useDeferredValue:function(e){return Ys().memoizedState=e},useTransition:function(){var e=TC(!1),t=e[0];return e=gU.bind(null,e[1]),Ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pr,i=Ys();if(br){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),wi===null)throw Error(ct(349));Gc&30||D5(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,MC(M5.bind(null,r,a,e),[e]),r.flags|=2048,hm(9,T5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ys(),t=wi.identifierPrefix;if(br){var n=Do,r=Po;n=(r&~(1<<32-Ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yU={readContext:ns,useCallback:R5,useContext:ns,useEffect:ck,useImperativeHandle:F5,useInsertionEffect:_5,useLayoutEffect:L5,useMemo:B5,useReducer:Xv,useRef:I5,useState:function(){return Xv(mm)},useDebugValue:uk,useDeferredValue:function(e){var t=rs();return z5(t,ni.memoizedState,e)},useTransition:function(){var e=Xv(mm)[0],t=rs().memoizedState;return[e,t]},useMutableSource:A5,useSyncExternalStore:P5,useId:U5,unstable_isNewReconciler:!1},wU={readContext:ns,useCallback:R5,useContext:ns,useEffect:ck,useImperativeHandle:F5,useInsertionEffect:_5,useLayoutEffect:L5,useMemo:B5,useReducer:Qv,useRef:I5,useState:function(){return Qv(mm)},useDebugValue:uk,useDeferredValue:function(e){var t=rs();return ni===null?t.memoizedState=e:z5(t,ni.memoizedState,e)},useTransition:function(){var e=Qv(mm)[0],t=rs().memoizedState;return[e,t]},useMutableSource:A5,useSyncExternalStore:P5,useId:U5,unstable_isNewReconciler:!1};function xs(e,t){if(e&&e.defaultProps){t=Dr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ly(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tx={isMounted:function(e){return(e=e._reactInternals)?lu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ta(),i=Ul(e),a=Oo(r,i);a.payload=t,n!=null&&(a.callback=n),t=Bl(e,a,i),t!==null&&(Ns(t,e,i,r),Hp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ta(),i=Ul(e),a=Oo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Bl(e,a,i),t!==null&&(Ns(t,e,i,r),Hp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ta(),r=Ul(e),i=Oo(n,r);i.tag=2,t!=null&&(i.callback=t),t=Bl(e,i,r),t!==null&&(Ns(t,e,r,n),Hp(t,e,r))}};function EC(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!sm(n,r)||!sm(i,a):!0}function q5(e,t,n){var r=!1,i=Gl,a=t.contextType;return typeof a=="object"&&a!==null?a=ns(a):(i=ha(t)?qc:qi.current,r=t.contextTypes,a=(r=r!=null)?fd(e,i):Gl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function OC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tx.enqueueReplaceState(t,t.state,null)}function $y(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},nk(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ns(a):(a=ha(t)?qc:qi.current,i.context=fd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ly(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tx.enqueueReplaceState(i,i.state,null),Cg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function gd(e,t){try{var n="",r=t;do n+=Yz(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Zv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kU=typeof WeakMap=="function"?WeakMap:Map;function K5(e,t,n){n=Oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tg||(Tg=!0,Gy=r),Fy(e,t)},n}function G5(e,t,n){n=Oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Fy(e,t),typeof r!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function IC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=LU.bind(null,e,t,n),t.then(e,e))}function _C(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LC(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oo(-1,1),t.tag=2,Bl(n,t,1))),n.lanes|=1),e)}var SU=Jo.ReactCurrentOwner,da=!1;function Zi(e,t,n,r){t.child=e===null?S5(t,null,n,r):hd(t,e.child,n,r)}function $C(e,t,n,r,i){n=n.render;var a=t.ref;return ad(t,i),r=ok(e,t,n,r,a,i),n=lk(),e!==null&&!da?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i)):(br&&n&&Y1(t),t.flags|=1,Zi(e,t,r,i),t.child)}function FC(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!vk(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Y5(e,t,a,r,i)):(e=Qp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:sm,n(s,r)&&e.ref===t.ref)return Uo(e,t,i)}return t.flags|=1,e=Wl(a,r),e.ref=t.ref,e.return=t,t.child=e}function Y5(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(sm(a,r)&&e.ref===t.ref)if(da=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(da=!0);else return t.lanes=e.lanes,Uo(e,t,i)}return Ry(e,t,n,r,i)}function X5(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(Gu,Pa),Pa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(Gu,Pa),Pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,sr(Gu,Pa),Pa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,sr(Gu,Pa),Pa|=r;return Zi(e,t,i,n),t.child}function Q5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ry(e,t,n,r,i){var a=ha(n)?qc:qi.current;return a=fd(t,a),ad(t,i),n=ok(e,t,n,r,a,i),r=lk(),e!==null&&!da?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i)):(br&&r&&Y1(t),t.flags|=1,Zi(e,t,n,i),t.child)}function RC(e,t,n,r,i){if(ha(n)){var a=!0;yg(t)}else a=!1;if(ad(t,i),t.stateNode===null)Gp(e,t),q5(t,n,r),$y(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=ha(n)?qc:qi.current,u=fd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&OC(t,s,r,u),Cl=!1;var h=t.memoizedState;s.state=h,Cg(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ma.current||Cl?(typeof d=="function"&&(Ly(t,n,d,r),l=t.memoizedState),(o=Cl||EC(t,n,o,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,C5(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:xs(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=ha(n)?qc:qi.current,l=fd(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&OC(t,s,r,l),Cl=!1,h=t.memoizedState,s.state=h,Cg(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ma.current||Cl?(typeof m=="function"&&(Ly(t,n,m,r),p=t.memoizedState),(u=Cl||EC(t,n,u,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return By(e,t,n,r,a,i)}function By(e,t,n,r,i,a){Q5(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&NC(t,n,!1),Uo(e,t,a);r=t.stateNode,SU.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=hd(t,e.child,null,a),t.child=hd(t,null,o,a)):Zi(e,t,o,a),t.memoizedState=r.state,i&&NC(t,n,!0),t.child}function Z5(e){var t=e.stateNode;t.pendingContext?SC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&SC(e,t.context,!1),rk(e,t.containerInfo)}function BC(e,t,n,r,i){return md(),Q1(i),t.flags|=256,Zi(e,t,n,r),t.child}var zy={dehydrated:null,treeContext:null,retryLane:0};function Uy(e){return{baseLanes:e,cachePool:null,transitions:null}}function J5(e,t,n){var r=t.pendingProps,i=Nr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sr(Nr,i&1),e===null)return Iy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ix(s,r,0,null),e=Rc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Uy(n),t.memoizedState=zy,e):dk(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return NU(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Wl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Wl(o,a):(a=Rc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Uy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=zy,r}return a=e.child,e=a.sibling,r=Wl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dk(e,t){return t=ix({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lp(e,t,n,r){return r!==null&&Q1(r),hd(t,e.child,null,n),e=dk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NU(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Zv(Error(ct(422))),lp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ix({mode:"visible",children:r.children},i,0,null),a=Rc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&hd(t,e.child,null,s),t.child.memoizedState=Uy(s),t.memoizedState=zy,a);if(!(t.mode&1))return lp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ct(419)),r=Zv(a,r,void 0),lp(e,t,s,r)}if(o=(s&e.childLanes)!==0,da||o){if(r=wi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,zo(e,i),Ns(r,e,i,-1))}return xk(),r=Zv(Error(ct(421))),lp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=$U.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ma=Rl(i.nextSibling),Oa=t,br=!0,bs=null,e!==null&&(Xa[Qa++]=Po,Xa[Qa++]=Do,Xa[Qa++]=Kc,Po=e.id,Do=e.overflow,Kc=t),t=dk(t,r.children),t.flags|=4096,t)}function zC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_y(e.return,t,n)}function Jv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function eO(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Zi(e,t,r.children,n),r=Nr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zC(e,n,t);else if(e.tag===19)zC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(sr(Nr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Jv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Jv(t,!0,n,null,a);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=Wl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function CU(e,t,n){switch(t.tag){case 3:Z5(t),md();break;case 5:j5(t);break;case 1:ha(t.type)&&yg(t);break;case 4:rk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;sr(Sg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(sr(Nr,Nr.current&1),t.flags|=128,null):n&t.child.childLanes?J5(e,t,n):(sr(Nr,Nr.current&1),e=Uo(e,t,n),e!==null?e.sibling:null);sr(Nr,Nr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return eO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(Nr,Nr.current),r)break;return null;case 22:case 23:return t.lanes=0,X5(e,t,n)}return Uo(e,t,n)}var tO,Wy,nO,rO;tO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wy=function(){};nO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mc(to.current);var a=null;switch(n){case"input":i=dy(e,i),r=dy(e,r),a=[];break;case"select":i=Dr({},i,{value:void 0}),r=Dr({},r,{value:void 0}),a=[];break;case"textarea":i=hy(e,i),r=hy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vg)}gy(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jf.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};rO=function(e,t,n,r){n!==r&&(t.flags|=4)};function cf(e,t){if(!br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function jU(e,t,n){var r=t.pendingProps;switch(X1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(t),null;case 1:return ha(t.type)&&bg(),Fi(t),null;case 3:return r=t.stateNode,pd(),mr(ma),mr(qi),ak(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bs!==null&&(Qy(bs),bs=null))),Wy(e,t),Fi(t),null;case 5:ik(t);var i=Mc(dm.current);if(n=t.type,e!==null&&t.stateNode!=null)nO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ct(166));return Fi(t),null}if(e=Mc(to.current),sp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zs]=t,r[cm]=a,e=(t.mode&1)!==0,n){case"dialog":dr("cancel",r),dr("close",r);break;case"iframe":case"object":case"embed":dr("load",r);break;case"video":case"audio":for(i=0;i<jf.length;i++)dr(jf[i],r);break;case"source":dr("error",r);break;case"img":case"image":case"link":dr("error",r),dr("load",r);break;case"details":dr("toggle",r);break;case"input":X2(r,a),dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},dr("invalid",r);break;case"textarea":Z2(r,a),dr("invalid",r)}gy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ap(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ap(r.textContent,o,e),i=["children",""+o]):Jf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&dr("scroll",r)}switch(n){case"input":Qh(r),Q2(r,a,!0);break;case"textarea":Qh(r),J2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=vg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ME(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zs]=t,e[cm]=r,tO(e,t,!1,!1),t.stateNode=e;e:{switch(s=xy(n,r),n){case"dialog":dr("cancel",e),dr("close",e),i=r;break;case"iframe":case"object":case"embed":dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jf.length;i++)dr(jf[i],e);i=r;break;case"source":dr("error",e),i=r;break;case"img":case"image":case"link":dr("error",e),dr("load",e),i=r;break;case"details":dr("toggle",e),i=r;break;case"input":X2(e,r),i=dy(e,r),dr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Dr({},r,{value:void 0}),dr("invalid",e);break;case"textarea":Z2(e,r),i=hy(e,r),dr("invalid",e);break;default:i=r}gy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?IE(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EE(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&em(e,l):typeof l=="number"&&em(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&dr("scroll",e):l!=null&&_1(e,a,l,s))}switch(n){case"input":Qh(e),Q2(e,r,!1);break;case"textarea":Qh(e),J2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?td(e,!!r.multiple,a,!1):r.defaultValue!=null&&td(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fi(t),null;case 6:if(e&&t.stateNode!=null)rO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ct(166));if(n=Mc(dm.current),Mc(to.current),sp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zs]=t,(a=r.nodeValue!==n)&&(e=Oa,e!==null))switch(e.tag){case 3:ap(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ap(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=t,t.stateNode=r}return Fi(t),null;case 13:if(mr(Nr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(br&&Ma!==null&&t.mode&1&&!(t.flags&128))w5(),md(),t.flags|=98560,a=!1;else if(a=sp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ct(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ct(317));a[Zs]=t}else md(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fi(t),a=!1}else bs!==null&&(Qy(bs),bs=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nr.current&1?ii===0&&(ii=3):xk())),t.updateQueue!==null&&(t.flags|=4),Fi(t),null);case 4:return pd(),Wy(e,t),e===null&&om(t.stateNode.containerInfo),Fi(t),null;case 10:return ek(t.type._context),Fi(t),null;case 17:return ha(t.type)&&bg(),Fi(t),null;case 19:if(mr(Nr),a=t.memoizedState,a===null)return Fi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)cf(a,!1);else{if(ii!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=jg(e),s!==null){for(t.flags|=128,cf(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return sr(Nr,Nr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Br()>xd&&(t.flags|=128,r=!0,cf(a,!1),t.lanes=4194304)}else{if(!r)if(e=jg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!br)return Fi(t),null}else 2*Br()-a.renderingStartTime>xd&&n!==1073741824&&(t.flags|=128,r=!0,cf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Br(),t.sibling=null,n=Nr.current,sr(Nr,r?n&1|2:n&1),t):(Fi(t),null);case 22:case 23:return gk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pa&1073741824&&(Fi(t),t.subtreeFlags&6&&(t.flags|=8192)):Fi(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function AU(e,t){switch(X1(t),t.tag){case 1:return ha(t.type)&&bg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pd(),mr(ma),mr(qi),ak(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ik(t),null;case 13:if(mr(Nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));md()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mr(Nr),null;case 4:return pd(),null;case 10:return ek(t.type._context),null;case 22:case 23:return gk(),null;case 24:return null;default:return null}}var cp=!1,zi=!1,PU=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Ku(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(e,t,r)}else n.current=null}function Vy(e,t,n){try{n()}catch(r){Ir(e,t,r)}}var UC=!1;function DU(e,t){if(Ay=pg,e=l5(),G1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Py={focusedElem:e,selectionRange:n},pg=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){t=Dt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,b=p.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:xs(t.type,x),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(N){Ir(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}return p=UC,UC=!1,p}function Rf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vy(t,n,a)}i=i.next}while(i!==r)}}function nx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function iO(e){var t=e.alternate;t!==null&&(e.alternate=null,iO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zs],delete t[cm],delete t[My],delete t[dU],delete t[fU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aO(e){return e.tag===5||e.tag===3||e.tag===4}function WC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vg));else if(r!==4&&(e=e.child,e!==null))for(qy(e,t,n),e=e.sibling;e!==null;)qy(e,t,n),e=e.sibling}function Ky(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ky(e,t,n),e=e.sibling;e!==null;)Ky(e,t,n),e=e.sibling}var Ti=null,vs=!1;function yl(e,t,n){for(n=n.child;n!==null;)sO(e,t,n),n=n.sibling}function sO(e,t,n){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(G0,n)}catch{}switch(n.tag){case 5:zi||Ku(n,t);case 6:var r=Ti,i=vs;Ti=null,yl(e,t,n),Ti=r,vs=i,Ti!==null&&(vs?(e=Ti,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ti.removeChild(n.stateNode));break;case 18:Ti!==null&&(vs?(e=Ti,n=n.stateNode,e.nodeType===8?qv(e.parentNode,n):e.nodeType===1&&qv(e,n),im(e)):qv(Ti,n.stateNode));break;case 4:r=Ti,i=vs,Ti=n.stateNode.containerInfo,vs=!0,yl(e,t,n),Ti=r,vs=i;break;case 0:case 11:case 14:case 15:if(!zi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Vy(n,t,s),i=i.next}while(i!==r)}yl(e,t,n);break;case 1:if(!zi&&(Ku(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ir(n,t,o)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:n.mode&1?(zi=(r=zi)||n.memoizedState!==null,yl(e,t,n),zi=r):yl(e,t,n);break;default:yl(e,t,n)}}function VC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PU),t.forEach(function(r){var i=FU.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ti=o.stateNode,vs=!1;break e;case 3:Ti=o.stateNode.containerInfo,vs=!0;break e;case 4:Ti=o.stateNode.containerInfo,vs=!0;break e}o=o.return}if(Ti===null)throw Error(ct(160));sO(a,s,i),Ti=null,vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ir(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oO(t,e),t=t.sibling}function oO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),Hs(e),r&4){try{Rf(3,e,e.return),nx(3,e)}catch(x){Ir(e,e.return,x)}try{Rf(5,e,e.return)}catch(x){Ir(e,e.return,x)}}break;case 1:gs(t,e),Hs(e),r&512&&n!==null&&Ku(n,n.return);break;case 5:if(gs(t,e),Hs(e),r&512&&n!==null&&Ku(n,n.return),e.flags&32){var i=e.stateNode;try{em(i,"")}catch(x){Ir(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&DE(i,a),xy(o,s);var u=xy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?IE(i,f):d==="dangerouslySetInnerHTML"?EE(i,f):d==="children"?em(i,f):_1(i,d,f,u)}switch(o){case"input":fy(i,a);break;case"textarea":TE(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?td(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?td(i,!!a.multiple,a.defaultValue,!0):td(i,!!a.multiple,a.multiple?[]:"",!1))}i[cm]=a}catch(x){Ir(e,e.return,x)}}break;case 6:if(gs(t,e),Hs(e),r&4){if(e.stateNode===null)throw Error(ct(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Ir(e,e.return,x)}}break;case 3:if(gs(t,e),Hs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{im(t.containerInfo)}catch(x){Ir(e,e.return,x)}break;case 4:gs(t,e),Hs(e);break;case 13:gs(t,e),Hs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(hk=Br())),r&4&&VC(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(zi=(u=zi)||d,gs(t,e),zi=u):gs(t,e),Hs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Dt=e,d=e.child;d!==null;){for(f=Dt=d;Dt!==null;){switch(h=Dt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Rf(4,h,h.return);break;case 1:Ku(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Ir(r,n,x)}}break;case 5:Ku(h,h.return);break;case 22:if(h.memoizedState!==null){qC(f);continue}}m!==null?(m.return=h,Dt=m):qC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=OE("display",s))}catch(x){Ir(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ir(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(t,e),Hs(e),r&4&&VC(e);break;case 21:break;default:gs(t,e),Hs(e)}}function Hs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aO(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(em(i,""),r.flags&=-33);var a=WC(e);Ky(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=WC(e);qy(e,o,s);break;default:throw Error(ct(161))}}catch(l){Ir(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TU(e,t,n){Dt=e,lO(e)}function lO(e,t,n){for(var r=(e.mode&1)!==0;Dt!==null;){var i=Dt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||cp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||zi;o=cp;var u=zi;if(cp=s,(zi=l)&&!u)for(Dt=i;Dt!==null;)s=Dt,l=s.child,s.tag===22&&s.memoizedState!==null?KC(i):l!==null?(l.return=s,Dt=l):KC(i);for(;a!==null;)Dt=a,lO(a),a=a.sibling;Dt=i,cp=o,zi=u}HC(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Dt=a):HC(e)}}function HC(e){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zi||nx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&DC(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DC(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&im(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}zi||t.flags&512&&Hy(t)}catch(h){Ir(t,t.return,h)}}if(t===e){Dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Dt=n;break}Dt=t.return}}function qC(e){for(;Dt!==null;){var t=Dt;if(t===e){Dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Dt=n;break}Dt=t.return}}function KC(e){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nx(4,t)}catch(l){Ir(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ir(t,i,l)}}var a=t.return;try{Hy(t)}catch(l){Ir(t,a,l)}break;case 5:var s=t.return;try{Hy(t)}catch(l){Ir(t,s,l)}}}catch(l){Ir(t,t.return,l)}if(t===e){Dt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Dt=o;break}Dt=t.return}}var MU=Math.ceil,Dg=Jo.ReactCurrentDispatcher,fk=Jo.ReactCurrentOwner,ts=Jo.ReactCurrentBatchConfig,On=0,wi=null,Gr=null,Ei=0,Pa=0,Gu=tc(0),ii=0,pm=null,Yc=0,rx=0,mk=0,Bf=null,ca=null,hk=0,xd=1/0,So=null,Tg=!1,Gy=null,zl=null,up=!1,Ol=null,Mg=0,zf=0,Yy=null,Yp=-1,Xp=0;function ta(){return On&6?Br():Yp!==-1?Yp:Yp=Br()}function Ul(e){return e.mode&1?On&2&&Ei!==0?Ei&-Ei:hU.transition!==null?(Xp===0&&(Xp=qE()),Xp):(e=Vn,e!==0||(e=window.event,e=e===void 0?16:JE(e.type)),e):1}function Ns(e,t,n,r){if(50<zf)throw zf=0,Yy=null,Error(ct(185));zm(e,n,r),(!(On&2)||e!==wi)&&(e===wi&&(!(On&2)&&(rx|=n),ii===4&&Tl(e,Ei)),pa(e,r),n===1&&On===0&&!(t.mode&1)&&(xd=Br()+500,J0&&nc()))}function pa(e,t){var n=e.callbackNode;h6(e,t);var r=hg(e,e===wi?Ei:0);if(r===0)n!==null&&nC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&nC(n),t===1)e.tag===0?mU(GC.bind(null,e)):v5(GC.bind(null,e)),cU(function(){!(On&6)&&nc()}),n=null;else{switch(KE(r)){case 1:n=B1;break;case 4:n=VE;break;case 16:n=mg;break;case 536870912:n=HE;break;default:n=mg}n=gO(n,cO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cO(e,t){if(Yp=-1,Xp=0,On&6)throw Error(ct(327));var n=e.callbackNode;if(sd()&&e.callbackNode!==n)return null;var r=hg(e,e===wi?Ei:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Eg(e,r);else{t=r;var i=On;On|=2;var a=dO();(wi!==e||Ei!==t)&&(So=null,xd=Br()+500,Fc(e,t));do try{IU();break}catch(o){uO(e,o)}while(!0);J1(),Dg.current=a,On=i,Gr!==null?t=0:(wi=null,Ei=0,t=ii)}if(t!==0){if(t===2&&(i=ky(e),i!==0&&(r=i,t=Xy(e,i))),t===1)throw n=pm,Fc(e,0),Tl(e,r),pa(e,Br()),n;if(t===6)Tl(e,r);else{if(i=e.current.alternate,!(r&30)&&!EU(i)&&(t=Eg(e,r),t===2&&(a=ky(e),a!==0&&(r=a,t=Xy(e,a))),t===1))throw n=pm,Fc(e,0),Tl(e,r),pa(e,Br()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ct(345));case 2:kc(e,ca,So);break;case 3:if(Tl(e,r),(r&130023424)===r&&(t=hk+500-Br(),10<t)){if(hg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ta(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ty(kc.bind(null,e,ca,So),t);break}kc(e,ca,So);break;case 4:if(Tl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ss(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MU(r/1960))-r,10<r){e.timeoutHandle=Ty(kc.bind(null,e,ca,So),r);break}kc(e,ca,So);break;case 5:kc(e,ca,So);break;default:throw Error(ct(329))}}}return pa(e,Br()),e.callbackNode===n?cO.bind(null,e):null}function Xy(e,t){var n=Bf;return e.current.memoizedState.isDehydrated&&(Fc(e,t).flags|=256),e=Eg(e,t),e!==2&&(t=ca,ca=n,t!==null&&Qy(t)),e}function Qy(e){ca===null?ca=e:ca.push.apply(ca,e)}function EU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!As(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tl(e,t){for(t&=~mk,t&=~rx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ss(t),r=1<<n;e[n]=-1,t&=~r}}function GC(e){if(On&6)throw Error(ct(327));sd();var t=hg(e,0);if(!(t&1))return pa(e,Br()),null;var n=Eg(e,t);if(e.tag!==0&&n===2){var r=ky(e);r!==0&&(t=r,n=Xy(e,r))}if(n===1)throw n=pm,Fc(e,0),Tl(e,t),pa(e,Br()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,ca,So),pa(e,Br()),null}function pk(e,t){var n=On;On|=1;try{return e(t)}finally{On=n,On===0&&(xd=Br()+500,J0&&nc())}}function Xc(e){Ol!==null&&Ol.tag===0&&!(On&6)&&sd();var t=On;On|=1;var n=ts.transition,r=Vn;try{if(ts.transition=null,Vn=1,e)return e()}finally{Vn=r,ts.transition=n,On=t,!(On&6)&&nc()}}function gk(){Pa=Gu.current,mr(Gu)}function Fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lU(n)),Gr!==null)for(n=Gr.return;n!==null;){var r=n;switch(X1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bg();break;case 3:pd(),mr(ma),mr(qi),ak();break;case 5:ik(r);break;case 4:pd();break;case 13:mr(Nr);break;case 19:mr(Nr);break;case 10:ek(r.type._context);break;case 22:case 23:gk()}n=n.return}if(wi=e,Gr=e=Wl(e.current,null),Ei=Pa=t,ii=0,pm=null,mk=rx=Yc=0,ca=Bf=null,Tc!==null){for(t=0;t<Tc.length;t++)if(n=Tc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Tc=null}return e}function uO(e,t){do{var n=Gr;try{if(J1(),qp.current=Pg,Ag){for(var r=Pr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ag=!1}if(Gc=0,bi=ni=Pr=null,Ff=!1,fm=0,fk.current=null,n===null||n.return===null){ii=1,pm=t,Gr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_C(s);if(m!==null){m.flags&=-257,LC(m,s,o,a,t),m.mode&1&&IC(a,u,t),t=m,l=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(l),t.updateQueue=x}else p.add(l);break e}else{if(!(t&1)){IC(a,u,t),xk();break e}l=Error(ct(426))}}else if(br&&o.mode&1){var b=_C(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),LC(b,s,o,a,t),Q1(gd(l,o));break e}}a=l=gd(l,o),ii!==4&&(ii=2),Bf===null?Bf=[a]:Bf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=K5(a,l,t);PC(a,v);break e;case 1:o=l;var w=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zl===null||!zl.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=G5(a,o,t);PC(a,N);break e}}a=a.return}while(a!==null)}mO(n)}catch(j){t=j,Gr===n&&n!==null&&(Gr=n=n.return);continue}break}while(!0)}function dO(){var e=Dg.current;return Dg.current=Pg,e===null?Pg:e}function xk(){(ii===0||ii===3||ii===2)&&(ii=4),wi===null||!(Yc&268435455)&&!(rx&268435455)||Tl(wi,Ei)}function Eg(e,t){var n=On;On|=2;var r=dO();(wi!==e||Ei!==t)&&(So=null,Fc(e,t));do try{OU();break}catch(i){uO(e,i)}while(!0);if(J1(),On=n,Dg.current=r,Gr!==null)throw Error(ct(261));return wi=null,Ei=0,ii}function OU(){for(;Gr!==null;)fO(Gr)}function IU(){for(;Gr!==null&&!a6();)fO(Gr)}function fO(e){var t=pO(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,t===null?mO(e):Gr=t,fk.current=null}function mO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AU(n,t),n!==null){n.flags&=32767,Gr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ii=6,Gr=null;return}}else if(n=jU(n,t,Pa),n!==null){Gr=n;return}if(t=t.sibling,t!==null){Gr=t;return}Gr=t=e}while(t!==null);ii===0&&(ii=5)}function kc(e,t,n){var r=Vn,i=ts.transition;try{ts.transition=null,Vn=1,_U(e,t,n,r)}finally{ts.transition=i,Vn=r}return null}function _U(e,t,n,r){do sd();while(Ol!==null);if(On&6)throw Error(ct(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(p6(e,a),e===wi&&(Gr=wi=null,Ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||up||(up=!0,gO(mg,function(){return sd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ts.transition,ts.transition=null;var s=Vn;Vn=1;var o=On;On|=4,fk.current=null,DU(e,n),oO(n,e),tU(Py),pg=!!Ay,Py=Ay=null,e.current=n,TU(n),s6(),On=o,Vn=s,ts.transition=a}else e.current=n;if(up&&(up=!1,Ol=e,Mg=i),a=e.pendingLanes,a===0&&(zl=null),c6(n.stateNode),pa(e,Br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tg)throw Tg=!1,e=Gy,Gy=null,e;return Mg&1&&e.tag!==0&&sd(),a=e.pendingLanes,a&1?e===Yy?zf++:(zf=0,Yy=e):zf=0,nc(),null}function sd(){if(Ol!==null){var e=KE(Mg),t=ts.transition,n=Vn;try{if(ts.transition=null,Vn=16>e?16:e,Ol===null)var r=!1;else{if(e=Ol,Ol=null,Mg=0,On&6)throw Error(ct(331));var i=On;for(On|=4,Dt=e.current;Dt!==null;){var a=Dt,s=a.child;if(Dt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Dt=u;Dt!==null;){var d=Dt;switch(d.tag){case 0:case 11:case 15:Rf(8,d,a)}var f=d.child;if(f!==null)f.return=d,Dt=f;else for(;Dt!==null;){d=Dt;var h=d.sibling,m=d.return;if(iO(d),d===u){Dt=null;break}if(h!==null){h.return=m,Dt=h;break}Dt=m}}}var p=a.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Dt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Dt=s;else e:for(;Dt!==null;){if(a=Dt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rf(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Dt=v;break e}Dt=a.return}}var w=e.current;for(Dt=w;Dt!==null;){s=Dt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Dt=y;else e:for(s=w;Dt!==null;){if(o=Dt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:nx(9,o)}}catch(j){Ir(o,o.return,j)}if(o===s){Dt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Dt=N;break e}Dt=o.return}}if(On=i,nc(),eo&&typeof eo.onPostCommitFiberRoot=="function")try{eo.onPostCommitFiberRoot(G0,e)}catch{}r=!0}return r}finally{Vn=n,ts.transition=t}}return!1}function YC(e,t,n){t=gd(n,t),t=K5(e,t,1),e=Bl(e,t,1),t=ta(),e!==null&&(zm(e,1,t),pa(e,t))}function Ir(e,t,n){if(e.tag===3)YC(e,e,n);else for(;t!==null;){if(t.tag===3){YC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zl===null||!zl.has(r))){e=gd(n,e),e=G5(t,e,1),t=Bl(t,e,1),e=ta(),t!==null&&(zm(t,1,e),pa(t,e));break}}t=t.return}}function LU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ta(),e.pingedLanes|=e.suspendedLanes&n,wi===e&&(Ei&n)===n&&(ii===4||ii===3&&(Ei&130023424)===Ei&&500>Br()-hk?Fc(e,0):mk|=n),pa(e,t)}function hO(e,t){t===0&&(e.mode&1?(t=ep,ep<<=1,!(ep&130023424)&&(ep=4194304)):t=1);var n=ta();e=zo(e,t),e!==null&&(zm(e,t,n),pa(e,n))}function $U(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hO(e,n)}function FU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(t),hO(e,n)}var pO;pO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ma.current)da=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return da=!1,CU(e,t,n);da=!!(e.flags&131072)}else da=!1,br&&t.flags&1048576&&b5(t,kg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gp(e,t),e=t.pendingProps;var i=fd(t,qi.current);ad(t,n),i=ok(null,t,r,e,i,n);var a=lk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ha(r)?(a=!0,yg(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nk(t),i.updater=tx,t.stateNode=i,i._reactInternals=t,$y(t,r,e,n),t=By(null,t,r,!0,a,n)):(t.tag=0,br&&a&&Y1(t),Zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=BU(r),e=xs(r,e),i){case 0:t=Ry(null,t,r,e,n);break e;case 1:t=RC(null,t,r,e,n);break e;case 11:t=$C(null,t,r,e,n);break e;case 14:t=FC(null,t,r,xs(r.type,e),n);break e}throw Error(ct(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),Ry(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),RC(e,t,r,i,n);case 3:e:{if(Z5(t),e===null)throw Error(ct(387));r=t.pendingProps,a=t.memoizedState,i=a.element,C5(e,t),Cg(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=gd(Error(ct(423)),t),t=BC(e,t,r,n,i);break e}else if(r!==i){i=gd(Error(ct(424)),t),t=BC(e,t,r,n,i);break e}else for(Ma=Rl(t.stateNode.containerInfo.firstChild),Oa=t,br=!0,bs=null,n=S5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(md(),r===i){t=Uo(e,t,n);break e}Zi(e,t,r,n)}t=t.child}return t;case 5:return j5(t),e===null&&Iy(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Dy(r,i)?s=null:a!==null&&Dy(r,a)&&(t.flags|=32),Q5(e,t),Zi(e,t,s,n),t.child;case 6:return e===null&&Iy(t),null;case 13:return J5(e,t,n);case 4:return rk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hd(t,null,r,n):Zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),$C(e,t,r,i,n);case 7:return Zi(e,t,t.pendingProps,n),t.child;case 8:return Zi(e,t,t.pendingProps.children,n),t.child;case 12:return Zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,sr(Sg,r._currentValue),r._currentValue=s,a!==null)if(As(a.value,s)){if(a.children===i.children&&!ma.current){t=Uo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Oo(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_y(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ct(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),_y(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ad(t,n),i=ns(i),r=r(i),t.flags|=1,Zi(e,t,r,n),t.child;case 14:return r=t.type,i=xs(r,t.pendingProps),i=xs(r.type,i),FC(e,t,r,i,n);case 15:return Y5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xs(r,i),Gp(e,t),t.tag=1,ha(r)?(e=!0,yg(t)):e=!1,ad(t,n),q5(t,r,i),$y(t,r,i,n),By(null,t,r,!0,e,n);case 19:return eO(e,t,n);case 22:return X5(e,t,n)}throw Error(ct(156,t.tag))};function gO(e,t){return WE(e,t)}function RU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(e,t,n,r){return new RU(e,t,n,r)}function vk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BU(e){if(typeof e=="function")return vk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$1)return 11;if(e===F1)return 14}return 2}function Wl(e,t){var n=e.alternate;return n===null?(n=Ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qp(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")vk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Fu:return Rc(n.children,i,a,t);case L1:s=8,i|=8;break;case oy:return e=Ja(12,n,t,i|2),e.elementType=oy,e.lanes=a,e;case ly:return e=Ja(13,n,t,i),e.elementType=ly,e.lanes=a,e;case cy:return e=Ja(19,n,t,i),e.elementType=cy,e.lanes=a,e;case jE:return ix(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NE:s=10;break e;case CE:s=9;break e;case $1:s=11;break e;case F1:s=14;break e;case Nl:s=16,r=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=Ja(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return e=Ja(7,e,r,t),e.lanes=n,e}function ix(e,t,n,r){return e=Ja(22,e,r,t),e.elementType=jE,e.lanes=n,e.stateNode={isHidden:!1},e}function eb(e,t,n){return e=Ja(6,e,null,t),e.lanes=n,e}function tb(e,t,n){return t=Ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zU(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bk(e,t,n,r,i,a,s,o,l){return e=new zU(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ja(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nk(a),e}function UU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$u,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xO(e){if(!e)return Gl;e=e._reactInternals;e:{if(lu(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(ha(n))return x5(e,n,t)}return t}function vO(e,t,n,r,i,a,s,o,l){return e=bk(n,r,!0,e,i,a,s,o,l),e.context=xO(null),n=e.current,r=ta(),i=Ul(n),a=Oo(r,i),a.callback=t??null,Bl(n,a,i),e.current.lanes=i,zm(e,i,r),pa(e,r),e}function ax(e,t,n,r){var i=t.current,a=ta(),s=Ul(i);return n=xO(n),t.context===null?t.context=n:t.pendingContext=n,t=Oo(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bl(i,t,s),e!==null&&(Ns(e,i,s,a),Hp(e,i,s)),s}function Og(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function XC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yk(e,t){XC(e,t),(e=e.alternate)&&XC(e,t)}function WU(){return null}var bO=typeof reportError=="function"?reportError:function(e){console.error(e)};function wk(e){this._internalRoot=e}sx.prototype.render=wk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));ax(e,t,null,null)};sx.prototype.unmount=wk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xc(function(){ax(null,e,null,null)}),t[Bo]=null}};function sx(e){this._internalRoot=e}sx.prototype.unstable_scheduleHydration=function(e){if(e){var t=XE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dl.length&&t!==0&&t<Dl[n].priority;n++);Dl.splice(n,0,e),n===0&&ZE(e)}};function kk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ox(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QC(){}function VU(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Og(s);a.call(u)}}var s=vO(t,r,e,0,null,!1,!1,"",QC);return e._reactRootContainer=s,e[Bo]=s.current,om(e.nodeType===8?e.parentNode:e),Xc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Og(l);o.call(u)}}var l=bk(e,0,!1,null,null,!1,!1,"",QC);return e._reactRootContainer=l,e[Bo]=l.current,om(e.nodeType===8?e.parentNode:e),Xc(function(){ax(t,l,n,r)}),l}function lx(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Og(s);o.call(l)}}ax(t,s,e,i)}else s=VU(n,t,e,i,r);return Og(s)}GE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cf(t.pendingLanes);n!==0&&(z1(t,n|1),pa(t,Br()),!(On&6)&&(xd=Br()+500,nc()))}break;case 13:Xc(function(){var r=zo(e,1);if(r!==null){var i=ta();Ns(r,e,1,i)}}),yk(e,1)}};U1=function(e){if(e.tag===13){var t=zo(e,134217728);if(t!==null){var n=ta();Ns(t,e,134217728,n)}yk(e,134217728)}};YE=function(e){if(e.tag===13){var t=Ul(e),n=zo(e,t);if(n!==null){var r=ta();Ns(n,e,t,r)}yk(e,t)}};XE=function(){return Vn};QE=function(e,t){var n=Vn;try{return Vn=e,t()}finally{Vn=n}};by=function(e,t,n){switch(t){case"input":if(fy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Z0(r);if(!i)throw Error(ct(90));PE(r),fy(r,i)}}}break;case"textarea":TE(e,n);break;case"select":t=n.value,t!=null&&td(e,!!n.multiple,t,!1)}};$E=pk;FE=Xc;var HU={usingClientEntryPoint:!1,Events:[Wm,Uu,Z0,_E,LE,pk]},uf={findFiberByHostInstance:Dc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qU={bundleType:uf.bundleType,version:uf.version,rendererPackageName:uf.rendererPackageName,rendererConfig:uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zE(e),e===null?null:e.stateNode},findFiberByHostInstance:uf.findFiberByHostInstance||WU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{G0=dp.inject(qU),eo=dp}catch{}}Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HU;Ba.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kk(t))throw Error(ct(200));return UU(e,t,null,n)};Ba.createRoot=function(e,t){if(!kk(e))throw Error(ct(299));var n=!1,r="",i=bO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bk(e,1,!1,null,null,n,!1,r,i),e[Bo]=t.current,om(e.nodeType===8?e.parentNode:e),new wk(t)};Ba.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=zE(t),e=e===null?null:e.stateNode,e};Ba.flushSync=function(e){return Xc(e)};Ba.hydrate=function(e,t,n){if(!ox(t))throw Error(ct(200));return lx(null,e,t,!0,n)};Ba.hydrateRoot=function(e,t,n){if(!kk(e))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=bO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=vO(t,null,e,1,n??null,i,!1,a,s),e[Bo]=t.current,om(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sx(t)};Ba.render=function(e,t,n){if(!ox(t))throw Error(ct(200));return lx(null,e,t,!1,n)};Ba.unmountComponentAtNode=function(e){if(!ox(e))throw Error(ct(40));return e._reactRootContainer?(Xc(function(){lx(null,null,e,!1,function(){e._reactRootContainer=null,e[Bo]=null})}),!0):!1};Ba.unstable_batchedUpdates=pk;Ba.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ox(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return lx(e,t,n,!1,r)};Ba.version="18.3.1-next-f1338f8080-20240426";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(e){console.error(e)}}yO(),yE.exports=Ba;var Ld=yE.exports,ZC=Ld;ay.createRoot=ZC.createRoot,ay.hydrateRoot=ZC.hydrateRoot;const KU=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),wO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],kO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],GU=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],SO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],YU=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],XU=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],QU=new Set([10244]),ZU=(e,t)=>{var i;if(QU.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return XU.some(a=>r.includes(a))},JU=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},fp=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},NO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,CO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},xi=(e,t=2)=>Number.isFinite(e)?NO()&&Math.abs(e)>=1e4?CO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",kl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return NO()&&t>=1e4?CO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var e8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const t8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sn=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>g.createElement("svg",{ref:u,...e8,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${t8(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},jO=sn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),n8=sn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),Sk=sn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),AO=sn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),r8=sn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Nk=sn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),i8=sn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),PO=sn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Zy=sn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),a8=sn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ps=sn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),s8=sn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),o8=sn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),l8=sn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),c8=sn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),gm=sn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),u8=sn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Ck=sn("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),d8=sn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),DO=sn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),f8=sn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),jk=sn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),m8=sn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Ak=sn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),h8=sn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Pk=sn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ii=sn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),JC=sn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),p8=sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),g8=sn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),x8=sn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),TO=sn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),vd=sn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),cx=sn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),ux=sn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ig=sn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),v8=sn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Il=sn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Bc=sn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),b8=sn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Lr=sn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),y8=sn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),MO=sn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ki=sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xm=sn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Dk=({className:e})=>c.jsx(p8,{className:e,strokeWidth:3.2}),cu=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},Tk=({className:e=""})=>{const t=cu("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Mk=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},zc=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ek=({className:e=""})=>{const t=cu("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Uf=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ok=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},w8=[{id:"overview",label:"Overview",icon:Bc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Bc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Il},{id:"top-players",label:"Top Players",icon:Bc},{id:"top-skills-outgoing",label:"Top Skills",icon:Sk},{id:"squad-composition",label:"Classes",icon:Lr},{id:"timeline",label:"Squad vs Enemy",icon:Lr},{id:"map-distribution",label:"Map Distribution",icon:Pk}]},{id:"roster",label:"Roster Intel",icon:gm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:gm},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Lr},{id:"fight-comp",label:"Fight Comp",icon:Il}]},{id:"offense",label:"Offensive Stats",icon:Il,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Il},{id:"player-breakdown",label:"Player Breakdown",icon:Ak},{id:"damage-breakdown",label:"Damage Breakdown",icon:Nk},{id:"spike-damage",label:"Spike Damage",icon:xm},{id:"conditions-outgoing",label:"Conditions",icon:cx}]},{id:"defense",label:"Defensive Stats",icon:vd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:x8},{id:"defense-detailed",label:"Defense Detailed",icon:vd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Ek},{id:"boon-output",label:"Boon Output",icon:zc},{id:"boon-timeline",label:"Boon Timeline",icon:Mk},{id:"boon-uptime",label:"Boon Uptime",icon:Uf},{id:"support-detailed",label:"Support Detailed",icon:Dk},{id:"healing-stats",label:"Healing Stats",icon:DO}]},{id:"other",label:"Other Metrics",icon:Ig,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Ck},{id:"special-buffs",label:"Special Buffs",icon:Ig},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ok},{id:"skill-usage",label:"Skill Usage",icon:jk},{id:"apm-stats",label:"APM Breakdown",icon:Tk}]}],k8=(e,t=!0,n=!1)=>{const[r,i]=g.useState(!1),[a,s]=g.useState("overview"),o=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>w8,[]),f=g.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const x=p==="kdr"?"overview":p,b=o.current,v=document.getElementById(x);if(b&&v){const w=b.getBoundingClientRect(),N=v.getBoundingClientRect().top-w.top+b.scrollTop,j=Math.max(0,b.scrollHeight-b.clientHeight),S=Math.min(Math.max(N-16,0),j);b.scrollTo({top:S,behavior:"smooth"}),s(x)}else v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),s(x));i(!1)};g.useEffect(()=>{if(e||n)return;const p=x=>{if(n)return;const b=o.current;if(!b)return;const v=x.target;if(!(v instanceof Element&&v.closest("[data-stats-mobile-nav]"))&&!(v instanceof Node&&b.contains(v))&&x.deltaY!==0&&!(b.scrollHeight<=b.clientHeight)){if(u.current+=x.deltaY,l.current===null){const w=()=>{const y=u.current;if(Math.abs(y)<.5){u.current=0,l.current=null;return}const N=y*.2;u.current=y-N,b.scrollBy({top:N,behavior:"auto"}),l.current=requestAnimationFrame(w)};l.current=requestAnimationFrame(w)}x.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=p=>{var w;const x=Math.max(0,f.findIndex(y=>y.id===a)),b=Math.min(Math.max(x+p,0),f.length-1),v=(w=f[b])==null?void 0:w.id;v&&h(v)};return g.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let x=0;const b=()=>{var N;const w=p.getBoundingClientRect().top;let y=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(j=>{const S=document.getElementById(j.id);if(!S)return;S.getBoundingClientRect().top-w<=24&&(y=j.id)}),s(j=>j===y?j:y)},v=()=>{x&&cancelAnimationFrame(x),x=requestAnimationFrame(b)};return b(),p.addEventListener("scroll",v,{passive:!0}),window.addEventListener("resize",v),()=>{x&&cancelAnimationFrame(x),p.removeEventListener("scroll",v),window.removeEventListener("resize",v)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},ej=["selfBuffs","groupBuffs","squadBuffs"],ko=(e,t,n=0)=>t?e/t:n,tj=e=>e!=null&&e.classification?e.classification==="Boon":!0,EO=e=>`b${e}`,S8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},OO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},N8=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let h=1;t==="groupBuffs"?h=ko(a-i,i,1):t==="squadBuffs"?h=ko(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?ko(d,r):ko(d,r)*100,p=n?ko(f,r):ko(f,r)*100;else{const x=ko(d,r)/(h||1),b=ko(f,r)/(h||1);m=n?x:x*100,p=n?b:b*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},IO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=N8(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?ko(i,s):a},C8=(e,t,n,r,i)=>{const a=IO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,u=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${u}%`:u},j8=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const x=t.get(m)||{},b={name:x.name||p.name,stacking:x.stacking??p.stacking,icon:x.icon||p.icon,classification:x.classification||p.classification};t.set(m,b)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",x=m.profession||"Unknown",b=m.group??0,v=h.get(b)||1,w=S8(m,o);n.has(p)||n.set(p,{account:p,profession:x,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const y=n.get(p);y.profession=x,x!=="Unknown"&&(y.professions.add(x),y.professionTimeMs[x]=(y.professionTimeMs[x]||0)+w),y.activeTimeMs+=w,y.numFights+=1,y.groupSupported+=v,y.squadSupported+=f,ej.forEach(N=>{(m[N]||[]).forEach(S=>{var ee,le,be,X;if(typeof(S==null?void 0:S.id)!="number")return;const A=EO(S.id),I=l[A];if(!tj(I))return;const R=(I==null?void 0:I.stacking)??!1,T=((le=(ee=S.buffData)==null?void 0:ee[0])==null?void 0:le.generation)??0,L=((X=(be=S.buffData)==null?void 0:be[0])==null?void 0:X.wasted)??0,{generationMs:_,wastedMs:G}=OO(N,R,T,L,o,v,f);!_&&!G||(t.has(A)||t.set(A,I||{}),y.boons[A]||(y.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),y.boons[A][N].generationMs+=_,y.boons[A][N].wastedMs+=G)})})})}),{boonTables:Array.from(t.keys()).filter(a=>tj(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const u=l.boons[a];if(!u||!ej.some(p=>u[p].generationMs>0||u[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(x=>{var v;const b=((v=l.professionTimeMs)==null?void 0:v[x])||0;b>p&&(p=b,h=x)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...u.selfBuffs},groupBuffs:{...u.groupBuffs},squadBuffs:{...u.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},Jy=(e,t,n,r,i,a,s={})=>{var m,p,x,b;const l=((e==null?void 0:e[t])||[]).find(v=>v.id===n);if(!l)return{generationMs:0,wastedMs:0};const u=s[EO(n)],d=(u==null?void 0:u.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((b=(x=l.buffData)==null?void 0:x[0])==null?void 0:b.wasted)??0;return OO(t,d,f,h,r,i,a)},A8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},P8={methods:A8},D8=P8,Ik="count",T8=e=>(e||0)/1e3,M8=(e,t)=>{var i;if(!e)return 0;const n=(i=D8.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},_O=(e,t,n)=>n==="duration"?T8(t):n==="tiered"?M8(e,t):e;function E8(e,t=Ik){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return _O(r,i,t)}function O8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,u=Jy(o,"selfBuffs",1122,n,l,a,r),d=Jy(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function I8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function _8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function L8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const nj=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},rj=(e,t=Ik)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return _O(r,i,t)},ij=e=>I8(e),aj=e=>L8(e),sj=e=>_8(e),oj=(e,t=Ik)=>E8(e,t),$8=(e,t)=>O8(e,t),F8="count",LO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},ew={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},R8={uploading:!1,message:null,url:null,buildStatus:"idle"},lj=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),$O={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},mp=e=>{if(e)return $O[e]},vm=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=lj.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=lj.get(i);if(a)return a}return null},Iu=e=>vm(e),FO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=vm(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries($O).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Zp=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=vm(i);if(a)return a}return e?vm(e):null},B8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},z8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},U8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},W8=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||B8,s=FO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(x=>{x&&x.forEach(b=>{if(!b.id)return;let v=`Skill ${b.id}`,w;r&&(r[`s${b.id}`]?(v=r[`s${b.id}`].name||v,w=r[`s${b.id}`].icon||w):r[`${b.id}`]&&(v=r[`${b.id}`].name||v,w=r[`${b.id}`].icon||w));const y=Zp(v,b.id,i);if(!y)return;const N=i==null?void 0:i[`b${b.id}`],j=N==null?void 0:N.name,S=s.get(y)||(N==null?void 0:N.icon),A=v.startsWith("Skill ")?j||y:v,I=w||(N==null?void 0:N.icon),R=Number(b.connectedHits??0),T=Number(b.hits??0),L=R>0?R:T,_=Number(b.totalDamage??0);if(!Number.isFinite(L)&&!Number.isFinite(_))return;const G=l[y]||{name:y,icon:S,applications:0,damage:0};G.applications+=Number.isFinite(L)?L:0,G.damage+=Number.isFinite(_)?_:0,!G.icon&&S&&(G.icon=S),l[y]=G;const ee=o[p][y]||{icon:S,applications:0,damage:0,skills:{}};ee.applications+=Number.isFinite(L)?L:0,ee.damage+=Number.isFinite(_)?_:0;const le=ee.skills[A]||{name:A,hits:0,damage:0,icon:I};le.hits+=Number.isFinite(L)?L:0,le.damage+=Number.isFinite(_)?_:0,!le.icon&&I&&(le.icon=I),ee.skills[A]=le,!ee.icon&&S&&(ee.icon=S),o[p][y]=ee})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&u.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const x=Number(p==null?void 0:p.id);if(!Number.isFinite(x))return;const b=i==null?void 0:i[`b${x}`],v=vm(b==null?void 0:b.name);if(!v||b!=null&&b.classification&&b.classification!=="Condition")return;const w=v;if(!w)return;const y=p.statesPerSource||{};h+=1,Object.entries(y).forEach(([N,j])=>{var L;const S=u.get(N);if(!S)return;f+=1;const A=z8(j),I=U8(j);d+=A;const R=((L=o[S])==null?void 0:L[w])||{applications:0,damage:0,skills:{}};R.applicationsFromBuffs=(R.applicationsFromBuffs||0)+A,R.applicationsFromBuffsActive=(R.applicationsFromBuffsActive||0)+I,o[S]=o[S]||{},o[S][w]=R;const T=l[w]||{name:w,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+A,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+I,l[w]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Qc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},V8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Io(e){return Qc[e]||Qc.Unknown}function H8(e){return e?V8[e]||e:"Unknown"}function Ec(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Qc[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=H8(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const q8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},ti=(e,t)=>q8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Af=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var x;return(Array.isArray((x=m==null?void 0:m.details)==null?void 0:x.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),l=r||ew,u=n||LO,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const x=S=>Array.isArray(S)&&S.some(A=>A&&Number(A.count)>0),b=new Map,v=new Map;e.forEach(S=>{var R;const A=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);A&&b.set(String(A),S);const I=(S==null?void 0:S.permalink)||((R=S==null?void 0:S.details)==null?void 0:R.permalink);typeof I=="string"&&I.trim()&&v.set(I.trim(),S)});const w=p.map(S=>{var _;if(!S||typeof S!="object")return S;const A=S.id?String(S.id):"",I=typeof S.permalink=="string"?S.permalink.trim():"",R=(A?b.get(A):void 0)||(I?v.get(I):void 0);if(!R)return S;let T=S;if(Number(S.timestamp)<=0){const G=ti(R==null?void 0:R.details,R);G&&(T={...T,timestamp:G})}const L=(_=R==null?void 0:R.details)==null?void 0:_.teamBreakdown;return x(L)&&(T={...T,teamBreakdown:L}),T}),y=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],j=y.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(A=>Number((A==null?void 0:A.damage)||0)>0||Number((A==null?void 0:A.hits)||0)>0))?y:w.map((S,A)=>{const I=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},R=Object.entries(I).map(([K,E])=>({label:String(K||"Unknown"),count:Number(E||0)})).filter(K=>K.count>0).sort((K,E)=>E.count-K.count||K.label.localeCompare(E.label)),T=R.reduce((K,E)=>K+E.count,0),L=R.map(K=>({label:K.label,damage:K.count,hits:0,share:T>0?K.count/T:0})),_=Number((S==null?void 0:S.enemyDowns)||0),G=Number((S==null?void 0:S.enemyDeaths)||0),ee=Number((S==null?void 0:S.alliesDown)||0),le=Number((S==null?void 0:S.alliesDead)||0),be=Number((S==null?void 0:S.totalOutgoingDamage)||0),X=Number((S==null?void 0:S.totalIncomingDamage)||0),q=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:le>0?G/le:G},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:G},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:_},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:le},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:ee},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:be-X},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:be},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:X},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${A+1}`),shortLabel:`F${A+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:L,squadMetrics:q}});return{...m,fightBreakdown:w,fightDiffMode:j}},f=(()=>{if(t)return d(t);const m=i||F8,p=a!==!1,x=l.topSkillDamageSource||"target",b=l.topSkillsMetric||"damage",v=o.length;let w=0,y=0,N=0,j=0,S=0,A=0,I=0,R=0;const T=P=>{const J=((P==null?void 0:P.players)||[]).filter(bt=>!bt.notInSquad);let Ne=0,fe=0,Ue=0,Me=0;return J.forEach(bt=>{var me;const gt=(me=bt.defenses)==null?void 0:me[0];if(!gt)return;const Lt=Number(gt.downCount||0),He=Number(gt.deadCount||0);Ne+=Lt+He,Ue+=He}),J.forEach(bt=>{!bt.statsTargets||bt.statsTargets.length===0||bt.statsTargets.forEach(gt=>{const Lt=gt==null?void 0:gt[0];if(!Lt)return;const He=Number(Lt.downed||0),me=Number(Lt.killed||0);fe+=He+me,Me+=me})}),{squadDownsDeaths:Ne,enemyDownsDeaths:fe,squadDeaths:Ue,enemyDeaths:Me}},L=P=>{const{squadDownsDeaths:$,enemyDownsDeaths:J}=T(P);return $>0||J>0?J>$:typeof(P==null?void 0:P.success)=="boolean"?P.success:!1},_=new Map,G=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),ee={},le={},be=new Map,X={},q={},K={},E=new Map,D=new Map,ie=new Set(Object.keys(Qc)),k=Object.keys(Qc).filter(P=>P&&P!=="Unknown").sort((P,$)=>$.length-P.length),B=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],V=P=>{if(!P)return"Unknown";const $=String(P).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ie.has($))return $;const J=$.toLowerCase();for(const fe of k)if(J.includes(fe.toLowerCase()))return fe;return B.find(fe=>J.includes(fe.toLowerCase()))||$||"Unknown"},ne=P=>P!=null&&P.classification?P.classification==="Boon":!0,re=new Map,se=new Map,z=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),W=P=>{const $=Number(P);return Number.isFinite($)?$:0},H=P=>{const $=String(P).split("|"),J=$[0]||"Unknown",Ne=V($[1]||"Unknown"),fe=$[2]||J||"Unknown";return{name:J,profession:Ne,account:fe}},te=(P,$,J)=>{let Ne=P.get($);return Ne?J.profession&&!Ne.professionList.includes(J.profession)&&Ne.professionList.push(J.profession):(Ne={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:z()},P.set($,Ne)),Ne},U=(P,$,J)=>{let Ne=P.get($);return Ne?J.profession&&!Ne.professionList.includes(J.profession)&&Ne.professionList.push(J.profession):(Ne={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:z(),minion:J.minion},P.set($,Ne)),Ne},ue=(P,$)=>{P.totalHits+=W(($==null?void 0:$.skill_hits)??($==null?void 0:$.skillHits)),P.blocked+=W($==null?void 0:$.blocked),P.evaded+=W($==null?void 0:$.evaded),P.glanced+=W($==null?void 0:$.glanced),P.missed+=W($==null?void 0:$.missed),P.invulned+=W($==null?void 0:$.invulned),P.interrupted+=W($==null?void 0:$.interrupted),P.totalMitigation+=W(($==null?void 0:$.avoided_damage)??($==null?void 0:$.avoidedDamage)),P.minMitigation+=W(($==null?void 0:$.min_avoided_damage)??($==null?void 0:$.minAvoidedDamage))},Z=P=>Object.values(P).some($=>$>0),ae=new Map,Ke=P=>{const $=ae.get(P);if(!$)return{hasSkill:!1,avg:1,min:1,hits:0};const J=$.connectedHits||0,Ne=J>0?$.totalDamage/J:0,fe=$.minCount>0?$.minTotal/$.minCount:0;return{hasSkill:!0,avg:Ne,min:fe,hits:J}},Ye=new Map,ye=new Map,F=(P,$,J)=>{const Ne=P.get($)||z();return Ne.totalHits+=J.totalHits,Ne.blocked+=J.blocked,Ne.evaded+=J.evaded,Ne.glanced+=J.glanced,Ne.missed+=J.missed,Ne.invulned+=J.invulned,Ne.interrupted+=J.interrupted,P.set($,Ne),Ne};o.forEach(P=>{const $=P.details;if(!$)return;($.targets||[]).forEach(Ne=>{const fe=(Ne==null?void 0:Ne.totalDamageDist)||[],Ue=Array.isArray(fe)?fe[0]:null;Ue==null||Ue.forEach(Me=>{if(!(Me!=null&&Me.id))return;const bt=Number(Me.id),gt=ae.get(bt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};gt.totalDamage+=Number(Me.totalDamage||0),gt.connectedHits+=Number(Me.connectedHits||0);const Lt=Number.isFinite(Number(Me.min))?Number(Me.min):0;gt.minTotal+=Lt,gt.minCount+=1,ae.set(bt,gt)})})}),o.forEach(P=>{var et,rt;const $=P.details;if(!$)return;const J=$.players,Ne=$.targets||[],fe=$.combatReplayMetaData||{},Ue=(fe==null?void 0:fe.inchToPixel)>0?fe.inchToPixel:1,Me=(fe==null?void 0:fe.pollingRate)>0?fe.pollingRate:1,bt=5e3,gt=de=>Array.isArray(de)?de.map(pe=>Array.isArray(pe)?[Number(pe[0]),Number(pe[1])]:null).filter(pe=>!!pe&&Number.isFinite(pe[0])):[];let Lt=[],He=$.durationMS||0,me=!1;const he=J.find(de=>(de==null?void 0:de.hasCommanderTag)&&!(de!=null&&de.notInSquad));(et=he==null?void 0:he.combatReplayData)!=null&&et.positions&&(Lt=he.combatReplayData.positions,gt(he.combatReplayData.dead).forEach(([pe])=>{pe>0&&(me=!0,He=Math.min(He,pe))}));const tt=de=>{var _e;const pe=(_e=de.statsAll)==null?void 0:_e[0];if((pe==null?void 0:pe.distToCom)!==void 0&&(pe==null?void 0:pe.distToCom)!=="Infinity")return Math.round(Number(pe.distToCom));if((pe==null?void 0:pe.stackDist)!==void 0)return Math.round(Number(pe.stackDist))||0;if(de.hasCommanderTag)return 0;const ot=de.combatReplayData;if(!(ot!=null&&ot.positions)||!Lt.length)return 0;const vt=ot.positions,ke=gt(ot.dead),ce=gt(ot.down),_t=Math.floor((ot.start||0)/Me);let De=0;if(ke.length&&ce.length)for(const[ut]of ke){if(ut<0)continue;const ft=Math.max(0,Math.floor(ut/Me))-_t;for(const[at,We]of ce){if(ut!==We)continue;const ht=me&&at>He?Math.max(1,Math.floor(He/Me)):ft,pt=Math.max(0,Math.min(ht,vt.length,Lt.length));if(pt<=0)continue;let Rt=0;for(let rn=0;rn<pt;rn++){const[pn,Cn]=vt[rn],[Mn,lr]=Lt[rn];Rt+=Math.hypot(pn-Mn,Cn-lr)}De=Math.round(Rt/pt/Ue)}}return De},Ce=J.filter(de=>!de.notInSquad);N+=Ce.length,j+=Ne.filter(de=>!de.isFake).length,$8(J,{durationMS:$.durationMS,buffMap:$.buffMap});const{squadDeaths:nt,enemyDeaths:st}=T($);S+=nt,A+=st,R+=nt,I+=st,L($)?w++:y++;const je=$.skillMap?Number((rt=Object.keys($.skillMap).find(de=>{var pe,ot;return((ot=(pe=$.skillMap)==null?void 0:pe[de])==null?void 0:ot.name)==="Battle Standard"}))==null?void 0:rt.replace(/^s/,"")):null;J.forEach((de,pe)=>{var Zr,Sr,cr,fs,Ci,cl,Bn,ms,ji,uc,Un,dc,Jr;if(de.notInSquad)return;const ot=de.account||"Unknown",vt=ot!=="Unknown"?ot:de.name||"Unknown",ke=de.name||"Unknown";_.has(vt)||_.set(vt,{name:ke,account:vt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:de.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ce=_.get(vt);if(de.hasCommanderTag&&(ce.isCommander=!0),ke!=="Unknown"&&ce.characterNames.add(String(ke)),de.profession&&de.profession!=="Unknown"){ce.profession=de.profession,ce.professions.add(de.profession);const Qe=Array.isArray(de.activeTimes)&&typeof de.activeTimes[0]=="number"?de.activeTimes[0]:$.durationMS||0;ce.professionTimeMs[de.profession]=(ce.professionTimeMs[de.profession]||0)+Qe}ce.logsJoined++,ce.downContrib+=ij(de),ce.cleanses+=nj(de),ce.strips+=rj(de,m),ce.healing+=aj(de),ce.barrier+=sj(de),ce.cc+=oj(de,m),ce.stab+=de.stabGeneration||0;const _t=tt(de);_t<=bt&&(ce.totalDist+=_t,ce.distCount++),(Zr=de.defenses)!=null&&Zr[0]&&(ce.dodges+=de.defenses[0].dodgeCount||0,ce.downs+=de.defenses[0].downCount||0,ce.deaths+=de.defenses[0].deadCount||0),$.durationMS&&(ce.totalFightMs+=$.durationMS);const De=Array.isArray(de.activeTimes)&&typeof de.activeTimes[0]=="number"?de.activeTimes[0]:$.durationMS||0;ce.squadActiveMs+=De;const _e=ti($,P),ut=Number(($==null?void 0:$.durationMS)||0);if(_e>0&&((ce.firstSeenFightTs<=0||_e<ce.firstSeenFightTs)&&(ce.firstSeenFightTs=_e),ce.lastSeenFightTs<=0||_e>ce.lastSeenFightTs?(ce.lastSeenFightTs=_e,ce.lastSeenFightDurationMs=ut):_e===ce.lastSeenFightTs&&ut>ce.lastSeenFightDurationMs&&(ce.lastSeenFightDurationMs=ut)),ce.defenseActiveMs+=De,ce.supportActiveMs+=De,ce.healingActiveMs+=De,Array.isArray(de.buffUptimes)&&de.buffUptimes.length>0&&de.buffUptimes.forEach(Qe=>{var Th,Mh,Eh,Oh,Ih,zs;if(typeof(Qe==null?void 0:Qe.id)!="number")return;const Re=`b${Qe.id}`,$e=((Th=$.buffMap)==null?void 0:Th[Re])||((Mh=$.buffMap)==null?void 0:Mh[String(Qe.id)]);if(!$e||ne($e))return;const Be=Number(((Oh=(Eh=Qe.buffData)==null?void 0:Eh[0])==null?void 0:Oh.uptime)??0),xt=Number(((zs=(Ih=Qe.buffData)==null?void 0:Ih[0])==null?void 0:zs.presence)??0);if((!Number.isFinite(Be)||Be<=0)&&(!Number.isFinite(xt)||xt<=0))return;const Bt=($e==null?void 0:$e.stacking)??!1,Hn=(Bt?Number.isFinite(Be)?Be:0:Number.isFinite(Be)?Be/100:0)*De,qn=Bt?xt:Be,ei=Math.min(Math.max(Number.isFinite(qn)?qn:0,0),100)/100*De,En=Number.isFinite(Hn)&&Hn>0,uo=Number.isFinite(ei)&&ei>0;if(!En&&!uo)return;const Wr=Iu($e==null?void 0:$e.name);if(Wr&&KU.has(Wr)&&(!($e!=null&&$e.classification)||$e.classification==="Condition")){const dl=Hn/1e3,Li=$e==null?void 0:$e.icon,fo=X[Wr]||{name:Wr,icon:Li,applications:0,damage:0};fo.applicationsFromUptime=(fo.applicationsFromUptime||0)+dl,!fo.icon&&Li&&(fo.icon=Li),X[Wr]=fo;const Yi=ce.outgoingConditions[Wr]||{applications:0,damage:0,skills:{},icon:Li};Yi.applicationsFromUptime=(Yi.applicationsFromUptime||0)+dl,!Yi.icon&&Li&&(Yi.icon=Li),ce.outgoingConditions[Wr]=Yi;const mo=q[Wr]||{name:Wr,icon:Li,applications:0,damage:0};mo.applicationsFromUptime=(mo.applicationsFromUptime||0)+dl,!mo.icon&&Li&&(mo.icon=Li),q[Wr]=mo;const fc=ce.incomingConditions[Wr]||{applications:0,damage:0,skills:{},icon:Li};fc.applicationsFromUptime=(fc.applicationsFromUptime||0)+dl,!fc.icon&&Li&&(fc.icon=Li),ce.incomingConditions[Wr]=fc}E.has(Re)||E.set(Re,{name:$e==null?void 0:$e.name,stacking:Bt,icon:$e==null?void 0:$e.icon}),D.has(Re)||D.set(Re,new Map);const Dh=D.get(Re),Gd=ce.account||de.account||de.name||"Unknown";let Ai=Dh.get(Gd);Ai||(Ai={account:Gd,profession:ce.profession||de.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Dh.set(Gd,Ai));const ul=de.profession||ce.profession;ul&&ul!=="Unknown"&&(Ai.professions.add(ul),Ai.professionTimeMs[ul]=(Ai.professionTimeMs[ul]||0)+De,Ai.profession=ul),Ai.totalMs+=En?Hn:0,Ai.uptimeMs+=uo?ei:0,Ai.durationMs+=De}),(Sr=de.defenses)!=null&&Sr[0]){const Qe=Be=>{let xt=String(Be||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return xt.toUpperCase().includes("UNKNOWN")&&(xt="Unknown"),xt},$e=(()=>{const Be=Array.isArray(de==null?void 0:de.minions)?de.minions:[];if(Be.length===0)return{total:0,byMinion:{}};let xt=0;const Bt={};return Be.forEach(wn=>{const Hn=Array.isArray(wn==null?void 0:wn.totalDamageTakenDist)?wn.totalDamageTakenDist:[],qn=Array.isArray(Hn[0])?Hn[0]:[],vn=Qe(wn==null?void 0:wn.name);qn.forEach(ei=>{const En=Number((ei==null?void 0:ei.totalDamage)??(ei==null?void 0:ei.damageTaken)??0);Number.isFinite(En)&&(xt+=En,Bt[vn]=(Bt[vn]||0)+En)})}),{total:xt,byMinion:Bt}})();$e.byMinion&&typeof $e.byMinion=="object"&&Object.entries($e.byMinion).forEach(([Be,xt])=>{const Bt=Number(xt||0);!Number.isFinite(Bt)||Bt<=0||(ce.defenseMinionDamageTaken[Be]=(ce.defenseMinionDamageTaken[Be]||0)+Bt)}),kO.forEach(Be=>{const xt=Be.id==="minionDamageTaken"?$e.total:Number(de.defenses[0][Be.field]??0);Number.isFinite(xt)&&(ce.defenseTotals[Be.id]=(ce.defenseTotals[Be.id]||0)+xt)})}(cr=de.support)!=null&&cr[0]&&SO.forEach(Qe=>{let Re=Number(de.support[0][Qe.field]??0);Number.isFinite(Re)&&(G.has(Qe.field)&&Re>999999&&(Re=0),ce.supportTotals[Qe.id]=(ce.supportTotals[Qe.id]||0)+Re)});const ft=(Qe,Re)=>{Number.isFinite(Re)&&(ce.healingTotals[Qe]=(ce.healingTotals[Qe]||0)+Re)},at=(Qe,Re)=>Array.isArray(Qe)?Qe.reduce(($e,Be)=>$e+Number((Be==null?void 0:Be[Re])??0),0):0,We=(Qe,Re,$e)=>{if(!Number.isFinite($e)||$e<=0)return;const Be=J[Re],xt=Re===pe,Bt=Be==null?void 0:Be.notInSquad,wn=!Bt,Hn=wn&&(Be==null?void 0:Be.group)!=null&&Be.group===de.group;ft(Qe,$e),wn&&ft(`squad${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),Hn&&ft(`group${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),xt&&ft(`self${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),Bt&&ft(`offSquad${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e)};if(Array.isArray(de.rotation)){let Qe=0;de.rotation.forEach(Re=>{var Be;if(!(Re!=null&&Re.id)||!ZU(Re.id,$.skillMap))return;const $e=((Be=Re.skills)==null?void 0:Be.length)||0;$e>0&&(Qe+=$e,ft(`resUtility_s${Re.id}`,$e))}),Qe>0&&ft("resUtility",Qe)}const ht=(fs=de.extHealingStats)==null?void 0:fs.outgoingHealingAllies;Array.isArray(ht)&&ht.forEach((Qe,Re)=>{const $e=at(Qe,"healing"),Be=at(Qe,"downedHealing");We("healing",Re,$e),We("downedHealing",Re,Be)});const pt=(Ci=de.extBarrierStats)==null?void 0:Ci.outgoingBarrierAllies;Array.isArray(pt)&&pt.forEach((Qe,Re)=>{const $e=at(Qe,"barrier");We("barrier",Re,$e)});const Rt=(cl=de.statsAll)==null?void 0:cl[0],rn=(Bn=de.dpsAll)==null?void 0:Bn[0],pn=(ms=de.support)==null?void 0:ms[0];if(wO.forEach(Qe=>{if(Qe.id==="downContributionPercent"||!Qe.field)return;let Re=0,$e=0;Qe.source==="dpsAll"&&rn?Re=Number(rn[Qe.field]??0):Qe.source==="statsAll"&&Rt?(Re=Number(Rt[Qe.field]??0),$e=Number(Rt[Qe.denomField||Qe.weightField||"connectedDamageCount"]??0)):Qe.source==="support"&&pn?Re=Number(pn[Qe.field]??0):de.statsTargets&&de.statsTargets.forEach(Be=>{Be!=null&&Be[0]&&(Re+=Number(Be[0][Qe.field]??0),$e+=Number(Be[0][Qe.denomField||Qe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Re)&&(ce.offenseTotals[Qe.id]=(ce.offenseTotals[Qe.id]||0)+Re,Qe.isRate&&$e>0&&(ce.offenseRateWeights[Qe.id]=(ce.offenseRateWeights[Qe.id]||0)+$e))}),de.targetDamageDist&&Number.isFinite(je)){const Qe=de.targetDamageDist.flatMap(Re=>Re||[]).flatMap(Re=>Re||[]).reduce((Re,$e)=>$e!=null&&$e.id&&$e.id===je?Re+(($e==null?void 0:$e.connectedHits)||0):Re,0);ce.offenseTotals.battleStandardHits=(ce.offenseTotals.battleStandardHits||0)+Qe}ce.revives+=((uc=(ji=de.support)==null?void 0:ji[0])==null?void 0:uc.resurrects)||0,rn&&(ce.damage+=rn.damage||0,ce.dps+=rn.dps||0);const Cn=Qe=>{var xt,Bt,wn,Hn;let Re=`Skill ${Qe.id}`;const $e=((xt=$.skillMap)==null?void 0:xt[`s${Qe.id}`])||((Bt=$.skillMap)==null?void 0:Bt[`${Qe.id}`]);let Be=$e==null?void 0:$e.icon;if($e!=null&&$e.name&&(Re=$e.name),Re.startsWith("Skill ")){const qn=Zp(Re,Qe.id,$.buffMap);qn&&(Re=qn,Be=((Hn=(wn=$.buffMap)==null?void 0:wn[`b${Qe.id}`])==null?void 0:Hn.icon)||Be)}return{name:Re,icon:Be}},Mn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Re,icon:$e}=Cn(Qe);ee[Qe.id]||(ee[Qe.id]={name:Re,icon:$e,damage:0,hits:0,downContribution:0}),ee[Qe.id].name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(ee[Qe.id].name=Re),!ee[Qe.id].icon&&$e&&(ee[Qe.id].icon=$e),ee[Qe.id].damage+=Qe.totalDamage,ee[Qe.id].hits+=Qe.connectedHits,ee[Qe.id].downContribution+=Number(Qe.downContribution||0)},lr=de.account||de.name||"Unknown",In=de.profession||"Unknown",Er=`${lr}|${In}`;let xr=be.get(Er);xr||(xr={key:Er,account:lr,displayName:lr,profession:In,professionList:[In],totalFightMs:0,skills:new Map},be.set(Er,xr)),xr.professionList.includes(In)||xr.professionList.push(In),xr.totalFightMs+=$.durationMS||0;const Xn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Re,icon:$e}=Cn(Qe),Be=`s${Qe.id}`;let xt=xr.skills.get(Be);xt||(xt={id:Be,name:Re,icon:$e,damage:0,downContribution:0},xr.skills.set(Be,xt)),xt.name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(xt.name=Re),!xt.icon&&$e&&(xt.icon=$e),xt.damage+=Number(Qe.totalDamage||0),xt.downContribution+=Number(Qe.downContribution||0)};if(x==="total")(Un=de.totalDamageDist)==null||Un.forEach(Qe=>{Qe==null||Qe.forEach(Re=>{Mn(Re),Xn(Re)})});else{const Qe=new Map;(dc=de.targetDamageDist)==null||dc.forEach($e=>{$e==null||$e.forEach(Be=>{Be==null||Be.forEach(xt=>{const Bt=Number(xt==null?void 0:xt.id);if(Number.isFinite(Bt)){const wn=Qe.get(Bt)||{damage:0,hits:0,downContribution:0};wn.damage+=Number((xt==null?void 0:xt.totalDamage)||0),wn.hits+=Number((xt==null?void 0:xt.connectedHits)||0),wn.downContribution+=Number((xt==null?void 0:xt.downContribution)||0),Qe.set(Bt,wn)}Mn(xt),Xn(xt)})})}),!($!=null&&$.detailedWvW)&&((Jr=de.totalDamageDist)==null||Jr.forEach($e=>{$e==null||$e.forEach(Be=>{const xt=Number(Be==null?void 0:Be.id);if(!Number.isFinite(xt))return;const Bt=Qe.get(xt);if(!Bt){Mn(Be),Xn(Be);return}const wn=Number((Be==null?void 0:Be.totalDamage)||0),Hn=Number((Be==null?void 0:Be.connectedHits)||0),qn=Number((Be==null?void 0:Be.downContribution)||0),vn=wn-Number(Bt.damage||0),ei=Hn-Number(Bt.hits||0),En=qn-Number(Bt.downContribution||0);if(vn<=0&&ei<=0&&En<=0)return;const uo={...Be,totalDamage:Math.max(0,vn),connectedHits:Math.max(0,ei),downContribution:Math.max(0,En)};Mn(uo),Xn(uo)})}))}de.totalDamageTaken&&de.totalDamageTaken.forEach(Qe=>{Qe==null||Qe.forEach(Re=>{var Bt,wn,Hn,qn;if(!(Re!=null&&Re.id))return;let $e=`Skill ${Re.id}`;const Be=((Bt=$.skillMap)==null?void 0:Bt[`s${Re.id}`])||((wn=$.skillMap)==null?void 0:wn[`${Re.id}`]);let xt=Be==null?void 0:Be.icon;if(Be!=null&&Be.name&&($e=Be.name),$e.startsWith("Skill ")){const vn=Zp($e,Re.id,$.buffMap);vn&&($e=vn,xt=((qn=(Hn=$.buffMap)==null?void 0:Hn[`b${Re.id}`])==null?void 0:qn.icon)||xt)}le[Re.id]||(le[Re.id]={name:$e,icon:xt,damage:0,hits:0}),(!le[Re.id].name.startsWith("Skill ")||$e.startsWith("Skill "))&&(le[Re.id].name=$e),!le[Re.id].icon&&xt&&(le[Re.id].icon=xt),le[Re.id].damage+=Re.totalDamage,le[Re.id].hits+=Re.hits})})}),Ne.forEach(de=>{if(de!=null&&de.isFake)return;const pe=V((de==null?void 0:de.profession)||(de==null?void 0:de.name)||(de==null?void 0:de.id));pe&&(K[pe]=(K[pe]||0)+1)});const Ie=W8({players:J,targets:Ne,skillMap:$.skillMap,buffMap:$.buffMap,getPlayerKey:de=>de.account&&de.account!=="Unknown"?de.account:de.name||null}),Oe=FO($.buffMap);Object.entries(Ie.playerConditions).forEach(([de,pe])=>{const ot=_.get(de);ot&&Object.entries(pe).forEach(([vt,ke])=>{const ce=ot.outgoingConditions[vt]||{applications:0,damage:0,skills:{},icon:ke.icon};ce.applications+=Number(ke.applications||0),ce.damage+=Number(ke.damage||0),ke.applicationsFromBuffs&&(ce.applicationsFromBuffs=(ce.applicationsFromBuffs||0)+ke.applicationsFromBuffs),ke.applicationsFromBuffsActive&&(ce.applicationsFromBuffsActive=(ce.applicationsFromBuffsActive||0)+ke.applicationsFromBuffsActive),Object.entries(ke.skills||{}).forEach(([_t,De])=>{const _e=ce.skills[_t]||{name:De.name,hits:0,damage:0,icon:De.icon};_e.hits+=Number(De.hits||0),_e.damage+=Number(De.damage||0),!_e.icon&&De.icon&&(_e.icon=De.icon),ce.skills[_t]=_e}),!ce.icon&&ke.icon&&(ce.icon=ke.icon),ot.outgoingConditions[vt]=ce})}),Object.entries(Ie.summary).forEach(([de,pe])=>{const ot=X[de]||{name:pe.name||de,icon:pe.icon,applications:0,damage:0};ot.applications+=Number(pe.applications||0),ot.damage+=Number(pe.damage||0),pe.applicationsFromBuffs&&(ot.applicationsFromBuffs=(ot.applicationsFromBuffs||0)+pe.applicationsFromBuffs),pe.applicationsFromBuffsActive&&(ot.applicationsFromBuffsActive=(ot.applicationsFromBuffsActive||0)+pe.applicationsFromBuffsActive),!ot.icon&&pe.icon&&(ot.icon=pe.icon),X[de]=ot}),Ce.forEach(de=>{const pe=de.account&&de.account!=="Unknown"?de.account:de.name||"Unknown",ot=_.get(pe);!ot||!de.totalDamageTaken||de.totalDamageTaken.forEach(vt=>vt==null?void 0:vt.forEach(ke=>{var rn,pn,Cn,Mn,lr,In;if(!(ke!=null&&ke.id))return;let ce=`Skill ${ke.id}`;const _t=((rn=$.skillMap)==null?void 0:rn[`s${ke.id}`])||((pn=$.skillMap)==null?void 0:pn[`${ke.id}`]);_t!=null&&_t.name&&(ce=_t.name);const De=Zp(ce,ke.id,$.buffMap);if(!De)return;const _e=(Mn=(Cn=$.buffMap)==null?void 0:Cn[`b${ke.id}`])==null?void 0:Mn.name,ut=Oe.get(De)||((In=(lr=$.buffMap)==null?void 0:lr[`b${ke.id}`])==null?void 0:In.icon),ft=(_t==null?void 0:_t.icon)||ut;ce.startsWith("Skill ")&&(_e||De)&&(ce=_e||De);const at=Number(ke.hits??0),We=Number(ke.totalDamage??0),ht=q[De]||{name:De,icon:ut,applications:0,damage:0};ht.applications+=Number.isFinite(at)?at:0,ht.damage+=Number.isFinite(We)?We:0,!ht.icon&&ut&&(ht.icon=ut),q[De]=ht;const pt=ot.incomingConditions[De]||{applications:0,damage:0,skills:{},icon:ut};pt.applications+=Number.isFinite(at)?at:0,pt.damage+=Number.isFinite(We)?We:0;const Rt=pt.skills[ce]||{name:ce,hits:0,damage:0,icon:ft};Rt.hits+=Number.isFinite(at)?at:0,Rt.damage+=Number.isFinite(We)?We:0,!Rt.icon&&ft&&(Rt.icon=ft),pt.skills[ce]=Rt,!pt.icon&&ut&&(pt.icon=ut),ot.incomingConditions[De]=pt}))});const Ve=$.player_damage_mitigation||$.playerDamageMitigation,Ge=Ve&&typeof Ve=="object"&&Object.keys(Ve).length>0;Ge&&Object.entries(Ve).forEach(([de,pe])=>{if(!pe||typeof pe!="object")return;const ot=H(de),vt=te(re,ot.account,ot);Object.values(pe).forEach(ke=>{W((ke==null?void 0:ke.avoided_damage)??(ke==null?void 0:ke.avoidedDamage))<=0||ue(vt.mitigationTotals,ke)})});const ze=$.player_minion_damage_mitigation||$.playerMinionDamageMitigation,we=ze&&typeof ze=="object"&&Object.keys(ze).length>0;we&&Object.entries(ze).forEach(([de,pe])=>{if(!pe||typeof pe!="object")return;const ot=H(de);Object.entries(pe).forEach(([vt,ke])=>{if(!ke||typeof ke!="object")return;const ce=`${ot.account}::${vt}`,_t=U(se,ce,{...ot,minion:String(vt||"Unknown")});Object.values(ke).forEach(De=>{ue(_t.mitigationTotals,De)})})}),(!Ge||!we)&&(Ge||Ce.forEach(de=>{const pe=(de==null?void 0:de.totalDamageTaken)||[];if(!Array.isArray(pe)||pe.length===0)return;const ot=de.account||de.name||"Unknown",vt={account:ot,name:de.name||ot,profession:V(de.profession||"Unknown")};te(re,ot,vt);const ke=Array.isArray(pe)?pe[0]:null;ke==null||ke.forEach(ce=>{if(!(ce!=null&&ce.id))return;const _t=W(ce.blocked),De=W(ce.evaded),_e=W(ce.glance??ce.glanced),ut=W(ce.missed),ft=W(ce.invulned),at=W(ce.interrupted),We=W(ce.hits??ce.connectedHits),ht=Number(ce.id);F(Ye,`${ot}::${ht}`,{totalHits:We,blocked:_t,evaded:De,glanced:_e,missed:ut,invulned:ft,interrupted:at})})}),we||Ce.forEach(de=>{const pe=(de==null?void 0:de.minions)||[];if(!Array.isArray(pe)||pe.length===0)return;const ot=de.account||de.name||"Unknown",vt={account:ot,name:de.name||ot,profession:V(de.profession||"Unknown")};pe.forEach(ke=>{const ce=(ke==null?void 0:ke.totalDamageTakenDist)||[];if(!Array.isArray(ce)||ce.length===0)return;let _t=String((ke==null?void 0:ke.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";_t.toUpperCase().includes("UNKNOWN")&&(_t="Unknown");const De=`${ot}::${_t}`;U(se,De,{...vt,minion:_t});const _e=Array.isArray(ce)?ce[0]:null;_e==null||_e.forEach(ut=>{if(!(ut!=null&&ut.id))return;const ft=W(ut.blocked),at=W(ut.evaded),We=W(ut.glance??ut.glanced),ht=W(ut.missed),pt=W(ut.invulned),Rt=W(ut.interrupted),rn=W(ut.hits??ut.connectedHits),pn=Number(ut.id);F(ye,`${De}::${pn}`,{totalHits:rn,blocked:ft,evaded:at,glanced:We,missed:ht,invulned:pt,interrupted:Rt})})})}))});const Ee=(P,$)=>{const J=new Map,Ne=fe=>{let Ue=J.get(fe);return Ue||(Ue=z(),J.set(fe,Ue)),Ue};$.forEach((fe,Ue)=>{const Me=Ue.lastIndexOf("::"),bt=Me>-1?Ue.slice(0,Me):Ue,gt=Me>-1?Number(Ue.slice(Me+2)):Number.NaN,Lt=Number.isFinite(gt)?Ke(gt):{hasSkill:!1,avg:0,min:0,hits:0};if(!Lt.hasSkill||Lt.hits<=0)return;const He=Lt.avg,me=Lt.min,he=fe.glanced*He/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*He,tt=fe.glanced*me/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*me;if(he<=0)return;const Ce=Ne(bt);Ce.totalHits+=fe.totalHits,Ce.blocked+=fe.blocked,Ce.evaded+=fe.evaded,Ce.glanced+=fe.glanced,Ce.missed+=fe.missed,Ce.invulned+=fe.invulned,Ce.interrupted+=fe.interrupted,Ce.totalMitigation+=he,Ce.minMitigation+=tt}),P.forEach((fe,Ue)=>{const Me=J.get(Ue)||z();fe.mitigationTotals.totalHits=Me.totalHits,fe.mitigationTotals.blocked=Me.blocked,fe.mitigationTotals.evaded=Me.evaded,fe.mitigationTotals.glanced=Me.glanced,fe.mitigationTotals.missed=Me.missed,fe.mitigationTotals.invulned=Me.invulned,fe.mitigationTotals.interrupted=Me.interrupted,fe.mitigationTotals.totalMitigation=Me.totalMitigation,fe.mitigationTotals.minMitigation=Me.minMitigation})};Ee(re,Ye),Ee(se,ye);const Le=v>0?Math.round(N/v):0,kt=v>0?Math.round(j/v):0,Ht=S>0?(A/S).toFixed(2):A>0?"":"0.00",mn=I>0?(R/I).toFixed(2):R>0?"":"0.00",Pe=(P,$)=>{const Ne=P.filter(Me=>Number.isFinite(Me.value)&&($?Me.value>0:Me.value>=0)).sort((Me,bt)=>{const gt=$?bt.value-Me.value:Me.value-bt.value;return gt!==0?gt:Me.account.localeCompare(bt.account)});let fe=null,Ue=0;return Ne.map((Me,bt)=>((fe===null||Me.value!==fe)&&(Ue=bt+1,fe=Me.value),{rank:Ue,...Me}))},it=Array.from(_.values()).map(P=>{const $=Array.from(P.professions).filter(J=>J!=="Unknown");if(P.professionList=$,$.length>0){let J=$[0],Ne=P.professionTimeMs[J]||0;$.forEach(fe=>{const Ue=P.professionTimeMs[fe]||0;Ue>Ne&&(Ne=Ue,J=fe)}),P.profession=J}return{key:P.account,stat:P}}),Ft=P=>{const $=_.get(P.account);if(!$){const fe=P.professionList.length>0?P.professionList:P.profession?[P.profession]:[];return{...P,professionList:fe}}const J=$.professionList&&$.professionList.length>0?$.professionList:Array.from($.professions||[]).filter(fe=>fe&&fe!=="Unknown"),Ne=$.profession||P.profession;return{...P,profession:Ne,professionList:J.length>0?J:Ne?[Ne]:[],activeMs:$.defenseActiveMs||$.totalFightMs||P.activeMs}},on=Array.from(re.values()).map(Ft).filter(P=>Z(P.mitigationTotals)).sort((P,$)=>P.account.localeCompare($.account)),en=Array.from(se.values()).map(Ft).filter(P=>P.mitigationTotals.totalMitigation>0).sort((P,$)=>{const J=P.account.localeCompare($.account);return J!==0?J:String(P.minion||"").localeCompare(String($.minion||""))}),Mr=(P,$)=>{switch($){case"downContrib":return P.downContrib;case"barrier":return P.barrier;case"healing":return P.healing;case"dodges":return P.dodges;case"strips":return P.strips;case"cleanses":return P.cleanses;case"cc":return P.cc;case"stability":return P.stab;case"revives":return P.revives;case"dps":return P.dps;case"damage":return P.damage;case"participation":return P.logsJoined;case"closestToTag":return!P.isCommander&&P.distCount>0?P.totalDist/P.distCount:Number.POSITIVE_INFINITY;default:return 0}},zn=(P,$)=>Pe(it.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:Mr(J,P),count:J.logsJoined})),$),un={downContrib:zn("downContrib",!0),barrier:zn("barrier",!0),healing:zn("healing",!0),dodges:zn("dodges",!0),strips:zn("strips",!0),cleanses:zn("cleanses",!0),cc:zn("cc",!0),stability:zn("stability",!0),revives:zn("revives",!0),participation:zn("participation",!0),dps:zn("dps",!0),damage:zn("damage",!0),closestToTag:zn("closestToTag",!1).filter(P=>Number.isFinite(P.value))},ds={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},hn=P=>{const $=P==null?void 0:P[0];return{value:($==null?void 0:$.value)??0,player:($==null?void 0:$.account)??"-",count:($==null?void 0:$.count)??0,profession:($==null?void 0:$.profession)??"Unknown",professionList:($==null?void 0:$.professionList)??[]}},Nn={maxDownContrib:hn([]),maxBarrier:hn([]),maxHealing:hn([]),maxDodges:hn([]),maxStrips:hn([]),maxCleanses:hn([]),maxCC:hn([]),maxStab:hn([]),closestToTag:hn([])},jn={},_i=(P,$)=>{if($==="closestToTag")return Mr(P,$);const J=Math.max(1,(P.totalFightMs||0)/1e3);return Mr(P,$)/J};Object.values(ds).forEach(P=>{const $=P!=="closestToTag";jn[P]=Pe(it.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:_i(J,P),count:J.logsJoined})),$)}),Nn.maxDownContrib=hn(jn.downContrib),Nn.maxBarrier=hn(jn.barrier),Nn.maxHealing=hn(jn.healing),Nn.maxDodges=hn(jn.dodges),Nn.maxStrips=hn(jn.strips),Nn.maxCleanses=hn(jn.cleanses),Nn.maxCC=hn(jn.cc),Nn.maxStab=hn(jn.stability),Nn.closestToTag=hn(jn.closestToTag);const Ur={maxDownContrib:hn(un.downContrib),maxBarrier:hn(un.barrier),maxHealing:hn(un.healing),maxDodges:hn(un.dodges),maxStrips:hn(un.strips),maxCleanses:hn(un.cleanses),maxCC:hn(un.cc),maxStab:hn(un.stability),closestToTag:hn(un.closestToTag)};let $r={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},pu,co,sl=0;if(l!=null&&l.showMvp){const P={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},$=Ue=>{const Me=P[Ue];return Me?Number(u[Me]||0)>0:!1},J=[],Ne=Ue=>[...Ue||[]].filter(Me=>$(Me==null?void 0:Me.name)).sort((Me,bt)=>bt.ratio-Me.ratio||Me.rank-bt.rank||Me.name.localeCompare(bt.name)).slice(0,3),fe=Ue=>{var bt;if(!Ue)return;const Me=Ne(Ue.contribs);return{...Ue,player:Ue.name,reason:((bt=Me[0])==null?void 0:bt.name)||"Top Performance",topStats:Me}};it.forEach(({stat:Ue})=>{let Me=0;const bt=[],gt=(Lt,He,me,he,tt=!0)=>{var nt,st;if(me<=0)return;const Ce=((nt=He[0])==null?void 0:nt.value)||0;if(Ce&&Number.isFinite(Lt)&&(tt?Lt>0:Lt<Number.POSITIVE_INFINITY)){const wt=tt?Lt/Ce:Ce/Lt;Me+=wt*me;const je=((st=He.find(Ie=>Ie.account===Ue.account))==null?void 0:st.rank)||0;bt.push({name:he,ratio:wt,val:Lt.toLocaleString(),rank:je})}};gt(Ue.downContrib,un.downContrib,u.downContribution,"Down Contribution"),gt(Ue.healing,un.healing,u.healing,"Healing"),gt(Ue.cleanses,un.cleanses,u.cleanses,"Cleanses"),gt(Ue.strips,un.strips,u.strips,"Strips"),gt(Ue.stab,un.stability,u.stability,"Stability"),gt(Ue.cc,un.cc,u.cc,"CC"),gt(Ue.revives,un.revives,u.revives,"Revives"),gt(Mr(Ue,"closestToTag"),un.closestToTag,u.distanceToTag,"Distance to Tag",!1),gt(Ue.logsJoined,un.participation,u.participation,"Participation"),gt(Ue.dodges,un.dodges,u.dodging,"Dodging"),gt(Ue.dps,un.dps,u.dps,"DPS"),gt(Ue.damage,un.damage,u.damage,"Damage"),J.push({...Ue,score:Me,contribs:bt.filter(Lt=>$(Lt.name))})}),J.sort((Ue,Me)=>Me.score-Ue.score),J[0]&&J[0].score>0&&($r=fe(J[0])||$r),pu=fe(J[1]),co=fe(J[2]),sl=J.length>0?J.reduce((Ue,Me)=>Ue+Me.score,0)/J.length:0}const ci=Object.values(ee).sort((P,$)=>$.damage-P.damage||$.hits-P.hits||String(P.name||"").localeCompare(String($.name||""))).slice(0,25),Fs=Object.values(ee).sort((P,$)=>$.downContribution-P.downContribution||$.hits-P.hits||String(P.name||"").localeCompare(String($.name||""))).slice(0,25),or=b==="downContribution"?Fs:ci,ya=Object.values(le).sort((P,$)=>$.damage-P.damage).slice(0,25),ui=P=>{const $=String(P).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),J=$.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return J?`${J[1]} Borderlands`:$||"Unknown"},wa=(P,$)=>ui((P==null?void 0:P.zone)||(P==null?void 0:P.mapName)||(P==null?void 0:P.map)||(P==null?void 0:P.location)||(P==null?void 0:P.fightName)||($==null?void 0:$.fightName)||($==null?void 0:$.encounterName)||"Unknown"),Rs=(P,$)=>{const J=($==null?void 0:$.permalink)||(P==null?void 0:P.permalink);if(typeof J=="string"&&J.trim().length>0)return J.trim();const Ne=P==null?void 0:P.uploadLinks;if(!Array.isArray(Ne))return"";for(const fe of Ne){if(typeof fe=="string"&&fe.trim().length>0)return fe.trim();if(fe&&typeof fe=="object"){const Ue=fe.permalink||fe.link||fe.url||fe.reportLink;if(typeof Ue=="string"&&Ue.trim().length>0)return Ue.trim()}}return""},gu=(P,$)=>{const J=Number((P==null?void 0:P.durationMS)||0);return J>0?fp(J):(typeof($==null?void 0:$.encounterDuration)=="string"?$.encounterDuration.trim():"")||"--:--"},tr=(P,$)=>{if((Array.isArray(P==null?void 0:P.players)?P.players:[]).length>0)return L(P);if(typeof(P==null?void 0:P.success)=="boolean")return P.success;const Ne=$==null?void 0:$.dashboardSummary;if(Ne&&typeof Ne=="object"){if(Ne.isWin===!0)return!0;if(Ne.isWin===!1)return!1}return null},ka=(P,$)=>{var Me,bt;const J=ti((Me=P.log)==null?void 0:Me.details,P.log),Ne=ti((bt=$.log)==null?void 0:bt.details,$.log),fe=J>0,Ue=Ne>0;return fe&&Ue&&J!==Ne?J-Ne:fe!==Ue?fe?-1:1:P.originalIndex-$.originalIndex},oa=e.map((P,$)=>({log:P,originalIndex:$})).sort(ka),xu=oa.filter(({log:P})=>s(P)),Bs={};o.forEach(P=>{const $=wa(P==null?void 0:P.details,P);Bs[$]=(Bs[$]||0)+1});const vu=Object.entries(Bs).map(([P,$])=>{const J=String(P).trim(),Ne=/eternal battlegrounds|^ebg$/i.test(J);let fe="#64748b";return Ne?fe="#ffffff":/red/i.test(J)?fe="#ef4444":/blue/i.test(J)?fe="#3b82f6":/green/i.test(J)&&(fe="#22c55e"),{name:P,value:$,color:fe}}).sort((P,$)=>$.value-P.value),{boonTables:Sa}=j8(o),cc=(()=>{const P=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=me=>P(me).toLowerCase().split(/[^a-z0-9]+/i).map(he=>he.trim()).filter(Boolean).map(he=>he.length>3&&he.endsWith("s")?he.slice(0,-1):he),J=(me,he)=>{const tt=P(me),Ce=P(he);if(!Ce)return tt;if(!tt)return Ce;const nt=$(tt),st=$(Ce),wt=new Set(nt),je=new Set(st),Ie=st.length>0&&st.every(Ve=>wt.has(Ve)),Oe=nt.length>0&&nt.every(Ve=>je.has(Ve));return Ie||Oe?tt:`${tt} - ${Ce}`},Ne=new Map,fe=(me,he)=>{if(!Ne.has(me))Ne.set(me,{id:me,name:String((he==null?void 0:he.name)||me),icon:he==null?void 0:he.icon,stacking:!!(he!=null&&he.stacking),players:new Map,fights:[]});else if(he){const tt=Ne.get(me);(!tt.name||tt.name===me)&&(he!=null&&he.name)&&(tt.name=String(he.name)),!tt.icon&&(he!=null&&he.icon)&&(tt.icon=String(he.icon)),!tt.stacking&&(he!=null&&he.stacking)&&(tt.stacking=!0)}return Ne.get(me)},Ue=me=>Array.isArray(me)?me.map(he=>Array.isArray(he)?[Number(he[0]),Number(he[1])]:he&&typeof he=="object"?[Number(he.time),Number(he.value)]:null).filter(he=>!!he&&Number.isFinite(he[0])&&Number.isFinite(he[1])&&he[0]>=0).sort((he,tt)=>he[0]-tt[0]):[],Me=(me,he,tt)=>{const Ce=me.get(he)||[];Ce.length<tt&&(Ce.length=tt);for(let nt=0;nt<tt;nt+=1)Number.isFinite(Ce[nt])||(Ce[nt]=0);return me.set(he,Ce),Ce},bt=(me,he,tt,Ce,nt)=>{if(!he||he==="__all__"||Ce<=0)return;const st=Ue(tt);if(st.length===0)return;const wt=Me(me,he,Ce),je=Math.max(1,Number(nt||0),Ce*5e3),Ie=ze=>Math.max(0,Math.min(je,Number(ze||0))),Oe=(ze,we,et)=>{if(!Number.isFinite(et)||et<=0)return;let rt=Ie(ze);const de=Ie(we);if(!(de<=rt))for(;rt<de;){const pe=Math.max(0,Math.min(Ce-1,Math.floor(rt/5e3))),ot=Math.min(de,(pe+1)*5e3),vt=Math.max(0,ot-rt);vt>0&&(wt[pe]=Number(wt[pe]||0)+vt*et),rt=ot}};let Ve=Ie(st[0][0]),Ge=Math.max(0,Number(st[0][1]||0));for(let ze=1;ze<st.length;ze+=1){const[we,et]=st[ze],rt=Ie(we);Oe(Ve,rt,Ge),Ve=rt,Ge=Math.max(0,Number(et||0))}Oe(Ve,je,Ge)},gt=(me,he,tt)=>{const Ce=Array.from({length:tt},(wt,je)=>Number((me==null?void 0:me[je])||0)),nt=Ce.reduce((wt,je)=>wt+Number(je||0),0);if(!Number.isFinite(he)||he<=0)return Ce.map(()=>0);if(!Number.isFinite(nt)||nt<=0){const wt=he/Math.max(1,tt);return Ce.map(()=>wt)}const st=he/nt;return Ce.map(wt=>Number(wt||0)*st)},Lt=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),He=(me,he,tt)=>{const Ce=Math.max(0,Number(tt||0));Ce&&(me[he]=Number(me[he]||0)+Ce,(he==="selfBuffs"||he==="squadBuffs")&&(me.totalBuffs=Number(me.totalBuffs||0)+Ce))};return o.map(me=>({log:me,ts:ti(me==null?void 0:me.details,me)})).sort((me,he)=>me.ts-he.ts).forEach(({log:me},he)=>{const tt=me==null?void 0:me.details;if(!tt)return;const nt=(Array.isArray(tt.players)?tt.players:[]).filter(pe=>!(pe!=null&&pe.notInSquad)),st=nt.length;if(st<=0)return;const wt=Math.max(0,Number((tt==null?void 0:tt.durationMS)||0)),je=Math.max(1,Math.ceil(Math.max(1,wt)/5e3)),Ie=tt!=null&&tt.buffMap&&typeof tt.buffMap=="object"?tt.buffMap:{},Oe=new Map,Ve=new Map;nt.forEach(pe=>{const ot=Number((pe==null?void 0:pe.group)??0);Ve.set(ot,(Ve.get(ot)||0)+1);const ke=String((pe==null?void 0:pe.account)||(pe==null?void 0:pe.name)||"Unknown");[pe==null?void 0:pe.name,pe==null?void 0:pe.display_name,pe==null?void 0:pe.character_name,pe==null?void 0:pe.account].map(ce=>String(ce||"").trim()).filter(Boolean).forEach(ce=>Oe.set(ce,ke))});const Ge=P(tt.fightName||me.fightName||`Fight ${he+1}`),ze=wa(tt,me),we=J(Ge,String(ze||"")),et=new Map,rt=new Map,de=new Map;nt.forEach(pe=>{const ot=String((pe==null?void 0:pe.account)||(pe==null?void 0:pe.name)||"Unknown"),vt=String((pe==null?void 0:pe.profession)||"Unknown"),ke=ot,ce=Number((pe==null?void 0:pe.group)??0),_t=Math.max(1,Number(Ve.get(ce)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(_e=>{(Array.isArray(pe==null?void 0:pe[_e])?pe[_e]:[]).forEach(ft=>{var Zr;const at=Number(ft==null?void 0:ft.id);if(!Number.isFinite(at))return;const We=`b${at}`,ht=Ie[We]||{},pt=String((ht==null?void 0:ht.classification)||"");if(pt&&pt!=="Boon")return;const Rt=Number(((Zr=Jy(pe,_e,at,wt,_t,st,Ie))==null?void 0:Zr.generationMs)||0);if(!Number.isFinite(Rt)||Rt<=0)return;const rn=fe(We,ht),pn=rn.players.get(ke)||{key:ke,account:ot,displayName:ot,profession:vt,professionList:vt&&vt!=="Unknown"?[vt]:[],logs:0,totals:Lt()};vt&&vt!=="Unknown"&&!pn.professionList.includes(vt)&&pn.professionList.push(vt),(!pn.profession||pn.profession==="Unknown")&&vt&&vt!=="Unknown"&&(pn.profession=vt);const Cn=de.get(We)||new Set;Cn.has(ke)||(Cn.add(ke),pn.logs+=1,de.set(We,Cn)),He(pn.totals,_e,Rt),rn.players.set(ke,pn);const Mn=rn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:Lt()};He(Mn.totals,_e,Rt),rn.players.set("__all__",Mn);const lr=et.get(We)||new Map,In=lr.get(ke)||Lt();He(In,_e,Rt),lr.set(ke,In);const Er=lr.get("__all__")||Lt();He(Er,_e,Rt),lr.set("__all__",Er),et.set(We,lr);const xr=Array.isArray(pe==null?void 0:pe.buffUptimes)?pe.buffUptimes.find(Sr=>Number(Sr==null?void 0:Sr.id)===at):null,Xn=xr!=null&&xr.statesPerSource&&typeof xr.statesPerSource=="object"?xr.statesPerSource:null;if(Xn){const Sr=rt.get(We)||new Map;Object.entries(Xn).forEach(([cr,fs])=>{const Ci=Oe.get(String(cr||"").trim());Ci&&bt(Sr,Ci,fs,je,wt)}),rt.set(We,Sr)}})})}),et.forEach((pe,ot)=>{const vt=Ne.get(ot);if(!vt)return;const ke=rt.get(ot)||new Map,ce={};let _t=Array.from({length:je},()=>0),De=0;pe.forEach((at,We)=>{const ht={selfBuffs:Number((at==null?void 0:at.selfBuffs)||0),groupBuffs:Number((at==null?void 0:at.groupBuffs)||0),squadBuffs:Number((at==null?void 0:at.squadBuffs)||0),totalBuffs:Number((at==null?void 0:at.totalBuffs)||0)},pt=Math.max(0,Number(ht.totalBuffs||0));if(!Number.isFinite(pt)||pt<=0)return;const Rt=ke.get(We)||[],rn=gt(Rt,pt,je);ce[We]={total:pt,totals:ht,bucketWeights5s:Array.from({length:je},(pn,Cn)=>Number(Rt[Cn]||0)),buckets5s:rn},We!=="__all__"&&(pt>De&&(De=pt),_t=_t.map((pn,Cn)=>Number(pn||0)+Number(rn[Cn]||0)))});const _e=pe.get("__all__"),ut=Number((_e==null?void 0:_e.totalBuffs)||0);if(ut>0&&(ce.__all__={total:ut,totals:{selfBuffs:Number((_e==null?void 0:_e.selfBuffs)||0),groupBuffs:Number((_e==null?void 0:_e.groupBuffs)||0),squadBuffs:Number((_e==null?void 0:_e.squadBuffs)||0),totalBuffs:Number((_e==null?void 0:_e.totalBuffs)||0)},bucketWeights5s:Array.from({length:je},(at,We)=>Number((ke.get("__all__")||[])[We]||0)),buckets5s:_t.some(at=>Number(at||0)>0)?_t:gt(ke.get("__all__")||[],ut,je)}),Object.keys(ce).length===0)return;const ft=vt.players.get("__all__");ft&&(ft.logs+=1,vt.players.set("__all__",ft)),vt.fights.push({id:me.filePath||me.id||`fight-${he+1}`,shortLabel:`F${he+1}`,fullLabel:we,timestamp:ti(tt,me),durationMs:wt,values:ce,maxTotal:De})})}),Array.from(Ne.values()).map(me=>({id:me.id,name:me.name||me.id,icon:me.icon,stacking:me.stacking,players:Array.from(me.players.values()).sort((he,tt)=>{var nt,st;if(he.key==="__all__")return-1;if(tt.key==="__all__")return 1;const Ce=Number(((nt=tt.totals)==null?void 0:nt.totalBuffs)||0)-Number(((st=he.totals)==null?void 0:st.totalBuffs)||0);return Ce!==0?Ce:String(he.displayName||"").localeCompare(String(tt.displayName||""))}),fights:[...me.fights].sort((he,tt)=>he.timestamp>0&&tt.timestamp>0&&he.timestamp!==tt.timestamp?he.timestamp-tt.timestamp:he.shortLabel.localeCompare(tt.shortLabel,void 0,{numeric:!0}))})).filter(me=>me.players.length>0&&me.fights.length>0).sort((me,he)=>String(me.name||"").localeCompare(String(he.name||"")))})(),ol=(()=>{const P=He=>String(He||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=He=>P(He).toLowerCase().split(/[^a-z0-9]+/i).map(me=>me.trim()).filter(Boolean).map(me=>me.length>3&&me.endsWith("s")?me.slice(0,-1):me),J=(He,me)=>{const he=P(He),tt=P(me);if(!tt)return he;if(!he)return tt;const Ce=$(he),nt=$(tt),st=new Set(Ce),wt=new Set(nt),je=nt.length>0&&nt.every(Oe=>st.has(Oe)),Ie=Ce.length>0&&Ce.every(Oe=>wt.has(Oe));return je||Ie?he:`${he} - ${tt}`},Ne=new Map,fe=(He,me)=>{if(!Ne.has(He))Ne.set(He,{id:He,name:String((me==null?void 0:me.name)||He),icon:me==null?void 0:me.icon,stacking:!!(me!=null&&me.stacking),players:new Map,fights:[]});else if(me){const he=Ne.get(He);(!he.name||he.name===He)&&(me!=null&&me.name)&&(he.name=String(me.name)),!he.icon&&(me!=null&&me.icon)&&(he.icon=String(me.icon)),!he.stacking&&(me!=null&&me.stacking)&&(he.stacking=!0)}return Ne.get(He)},Ue=He=>Array.isArray(He)?He.map(me=>Array.isArray(me)?[Number(me[0]),Number(me[1])]:me&&typeof me=="object"?[Number(me.time),Number(me.value)]:null).filter(me=>!!me&&Number.isFinite(me[0])&&Number.isFinite(me[1])&&me[0]>=0).sort((me,he)=>me[0]-he[0]):[],Me=(He,me)=>{if(!me)return 1;const he=String(He||"").trim().toLowerCase();return 25},bt=(He,me,he)=>{const tt=Number.isFinite(He)?Math.max(0,He):0;return me?Math.max(0,Math.min(he,Math.round(tt))):tt>0?1:0},gt=(He,me,he,tt)=>{const Ce=Array.from({length:me},()=>0);if(!He||typeof He!="object"||me<=0)return Ce;Object.values(He).forEach(st=>{const wt=Ue(st);if(wt.length===0)return;let je=0,Ie=0;for(let Oe=0;Oe<me;Oe+=1){const Ve=Oe*5e3;for(;je<wt.length&&wt[je][0]<=Ve;)Ie=Math.max(0,Number(wt[je][1]||0)),je+=1;Ce[Oe]+=Math.max(0,Number(Ie||0))}});const nt=Me(tt,he);return Ce.map(st=>bt(st,he,nt))},Lt=He=>{const me=He.reduce((tt,Ce)=>tt+Math.max(0,Number(Ce||0)),0),he=He.reduce((tt,Ce)=>Math.max(tt,Math.max(0,Number(Ce||0))),0);return{total:me,peak:he,buckets5s:He}};return o.map(He=>({log:He,ts:ti(He==null?void 0:He.details,He)})).sort((He,me)=>He.ts-me.ts).forEach(({log:He},me)=>{const he=He==null?void 0:He.details;if(!he)return;const Ce=(Array.isArray(he.players)?he.players:[]).filter(ze=>!(ze!=null&&ze.notInSquad));if(Ce.length<=0)return;const nt=Math.max(0,Number((he==null?void 0:he.durationMS)||0)),st=Math.max(1,Math.ceil(Math.max(1,nt)/5e3)),wt=he!=null&&he.buffMap&&typeof he.buffMap=="object"?he.buffMap:{},je=P(he.fightName||He.fightName||`Fight ${me+1}`),Ie=wa(he,He),Oe=J(je,String(Ie||"")),Ve=new Map,Ge=new Map;Ce.forEach(ze=>{const we=String((ze==null?void 0:ze.account)||(ze==null?void 0:ze.name)||"Unknown"),et=we,rt=String((ze==null?void 0:ze.profession)||"Unknown");(Array.isArray(ze==null?void 0:ze.buffUptimes)?ze.buffUptimes:[]).forEach(pe=>{const ot=Number(pe==null?void 0:pe.id);if(!Number.isFinite(ot))return;const vt=`b${ot}`,ke=wt[vt]||{},ce=String((ke==null?void 0:ke.classification)||"");if(ce&&ce!=="Boon")return;const _t=pe!=null&&pe.statesPerSource&&typeof pe.statesPerSource=="object"?pe.statesPerSource:null;if(!_t)return;const De=gt(_t,st,!!(ke!=null&&ke.stacking),String((ke==null?void 0:ke.name)||"")),_e=Lt(De);if(_e.total<=0&&_e.peak<=0)return;const ut=fe(vt,ke),ft=ut.players.get(et)||{key:et,account:we,displayName:we,profession:rt,professionList:rt&&rt!=="Unknown"?[rt]:[],logs:0,total:0,peak:0};rt&&rt!=="Unknown"&&!ft.professionList.includes(rt)&&ft.professionList.push(rt),(!ft.profession||ft.profession==="Unknown")&&rt&&rt!=="Unknown"&&(ft.profession=rt);const at=Ge.get(vt)||new Set;at.has(et)||(at.add(et),ft.logs+=1,Ge.set(vt,at)),ft.total+=_e.total,ft.peak=Math.max(ft.peak,_e.peak),ut.players.set(et,ft);const We=Ve.get(vt)||new Map;We.set(et,_e),Ve.set(vt,We)})}),Ve.forEach((ze,we)=>{const et=Ne.get(we);if(!et)return;const rt={};let de=0;ze.forEach((pe,ot)=>{rt[ot]={total:Number(pe.total||0),peak:Number(pe.peak||0),buckets5s:Array.isArray(pe.buckets5s)?pe.buckets5s.map(vt=>Number(vt||0)):[]},de=Math.max(de,Number(pe.peak||0))}),Object.keys(rt).length!==0&&et.fights.push({id:He.filePath||He.id||`fight-${me+1}`,shortLabel:`F${me+1}`,fullLabel:Oe,timestamp:ti(he,He),durationMs:nt,values:rt,maxTotal:de})})}),Array.from(Ne.values()).map(He=>({id:He.id,name:He.name||He.id,icon:He.icon,stacking:He.stacking,players:Array.from(He.players.values()).sort((me,he)=>{const tt=Number(he.peak||0)-Number(me.peak||0);if(tt!==0)return tt;const Ce=Number(he.total||0)-Number(me.total||0);return Ce!==0?Ce:String(me.displayName||"").localeCompare(String(he.displayName||""))}),fights:[...He.fights].sort((me,he)=>me.timestamp>0&&he.timestamp>0&&me.timestamp!==he.timestamp?me.timestamp-he.timestamp:me.shortLabel.localeCompare(he.shortLabel,void 0,{numeric:!0}))})).filter(He=>He.players.length>0&&He.fights.length>0).sort((He,me)=>String(He.name||"").localeCompare(String(me.name||"")))})(),bu=oa.map(({log:P})=>{const $=P==null?void 0:P.details,J=Array.isArray($==null?void 0:$.players)?$.players:[],Ne=Array.isArray($==null?void 0:$.targets)?$.targets:[],fe=P!=null&&P.dashboardSummary&&typeof P.dashboardSummary=="object"?P.dashboardSummary:null,Ue=J.filter(he=>!he.notInSquad),Me=Ne.filter(he=>!he.isFake),bt=Math.max(0,Number((fe==null?void 0:fe.squadCount)||0)),gt=Math.max(0,Number((fe==null?void 0:fe.enemyCount)||0)),Lt=Ue.length>0?Ue.length:bt,He=Me.length>0?Me.length:gt,me=J.length>0?J.length:Lt;return{timestamp:ti($,P),squadCount:Lt,friendlyCount:me,enemies:He,isWin:tr($,P)}}).map((P,$)=>({...P,index:$+1,label:`Log ${$+1}`})),gr={};Array.from(_.values()).forEach(P=>{P.profession&&P.profession!=="Unknown"&&(gr[P.profession]=(gr[P.profession]||0)+1)});const ll=Object.entries(gr).map(([P,$])=>({name:P,value:$,color:Io(P)})).sort((P,$)=>$.value-P.value),Q={};Object.keys(K).length===0&&o.forEach(P=>{var $,J;(J=($=P.details)==null?void 0:$.targets)==null||J.forEach(Ne=>{if(Ne.isFake)return;const fe=Ne.profession&&Ne.profession!=="Unknown"?Ne.profession:Ne.name||Ne.id||"Unknown",Ue=V(fe);Q[Ue]=(Q[Ue]||0)+1})});const Te=Object.keys(K).length>0?K:Q,qe=Object.entries(Te).map(([P,$])=>({name:P,value:$,color:Io(P)})).sort((P,$)=>$.value-P.value),Nt=oa.map(({log:P},$)=>{const J=P==null?void 0:P.details,Ne=Array.isArray(J==null?void 0:J.players)?J.players:[],fe=Ne.filter(we=>!we.notInSquad),Ue=Ne.filter(we=>we.notInSquad),bt=(Array.isArray(J==null?void 0:J.targets)?J.targets:[]).filter(we=>!we.isFake),gt=P!=null&&P.dashboardSummary&&typeof P.dashboardSummary=="object"?P.dashboardSummary:null,Lt=fe.reduce((we,et)=>{var rt,de;return we+(((de=(rt=et.dpsAll)==null?void 0:rt[0])==null?void 0:de.damage)||0)},0),He=fe.reduce((we,et)=>{var rt,de;return we+(((de=(rt=et.defenses)==null?void 0:rt[0])==null?void 0:de.damageTaken)||0)},0),{enemyDeaths:me,enemyDownsDeaths:he}=T(J),tt=tr(J,P),Ce=ti(J,P),nt=wa(J,P),st=we=>{if(!we||typeof we!="object")return;const et=we.teamID??we.teamId??we.team??we.teamColor??we.team_color;if(et!=null)return et;const rt=Object.keys(we).find(de=>/^team/i.test(de));return rt?we[rt]:void 0},wt=(we,et)=>{const rt={};return we.forEach(de=>{const pe=et(de),ot=V(pe);ot&&(rt[ot]=(rt[ot]||0)+1)}),rt},je=wt(fe,we=>(we==null?void 0:we.profession)||(we==null?void 0:we.name)),Ie=wt(Ue,we=>(we==null?void 0:we.profession)||(we==null?void 0:we.name)),Oe=wt(bt,we=>(we==null?void 0:we.profession)||(we==null?void 0:we.name)||(we==null?void 0:we.id)),Ve=new Set;fe.forEach(we=>{const et=st(we);et!=null&&Ve.add(String(et))});const Ge=new Map;bt.forEach(we=>{if((we==null?void 0:we.enemyPlayer)===!1)return;const et=st(we);if(et==null)return;const rt=String(et);Ve.has(rt)||Ge.set(rt,(Ge.get(rt)||0)+1)});const ze=Array.from(Ge.entries()).sort((we,et)=>{const rt=et[1]-we[1];return rt!==0?rt:we[0].localeCompare(et[0],void 0,{numeric:!0})}).slice(0,3).map(([we,et])=>({teamId:we,count:et}));return{id:P.filePath||`fight-${$}`,label:P.encounterName||`Fight ${$+1}`,permalink:Rs(J,P),timestamp:Ce,mapName:nt,duration:gu(J,P),isWin:tt,squadCount:fe.length>0?fe.length:Math.max(0,Number((gt==null?void 0:gt.squadCount)||0)),allyCount:Ue.length,enemyCount:bt.length>0?bt.length:Math.max(0,Number((gt==null?void 0:gt.enemyCount)||0)),teamBreakdown:ze,alliesDown:fe.reduce((we,et)=>{var rt,de;return we+(((de=(rt=et.defenses)==null?void 0:rt[0])==null?void 0:de.downCount)||0)},0),alliesDead:fe.length>0?fe.reduce((we,et)=>{var rt,de;return we+(((de=(rt=et.defenses)==null?void 0:rt[0])==null?void 0:de.deadCount)||0)},0):Math.max(0,Number((gt==null?void 0:gt.squadDeaths)||0)),alliesRevived:fe.reduce((we,et)=>{var rt,de;return Number(((de=(rt=et.statsAll)==null?void 0:rt[0])==null?void 0:de.saved)||0)>0?we+1:we},0),rallies:0,enemyDeaths:bt.length>0||fe.length>0?me:Math.max(0,Number((gt==null?void 0:gt.enemyDeaths)||0)),enemyDowns:Math.max(0,he-me),totalOutgoingDamage:Lt,totalIncomingDamage:He,incomingBarrierAbsorbed:fe.reduce((we,et)=>{var rt,de;return we+(((de=(rt=et.defenses)==null?void 0:rt[0])==null?void 0:de.damageBarrier)||0)},0),outgoingBarrierAbsorbed:fe.reduce((we,et)=>{var pe;const rt=(pe=et.extBarrierStats)==null?void 0:pe.outgoingBarrier;if(!Array.isArray(rt))return we;let de=0;return rt.forEach(ot=>{if(Array.isArray(ot)){ot.forEach(vt=>{de+=Number((vt==null?void 0:vt.barrier)||0)});return}de+=Number((ot==null?void 0:ot.barrier)||0)}),we+de},0),squadClassCountsFight:je,allyClassCountsFight:Ie,enemyClassCounts:Oe}}),Wt=xu.map(({log:P},$)=>{const J=P.details;if(!J)return null;const fe=(Array.isArray(J.players)?J.players:[]).filter(De=>!De.notInSquad),Ue=Array.isArray(J.targets)?J.targets:[],Me=ti(J,P),bt=wa(J,P),gt=Number(J.durationMS||0),{squadDownsDeaths:Lt,enemyDownsDeaths:He,squadDeaths:me,enemyDeaths:he}=T(J),tt=new Map,Ce=(De,_e,ut)=>{const ft=tt.get(De)||{label:De,damage:0,hits:0};ft.damage+=_e,ft.hits+=ut,tt.set(De,ft)};if(fe.forEach(De=>{(Array.isArray(De==null?void 0:De.statsTargets)?De.statsTargets:[]).forEach((ut,ft)=>{const at=Array.isArray(ut)?ut[0]:ut,We=Number((at==null?void 0:at.damage)??(at==null?void 0:at.totalDmg)??(at==null?void 0:at.connectedDmg)??0),ht=Number((at==null?void 0:at.connectedHits)??(at==null?void 0:at.connectedDamageCount)??(at==null?void 0:at.hits)??0);if(We<=0&&ht<=0)return;const pt=Ue[ft];if(pt!=null&&pt.isFake)return;const Rt=(pt==null?void 0:pt.profession)||(pt==null?void 0:pt.name)||(pt==null?void 0:pt.id)||`Target ${ft+1}`,rn=V(Rt);Ce(rn||String(Rt),We,ht)})}),tt.size===0){const De=new Map,_e=ut=>{if(!Array.isArray(ut)||ut.length===0)return[];const ft=ut[0];if(Array.isArray(ft)&&Array.isArray(ft[0])){if(typeof ft[0][0]=="number")return ft;if(Array.isArray(ft[0])&&typeof ft[0][0]=="number")return ut.map(at=>Array.isArray(at)?at[0]||[]:[])}return[]};fe.forEach(ut=>{_e(ut==null?void 0:ut.targetDamage1S).forEach((at,We)=>{if(!Array.isArray(at)||at.length===0)return;const ht=at.map(Rt=>Number(Rt)).filter(Rt=>Number.isFinite(Rt)&&Rt>=0);if(ht.length===0)return;const pt=Math.max(0,ht[ht.length-1]||0);pt<=0||De.set(We,(De.get(We)||0)+pt)})}),De.forEach((ut,ft)=>{if(ut<=0)return;const at=Ue[ft];if(at!=null&&at.isFake)return;const We=(at==null?void 0:at.profession)||(at==null?void 0:at.name)||(at==null?void 0:at.id)||`Target ${ft+1}`,ht=V(We);Ce(ht||String(We),ut,0)})}if(tt.size===0&&Ue.forEach((De,_e)=>{if(De!=null&&De.isFake)return;const ut=Array.isArray(De==null?void 0:De.totalDamageTaken)?De.totalDamageTaken:Array.isArray(De==null?void 0:De.totalDamageDist)?De.totalDamageDist:[];let ft=0,at=0;if(ut.forEach(pt=>{ft+=Number((pt==null?void 0:pt.totalDamage)||(pt==null?void 0:pt.damage)||0),at+=Number((pt==null?void 0:pt.connectedHits)||(pt==null?void 0:pt.hits)||0)}),ft<=0&&Number((De==null?void 0:De.damageTaken)||0)>0&&(ft=Number(De.damageTaken||0)),ft<=0&&at<=0)return;const We=(De==null?void 0:De.profession)||(De==null?void 0:De.name)||(De==null?void 0:De.id)||`Target ${_e+1}`,ht=V(We);Ce(ht||String(We),ft,at)}),tt.size===0){const De=new Map;Ue.forEach((_e,ut)=>{if(_e!=null&&_e.isFake)return;const ft=(_e==null?void 0:_e.profession)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.id)||`Target ${ut+1}`,at=V(ft)||String(ft);De.set(at,(De.get(at)||0)+1)}),De.forEach((_e,ut)=>{_e>0&&Ce(ut,_e,0)})}const nt=Array.from(tt.values()).sort((De,_e)=>_e.damage-De.damage||_e.hits-De.hits||De.label.localeCompare(_e.label)),st=nt.reduce((De,_e)=>De+_e.damage,0),wt=nt.map(De=>({label:De.label,damage:De.damage,hits:De.hits,share:st>0?De.damage/st:0})),je=Ue.filter(De=>!(De!=null&&De.isFake)).length,Ie=fe.length,Oe=fe.reduce((De,_e)=>{var ut,ft;return De+Number(((ft=(ut=_e==null?void 0:_e.dpsAll)==null?void 0:ut[0])==null?void 0:ft.damage)||0)},0),Ve=fe.reduce((De,_e)=>{var ut,ft;return De+Number(((ft=(ut=_e==null?void 0:_e.defenses)==null?void 0:ut[0])==null?void 0:ft.damageTaken)||0)},0),Ge=fe.reduce((De,_e)=>{var ut,ft;return De+Number(((ft=(ut=_e==null?void 0:_e.defenses)==null?void 0:ut[0])==null?void 0:ft.damageBarrier)||0)},0),ze=fe.reduce((De,_e)=>{var at;const ut=(at=_e==null?void 0:_e.extBarrierStats)==null?void 0:at.outgoingBarrier;if(!Array.isArray(ut))return De;let ft=0;return ut.forEach(We=>{Array.isArray(We)?We.forEach(ht=>{ft+=Number((ht==null?void 0:ht.barrier)||0)}):ft+=Number((We==null?void 0:We.barrier)||0)}),De+ft},0),we=fe.reduce((De,_e)=>{var ut,ft;return Number(((ft=(ut=_e==null?void 0:_e.statsAll)==null?void 0:ut[0])==null?void 0:ft.saved)||0)>0?De+1:De},0),et=fe.reduce((De,_e)=>De+Number(nj(_e)||0),0),rt=fe.reduce((De,_e)=>De+Number(rj(_e)||0),0),de=fe.reduce((De,_e)=>De+Number((_e==null?void 0:_e.stabGeneration)||0),0),pe=fe.reduce((De,_e)=>De+Number(aj(_e)||0),0),ot=fe.reduce((De,_e)=>De+Number(sj(_e)||0),0),vt=fe.reduce((De,_e)=>De+Number(oj(_e)||0),0),ke=fe.reduce((De,_e)=>De+Number(ij(_e)||0),0),ce=me>0?he/me:he,_t=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:L(J)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Ie},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:je},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ce},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:he},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,He-he)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:me},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,Lt-me)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Oe-Ve},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Oe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ve},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:et},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:rt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:de},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:pe},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:ot},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Ge},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:ze},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:vt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:ke},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:we}];return{id:P.filePath||P.id||`fight-${$+1}`,shortLabel:`F${$+1}`,fullLabel:`${bt||P.encounterName||"Unknown Map"}  ${fp(gt)}`,mapName:bt,timestamp:Me,duration:fp(gt),isWin:L(J),targetFocus:wt,squadMetrics:_t}}).filter(Boolean),Qt=Array.from(_.values()).map(P=>{const $=Object.entries(P.professionTimeMs||{}).map(([J,Ne])=>({profession:J,timeMs:Number(Ne||0)})).filter(J=>J.profession&&J.profession!=="Unknown"&&J.timeMs>0).sort((J,Ne)=>{const fe=Ne.timeMs-J.timeMs;return fe!==0?fe:J.profession.localeCompare(Ne.profession)});return{account:P.account||"Unknown",characterNames:Array.from(P.characterNames||[]).filter(Boolean).sort((J,Ne)=>J.localeCompare(Ne)),classTimes:$,combatTimeMs:Number(P.squadActiveMs||P.totalFightMs||0),squadTimeMs:(()=>{const J=Number(P.firstSeenFightTs||0),Ne=Number(P.lastSeenFightTs||0),fe=Math.max(0,Number(P.lastSeenFightDurationMs||0));return J>0&&Ne>0?Math.max(0,Ne+fe-J):Number(P.squadActiveMs||P.totalFightMs||0)})()}}).filter(P=>P.account&&P.account!=="Unknown").sort((P,$)=>{const J=$.squadTimeMs-P.squadTimeMs;return J!==0?J:String(P.account).localeCompare(String($.account))}),tn=o.map(P=>P).sort((P,$)=>ti(P.details,P)-ti($.details,$)).map((P,$)=>{const J=P==null?void 0:P.details,Ne=Array.isArray(J==null?void 0:J.players)?J.players.filter(Me=>!(Me!=null&&Me.notInSquad)):[],fe=new Map;Ne.forEach(Me=>{const bt=Number(Me==null?void 0:Me.group),gt=Number.isFinite(bt)&&bt>0?bt:0;fe.has(gt)||fe.set(gt,{party:gt,players:[],classCounts:{}});const Lt=V((Me==null?void 0:Me.profession)||(Me==null?void 0:Me.name)||"Unknown"),He=String((Me==null?void 0:Me.account)||"Unknown"),me=String((Me==null?void 0:Me.name)||(Me==null?void 0:Me.character_name)||""),he=!!(Me!=null&&Me.hasCommanderTag),tt=fe.get(gt);tt.players.push({account:He,characterName:me,profession:Lt,isCommander:he}),tt.classCounts[Lt]=(tt.classCounts[Lt]||0)+1});const Ue=Array.from(fe.values()).map(Me=>({...Me,players:Me.players.sort((bt,gt)=>{const Lt=+!!gt.isCommander-+!!bt.isCommander;if(Lt!==0)return Lt;const He=String(bt.profession).localeCompare(String(gt.profession));return He!==0?He:String(bt.account).localeCompare(String(gt.account))})})).sort((Me,bt)=>Me.party===0&&bt.party!==0?1:bt.party===0&&Me.party!==0?-1:Me.party-bt.party);return{id:String((P==null?void 0:P.filePath)||(P==null?void 0:P.id)||`fight-${$+1}`),label:`F${$+1}`,timestamp:ti(J,P),mapName:wa(J,P),duration:fp(Number((J==null?void 0:J.durationMS)||0)),parties:Ue}}),It=(P,$)=>{const J=($==null?void 0:$.skillMap)||{},Ne=($==null?void 0:$.buffMap)||{};let fe=0,Ue=0,Me="";const bt=He=>{const me=Number(He);if(!Number.isFinite(me))return String(He||"Unknown Skill");const he=(J==null?void 0:J[`s${me}`])||(J==null?void 0:J[`${me}`]);if(he!=null&&he.name)return String(he.name);const tt=(Ne==null?void 0:Ne[`b${me}`])||(Ne==null?void 0:Ne[`${me}`]);return tt!=null&&tt.name?String(tt.name):`Skill ${me}`},gt=He=>{if(!He||typeof He!="object")return;const me=[Number(He.max),Number(He.maxDamage),Number(He.maxHit)].filter(Ce=>Number.isFinite(Ce)),he=me.length>0?Math.max(...me):0;he>fe&&(fe=he,Me=bt(He.id));const tt=Number(He.downContribution||0);tt>Ue&&(Ue=tt)};let Lt=!1;return Array.isArray(P==null?void 0:P.targetDamageDist)&&P.targetDamageDist.forEach(He=>{Array.isArray(He)&&He.forEach(me=>{Array.isArray(me)&&me.forEach(he=>{Lt=!0,gt(he)})})}),(!Lt||fe<=0)&&Array.isArray(P==null?void 0:P.totalDamageDist)&&P.totalDamageDist.forEach(He=>{Array.isArray(He)&&He.forEach(me=>gt(me))}),{peak:fe,peakDownContribution:Ue,skillName:Me||"Unknown Skill"}},Ct=(()=>{const P=Ce=>String(Ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=Ce=>P(Ce).toLowerCase().split(/[^a-z0-9]+/i).map(nt=>nt.trim()).filter(Boolean).map(nt=>nt.length>3&&nt.endsWith("s")?nt.slice(0,-1):nt),J=(Ce,nt)=>{const st=P(Ce),wt=P(nt);if(!wt)return st;if(!st)return wt;const je=$(st),Ie=$(wt),Oe=new Set(je),Ve=new Set(Ie),Ge=Ie.length>0&&Ie.every(we=>Oe.has(we)),ze=je.length>0&&je.every(we=>Ve.has(we));return Ge||ze?st:`${st} - ${wt}`},Ne=[],fe=new Map,Ue=Ce=>{const nt=Ge=>{if(!Array.isArray(Ge)||Ge.length===0)return[];const ze=[];for(let we=0;we<Ge.length;we+=1){const et=Number(Ge[we]||0),rt=we>0?Number(Ge[we-1]||0):0;ze.push(Math.max(0,et-rt))}return ze},st=Ge=>{if(!Array.isArray(Ge))return[];const ze=Ge.reduce((et,rt)=>Math.max(et,Array.isArray(rt)?rt.length:0),0);if(ze<=0)return[];const we=new Array(ze).fill(0);return Ge.forEach(et=>{if(Array.isArray(et))for(let rt=0;rt<ze;rt+=1)we[rt]+=Number(et[rt]||0)}),we},wt=Ge=>Array.isArray(Ge)?Ge.map(ze=>Number(ze||0)):null,Ie=(Ge=>{if(!Array.isArray(Ge)||Ge.length===0)return null;const ze=Ge[0];if(!Array.isArray(ze))return null;if(Array.isArray(ze[0])&&Array.isArray(ze[0][0]))return st(ze);if(Array.isArray(ze[0])&&!Array.isArray(ze[0][0])){const we=Ge.map(et=>wt(Array.isArray(et)?et[0]:null)).filter(et=>Array.isArray(et)&&et.length>0);if(we.length>0)return st(we)}return null})(Ce==null?void 0:Ce.targetDamage1S),Oe=Array.isArray(Ce==null?void 0:Ce.damage1S)&&Array.isArray(Ce.damage1S[0])?Ce.damage1S[0]:null,Ve=Ie||(Array.isArray(Oe)?Oe.map(Ge=>Number(Ge||0)):[]);return nt(Ve)},Me=(Ce,nt)=>{if(!Array.isArray(Ce)||Ce.length===0||nt<=0)return 0;let st=0,wt=0;for(let je=0;je<Ce.length;je+=1)st+=Number(Ce[je]||0),je>=nt&&(st-=Number(Ce[je-nt]||0)),je>=nt-1&&st>wt&&(wt=st);return Math.max(0,wt)},bt=(Ce,nt)=>{if(!Array.isArray(Ce)||Ce.length===0||nt<=0)return[];const st=[];for(let wt=0;wt<Ce.length;wt+=nt){const je=Math.min(wt+nt,Ce.length),Ie=Ce.slice(wt,je).reduce((Oe,Ve)=>Oe+Number(Ve||0),0);st.push(Ie)}return st},gt=(Ce,nt)=>{let st=0,wt=0;const je=new Map,Ie=Ve=>{if(!Ve||typeof Ve!="object"||Ve.indirectDamage)return;const Ge=Number(Ve.totalDamage||0),ze=Number(Ve.downContribution||0);!Number.isFinite(Ge)&&!Number.isFinite(ze)||(st+=Number.isFinite(Ge)?Ge:0,wt+=Number.isFinite(ze)?ze:0)};return Array.isArray(Ce==null?void 0:Ce.targetDamageDist)&&Ce.targetDamageDist.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(Ge=>{Array.isArray(Ge)&&Ge.forEach(ze=>{const we=Number(ze==null?void 0:ze.id);if(Number.isFinite(we)){const et=je.get(we)||{damage:0,downContribution:0};et.damage+=Number((ze==null?void 0:ze.totalDamage)||0),et.downContribution+=Number((ze==null?void 0:ze.downContribution)||0),je.set(we,et)}Ie(ze)})})}),!(nt!=null&&nt.detailedWvW)&&Array.isArray(Ce==null?void 0:Ce.totalDamageDist)&&Ce.totalDamageDist.forEach(Ve=>{Array.isArray(Ve)&&Ve.forEach(Ge=>{const ze=Number(Ge==null?void 0:Ge.id);if(!Number.isFinite(ze)){Ie(Ge);return}const we=je.get(ze);if(!we){Ie(Ge);return}const et=Number((Ge==null?void 0:Ge.totalDamage)||0)-Number(we.damage||0),rt=Number((Ge==null?void 0:Ge.downContribution)||0)-Number(we.downContribution||0);et<=0&&rt<=0||Ie({...Ge,totalDamage:Math.max(0,et),downContribution:Math.max(0,rt)})})}),{damageTotal:Math.max(0,st),downContributionTotal:Math.max(0,wt)}},Lt=(Ce,nt)=>{const st=Number(Ce);if(!Number.isFinite(st))return{name:String(Ce||"Unknown Skill"),icon:void 0};const wt=(nt==null?void 0:nt.skillMap)||{},je=(nt==null?void 0:nt.buffMap)||{},Ie=(wt==null?void 0:wt[`s${st}`])||(wt==null?void 0:wt[`${st}`]);if(Ie!=null&&Ie.name)return{name:String(Ie.name),icon:Ie==null?void 0:Ie.icon};const Oe=(je==null?void 0:je[`b${st}`])||(je==null?void 0:je[`${st}`]);return Oe!=null&&Oe.name?{name:String(Oe.name),icon:Oe==null?void 0:Oe.icon}:{name:`Skill ${st}`,icon:void 0}},He=Ce=>Array.isArray(Ce)?Ce.map(nt=>Array.isArray(nt)?[Number(nt[0]),Number(nt[1])]:nt&&typeof nt=="object"?[Number(nt.time),Number(nt.value)]:null).filter(nt=>!!nt&&Number.isFinite(nt[0])&&nt[0]>=0):[],me=(Ce,nt,st,wt,je)=>{if(!Ce.length||wt<=0)return[];const Ie=Math.max(wt*5e3,je||0),Oe=pe=>pe.reduce((ot,vt)=>vt>=0&&vt<=Ie+2e3?ot+1:ot,0),Ve=Ce.map(pe=>Number(pe||0)).filter(pe=>Number.isFinite(pe)&&pe>=0);if(!Ve.length)return[];const Ge=[Ve],ze=Ve.reduce((pe,ot)=>Math.max(pe,ot),0),we=Ve.reduce((pe,ot)=>Math.min(pe,ot),Number.POSITIVE_INFINITY);ze>Ie*20&&Ge.push(Ve.map(pe=>pe/1e3)),ze<=Ie*2&&we>=0&&ze>0&&ze<Math.max(120,wt*5+10)&&Ge.push(Ve.map(pe=>pe*1e3));let et=Ve,rt=0,de=-1;return Ge.forEach(pe=>{const ot=pe.reduce((ke,ce)=>Math.min(ke,ce),Number.POSITIVE_INFINITY),vt=new Set([0,...nt,...st]);if(Number.isFinite(ot)&&Ie>0&&ot>Ie){const ke=Math.floor(ot/Ie)*Ie;vt.add(ke),vt.add(Math.max(0,ke-Ie))}vt.forEach(ke=>{const ce=pe.map(De=>De-ke),_t=Oe(ce);_t>de&&(de=_t,rt=ke,et=pe)})}),et.map(pe=>pe-rt).filter(pe=>Number.isFinite(pe)&&pe>=0)},he=(Ce,nt,st,wt,je)=>{const Ie=me(Ce,nt,st,wt,je);return Array.from(new Set(Ie.map(Oe=>Math.floor(Oe/5e3)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0&&Oe<wt)))};o.map(Ce=>({log:Ce,ts:ti(Ce==null?void 0:Ce.details,Ce)})).sort((Ce,nt)=>Ce.ts-nt.ts).forEach(({log:Ce},nt)=>{const st=Ce==null?void 0:Ce.details;if(!st)return;const wt=P(st.fightName||Ce.fightName||`Fight ${nt+1}`),je=wa(st,Ce),Ie=J(wt,String(je||"")),Oe={},Ve=Array.isArray(st.players)?st.players:[],Ge=Ve.flatMap(ke=>{const ce=ke==null?void 0:ke.combatReplayData;return Array.isArray(ce)?ce.map(_t=>Number(_t==null?void 0:_t.start)):[Number(ce==null?void 0:ce.start)]}).filter(ke=>Number.isFinite(ke)&&ke>=0);Ve.forEach(ke=>{if(ke!=null&&ke.notInSquad)return;const ce=String((ke==null?void 0:ke.account)||(ke==null?void 0:ke.name)||"Unknown"),_t=String((ke==null?void 0:ke.character_name)||(ke==null?void 0:ke.display_name)||(ke==null?void 0:ke.name)||""),De=String((ke==null?void 0:ke.profession)||"Unknown"),_e=`${ce}|${De}`,ut=It(ke,st),ft=Number(ut.peak||0),at=Number(ut.peakDownContribution||0),We=Ue(ke),{damageTotal:ht,downContributionTotal:pt}=gt(ke,st),Rt=ht>0?Math.min(1,Math.max(0,pt/ht)):0,rn=We.map($e=>Number($e||0)*Rt),pn=Number(Me(We,1)||0),Cn=Number(Me(We,5)||0),Mn=Number(Me(We,30)||0),lr=Number(Me(rn,1)||0),In=Number(Me(rn,5)||0),Er=Number(Me(rn,30)||0),xr=Math.max(0,Math.ceil(Number((st==null?void 0:st.durationMS)||0)/5e3)),Xn=Math.max(0,Math.ceil(We.length/5)),Zr=Math.max(0,Math.ceil(rn.length/5)),Sr=Math.max(xr,Xn,Zr),cr=bt(We,5),fs=bt(rn,5),Ci=Array.from({length:Sr},($e,Be)=>Number(cr[Be]||0)),cl=Array.from({length:Sr},($e,Be)=>Number(fs[Be]||0)),Bn=new Map,ms=$e=>{if(!$e||typeof $e!="object"||$e.indirectDamage)return;const Be=Number($e.totalDamage||0),xt=Number($e.downContribution||0);if((!Number.isFinite(Be)||Be<=0)&&(!Number.isFinite(xt)||xt<=0))return;const Bt=Number($e.connectedHits||$e.hits||0),wn=Lt($e.id,st),Hn=wn.name,qn=Bn.get(Hn)||{skillName:Hn,damage:0,downContribution:0,hits:0,icon:wn.icon};qn.damage+=Number.isFinite(Be)?Be:0,qn.downContribution+=Number.isFinite(xt)?xt:0,qn.hits+=Number.isFinite(Bt)?Bt:0,!qn.icon&&wn.icon&&(qn.icon=wn.icon),Bn.set(Hn,qn)},ji=new Map;Array.isArray(ke==null?void 0:ke.targetDamageDist)&&ke.targetDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(Be=>{Array.isArray(Be)&&Be.forEach(xt=>{const Bt=Number(xt==null?void 0:xt.id),wn=Number((xt==null?void 0:xt.totalDamage)||0),Hn=Number((xt==null?void 0:xt.downContribution)||0);if(Number.isFinite(Bt)){const qn=ji.get(Bt)||{damage:0,downContribution:0,hits:0};qn.damage+=Number.isFinite(wn)?wn:0,qn.downContribution+=Number.isFinite(Hn)?Hn:0,qn.hits+=Number((xt==null?void 0:xt.connectedHits)||(xt==null?void 0:xt.hits)||0),ji.set(Bt,qn)}ms(xt)})})}),!(st!=null&&st.detailedWvW)&&Array.isArray(ke==null?void 0:ke.totalDamageDist)&&ke.totalDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(Be=>{const xt=Number(Be==null?void 0:Be.id);if(!Number.isFinite(xt)){ms(Be);return}const Bt=ji.get(xt);if(!Bt){ms(Be);return}const wn=Number((Be==null?void 0:Be.totalDamage)||0),Hn=Number((Be==null?void 0:Be.downContribution)||0),qn=Number((Be==null?void 0:Be.connectedHits)||(Be==null?void 0:Be.hits)||0),vn=wn-Number(Bt.damage||0),ei=Hn-Number(Bt.downContribution||0),En=qn-Number(Bt.hits||0);vn<=0&&ei<=0&&En<=0||ms({...Be,totalDamage:Math.max(0,vn),downContribution:Math.max(0,ei),connectedHits:Math.max(0,En),hits:Math.max(0,En)})})});const Un=(()=>{const $e=ke==null?void 0:ke.combatReplayData;return Array.isArray($e)?$e.filter(Be=>Be&&typeof Be=="object"):$e&&typeof $e=="object"?[$e]:[]})(),dc=Un.map($e=>Number($e==null?void 0:$e.start)).filter($e=>Number.isFinite($e)&&$e>=0),Jr=Un.flatMap($e=>He($e==null?void 0:$e.down).map(([Be])=>Number(Be||0))),Qe=Un.flatMap($e=>He($e==null?void 0:$e.dead).map(([Be])=>Number(Be||0)));Oe[_e]={hit:ft,burst1s:pn,burst5s:Cn,burst30s:Mn,hitDown:at,burst1sDown:lr,burst5sDown:In,burst30sDown:Er,skillName:ut.skillName,buckets5s:Ci,buckets5sDown:cl,downIndices5s:he(Jr,dc,Ge,Sr,Number((st==null?void 0:st.durationMS)||0)),deathIndices5s:he(Qe,dc,Ge,Sr,Number((st==null?void 0:st.durationMS)||0)),skillRows:Array.from(Bn.values()).sort(($e,Be)=>Be.damage-$e.damage).slice(0,50)};const Re=fe.get(_e)||{key:_e,account:ce,displayName:ce,characterName:_t,profession:De,professionList:[De],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Re.logs+=1,Re.professionList.includes(De)||Re.professionList.push(De),!Re.characterName&&_t&&(Re.characterName=_t),ft>Re.peakHit&&(Re.peakHit=ft,Re.peakFightLabel=Ie,Re.peakSkillName=ut.skillName),pn>Re.peak1s&&(Re.peak1s=pn),Cn>Re.peak5s&&(Re.peak5s=Cn),Mn>Re.peak30s&&(Re.peak30s=Mn),at>Re.peakHitDown&&(Re.peakHitDown=at),lr>Re.peak1sDown&&(Re.peak1sDown=lr),In>Re.peak5sDown&&(Re.peak5sDown=In),Er>Re.peak30sDown&&(Re.peak30sDown=Er),fe.set(_e,Re)});const ze=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.hit)||0)),0),we=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.burst1s)||0)),0),et=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.burst5s)||0)),0),rt=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.burst30s)||0)),0),de=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.hitDown)||0)),0),pe=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.burst1sDown)||0)),0),ot=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.burst5sDown)||0)),0),vt=Object.values(Oe).reduce((ke,ce)=>Math.max(ke,Number((ce==null?void 0:ce.burst30sDown)||0)),0);Ne.push({id:Ce.filePath||Ce.id||`fight-${nt+1}`,shortLabel:`F${nt+1}`,fullLabel:Ie,timestamp:ti(st,Ce),values:Oe,maxHit:ze,max1s:we,max5s:et,max30s:rt,maxHitDown:de,max1sDown:pe,max5sDown:ot,max30sDown:vt})});const tt=Array.from(fe.values()).sort((Ce,nt)=>nt.peakHit!==Ce.peakHit?nt.peakHit-Ce.peakHit:Ce.displayName.localeCompare(nt.displayName));return{fights:Ne,players:tt}})(),Rn=(()=>{const P=je=>String(je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=je=>P(je).toLowerCase().split(/[^a-z0-9]+/i).map(Ie=>Ie.trim()).filter(Boolean).map(Ie=>Ie.length>3&&Ie.endsWith("s")?Ie.slice(0,-1):Ie),J=(je,Ie)=>{const Oe=P(je),Ve=P(Ie);if(!Ve)return Oe;if(!Oe)return Ve;const Ge=$(Oe),ze=$(Ve),we=new Set(Ge),et=new Set(ze),rt=ze.length>0&&ze.every(pe=>we.has(pe)),de=Ge.length>0&&Ge.every(pe=>et.has(pe));return rt||de?Oe:`${Oe} - ${Ve}`},Ne=[],fe=new Map,Ue=(je,Ie)=>{const Oe=Number(je);if(!Number.isFinite(Oe))return{name:String(je||"Unknown Skill"),icon:void 0};const Ve=(Ie==null?void 0:Ie.skillMap)||{},Ge=(Ie==null?void 0:Ie.buffMap)||{},ze=(Ve==null?void 0:Ve[`s${Oe}`])||(Ve==null?void 0:Ve[`${Oe}`]);if(ze!=null&&ze.name)return{name:String(ze.name),icon:ze==null?void 0:ze.icon};const we=(Ge==null?void 0:Ge[`b${Oe}`])||(Ge==null?void 0:Ge[`${Oe}`]);return we!=null&&we.name?{name:String(we.name),icon:we==null?void 0:we.icon}:{name:`Skill ${Oe}`,icon:void 0}},Me=(je,Ie)=>{let Oe=0,Ve="";const Ge=ze=>{if(!ze||typeof ze!="object"||ze.indirectDamage)return;const we=[Number(ze.max),Number(ze.maxDamage),Number(ze.maxHit)].filter(rt=>Number.isFinite(rt)),et=we.length>0?Math.max(...we):0;et>Oe&&(Oe=et,Ve=Ue(ze.id,Ie).name)};return Array.isArray(je==null?void 0:je.totalDamageDist)&&je.totalDamageDist.forEach(ze=>{Array.isArray(ze)&&ze.forEach(we=>Ge(we))}),Array.isArray(je==null?void 0:je.targetDamageDist)&&je.targetDamageDist.forEach(ze=>{Array.isArray(ze)&&ze.forEach(we=>{Array.isArray(we)&&we.forEach(et=>Ge(et))})}),{peak:Oe,skillName:Ve||"Unknown Skill"}},bt=je=>{if(!Array.isArray(je)||je.length===0)return[];const Ie=[];for(let Oe=0;Oe<je.length;Oe+=1){const Ve=Number(je[Oe]||0),Ge=Oe>0?Number(je[Oe-1]||0):0;Ie.push(Math.max(0,Ve-Ge))}return Ie},gt=je=>{if(!Array.isArray(je)||je.length===0)return[];const Ie=je.reduce((Ve,Ge)=>Math.max(Ve,Array.isArray(Ge)?Ge.length:0),0);if(Ie<=0)return[];const Oe=new Array(Ie).fill(0);return je.forEach(Ve=>{if(Array.isArray(Ve))for(let Ge=0;Ge<Ie;Ge+=1)Oe[Ge]+=Number(Ve[Ge]||0)}),Oe},Lt=je=>{if(!Array.isArray(je)||je.length===0)return[];const Ie=je[0];if(typeof Ie=="number")return je.map(Oe=>Number(Oe||0));if(Array.isArray(Ie)&&Ie.length>0){if(typeof Ie[0]=="number")return Ie.map(Oe=>Number(Oe||0));if(Array.isArray(Ie[0])){const Oe=Ie.map(Ve=>Array.isArray(Ve)?Ve.map(Ge=>Number(Ge||0)):null).filter(Ve=>Array.isArray(Ve)&&Ve.length>0);if(Oe.length>0)return gt(Oe)}}return[]},He=je=>{const Ie=Lt(je==null?void 0:je.powerDamage1S),Oe=Lt(je==null?void 0:je.damage1S),Ve=Ie.length>0?Ie:Oe;return bt(Ve)},me=(je,Ie)=>{const Oe=je==null?void 0:je.targetPowerDamage1S;if(!Array.isArray(Oe)||!Array.isArray(Oe[Ie]))return[];const Ve=Oe[Ie];if(!Array.isArray(Ve)||Ve.length===0)return[];if(typeof Ve[0]=="number")return Ve.map(Ge=>Number(Ge||0));if(Array.isArray(Ve[0])&&!Array.isArray(Ve[0][0]))return Ve[0].map(Ge=>Number(Ge||0));if(Array.isArray(Ve[0])&&Array.isArray(Ve[0][0])){const ze=Ve[0].map(we=>Array.isArray(we)?we.map(et=>Number(et||0)):null).filter(we=>Array.isArray(we)&&we.length>0);return gt(ze)}return[]},he=(je,Ie)=>{if(!Array.isArray(je)||je.length===0||Ie<=0)return 0;let Oe=0,Ve=0;for(let Ge=0;Ge<je.length;Ge+=1)Oe+=Number(je[Ge]||0),Ge>=Ie&&(Oe-=Number(je[Ge-Ie]||0)),Ge>=Ie-1&&Oe>Ve&&(Ve=Oe);return Math.max(0,Ve)},tt=(je,Ie)=>{if(!Array.isArray(je)||je.length===0||Ie<=0)return[];const Oe=[];for(let Ve=0;Ve<je.length;Ve+=Ie){const Ge=Math.min(Ve+Ie,je.length),ze=je.slice(Ve,Ge).reduce((we,et)=>we+Number(et||0),0);Oe.push(ze)}return Oe},Ce=je=>Array.isArray(je)?je.map(Ie=>Array.isArray(Ie)?[Number(Ie[0]),Number(Ie[1])]:Ie&&typeof Ie=="object"?[Number(Ie.time),Number(Ie.value)]:null).filter(Ie=>!!Ie&&Number.isFinite(Ie[0])&&Ie[0]>=0):[],nt=(je,Ie,Oe,Ve,Ge)=>{if(!je.length||Ve<=0)return[];const ze=Math.max(Ve*5e3,Ge||0),we=ce=>ce.reduce((_t,De)=>De>=0&&De<=ze+2e3?_t+1:_t,0),et=je.map(ce=>Number(ce||0)).filter(ce=>Number.isFinite(ce)&&ce>=0);if(!et.length)return[];const rt=[et],de=et.reduce((ce,_t)=>Math.max(ce,_t),0),pe=et.reduce((ce,_t)=>Math.min(ce,_t),Number.POSITIVE_INFINITY);de>ze*20&&rt.push(et.map(ce=>ce/1e3)),de<=ze*2&&pe>=0&&de>0&&de<Math.max(120,Ve*5+10)&&rt.push(et.map(ce=>ce*1e3));let ot=et,vt=0,ke=-1;return rt.forEach(ce=>{const _t=ce.reduce((_e,ut)=>Math.min(_e,ut),Number.POSITIVE_INFINITY),De=new Set([0,...Ie,...Oe]);if(Number.isFinite(_t)&&ze>0&&_t>ze){const _e=Math.floor(_t/ze)*ze;De.add(_e),De.add(Math.max(0,_e-ze))}De.forEach(_e=>{const ut=ce.map(at=>at-_e),ft=we(ut);ft>ke&&(ke=ft,vt=_e,ot=ce)})}),ot.map(ce=>ce-vt).filter(ce=>Number.isFinite(ce)&&ce>=0)},st=(je,Ie,Oe,Ve,Ge)=>{const ze=nt(je,Ie,Oe,Ve,Ge);return Array.from(new Set(ze.map(we=>Math.floor(we/5e3)).filter(we=>Number.isFinite(we)&&we>=0&&we<Ve)))};o.map(je=>({log:je,ts:ti(je==null?void 0:je.details,je)})).sort((je,Ie)=>je.ts-Ie.ts).forEach(({log:je},Ie)=>{const Oe=je==null?void 0:je.details;if(!Oe)return;const Ve=P(Oe.fightName||je.fightName||`Fight ${Ie+1}`),Ge=wa(Oe,je),ze=J(Ve,String(Ge||"")),we={},rt=(Array.isArray(Oe.players)?Oe.players:[]).filter(We=>!(We!=null&&We.notInSquad)),de=rt.flatMap(We=>{const ht=We==null?void 0:We.combatReplayData;return Array.isArray(ht)?ht.map(pt=>Number(pt==null?void 0:pt.start)):[Number(ht==null?void 0:ht.start)]}).filter(We=>Number.isFinite(We)&&We>=0),pe=rt.flatMap(We=>{const ht=We==null?void 0:We.combatReplayData;return(Array.isArray(ht)?ht:ht?[ht]:[]).flatMap(Rt=>Ce(Rt==null?void 0:Rt.down).map(([rn])=>Number(rn||0)))}),ot=rt.flatMap(We=>{const ht=We==null?void 0:We.combatReplayData;return(Array.isArray(ht)?ht:ht?[ht]:[]).flatMap(Rt=>Ce(Rt==null?void 0:Rt.dead).map(([rn])=>Number(rn||0)))}),vt=new Map,ke=new Map,ce=new Map;(Array.isArray(Oe.targets)?Oe.targets:[]).forEach((We,ht)=>{if(!We||We.isFake||!We.enemyPlayer)return;const pt=V((We==null?void 0:We.profession)||(We==null?void 0:We.name)||(We==null?void 0:We.id))||"Unknown";ce.set(pt,(ce.get(pt)||0)+1);const Rt=ke.get(pt)||new Map;Array.isArray(We==null?void 0:We.totalDamageDist)&&We.totalDamageDist.forEach(In=>{Array.isArray(In)&&In.forEach(Er=>{if(!Er||typeof Er!="object"||Er.indirectDamage)return;const xr=Number(Er.totalDamage||0);if(!Number.isFinite(xr)||xr<=0)return;const Xn=Number(Er.connectedHits||Er.hits||0),Zr=Ue(Er.id,Oe),Sr=Zr.name,cr=Rt.get(Sr)||{skillName:Sr,damage:0,hits:0,icon:Zr.icon};cr.damage+=xr,cr.hits+=Number.isFinite(Xn)?Xn:0,!cr.icon&&Zr.icon&&(cr.icon=Zr.icon),Rt.set(Sr,cr)})}),ke.set(pt,Rt);const rn=gt(rt.map(In=>me(In,ht))),pn=rn.length>0?bt(rn):He(We),Cn=Me(We,Oe);let Mn=vt.get(pt);Mn||(Mn={perSecond:[],hit:0,skillName:""},vt.set(pt,Mn)),pn.length>Mn.perSecond.length&&(Mn.perSecond.length=pn.length);for(let In=0;In<pn.length;In+=1)Mn.perSecond[In]=Number(Mn.perSecond[In]||0)+Number(pn[In]||0);const lr=Number(Cn.peak||0);lr>Mn.hit&&(Mn.hit=lr,Mn.skillName=Cn.skillName||"Unknown Skill")});const De=Array.from(vt.values()).some(We=>Array.isArray(We.perSecond)&&We.perSecond.some(ht=>Number(ht||0)>0));if(vt.size===0||!De){const We=gt(rt.map(pt=>{const Rt=Lt(pt==null?void 0:pt.powerDamageTaken1S);return bt(Rt)})),ht=Array.from(ce.values()).reduce((pt,Rt)=>pt+Number(Rt||0),0);We.length>0&&ht>0&&ce.forEach((pt,Rt)=>{const rn=Number(pt||0)/ht,pn=We.map(Mn=>Number(Mn||0)*rn),Cn=vt.get(Rt);vt.set(Rt,{perSecond:pn,hit:Number((Cn==null?void 0:Cn.hit)||0),skillName:String((Cn==null?void 0:Cn.skillName)||"")})})}vt.forEach((We,ht)=>{var Zr;const pt=ht,Rt=Number(We.hit||0),rn=Number(he(We.perSecond,1)||0),pn=Number(he(We.perSecond,5)||0),Cn=Number(he(We.perSecond,30)||0),Mn=Math.max(0,Math.ceil(Number((Oe==null?void 0:Oe.durationMS)||0)/5e3)),lr=Math.max(0,Math.ceil(We.perSecond.length/5)),In=Math.max(Mn,lr),Er=tt(We.perSecond,5),xr=Array.from({length:In},(Sr,cr)=>Number(Er[cr]||0));we[pt]={hit:Rt,burst1s:rn,burst5s:pn,burst30s:Cn,skillName:We.skillName||"Unknown Skill",buckets5s:xr,downIndices5s:st(pe,[],de,In,Number((Oe==null?void 0:Oe.durationMS)||0)),deathIndices5s:st(ot,[],de,In,Number((Oe==null?void 0:Oe.durationMS)||0)),skillRows:Array.from(((Zr=ke.get(ht))==null?void 0:Zr.values())||[]).sort((Sr,cr)=>cr.damage-Sr.damage).slice(0,50)};const Xn=fe.get(pt)||{key:pt,account:ht,displayName:ht,characterName:"",profession:ht,professionList:[ht],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Xn.logs+=1,Rt>Xn.peakHit&&(Xn.peakHit=Rt,Xn.peakFightLabel=ze,Xn.peakSkillName=We.skillName||"Unknown Skill"),rn>Xn.peak1s&&(Xn.peak1s=rn),pn>Xn.peak5s&&(Xn.peak5s=pn),Cn>Xn.peak30s&&(Xn.peak30s=Cn),fe.set(pt,Xn)});const _e=Object.values(we).reduce((We,ht)=>Math.max(We,Number((ht==null?void 0:ht.hit)||0)),0),ut=Object.values(we).reduce((We,ht)=>Math.max(We,Number((ht==null?void 0:ht.burst1s)||0)),0),ft=Object.values(we).reduce((We,ht)=>Math.max(We,Number((ht==null?void 0:ht.burst5s)||0)),0),at=Object.values(we).reduce((We,ht)=>Math.max(We,Number((ht==null?void 0:ht.burst30s)||0)),0);Ne.push({id:je.filePath||je.id||`fight-${Ie+1}`,shortLabel:`F${Ie+1}`,fullLabel:ze,timestamp:ti(Oe,je),values:we,maxHit:_e,max1s:ut,max5s:ft,max30s:at})});const wt=Array.from(fe.values()).sort((je,Ie)=>Ie.peakHit!==je.peakHit?Ie.peakHit-je.peakHit:je.displayName.localeCompare(Ie.displayName));return{fights:Ne,players:wt}})(),di=Array.from(D.entries()).map(([P,$])=>{const J=E.get(P)||{},Ne=Array.from($.values()).map(fe=>{var he,tt;const Ue=Array.from(fe.professions||[]).filter(Ce=>Ce&&Ce!=="Unknown");let Me=fe.profession||"Unknown";if(Ue.length>0){Me=Ue[0];let Ce=((he=fe.professionTimeMs)==null?void 0:he[Me])||0;Ue.forEach(nt=>{var wt;const st=((wt=fe.professionTimeMs)==null?void 0:wt[nt])||0;st>Ce&&(Ce=st,Me=nt)})}const bt=fe.durationMs||0,gt=fe.totalMs/1e3,Lt=bt>0?fe.totalMs/bt:0,He=((tt=_.get(fe.account))==null?void 0:tt.supportActiveMs)||bt,me=He>0?fe.uptimeMs/He:0;return{account:fe.account,profession:Me,professionList:Ue,total:gt,perSecond:Lt,uptimePerSecond:me,duration:bt/1e3}}).filter(fe=>fe.total>0||fe.perSecond>0);return{id:P,name:J.name||P,icon:J.icon,rows:Ne}}).filter(P=>P.rows.length>0),lt=Array.from(be.values()).map(P=>{const $=Array.from(P.skills.values()).sort((Ne,fe)=>fe.damage-Ne.damage),J={key:P.key,account:P.account,displayName:P.displayName,profession:P.profession,professionList:P.professionList,totalFightMs:P.totalFightMs,skills:$};return p&&(J.skillMap=$.reduce((Ne,fe)=>(Ne[fe.id]=fe,Ne),{})),J}).sort((P,$)=>P.displayName.localeCompare($.displayName));return{total:v,wins:w,losses:y,avgSquadSize:Le,avgEnemies:kt,squadKDR:Ht,enemyKDR:mn,totalSquadKills:A,totalSquadDeaths:S,totalEnemyKills:R,totalEnemyDeaths:I,leaderboards:un,...Ur,outgoingConditionSummary:Object.values(X).sort((P,$)=>$.damage-P.damage),incomingConditionSummary:Object.values(q).sort((P,$)=>$.damage-P.damage),outgoingConditionPlayers:Array.from(_.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,conditions:P.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,conditions:P.incomingConditions})),topSkills:or,topIncomingSkills:ya,topSkillsByDamage:ci,topSkillsByDownContribution:Fs,playerSkillBreakdowns:lt,topSkillsMetric:b,mapData:vu,timelineData:bu,boonTables:Sa,boonTimeline:cc,boonUptimeTimeline:ol,offensePlayers:Array.from(_.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,offenseTotals:P.offenseTotals,offenseRateWeights:P.offenseRateWeights,totalFightMs:P.totalFightMs})),defensePlayers:Array.from(_.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,defenseTotals:P.defenseTotals,activeMs:P.defenseActiveMs,minionDamageTakenByMinion:P.defenseMinionDamageTaken})),damageMitigationPlayers:on,damageMitigationMinions:en,supportPlayers:Array.from(_.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,supportTotals:P.supportTotals,activeMs:P.supportActiveMs})),healingPlayers:Array.from(_.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,healingTotals:P.healingTotals,activeMs:P.healingActiveMs})),mvp:$r,silver:pu,bronze:co,squadClassData:ll,enemyClassData:qe,fightBreakdown:Nt,fightDiffMode:Wt,attendanceData:Qt,squadCompByFight:tn,spikeDamage:Ct,incomingStrikeDamage:Rn,specialTables:di,topStatsPerSecond:Nn,topStatsLeaderboardsPerSecond:jn,avgMvpScore:sl}})(),h=(()=>{const m=new Map,p=new Map,x=[],b=new Map,v=new Map;o.forEach(y=>{const N=y.details;if(!N)return;const j=N.skillMap||{},S=N.fightName||"Log",A=ti(N,y)||Date.now(),I={id:y.filePath||y.id||S,label:S,timestamp:A,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(T=>{if(T.notInSquad)return;const L=T.account||T.name||"Unknown",_=T.profession||"Unknown",G=`${L}|${_}`;let ee=p.get(G);ee||(ee={key:G,account:L,displayName:L,profession:_,professionList:[_],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(G,ee)),ee.logs++;const le=(Array.isArray(T.activeTimes)?T.activeTimes[0]:0)/1e3;ee.totalActiveSeconds=(ee.totalActiveSeconds||0)+le,I.playerActiveSeconds[G]=le,(T.rotation||[]).forEach(be=>{var D,ie,k;if(!(be!=null&&be.id))return;const X=((D=be.skills)==null?void 0:D.length)||0;if(X<=0)return;const q=`s${be.id}`,K=((ie=j[q])==null?void 0:ie.name)||`Skill ${be.id}`,E=(k=j[q])==null?void 0:k.icon;ee.skillTotals[q]=(ee.skillTotals[q]||0)+X,m.set(q,(m.get(q)||0)+X),b.set(q,K),E&&!v.has(q)&&v.set(q,E),I.skillEntries[q]||(I.skillEntries[q]={name:K,icon:E,players:{}}),!I.skillEntries[q].icon&&E&&(I.skillEntries[q].icon=E),I.skillEntries[q].players[G]=(I.skillEntries[q].players[G]||0)+X})}),x.push(I)});const w=Array.from(m.entries()).map(([y,N])=>({id:y,name:b.get(y)||y,total:N,icon:v.get(y)})).sort((y,N)=>N.total-y.total);return{logRecords:x,players:Array.from(p.values()),skillOptions:w,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},K8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const x=new Set;let b=null,v=null;e.forEach(T=>{const L=T.details;if(!L)return;const _=L.timeStartStd||L.timeStart||L.uploadTime||T.uploadTime,G=L.timeEndStd||L.timeEnd||L.uploadTime||T.uploadTime,ee=_?new Date(_):null,le=G?new Date(G):null;ee&&!Number.isNaN(ee.getTime())&&(!b||ee<b)&&(b=ee),le&&!Number.isNaN(le.getTime())&&(!v||le>v)&&(v=le),(L.players||[]).forEach(X=>{if(!(X!=null&&X.notInSquad)&&X!=null&&X.hasCommanderTag){const q=(X==null?void 0:X.name)||(X==null?void 0:X.account)||"Unknown";x.add(q)}})});const w=Array.from(x).sort((T,L)=>T.localeCompare(L)),y=b||new Date,N=v||y,j=y.toISOString(),S=N.toISOString(),A=`${y.toLocaleString()} - ${N.toLocaleString()}`,I=T=>String(T).padStart(2,"0");return{id:`${y.getFullYear()}${I(y.getMonth()+1)}${I(y.getDate())}-${I(y.getHours())}${I(y.getMinutes())}${I(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:w.length?w.join(", "):"Unknown Commander",commanders:w,dateStart:j,dateEnd:S,dateLabel:A,generatedAt:new Date().toISOString()}},h=()=>{var b;const x={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(x.fightDiffMode)&&x.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return x;try{const v=Af({logs:e,statsViewSettings:r}),w=(b=v==null?void 0:v.stats)==null?void 0:b.fightDiffMode;if(Array.isArray(w)&&w.length>0)return{...x,fightDiffMode:w}}catch{}return x};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const x=f(),b=h();await s({meta:x,stats:b})}catch(x){console.error("[StatsView] Web upload failed:",x)}},handleDevMockUpload:async()=>{var x;if(!(a||!((x=window.electronAPI)!=null&&x.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const b=f(),v=h(),w=await window.electronAPI.mockWebReport({meta:b,stats:v});w!=null&&w.success?l({uploading:!1,message:"Local report ready.",url:w.url||null}):l({uploading:!1,message:(w==null?void 0:w.error)||"Local report failed.",url:null})}catch(b){l({uploading:!1,message:(b==null?void 0:b.message)||"Local report failed.",url:null})}}}}};function G8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const Y8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Vl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Pu=null;function RO(e={}){return Pu||(e.includeStyleProperties?(Pu=e.includeStyleProperties,Pu):(Pu=Vl(window.getComputedStyle(document.documentElement)),Pu))}function _g(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function X8(e){const t=_g(e,"border-left-width"),n=_g(e,"border-right-width");return e.clientWidth+t+n}function Q8(e){const t=_g(e,"border-top-width"),n=_g(e,"border-bottom-width");return e.clientHeight+t+n}function BO(e,t={}){const n=t.width||X8(e),r=t.height||Q8(e);return{width:n,height:r}}function Z8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ja=16384;function J8(e){(e.width>ja||e.height>ja)&&(e.width>ja&&e.height>ja?e.width>e.height?(e.height*=ja/e.width,e.width=ja):(e.width*=ja/e.height,e.height=ja):e.width>ja?(e.height*=ja/e.width,e.width=ja):(e.width*=ja/e.height,e.height=ja))}function Lg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function eW(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function tW(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),eW(i)}const ga=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ga(n,t)};function nW(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function rW(e,t){return RO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function iW(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?nW(n):rW(n,r);return document.createTextNode(`${i}{${a}}`)}function cj(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=Y8();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(iW(s,n,i,r)),t.appendChild(o)}function aW(e,t,n){cj(e,t,":before",n),cj(e,t,":after",n)}const uj="application/font-woff",dj="image/jpeg",sW={woff:uj,woff2:uj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:dj,jpeg:dj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function oW(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function _k(e){const t=oW(e).toLowerCase();return sW[t]||""}function lW(e){return e.split(/,/)[1]}function tw(e){return e.search(/^(data:)/)!==-1}function cW(e,t){return`data:${t};base64,${e}`}async function zO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const nb={};function uW(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Lk(e,t,n){const r=uW(e,t,n.includeQueryParams);if(nb[r]!=null)return nb[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await zO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),lW(o)));i=cW(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return nb[r]=i,i}async function dW(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Lg(t)}async function fW(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Lg(o)}const n=e.poster,r=_k(n),i=await Lk(n,r,t);return Lg(i)}async function mW(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await dx(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function hW(e,t){return ga(e,HTMLCanvasElement)?dW(e):ga(e,HTMLVideoElement)?fW(e,t):ga(e,HTMLIFrameElement)?mW(e,t):e.cloneNode(UO(e))}const pW=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",UO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function gW(e,t,n){var r,i;if(UO(t))return t;let a=[];return pW(e)&&e.assignedNodes?a=Vl(e.assignedNodes()):ga(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=Vl(e.contentDocument.body.childNodes):a=Vl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ga(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>dx(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function xW(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):RO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ga(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function vW(e,t){ga(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ga(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function bW(e,t){if(ga(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function yW(e,t,n){return ga(t,Element)&&(xW(e,t,n),aW(e,t,n),vW(e,t),bW(e,t)),t}async function wW(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!r[o]&&(r[o]=await dx(u,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function dx(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>hW(r,t)).then(r=>gW(e,r,t)).then(r=>yW(e,r,t)).then(r=>wW(r,t))}const WO=/url\((['"]?)([^'"]+?)\1\)/g,kW=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,SW=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function NW(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function CW(e){const t=[];return e.replace(WO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!tw(n))}async function jW(e,t,n,r,i){try{const a=n?G8(t,n):t,s=_k(t);let o;return i||(o=await Lk(a,s,r)),e.replace(NW(t),`$1${o}$3`)}catch{}return e}function AW(e,{preferredFontFormat:t}){return t?e.replace(SW,n=>{for(;;){const[r,,i]=kW.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function VO(e){return e.search(WO)!==-1}async function HO(e,t,n){if(!VO(e))return e;const r=AW(e,n);return CW(r).reduce((a,s)=>a.then(o=>jW(o,s,t,n)),Promise.resolve(r))}async function Du(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await HO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function PW(e,t){await Du("background",e,t)||await Du("background-image",e,t),await Du("mask",e,t)||await Du("-webkit-mask",e,t)||await Du("mask-image",e,t)||await Du("-webkit-mask-image",e,t)}async function DW(e,t){const n=ga(e,HTMLImageElement);if(!(n&&!tw(e.src))&&!(ga(e,SVGImageElement)&&!tw(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await Lk(r,_k(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function TW(e,t){const r=Vl(e.childNodes).map(i=>qO(i,t));await Promise.all(r).then(()=>e)}async function qO(e,t){ga(e,Element)&&(await PW(e,t),await DW(e,t),await TW(e,t))}function MW(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const fj={};async function mj(e){let t=fj[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},fj[e]=t,t}async function hj(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),zO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function pj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function EW(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Vl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,u=mj(l).then(d=>hj(d,t)).then(d=>pj(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(mj(i.href).then(o=>hj(o,t)).then(o=>pj(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Vl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function OW(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>VO(t.style.getPropertyValue("src")))}async function IW(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Vl(e.ownerDocument.styleSheets),r=await EW(n,t);return OW(r)}function KO(e){return e.trim().replace(/["']/g,"")}function _W(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(KO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function LW(e,t){const n=await IW(e,t),r=_W(e);return(await Promise.all(n.filter(a=>r.has(KO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return HO(a.cssText,s,t)}))).join(`
`)}async function $W(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await LW(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function FW(e,t={}){const{width:n,height:r}=BO(e,t),i=await dx(e,t,!0);return await $W(i,t),await qO(i,t),MW(i,t),await tW(i,n,r)}async function RW(e,t={}){const{width:n,height:r}=BO(e,t),i=await FW(e,t),a=await Lg(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||Z8(),u=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=u*l,s.height=d*l,t.skipAutoScale||J8(s),s.style.width=`${u}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function BW(e,t={}){return(await RW(e,t)).toDataURL()}const zW=e=>{const[t,n]=g.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=u,globalThis.fetch=u;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],u=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var w;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const x=await u(p);if(!x)return;const b=m.src,v=m.srcset;m.src=x,m.srcset="",l.push(()=>{m.src=b,m.srcset=v});try{await((w=m.decode)==null?void 0:w.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const x=window.getComputedStyle(m).backgroundImage;if(!x||x==="none"||!x.includes("url("))return;const b=Array.from(x.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!b.length)return;let v=x,w=!1;for(const N of b){const j=N[1];if(!j)continue;const S=await u(j);S&&(v=v.replace(N[0],`url("${S}")`),w=!0)}if(!w)return;const y=m.style.backgroundImage;m.style.backgroundImage=v,l.push(()=>{m.style.backgroundImage=y})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(x=>setTimeout(x,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(x=>{x.dataset.prevDisplay=x.style.display,x.style.display="none"});let u;const d=await i(s);try{const x=s.scrollWidth,b=s.scrollHeight;u=await r(()=>BW(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:x,height:b,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(x=>{x.style.display=x.dataset.prevDisplay||"",delete x.dataset.prevDisplay})}const m=await(await(await fetch(u)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},Pf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},UW=e=>!!(e&&e.__statsPruned===!0),gj=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},xj=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},WW=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=Pf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},vj=e=>{if(!e||typeof e!="object")return e;const t=Pf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=gj(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=gj(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!xj(a));t.players=n.map(a=>{const s=Pf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(u=>Pf(u,["name","totalDamageTakenDist"]));const l=i&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!xj(a));return s.combatReplayData=WW(a==null?void 0:a.combatReplayData,l),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Pf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},VW=e=>{if(!e||typeof e!="object"||UW(e))return e;const t={...e};return e.details?t.details=vj(e.details):t.details=vj(e),t.__statsPruned=!0,t},HW=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=g.useState(()=>Af(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[u,d]=g.useState(0),[f,h]=g.useState(0),[m,p]=g.useState(0),[x,b]=g.useState(0),[v,w]=g.useState(null),y=g.useRef(0),[N,j]=g.useState(0),S=g.useRef(null),A=g.useRef(null),[I,R]=g.useState(!1),T=g.useRef(null),L=g.useRef(null),_=g.useRef(0),G=g.useRef(0),ee=g.useRef(new Map),le=g.useRef(""),be=g.useRef(void 0),X=g.useRef(""),q=g.useRef(0),[K,E]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[D,ie]=g.useState(null),k=g.useRef(0),B=()=>{if(T.current!==null&&(window.clearTimeout(T.current),T.current=null),L.current!==null){const H=window.cancelIdleCallback;typeof H=="function"&&H(L.current),L.current=null}},V=(H,te)=>{const U=String((H==null?void 0:H.filePath)||(H==null?void 0:H.id)||`idx-${te}`),ue=H!=null&&H.details&&typeof H.details=="object"?H.details:null,Z=ee.current.get(U);if(Z&&(ue&&Z.sourceDetails===ue||!ue&&Z.sourceLog===H))return Z.pruned;const ae=VW(H);return ee.current.set(U,{sourceLog:H,sourceDetails:ue,pruned:ae}),ae},ne=g.useMemo(()=>{if(!r){le.current="",be.current=void 0;return}const H={...r};delete H.topSkillsMetric;const te=JSON.stringify(H);return le.current!==te&&(le.current=te,be.current=H),be.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!I&&s)return A.current||(A.current=new Worker(new URL(""+new URL("statsWorker-DVwkyJ-d.js",import.meta.url).href,import.meta.url),{type:"module"}),A.current.onmessage=H=>{var te;if(((te=H.data)==null?void 0:te.type)==="result"){const U=typeof H.data.token=="number"?H.data.token:null;if(U!==null&&U!==y.current)return;g.startTransition(()=>{var Ke;l(H.data.result),typeof H.data.computeId=="number"?d(H.data.computeId):d(Ye=>Ye+1),typeof H.data.logCount=="number"&&h(H.data.logCount),typeof H.data.token=="number"&&p(H.data.token),typeof H.data.completedAt=="number"&&b(H.data.completedAt),typeof H.data.flushId=="number"&&w(H.data.flushId);const ue=U===null||U===y.current,Z=q.current,ae=typeof H.data.logCount=="number"?H.data.logCount:0;if(ue){const Ye=typeof H.data.completedAt=="number"?H.data.completedAt:Date.now(),ye=((Ke=H.data)==null?void 0:Ke.diagnostics)||{},F=Math.max(0,Number(ye.computeMs||0)),Ee=k.current>0?k.current:Ye,Le=Math.max(0,Ye-Ee),kt=Math.max(0,Le-F);ie({mode:"worker",logsInPayload:Number(ye.logsInPayload||H.data.logCount||0),streamedLogs:Number(H.data.logCount||0),totalLogs:Z,startedAt:Ee,completedAt:Ye,streamMs:kt,computeMs:F,totalMs:Le,flushId:typeof H.data.flushId=="number"?H.data.flushId:null,transferStripStats:ye.transferStripStats,counts:ye.counts,expectedLogCount:Number(ye.expectedLogCount||0),droppedLogMessages:Number(ye.droppedLogMessages||0)})}ue&&ae>=Z&&E(Ye=>({...Ye,active:Z>0,phase:Z>0?"settled":"idle",streamed:Z,total:Z,completedAt:typeof H.data.completedAt=="number"?H.data.completedAt:Date.now()}))})}},A.current.onerror=H=>{var te;console.warn("[StatsWorker] Worker error. Falling back to main thread.",H),(te=A.current)==null||te.terminate(),A.current=null,R(!0)},A.current.onmessageerror=H=>{var te;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",H),(te=A.current)==null||te.terminate(),A.current=null,R(!0)},S.current!==null&&A.current.postMessage({type:"flush",flushId:S.current,token:y.current})),()=>{var H;G.current+=1,B(),(H=A.current)==null||H.terminate(),A.current=null}},[I,s]),g.useEffect(()=>{var U;if(!A.current||I||!s)return;const H=G.current+1;G.current=H;let te=!1;try{q.current=e.length,k.current=Date.now(),ie(null),E({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const ue=y.current+1;y.current=ue,j(ue);const Z=new Set;e.forEach((Ee,Le)=>{Z.add(String((Ee==null?void 0:Ee.filePath)||(Ee==null?void 0:Ee.id)||`idx-${Le}`))}),ee.current.forEach((Ee,Le)=>{Z.has(Le)||ee.current.delete(Le)}),B(),A.current.postMessage({type:"reset",token:ue,totalLogs:e.length}),A.current.postMessage({type:"settings",token:ue,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ne,disruptionMethod:i}});let ae=0;const Ke=e.length,Ye=(Ee,Le=!1)=>{const kt=performance.now();if(!Le&&kt-_.current<120&&ae<Ke)return;_.current=kt;const Ht=Math.min(ae,Ke);E(mn=>mn.active===Ke>0&&mn.phase===Ee&&mn.streamed===Ht&&mn.total===Ke?mn:{...mn,active:Ke>0,phase:Ee,streamed:Ht,total:Ke})},ye=()=>{if(te||G.current!==H||!A.current)return;const Ee=window.requestIdleCallback;if(typeof Ee=="function"){L.current=Ee(Le=>{L.current=null,F(Le)},{timeout:120});return}T.current=window.setTimeout(()=>{T.current=null,F()},0)},F=Ee=>{if(te||G.current!==H||!A.current)return;const Le=!!(Ee&&typeof Ee.timeRemaining=="function"),kt=Le?Math.max(0,Number(Ee.timeRemaining()||0)):0,Ht=Le?kt>12?4:kt>7?2:1:1;let mn=0;for(;mn<Ht&&ae<Ke;)A.current.postMessage({type:"log",token:ue,payload:V(e[ae],ae)}),ae+=1,mn+=1;ae<Ke?(Ye("streaming"),ye()):(Ye("computing",!0),A.current.postMessage({type:"flush",token:ue}))};_.current=0,Ke<=0?(Ye("computing",!0),A.current.postMessage({type:"flush",token:ue})):(Ye("streaming",!0),ye())}catch(ue){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",ue),B(),(U=A.current)==null||U.terminate(),A.current=null,R(!0),E({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),ie(null)}return()=>{te=!0,B()}},[e,t,n,ne,i,s,I]);const re=g.useMemo(()=>{if(!I&&typeof Worker<"u"&&s)return null;const H=Date.now(),te=performance.now(),U=Af({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ne,disruptionMethod:i}),ue=Math.max(0,performance.now()-te),Z=Date.now();return{result:U,computeMs:ue,startedAt:H,completedAt:Z}},[I,e,t,n,ne,i,s]),se=g.useMemo(()=>{if(!I&&typeof Worker<"u"&&s)return"worker";const H=e[0],te=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(H==null?void 0:H.filePath)||(H==null?void 0:H.name)||"",lastLogPath:(te==null?void 0:te.filePath)||(te==null?void 0:te.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:le.current})},[I,s,e,t,i]);g.useEffect(()=>{if(!I&&typeof Worker<"u"&&s||X.current===se)return;X.current=se,d(te=>te+1),h(e.length),p(y.current);const H=Date.now();b(H),ie({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(re==null?void 0:re.startedAt)||H,completedAt:H,streamMs:0,computeMs:Math.max(0,Number((re==null?void 0:re.computeMs)||0)),totalMs:Math.max(0,Number((re==null?void 0:re.computeMs)||0)),flushId:null})},[se,re,I,e.length,s]);const z=I||typeof Worker>"u"||!s?(re==null?void 0:re.result)??Af({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ne,disruptionMethod:i}):o,W=!I&&typeof Worker<"u"&&s?K:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:z,computeTick:u,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:x,lastComputedFlushId:v,aggregationProgress:W,aggregationDiagnostics:D,requestFlush:()=>{const H=Date.now();return S.current=H,A.current&&!I&&A.current.postMessage({type:"flush",flushId:H,token:y.current}),H}}},qW=e=>({apmSpecBuckets:g.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let u=!1;return l&&typeof l.autoAttack=="boolean"?u=l.autoAttack:u=JU(s),i.set(o,u),u};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const u=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(u)&&u>0?u:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([j,S])=>{const A=Number(S);if(!Number.isFinite(A)||A<=0)return;const I=r.get(j),R=(I==null?void 0:I.name)||j,T=I==null?void 0:I.icon,L=a(R,j);f+=A,L&&(h+=A);let _=l.skillMap.get(j);_||(_={id:j,name:R,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(j,_)),!_.icon&&T&&(_.icon=T),_.totalCasts+=A;const G=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;_.playerCounts.set(G,A)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,x=p>0?f/p:0,b=Math.max(0,f-h),v=p>0?b/p:0,w=d>0?f/d:0,y=d>0?b/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:x,apmNoAuto:v,aps:w,apsNoAuto:y};l.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,u=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?u/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?u/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(x=>{var N;const b=Number(((N=d.playerCounts)==null?void 0:N.get(x.key))||0);if(!Number.isFinite(b)||b<=0)return null;const v=Number(x.totalActiveSeconds||0),w=v>0?b/(v/60):0,y=v>0?b/v:0;return{...x,count:b,apm:w,aps:y}}).filter(Boolean).sort((x,b)=>b.apm-x.apm||String(x.displayName||"").localeCompare(String(b.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),KW=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const x=h.totalActiveSeconds||1;p=x>0?m/x:0}d.set(h.key,p)}),d},[e.players,t,r]),s=g.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const x=m.skillEntries[t];if(!x)return null;const b={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let v=!1,w=!1;if(Object.entries(x.players).forEach(([y,N])=>{var S;if(n.size>0&&!n.has(y))return;let j=N;if(f){const A=((S=m.playerActiveSeconds)==null?void 0:S[y])||0;j=A>0?N/A:0}b[y]=j,j>d&&(d=j),v=!0,w=!0}),n.size>0){if(!w)return null}else if(!v)return null;return n.forEach(y=>{b[y]===void 0&&(b[y]=0)}),b}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function GO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _n(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GO(e))&&(r&&(r+=" "),r+=t);return r}var GW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $k(e){if(typeof e!="string")return!1;var t=GW;return t.includes(e)}var YW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XW=new Set(YW);function YO(e){return typeof e!="string"?!1:XW.has(e)}function XO(e){return typeof e=="string"&&e.startsWith("data-")}function is(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YO(n)||XO(n))&&(t[n]=e[n]);return t}function bd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return is(t)}return typeof e=="object"&&!Array.isArray(e)?is(e):null}function Ki(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YO(n)||XO(n)||$k(n))&&(t[n]=e[n]);return t}function QW(e){return e==null?null:g.isValidElement(e)?Ki(e.props):typeof e=="object"&&!Array.isArray(e)?Ki(e):null}var ZW=["children","width","height","viewBox","className","style","title","desc"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function JW(e,t){if(e==null)return{};var n,r,i=eV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fk=g.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=JW(e,ZW),f=a||{width:r,height:i,x:0,y:0},h=_n("recharts-surface",s);return g.createElement("svg",nw({},Ki(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),tV=["children","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(null,arguments)}function nV(e,t){if(e==null)return{};var n,r,i=rV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var na=g.forwardRef((e,t)=>{var{children:n,className:r}=e,i=nV(e,tV),a=_n("recharts-layer",r);return g.createElement("g",rw({className:a},Ki(i),{ref:t}),n)}),QO=g.createContext(null),iV=()=>g.useContext(QO);function ar(e){return function(){return e}}const ZO=Math.cos,$g=Math.sin,Ls=Math.sqrt,Fg=Math.PI,fx=2*Fg,iw=Math.PI,aw=2*iw,Sc=1e-6,aV=aw-Sc;function JO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function sV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JO:sV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Sc)if(!(Math.abs(f*l-u*d)>Sc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,x=l*l+u*u,b=m*m+p*p,v=Math.sqrt(x),w=Math.sqrt(h),y=a*Math.tan((iw-Math.acos((x+h-b)/(2*v*w)))/2),N=y/w,j=y/v;Math.abs(N-1)>Sc&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+j*l},${this._y1=n+j*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sc||Math.abs(this._y1-d)>Sc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%aw+aw),h>aV?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sc&&this._append`A${r},${r},0,${+(h>=iw)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Rk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new oV(t)}function Bk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eI(e){this._context=e}eI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mx(e){return new eI(e)}function tI(e){return e[0]}function nI(e){return e[1]}function rI(e,t){var n=ar(!0),r=null,i=mx,a=null,s=Rk(o);e=typeof e=="function"?e:e===void 0?tI:ar(e),t=typeof t=="function"?t:t===void 0?nI:ar(t);function o(l){var u,d=(l=Bk(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ar(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ar(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function hp(e,t,n){var r=null,i=ar(!0),a=null,s=mx,o=null,l=Rk(u);e=typeof e=="function"?e:e===void 0?tI:ar(+e),t=typeof t=="function"?t:ar(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?nI:ar(+n);function u(f){var h,m,p,x=(f=Bk(f)).length,b,v=!1,w,y=new Array(x),N=new Array(x);for(a==null&&(o=s(w=l())),h=0;h<=x;++h){if(!(h<x&&i(b=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(y[p],N[p]);o.lineEnd(),o.areaEnd()}v&&(y[h]=+e(b,h,f),N[h]=+t(b,h,f),o.point(r?+r(b,h,f):y[h],n?+n(b,h,f):N[h]))}if(w)return o=null,w+""||null}function d(){return rI().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ar(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class iI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function lV(e){return new iI(e,!0)}function cV(e){return new iI(e,!1)}const zk={draw(e,t){const n=Ls(t/Fg);e.moveTo(n,0),e.arc(0,0,n,0,fx)}},uV={draw(e,t){const n=Ls(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},aI=Ls(1/3),dV=aI*2,fV={draw(e,t){const n=Ls(t/dV),r=n*aI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},mV={draw(e,t){const n=Ls(t),r=-n/2;e.rect(r,r,n,n)}},hV=.8908130915292852,sI=$g(Fg/10)/$g(7*Fg/10),pV=$g(fx/10)*sI,gV=-ZO(fx/10)*sI,xV={draw(e,t){const n=Ls(t*hV),r=pV*n,i=gV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=fx*a/5,o=ZO(s),l=$g(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},rb=Ls(3),vV={draw(e,t){const n=-Ls(t/(rb*3));e.moveTo(0,n*2),e.lineTo(-rb*n,-n),e.lineTo(rb*n,-n),e.closePath()}},Va=-.5,Ha=Ls(3)/2,sw=1/Ls(12),bV=(sw/2+1)*3,yV={draw(e,t){const n=Ls(t/bV),r=n/2,i=n*sw,a=r,s=n*sw+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Va*r-Ha*i,Ha*r+Va*i),e.lineTo(Va*a-Ha*s,Ha*a+Va*s),e.lineTo(Va*o-Ha*l,Ha*o+Va*l),e.lineTo(Va*r+Ha*i,Va*i-Ha*r),e.lineTo(Va*a+Ha*s,Va*s-Ha*a),e.lineTo(Va*o+Ha*l,Va*l-Ha*o),e.closePath()}};function wV(e,t){let n=null,r=Rk(i);e=typeof e=="function"?e:ar(e||zk),t=typeof t=="function"?t:ar(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ar(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ar(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Rg(){}function Bg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oI(e){this._context=e}oI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kV(e){return new oI(e)}function lI(e){this._context=e}lI.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SV(e){return new lI(e)}function cI(e){this._context=e}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NV(e){return new cI(e)}function uI(e){this._context=e}uI.prototype={areaStart:Rg,areaEnd:Rg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function CV(e){return new uI(e)}function bj(e){return e<0?-1:1}function yj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(bj(a)+bj(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ib(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function zg(e){this._context=e}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ib(this,this._t0,wj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ib(this,wj(this,n=yj(this,e,t)),n);break;default:ib(this,this._t0,n=yj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dI(e){this._context=new fI(e)}(dI.prototype=Object.create(zg.prototype)).point=function(e,t){zg.prototype.point.call(this,t,e)};function fI(e){this._context=e}fI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function jV(e){return new zg(e)}function AV(e){return new dI(e)}function mI(e){this._context=e}mI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=kj(e),i=kj(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kj(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function PV(e){return new mI(e)}function hx(e,t){this._context=e,this._t=t}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DV(e){return new hx(e,.5)}function TV(e){return new hx(e,0)}function MV(e){return new hx(e,1)}function Zc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ow(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function EV(e,t){return e[t]}function OV(e){const t=[];return t.key=e,t}function IV(){var e=ar([]),t=ow,n=Zc,r=EV;function i(a){var s=Array.from(e.apply(this,arguments),OV),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,d=Bk(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ar(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ar(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?ow:typeof a=="function"?a:ar(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Zc,i):n},i}function _V(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Zc(e,t)}}function LV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Zc(e,t)}}function $V(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var x=e[t[p]],b=x[r][1]||0,v=x[r-1][1]||0;m+=b-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Zc(e,t)}}var px={},hI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(hI);var Uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Uk);var gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(gx);var xx={},pI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(pI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI,n=gx;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(xx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI,n=Uk,r=gx,i=xx;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(px);var FV=px.get;const Jc=_s(FV);var RV=4;function _l(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+_l(o)+a:i+a},"")}var Vi=e=>e===0?0:e>0?1:-1,as=e=>typeof e=="number"&&e!=+e,Wo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ut=e=>(typeof e=="number"||e instanceof Number)&&!as(e),ss=e=>Ut(e)||typeof e=="string",BV=0,bm=e=>{var t=++BV;return"".concat(e||"").concat(t)},Ia=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ut(t)&&typeof t!="string")return r;var a;if(Wo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return as(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},gI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Wi(e,t,n){return Ut(e)&&Ut(t)?_l(e+n*(t-e)):t}function xI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Jc(r,t))===n)}var ai=e=>e===null||typeof e>"u",Hm=e=>ai(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function zV(e){return e!=null}function qm(){}var UV=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){WV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WV(e,t,n){return(t=VV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VV(e){var t=HV(e,"string");return typeof t=="symbol"?t:t+""}function HV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e,t){if(e==null)return{};var n,r,i=KV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vI={symbolCircle:zk,symbolCross:uV,symbolDiamond:fV,symbolSquare:mV,symbolStar:xV,symbolTriangle:vV,symbolWye:yV},GV=Math.PI/180,YV=e=>{var t="symbol".concat(Hm(e));return vI[t]||zk},XV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*GV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QV=(e,t)=>{vI["symbol".concat(Hm(e))]=t},Wk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=qV(e,UV),a=Nj(Nj({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=YV(s),m=wV().type(h).size(XV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:u,cy:d}=a,f=Ki(a);return Ut(u)&&Ut(d)&&Ut(n)?g.createElement("path",lw({},f,{className:_n("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Wk.registerSymbol=QV;var bI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Vk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{$k(i)&&(r[i]=a=>n[i](n,a))}),r},ZV=(e,t,n)=>r=>(e(t,n,r),null),Hk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];$k(i)&&typeof a=="function"&&(r||(r={}),r[i]=ZV(a,t,n))}),r};function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return(t=t9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var n=JV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ug.apply(null,arguments)}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(n),!0).forEach(function(r){i9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9(e,t,n){return(t=a9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=32,o9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function l9(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ga/2,a=Ga/6,s=Ga/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ga,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ga,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=r9({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Wk,{fill:o,cx:i,cy:i,size:Ga,sizeType:"diameter",type:l})}function c9(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ga,height:Ga},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=_n({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,x=h?h(d.value,d,f):d.value;return g.createElement("li",Ug({className:m,style:l,key:"legend-item-".concat(f)},Hk(e,d,f)),g.createElement(Fk,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},g.createElement(l9,{data:d,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var u9=e=>{var t=Qr(e,o9),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(c9,Ug({},t,{payload:n})))},yI={},wI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(wI);var kI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(kI);var qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(qk);var SI={},vx={},NI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(NI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(vx);var CI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(CI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx,n=CI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(SI);var jI={},AI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=px;function n(r){return function(i){return t.get(i,r)}}e.property=n})(AI);var PI={},Kk={},DI={},Gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Gk);var Yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Yk);var Xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Xk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk,n=Yk,r=Xk;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,x,b,v,w,y){const N=h(p,x,b,v,w,y);return N!==void 0?!!N:a(p,x,m,y)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const b=p[x];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const b=d.get(p);if(h(b,x,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const b=f[x];let v=!1;for(let w=0;w<d.length;w++){if(p.has(w))continue;const y=d[w];let N=!1;if(h(y,b,x,d,f,m)&&(N=!0),N){p.add(w),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(DI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DI;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Kk);var TI={},Qk={},MI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(MI);var bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(bx);var Zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",b="[object Uint8Array]",v="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",I="[object BigInt64Array]",R="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=A,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=y,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=v})(Zk);var EI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MI,n=bx,r=Zk,i=Yk,a=EI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let v=0;v<d.length;v++)b[v]=o(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[v,w]of d)b.set(v,o(w,v,h,m,p));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const v of d)b.add(o(v,void 0,h,m,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let v=0;v<d.length;v++)b[v]=o(d[v],v,h,m,p);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,h,m,p),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,h,m,p),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,h,m,p),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,h,m,p),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,h,m,p),b}return d}function l(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<x.length;b++){const v=x[b],w=Object.getOwnPropertyDescriptor(d,v);(w==null||w.writable)&&(d[v]=o(f[v],v,h,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Qk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(TI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,n=TI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(PI);var OI={},II={},_I={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qk,n=bx,r=Zk;function i(a,s){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=s==null?void 0:s(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,u,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(_I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_I;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(II);var LI={},Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Jk);var $I={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bx;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})($I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk,n=Jk,r=$I,i=xx;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(LI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,n=gx,r=II,i=px,a=LI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(OI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk,n=AI,r=PI,i=OI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(jI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI,n=kI,r=qk,i=SI,a=jI;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(yI);var d9=yI.uniqBy;const Aj=_s(d9);function FI(e,t,n){return t===!0?Aj(e,n):typeof t=="function"?Aj(e,t):e}var RI={exports:{}},BI={},zI={exports:{}},UI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=g;function f9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m9=typeof Object.is=="function"?Object.is:f9,h9=yd.useState,p9=yd.useEffect,g9=yd.useLayoutEffect,x9=yd.useDebugValue;function v9(e,t){var n=t(),r=h9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return g9(function(){i.value=n,i.getSnapshot=t,ab(i)&&a({inst:i})},[e,n,t]),p9(function(){return ab(i)&&a({inst:i}),e(function(){ab(i)&&a({inst:i})})},[e]),x9(n),n}function ab(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!m9(e,n)}catch{return!0}}function b9(e,t){return t()}var y9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b9:v9;UI.useSyncExternalStore=yd.useSyncExternalStore!==void 0?yd.useSyncExternalStore:y9;zI.exports=UI;var w9=zI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=g,k9=w9;function S9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N9=typeof Object.is=="function"?Object.is:S9,C9=k9.useSyncExternalStore,j9=yx.useRef,A9=yx.useEffect,P9=yx.useMemo,D9=yx.useDebugValue;BI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=j9(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=P9(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,N9(d,m))return p;var x=r(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=C9(e,a[0],a[1]);return A9(function(){s.hasValue=!0,s.value=o},[o]),D9(o),o};RI.exports=BI;var T9=RI.exports,eS=g.createContext(null),M9=e=>e,Jn=()=>{var e=g.useContext(eS);return e?e.store.dispatch:M9},Jp=()=>{},E9=()=>Jp,O9=(e,t)=>e===t;function Ot(e){var t=g.useContext(eS);return T9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:E9,t?t.store.getState:Jp,t?t.store.getState:Jp,t?e:Jp,O9)}function I9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function L9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Pj=e=>Array.isArray(e)?e:[e];function $9(e){const t=Array.isArray(e[0])?e[0]:e;return L9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function F9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var R9=class{constructor(e){this.value=e}deref(){return this.value}},B9=typeof WeakRef<"u"?WeakRef:R9,z9=0,Dj=1;function pp(){return{s:z9,v:void 0,o:null,p:null}}function WI(e,t={}){let n=pp();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const b=x.get(p);b===void 0?(o=pp(),x.set(p,o)):o=b}else{let x=o.p;x===null&&(o.p=x=new Map);const b=x.get(p);b===void 0?(o=pp(),x.set(p,o)):o=b}}const u=o;let d;if(o.s===Dj)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new B9(d):d}return u.s=Dj,u.v=d,d}return s.clearCache=()=>{n=pp(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function U9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),I9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=WI,argsMemoizeOptions:p=[]}=d,x=Pj(h),b=Pj(p),v=$9(i),w=f(function(){return a++,u.apply(null,arguments)},...x),y=m(function(){s++;const j=F9(v,arguments);return o=w.apply(null,j),o},...b);return Object.assign(y,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Ae=U9(WI),W9=Object.assign((e,t=Ae)=>{_9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>W9}),VI={},HI={},qI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(qI);var KI={},tS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(tS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(KI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qI,n=KI,r=xx;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let x=m;for(let b=0;b<p.length&&x!=null;++b)x=x[p[b]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const b=t.compareValues(m.criteria[x],p.criteria[x],o[x]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(HI);var GI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(GI);var nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk,n=vx,r=Gk,i=Xk;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(nS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HI,n=GI,r=nS;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(VI);var V9=VI.sortBy;const wx=_s(V9);var YI=e=>e.legend.settings,H9=e=>e.legend.size,q9=e=>e.legend.payload,K9=Ae([q9,YI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?wx(r,n):r});function G9(){return Ot(K9)}var gp=1;function XI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>gp||Math.abs(s.left-t.left)>gp||Math.abs(s.top-t.top)>gp||Math.abs(s.width-t.width)>gp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Di(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Y9=typeof Symbol=="function"&&Symbol.observable||"@@observable",Tj=Y9,sb=()=>Math.random().toString(36).substring(7).split("").join("."),X9={INIT:`@@redux/INIT${sb()}`,REPLACE:`@@redux/REPLACE${sb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sb()}`},Wg=X9;function rS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QI(e,t,n){if(typeof e!="function")throw new Error(Di(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Di(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Di(1));return n(QI)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((b,v)=>{s.set(v,b)}))}function d(){if(l)throw new Error(Di(3));return i}function f(b){if(typeof b!="function")throw new Error(Di(4));if(l)throw new Error(Di(5));let v=!0;u();const w=o++;return s.set(w,b),function(){if(v){if(l)throw new Error(Di(6));v=!1,u(),s.delete(w),a=null}}}function h(b){if(!rS(b))throw new Error(Di(7));if(typeof b.type>"u")throw new Error(Di(8));if(typeof b.type!="string")throw new Error(Di(17));if(l)throw new Error(Di(9));try{l=!0,i=r(i,b)}finally{l=!1}return(a=s).forEach(w=>{w()}),b}function m(b){if(typeof b!="function")throw new Error(Di(10));r=b,h({type:Wg.REPLACE})}function p(){const b=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Di(11));function w(){const N=v;N.next&&N.next(d())}return w(),{unsubscribe:b(w)}},[Tj](){return this}}}return h({type:Wg.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Tj]:p}}function Q9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Wg.INIT})>"u")throw new Error(Di(12));if(typeof n(void 0,{type:Wg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Di(13))})}function ZI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{Q9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Di(14));u[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Vg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Z9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Di(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Vg(...o)(i.dispatch),{...i,dispatch:a}}}function JI(e){return rS(e)&&"type"in e&&typeof e.type=="string"}var e_=Symbol.for("immer-nothing"),Mj=Symbol.for("immer-draftable"),ra=Symbol.for("immer-state");function ys(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ea=Object,wd=Ea.getPrototypeOf,Hg="constructor",kx="prototype",cw="configurable",qg="enumerable",eg="writable",ym="value",Vo=e=>!!e&&!!e[ra];function Ds(e){var t;return e?t_(e)||Nx(e)||!!e[Mj]||!!((t=e[Hg])!=null&&t[Mj])||Cx(e)||jx(e):!1}var J9=Ea[kx][Hg].toString(),Ej=new WeakMap;function t_(e){if(!e||!iS(e))return!1;const t=wd(e);if(t===null||t===Ea[kx])return!0;const n=Ea.hasOwnProperty.call(t,Hg)&&t[Hg];if(n===Object)return!0;if(!_u(n))return!1;let r=Ej.get(n);return r===void 0&&(r=Function.toString.call(n),Ej.set(n,r)),r===J9}function Sx(e,t,n=!0){Km(e)===0?(n?Reflect.ownKeys(e):Ea.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Km(e){const t=e[ra];return t?t.type_:Nx(e)?1:Cx(e)?2:jx(e)?3:0}var Oj=(e,t,n=Km(e))=>n===2?e.has(t):Ea[kx].hasOwnProperty.call(e,t),uw=(e,t,n=Km(e))=>n===2?e.get(t):e[t],Kg=(e,t,n,r=Km(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function eH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Nx=Array.isArray,Cx=e=>e instanceof Map,jx=e=>e instanceof Set,iS=e=>typeof e=="object",_u=e=>typeof e=="function",ob=e=>typeof e=="boolean";function tH(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Co=e=>e.copy_||e.base_,aS=e=>e.modified_?e.copy_:e.base_;function dw(e,t){if(Cx(e))return new Map(e);if(jx(e))return new Set(e);if(Nx(e))return Array[kx].slice.call(e);const n=t_(e);if(t===!0||t==="class_only"&&!n){const r=Ea.getOwnPropertyDescriptors(e);delete r[ra];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[eg]===!1&&(o[eg]=!0,o[cw]=!0),(o.get||o.set)&&(r[s]={[cw]:!0,[eg]:!0,[qg]:o[qg],[ym]:e[s]})}return Ea.create(wd(e),r)}else{const r=wd(e);if(r!==null&&n)return{...e};const i=Ea.create(r);return Ea.assign(i,e)}}function sS(e,t=!1){return Ax(e)||Vo(e)||!Ds(e)||(Km(e)>1&&Ea.defineProperties(e,{set:xp,add:xp,clear:xp,delete:xp}),Ea.freeze(e),t&&Sx(e,(n,r)=>{sS(r,!0)},!1)),e}function nH(){ys(2)}var xp={[ym]:nH};function Ax(e){return e===null||!iS(e)?!0:Ea.isFrozen(e)}var Gg="MapSet",fw="Patches",Ij="ArrayMethods",n_={};function eu(e){const t=n_[e];return t||ys(0,e),t}var _j=e=>!!n_[e],wm,r_=()=>wm,rH=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_j(Gg)?eu(Gg):void 0,arrayMethodsPlugin_:_j(Ij)?eu(Ij):void 0});function Lj(e,t){t&&(e.patchPlugin_=eu(fw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mw(e){hw(e),e.drafts_.forEach(iH),e.drafts_=null}function hw(e){e===wm&&(wm=e.parent_)}var $j=e=>wm=rH(wm,e);function iH(e){const t=e[ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Fj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ra].modified_&&(mw(t),ys(4)),Ds(e)&&(e=Rj(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ra].base_,e,t)}else e=Rj(t,n);return aH(t,e,!0),mw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==e_?e:void 0}function Rj(e,t){if(Ax(t))return t;const n=t[ra];if(!n)return Yg(t,e.handledSet_,e);if(!Px(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);s_(n,e)}return n.copy_}function aH(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sS(t,n)}function i_(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Px=(e,t)=>e.scope_===t,sH=[];function a_(e,t,n,r){const i=Co(e),a=e.type_;if(r!==void 0&&uw(i,r,a)===t){Kg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Sx(i,(l,u)=>{if(Vo(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const s=e.draftLocations_.get(t)??sH;for(const o of s)Kg(i,o,n,a)}function oH(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Px(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=aS(a);a_(e,a.draft_??a,s,n),s_(a,i)})}function s_(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}i_(e)}}function lH(e,t,n){const{scope_:r}=e;if(Vo(n)){const i=n[ra];Px(i,r)&&i.callbacks_.push(function(){tg(e);const s=aS(i);a_(e,n,s,t)})}else Ds(n)&&e.callbacks_.push(function(){const a=Co(e);e.type_===3?a.has(n)&&Yg(n,r.handledSet_,r):uw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yg(uw(e.copy_,t,e.type_),r.handledSet_,r)})}function Yg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vo(e)||t.has(e)||!Ds(e)||Ax(e)||(t.add(e),Sx(e,(r,i)=>{if(Vo(i)){const a=i[ra];if(Px(a,n)){const s=aS(a);Kg(e,r,s,e.type_),i_(a)}}else Ds(i)&&Yg(i,t,n)})),e}function cH(e,t){const n=Nx(e),r={type_:n?1:0,scope_:t?t.scope_:r_(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Xg;n&&(i=[r],a=km);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Xg={get(e,t){if(t===ra)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Co(e);if(!Oj(i,t,e.type_))return uH(e,i,t);const a=i[t];if(e.finalized_||!Ds(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&tH(t))return a;if(a===lb(e.base_,t)){tg(e);const s=e.type_===1?+t:t,o=gw(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Co(e)},ownKeys(e){return Reflect.ownKeys(Co(e))},set(e,t,n){const r=o_(Co(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lb(Co(e),t),a=i==null?void 0:i[ra];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(eH(n,i)&&(n!==void 0||Oj(e.base_,t,e.type_)))return!0;tg(e),pw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),lH(e,t,n)),!0},deleteProperty(e,t){return tg(e),lb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Co(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[eg]:!0,[cw]:e.type_!==1||t!=="length",[qg]:r[qg],[ym]:n[t]}},defineProperty(){ys(11)},getPrototypeOf(e){return wd(e.base_)},setPrototypeOf(){ys(12)}},km={};for(let e in Xg){let t=Xg[e];km[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}km.deleteProperty=function(e,t){return km.set.call(this,e,t,void 0)};km.set=function(e,t,n){return Xg.set.call(this,e[0],t,n,e[0])};function lb(e,t){const n=e[ra];return(n?Co(n):e)[t]}function uH(e,t,n){var i;const r=o_(t,n);return r?ym in r?r[ym]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function o_(e,t){if(!(t in e))return;let n=wd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=wd(n)}}function pw(e){e.modified_||(e.modified_=!0,e.parent_&&pw(e.parent_))}function tg(e){e.copy_||(e.assigned_=new Map,e.copy_=dw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(_u(n)&&!_u(r)){const s=r;r=n;const o=this;return function(u=s,...d){return o.produce(u,f=>r.call(this,f,...d))}}_u(r)||ys(6),i!==void 0&&!_u(i)&&ys(7);let a;if(Ds(n)){const s=$j(this),o=gw(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?mw(s):hw(s)}return Lj(s,i),Fj(a,s)}else if(!n||!iS(n)){if(a=r(n),a===void 0&&(a=n),a===e_&&(a=void 0),this.autoFreeze_&&sS(a,!0),i){const s=[],o=[];eu(fw).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ys(1,n)},this.produceWithPatches=(n,r)=>{if(_u(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},ob(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ob(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ob(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ds(t)||ys(8),Vo(t)&&(t=Cs(t));const n=$j(this),r=gw(n,t,void 0);return r[ra].isManual_=!0,hw(n),r}finishDraft(t,n){const r=t&&t[ra];(!r||!r.isManual_)&&ys(9);const{scope_:i}=r;return Lj(i,n),Fj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=eu(fw).applyPatches_;return Vo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function gw(e,t,n,r){const[i,a]=Cx(t)?eu(Gg).proxyMap_(t,n):jx(t)?eu(Gg).proxySet_(t,n):cH(t,n);return((n==null?void 0:n.scope_)??r_()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?oH(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Cs(e){return Vo(e)||ys(10,e),l_(e)}function l_(e){if(!Ds(e)||Ax(e))return e;const t=e[ra];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=dw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=dw(e,!0);return Sx(n,(i,a)=>{Kg(n,i,l_(a))},r),t&&(t.finalized_=!1),n}var fH=new dH,c_=fH.produce;function u_(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var mH=u_(),hH=u_,pH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vg:Vg.apply(null,arguments)};function os(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(_a(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>JI(r)&&r.type===e,n}var d_=class Df extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Df.prototype)}static get[Symbol.species](){return Df}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Df(...t[0].concat(this)):new Df(...t.concat(this))}};function Bj(e){return Ds(e)?c_(e,()=>{}):e}function vp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function gH(e){return typeof e=="boolean"}var xH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new d_;return n&&(gH(n)?s.push(mH):s.push(hH(n.extraArgument))),s},f_="RTK_autoBatch",vr=()=>e=>({payload:e,meta:{[f_]:!0}}),zj=e=>t=>{setTimeout(t,e)},m_=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zj(10):e.type==="callback"?e.queueNotification:zj(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[f_]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},vH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new d_(e);return r&&i.push(m_(typeof r=="object"?r:void 0)),i};function bH(e){const t=xH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(rS(n))o=ZI(n);else throw new Error(_a(1));let l;typeof r=="function"?l=r(t):l=t();let u=Vg;i&&(u=pH({trace:!1,...typeof i=="object"&&i}));const d=Z9(...l),f=vH(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return QI(o,a,m)}function h_(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(_a(28));if(o in t)throw new Error(_a(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function yH(e){return typeof e=="function"}function wH(e,t){let[n,r,i]=h_(t),a;if(yH(e))a=()=>Bj(e());else{const o=Bj(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Vo(d)){const m=f(d,l);return m===void 0?d:m}else{if(Ds(d))return c_(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var kH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SH=(e=21)=>{let t="",n=e;for(;n--;)t+=kH[Math.random()*64|0];return t},NH=Symbol.for("rtk-slice-createasyncthunk");function CH(e,t){return`${e}/${t}`}function jH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[NH];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(_a(11));const o=(typeof i.reducers=="function"?i.reducers(PH()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,j){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(_a(12));if(S in u.sliceCaseReducersByType)throw new Error(_a(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(N,j){return u.sliceMatchers.push({matcher:N,reducer:j}),d},exposeAction(N,j){return u.actionCreators[N]=j,d},exposeCaseReducer(N,j){return u.sliceCaseReducersByName[N]=j,d}};l.forEach(N=>{const j=o[N],S={reducerName:N,type:CH(a,N),createNotation:typeof i.reducers=="function"};TH(j)?EH(S,j,d,t):DH(S,j,d)});function f(){const[N={},j=[],S=void 0]=typeof i.extraReducers=="function"?h_(i.extraReducers):[i.extraReducers],A={...N,...u.sliceCaseReducersByType};return wH(i.initialState,I=>{for(let R in A)I.addCase(R,A[R]);for(let R of u.sliceMatchers)I.addMatcher(R.matcher,R.reducer);for(let R of j)I.addMatcher(R.matcher,R.reducer);S&&I.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let x;function b(N,j){return x||(x=f()),x(N,j)}function v(){return x||(x=f()),x.getInitialState()}function w(N,j=!1){function S(I){let R=I[N];return typeof R>"u"&&j&&(R=vp(p,S,v)),R}function A(I=h){const R=vp(m,j,()=>new WeakMap);return vp(R,I,()=>{const T={};for(const[L,_]of Object.entries(i.selectors??{}))T[L]=AH(_,I,()=>vp(p,I,v),j);return T})}return{reducerPath:N,getSelectors:A,get selectors(){return A(S)},selectSlice:S}}const y={name:a,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...w(s),injectInto(N,{reducerPath:j,...S}={}){const A=j??s;return N.inject({reducerPath:A,reducer:b},S),{...y,...w(A,!0)}}};return y}}function AH(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var va=jH();function PH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function DH({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!MH(r))throw new Error(_a(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?os(e,s):os(e))}function TH(e){return e._reducerDefinitionType==="asyncThunk"}function MH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function EH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(_a(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||bp,pending:o||bp,rejected:l||bp,settled:u||bp})}function bp(){}var OH="task",p_="listener",g_="completed",oS="cancelled",IH=`task-${oS}`,_H=`task-${g_}`,xw=`${p_}-${oS}`,LH=`${p_}-${g_}`,Dx=class{constructor(e){Dv(this,"name","TaskAbortError");Dv(this,"message");this.code=e,this.message=`${OH} ${oS} (reason: ${e})`}},lS=(e,t)=>{if(typeof e!="function")throw new TypeError(_a(32))},Qg=()=>{},x_=(e,t=Qg)=>(e.catch(t),e),v_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Uc=e=>{if(e.aborted)throw new Dx(e.reason)};function b_(e,t){let n=Qg;return new Promise((r,i)=>{const a=()=>i(new Dx(e.reason));if(e.aborted){a();return}n=v_(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Qg})}var $H=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Dx?"cancelled":"rejected",error:n}}finally{t==null||t()}},Zg=e=>t=>x_(b_(e,t).then(n=>(Uc(e),n))),y_=e=>{const t=Zg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:od}=Object,Uj={},Tx="listenerMiddleware",FH=(e,t)=>{const n=r=>v_(e,()=>r.abort(e.reason));return(r,i)=>{lS(r);const a=new AbortController;n(a);const s=$H(async()=>{Uc(e),Uc(a.signal);const o=await r({pause:Zg(a.signal),delay:y_(a.signal),signal:a.signal});return Uc(a.signal),o},()=>a.abort(_H));return i!=null&&i.autoJoin&&t.push(s.catch(Qg)),{result:Zg(e)(s),cancel(){a.abort(IH)}}}},RH=(e,t)=>{const n=async(r,i)=>{Uc(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await b_(t,Promise.race(o));return Uc(t),l}finally{a()}};return(r,i)=>x_(n(r,i))},w_=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=os(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_a(21));return lS(a),{predicate:i,type:t,effect:a}},k_=od(e=>{const{type:t,predicate:n,effect:r}=w_(e);return{id:SH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_a(22))}}},{withTypes:()=>k_}),Wj=(e,t)=>{const{type:n,effect:r,predicate:i}=w_(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},vw=e=>{e.pending.forEach(t=>{t.abort(xw)})},BH=(e,t)=>()=>{for(const n of t.keys())vw(n);e.clear()},Vj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},S_=od(os(`${Tx}/add`),{withTypes:()=>S_}),zH=os(`${Tx}/removeAll`),N_=od(os(`${Tx}/remove`),{withTypes:()=>N_}),UH=(...e)=>{console.error(`${Tx}/error`,...e)},Gm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=UH}=e;lS(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&vw(m)}),l=m=>{const p=Wj(t,m)??k_(m);return o(p)};od(l,{withTypes:()=>l});const u=m=>{const p=Wj(t,m);return p&&(p.unsubscribe(),m.cancelActive&&vw(p)),!!p};od(u,{withTypes:()=>u});const d=async(m,p,x,b)=>{const v=new AbortController,w=RH(l,v.signal),y=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(p,od({},x,{getOriginalState:b,condition:(N,j)=>w(N,j).then(Boolean),take:w,delay:y_(v.signal),pause:Zg(v.signal),extra:a,signal:v.signal,fork:FH(v.signal,y),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,j,S)=>{N!==v&&(N.abort(xw),S.delete(N))})},cancel:()=>{v.abort(xw),m.pending.delete(v)},throwIfCancelled:()=>{Uc(v.signal)}})))}catch(N){N instanceof Dx||Vj(s,N,{raisedBy:"effect"})}finally{await Promise.all(y),v.abort(LH),i(m),m.pending.delete(v)}},f=BH(t,n);return{middleware:m=>p=>x=>{if(!JI(x))return p(x);if(S_.match(x))return l(x.payload);if(zH.match(x)){f();return}if(N_.match(x))return u(x.payload);let b=m.getState();const v=()=>{if(b===Uj)throw new Error(_a(23));return b};let w;try{if(w=p(x),t.size>0){const y=m.getState(),N=Array.from(t.values());for(const j of N){let S=!1;try{S=j.predicate(x,y,b)}catch(A){S=!1,Vj(s,A,{raisedBy:"predicate"})}S&&d(j,x,m,v)}}}finally{b=Uj}return w},startListening:l,stopListening:u,clearListeners:f}};function _a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},C_=va({name:"chartLayout",initialState:WH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:VH,setLayout:HH,setChartSize:qH,setScale:KH}=C_.actions,GH=C_.reducer;function j_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function yr(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(n),!0).forEach(function(r){YH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t,n){return(t=XH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hr(e,t,n){return ai(e)||ai(t)?n:ss(t)?Jc(e,t,n):typeof t=="function"?t(e):n}var ZH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ut(e[a]))return Yu(Yu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ut(e[s]))return Yu(Yu({},e),{},{[s]:e[s]+(i||0)})}return e},rc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",A_=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},P_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(x=m==="angleAxis"&&a&&a.length>=2?Vi(a[0]-a[1])*2*x:x,f||h){var b=(f||h||[]).map((v,w)=>{var y=r?r.indexOf(v):v;return{coordinate:s(y)+x,value:v,offset:x,index:w}});return b.filter(v=>!as(v.coordinate))}return l&&u?u.map((v,w)=>({coordinate:s(v)+x,value:v,index:w,offset:x})):s.ticks&&d!=null?s.ticks(d).map((v,w)=>({coordinate:s(v)+x,value:v,offset:x,index:w})):s.domain().map((v,w)=>({coordinate:s(v)+x,value:r?r[v]:v,index:w,offset:x}))},qj=1e-4,JH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-qj,a=Math.max(r[0],r[1])+qj,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},e7=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var d=u[1],f=u[0],h=as(d)?f:d;h>=0?(u[0]=a,u[1]=a+h,a=d):(u[0]=s,u[1]=s+h,s=d)}}}},t7=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=as(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},n7={sign:e7,expand:_V,none:Zc,silhouette:LV,wiggle:$V,positive:t7},r7=(e,t,n)=>{var r,i=(r=n7[n])!==null&&r!==void 0?r:Zc,a=IV().keys(t).value((o,l)=>Number(hr(o,l,0))).order(ow).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,d)=>{var f=hr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Ut(f[0])&&Ut(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function Kj(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ai(i[t.dataKey])){var o=xI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=hr(i,ai(s)?t.dataKey:s);return ai(l)?null:t.scale(l)}var i7=e=>{var t=e.flat(2).filter(Ut);return[Math.min(...t),Math.max(...t)]},a7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],s7=(e,t,n)=>{if(e!=null)return a7(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var d=j_(u,t,n),f=i7(d);return!yr(f[0])||!yr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},Gj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=wx(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function Xj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Yu(Yu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Mx(e,t){if(e)return String(e);if(typeof t=="string")return t}var o7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},l7=(e,t)=>t==="centric"?e.angle:e.radius,el=e=>e.layout.width,tl=e=>e.layout.height,c7=e=>e.layout.scale,D_=e=>e.layout.margin,Ex=Ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ox=Ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),T_="data-recharts-item-index",M_="data-recharts-item-id",Ym=60;function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){u7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u7(e,t,n){return(t=d7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7=e=>e.brush.height;function h7(e){var t=Ox(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ym;return n+i}return n},0)}function p7(e){var t=Ox(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ym;return n+i}return n},0)}function g7(e){var t=Ex(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function x7(e){var t=Ex(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Si=Ae([el,tl,D_,m7,h7,p7,g7,x7,YI,H9],(e,t,n,r,i,a,s,o,l,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=yp(yp({},f),d),m=h.bottom;h.bottom+=r,h=ZH(h,l,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return yp(yp({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),v7=Ae(Si,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),E_=Ae(el,tl,(e,t)=>({x:0,y:0,width:e,height:t})),b7=g.createContext(null),sa=()=>g.useContext(b7)!=null,Ix=e=>e.brush,_x=Ae([Ix,Si,D_],(e,t,n)=>({height:e.height,x:Ut(e.x)?e.x:t.left,y:Ut(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ut(e.width)?e.width:t.width})),O_={},I_={},__={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),s=void 0,o=null},b=()=>{d()},v=function(...w){if(i!=null&&i.aborted)return;s=this,o=w;const y=h==null;m(),l&&y&&d()};return v.schedule=m,v.cancel=x,v.flush=b,i==null||i.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(__);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=__;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=r.apply(this,x),f=null},i,{edges:u}),m=function(...x){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(I_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I_;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(O_);var y7=O_.throttle;const w7=_s(y7);var e0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},L_=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Wo(r)?e:Number(r),l=Wo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},k7={width:0,height:0,overflow:"visible"},S7={width:0,overflowX:"visible"},N7={height:0,overflowY:"visible"},C7={},j7=e=>{var{width:t,height:n}=e,r=Wo(t),i=Wo(n);return r&&i?k7:r?S7:i?N7:C7};function A7(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bw.apply(null,arguments)}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return(t=D7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $_=g.createContext({width:-1,height:-1});function M7(e){return io(e.width)&&io(e.height)}function F_(e){var{children:t,width:n,height:r}=e,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return M7(i)?g.createElement($_.Provider,{value:i},t):null}var cS=()=>g.useContext($_),E7=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=g.useRef(null),b=g.useRef();b.current=m,g.useImperativeHandle(t,()=>x.current);var[v,w]=g.useState({containerWidth:r.width,containerHeight:r.height}),y=g.useCallback((I,R)=>{w(T=>{var L=Math.round(I),_=Math.round(R);return T.containerWidth===L&&T.containerHeight===_?T:{containerWidth:L,containerHeight:_}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return qm;var I=_=>{var G,{width:ee,height:le}=_[0].contentRect;y(ee,le),(G=b.current)===null||G===void 0||G.call(b,ee,le)};d>0&&(I=w7(I,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),{width:T,height:L}=x.current.getBoundingClientRect();return y(T,L),R.observe(x.current),()=>{R.disconnect()}},[y,d]);var{containerWidth:N,containerHeight:j}=v;e0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:S,calculatedHeight:A}=L_(N,j,{width:i,height:a,aspect:n,maxHeight:l});return e0(S!=null&&S>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,A,i,a,s,o,n),g.createElement("div",{id:f?"".concat(f):void 0,className:_n("recharts-responsive-container",h),style:Jj(Jj({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:x},g.createElement("div",{style:j7({width:i,height:a})},g.createElement(F_,{width:S,height:A},u)))}),Ts=g.forwardRef((e,t)=>{var n=cS();if(io(n.width)&&io(n.height))return e.children;var{width:r,height:i}=A7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=L_(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ut(a)&&Ut(s)?g.createElement(F_,{width:a,height:s},e.children):g.createElement(E7,bw({},e,{width:r,height:i,ref:t}))});function R_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Xm=()=>{var e,t=sa(),n=Ot(v7),r=Ot(_x),i=(e=Ot(Ix))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},O7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B_=()=>{var e;return(e=Ot(Si))!==null&&e!==void 0?e:O7},uS=()=>Ot(el),dS=()=>Ot(tl),I7=()=>Ot(e=>e.layout.margin),Yn=e=>e.layout.layoutType,Qm=()=>Ot(Yn),_7=()=>{var e=Qm();return e!==void 0},Lx=e=>{var t=Jn(),n=sa(),{width:r,height:i}=e,a=cS(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&io(s)&&io(o)&&t(qH({width:s,height:o}))},[t,n,s,o]),null},z_=Symbol.for("immer-nothing"),eA=Symbol.for("immer-draftable"),Fa=Symbol.for("immer-state");function ws(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sm=Object.getPrototypeOf;function kd(e){return!!e&&!!e[Fa]}function tu(e){var t;return e?U_(e)||Array.isArray(e)||!!e[eA]||!!((t=e.constructor)!=null&&t[eA])||Zm(e)||Fx(e):!1}var L7=Object.prototype.constructor.toString(),tA=new WeakMap;function U_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tA.get(n);return r===void 0&&(r=Function.toString.call(n),tA.set(n,r)),r===L7}function t0(e,t,n=!0){$x(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function $x(e){const t=e[Fa];return t?t.type_:Array.isArray(e)?1:Zm(e)?2:Fx(e)?3:0}function yw(e,t){return $x(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function W_(e,t,n){const r=$x(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function $7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zm(e){return e instanceof Map}function Fx(e){return e instanceof Set}function Nc(e){return e.copy_||e.base_}function ww(e,t){if(Zm(e))return new Map(e);if(Fx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=U_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Fa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Sm(e),r)}else{const r=Sm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function fS(e,t=!1){return Rx(e)||kd(e)||!tu(e)||($x(e)>1&&Object.defineProperties(e,{set:wp,add:wp,clear:wp,delete:wp}),Object.freeze(e),t&&Object.values(e).forEach(n=>fS(n,!0))),e}function F7(){ws(2)}var wp={value:F7};function Rx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var R7={};function nu(e){const t=R7[e];return t||ws(0,e),t}var Nm;function V_(){return Nm}function B7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nA(e,t){t&&(nu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kw(e){Sw(e),e.drafts_.forEach(z7),e.drafts_=null}function Sw(e){e===Nm&&(Nm=e.parent_)}function rA(e){return Nm=B7(Nm,e)}function z7(e){const t=e[Fa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Fa].modified_&&(kw(t),ws(4)),tu(e)&&(e=n0(t,e),t.parent_||r0(t,e)),t.patches_&&nu("Patches").generateReplacementPatches_(n[Fa].base_,e,t.patches_,t.inversePatches_)):e=n0(t,n,[]),kw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==z_?e:void 0}function n0(e,t,n){if(Rx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Fa];if(!i)return t0(t,(a,s)=>aA(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return r0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),t0(s,(l,u)=>aA(e,i,a,l,u,n,o),r),r0(e,a,!1),n&&e.patches_&&nu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function aA(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Rx(i);if(!(o&&!s)){if(kd(i)){const l=a&&t&&t.type_!==3&&!yw(t.assigned_,r)?a.concat(r):void 0,u=n0(e,i,l);if(W_(n,r,u),kd(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(tu(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;n0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Zm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&r0(e,i)}}}function r0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fS(t,n)}function U7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:V_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=mS;n&&(i=[r],a=Cm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var mS={get(e,t){if(t===Fa)return e;const n=Nc(e);if(!yw(n,t))return W7(e,n,t);const r=n[t];return e.finalized_||!tu(r)?r:r===cb(e.base_,t)?(ub(e),e.copy_[t]=Cw(r,e)):r},has(e,t){return t in Nc(e)},ownKeys(e){return Reflect.ownKeys(Nc(e))},set(e,t,n){const r=H_(Nc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cb(Nc(e),t),a=i==null?void 0:i[Fa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if($7(n,i)&&(n!==void 0||yw(e.base_,t)))return!0;ub(e),Nw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ub(e),Nw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Nc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ws(11)},getPrototypeOf(e){return Sm(e.base_)},setPrototypeOf(){ws(12)}},Cm={};t0(mS,(e,t)=>{Cm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Cm.deleteProperty=function(e,t){return Cm.set.call(this,e,t,void 0)};Cm.set=function(e,t,n){return mS.set.call(this,e[0],t,n,e[0])};function cb(e,t){const n=e[Fa];return(n?Nc(n):e)[t]}function W7(e,t,n){var i;const r=H_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function H_(e,t){if(!(t in e))return;let n=Sm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Sm(n)}}function Nw(e){e.modified_||(e.modified_=!0,e.parent_&&Nw(e.parent_))}function ub(e){e.copy_||(e.copy_=ww(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var V7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&ws(6),r!==void 0&&typeof r!="function"&&ws(7);let i;if(tu(t)){const a=rA(this),s=Cw(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?kw(a):Sw(a)}return nA(a,r),iA(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===z_&&(i=void 0),this.autoFreeze_&&fS(i,!0),r){const a=[],s=[];nu("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else ws(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){tu(e)||ws(8),kd(e)&&(e=H7(e));const t=rA(this),n=Cw(e,void 0);return n[Fa].isManual_=!0,Sw(t),n}finishDraft(e,t){const n=e&&e[Fa];(!n||!n.isManual_)&&ws(9);const{scope_:r}=n;return nA(r,t),iA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=nu("Patches").applyPatches_;return kd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Cw(e,t){const n=Zm(e)?nu("MapSet").proxyMap_(e,t):Fx(e)?nu("MapSet").proxySet_(e,t):U7(e,t);return(t?t.scope_:V_()).drafts_.push(n),n}function H7(e){return kd(e)||ws(10,e),q_(e)}function q_(e){if(!tu(e)||Rx(e))return e;const t=e[Fa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ww(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ww(e,!0);return t0(n,(i,a)=>{W_(n,i,q_(a))},r),t&&(t.finalized_=!1),n}var q7=new V7;q7.produce;var K7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},K_=va({name:"legend",initialState:K7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:vr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:vr()},removeLegendPayload:{reducer(e,t){var n=Cs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:vr()}}}),{setLegendSize:sA,setLegendSettings:G7,addLegendPayload:G_,replaceLegendPayload:Y_,removeLegendPayload:X_}=K_.actions,Y7=K_.reducer,X7=["contextPayload"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){Q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7(e,t,n){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t){if(e==null)return{};var n,r,i=tq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nq(e){return e.value}function rq(e){var{contextPayload:t}=e,n=eq(e,X7),r=FI(t,e.payloadUniqBy,nq),i=Sd(Sd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement(u9,i)}function iq(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Sd(Sd({},u),d)}function aq(e){var t=Jn();return g.useEffect(()=>{t(G7(e))},[t,e]),null}function sq(e){var t=Jn();return g.useEffect(()=>(t(sA(e)),()=>{t(sA({width:0,height:0}))}),[t,e]),null}function oq(e,t,n,r){return e==="vertical"&&Ut(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var lq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Q_(e){var t=Qr(e,lq),n=G9(),r=iV(),i=I7(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,d]=XI([n]),f=uS(),h=dS();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=oq(t.layout,s,a,m),x=l?o:Sd(Sd({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},iq(o,t,i,f,h,u)),o),b=l??r;if(b==null||n==null)return null;var v=g.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},g.createElement(aq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(sq,{width:u.width,height:u.height}),g.createElement(rq,jw({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Ld.createPortal(v,b)}Q_.displayName="Legend";function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fq(e){return Array.isArray(e)&&ss(e[0])&&ss(e[1])?e.join(" ~ "):e}var mq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var j={padding:0,margin:0},S=(o?wx(a,o):a).map((A,I)=>{if(A.type==="none")return null;var R=A.formatter||s||fq,{value:T,name:L}=A,_=T,G=L;if(R){var ee=R(T,L,A,I,a);if(Array.isArray(ee))[_,G]=ee;else if(ee!=null)_=ee;else return null}var le=db({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:le},ss(G)?g.createElement("span",{className:"recharts-tooltip-item-name"},G):null,ss(G)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},_),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},p=db({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=db({margin:0},i),b=!ai(d),v=b?d:"",w=_n("recharts-default-tooltip",l),y=_n("recharts-tooltip-label",u);b&&f&&a!==void 0&&a!==null&&(v=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Aw({className:w,style:p},N),g.createElement("p",{className:y,style:x},g.isValidElement(v)?v:"".concat(v)),m())},df="recharts-tooltip-wrapper",hq={visibility:"hidden"};function pq(e){var{coordinate:t,translateX:n,translateY:r}=e;return _n(df,{["".concat(df,"-right")]:Ut(n)&&t&&Ut(t.x)&&n>=t.x,["".concat(df,"-left")]:Ut(n)&&t&&Ut(t.x)&&n<t.x,["".concat(df,"-bottom")]:Ut(r)&&t&&Ut(t.y)&&r>=t.y,["".concat(df,"-top")]:Ut(r)&&t&&Ut(t.y)&&r<t.y})}function cA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&Ut(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+o,b=h+u;return x>b?Math.max(d,h):Math.max(f,h)}function gq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function xq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&n?(d=cA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=cA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=gq({translateX:d,translateY:f,useTranslate3d:o})):u=hq,{cssProperties:u,cssClasses:pq({translateX:d,translateY:f,coordinate:n})}}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){Pw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pw(e,t,n){return(t=vq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vq(e){var t=bq(e,"string");return typeof t=="symbol"?t:t+""}function bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yq extends g.PureComponent{constructor(){super(...arguments),Pw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:b,hasPortalFromProps:v}=this.props,{cssClasses:w,cssProperties:y}=xq({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),N=v?{}:kp(kp({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=kp(kp({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:j,ref:b},a)}}var Z_=()=>{var e;return(e=Ot(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wq(e,t,n){return(t=kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mA={curveBasisClosed:SV,curveBasisOpen:NV,curveBasis:kV,curveBumpX:lV,curveBumpY:cV,curveLinearClosed:CV,curveLinear:mx,curveMonotoneX:jV,curveMonotoneY:AV,curveNatural:PV,curveStep:DV,curveStepAfter:MV,curveStepBefore:TV},i0=e=>yr(e.x)&&yr(e.y),hA=e=>e.base!=null&&i0(e.base)&&i0(e),ff=e=>e.x,mf=e=>e.y,Nq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Hm(e));return(n==="curveMonotone"||n==="curveBump")&&t?mA["".concat(n).concat(t==="vertical"?"Y":"X")]:mA[n]||mx},Cq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Nq(t,i),o=a?n.filter(i0):n,l;if(Array.isArray(r)){var u=n.map((m,p)=>fA(fA({},m),{},{base:r[p]}));i==="vertical"?l=hp().y(mf).x1(ff).x0(m=>m.base.x):l=hp().x(ff).y1(mf).y0(m=>m.base.y);var d=l.defined(hA).curve(s),f=a?u.filter(hA):u;return d(f)}i==="vertical"&&Ut(r)?l=hp().y(mf).x1(ff).x0(r):Ut(r)?l=hp().x(ff).y1(mf).y0(r):l=rI().x(ff).y(mf);var h=l.defined(i0).curve(s);return h(o)},hS=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Qm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?Cq(s):r;return g.createElement("path",Dw({},is(e),Vk(e),{className:_n("recharts-curve",t),d:o===null?void 0:o,ref:i}))},jq=["x","y","top","left","width","height","className"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tw.apply(null,arguments)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){Pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pq(e,t,n){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e,t){if(e==null)return{};var n,r,i=Eq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Oq=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Iq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Mq(e,jq),u=Aq({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Ut(t)||!Ut(n)||!Ut(a)||!Ut(s)||!Ut(r)||!Ut(i)?null:g.createElement("path",Tw({},Ki(u),{className:_n("recharts-cross",o),d:Oq(t,n,a,s,r,i)}))};function _q(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){Lq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lq(e,t,n){return(t=$q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $q(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),J_=(e,t,n)=>e.map(r=>"".concat(Rq(r)," ").concat(t,"ms ").concat(n)).join(","),Bq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),jm=(e,t)=>Object.keys(t).reduce((n,r)=>xA(xA({},n),{},{[r]:e(r,t[r])}),{});function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zq(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a0=(e,t,n)=>e+(t-e)*n,Mw=e=>{var{from:t,to:n}=e;return t!==n},e3=(e,t,n)=>{var r=jm((i,a)=>{if(Mw(a)){var[s,o]=e(a.from,a.to,a.velocity);return ri(ri({},a),{},{from:s,velocity:o})}return a},t);return n<1?jm((i,a)=>Mw(a)&&r[i]!=null?ri(ri({},a),{},{velocity:a0(a.velocity,r[i].velocity,n),from:a0(a.from,r[i].from,n)}):a,t):e3(e,r,n-1)};function Vq(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>ri(ri({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>jm((h,m)=>m.from,o),u=()=>!Object.values(o).filter(Mw).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=e3(n,o,p),i(ri(ri(ri({},e),t),l())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Hq(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:ri(ri({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=jm((x,b)=>a0(...b,n(h)),l);if(a(ri(ri(ri({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=jm((x,b)=>a0(...b,n(1)),l);a(ri(ri(ri({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const qq=(e,t,n,r,i,a)=>{var s=Bq(e,t);return n==null?()=>(i(ri(ri({},e),t)),()=>{}):n.isStepper===!0?Vq(e,t,n,s,i,a):Hq(e,t,n,r,s,i,a)};var s0=1e-4,t3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],n3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),bA=(e,t)=>n=>{var r=t3(e,t);return n3(r,n)},Kq=(e,t)=>n=>{var r=t3(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return n3(i,n)},Gq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Yq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Gq(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Xq=(e,t,n,r)=>{var i=bA(e,n),a=bA(t,r),s=Kq(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<s0||p<s0)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},yA=function(){return Xq(...Yq(...arguments))},Qq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,d=l*r,f=l+(u-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<s0&&Math.abs(f)<s0?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},Zq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yA(e);case"spring":return Qq();default:if(e.split("(")[0]==="cubic-bezier")return yA(e)}return typeof e=="function"?e:null};function Jq(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class eK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function tK(){return Jq(new eK)}var nK=g.createContext(tK);function rK(e,t){var n=g.useContext(nK);return g.useMemo(()=>t??n(e),[e,t,n])}var iK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Bx={isSsr:iK()},aK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wA={t:0},fb={t:1};function zx(e){var t=Qr(e,aK),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=n==="auto"?!Bx.isSsr:n,f=rK(t.animationId,t.animationManager),[h,m]=g.useState(d?wA:fb),p=g.useRef(null);return g.useEffect(()=>{d||m(fb)},[d]),g.useEffect(()=>{if(!d||!r)return qm;var x=qq(wA,fb,Zq(a),i,m,f.getTimeoutController()),b=()=>{p.current=x()};return f.start([l,s,b,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),u(h.t)}function Ux(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(bm(t)),r=g.useRef(e);return r.current!==e&&(n.current=bm(t),r.current=e),n.current}var sK=["radius"],oK=["radius"],kA,SA,NA,CA,jA,AA,PA,DA,TA,MA;function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(null,arguments)}function IA(e,t){if(e==null)return{};var n,r,i=dK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _A=(e,t,n,r,i)=>{var a=_l(n),s=_l(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Or(kA||(kA=qs(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Or(SA||(SA=qs(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Or(NA||(NA=qs(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Or(CA||(CA=qs(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Or(jA||(jA=qs(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Or(AA||(AA=qs(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=Or(PA||(PA=qs(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Or(DA||(DA=qs(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);f=Or(TA||(TA=qs(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*x,x,x,d,e+u*x,t,e+n-u*x,t,x,x,d,e+n,t+l*x,e+n,t+r-l*x,x,x,d,e+n-u*x,t+r,e+u*x,t+r,x,x,d,e,t+r-l*x)}else f=Or(MA||(MA=qs(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},LA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r3=e=>{var t=Qr(e,LA),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,b=g.useRef(o),v=g.useRef(l),w=g.useRef(a),y=g.useRef(s),N=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),j=Ux(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var S=_n("recharts-rectangle",d);if(!x){var A=Ki(t),{radius:I}=A,R=IA(A,sK);return g.createElement("path",o0({},R,{x:_l(a),y:_l(s),width:_l(o),height:_l(l),radius:typeof u=="number"?u:void 0,className:S,d:_A(a,s,o,l,u)}))}var T=b.current,L=v.current,_=w.current,G=y.current,ee="0px ".concat(r===-1?1:r,"px"),le="".concat(r,"px 0px"),be=J_(["strokeDasharray"],h,typeof f=="string"?f:LA.animationEasing);return g.createElement(zx,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:x,begin:m},X=>{var q=Wi(T,o,X),K=Wi(L,l,X),E=Wi(_,a,X),D=Wi(G,s,X);n.current&&(b.current=q,v.current=K,w.current=E,y.current=D);var ie;p?X>0?ie={transition:be,strokeDasharray:le}:ie={strokeDasharray:ee}:ie={strokeDasharray:le};var k=Ki(t),{radius:B}=k,V=IA(k,oK);return g.createElement("path",o0({},V,{radius:typeof u=="number"?u:void 0,className:S,d:_A(E,D,q,K,u),ref:n,style:OA(OA({},ie),t.style)}))})};function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=mK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l0=Math.PI/180,pK=e=>e*180/Math.PI,Yr=(e,t,n,r)=>({x:e+Math.cos(-l0*r)*n,y:t+Math.sin(-l0*r)*n}),i3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},xK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=gK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:pK(l),angleInRadian:l}},vK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},bK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},yK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=xK({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=vK(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?FA(FA({},t),{},{radius:i,angle:bK(d,t)}):null};function a3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Yr(t,n,r,i),o=Yr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var RA,BA,zA,UA,WA,VA,HA;function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(null,arguments)}function Oc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wK=(e,t)=>{var n=Vi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Sp=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,d=Math.asin(o/u)/l0,f=l?i:i+a*d,h=Yr(t,n,u,f),m=Yr(t,n,r,f),p=l?i-a*d:i,x=Yr(t,n,u*Math.cos(d*l0),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},s3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=wK(a,s),l=a+o,u=Yr(t,n,i,a),d=Yr(t,n,i,l),f=Or(RA||(RA=Oc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Yr(t,n,r,a),m=Yr(t,n,r,l);f+=Or(BA||(BA=Oc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Or(zA||(zA=Oc(["L ",","," Z"])),t,n);return f},kK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=Vi(u-l),{circleTangency:f,lineTangency:h,theta:m}=Sp({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:x,theta:b}=Sp({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-u):Math.abs(l-u)-m-b;if(v<0)return s?Or(UA||(UA=Oc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):s3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var w=Or(WA||(WA=Oc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(v>180),+(d<0),p.x,p.y,a,a,+(d<0),x.x,x.y);if(r>0){var{circleTangency:y,lineTangency:N,theta:j}=Sp({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:S,lineTangency:A,theta:I}=Sp({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),R=o?Math.abs(l-u):Math.abs(l-u)-j-I;if(R<0&&a===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=Or(VA||(VA=Oc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(d<0),S.x,S.y,r,r,+(R>180),+(d>0),y.x,y.y,a,a,+(d<0),N.x,N.y)}else w+=Or(HA||(HA=Oc(["L",",","Z"])),t,n);return w},SK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},o3=e=>{var t=Qr(e,SK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=_n("recharts-sector",f),m=a-i,p=Ia(s,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=kK({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):x=s3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),g.createElement("path",Ew({},Ki(t),{className:h,d:x}))};function NK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(bI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Yr(r,i,a,o),u=Yr(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return a3(t)}}var l3={},c3={},u3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(u3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(c3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS,n=c3;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(l3);var CK=l3.range;const d3=_s(CK);function Hl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pS(e){let t,n,r;e.length!==2?(t=Hl,n=(o,l)=>Hl(e(o),l),r=(o,l)=>e(o)-l):(t=e===Hl||e===jK?e:AK,n=e,r=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function AK(){return 0}function f3(e){return e===null?NaN:+e}function*PK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const DK=pS(Hl),Jm=DK.right;pS(f3).center;class qA extends Map{constructor(t,n=EK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(KA(this,t))}has(t){return super.has(KA(this,t))}set(t,n){return super.set(TK(this,t),n)}delete(t){return super.delete(MK(this,t))}}function KA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function TK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function MK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function EK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OK(e=Hl){if(e===Hl)return m3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function m3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IK=Math.sqrt(50),_K=Math.sqrt(10),LK=Math.sqrt(2);function c0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=IK?10:a>=_K?5:a>=LK?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?c0(e,t,n*2):[o,l,u]}function Ow(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?c0(t,e,n):c0(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Iw(e,t,n){return t=+t,e=+e,n=+n,c0(e,t,n)[2]}function _w(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Iw(t,e,n):Iw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function GA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function h3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?m3:OK(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),p=Math.min(r,Math.floor(t+(l-u)*f/l+h));h3(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(hf(e,n,t),i(e[r],a)>0&&hf(e,n,r);s<o;){for(hf(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?hf(e,n,o):(++o,hf(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function hf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $K(e,t,n){if(e=Float64Array.from(PK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return YA(e);if(t>=1)return GA(e);var r,i=(r-1)*t,a=Math.floor(i),s=GA(h3(e,a).subarray(0,a+1)),o=YA(e.subarray(a+1));return s+(o-s)*(i-a)}}function FK(e,t,n=f3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function RK(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function cs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lw=Symbol("implicit");function gS(){var e=new qA,t=[],n=[],r=Lw;function i(a){let s=e.get(a);if(s===void 0){if(r!==Lw)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gS(t,n).unknown(r)},cs.apply(i,arguments),i}function xS(){var e=gS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,x=m?r:i;a=(x-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(x-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var b=RK(h).map(function(v){return p+a*v});return n(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xS(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},cs.apply(f(),arguments)}function p3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return p3(t())},e}function BK(){return p3(xS.apply(null,arguments).paddingInner(1))}function vS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function g3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eh(){}var Am=.7,u0=1/Am,ld="\\s*([+-]?\\d+)\\s*",Pm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zK=/^#([0-9a-f]{3,8})$/,UK=new RegExp(`^rgb\\(${ld},${ld},${ld}\\)$`),WK=new RegExp(`^rgb\\(${no},${no},${no}\\)$`),VK=new RegExp(`^rgba\\(${ld},${ld},${ld},${Pm}\\)$`),HK=new RegExp(`^rgba\\(${no},${no},${no},${Pm}\\)$`),qK=new RegExp(`^hsl\\(${Pm},${no},${no}\\)$`),KK=new RegExp(`^hsla\\(${Pm},${no},${no},${Pm}\\)$`),XA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vS(eh,Dm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QA,formatHex:QA,formatHex8:GK,formatHsl:YK,formatRgb:ZA,toString:ZA});function QA(){return this.rgb().formatHex()}function GK(){return this.rgb().formatHex8()}function YK(){return x3(this).formatHsl()}function ZA(){return this.rgb().formatRgb()}function Dm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JA(t):n===3?new fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Np(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Np(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UK.exec(e))?new fa(t[1],t[2],t[3],1):(t=WK.exec(e))?new fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VK.exec(e))?Np(t[1],t[2],t[3],t[4]):(t=HK.exec(e))?Np(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qK.exec(e))?nP(t[1],t[2]/100,t[3]/100,1):(t=KK.exec(e))?nP(t[1],t[2]/100,t[3]/100,t[4]):XA.hasOwnProperty(e)?JA(XA[e]):e==="transparent"?new fa(NaN,NaN,NaN,0):null}function JA(e){return new fa(e>>16&255,e>>8&255,e&255,1)}function Np(e,t,n,r){return r<=0&&(e=t=n=NaN),new fa(e,t,n,r)}function XK(e){return e instanceof eh||(e=Dm(e)),e?(e=e.rgb(),new fa(e.r,e.g,e.b,e.opacity)):new fa}function $w(e,t,n,r){return arguments.length===1?XK(e):new fa(e,t,n,r??1)}function fa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vS(fa,$w,g3(eh,{brighter(e){return e=e==null?u0:Math.pow(u0,e),new fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Am:Math.pow(Am,e),new fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fa(Wc(this.r),Wc(this.g),Wc(this.b),d0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eP,formatHex:eP,formatHex8:QK,formatRgb:tP,toString:tP}));function eP(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}`}function QK(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}${Ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function tP(){const e=d0(this.opacity);return`${e===1?"rgb(":"rgba("}${Wc(this.r)}, ${Wc(this.g)}, ${Wc(this.b)}${e===1?")":`, ${e})`}`}function d0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ic(e){return e=Wc(e),(e<16?"0":"")+e.toString(16)}function nP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ks(e,t,n,r)}function x3(e){if(e instanceof ks)return new ks(e.h,e.s,e.l,e.opacity);if(e instanceof eh||(e=Dm(e)),!e)return new ks;if(e instanceof ks)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ks(s,o,l,e.opacity)}function ZK(e,t,n,r){return arguments.length===1?x3(e):new ks(e,t,n,r??1)}function ks(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vS(ks,ZK,g3(eh,{brighter(e){return e=e==null?u0:Math.pow(u0,e),new ks(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Am:Math.pow(Am,e),new ks(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fa(mb(e>=240?e-240:e+120,i,r),mb(e,i,r),mb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ks(rP(this.h),Cp(this.s),Cp(this.l),d0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=d0(this.opacity);return`${e===1?"hsl(":"hsla("}${rP(this.h)}, ${Cp(this.s)*100}%, ${Cp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rP(e){return e=(e||0)%360,e<0?e+360:e}function Cp(e){return Math.max(0,Math.min(1,e||0))}function mb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bS=e=>()=>e;function JK(e,t){return function(n){return e+n*t}}function eG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tG(e){return(e=+e)==1?v3:function(t,n){return n-t?eG(t,n,e):bS(isNaN(t)?n:t)}}function v3(e,t){var n=t-e;return n?JK(e,n):bS(isNaN(e)?t:e)}const iP=function e(t){var n=tG(t);function r(i,a){var s=n((i=$w(i)).r,(a=$w(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=v3(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function nG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function rG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=$d(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function aG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function f0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$d(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hb=new RegExp(Fw.source,"g");function oG(e){return function(){return e}}function lG(e){return function(t){return e(t)+""}}function cG(e,t){var n=Fw.lastIndex=hb.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Fw.exec(e))&&(i=hb.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:f0(r,i)})),n=hb.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?lG(l[0].x):oG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function $d(e,t){var n=typeof t,r;return t==null||n==="boolean"?bS(t):(n==="number"?f0:n==="string"?(r=Dm(t))?(t=r,iP):cG:t instanceof Dm?iP:t instanceof Date?aG:rG(t)?nG:Array.isArray(t)?iG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sG:f0)(e,t)}function yS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function uG(e,t){t===void 0&&(t=e,e=$d);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function dG(e){return function(){return e}}function m0(e){return+e}var aP=[0,1];function ea(e){return e}function Rw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dG(isNaN(t)?NaN:.5)}function fG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mG(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Rw(i,r),a=n(s,a)):(r=Rw(r,i),a=n(a,s)),function(o){return a(r(o))}}function hG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Rw(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=Jm(e,o,1,r)-1;return a[l](i[l](o))}}function th(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wx(){var e=aP,t=aP,n=$d,r,i,a,s=ea,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==ea&&(s=fG(e[0],e[h-1])),o=h>2?hG:mG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),f0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,m0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=yS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ea,d()):s!==ea},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function wS(){return Wx()(ea,ea)}function pG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function h0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Nd(e){return e=h0(Math.abs(e)),e?e[1]:NaN}function gG(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function xG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tm(e){if(!(t=vG.exec(e)))throw new Error("invalid format: "+e);var t;return new kS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tm.prototype=kS.prototype;function kS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var p0;function yG(e,t){var n=h0(e,t);if(!n)return p0=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(p0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+h0(e,Math.max(0,t+a-1))[0]}function sP(e,t){var n=h0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sP(e*100,t),r:sP,s:yG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lP(e){return e}var cP=Array.prototype.map,uP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wG(e){var t=e.grouping===void 0||e.thousands===void 0?lP:gG(cP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lP:xG(cP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Tm(f);var m=f.fill,p=f.align,x=f.sign,b=f.symbol,v=f.zero,w=f.width,y=f.comma,N=f.precision,j=f.trim,S=f.type;S==="n"?(y=!0,S="g"):oP[S]||(N===void 0&&(N=12),j=!0,S="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),I=(b==="$"?r:/[%p]/.test(S)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),R=oP[S],T=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L(_){var G=A,ee=I,le,be,X;if(S==="c")ee=R(_)+ee,_="";else{_=+_;var q=_<0||1/_<0;if(_=isNaN(_)?l:R(Math.abs(_),N),j&&(_=bG(_)),q&&+_==0&&x!=="+"&&(q=!1),G=(q?x==="("?x:o:x==="-"||x==="("?"":x)+G,ee=(S==="s"&&!isNaN(_)&&p0!==void 0?uP[8+p0/3]:"")+ee+(q&&x==="("?")":""),T){for(le=-1,be=_.length;++le<be;)if(X=_.charCodeAt(le),48>X||X>57){ee=(X===46?i+_.slice(le+1):_.slice(le))+ee,_=_.slice(0,le);break}}}y&&!v&&(_=t(_,1/0));var K=G.length+_.length+ee.length,E=K<w?new Array(w-K+1).join(m):"";switch(y&&v&&(_=t(E+_,E.length?w-ee.length:1/0),E=""),p){case"<":_=G+_+ee+E;break;case"=":_=G+E+_+ee;break;case"^":_=E.slice(0,K=E.length>>1)+G+_+ee+E.slice(K);break;default:_=E+G+_+ee;break}return a(_)}return L.toString=function(){return f+""},L}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Nd(h)/3)))*3,p=Math.pow(10,-m),x=u((f=Tm(f),f.type="f",f),{suffix:uP[8+m/3]});return function(b){return x(p*b)}}return{format:u,formatPrefix:d}}var jp,SS,b3;kG({thousands:",",grouping:[3],currency:["$",""]});function kG(e){return jp=wG(e),SS=jp.format,b3=jp.formatPrefix,jp}function SG(e){return Math.max(0,-Nd(Math.abs(e)))}function NG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nd(t)/3)))*3-Nd(Math.abs(e)))}function CG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nd(t)-Nd(e))+1}function y3(e,t,n,r){var i=_w(e,t,n),a;switch(r=Tm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=NG(i,s))&&(r.precision=a),b3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=CG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=SG(i))&&(r.precision=a-(r.type==="%")*2);break}}return SS(r)}function ic(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ow(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return y3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Iw(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function w3(){var e=wS();return e.copy=function(){return th(e,w3())},cs.apply(e,arguments),ic(e)}function k3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,m0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return k3(e).unknown(t)},e=arguments.length?Array.from(e,m0):[0,1],ic(n)}function S3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function dP(e){return Math.log(e)}function fP(e){return Math.exp(e)}function jG(e){return-Math.log(-e)}function AG(e){return-Math.exp(-e)}function PG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DG(e){return e===10?PG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function TG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mP(e){return(t,n)=>-e(-t,n)}function NS(e){const t=e(dP,fP),n=t.domain;let r=10,i,a;function s(){return i=TG(r),a=DG(r),n()[0]<0?(i=mP(i),a=mP(a),e(jG,AG)):e(dP,fP),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,x;const b=o==null?10:+o;let v=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(x=h<0?p/a(-h):p*a(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(x=h>0?p/a(-h):p*a(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<b&&(v=Ow(u,d,b))}else v=Ow(h,m,Math.min(m-h,b)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Tm(l)).precision==null&&(l.trim=!0),l=SS(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(S3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function N3(){const e=NS(Wx()).domain([1,10]);return e.copy=()=>th(e,N3()).base(e.base()),cs.apply(e,arguments),e}function hP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CS(e){var t=1,n=e(hP(t),pP(t));return n.constant=function(r){return arguments.length?e(hP(t=+r),pP(t)):t},ic(n)}function C3(){var e=CS(Wx());return e.copy=function(){return th(e,C3()).constant(e.constant())},cs.apply(e,arguments)}function gP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EG(e){return e<0?-e*e:e*e}function jS(e){var t=e(ea,ea),n=1;function r(){return n===1?e(ea,ea):n===.5?e(MG,EG):e(gP(n),gP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ic(t)}function AS(){var e=jS(Wx());return e.copy=function(){return th(e,AS()).exponent(e.exponent())},cs.apply(e,arguments),e}function OG(){return AS.apply(null,arguments).exponent(.5)}function xP(e){return Math.sign(e)*e*e}function IG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function j3(){var e=wS(),t=[0,1],n=!1,r;function i(a){var s=IG(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(xP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,m0)).map(xP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return j3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},cs.apply(i,arguments),ic(i)}function A3(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=FK(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Jm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Hl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return A3().domain(e).range(t).unknown(r)},cs.apply(a,arguments)}function P3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Jm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return P3().domain([e,t]).range(i).unknown(a)},cs.apply(ic(s),arguments)}function D3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Jm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return D3().domain(e).range(t).unknown(n)},cs.apply(i,arguments)}const pb=new Date,gb=new Date;function si(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>si(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(pb.setTime(+a),gb.setTime(+s),e(pb),e(gb),Math.floor(n(pb,gb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const g0=si(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);g0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?si(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):g0);g0.range;const To=1e3,es=To*60,Mo=es*60,Ho=Mo*24,PS=Ho*7,vP=Ho*30,xb=Ho*365,_c=si(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*To)},(e,t)=>(t-e)/To,e=>e.getUTCSeconds());_c.range;const DS=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getMinutes());DS.range;const TS=si(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCMinutes());TS.range;const MS=si(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To-e.getMinutes()*es)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getHours());MS.range;const ES=si(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCHours());ES.range;const nh=si(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*es)/Ho,e=>e.getDate()-1);nh.range;const Vx=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ho,e=>e.getUTCDate()-1);Vx.range;const T3=si(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ho,e=>Math.floor(e/Ho));T3.range;function uu(e){return si(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*es)/PS)}const Hx=uu(0),x0=uu(1),_G=uu(2),LG=uu(3),Cd=uu(4),$G=uu(5),FG=uu(6);Hx.range;x0.range;_G.range;LG.range;Cd.range;$G.range;FG.range;function du(e){return si(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/PS)}const qx=du(0),v0=du(1),RG=du(2),BG=du(3),jd=du(4),zG=du(5),UG=du(6);qx.range;v0.range;RG.range;BG.range;jd.range;zG.range;UG.range;const OS=si(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());OS.range;const IS=si(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());IS.range;const qo=si(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qo.range;const Ko=si(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:si(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ko.range;function M3(e,t,n,r,i,a){const s=[[_c,1,To],[_c,5,5*To],[_c,15,15*To],[_c,30,30*To],[a,1,es],[a,5,5*es],[a,15,15*es],[a,30,30*es],[i,1,Mo],[i,3,3*Mo],[i,6,6*Mo],[i,12,12*Mo],[r,1,Ho],[r,2,2*Ho],[n,1,PS],[t,1,vP],[t,3,3*vP],[e,1,xb]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=pS(([,,b])=>b).right(s,h);if(m===s.length)return e.every(_w(u/xb,d/xb,f));if(m===0)return g0.every(Math.max(_w(u,d,f),1));const[p,x]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(x)}return[o,l]}const[WG,VG]=M3(Ko,IS,qx,T3,ES,TS),[HG,qG]=M3(qo,OS,Hx,nh,MS,DS);function vb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function KG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=gf(i),d=xf(i),f=gf(a),h=xf(a),m=gf(s),p=xf(s),x=gf(o),b=xf(o),v=gf(l),w=xf(l),y={a:X,A:q,b:K,B:E,c:null,d:NP,e:NP,f:gY,g:jY,G:PY,H:mY,I:hY,j:pY,L:E3,m:xY,M:vY,p:D,q:ie,Q:AP,s:PP,S:bY,u:yY,U:wY,V:kY,w:SY,W:NY,x:null,X:null,y:CY,Y:AY,Z:DY,"%":jP},N={a:k,A:B,b:V,B:ne,c:null,d:CP,e:CP,f:OY,g:WY,G:HY,H:TY,I:MY,j:EY,L:I3,m:IY,M:_Y,p:re,q:se,Q:AP,s:PP,S:LY,u:$Y,U:FY,V:RY,w:BY,W:zY,x:null,X:null,y:UY,Y:VY,Z:qY,"%":jP},j={a:T,A:L,b:_,B:G,c:ee,d:kP,e:kP,f:cY,g:wP,G:yP,H:SP,I:SP,j:aY,L:lY,m:iY,M:sY,p:R,q:rY,Q:dY,s:fY,S:oY,u:ZG,U:JG,V:eY,w:QG,W:tY,x:le,X:be,y:wP,Y:yP,Z:nY,"%":uY};y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(z,W){return function(H){var te=[],U=-1,ue=0,Z=z.length,ae,Ke,Ye;for(H instanceof Date||(H=new Date(+H));++U<Z;)z.charCodeAt(U)===37&&(te.push(z.slice(ue,U)),(Ke=bP[ae=z.charAt(++U)])!=null?ae=z.charAt(++U):Ke=ae==="e"?" ":"0",(Ye=W[ae])&&(ae=Ye(H,Ke)),te.push(ae),ue=U+1);return te.push(z.slice(ue,U)),te.join("")}}function A(z,W){return function(H){var te=pf(1900,void 0,1),U=I(te,z,H+="",0),ue,Z;if(U!=H.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(W&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ue=bb(pf(te.y,0,1)),Z=ue.getUTCDay(),ue=Z>4||Z===0?v0.ceil(ue):v0(ue),ue=Vx.offset(ue,(te.V-1)*7),te.y=ue.getUTCFullYear(),te.m=ue.getUTCMonth(),te.d=ue.getUTCDate()+(te.w+6)%7):(ue=vb(pf(te.y,0,1)),Z=ue.getDay(),ue=Z>4||Z===0?x0.ceil(ue):x0(ue),ue=nh.offset(ue,(te.V-1)*7),te.y=ue.getFullYear(),te.m=ue.getMonth(),te.d=ue.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Z="Z"in te?bb(pf(te.y,0,1)).getUTCDay():vb(pf(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Z+5)%7:te.w+te.U*7-(Z+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,bb(te)):vb(te)}}function I(z,W,H,te){for(var U=0,ue=W.length,Z=H.length,ae,Ke;U<ue;){if(te>=Z)return-1;if(ae=W.charCodeAt(U++),ae===37){if(ae=W.charAt(U++),Ke=j[ae in bP?W.charAt(U++):ae],!Ke||(te=Ke(z,H,te))<0)return-1}else if(ae!=H.charCodeAt(te++))return-1}return te}function R(z,W,H){var te=u.exec(W.slice(H));return te?(z.p=d.get(te[0].toLowerCase()),H+te[0].length):-1}function T(z,W,H){var te=m.exec(W.slice(H));return te?(z.w=p.get(te[0].toLowerCase()),H+te[0].length):-1}function L(z,W,H){var te=f.exec(W.slice(H));return te?(z.w=h.get(te[0].toLowerCase()),H+te[0].length):-1}function _(z,W,H){var te=v.exec(W.slice(H));return te?(z.m=w.get(te[0].toLowerCase()),H+te[0].length):-1}function G(z,W,H){var te=x.exec(W.slice(H));return te?(z.m=b.get(te[0].toLowerCase()),H+te[0].length):-1}function ee(z,W,H){return I(z,t,W,H)}function le(z,W,H){return I(z,n,W,H)}function be(z,W,H){return I(z,r,W,H)}function X(z){return s[z.getDay()]}function q(z){return a[z.getDay()]}function K(z){return l[z.getMonth()]}function E(z){return o[z.getMonth()]}function D(z){return i[+(z.getHours()>=12)]}function ie(z){return 1+~~(z.getMonth()/3)}function k(z){return s[z.getUTCDay()]}function B(z){return a[z.getUTCDay()]}function V(z){return l[z.getUTCMonth()]}function ne(z){return o[z.getUTCMonth()]}function re(z){return i[+(z.getUTCHours()>=12)]}function se(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var W=S(z+="",y);return W.toString=function(){return z},W},parse:function(z){var W=A(z+="",!1);return W.toString=function(){return z},W},utcFormat:function(z){var W=S(z+="",N);return W.toString=function(){return z},W},utcParse:function(z){var W=A(z+="",!0);return W.toString=function(){return z},W}}}var bP={"-":"",_:" ",0:"0"},Ni=/^\s*\d+/,GG=/^%/,YG=/[\\^$*+?|[\]().{}]/g;function Ln(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function XG(e){return e.replace(YG,"\\$&")}function gf(e){return new RegExp("^(?:"+e.map(XG).join("|")+")","i")}function xf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function QG(e,t,n){var r=Ni.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ZG(e,t,n){var r=Ni.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function JG(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yP(e,t,n){var r=Ni.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wP(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rY(e,t,n){var r=Ni.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kP(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=Ni.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SP(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=Ni.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=Ni.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=Ni.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uY(e,t,n){var r=GG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dY(e,t,n){var r=Ni.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=Ni.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NP(e,t){return Ln(e.getDate(),t,2)}function mY(e,t){return Ln(e.getHours(),t,2)}function hY(e,t){return Ln(e.getHours()%12||12,t,2)}function pY(e,t){return Ln(1+nh.count(qo(e),e),t,3)}function E3(e,t){return Ln(e.getMilliseconds(),t,3)}function gY(e,t){return E3(e,t)+"000"}function xY(e,t){return Ln(e.getMonth()+1,t,2)}function vY(e,t){return Ln(e.getMinutes(),t,2)}function bY(e,t){return Ln(e.getSeconds(),t,2)}function yY(e){var t=e.getDay();return t===0?7:t}function wY(e,t){return Ln(Hx.count(qo(e)-1,e),t,2)}function O3(e){var t=e.getDay();return t>=4||t===0?Cd(e):Cd.ceil(e)}function kY(e,t){return e=O3(e),Ln(Cd.count(qo(e),e)+(qo(e).getDay()===4),t,2)}function SY(e){return e.getDay()}function NY(e,t){return Ln(x0.count(qo(e)-1,e),t,2)}function CY(e,t){return Ln(e.getFullYear()%100,t,2)}function jY(e,t){return e=O3(e),Ln(e.getFullYear()%100,t,2)}function AY(e,t){return Ln(e.getFullYear()%1e4,t,4)}function PY(e,t){var n=e.getDay();return e=n>=4||n===0?Cd(e):Cd.ceil(e),Ln(e.getFullYear()%1e4,t,4)}function DY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ln(t/60|0,"0",2)+Ln(t%60,"0",2)}function CP(e,t){return Ln(e.getUTCDate(),t,2)}function TY(e,t){return Ln(e.getUTCHours(),t,2)}function MY(e,t){return Ln(e.getUTCHours()%12||12,t,2)}function EY(e,t){return Ln(1+Vx.count(Ko(e),e),t,3)}function I3(e,t){return Ln(e.getUTCMilliseconds(),t,3)}function OY(e,t){return I3(e,t)+"000"}function IY(e,t){return Ln(e.getUTCMonth()+1,t,2)}function _Y(e,t){return Ln(e.getUTCMinutes(),t,2)}function LY(e,t){return Ln(e.getUTCSeconds(),t,2)}function $Y(e){var t=e.getUTCDay();return t===0?7:t}function FY(e,t){return Ln(qx.count(Ko(e)-1,e),t,2)}function _3(e){var t=e.getUTCDay();return t>=4||t===0?jd(e):jd.ceil(e)}function RY(e,t){return e=_3(e),Ln(jd.count(Ko(e),e)+(Ko(e).getUTCDay()===4),t,2)}function BY(e){return e.getUTCDay()}function zY(e,t){return Ln(v0.count(Ko(e)-1,e),t,2)}function UY(e,t){return Ln(e.getUTCFullYear()%100,t,2)}function WY(e,t){return e=_3(e),Ln(e.getUTCFullYear()%100,t,2)}function VY(e,t){return Ln(e.getUTCFullYear()%1e4,t,4)}function HY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jd(e):jd.ceil(e),Ln(e.getUTCFullYear()%1e4,t,4)}function qY(){return"+0000"}function jP(){return"%"}function AP(e){return+e}function PP(e){return Math.floor(+e/1e3)}var Tu,L3,$3;KY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KY(e){return Tu=KG(e),L3=Tu.format,Tu.parse,$3=Tu.utcFormat,Tu.utcParse,Tu}function GY(e){return new Date(e)}function YY(e){return e instanceof Date?+e:+new Date(+e)}function _S(e,t,n,r,i,a,s,o,l,u){var d=wS(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),w=u("%b %d"),y=u("%B"),N=u("%Y");function j(S){return(l(S)<S?m:o(S)<S?p:s(S)<S?x:a(S)<S?b:r(S)<S?i(S)<S?v:w:n(S)<S?y:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,YY)):h().map(GY)},d.ticks=function(S){var A=h();return e(A[0],A[A.length-1],S??10)},d.tickFormat=function(S,A){return A==null?j:u(A)},d.nice=function(S){var A=h();return(!S||typeof S.range!="function")&&(S=t(A[0],A[A.length-1],S??10)),S?h(S3(A,S)):d},d.copy=function(){return th(d,_S(e,t,n,r,i,a,s,o,l,u))},d}function XY(){return cs.apply(_S(HG,qG,qo,OS,Hx,nh,MS,DS,_c,L3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QY(){return cs.apply(_S(WG,VG,Ko,IS,qx,Vx,ES,TS,_c,$3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kx(){var e=0,t=1,n,r,i,a,s=ea,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d($d),u.rangeRound=d(yS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function F3(){var e=ic(Kx()(ea));return e.copy=function(){return ac(e,F3())},nl.apply(e,arguments)}function R3(){var e=NS(Kx()).domain([1,10]);return e.copy=function(){return ac(e,R3()).base(e.base())},nl.apply(e,arguments)}function B3(){var e=CS(Kx());return e.copy=function(){return ac(e,B3()).constant(e.constant())},nl.apply(e,arguments)}function LS(){var e=jS(Kx());return e.copy=function(){return ac(e,LS()).exponent(e.exponent())},nl.apply(e,arguments)}function ZY(){return LS.apply(null,arguments).exponent(.5)}function z3(){var e=[],t=ea;function n(r){if(r!=null&&!isNaN(r=+r))return t((Jm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>$K(e,a/r))},n.copy=function(){return z3(t).domain(e)},nl.apply(n,arguments)}function Gx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=ea,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-a)*(r*x<r*a?o:l),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(b){var v,w,y;return arguments.length?([v,w,y]=b,u=uG(x,[v,w,y]),m):[u(0),u(.5),u(1)]}}return m.range=p($d),m.rangeRound=p(yS),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),a=x(t),s=x(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function U3(){var e=ic(Gx()(ea));return e.copy=function(){return ac(e,U3())},nl.apply(e,arguments)}function W3(){var e=NS(Gx()).domain([.1,1,10]);return e.copy=function(){return ac(e,W3()).base(e.base())},nl.apply(e,arguments)}function V3(){var e=CS(Gx());return e.copy=function(){return ac(e,V3()).constant(e.constant())},nl.apply(e,arguments)}function $S(){var e=jS(Gx());return e.copy=function(){return ac(e,$S()).exponent(e.exponent())},nl.apply(e,arguments)}function JY(){return $S.apply(null,arguments).exponent(.5)}const Tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xS,scaleDiverging:U3,scaleDivergingLog:W3,scaleDivergingPow:$S,scaleDivergingSqrt:JY,scaleDivergingSymlog:V3,scaleIdentity:k3,scaleImplicit:Lw,scaleLinear:w3,scaleLog:N3,scaleOrdinal:gS,scalePoint:BK,scalePow:AS,scaleQuantile:A3,scaleQuantize:P3,scaleRadial:j3,scaleSequential:F3,scaleSequentialLog:R3,scaleSequentialPow:LS,scaleSequentialQuantile:z3,scaleSequentialSqrt:ZY,scaleSequentialSymlog:B3,scaleSqrt:OG,scaleSymlog:C3,scaleThreshold:D3,scaleTime:XY,scaleUtc:QY,tickFormat:y3},Symbol.toStringTag,{value:"Module"}));var sc=e=>e.chartData,FS=Ae([sc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),RS=(e,t,n,r)=>r?FS(e):sc(e);function Yl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(yr(t)&&yr(n))return!0}return!1}function DP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function H3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(yr(n))i=n;else if(typeof n=="function")return;if(yr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Yl(s))return s}}function eX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Yl(r))return DP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ut(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Gj.test(i)){var l=Gj.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Ut(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Yj.test(a)){var d=Yj.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(Yl(h))return t==null?h:DP(h,t,n)}}}var Fd=1e9,tX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zS,wr=!0,ls="[DecimalError] ",Vc=ls+"Invalid argument: ",BS=ls+"Exponent out of range: ",Rd=Math.floor,Cc=Math.pow,nX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ta,vi=1e7,fr=7,q3=9007199254740991,b0=Rd(q3/fr),Tt={};Tt.absoluteValue=Tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Tt.comparedTo=Tt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Tt.decimalPlaces=Tt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Tt.dividedBy=Tt.div=function(e){return _o(this,new this.constructor(e))};Tt.dividedToIntegerBy=Tt.idiv=function(e){var t=this,n=t.constructor;return Qn(_o(t,new n(e),0,1),n.precision)};Tt.equals=Tt.eq=function(e){return!this.cmp(e)};Tt.exponent=function(){return Xr(this)};Tt.greaterThan=Tt.gt=function(e){return this.cmp(e)>0};Tt.greaterThanOrEqualTo=Tt.gte=function(e){return this.cmp(e)>=0};Tt.isInteger=Tt.isint=function(){return this.e>this.d.length-2};Tt.isNegative=Tt.isneg=function(){return this.s<0};Tt.isPositive=Tt.ispos=function(){return this.s>0};Tt.isZero=function(){return this.s===0};Tt.lessThan=Tt.lt=function(e){return this.cmp(e)<0};Tt.lessThanOrEqualTo=Tt.lte=function(e){return this.cmp(e)<1};Tt.logarithm=Tt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ta))throw Error(ls+"NaN");if(n.s<1)throw Error(ls+(n.s?"NaN":"-Infinity"));return n.eq(Ta)?new r(0):(wr=!1,t=_o(Mm(n,a),Mm(e,a),a),wr=!0,Qn(t,i))};Tt.minus=Tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y3(t,e):K3(t,(e.s=-e.s,e))};Tt.modulo=Tt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ls+"NaN");return n.s?(wr=!1,t=_o(n,e,0,1).times(e),wr=!0,n.minus(t)):Qn(new r(n),i)};Tt.naturalExponential=Tt.exp=function(){return G3(this)};Tt.naturalLogarithm=Tt.ln=function(){return Mm(this)};Tt.negated=Tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Tt.plus=Tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K3(t,e):Y3(t,(e.s=-e.s,e))};Tt.precision=Tt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vc+e);if(t=Xr(i)+1,r=i.d.length-1,n=r*fr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Tt.squareRoot=Tt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ls+"NaN")}for(e=Xr(o),wr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Js(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(_o(o,a,s+2)).times(.5),Js(a.d).slice(0,s)===(t=Js(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Qn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return wr=!0,Qn(r,n)};Tt.times=Tt.mul=function(e){var t,n,r,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%vi|0,t=o/vi|0;a[i]=(a[i]+t)%vi|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,wr?Qn(e,f.precision):e};Tt.toDecimalPlaces=Tt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ao(e,0,Fd),t===void 0?t=r.rounding:ao(t,0,8),Qn(n,e+Xr(n)+1,t))};Tt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ru(r,!0):(ao(e,0,Fd),t===void 0?t=i.rounding:ao(t,0,8),r=Qn(new i(r),e+1,t),n=ru(r,!0,e+1)),n};Tt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?ru(i):(ao(e,0,Fd),t===void 0?t=a.rounding:ao(t,0,8),r=Qn(new a(i),e+Xr(i)+1,t),n=ru(r.abs(),!1,e+Xr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Tt.toInteger=Tt.toint=function(){var e=this,t=e.constructor;return Qn(new t(e),Xr(e)+1,t.rounding)};Tt.toNumber=function(){return+this};Tt.toPower=Tt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ta);if(o=new l(o),!o.s){if(e.s<1)throw Error(ls+"Infinity");return o}if(o.eq(Ta))return o;if(r=l.precision,e.eq(Ta))return Qn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=q3){for(i=new l(Ta),t=Math.ceil(r/fr+4),wr=!1;n%2&&(i=i.times(o),MP(i.d,t)),n=Rd(n/2),n!==0;)o=o.times(o),MP(o.d,t);return wr=!0,e.s<0?new l(Ta).div(i):Qn(i,r)}}else if(a<0)throw Error(ls+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,wr=!1,i=e.times(Mm(o,r+u)),wr=!0,i=G3(i),i.s=a,i};Tt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Xr(i),r=ru(i,n<=a.toExpNeg||n>=a.toExpPos)):(ao(e,1,Fd),t===void 0?t=a.rounding:ao(t,0,8),i=Qn(new a(i),e,t),n=Xr(i),r=ru(i,e<=n||n<=a.toExpNeg,e)),r};Tt.toSignificantDigits=Tt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ao(e,1,Fd),t===void 0?t=r.rounding:ao(t,0,8)),Qn(new r(n),e,t)};Tt.toString=Tt.valueOf=Tt.val=Tt.toJSON=Tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),n=e.constructor;return ru(e,t<=n.toExpNeg||t>=n.toExpPos)};function K3(e,t){var n,r,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),wr?Qn(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/fr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/vi|0,l[a]%=vi;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,wr?Qn(t,f):t}function ao(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vc+e)}function Js(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=fr-r.length,n&&(a+=jl(n)),a+=r;s=e[t],r=s+"",n=fr-r.length,n&&(a+=jl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var _o=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%vi|0,s=a/vi|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*vi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,d,f,h,m,p,x,b,v,w,y,N,j,S,A,I,R=r.constructor,T=r.s==i.s?1:-1,L=r.d,_=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ls+"Division by zero");for(l=r.e-i.e,A=_.length,j=L.length,m=new R(T),p=m.d=[],u=0;_[u]==(L[u]||0);)++u;if(_[u]>(L[u]||0)&&--l,a==null?w=a=R.precision:s?w=a+(Xr(r)-Xr(i))+1:w=a,w<0)return new R(0);if(w=w/fr+2|0,u=0,A==1)for(d=0,_=_[0],w++;(u<j||d)&&w--;u++)y=d*vi+(L[u]||0),p[u]=y/_|0,d=y%_|0;else{for(d=vi/(_[0]+1)|0,d>1&&(_=e(_,d),L=e(L,d),A=_.length,j=L.length),N=A,x=L.slice(0,A),b=x.length;b<A;)x[b++]=0;I=_.slice(),I.unshift(0),S=_[0],_[1]>=vi/2&&++S;do d=0,o=t(_,x,A,b),o<0?(v=x[0],A!=b&&(v=v*vi+(x[1]||0)),d=v/S|0,d>1?(d>=vi&&(d=vi-1),f=e(_,d),h=f.length,b=x.length,o=t(f,x,h,b),o==1&&(d--,n(f,A<h?I:_,h))):(d==0&&(o=d=1),f=_.slice()),h=f.length,h<b&&f.unshift(0),n(x,f,b),o==-1&&(b=x.length,o=t(_,x,A,b),o<1&&(d++,n(x,A<b?I:_,b))),b=x.length):o===0&&(d++,x=[0]),p[u++]=d,o&&x[0]?x[b++]=L[N]||0:(x=[L[N]],b=1);while((N++<j||x[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,Qn(m,s?a+Xr(m)+1:a)}}();function G3(e,t){var n,r,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Xr(e)>16)throw Error(BS+Xr(e));if(!e.s)return new d(Ta);for(wr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Cc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Ta),d.precision=o;;){if(i=Qn(i.times(e),o),n=n.times(++l),s=a.plus(_o(i,n,o)),Js(s.d).slice(0,o)===Js(a.d).slice(0,o)){for(;u--;)a=Qn(a.times(a),o);return d.precision=f,t==null?(wr=!0,Qn(a,f)):a}a=s}}function Xr(e){for(var t=e.e*fr,n=e.d[0];n>=10;n/=10)t++;return t}function yb(e,t,n){if(t>e.LN10.sd())throw wr=!0,n&&(e.precision=n),Error(ls+"LN10 precision limit exceeded");return Qn(new e(e.LN10),t)}function jl(e){for(var t="";e--;)t+="0";return t}function Mm(e,t){var n,r,i,a,s,o,l,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,b=x.precision;if(m.s<1)throw Error(ls+(m.s?"NaN":"-Infinity"));if(m.eq(Ta))return new x(0);if(t==null?(wr=!1,u=b):u=t,m.eq(10))return t==null&&(wr=!0),yb(x,u);if(u+=h,x.precision=u,n=Js(p),r=n.charAt(0),a=Xr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Js(m.d),r=n.charAt(0),f++;a=Xr(m),r>1?(m=new x("0."+n),a++):m=new x(r+"."+n.slice(1))}else return l=yb(x,u+2,b).times(a+""),m=Mm(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=b,t==null?(wr=!0,Qn(m,b)):m;for(o=s=m=_o(m.minus(Ta),m.plus(Ta),u),d=Qn(m.times(m),u),i=3;;){if(s=Qn(s.times(d),u),l=o.plus(_o(s,new x(i),u)),Js(l.d).slice(0,u)===Js(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(yb(x,u+2,b).times(a+""))),o=_o(o,new x(f),u),x.precision=b,t==null?(wr=!0,Qn(o,b)):o;o=l,i+=2}}function TP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Rd(n/fr),e.d=[],r=(n+1)%fr,n<0&&(r+=fr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=fr;r<i;)e.d.push(+t.slice(r,r+=fr));t=t.slice(r),r=fr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),wr&&(e.e>b0||e.e<-b0))throw Error(BS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Qn(e,t,n){var r,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=fr,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/fr),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=fr,i=r-fr+s}if(n!==void 0&&(a=Cc(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Cc(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Xr(e),f.length=1,t=t-a-1,f[0]=Cc(10,(fr-t%fr)%fr),e.e=Rd(-t/fr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Cc(10,fr-r),f[d]=i>0?(u/Cc(10,s-i)%Cc(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==vi&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=vi)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(wr&&(e.e>b0||e.e<-b0))throw Error(BS+Xr(e));return e}function Y3(e,t){var n,r,i,a,s,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),wr?Qn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(m/fr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=vi-1;--l[a],l[i]+=vi}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,wr?Qn(t,m):t):new h(0)}function ru(e,t,n){var r,i=Xr(e),a=Js(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+jl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+jl(-i-1)+a,n&&(r=n-s)>0&&(a+=jl(r))):i>=s?(a+=jl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+jl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=jl(r))),e.s<0?"-"+a:a}function MP(e,t){if(e.length>t)return e.length=t,!0}function X3(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return TP(s,a.toString())}else if(typeof a!="string")throw Error(Vc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,nX.test(a))TP(s,a);else throw Error(Vc+a)}if(i.prototype=Tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=X3,i.config=i.set=rX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function rX(e){if(!e||typeof e!="object")throw Error(ls+"Object expected");var t,n,r,i=["precision",1,Fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Rd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Vc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vc+n+": "+r);return this}var zS=X3(tX);Ta=new zS(1);const Wn=zS;var iX=e=>e,Q3={},Z3=e=>e===Q3,EP=e=>function t(){return arguments.length===0||arguments.length===1&&Z3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},J3=(e,t)=>e===1?t:EP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==Q3).length;return a>=e?t(...r):J3(e-a,EP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(d=>Z3(d)?o.shift():d);return t(...u,...o)}))}),aX=e=>J3(e.length,e),Bw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},sX=aX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),oX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return iX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function eL(e){var t;return e===0?t=1:t=Math.floor(new Wn(e).abs().log(10).toNumber())+1,t}function tL(e,t,n){for(var r=new Wn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var nL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},rL=(e,t,n)=>{if(e.lte(0))return new Wn(0);var r=eL(e.toNumber()),i=new Wn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Wn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Wn(l.toNumber()):new Wn(Math.ceil(l.toNumber()))},lX=(e,t,n)=>{var r=new Wn(1),i=new Wn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Wn(10).pow(eL(e)-1),i=new Wn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Wn(Math.floor(e)))}else e===0?i=new Wn(Math.floor((t-1)/2)):n||(i=new Wn(Math.floor(e)));var s=Math.floor((t-1)/2),o=oX(sX(l=>i.add(new Wn(l-s).mul(r)).toNumber()),Bw);return o(0,t)},iL=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Wn(0),tickMin:new Wn(0),tickMax:new Wn(0)};var s=rL(new Wn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Wn(0):(o=new Wn(t).add(n).div(2),o=o.sub(new Wn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Wn(n).sub(o).div(s).toNumber()),d=l+u+1;return d>r?iL(t,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Wn(l).mul(s)),tickMax:o.add(new Wn(u).mul(s))})},cX=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=nL([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...Bw(0,i-1).map(()=>1/0)]:[...Bw(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return lX(o,i,a);var{step:d,tickMin:f,tickMax:h}=iL(o,l,s,a,0),m=tL(f,h.add(new Wn(.1).mul(d)),d);return n>r?m.reverse():m},uX=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=nL([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=rL(new Wn(o).sub(s).div(l-1),a,0),d=[...tL(new Wn(s),new Wn(o),u),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},dX=e=>e.rootProps.barCategoryGap,rh=e=>e.rootProps.stackOffset,aL=e=>e.rootProps.reverseStackOrder,US=e=>e.options.chartName,WS=e=>e.rootProps.syncId,sL=e=>e.rootProps.syncMethod,VS=e=>e.options.eventEmitter,yi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Da={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Yx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},fX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:jo.type,unit:void 0},mX={allowDataOverflow:Da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:Da.type,unit:void 0},hX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},pX={allowDataOverflow:Da.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Da.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,ticks:void 0,type:"category",unit:void 0},HS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?hX:fX,qS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?pX:mX,Xx=e=>e.polarOptions,KS=Ae([el,tl,Si],i3),oL=Ae([Xx,KS],(e,t)=>{if(e!=null)return Ia(e.innerRadius,t,0)}),lL=Ae([Xx,KS],(e,t)=>{if(e!=null)return Ia(e.outerRadius,t,t*.8)}),gX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},cL=Ae([Xx],gX);Ae([HS,cL],Yx);var uL=Ae([KS,oL,lL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ae([qS,uL],Yx);var dL=Ae([Yn,Xx,oL,lL,el,tl],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Ia(s,i,i/2),cy:Ia(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),kr=(e,t)=>t,ih=(e,t,n)=>n;function fL(e){return e==null?void 0:e.id}function mL(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=fL(o);u.forEach((f,h)=>{var m=a==null||i?h:String(hr(f,a,null)),p=hr(f,o.dataKey,0),x;s.has(m)?x=s.get(m):x={},Object.assign(x,{[d]:p}),s.set(m,x)})}}),Array.from(s.values())}function GS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Qx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var oi=e=>{var t=Yn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bd=e=>e.tooltip.settings.axisId;function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zw=[0,"auto"],pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hL=(e,t)=>e.cartesianAxis.xAxis[t],so=(e,t)=>{var n=hL(e,t);return n??pi},gi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ym},pL=(e,t)=>e.cartesianAxis.yAxis[t],oo=(e,t)=>{var n=pL(e,t);return n??gi},wX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??wX},Tr=(e,t,n)=>{switch(t){case"xAxis":return so(e,n);case"yAxis":return oo(e,n);case"zAxis":return YS(e,n);case"angleAxis":return HS(e,n);case"radiusAxis":return qS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kX=(e,t,n)=>{switch(t){case"xAxis":return so(e,n);case"yAxis":return oo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ah=(e,t,n)=>{switch(t){case"xAxis":return so(e,n);case"yAxis":return oo(e,n);case"angleAxis":return HS(e,n);case"radiusAxis":return qS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function XS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var xL=e=>e.graphicalItems.cartesianItems,SX=Ae([kr,ih],XS),QS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),sh=Ae([xL,Tr,SX],QS,{memoizeOptions:{resultEqualityCheck:Zx}}),vL=Ae([sh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(GS)),bL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NX=Ae([sh],bL),ZS=e=>e.map(t=>t.data).filter(Boolean).flat(1),CX=Ae([sh],ZS,{memoizeOptions:{resultEqualityCheck:Zx}}),JS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},eN=Ae([CX,RS],JS),tN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:hr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:hr(i,r)}))):e.map(r=>({value:r})),Jx=Ae([eN,Tr,sh],tN);function yL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ng(e){if(ss(e)||e instanceof Date){var t=Number(e);if(yr(t))return t}}function IP(e){if(Array.isArray(e)){var t=[ng(e[0]),ng(e[1])];return Yl(t)?t:void 0}var n=ng(e);if(n!=null)return[n,n]}function Go(e){return e.map(ng).filter(zV)}function jX(e,t,n){return!n||typeof t!="number"||as(t)?[]:n.length?Go(n.flatMap(r=>{var i=hr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!yr(a)||!yr(s)))return[t-a,t+s]})):[]}var li=e=>{var t=oi(e),n=Bd(e);return ah(e,t,n)},oh=Ae([li],e=>e==null?void 0:e.dataKey),AX=Ae([vL,RS,li],mL),wL=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,d=u.map(fL);return[o,{stackedData:r7(e,d,n),graphicalItems:u}]}))},PX=Ae([AX,vL,rh,aL],wL),kL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=s7(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},DX=Ae([Tr],e=>e.allowDataOverflow),nN=e=>{var t;if(e==null||!("domain"in e))return zw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Go(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:zw},rN=Ae([Tr],nN),iN=Ae([rN,DX],H3),TX=Ae([PX,sc,kr,iN],kL,{memoizeOptions:{resultEqualityCheck:Qx}}),ev=e=>e.errorBars,MX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>yL(n,r)),w0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},aN=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(v=>yL(i,v)),h=hr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=jX(o,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||x>s)&&(s=x)}var b=IP(h);b!=null&&(a=a==null?b[0]:Math.min(a,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=IP(hr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),yr(a)&&yr(s))return[a,s]},EX=Ae([eN,Tr,NX,ev,kr],aN,{memoizeOptions:{resultEqualityCheck:Qx}});function OX(e){var{value:t}=e;if(ss(t)||t instanceof Date)return t}var IX=(e,t,n)=>{var r=e.map(OX).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&gI(r))?d3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},SL=e=>e.referenceElements.dots,zd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),_X=Ae([SL,kr,ih],zd),NL=e=>e.referenceElements.areas,LX=Ae([NL,kr,ih],zd),CL=e=>e.referenceElements.lines,$X=Ae([CL,kr,ih],zd),jL=(e,t)=>{if(e!=null){var n=Go(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},FX=Ae(_X,kr,jL),AL=(e,t)=>{if(e!=null){var n=Go(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},RX=Ae([LX,kr],AL);function BX(e){var t;if(e.x!=null)return Go([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Go(n)}function zX(e){var t;if(e.y!=null)return Go([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Go(n)}var PL=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?BX(r):zX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UX=Ae([$X,kr],PL),WX=Ae(FX,UX,RX,(e,t,n)=>w0(e,n,t)),sN=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?w0(r,a,i):w0(a,i);return eX(t,u,e.allowDataOverflow)},VX=Ae([Tr,rN,iN,TX,EX,WX,Yn,kr],sN,{memoizeOptions:{resultEqualityCheck:Qx}}),HX=[0,1],oN=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=rc(t,a);if(u&&o==null){var d;return d3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?IX(r,e,u):i==="expand"?HX:s}},lN=Ae([Tr,Yn,eN,Jx,rh,kr,VX],oN),DL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Hm(a));return o in Tf?o:"point"}}},Ud=Ae([Tr,Yn,gL,US,kr],DL);function qX(e){if(e!=null){if(e in Tf)return Tf[e]();var t="scale".concat(Hm(e));if(t in Tf)return Tf[t]()}}function cN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=qX(t);if(i!=null){var a=i.domain(n).range(r);return JH(a),a}}}var uN=(e,t,n)=>{var r=nN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yl(e))return cX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Yl(e))return uX(e,t.tickCount,t.allowDecimals)}},dN=Ae([lN,ah,Ud],uN),fN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Yl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},KX=Ae([Tr,lN,dN,kr],fN),GX=Ae(Jx,Tr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Go(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/s}}),TL=Ae(GX,Yn,dX,Si,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!yr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ia(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),YX=(e,t,n)=>{var r=so(e,t);return r==null||typeof r.padding!="string"?0:TL(e,"xAxis",t,n,r.padding)},XX=(e,t,n)=>{var r=oo(e,t);return r==null||typeof r.padding!="string"?0:TL(e,"yAxis",t,n,r.padding)},QX=Ae(so,YX,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),ZX=Ae(oo,XX,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),JX=Ae([Si,QX,_x,Ix,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),eQ=Ae([Si,Yn,ZX,_x,Ix,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),lh=(e,t,n,r)=>{var i;switch(t){case"xAxis":return JX(e,n,r);case"yAxis":return eQ(e,n,r);case"zAxis":return(i=YS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return cL(e);case"radiusAxis":return uL(e,n);default:return}},ML=Ae([Tr,lh],Yx),Ad=Ae([Tr,Ud,KX,ML],cN);Ae([sh,ev,kr],MX);function EL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var tv=(e,t)=>t,nv=(e,t,n)=>n,tQ=Ae(Ex,tv,nv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(EL)),nQ=Ae(Ox,tv,nv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(EL)),OL=(e,t)=>({width:e.width,height:t.height}),rQ=(e,t)=>{var n=typeof t.width=="number"?t.width:Ym;return{width:n,height:e.height}},iQ=Ae(Si,so,OL),aQ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},sQ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},oQ=Ae(tl,Si,tQ,tv,nv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=OL(t,o);s==null&&(s=aQ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),lQ=Ae(el,Si,nQ,tv,nv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=rQ(t,o);s==null&&(s=sQ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),cQ=(e,t)=>{var n=so(e,t);if(n!=null)return oQ(e,n.orientation,n.mirror)},uQ=Ae([Si,so,cQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),dQ=(e,t)=>{var n=oo(e,t);if(n!=null)return lQ(e,n.orientation,n.mirror)},fQ=Ae([Si,oo,dQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),mQ=Ae(Si,oo,(e,t)=>{var n=typeof t.width=="number"?t.width:Ym;return{width:n,height:e.height}}),IL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=rc(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&gI(l))return l}},mN=Ae([Yn,Jx,Tr,kr],IL),_L=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=rc(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},hN=Ae([Yn,Jx,ah,kr],_L),_P=Ae([Yn,kX,Ud,Ad,mN,hN,lh,dN,kr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=rc(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),hQ=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=rc(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Vi(a[0]-a[1])*2*p:p;var x=f||i;if(x){var b=x.map((v,w)=>{var y=s?s.indexOf(v):v;return{index:w,coordinate:r(y)+p,value:v,offset:p}});return b.filter(v=>yr(v.coordinate))}return u&&o?o.map((v,w)=>({coordinate:r(v)+p,value:v,index:w,offset:p})).filter(v=>yr(v.coordinate)):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,w)=>({coordinate:r(v)+p,value:s?s[v]:v,index:w,offset:p}))}},LL=Ae([Yn,ah,Ud,Ad,dN,lh,mN,hN,kr],hQ),pQ=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=rc(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Vi(r[0]-r[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},$L=Ae([Yn,ah,Ad,lh,mN,hN,kr],pQ),FL=Ae(Tr,Ad,(e,t)=>{if(!(e==null||t==null))return y0(y0({},e),{},{scale:t})}),gQ=Ae([Tr,Ud,lN,ML],cN);Ae((e,t,n)=>YS(e,n),gQ,(e,t)=>{if(!(e==null||t==null))return y0(y0({},e),{},{scale:t})});var xQ=Ae([Yn,Ex,Ox],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RL=e=>e.options.defaultTooltipEventType,BL=e=>e.options.validateTooltipEventTypes;function zL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function pN(e,t){var n=RL(e),r=BL(e);return zL(t,n,r)}function vQ(e){return Ot(t=>pN(t,e))}var UL=(e,t)=>{var n,r=Number(t);if(!(as(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},bQ=e=>e.tooltip.settings,Ml={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},yQ={itemInteraction:{click:Ml,hover:Ml},axisInteraction:{click:Ml,hover:Ml},keyboardInteraction:Ml,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WL=va({name:"tooltip",initialState:yQ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:vr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:vr()},removeTooltipEntrySettings:{reducer(e,t){var n=Cs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:vr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:wQ,replaceTooltipEntrySettings:kQ,removeTooltipEntrySettings:SQ,setTooltipSettingsState:NQ,setActiveMouseOverItemIndex:VL,mouseLeaveItem:CQ,mouseLeaveChart:HL,setActiveClickItemIndex:jQ,setMouseOverAxisIndex:qL,setMouseClickAxisIndex:AQ,setSyncInteraction:Uw,setKeyboardInteraction:Ww}=WL.actions,PQ=WL.reducer;function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){DQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DQ(e,t,n){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function OQ(e){return e.index!=null}var KL=(e,t,n,r)=>{if(t==null)return Ml;var i=EQ(e,t,n);if(i==null)return Ml;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(OQ(i)){if(a)return Ap(Ap({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ap(Ap({},Ml),{},{coordinate:i.coordinate})};function IQ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function _Q(e,t){var n=IQ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function LQ(e,t,n){if(n==null||t==null)return!0;var r=hr(e,t);return r==null||!Yl(n)?!0:_Q(r,n)}var gN=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!yr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||LQ(u,n,r)?String(l):null},GL=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},YL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},ch=e=>e.options.tooltipPayloadSearcher,Wd=e=>e.tooltip;function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BQ(e,t){return e??t}var XL=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:b}=m,v=BQ(x,o),w=Array.isArray(v)?j_(v,u,d):v,y=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:r,N=b==null?void 0:b.nameKey,j;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?j=xI(w,r,i):j=a(w,t,l,N),Array.isArray(j))j.forEach(A=>{var I=FP(FP({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(Xj({tooltipEntrySettings:I,dataKey:A.dataKey,payload:A.payload,value:hr(A.payload,A.dataKey),name:A.name}))});else{var S;h.push(Xj({tooltipEntrySettings:b,dataKey:y,payload:j,value:hr(j,y),name:(S=hr(j,N))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return h},f)}},xN=Ae([li,Yn,gL,US,oi],DL),zQ=Ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),UQ=Ae([oi,Bd],XS),Vd=Ae([zQ,li,UQ],QS,{memoizeOptions:{resultEqualityCheck:Zx}}),WQ=Ae([Vd],e=>e.filter(GS)),VQ=Ae([Vd],ZS,{memoizeOptions:{resultEqualityCheck:Zx}}),Hd=Ae([VQ,sc],JS),HQ=Ae([WQ,sc,li],mL),vN=Ae([Hd,li,Vd],tN),QL=Ae([li],nN),qQ=Ae([li],e=>e.allowDataOverflow),ZL=Ae([QL,qQ],H3),KQ=Ae([Vd],e=>e.filter(GS)),GQ=Ae([HQ,KQ,rh,aL],wL),YQ=Ae([GQ,sc,oi,ZL],kL),XQ=Ae([Vd],bL),QQ=Ae([Hd,li,XQ,ev,oi],aN,{memoizeOptions:{resultEqualityCheck:Qx}}),ZQ=Ae([SL,oi,Bd],zd),JQ=Ae([ZQ,oi],jL),eZ=Ae([NL,oi,Bd],zd),tZ=Ae([eZ,oi],AL),nZ=Ae([CL,oi,Bd],zd),rZ=Ae([nZ,oi],PL),iZ=Ae([JQ,rZ,tZ],w0),aZ=Ae([li,QL,ZL,YQ,QQ,iZ,Yn,oi],sN),uh=Ae([li,Yn,Hd,vN,rh,oi,aZ],oN),sZ=Ae([uh,li,xN],uN),oZ=Ae([li,uh,sZ,oi],fN),JL=e=>{var t=oi(e),n=Bd(e),r=!1;return lh(e,t,n,r)},e4=Ae([li,JL],Yx),t4=Ae([li,xN,oZ,e4],cN),lZ=Ae([Yn,vN,li,oi],IL),cZ=Ae([Yn,vN,li,oi],_L),uZ=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=rc(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vi(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},rl=Ae([Yn,li,xN,t4,JL,lZ,cZ,oi],uZ),bN=Ae([RL,BL,bQ],(e,t,n)=>zL(n.shared,e,t)),n4=e=>e.tooltip.settings.trigger,yN=e=>e.tooltip.settings.defaultIndex,dh=Ae([Wd,bN,n4,yN],KL),Pd=Ae([dh,Hd,oh,uh],gN),r4=Ae([rl,Pd],UL),i4=Ae([dh],e=>{if(e)return e.dataKey}),dZ=Ae([dh],e=>{if(e)return e.graphicalItemId}),a4=Ae([Wd,bN,n4,yN],YL),fZ=Ae([el,tl,Yn,Si,rl,yN,a4,ch],GL),mZ=Ae([dh,fZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hZ=Ae([dh],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),pZ=Ae([a4,Pd,sc,oh,r4,ch,bN],XL),gZ=Ae([pZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){xZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yZ=()=>Ot(li),wZ=()=>{var e=yZ(),t=Ot(rl),n=Ot(t4);return Jg(!e||!n?void 0:BP(BP({},e),{},{scale:n}),t)};function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CZ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},jZ=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Mu(Mu(Mu({},r),Yr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Mu(Mu(Mu({},r),Yr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function AZ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var s4=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,x=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||p==null||x==null))if(Vi(p-m)!==Vi(x-p)){var v=[];if(Vi(x-p)===Vi(i[1]-i[0])){b=x;var w=p+i[1]-i[0];v[0]=Math.min(w,(w+m)/2),v[1]=Math.max(w,(w+m)/2)}else{b=m;var y=x+i[1]-i[0];v[0]=Math.min(p,(y+p)/2),v[1]=Math.max(p,(y+p)/2)}var N=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){var j;return(j=n[o])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,x),A=Math.max(m,x);if(e>(S+p)/2&&e<=(A+p)/2){var I;return(I=n[o])===null||I===void 0?void 0:I.index}}}else if(t)for(var R=0;R<s;R++){var T=t[R];if(T!=null){var L=t[R+1],_=t[R-1];if(R===0&&L!=null&&e<=(T.coordinate+L.coordinate)/2||R===s-1&&_!=null&&e>(T.coordinate+_.coordinate)/2||R>0&&R<s-1&&_!=null&&L!=null&&e>(T.coordinate+_.coordinate)/2&&e<=(T.coordinate+L.coordinate)/2)return T.index}}return-1},PZ=()=>Ot(US),wN=(e,t)=>t,o4=(e,t,n)=>n,kN=(e,t,n,r)=>r,DZ=Ae(rl,e=>wx(e,t=>t.coordinate)),SN=Ae([Wd,wN,o4,kN],KL),NN=Ae([SN,Hd,oh,uh],gN),TZ=(e,t,n)=>{if(t!=null){var r=Wd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},l4=Ae([Wd,wN,o4,kN],YL),k0=Ae([el,tl,Yn,Si,rl,kN,l4,ch],GL),MZ=Ae([SN,k0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),c4=Ae([rl,NN],UL),EZ=Ae([l4,NN,sc,oh,c4,ch,wN],XL),OZ=Ae([SN,NN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),IZ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&AZ(e,s)){var o=o7(e,t),l=s4(o,a,i,n,r),u=CZ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},_Z=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=yK(e,n);if(o){var l=l7(o,t),u=s4(l,s,a,r,i),d=jZ(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},LZ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?IZ(e,t,r,i,a,s,o):_Z(e,t,n,r,i,a,s)},$Z=Ae(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),FZ=Ae(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(yi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:xX}});function UP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(n),!0).forEach(function(r){RZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RZ(e,t,n){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZ={},WZ={zIndexMap:Object.values(yi).reduce((e,t)=>WP(WP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),UZ)},VZ=new Set(Object.values(yi));function HZ(e){return VZ.has(e)}var u4=va({name:"zIndex",initialState:WZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:vr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!HZ(n)&&delete e.zIndexMap[n])},prepare:vr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:vr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:vr()}}}),{registerZIndexPortal:qZ,unregisterZIndexPortal:KZ,registerZIndexPortalElement:GZ,unregisterZIndexPortalElement:YZ}=u4.actions,XZ=u4.reducer;function us(e){var{zIndex:t,children:n}=e,r=_7(),i=r&&t!==void 0&&t!==0,a=sa(),s=Jn();g.useLayoutEffect(()=>i?(s(qZ({zIndex:t})),()=>{s(KZ({zIndex:t}))}):qm,[s,t,i]);var o=Ot(l=>$Z(l,t,a));return i?o?Ld.createPortal(n,o):null:n}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw.apply(null,arguments)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function tJ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,b;if(d==="ScatterChart")p=f,x=Iq,b=yi.cursorLine;else if(d==="BarChart")p=_q(o,f,a,s),x=r3,b=yi.cursorRectangle;else if(o==="radial"&&bI(f)){var{cx:v,cy:w,radius:y,startAngle:N,endAngle:j}=a3(f);p={cx:v,cy:w,startAngle:N,endAngle:j,innerRadius:y,outerRadius:y},x=o3,b=yi.cursorLine}else p={points:NK(o,f,a)},x=hS,b=yi.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,A=Pp(Pp(Pp(Pp({stroke:"#ccc",pointerEvents:"none"},a),p),bd(l)),{},{payload:h,payloadIndex:m,className:_n("recharts-tooltip-cursor",S)});return g.createElement(us,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(eJ,{cursor:l,cursorComp:x,cursorProps:A}))}function nJ(e){var t=wZ(),n=B_(),r=Qm(),i=PZ();return t==null||n==null||r==null||i==null?null:g.createElement(tJ,Vw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var d4=g.createContext(null),rJ=()=>g.useContext(d4),f4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var x=n?n+u:u;if(!this._events[x])return!1;var b=this._events[x],v=arguments.length,w,y;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,p),!0}for(y=1,w=new Array(v-1);y<v;y++)w[y-1]=arguments[y];b.fn.apply(b.context,w)}else{var N=b.length,j;for(y=0;y<N;y++)switch(b[y].once&&this.removeListener(u,b[y].fn,void 0,!0),v){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,d);break;case 3:b[y].fn.call(b[y].context,d,f);break;case 4:b[y].fn.call(b[y].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(v-1);j<v;j++)w[j-1]=arguments[j];b[y].fn.apply(b[y].context,w)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var x=0,b=[],v=p.length;x<v;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&b.push(p[x]);b.length?this._events[m]=b.length===1?b[0]:b:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(f4);var iJ=f4.exports;const aJ=_s(iJ);var Em=new aJ,Hw="recharts.syncEvent.tooltip",HP="recharts.syncEvent.brush";function m4(e,t){if(t){var n=Number.parseInt(t,10);if(!as(n))return e==null?void 0:e[n]}}var sJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},h4=va({name:"options",initialState:sJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oJ=h4.reducer,{createEventEmitter:lJ}=h4.actions;function cJ(e){return e.tooltip.syncInteraction}var uJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p4=va({name:"chartData",initialState:uJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:qP,setDataStartEndIndexes:dJ,setComputedData:Sxe}=p4.actions,fJ=p4.reducer,mJ=["x","y"];function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=pJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xJ(e,t){if(e==null)return{};var n,r,i=vJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bJ(){var e=Ot(WS),t=Ot(VS),n=Jn(),r=Ot(sL),i=Ot(rl),a=Qm(),s=Xm(),o=Ot(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return qm;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,b=xJ(m,mJ),{x:v,y:w,width:y,height:N}=d.payload.sourceViewBox,j=Eu(Eu({},b),{},{x:s.x+(y?(p-v)/y:0)*s.width,y:s.y+(N?(x-w)/N:0)*s.height});n(Eu(Eu({},d),{},{payload:Eu(Eu({},d.payload),{},{coordinate:j})}))}else n(d);return}if(i!=null){var S;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=r(i,A);S=i[I]}else r==="value"&&(S=i.find(be=>String(be.value)===d.payload.label));var{coordinate:R}=d.payload;if(S==null||d.payload.active===!1||R==null||s==null){n(Uw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:L}=R,_=Math.min(T,s.x+s.width),G=Math.min(L,s.y+s.height),ee={x:a==="horizontal"?S.coordinate:_,y:a==="horizontal"?G:S.coordinate},le=Uw({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(le)}}};return Em.on(Hw,l),()=>{Em.off(Hw,l)}},[o,n,t,e,r,i,a,s])}function yJ(){var e=Ot(WS),t=Ot(VS),n=Jn();g.useEffect(()=>{if(e==null)return qm;var r=(i,a,s)=>{t!==s&&e===i&&n(dJ(a))};return Em.on(HP,r),()=>{Em.off(HP,r)}},[n,t,e])}function wJ(){var e=Jn();g.useEffect(()=>{e(lJ())},[e]),bJ(),yJ()}function kJ(e,t,n,r,i,a){var s=Ot(m=>TZ(m,e,t)),o=Ot(VS),l=Ot(WS),u=Ot(sL),d=Ot(cJ),f=d==null?void 0:d.active,h=Xm();g.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Uw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Em.emit(Hw,l,m,o)}},[f,n,s,i,r,o,l,u,a,h])}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jJ(e){return e.dataKey}function AJ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(mq,t)}var XP=[],PJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ms(e){var t,n,r=Qr(e,PJ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:b,cursor:v,shared:w,trigger:y,defaultIndex:N,portal:j,axisId:S}=r,A=Jn(),I=typeof N=="number"?String(N):N;g.useEffect(()=>{A(NQ({shared:w,trigger:y,axisId:S,active:i,defaultIndex:I}))},[A,w,y,S,i,I]);var R=Xm(),T=Z_(),L=vQ(w),{activeIndex:_,isActive:G}=(t=Ot(re=>OZ(re,L,y,I)))!==null&&t!==void 0?t:{},ee=Ot(re=>EZ(re,L,y,I)),le=Ot(re=>c4(re,L,y,I)),be=Ot(re=>MZ(re,L,y,I)),X=ee,q=rJ(),K=(n=i??G)!==null&&n!==void 0?n:!1,[E,D]=XI([X,K]),ie=L==="axis"?le:void 0;kJ(L,y,be,ie,_,K);var k=j??q;if(k==null||R==null||L==null)return null;var B=X??XP;K||(B=XP),u&&B.length&&(B=FI(B.filter(re=>re.value!=null&&(re.hide!==!0||r.includeHidden)),h,jJ));var V=B.length>0,ne=g.createElement(yq,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:K,coordinate:be,hasPayload:V,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:R,wrapperStyle:b,lastBoundingBox:E,innerRef:D,hasPortalFromProps:!!j},AJ(l,YP(YP({},r),{},{payload:B,label:ie,active:K,activeIndex:_,coordinate:be,accessibilityLayer:T})));return g.createElement(g.Fragment,null,Ld.createPortal(ne,k),K&&g.createElement(nJ,{cursor:v,tooltipEventType:L,coordinate:be,payload:B,index:_}))}var Dd=e=>null;Dd.displayName="Cell";function DJ(e,t,n){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EJ{constructor(t){DJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){IJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IJ(e,t,n){return(t=_J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _J(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $J={cacheSize:2e3,enableCache:!0},g4=OJ({},$J),ZP=new EJ(g4.cacheSize),FJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JP="recharts_measurement_span";function RJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var eD=(e,t)=>{try{var n=document.getElementById(JP);n||(n=document.createElement("span"),n.setAttribute("id",JP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,FJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bx.isSsr)return{width:0,height:0};if(!g4.enableCache)return eD(t,n);var r=RJ(t,n),i=ZP.get(r);if(i)return i;var a=eD(t,n);return ZP.set(r,a),a},x4;function BJ(e,t,n){return(t=zJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zJ(e){var t=UJ(e,"string");return typeof t=="symbol"?t:t+""}function UJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qJ=["cm","mm","pt","pc","in","Q","px"];function KJ(e){return qJ.includes(e)}var Xu="NaN";function GJ(e,t){return e*HJ[t]}class Mi{static parse(t){var n,[,r,i]=(n=VJ.exec(t))!==null&&n!==void 0?n:[];return r==null?Mi.NaN:new Mi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,as(t)&&(this.unit=""),n!==""&&!WJ.test(n)&&(this.num=NaN,this.unit=""),KJ(n)&&(this.num=GJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mi(NaN,""):new Mi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return as(this.num)}}x4=Mi;BJ(Mi,"NaN",new x4(NaN,""));function v4(e){if(e==null||e.includes(Xu))return Xu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=tD.exec(t))!==null&&n!==void 0?n:[],s=Mi.parse(r??""),o=Mi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Xu;t=t.replace(tD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=nD.exec(t))!==null&&u!==void 0?u:[],m=Mi.parse(d??""),p=Mi.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return Xu;t=t.replace(nD,x.toString())}return t}var rD=/\(([^()]*)\)/;function YJ(e){for(var t=e,n;(n=rD.exec(t))!=null;){var[,r]=n;t=t.replace(rD,v4(r))}return t}function XJ(e){var t=e.replace(/\s+/g,"");return t=YJ(t),t=v4(t),t}function QJ(e){try{return XJ(e)}catch{return Xu}}function wb(e){var t=QJ(e.slice(5,-1));return t===Xu?"":t}var ZJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JJ=["dx","dy","angle","className","breakAll"];function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qw.apply(null,arguments)}function iD(e,t){if(e==null)return{};var n,r,i=eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var b4=/[ \f\n\r\t\v\u2028\u2029]+/,y4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ai(t)||(n?i=t.toString().split(""):i=t.toString().split(b4));var a=i.map(o=>({word:o,width:Wf(o,r).width})),s=n?0:Wf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function tee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var w4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),k4=e=>e.reduce((t,n)=>t.width>n.width?t:n),nee="",aD=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=y4({breakAll:n,style:r,children:l+nee});if(!u)return[!1,[]];var d=w4(u.wordsWithComputedWidth,a,s,o),f=d.length>i||k4(d).width>Number(a);return[f,d]},ree=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=Ut(a),d=String(s),f=w4(t,r,n,i);if(!u||i)return f;var h=f.length>a||k4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,x=0,b;m<=p&&x<=d.length-1;){var v=Math.floor((m+p)/2),w=v-1,[y,N]=aD(d,w,l,o,a,r,n,i),[j]=aD(d,v,l,o,a,r,n,i);if(!y&&!j&&(m=v+1),y&&j&&(p=v-1),!y&&j){b=N;break}x++}return b||f},sD=e=>{var t=ai(e)?[]:e.toString().split(b4);return[{words:t,width:void 0}]},iee=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Bx.isSsr){var o,l,u=y4({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return sD(r);return ree({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return sD(r)},S4="#808080",aee={angle:0,breakAll:!1,capHeight:"0.71em",fill:S4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rv=g.forwardRef((e,t)=>{var n=Qr(e,aee),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=iD(n,ZJ),h=g.useMemo(()=>iee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:x,className:b,breakAll:v}=f,w=iD(f,JJ);if(!ss(r)||!ss(i)||h.length===0)return null;var y=Number(r)+(Ut(m)?m:0),N=Number(i)+(Ut(p)?p:0);if(!yr(y)||!yr(N))return null;var j;switch(d){case"start":j=wb("calc(".concat(s,")"));break;case"middle":j=wb("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=wb("calc(".concat(h.length-1," * -").concat(a,")"));break}var S=[];if(l){var A=h[0].width,{width:I}=f;S.push("scale(".concat(Ut(I)&&Ut(A)?I/A:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(y,", ").concat(N,")")),S.length&&(w.transform=S.join(" ")),g.createElement("text",qw({},Ki(w),{ref:t,x:y,y:N,className:_n("recharts-text",b),textAnchor:u,fill:o.includes("url")?S4:o}),h.map((R,T)=>{var L=R.words.join(v?"":" ");return g.createElement("tspan",{x:y,dy:T===0?j:a,key:"".concat(L,"-").concat(T)},L)}))});rv.displayName="Text";var see=["labelRef"],oee=["content"];function oD(e,t){if(e==null)return{};var n,r,i=lee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(r){cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cee(e,t,n){return(t=uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var N4=g.createContext(null),C4=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return g.createElement(N4.Provider,{value:l},o)},j4=()=>{var e=g.useContext(N4),t=Xm();return e||R_(t)},fee=g.createContext(null),mee=()=>{var e=g.useContext(fee),t=Ot(dL);return e||t},hee=e=>{var{value:t,formatter:n}=e,r=ai(e.children)?t:e.children;return typeof n=="function"?n(r):r},CN=e=>e!=null&&typeof e=="function",pee=(e,t)=>{var n=Vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},gee=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,x=pee(f,h),b=x>=0?1:-1,v,w;switch(t){case"insideStart":v=f+b*a,w=m;break;case"insideEnd":v=h-b*a,w=!m;break;case"end":v=h+b*a,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=x<=0?w:!w;var y=Yr(o,l,p,v),N=Yr(o,l,p,v+(w?1:-1)*359),j="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),S=ai(e.id)?bm("recharts-radial-line-"):e.id;return g.createElement("text",Ao({},r,{dominantBaseline:"central",className:_n("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:S,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(S)},n))},xee=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Yr(r,i,s+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Yr(r,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Kw=e=>"cx"in e&&Ut(e.cx),vee=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Kw(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,h=s+(l-u)/2,m=(f+h)/2,p=(l+u)/2,x=f+l/2,b=d>=0?1:-1,v=b*r,w=b>0?"end":"start",y=b>0?"start":"end",N=l>=0?1:-1,j=N*r,S=N>0?"end":"start",A=N>0?"start":"end";if(i==="top"){var I={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:w};return Rr(Rr({},I),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var R={x:h+u/2,y:o+d+v,textAnchor:"middle",verticalAnchor:y};return Rr(Rr({},R),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var T={x:m-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return Rr(Rr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var L={x:m+p+j,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Rr(Rr({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:d}:{})}var _=a?{width:p,height:d}:{};return i==="insideLeft"?Rr({x:m+j,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},_):i==="insideRight"?Rr({x:m+p-j,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},_):i==="insideTop"?Rr({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:y},_):i==="insideBottom"?Rr({x:h+u/2,y:o+d-v,textAnchor:"middle",verticalAnchor:w},_):i==="insideTopLeft"?Rr({x:f+j,y:o+v,textAnchor:A,verticalAnchor:y},_):i==="insideTopRight"?Rr({x:f+l-j,y:o+v,textAnchor:S,verticalAnchor:y},_):i==="insideBottomLeft"?Rr({x:h+j,y:o+d-v,textAnchor:A,verticalAnchor:w},_):i==="insideBottomRight"?Rr({x:h+u-j,y:o+d-v,textAnchor:S,verticalAnchor:w},_):i&&typeof i=="object"&&(Ut(i.x)||Wo(i.x))&&(Ut(i.y)||Wo(i.y))?Rr({x:s+Ia(i.x,p),y:o+Ia(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):Rr({x,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},bee={angle:0,offset:5,zIndex:yi.label,position:"middle",textBreakAll:!1};function Al(e){var t=Qr(e,bee),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=mee(),f=j4(),h=r==="center"?f:d??f,m,p,x;if(n==null?m=h:Kw(n)?m=n:m=R_(n),!m||ai(i)&&ai(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var b=Rr(Rr({},t),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:v}=b,w=oD(b,see);return g.cloneElement(s,w)}if(typeof s=="function"){var{content:y}=b,N=oD(b,oee);if(p=g.createElement(s,N),g.isValidElement(p))return p}else p=hee(t);var j=Ki(t);if(Kw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gee(t,r,p,j,m);x=xee(m,t.offset,t.position)}else x=vee(t,m);return g.createElement(us,{zIndex:t.zIndex},g.createElement(rv,Ao({ref:u,className:_n("recharts-label",o)},j,x,{textAnchor:tee(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:l}),p))}Al.displayName="Label";var yee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(Al,Ao({key:"label-implicit"},r)):ss(e)?g.createElement(Al,Ao({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Al?g.cloneElement(e,Rr({key:"label-implicit"},r)):g.createElement(Al,Ao({key:"label-implicit",content:e},r)):CN(e)?g.createElement(Al,Ao({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Al,Ao({},e,{key:"label-implicit"},r)):null};function A4(e){var{label:t,labelRef:n}=e,r=j4();return yee(t,r,n)||null}var P4={},D4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(D4);var T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(T4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4,n=T4,r=vx;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(P4);var wee=P4.last;const kee=_s(wee);var See=["valueAccessor"],Nee=["dataKey","clockWise","id","textBreakAll","zIndex"];function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function cD(e,t){if(e==null)return{};var n,r,i=Cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jee=e=>Array.isArray(e.value)?kee(e.value):e.value,M4=g.createContext(void 0),Aee=M4.Provider,E4=g.createContext(void 0),Pee=E4.Provider;function Dee(){return g.useContext(M4)}function Tee(){return g.useContext(E4)}function rg(e){var{valueAccessor:t=jee}=e,n=cD(e,See),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=cD(n,Nee),u=Dee(),d=Tee(),f=u||d;return!f||!f.length?null:g.createElement(us,{zIndex:o??yi.label},g.createElement(na,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=ai(r)?t(h,m):hr(h&&h.payload,r),b=ai(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Al,S0({key:"label-".concat(m)},Ki(h),l,b,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}rg.displayName="LabelList";function O4(e){var{label:t}=e;return t?t===!0?g.createElement(rg,{key:"labelList-implicit"}):g.isValidElement(t)||CN(t)?g.createElement(rg,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(rg,S0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(null,arguments)}var I4=e=>{var{cx:t,cy:n,r,className:i}=e,a=_n("recharts-dot",i);return Ut(t)&&Ut(n)&&Ut(r)?g.createElement("circle",Gw({},is(e),Vk(e),{className:a,cx:t,cy:n,r})):null},_4=e=>e.graphicalItems.polarItems,Mee=Ae([kr,ih],XS),iv=Ae([_4,Tr,Mee],QS),Eee=Ae([iv],ZS),av=Ae([Eee,FS],JS),Oee=Ae([av,Tr,iv],tN);Ae([av,Tr,iv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=hr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:hr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var uD=()=>{},Iee=Ae([av,Tr,iv,ev,kr],aN),_ee=Ae([Tr,rN,iN,uD,Iee,uD,Yn,kr],sN),L4=Ae([Tr,Yn,av,Oee,rh,kr,_ee],oN),Lee=Ae([L4,Tr,Ud],uN);Ae([Tr,L4,Lee,kr],fN);var $ee={radiusAxis:{},angleAxis:{}},$4=va({name:"polarAxis",initialState:$ee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Nxe,removeRadiusAxis:Cxe,addAngleAxis:jxe,removeAngleAxis:Axe}=$4.actions,Fee=$4.reducer;function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uee=(e,t)=>t,jN=Ae([_4,Uee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Wee=[],AN=(e,t,n)=>(n==null?void 0:n.length)===0?Wee:n,F4=Ae([FS,jN,AN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>fD(fD({},t.presentationProps),a.props))),i!=null)return i}}),Vee=Ae([F4,jN,AN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=hr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:Mx(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),Hee=Ae([F4,jN,AN,Si],(e,t,n,r)=>{if(!(t==null||e==null))return ine({offset:r,pieSettings:t,displayedData:e,cells:n})}),R4={exports:{}},er={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv=60103,ov=60106,fh=60107,mh=60108,hh=60114,ph=60109,gh=60110,xh=60112,vh=60113,PN=60120,bh=60115,yh=60116,B4=60121,z4=60122,U4=60117,W4=60129,V4=60131;if(typeof Symbol=="function"&&Symbol.for){var Pi=Symbol.for;sv=Pi("react.element"),ov=Pi("react.portal"),fh=Pi("react.fragment"),mh=Pi("react.strict_mode"),hh=Pi("react.profiler"),ph=Pi("react.provider"),gh=Pi("react.context"),xh=Pi("react.forward_ref"),vh=Pi("react.suspense"),PN=Pi("react.suspense_list"),bh=Pi("react.memo"),yh=Pi("react.lazy"),B4=Pi("react.block"),z4=Pi("react.server.block"),U4=Pi("react.fundamental"),W4=Pi("react.debug_trace_mode"),V4=Pi("react.legacy_hidden")}function $s(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sv:switch(e=e.type,e){case fh:case hh:case mh:case vh:case PN:return e;default:switch(e=e&&e.$$typeof,e){case gh:case xh:case yh:case bh:case ph:return e;default:return t}}case ov:return t}}}var qee=ph,Kee=sv,Gee=xh,Yee=fh,Xee=yh,Qee=bh,Zee=ov,Jee=hh,ete=mh,tte=vh;er.ContextConsumer=gh;er.ContextProvider=qee;er.Element=Kee;er.ForwardRef=Gee;er.Fragment=Yee;er.Lazy=Xee;er.Memo=Qee;er.Portal=Zee;er.Profiler=Jee;er.StrictMode=ete;er.Suspense=tte;er.isAsyncMode=function(){return!1};er.isConcurrentMode=function(){return!1};er.isContextConsumer=function(e){return $s(e)===gh};er.isContextProvider=function(e){return $s(e)===ph};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sv};er.isForwardRef=function(e){return $s(e)===xh};er.isFragment=function(e){return $s(e)===fh};er.isLazy=function(e){return $s(e)===yh};er.isMemo=function(e){return $s(e)===bh};er.isPortal=function(e){return $s(e)===ov};er.isProfiler=function(e){return $s(e)===hh};er.isStrictMode=function(e){return $s(e)===mh};er.isSuspense=function(e){return $s(e)===vh};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fh||e===hh||e===W4||e===mh||e===vh||e===PN||e===V4||typeof e=="object"&&e!==null&&(e.$$typeof===yh||e.$$typeof===bh||e.$$typeof===ph||e.$$typeof===gh||e.$$typeof===xh||e.$$typeof===U4||e.$$typeof===B4||e[0]===z4)};er.typeOf=$s;R4.exports=er;var nte=R4.exports,mD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",hD=null,kb=null,H4=e=>{if(e===hD&&Array.isArray(kb))return kb;var t=[];return g.Children.forEach(e,n=>{ai(n)||(nte.isFragment(n)?t=t.concat(H4(n.props.children)):t.push(n))}),kb=t,hD=e,t};function q4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>mD(i)):r=[mD(t)],H4(e).forEach(i=>{var a=Jc(i,"type.displayName")||Jc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var K4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,G4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(G4);var rte=G4.isPlainObject;const ite=_s(rte);var pD,gD,xD,vD,bD;function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function vf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kD=(e,t,n,r,i)=>{var a=n-r,s;return s=Or(pD||(pD=vf(["M ",",",""])),e,t),s+=Or(gD||(gD=vf(["L ",",",""])),e+n,t),s+=Or(xD||(xD=vf(["L ",",",""])),e+n-a/2,t+i),s+=Or(vD||(vD=vf(["L ",",",""])),e+n-a/2-r,t+i),s+=Or(bD||(bD=vf(["L ",","," Z"])),e,t),s},lte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cte=e=>{var t=Qr(e,lte),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=g.useRef(null),[m,p]=g.useState(-1),x=g.useRef(i),b=g.useRef(a),v=g.useRef(s),w=g.useRef(n),y=g.useRef(r),N=Ux(e,"trapezoid-");if(g.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ee=h.current.getTotalLength();ee&&p(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=_n("recharts-trapezoid",o);if(!f)return g.createElement("g",null,g.createElement("path",N0({},Ki(t),{className:j,d:kD(n,r,i,a,s)})));var S=x.current,A=b.current,I=v.current,R=w.current,T=y.current,L="0px ".concat(m===-1?1:m,"px"),_="".concat(m,"px 0px"),G=J_(["strokeDasharray"],u,l);return g.createElement(zx,{animationId:N,key:N,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},ee=>{var le=Wi(S,i,ee),be=Wi(A,a,ee),X=Wi(I,s,ee),q=Wi(R,n,ee),K=Wi(T,r,ee);h.current&&(x.current=le,b.current=be,v.current=X,w.current=q,y.current=K);var E=ee>0?{transition:G,strokeDasharray:_}:{strokeDasharray:L};return g.createElement("path",N0({},Ki(t),{className:j,d:kD(q,K,le,be,X),ref:h,style:wD(wD({},E),t.style)}))})},ute=["option","shapeType","activeClassName"];function dte(e,t){if(e==null)return{};var n,r,i=fte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(r){mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mte(e,t,n){return(t=hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hte(e){var t=pte(e,"string");return typeof t=="symbol"?t:t+""}function pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){return C0(C0({},t),e)}function xte(e,t){return e==="symbols"}function ND(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(r3,n);case"trapezoid":return g.createElement(cte,n);case"sector":return g.createElement(o3,n);case"symbols":if(xte(t))return g.createElement(Wk,n);break;case"curve":return g.createElement(hS,n);default:return null}}function vte(e){return g.isValidElement(e)?e.props:e}function Y4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=dte(e,ute),a;if(g.isValidElement(t))a=g.cloneElement(t,C0(C0({},i),vte(t)));else if(typeof t=="function")a=t(i,i.index);else if(ite(t)&&typeof t!="boolean"){var s=gte(t,i);a=g.createElement(ND,{shapeType:n,elementProps:s})}else{var o=i;a=g.createElement(ND,{shapeType:n,elementProps:o})}return i.isActive?g.createElement(na,{className:r},a):a}var bte=(e,t,n)=>{var r=Jn();return(i,a)=>s=>{e==null||e(i,a,s),r(VL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},yte=e=>{var t=Jn();return(n,r)=>i=>{e==null||e(n,r,i),t(CQ())}},wte=(e,t,n)=>{var r=Jn();return(i,a)=>s=>{e==null||e(i,a,s),r(jQ({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function X4(e){var{tooltipEntrySettings:t}=e,n=Jn(),r=sa(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(wQ(t)):i.current!==t&&n(kQ({prev:i.current,next:t})),i.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{i.current&&(n(SQ(i.current)),i.current=null)},[n]),null}function kte(e){var{legendPayload:t}=e,n=Jn(),r=sa(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(G_(t)):i.current!==t&&n(Y_({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(X_(i.current)),i.current=null)},[n]),null}function Ste(e){var{legendPayload:t}=e,n=Jn(),r=Ot(Yn),i=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(G_(t)):i.current!==t&&n(Y_({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(X_(i.current)),i.current=null)},[n]),null}var Sb,Nte=()=>{var[e]=g.useState(()=>bm("uid-"));return e},Cte=(Sb=Lz.useId)!==null&&Sb!==void 0?Sb:Nte;function jte(e,t){var n=Cte();return t||(e?"".concat(e,"-").concat(n):n)}var Ate=g.createContext(void 0),Q4=e=>{var{id:t,type:n,children:r}=e,i=jte("recharts-".concat(n),t);return g.createElement(Ate.Provider,{value:i},r(i))},Pte={cartesianItems:[],polarItems:[]},Z4=va({name:"graphicalItems",initialState:Pte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:vr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Cs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:vr()},removeCartesianGraphicalItem:{reducer(e,t){var n=Cs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:vr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:vr()},removePolarGraphicalItem:{reducer(e,t){var n=Cs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:vr()}}}),{addCartesianGraphicalItem:Dte,replaceCartesianGraphicalItem:Tte,removeCartesianGraphicalItem:Mte,addPolarGraphicalItem:Ete,removePolarGraphicalItem:Ote}=Z4.actions,Ite=Z4.reducer,_te=e=>{var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Dte(e)):n.current!==e&&t(Tte({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Mte(n.current)),n.current=null)},[t]),null},Lte=g.memo(_te);function $te(e){var t=Jn();return g.useLayoutEffect(()=>(t(Ete(e)),()=>{t(Ote(e))}),[t,e]),null}var Fte=["key"],Rte=["onMouseEnter","onClick","onMouseLeave"],Bte=["id"],zte=["id"];function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){Ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ute(e,t,n){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(null,arguments)}function lv(e,t){if(e==null)return{};var n,r,i=Hte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qte(e){var t=g.useMemo(()=>q4(e.children,Dd),[e.children]),n=Ot(r=>Vee(r,e.id,t));return n==null?null:g.createElement(Ste,{legendPayload:n})}var Kte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:Mx(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:d}};return g.createElement(X4,{tooltipEntrySettings:f})}),Gte=(e,t)=>e>t?"start":e<t?"end":"middle",Yte=(e,t,n)=>Ia(typeof t=="function"?t(e):t,n,n*.8),Xte=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=i3(a,s),l=i+Ia(e.cx,a,a/2),u=r+Ia(e.cy,s,s/2),d=Ia(e.innerRadius,o,0),f=Yte(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Qte=(e,t)=>{var n=Vi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Zte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Jte=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=_n("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=lv(t,Fte);return g.createElement(hS,Xl({},i,{type:"linear",className:n}))},ene=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var i=_n("recharts-pie-label-text",Zte(e));return g.createElement(rv,Xl({},t,{alignmentBaseline:"middle",className:i}),r)};function tne(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=is(n),l=bd(i),u=bd(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=Yr(h.cx,h.cy,h.outerRadius+d,p),b=_r(_r(_r(_r({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Gte(x.x,h.cx)},x),v=_r(_r(_r(_r({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Yr(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return g.createElement(us,{zIndex:yi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},g.createElement(na,null,a&&Jte(a,v),ene(i,b,hr(h,s))))});return g.createElement(na,{className:"recharts-pie-labels"},f)}function nne(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(O4,{label:i}):g.createElement(tne,{sectors:t,props:n,showLabels:r})}function rne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=Ot(Pd),l=Ot(i4),u=Ot(dZ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=lv(i,Rte),p=bte(d,i.dataKey,s),x=yte(h),b=wte(f,i.dataKey,s);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((v,w)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var y=u==null||u===s,N=String(w)===o&&(l==null||i.dataKey===l)&&y,j=o?r:null,S=n&&N?n:j,A=_r(_r({},v),{},{stroke:v.stroke,tabIndex:-1,[T_]:w,[M_]:s});return g.createElement(na,Xl({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Hk(m,v,w),{onMouseEnter:p(v,w),onMouseLeave:x(v,w),onClick:b(v,w)}),g.createElement(Y4,Xl({option:a??S,index:w,shapeType:"sector",isActive:N},A)))}))}function ine(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=Qte(o,l),p=Math.abs(m),x=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(S=>hr(S,u,0)!==0).length,v=(p>=360?b:b-1)*x,w=p-b*h-v,y=r.reduce((S,A)=>{var I=hr(A,u,0);return S+(Ut(I)?I:0)},0),N;if(y>0){var j;N=r.map((S,A)=>{var I=hr(S,u,0),R=hr(S,d,A),T=Xte(n,a,S),L=(Ut(I)?I:0)/y,_,G=_r(_r({},S),i&&i[A]&&i[A].props);A?_=j.endAngle+Vi(m)*x*(I!==0?1:0):_=o;var ee=_+Vi(m)*((I!==0?h:0)+L*w),le=(_+ee)/2,be=(T.innerRadius+T.outerRadius)/2,X=[{name:R,value:I,payload:G,dataKey:u,type:f,graphicalItemId:n.id}],q=Yr(T.cx,T.cy,be,le);return j=_r(_r(_r(_r({},n.presentationProps),{},{percent:L,cornerRadius:typeof s=="string"?parseFloat(s):s,name:R,tooltipPayload:X,midAngle:le,middleRadius:be,tooltipPosition:q},G),T),{},{value:I,dataKey:u,startAngle:_,endAngle:ee,payload:G,paddingAngle:Vi(m)*x}),j})}return N}function ane(e){var{showLabels:t,sectors:n,children:r}=e,i=g.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return g.createElement(Pee,{value:t?i:void 0},r)}function sne(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=Ux(t,"recharts-pie-"),p=n.current,[x,b]=g.useState(!1),v=g.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),w=g.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return g.createElement(ane,{showLabels:!x,sectors:i},g.createElement(zx,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:w,onAnimationEnd:v,key:m},y=>{var N=[],j=i&&i[0],S=j==null?void 0:j.startAngle;return i==null||i.forEach((A,I)=>{var R=p&&p[I],T=I>0?Jc(A,"paddingAngle",0):0;if(R){var L=Wi(R.endAngle-R.startAngle,A.endAngle-A.startAngle,y),_=_r(_r({},A),{},{startAngle:S+T,endAngle:S+L+T});N.push(_),S=_.endAngle}else{var{endAngle:G,startAngle:ee}=A,le=Wi(0,G-ee,y),be=_r(_r({},A),{},{startAngle:S+T,endAngle:S+le+T});N.push(be),S=be.endAngle}}),n.current=N,g.createElement(na,null,g.createElement(rne,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(nne,{showLabels:!x,sectors:i,props:t}),t.children)}var one={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:yi.area};function lne(e){var{id:t}=e,n=lv(e,Bte),{hide:r,className:i,rootTabIndex:a}=e,s=g.useMemo(()=>q4(e.children,Dd),[e.children]),o=Ot(d=>Hee(d,t,s)),l=g.useRef(null),u=_n("recharts-pie",i);return r||o==null?(l.current=null,g.createElement(na,{tabIndex:a,className:u})):g.createElement(us,{zIndex:e.zIndex},g.createElement(Kte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(na,{tabIndex:a,className:u},g.createElement(sne,{props:_r(_r({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function j0(e){var t=Qr(e,one),{id:n}=t,r=lv(t,zte),i=is(r);return g.createElement(Q4,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement($te,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(qte,Xl({},r,{id:a})),g.createElement(lne,Xl({},r,{id:a}))))}j0.displayName="Pie";var cne=["points"];function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function mne(e,t){if(e==null)return{};var n,r,i=hne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var i=_n(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=mne(a,cne);return g.createElement(I4,A0({},o,{className:i}))}function gne(e,t){return e==null?!1:t?!0:e.length===1}function xne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=yi.scatter}=e;if(!gne(t,n))return null;var d=K4(n),f=QW(n),h=t.map((p,x)=>{var b,v,w=Nb(Nb(Nb({r:3},s),f),{},{index:x,cx:(b=p.x)!==null&&b!==void 0?b:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return g.createElement(pne,{key:"dot-".concat(x),option:n,dotProps:w,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(us,{zIndex:u},g.createElement(na,A0({className:r},m),h))}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){vne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vne(e,t,n){return(t=bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wne={xAxis:{},yAxis:{},zAxis:{}},J4=va({name:"cartesianAxis",initialState:wne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:vr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:vr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:vr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:vr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:vr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:vr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:vr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:vr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:vr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=PD(PD({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:kne,replaceXAxis:Sne,removeXAxis:Nne,addYAxis:Cne,replaceYAxis:jne,removeYAxis:Ane,addZAxis:Pxe,replaceZAxis:Dxe,removeZAxis:Txe,updateYAxisWidth:Pne}=J4.actions,Dne=J4.reducer,Tne=Ae([Si],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Mne=Ae([Tne,el,tl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),DN=()=>Ot(Mne),Ene=()=>Ot(gZ);function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){One(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function One(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Cb(Cb(Cb({},o),bd(i)),Vk(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,l):typeof i=="function"?u=i(l):u=g.createElement(I4,l),g.createElement(na,{className:"recharts-active-dot",clipPath:s},u)};function $ne(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=yi.activeDot}=e,o=Ot(Pd),l=Ene();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return ai(u)?null:g.createElement(us,{zIndex:s},g.createElement(Lne,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var e$=e=>{var{chartData:t}=e,n=Jn(),r=sa();return g.useEffect(()=>r?()=>{}:(n(qP(t)),()=>{n(qP(void 0))}),[t,n,r]),null},TD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},t$=va({name:"brush",initialState:TD,reducers:{setBrushSettings(e,t){return t.payload==null?TD:t.payload}}}),{setBrushSettings:Mxe}=t$.actions,Fne=t$.reducer;function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(r){n$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n$(e,t,n){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zne=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},Une=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return zne({x:t,y:n},{x:r,y:i})};class cv{static create(t){return new cv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}n$(cv,"EPS",1e-4);var Wne=e=>{var t=Object.keys(e).reduce((n,r)=>Dp(Dp({},n),{},{[r]:cv.create(e[r])}),{});return Dp(Dp({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[s,o]=a;return[s,t[s].apply(o,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Vne(e){return(e%180+180)%180}var Hne=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vne(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},qne={dots:[],areas:[],lines:[]},r$=va({name:"referenceElements",initialState:qne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Cs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Cs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Cs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Exe,removeDot:Oxe,addArea:Ixe,removeArea:_xe,addLine:Kne,removeLine:Gne}=r$.actions,Yne=r$.reducer,i$=g.createContext(void 0),Xne=e=>{var{children:t}=e,[n]=g.useState("".concat(bm("recharts"),"-clip")),r=DN();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(i$.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),t)},Qne=()=>g.useContext(i$);function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(r){Zne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zne(e,t,n){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jne(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}var tre=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!yr(t.x1)||!yr(t.y1)||!yr(t.x2)||!yr(t.y2))return null;n=g.createElement("line",P0({},t,{className:"recharts-reference-line-line"}))}return n},nre=(e,t,n,r,i,a)=>{var{x:s,width:o}=a,l=i.y.apply(e,{position:n});if(as(l)||t==="discard"&&!i.y.isInRange(l))return null;var u=[{x:s+o,y:l},{x:s,y:l}];return r==="left"?u.reverse():u},rre=(e,t,n,r,i,a)=>{var{y:s,height:o}=a,l=i.x.apply(e,{position:n});if(as(l)||t==="discard"&&!i.x.isInRange(l))return null;var u=[{x:l,y:s+o},{x:l,y:s}];return r==="top"?u.reverse():u},ire=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},are=(e,t,n,r,i,a)=>{var{x:s,y:o,segment:l,ifOverflow:u}=a,d=ss(s),f=ss(o);return f?nre(o,u,n,i,e,t):d?rre(s,u,n,r,e,t):l!=null&&l.length===2?ire(l,u,n,e):null};function sre(e){var t=Jn();return g.useEffect(()=>(t(Kne(e)),()=>{t(Gne(e))})),null}function ore(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,s=sa(),o=Qne(),l=Ot(S=>so(S,t)),u=Ot(S=>oo(S,n)),d=Ot(S=>Ad(S,"xAxis",t,s)),f=Ot(S=>Ad(S,"yAxis",n,s)),h=Xm();if(!o||!h||l==null||u==null||d==null||f==null)return null;var m=Wne({x:d,y:f}),p=are(m,h,e.position,l.orientation,u.orientation,e);if(!p)return null;var[{x,y:b},{x:v,y:w}]=p,y=a==="hidden"?"url(#".concat(o,")"):void 0,N=OD(OD({clipPath:y},Ki(e)),{},{x1:x,y1:b,x2:v,y2:w}),j=Une({x1:x,y1:b,x2:v,y2:w});return g.createElement(us,{zIndex:e.zIndex},g.createElement(na,{className:_n("recharts-reference-line",i)},tre(r,N),g.createElement(C4,P0({},j,{lowerWidth:j.width,upperWidth:j.width}),g.createElement(A4,{label:e.label}),e.children)))}var lre={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:yi.line};function Yw(e){var t=Qr(e,lre);return g.createElement(g.Fragment,null,g.createElement(sre,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(ore,t))}Yw.displayName="ReferenceLine";function a$(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function cre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Hne(r,n)}function ure(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Om(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function dre(e,t){return a$(e,t+1)}function fre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:a$(r,u)};var x=l,b,v=()=>(b===void 0&&(b=n(p,x)),b),w=p.coordinate,y=l===0||Om(e,w,v,d,o);y||(l=0,d=s,u+=1),y&&(d=w+e*(v()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function mre(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var d=(s-1)%u,f=o,h=!0,m=function(){var w=r[p],y=p,N,j=()=>(N===void 0&&(N=n(w,y)),N),S=w.coordinate,A=p===d||Om(e,S,j,f,l);if(!A)return h=!1,1;A&&(f=S+e*(j()/2+i))},p=d;p<s&&!m();p+=u);if(h){for(var x=[],b=d;b<s;b+=u)x.push(r[b]);return x}}return[]}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hre(e,t,n){return(t=pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xre(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var m=a[h],p,x=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var b=e*(m.coordinate+e*x()/2-l);a[h]=m=Bi(Bi({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else a[h]=m=Bi(Bi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Om(e,m.tickCoord,x,o,l);v&&(l=m.tickCoord-e*(x()/2+i),a[h]=Bi(Bi({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function vre(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Bi(Bi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Om(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=Bi(Bi({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,x=function(w){var y=s[w],N,j=()=>(N===void 0&&(N=n(y,w)),N);if(w===0){var S=e*(y.coordinate-e*j()/2-l);s[w]=y=Bi(Bi({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else s[w]=y=Bi(Bi({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var A=Om(e,y.tickCoord,j,l,u);A&&(l=y.tickCoord+e*(j()/2+i),s[w]=Bi(Bi({},y),{},{isShow:!0}))}},b=0;b<p;b++)x(b);return s}function TN(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Ut(l)||Bx.isSsr){var h;return(h=dre(i,Ut(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",x=d&&p==="width"?Wf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(y,N)=>{var j=typeof u=="function"?u(y.value,N):y.value;return p==="width"?cre(Wf(j,{fontSize:t,letterSpacing:n}),x,f):Wf(j,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?Vi(i[1].coordinate-i[0].coordinate):1,w=ure(a,v,p);return l==="equidistantPreserveStart"?fre(v,w,b,i,s):l==="equidistantPreserveEnd"?mre(v,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=vre(v,w,b,i,s,l==="preserveStartEnd"):m=xre(v,w,b,i,s),m.filter(y=>y.isShow))}var bre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},yre=["axisLine","width","height","className","hide","ticks","axisType"];function wre(e,t){if(e==null)return{};var n,r,i=kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(null,arguments)}function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nre(e){var t=Cre(e,"string");return typeof t=="symbol"?t:t+""}function Cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yi.axis};function jre(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Kr(Kr(Kr({},l),is(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Kr(Kr({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Kr(Kr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return g.createElement("line",iu({},u,{className:_n("recharts-cartesian-axis-line",Jc(o,"className"))}))}function Are(e,t,n,r,i,a,s,o,l){var u,d,f,h,m,p,x=o?-1:1,b=e.tickSize||s,v=Ut(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=n+ +!o*i,f=h-x*b,p=f-x*l,m=v;break;case"left":f=h=e.coordinate,d=t+ +!o*r,u=d-x*b,m=u-x*l,p=v;break;case"right":f=h=e.coordinate,d=t+ +o*r,u=d+x*b,m=u+x*l,p=v;break;default:u=d=e.coordinate,h=n+ +o*i,f=h+x*b,p=f+x*l,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Pre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Dre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Tre(e){var{option:t,tickProps:n,value:r}=e,i,a=_n(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,Kr(Kr({},n),{},{className:a}));else if(typeof t=="function")i=t(Kr(Kr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=_n(s,t==null?void 0:t.className)),i=g.createElement(rv,iu({},n,{className:s}),r)}return i}var Mre=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:b,tickMargin:v,fontSize:w,letterSpacing:y,getTicksConfig:N,events:j,axisType:S}=e,A=TN(Kr(Kr({},N),{},{ticks:n}),w,y),I=Pre(d,f),R=Dre(d,f),T=is(N),L=bd(r),_={};typeof i=="object"&&(_=i);var G=Kr(Kr({},T),{},{fill:"none"},_),ee=A.map(X=>Kr({entry:X},Are(X,h,m,p,x,d,b,f,v))),le=ee.map(X=>{var{entry:q,line:K}=X;return g.createElement(na,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},i&&g.createElement("line",iu({},G,K,{className:_n("recharts-cartesian-axis-tick-line",Jc(i,"className"))})))}),be=ee.map((X,q)=>{var{entry:K,tick:E}=X,D=Kr(Kr(Kr(Kr({textAnchor:I,verticalAnchor:R},T),{},{stroke:"none",fill:a},L),E),{},{index:q,payload:K,visibleTicksCount:A.length,tickFormatter:s,padding:l},u);return g.createElement(na,iu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},Hk(j,K,q)),r&&g.createElement(Tre,{option:r,tickProps:D,value:"".concat(typeof s=="function"?s(K.value,q):K.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},be.length>0&&g.createElement(us,{zIndex:yi.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},be)),le.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},le))}),Ere=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=wre(e,yre),[d,f]=g.useState(""),[h,m]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return bre({ticks:p.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(b=>{if(b){var v=b.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var w=v[0];if(w){var y=window.getComputedStyle(w),N=y.fontSize,j=y.letterSpacing;(N!==d||j!==h)&&(f(N),m(j))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(us,{zIndex:e.zIndex},g.createElement(na,{className:_n("recharts-cartesian-axis",a)},g.createElement(jre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:is(e)}),g.createElement(Mre,{ref:x,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(C4,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(A4,{label:e.label,labelRef:e.labelRef}),e.children)))}),MN=g.forwardRef((e,t)=>{var n=Qr(e,Lo);return g.createElement(Ere,iu({},n,{ref:t}))});MN.displayName="CartesianAxis";var Ore=["x1","y1","x2","y2","key"],Ire=["offset"],_re=["xAxisId","yAxisId"],Lre=["xAxisId","yAxisId"];function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(r){$re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $re(e,t,n){return(t=Fre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lc.apply(null,arguments)}function D0(e,t){if(e==null)return{};var n,r,i=Bre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function s$(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,d=D0(n,Ore),f=(i=is(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=D0(f,Ire);r=g.createElement("line",Lc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Ure(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=D0(e,_re),l=i.map((u,d)=>{var f=Ui(Ui({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(s$,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Wre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=D0(e,Lre),l=i.map((u,d)=>{var f=Ui(Ui({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(s$,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Vre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Hre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var x=h%n.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var qre=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return A_(TN(Ui(Ui(Ui({},Lo),n),{},{ticks:P_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Kre=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return A_(TN(Ui(Ui(Ui({},Lo),n),{},{ticks:P_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Gre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yi.grid};function Yo(e){var t=uS(),n=dS(),r=B_(),i=Ui(Ui({},Qr(e,Gre)),{},{x:Ut(e.x)?e.x:r.left,y:Ut(e.y)?e.y:r.top,width:Ut(e.width)?e.width:r.width,height:Ut(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=sa(),x=Ot(R=>_P(R,"xAxis",a,p)),b=Ot(R=>_P(R,"yAxis",s,p));if(!io(u)||!io(d)||!Ut(o)||!Ut(l))return null;var v=i.verticalCoordinatesGenerator||qre,w=i.horizontalCoordinatesGenerator||Kre,{horizontalPoints:y,verticalPoints:N}=i;if((!y||!y.length)&&typeof w=="function"){var j=h&&h.length,S=w({yAxis:b?Ui(Ui({},b),{},{ticks:j?h:b.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);e0(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!N||!N.length)&&typeof v=="function"){var A=m&&m.length,I=v({xAxis:x?Ui(Ui({},x),{},{ticks:A?m:x.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);e0(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(N=I)}return g.createElement(us,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(zre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(Vre,Lc({},i,{horizontalPoints:y})),g.createElement(Hre,Lc({},i,{verticalPoints:N})),g.createElement(Ure,Lc({},i,{offset:r,horizontalPoints:y,xAxis:x,yAxis:b})),g.createElement(Wre,Lc({},i,{offset:r,verticalPoints:N,xAxis:x,yAxis:b}))))}Yo.displayName="CartesianGrid";var Yre={},o$=va({name:"errorBars",initialState:Yre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Lxe,replaceErrorBar:$xe,removeErrorBar:Fxe}=o$.actions,Xre=o$.reducer,Qre=["children"];function Zre(e,t){if(e==null)return{};var n,r,i=Jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tie=g.createContext(eie);function nie(e){var{children:t}=e,n=Zre(e,Qre);return g.createElement(tie.Provider,{value:n},t)}function l$(e,t){var n,r,i=Ot(u=>so(u,e)),a=Ot(u=>oo(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:pi.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gi.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function rie(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=DN(),{needClipX:a,needClipY:s,needClip:o}=l$(t,n);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var c$=(e,t,n,r)=>FL(e,"xAxis",t,r),u$=(e,t,n,r)=>$L(e,"xAxis",t,r),d$=(e,t,n,r)=>FL(e,"yAxis",n,r),f$=(e,t,n,r)=>$L(e,"yAxis",n,r),iie=Ae([Yn,c$,d$,u$,f$],(e,t,n,r,i)=>rc(e,"xAxis")?Jg(t,r,!1):Jg(n,i,!1)),aie=(e,t,n,r,i)=>i;function sie(e){return e.type==="line"}var oie=Ae([xL,aie],(e,t)=>e.filter(sie).find(n=>n.id===t)),lie=Ae([Yn,c$,d$,u$,f$,oie,iie,RS],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(u,d+1),m!=null)return Jie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function cie(e){var t=bd(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var uie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=g;function die(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fie=typeof Object.is=="function"?Object.is:die,mie=wh.useSyncExternalStore,hie=wh.useRef,pie=wh.useEffect,gie=wh.useMemo,xie=wh.useDebugValue;uie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=hie(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=gie(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,fie(d,m))return p;var x=r(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=mie(e,a[0],a[1]);return pie(function(){s.hasValue=!0,s.value=o},[o]),xie(o),o};function vie(e){e()}function bie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $D={notify(){},get:()=>[]};function yie(e,t){let n,r=$D,i=0,a=!1;function s(x){d();const b=r.subscribe(x);let v=!1;return()=>{v||(v=!0,b(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return a}function d(){i++,n||(n=e.subscribe(l),r=bie())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$D)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var wie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kie=wie(),Sie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nie=Sie(),Cie=()=>kie||Nie?g.useLayoutEffect:g.useEffect,jie=Cie();function FD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Aie(e,t){if(FD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!FD(e[n[i]],t[n[i]]))return!1;return!0}var jb=Symbol.for("react-redux-context"),Ab=typeof globalThis<"u"?globalThis:{};function Pie(){if(!g.createContext)return{};const e=Ab[jb]??(Ab[jb]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Die=Pie();function Tie(e){const{children:t,context:n,serverState:r,store:i}=e,a=g.useMemo(()=>{const l=yie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);jie(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Die;return g.createElement(o.Provider,{value:a},t)}var Mie=Tie,Eie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Oie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function EN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Eie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Aie(e[r],t[r]))return!1}else if(!Oie(e[r],t[r]))return!1;return!0}var Iie=["id"],_ie=["type","layout","connectNulls","needClip","shape"],Lie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Im.apply(null,arguments)}function RD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(n),!0).forEach(function(r){$ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ie(e,t,n){return(t=Fie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fie(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ON(e,t){if(e==null)return{};var n,r,i=Bie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Mx(n,t),payload:e}]},Uie=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Mx(s,t),hide:o,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(X4,{tooltipEntrySettings:f})}),m$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Wie(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Vie=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return m$(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>a){o=[...n.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...Wie(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Hie(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=ON(r,Iie),u=is(l);return g.createElement(xne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function qie(e){var{showLabels:t,children:n,points:r}=e,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Qs(Qs({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(Aee,{value:t?i:void 0},n)}function BD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,f=ON(a,_ie),h=Qs(Qs({},Ki(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(Y4,Im({shapeType:"curve",option:d},h,{pathRef:n})),g.createElement(Hie,{points:r,clipPathId:t,props:a}))}function Kie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Gie(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:b}=n,v=i.current,w=Ux(s,"recharts-line-"),y=g.useRef(w),[N,j]=g.useState(!1),S=!N,A=g.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),I=g.useCallback(()=>{typeof b=="function"&&b(),j(!0)},[b]),R=Kie(r.current),T=g.useRef(0);y.current!==w&&(T.current=a.current,y.current=w);var L=T.current;return g.createElement(qie,{points:s,showLabels:S},n.children,g.createElement(zx,{animationId:w,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:I,key:w},_=>{var G=Wi(L,R+L,_),ee=Math.min(G,R),le;if(l)if(o){var be="".concat(o).split(/[,\s]+/gim).map(K=>parseFloat(K));le=Vie(ee,R,be)}else le=m$(R,ee);else le=o==null?void 0:String(o);if(_>0&&R>0&&(i.current=s,a.current=Math.max(a.current,ee)),v){var X=v.length/s.length,q=_===1?s:s.map((K,E)=>{var D=Math.floor(E*X);if(v[D]){var ie=v[D];return Qs(Qs({},K),{},{x:Wi(ie.x,K.x,_),y:Wi(ie.y,K.y,_)})}return h?Qs(Qs({},K),{},{x:Wi(m*2,K.x,_),y:Wi(p/2,K.y,_)}):Qs(Qs({},K),{},{x:K.x,y:K.y})});return i.current=q,g.createElement(BD,{props:n,points:q,clipPathId:t,pathRef:r,strokeDasharray:le})}return g.createElement(BD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:le})}),g.createElement(O4,{label:n.label}))}function Yie(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(Gie,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Xie=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:hr(e.payload,t)}};class Qie extends g.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=_n("recharts-line",i),x=f,{r:b,strokeWidth:v}=cie(n),w=K4(n),y=b*2+v,N=h?"url(#clipPath-".concat(w?"":"dots-").concat(x,")"):void 0;return g.createElement(us,{zIndex:m},g.createElement(na,{className:p},h&&g.createElement("defs",null,g.createElement(rie,{clipPathId:x,xAxisId:a,yAxisId:s}),!w&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:l-y/2,y:o-y/2,width:u+y,height:d+y}))),g.createElement(nie,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Xie,errorBarOffset:0},g.createElement(Yie,{props:this.props,clipPathId:x}))),g.createElement($ne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var h$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yi.line,type:"linear"};function Zie(e){var t=Qr(e,h$),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:x}=t,b=ON(t,Lie),{needClip:v}=l$(m,p),w=DN(),y=Qm(),N=sa(),j=Ot(T=>lie(T,m,p,N,x));if(y!=="horizontal"&&y!=="vertical"||j==null||w==null)return null;var{height:S,width:A,x:I,y:R}=w;return g.createElement(Qie,Im({},b,{id:x,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:y,height:S,width:A,left:I,top:R,needClip:v}))}function Jie(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=hr(u,s);if(t==="horizontal"){var h=Kj({axis:n,ticks:i,bandSize:o,entry:u,index:d}),m=ai(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var p=ai(f)?null:n.scale(f),x=Kj({axis:r,ticks:a,bandSize:o,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function eae(e){var t=Qr(e,h$),n=sa();return g.createElement(Q4,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(kte,{legendPayload:zie(t)}),g.createElement(Uie,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(Lte,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Zie,Im({},t,{id:r}))))}var ua=g.memo(eae,EN);ua.displayName="Line";var tae=["domain","range"],nae=["domain","range"];function zD(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function p$(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=zD(e,tae),{domain:a,range:s}=t,o=zD(t,nae);return!UD(n,a)||!UD(r,s)?!1:EN(i,o)}var iae=["dangerouslySetInnerHTML","ticks","scale"],aae=["id","scale"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(null,arguments)}function WD(e,t){if(e==null)return{};var n,r,i=sae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oae(e){var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(kne(e)):n.current!==e&&t(Sne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Nne(n.current)),n.current=null)},[t]),null}var lae=e=>{var{xAxisId:t,className:n}=e,r=Ot(E_),i=sa(),a="xAxis",s=Ot(v=>LL(v,a,t,i)),o=Ot(v=>iQ(v,t)),l=Ot(v=>uQ(v,t)),u=Ot(v=>hL(v,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=WD(e,iae),{id:p,scale:x}=u,b=WD(u,aae);return g.createElement(MN,Xw({},m,b,{x:l.x,y:l.y,width:o.width,height:o.height,className:_n("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},cae={allowDataOverflow:pi.allowDataOverflow,allowDecimals:pi.allowDecimals,allowDuplicatedCategory:pi.allowDuplicatedCategory,angle:pi.angle,axisLine:Lo.axisLine,height:pi.height,hide:!1,includeHidden:pi.includeHidden,interval:pi.interval,minTickGap:pi.minTickGap,mirror:pi.mirror,orientation:pi.orientation,padding:pi.padding,reversed:pi.reversed,scale:pi.scale,tick:pi.tick,tickCount:pi.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:pi.type,xAxisId:0},uae=e=>{var t=Qr(e,cae);return g.createElement(g.Fragment,null,g.createElement(oae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(lae,t))},Xo=g.memo(uae,p$);Xo.displayName="XAxis";var dae=["dangerouslySetInnerHTML","ticks","scale"],fae=["id","scale"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qw.apply(null,arguments)}function VD(e,t){if(e==null)return{};var n,r,i=mae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hae(e){var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Cne(e)):n.current!==e&&t(jne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Ane(n.current)),n.current=null)},[t]),null}var pae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=g.useRef(null),s=g.useRef(null),o=Ot(E_),l=sa(),u=Jn(),d="yAxis",f=Ot(S=>mQ(S,t)),h=Ot(S=>fQ(S,t)),m=Ot(S=>LL(S,d,t,l)),p=Ot(S=>pL(S,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||CN(i)||g.isValidElement(i)||p==null)){var S=a.current;if(S){var A=S.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Pne({id:t,width:A}))}}},[m,f,u,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:b,scale:v}=e,w=VD(e,dae),{id:y,scale:N}=p,j=VD(p,fae);return g.createElement(MN,Qw({},w,j,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:_n("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},gae={allowDataOverflow:gi.allowDataOverflow,allowDecimals:gi.allowDecimals,allowDuplicatedCategory:gi.allowDuplicatedCategory,angle:gi.angle,axisLine:Lo.axisLine,hide:!1,includeHidden:gi.includeHidden,interval:gi.interval,minTickGap:gi.minTickGap,mirror:gi.mirror,orientation:gi.orientation,padding:gi.padding,reversed:gi.reversed,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:gi.type,width:gi.width,yAxisId:0},xae=e=>{var t=Qr(e,gae);return g.createElement(g.Fragment,null,g.createElement(hae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(pae,t))},Qo=g.memo(xae,p$);Qo.displayName="YAxis";var vae=(e,t)=>t,IN=Ae([vae,Yn,dL,oi,e4,rl,DZ,Si],LZ),_N=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},g$=os("mouseClick"),x$=Gm();x$.startListening({actionCreator:g$,effect:(e,t)=>{var n=e.payload,r=IN(t.getState(),_N(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(AQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Zw=os("mouseMove"),v$=Gm(),Tp=null;v$.startListening({actionCreator:Zw,effect:(e,t)=>{var n=e.payload;Tp!==null&&cancelAnimationFrame(Tp);var r=_N(n);Tp=requestAnimationFrame(()=>{var i=t.getState(),a=pN(i,i.tooltip.settings.shared);if(a==="axis"){var s=IN(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(qL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(HL())}Tp=null})}});function bae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var HD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},b$=va({name:"rootProps",initialState:HD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:HD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),yae=b$.reducer,{updateOptions:wae}=b$.actions,y$=va({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:kae}=y$.actions,Sae=y$.reducer,w$=os("keyDown"),k$=os("focus"),LN=Gm();LN.startListening({actionCreator:w$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=gN(i,Hd(n),oh(n),uh(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=rl(n);if(a==="Enter"){var u=k0(n,"axis","hover",String(i.index));t.dispatch(Ww({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=xQ(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=k0(n,"axis","hover",String(m));t.dispatch(Ww({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});LN.startListening({actionCreator:k$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=k0(n,"axis","hover",String(a));t.dispatch(Ww({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ka=os("externalEvent"),S$=Gm(),Pb=new Map;S$.startListening({actionCreator:Ka,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Pb.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:mZ(o),activeDataKey:i4(o),activeIndex:Pd(o),activeLabel:r4(o),activeTooltipIndex:Pd(o),isTooltipActive:hZ(o)};n(l,r)}finally{Pb.delete(i)}});Pb.set(i,s)}}});var Nae=Ae([Wd],e=>e.tooltipItemPayloads),Cae=Ae([Nae,ch,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),N$=os("touchMove"),C$=Gm();C$.startListening({actionCreator:N$,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=pN(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=IN(r,_N({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(qL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(T_),f=(o=u.getAttribute(M_))!==null&&o!==void 0?o:void 0,h=Vd(r).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=Cae(r,d,f);t.dispatch(VL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var jae=ZI({brush:Fne,cartesianAxis:Dne,chartData:fJ,errorBars:Xre,graphicalItems:Ite,layout:GH,legend:Y7,options:oJ,polarAxis:Fee,polarOptions:Sae,referenceElements:Yne,rootProps:yae,tooltip:PQ,zIndex:XZ}),Aae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return bH({reducer:jae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([x$.middleware,v$.middleware,LN.middleware,S$.middleware,C$.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(m_({type:"raf"}))},devTools:{serialize:{replacer:bae},name:"recharts-".concat(n)}})};function j$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=sa(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=Aae(t,r));var s=eS;return g.createElement(Mie,{context:s,store:a.current},n)}function Pae(e){var{layout:t,margin:n}=e,r=Jn(),i=sa();return g.useEffect(()=>{i||(r(HH(t)),r(VH(n)))},[r,i,t,n]),null}var A$=g.memo(Pae,EN);function P$(e){var t=Jn();return g.useEffect(()=>{t(wae(e))},[t,e]),null}function qD(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),i=Jn();return g.useLayoutEffect(()=>(r.current&&i(GZ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(YZ({zIndex:t,isPanorama:n}))}),[i,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function KD(e){var{children:t,isPanorama:n}=e,r=Ot(FZ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(qD,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>g.createElement(qD,{key:s,zIndex:s,isPanorama:n})))}var Dae=["children"];function Tae(e,t){if(e==null)return{};var n,r,i=Mae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}var Eae={width:"100%",height:"100%",display:"block"},Oae=g.forwardRef((e,t)=>{var n=uS(),r=dS(),i=Z_();if(!io(n)||!io(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),g.createElement(Fk,T0({},s,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:Eae,ref:t}),a)}),Iae=e=>{var{children:t}=e,n=Ot(_x);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement(Fk,{width:r,height:i,x:s,y:a},t)},GD=g.forwardRef((e,t)=>{var{children:n}=e,r=Tae(e,Dae),i=sa();return i?g.createElement(Iae,null,g.createElement(KD,{isPanorama:!0},n)):g.createElement(Oae,T0({ref:t},r),g.createElement(KD,{isPanorama:!1},n))});function _ae(){var e=Jn(),[t,n]=g.useState(null),r=Ot(c7);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;yr(a)&&a!==r&&e(KH(a))}},[t,e,r]),n}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(n),!0).forEach(function(r){$ae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ae(e,t,n){return(t=Fae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}var Bae=()=>(wJ(),null);function M0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var zae=g.forwardRef((e,t)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:M0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:M0((r=e.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:x,height:b}=p[0].contentRect;o(x,b)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,o]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(Lx,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",au({ref:l},e)))}),Uae=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=g.useState({containerWidth:M0(n),containerHeight:M0(r)}),s=g.useCallback((l,u)=>{a(d=>{var f=Math.round(l),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return g.createElement(g.Fragment,null,g.createElement(Lx,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",au({ref:o},e)))}),Wae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Lx,{width:n,height:r}),g.createElement("div",au({ref:t},e)))}),Vae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return Wo(n)||Wo(r)?g.createElement(Uae,au({},e,{ref:t})):g.createElement(Wae,au({},e,{ref:t}))});function Hae(e){return e===!0?zae:Vae}var qae=g.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:b,width:v,responsive:w,dispatchTouchEvents:y=!0}=e,N=g.useRef(null),j=Jn(),[S,A]=g.useState(null),[I,R]=g.useState(null),T=_ae(),L=cS(),_=(L==null?void 0:L.width)>0?L.width:v,G=(L==null?void 0:L.height)>0?L.height:i,ee=g.useCallback(z=>{T(z),typeof t=="function"&&t(z),A(z),R(z),z!=null&&(N.current=z)},[T,t,A,R]),le=g.useCallback(z=>{j(g$(z)),j(Ka({handler:a,reactEvent:z}))},[j,a]),be=g.useCallback(z=>{j(Zw(z)),j(Ka({handler:u,reactEvent:z}))},[j,u]),X=g.useCallback(z=>{j(HL()),j(Ka({handler:d,reactEvent:z}))},[j,d]),q=g.useCallback(z=>{j(Zw(z)),j(Ka({handler:f,reactEvent:z}))},[j,f]),K=g.useCallback(()=>{j(k$())},[j]),E=g.useCallback(z=>{j(w$(z.key))},[j]),D=g.useCallback(z=>{j(Ka({handler:s,reactEvent:z}))},[j,s]),ie=g.useCallback(z=>{j(Ka({handler:o,reactEvent:z}))},[j,o]),k=g.useCallback(z=>{j(Ka({handler:l,reactEvent:z}))},[j,l]),B=g.useCallback(z=>{j(Ka({handler:h,reactEvent:z}))},[j,h]),V=g.useCallback(z=>{j(Ka({handler:x,reactEvent:z}))},[j,x]),ne=g.useCallback(z=>{y&&j(N$(z)),j(Ka({handler:p,reactEvent:z}))},[j,y,p]),re=g.useCallback(z=>{j(Ka({handler:m,reactEvent:z}))},[j,m]),se=Hae(w);return g.createElement(d4.Provider,{value:S},g.createElement(QO.Provider,{value:I},g.createElement(se,{width:_??(b==null?void 0:b.width),height:G??(b==null?void 0:b.height),className:_n("recharts-wrapper",r),style:Lae({position:"relative",cursor:"default",width:_,height:G},b),onClick:le,onContextMenu:D,onDoubleClick:ie,onFocus:K,onKeyDown:E,onMouseDown:k,onMouseEnter:be,onMouseLeave:X,onMouseMove:q,onMouseUp:B,onTouchEnd:re,onTouchMove:ne,onTouchStart:V,ref:ee},g.createElement(Bae,null),n)))}),Kae=["width","height","responsive","children","className","style","compact","title","desc"];function Gae(e,t){if(e==null)return{};var n,r,i=Yae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var D$=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=Gae(e,Kae),h=is(f);return l?g.createElement(g.Fragment,null,g.createElement(Lx,{width:n,height:r}),g.createElement(GD,{otherAttributes:h,title:u,desc:d},a)):g.createElement(qae,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(GD,{otherAttributes:h,title:u,desc:d,ref:t},g.createElement(Xne,null,a)))});function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jw.apply(null,arguments)}var Xae={top:5,right:5,bottom:5,left:5},Qae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Xae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Zae=g.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,Qae),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(j$,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},g.createElement(e$,{chartData:u.data}),g.createElement(A$,{layout:i.layout,margin:i.margin}),g.createElement(P$,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(D$,Jw({},i,{ref:n})))}),Jae=["axis"],Ql=g.forwardRef((e,t)=>g.createElement(Zae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jae,tooltipPayloadSearcher:m4,categoricalChartProps:e,ref:t}));function ese(e){var t=Jn();return g.useEffect(()=>{t(kae(e))},[t,e]),null}var tse=["layout"];function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e1.apply(null,arguments)}function nse(e,t){if(e==null)return{};var n,r,i=rse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ise={top:5,right:5,bottom:5,left:5},T$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ise,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ase=g.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,T$),{layout:a}=i,s=nse(i,tse),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(j$,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(e$,{chartData:i.data}),g.createElement(A$,{layout:a,margin:i.margin}),g.createElement(P$,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(ese,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(D$,e1({},s,{ref:n})))});function XD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(n),!0).forEach(function(r){sse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sse(e,t,n){return(t=ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=lse(e,"string");return typeof t=="symbol"?t:t+""}function lse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cse=["item"],use=QD(QD({},T$),{},{layout:"centric",startAngle:0,endAngle:360}),t1=g.forwardRef((e,t)=>{var n=Qr(e,use);return g.createElement(ase,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:cse,tooltipPayloadSearcher:m4,categoricalChartProps:n,ref:t})});const Dn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),ZD="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Vf=new Map,cd=new Map,dse=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Vf.has(r)||cd.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Vf.set(r,s),s})();cd.set(r,i);try{await i}finally{cd.delete(r)}}))},fse=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Vf.get(e)||ZD:null});return g.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Vf.get(e);if(r){n(r);return}let i=!0;const a=cd.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Vf.set(e,l),l})();return cd.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(ZD)}}).finally(()=>{cd.delete(e)}),()=>{i=!1}},[e]),t},mse=(e,t,n,r)=>{const[i,a]=g.useState("bottom"),[s,o]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(I=>{let R=(I==null?void 0:I.parentElement)||null;for(;R;){const T=window.getComputedStyle(R),L=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(L))return R;R=R.parentElement}return null})(u),x=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},b=x.bottom-f.bottom,v=f.top-x.top,w=b<h.height+8&&v>b?"top":"bottom";a(w);const y=6,N=f.left+f.width/2,j=x.left+y+h.width/2,S=x.right-y-h.width/2,A=Math.min(Math.max(N,j),S);o(A-N)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},hse=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},M$=(e,t,n,r,i=8)=>{const[a,s]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const o=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,x=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),b=f.left+f.width/2,v=i+h.width/2,w=window.innerWidth-i-h.width/2,y=Math.min(Math.max(b,v),w);s({position:"fixed",top:x,left:y,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},pse=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Ec(i||"Unknown"),s=r.length>1,[o,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=mse(o,[r.length,f],u,d),p=Array.from(new Set(r.map(w=>Io(w||"Unknown")))).slice(0,4),x=p.length>1?`conic-gradient(${p.map((w,y)=>`${w} ${y*360/p.length}deg ${(y+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const b=h==="top"?"bottom-full mb-2":"top-full mt-2",v={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:x},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:v,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${b} ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(w=>{const y=Ec(w||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[y?c.jsx("img",{src:y,alt:w||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:w||"Unknown"})]},w)})})]})]})]})},gse=(e,t,n="w-4 h-4 object-contain")=>c.jsx(pse,{profession:e,professionList:t,className:n}),Db=({count:e,classCounts:t,label:n,className:r})=>{const i=hse(t||{}),a=e>0,[s,o]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=M$(s,[i.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Ld.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const x=Ec(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[x?c.jsx("img",{src:x,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},jr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=fse(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?c.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},JD=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=g.useState(!1),o=g.useRef(null),l=g.useRef(null),u=g.useRef(null),d=M$(a,[n.length],o,l),f=()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},h=()=>{f(),u.current=window.setTimeout(()=>{s(!1),u.current=null},140)},m=p=>{const x=p.currentTarget;if(x.scrollHeight<=x.clientHeight)return;const b=p.deltaY;b!==0&&(p.preventDefault(),p.stopPropagation(),x.scrollTop+=b)};return g.useEffect(()=>()=>f(),[]),c.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>{f(),s(!0)},onMouseLeave:()=>{h()},children:[c.jsx("span",{children:e}),i&&typeof document<"u"&&Ld.createPortal(c.jsxs("div",{ref:l,style:d,onMouseEnter:f,onMouseLeave:h,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-100 shadow-lg pointer-events-auto ${a?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",style:{scrollbarGutter:"stable",overscrollBehavior:"contain"},onWheel:m,children:n.map(p=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-white",children:c.jsx(jr,{name:p.name,iconUrl:p.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-100 font-mono",children:p.value})]},p.name))})]}),document.body)]})},xse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:x,setSkillUsagePlayerFilter:b,skillUsageView:v,setSkillUsageView:w,skillUsageData:y,skillUsageSkillFilter:N,setSkillUsageSkillFilter:j,selectedSkillId:S,setSelectedSkillId:A,skillBarData:I,selectedSkillName:R,selectedSkillIcon:T,skillUsageReady:L,skillUsageAvailable:_,isSkillUsagePerSecond:G,skillChartData:ee,skillChartMaxY:le,playerTotalsForSkill:be,hoveredSkillPlayer:X,setHoveredSkillPlayer:q,getLineStrokeColor:K,getLineDashForPlayer:E,formatSkillUsageValue:D,renderProfessionIcon:ie})=>c.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Dn,{value:v,onChange:w,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[y.logRecords.length," ",y.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),o.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const B=d.get(k);return B?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:B.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[B.logs," ",B.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(B.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(MO,{className:"w-3 h-3"})})]},B.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:x,onChange:k=>b(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const B=h===k.profession,V=k.players.map(re=>re.key),ne=V.length>0&&V.every(re=>o.includes(re));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(B){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${B?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ie(k.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),B?c.jsx(Zy,{className:"w-3.5 h-3.5"}):c.jsx(a8,{className:"w-3.5 h-3.5"})]})]})}),B&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(re=>{if(ne)return re.filter(z=>!V.includes(z));const se=new Set(re);return V.forEach(z=>se.add(z)),Array.from(se)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ne?"Clear All":"Select All"})]}),k.players.map(re=>{const se=o.includes(re.key);return c.jsx("button",{type:"button",onClick:()=>p(re.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${se?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:re.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[re.account,"  ",re.profession,"  ",re.logs," ",re.logs===1?"log":"logs"]})]}),se&&c.jsx(PO,{className:"w-4 h-4 text-cyan-300"})]})},re.key)})]})]},k.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${G?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:N,onChange:k=>j(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):I.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=I.reduce((B,V)=>Math.max(B,V.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:I.map((B,V)=>{const ne=Math.min(100,B.total/k*100),re=S===B.skillId;return c.jsxs("button",{type:"button",onClick:()=>A(B.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${re?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${V+1}`}),c.jsx(jr,{name:B.name,iconUrl:B.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:D(B.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ne}%`,backgroundColor:B.color}})})]},B.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:L?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?c.jsx(jr,{name:R,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",G?"casts per second":"casts per log",")"]})]}),c.jsx(Ts,{width:"100%",height:250,children:c.jsxs(Ql,{data:ee,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const B=ee[k],V=String((B==null?void 0:B.shortLabel)??k);return V.length>20?`${V.slice(0,20)}`:V}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,le)],allowDecimals:!1}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:B,label:V})=>{var z;if(!k||!B||B.length===0)return null;const ne=[...B].sort((W,H)=>(H.value||0)-(W.value||0)),re=ne[0],se=((z=re==null?void 0:re.payload)==null?void 0:z.fullLabel)||V;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:se}),c.jsx("div",{className:"space-y-1",children:ne.map(W=>{const H=String(W.name||""),te=d.get(H),U=(te==null?void 0:te.displayName)||H||"Player",ue=D(Number(W.value||0)),Z=W.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:Z},children:U}),c.jsx("span",{className:"text-gray-200 font-mono",children:ue})]},`${U}-${ue}`)})})]})}}),o.map(k=>{const B=X.includes(k),V=X.length>0,ne=K(k,B,V),re=E(k),se=X.length>0&&!B;return c.jsx(ua,{dataKey:k,stroke:ne,strokeWidth:B?4:3,strokeDasharray:re,opacity:se?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,B)=>(be.get(B)||0)-(be.get(k)||0)).map(k=>{const B=d.get(k),V=be.get(k)??0,ne=X.includes(k),re=X.length>0,se=K(k,ne,re);return c.jsxs("button",{type:"button",onClick:()=>{q(z=>z.includes(k)?z.filter(W=>W!==k):[...z,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ne?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ne,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:se,strokeWidth:"2",strokeDasharray:E(k),strokeLinecap:"round"})}),ie(B==null?void 0:B.profession,B==null?void 0:B.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(B==null?void 0:B.displayName)||k}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(B==null?void 0:B.logs)??0," ",((B==null?void 0:B.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:D(V)})]},k)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:_?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),vse=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,i]=g.useState(0),[a,s]=g.useState(0),o=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:y,clientWidth:N,scrollLeft:j}=h,S=y>N,A=n.current,I=(A==null?void 0:A.clientWidth)||0;if(!I){m=window.requestAnimationFrame(p);return}if(!S){i(I),s(0);return}const R=N/y,T=Math.max(20,Math.floor(I*R)),L=y-N,_=Math.max(0,I-T),G=L>0?Math.floor(j/L*_):0;i(T),s(G)};p();const x=()=>p(),b=new ResizeObserver(p);b.observe(h);const v=h.firstElementChild;v instanceof HTMLElement&&b.observe(v),n.current&&b.observe(n.current);const w=new MutationObserver(()=>p());return w.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",x),()=>{m&&window.cancelAnimationFrame(m),b.disconnect(),w.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",x)}},[e]),g.useEffect(()=>{const h=p=>{if(!o.current)return;const x=n.current,b=e.current;if(!x||!b)return;const v=x.getBoundingClientRect(),w=p.clientX-l.current,y=Math.max(0,v.width-r),N=Math.min(y,Math.max(0,u.current+w)),j=b.scrollWidth-b.clientWidth,S=y>0?N/y*j:0;b.scrollLeft=S},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const x=m.getBoundingClientRect(),b=h.clientX-x.left,v=Math.max(0,x.width-r),w=Math.min(v,Math.max(0,b-r/2)),y=p.scrollWidth-p.clientWidth;p.scrollLeft=v>0?w/v*y:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,u.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},Es=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?c.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),p&&c.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>c.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),c.jsx(vse,{containerRef:u})]})},Os=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),h=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const v=w=>{f.current&&(f.current.contains(w.target)||l(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=g.useMemo(()=>{const v=a.trim().toLowerCase();return v?e.filter(w=>w.label.toLowerCase().includes(v)).slice(0,50):e.slice(0,50)},[e,a]),x=g.useMemo(()=>{const v=new Map;return p.forEach((w,y)=>{v.set(`${w.type}-${w.id}`,y)}),v},[p]),b=g.useMemo(()=>{const v=p.filter(y=>y.type==="column"),w=p.filter(y=>y.type==="player");return{columns:v,players:w}},[p]);return g.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(v=>Math.min(Math.max(v,0),p.length-1))}},[p,o]),g.useEffect(()=>{if(!o)return;const v=p[u];if(!v)return;const w=`${v.type}-${v.id}`,y=m.current.get(w);y&&h.current&&y.scrollIntoView({block:"nearest"})},[u,p,o]),c.jsxs("div",{ref:f,className:`relative ${i}`,children:[c.jsx("input",{value:a,onChange:v=>{s(v.target.value),l(!0)},onKeyDown:v=>{if(!o&&(v.key==="ArrowDown"||v.key==="ArrowUp")){l(!0);return}if(o)if(v.key==="ArrowDown"){if(v.preventDefault(),p.length===0)return;d(w=>(w+1)%p.length)}else if(v.key==="ArrowUp"){if(v.preventDefault(),p.length===0)return;d(w=>(w-1+p.length)%p.length)}else if(v.key==="Enter"){v.preventDefault();const w=p[u];if(!w)return;r(w),s(""),l(!1)}else v.key==="Escape"&&(v.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[b.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),b.columns.map(v=>{const w=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return c.jsx("button",{type:"button",ref:y=>{m.current.set(`${v.type}-${v.id}`,y)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const y=x.get(`${v.type}-${v.id}`);typeof y=="number"&&d(y)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===x.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,c.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]}),b.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),b.players.map(v=>{const w=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return c.jsx("button",{type:"button",ref:y=>{m.current.set(`${v.type}-${v.id}`,y)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const y=x.get(`${v.type}-${v.id}`);typeof y=="number"&&d(y)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===x.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${w?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,c.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]})]})})]})},Ar=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=h=>{u.current&&(u.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${i}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,c.jsx("span",{children:a}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},bse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:x,setActiveApmSkillId:b,ALL_SKILLS_KEY:v,apmSkillSearch:w,setApmSkillSearch:y,activeApmSpecTable:N,activeApmSkill:j,isAllApmSkills:S,apmView:A,setApmView:I,formatApmValue:R,formatCastRateValue:T,formatCastCountValue:L,renderProfessionIcon:_})=>{var re;const[G,ee]=g.useState({key:"apm",dir:"desc"}),le=e==="apm-stats",[be,X]=g.useState({columnId:"",dir:"desc"}),[q,K]=g.useState([]),[E,D]=g.useState([]),[ie,k]=g.useState({}),B=le?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,V=se=>{ee(z=>({key:se,dir:z.key===se&&z.dir==="desc"?"asc":"desc"}))},ne=g.useMemo(()=>{const se=[...(N==null?void 0:N.playerRows)||[]];return se.sort((z,W)=>{const H=G.key==="apm"?Number(A==="perSecond"?z.aps:z.apm):Number(A==="perSecond"?z.apsNoAuto:z.apmNoAuto),te=G.key==="apm"?Number(A==="perSecond"?W.aps:W.apm):Number(A==="perSecond"?W.apsNoAuto:W.apmNoAuto);return(G.dir==="desc"?te-H:H-te)||String(z.displayName||"").localeCompare(String(W.displayName||""))}),se},[N,G,A]);return c.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Tk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:w,onChange:se=>y(se.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:B,children:d.map(se=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const z=f!==se.profession;h(se.profession),p(z?se.profession:m===se.profession?null:se.profession),z&&(b(v),K([]),D([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===se.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_(se.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[se.players.length,"p"]})})]})}),!le&&m===se.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:ie[se.profession]||"",onChange:z=>{const W=z.target.value;k(H=>({...H,[se.profession]:W}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{h(se.profession),b(v)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===se.profession&&S?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(se.skills||[]).filter(z=>{const W=(ie[se.profession]||"").trim().toLowerCase();return W?String(z.name||"").toLowerCase().includes(W):!0}).map(z=>c.jsx("button",{type:"button",onClick:()=>{h(se.profession),b(z.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===se.profession&&x===z.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:z.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[z.icon?c.jsx("img",{src:z.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:z.name})]})},z.id)),(se.skills||[]).filter(z=>{const W=(ie[se.profession]||"").trim().toLowerCase();return W?String(z.name||"").toLowerCase().includes(W):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},se.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[le&&(()=>{const se=N.skills||[],z=(N.playerRows||[]).map(U=>({id:U.key,label:U.displayName||U.account||U.key,icon:_(U.profession,U.professionList,"w-3 h-3")})),W=se.map(U=>({id:U.id,label:U.name,icon:U.icon?c.jsx("img",{src:U.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),H=[...se.map(U=>({id:U.id,label:U.name,type:"column",icon:U.icon?c.jsx("img",{src:U.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map(U=>({id:U.key,label:U.displayName||U.account||U.key,type:"player",icon:_(U.profession,U.professionList,"w-3 h-3")}))],te=new Set([...q.map(U=>`column:${U}`),...E.map(U=>`player:${U}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:H,selectedIds:te,onSelect:U=>{U.type==="column"?K(ue=>ue.includes(U.id)?ue.filter(Z=>Z!==U.id):[...ue,U.id]):D(ue=>ue.includes(U.id)?ue.filter(Z=>Z!==U.id):[...ue,U.id])},className:"w-full sm:w-64"}),c.jsx(Ar,{options:W,selectedIds:q,onToggle:U=>{K(ue=>ue.includes(U)?ue.filter(Z=>Z!==U):[...ue,U])},onClear:()=>K([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:z,selectedIds:E,onToggle:U=>{D(ue=>ue.includes(U)?ue.filter(Z=>Z!==U):[...ue,U])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:A,onChange:I,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(q.length>0||E.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{K([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),q.map(U=>{var Z;const ue=((Z=se.find(ae=>ae.id===U))==null?void 0:Z.name)||U;return c.jsxs("button",{type:"button",onClick:()=>K(ae=>ae.filter(Ke=>Ke!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ue}),c.jsx("span",{className:"text-gray-400",children:""})]},U)}),E.map(U=>{var Z;const ue=((Z=z.find(ae=>ae.id===U))==null?void 0:Z.label)||U;return c.jsxs("button",{type:"button",onClick:()=>D(ae=>ae.filter(Ke=>Ke!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ue}),c.jsx("span",{className:"text-gray-400",children:""})]},U)})]})]})})(),le?(()=>{var U,ue;const se=N.skills||[],z=q.length>0?se.filter(Z=>q.includes(Z.id)):se,W=E.length>0?(N.playerRows||[]).filter(Z=>E.includes(Z.key)):N.playerRows||[];if(se.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const H=((U=z.find(Z=>Z.id===be.columnId))==null?void 0:U.id)||((ue=z[0])==null?void 0:ue.id)||"",te=[...W].map(Z=>{const ae={},Ke={};return z.forEach(Ye=>{var Ee;const ye=Number(((Ee=Ye.playerCounts)==null?void 0:Ee.get(Z.key))||0),F=A==="perSecond"?ye/Math.max(1,Z.totalActiveSeconds||0):ye;Ke[Ye.id]=F,ae[Ye.id]=A==="perSecond"?T(F):L(F)}),{row:Z,values:ae,numericValues:Ke}}).sort((Z,ae)=>{const Ke=Z.numericValues[H]??0,Ye=ae.numericValues[H]??0;return(be.dir==="desc"?Ye-Ke:Ke-Ye)||String(Z.row.displayName||"").localeCompare(String(ae.row.displayName||""))});return c.jsx(Es,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:H,sortDirection:be.dir,onSortColumn:Z=>{X(ae=>({columnId:Z,dir:ae.columnId===Z&&ae.dir==="desc"?"asc":"desc"}))},columns:z.map(Z=>({id:Z.id,label:c.jsx(jr,{name:Z.name,iconUrl:Z.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:te.map((Z,ae)=>({id:`${N.profession}-${Z.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ae+1}),_(Z.row.profession,Z.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Z.row.displayName})]}),values:Z.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_(N.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),S||!j?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(jr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:S||!j?`${((re=N.playerRows)==null?void 0:re.length)||0} players`:`${(j==null?void 0:j.totalCasts)??0} casts`})]}),S||!j?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("apm"),className:`text-right transition-colors ${G.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",G.key==="apm"?G.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("apmNoAuto"),className:`text-right transition-colors ${G.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",G.key==="apmNoAuto"?G.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),S||!j?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ne.map((se,z)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${z+1}`}),_(se.profession,se.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:se.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(A==="perSecond"?se.aps:se.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(A==="perSecond"?se.apsNoAuto:se.apmNoAuto)})]},`${N.profession}-all-${se.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((j==null?void 0:j.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((j==null?void 0:j.playerRows)||[]).map((se,z)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${z+1}`}),_(se.profession,se.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:se.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(se.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(A==="perSecond"?se.aps||0:se.apm||0))})]},`${N.profession}-${j.id}-${se.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},yse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:x,activePlayerSkillId:b,setActivePlayerSkillId:v,activeClassKey:w,setActiveClassKey:y,expandedClassKey:N,setExpandedClassKey:j,activeClassSkillId:S,setActiveClassSkillId:A,skillSearch:I,setSkillSearch:R,activePlayerBreakdown:T,activePlayerSkill:L,activeClassBreakdown:_,activeClassSkill:G,renderProfessionIcon:ee})=>{const le=d.length,be=((T==null?void 0:T.skills)||[]).reduce((Z,ae)=>Z+(ae.damage||0),0),X=(_==null?void 0:_.players)||[],[q,K]=g.useState({key:"down",dir:"desc"}),E=e==="player-breakdown",[D,ie]=g.useState([]),[k,B]=g.useState([]),[V,ne]=g.useState({columnId:"",dir:"desc"}),[re,se]=g.useState({}),[z,W]=g.useState({}),H=(Z,ae)=>{var Ye;if(!ae)return null;const Ke=(Ye=Z.skillMap)==null?void 0:Ye[ae];return Ke||Z.skills.find(ye=>ye.id===ae)||null},te=E?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,U=g.useMemo(()=>{if(!_||!G)return X;const Z=[...X];return Z.sort((ae,Ke)=>{const Ye=H(ae,G.id),ye=H(Ke,G.id),F=Number((Ye==null?void 0:Ye.downContribution)||0),Ee=Number((ye==null?void 0:ye.downContribution)||0),Le=Number((Ye==null?void 0:Ye.damage)||0),kt=Number((ye==null?void 0:ye.damage)||0),Ht=ae.totalFightMs>0?Le/(ae.totalFightMs/1e3):0,mn=Ke.totalFightMs>0?kt/(Ke.totalFightMs/1e3):0;let Pe=0;return q.key==="down"&&(Pe=F-Ee),q.key==="damage"&&(Pe=Le-kt),q.key==="dps"&&(Pe=Ht-mn),q.dir==="asc"?Pe:-Pe}),Z},[_,X,G,q]),ue=Z=>{K(ae=>ae.key!==Z?{key:Z,dir:"desc"}:{key:Z,dir:ae.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ak,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[le," ",le===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:E?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!E&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(Z=>{const ae=l===Z.id;return c.jsx("button",{type:"button",onClick:()=>u(Z.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${ae?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:Z.label},Z.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:I,onChange:Z=>R(Z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:te,children:(E?"class":l)==="player"?d.map(Z=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ae=h!==Z.key;ae&&(v(null),ie([]),B([])),m(Z.key),x(ae?Z.key:p===Z.key?null:Z.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===Z.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:Z.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(Z.profession,Z.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:Z.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[Z.skills.length," skills"]})})]})}),!E&&p===Z.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:re[Z.key]||"",onChange:ae=>{const Ke=ae.target.value;se(Ye=>({...Ye,[Z.key]:Ke}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),Z.skills.filter(ae=>{const Ke=(re[Z.key]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).map(ae=>c.jsx("button",{type:"button",onClick:()=>{m(Z.key),v(ae.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===Z.key&&b===ae.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ae.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ae.name})]})},ae.id)),Z.skills.filter(ae=>{const Ke=(re[Z.key]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Z.key)):f.map(Z=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ae=w!==Z.profession;ae&&(A(null),ie([]),B([])),y(Z.profession),j(ae?Z.profession:N===Z.profession?null:Z.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${w===Z.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(Z.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Z.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[Z.players.length,"p"]})})]})}),!E&&N===Z.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:z[Z.profession]||"",onChange:ae=>{const Ke=ae.target.value;W(Ye=>({...Ye,[Z.profession]:Ke}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),Z.skills.filter(ae=>{const Ke=(z[Z.profession]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).map(ae=>c.jsx("button",{type:"button",onClick:()=>{y(Z.profession),A(ae.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${w===Z.profession&&S===ae.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ae.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ae.name})]})},ae.id)),Z.skills.filter(ae=>{const Ke=(z[Z.profession]||"").trim().toLowerCase();return Ke?String(ae.name||"").toLowerCase().includes(Ke):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Z.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(E?"class":l)==="player"?!T||!E&&!L?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const Z=T.skills||[],ae=d.map(F=>({id:F.key,label:F.displayName||F.key,icon:ee(F.profession,F.professionList,"w-3 h-3")})),Ke=Z.map(F=>({id:F.id,label:F.name,icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ye=[...Z.map(F=>({id:F.id,label:F.name,type:"column",icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(F=>({id:F.key,label:F.displayName||F.key,type:"player",icon:ee(F.profession,F.professionList,"w-3 h-3")}))],ye=new Set([...D.map(F=>`column:${F}`),...k.map(F=>`player:${F}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:Ye,selectedIds:ye,onSelect:F=>{F.type==="column"?ie(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id]):B(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id])},className:"w-full sm:w-64"}),c.jsx(Ar,{options:Ke,selectedIds:D,onToggle:F=>{ie(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>ie([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:ae,selectedIds:k,onToggle:F=>{B(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})})]}),(D.length>0||k.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{ie([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(F=>{var Le;const Ee=((Le=Z.find(kt=>kt.id===F))==null?void 0:Le.name)||F;return c.jsxs("button",{type:"button",onClick:()=>ie(kt=>kt.filter(Ht=>Ht!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),k.map(F=>{var Le;const Ee=((Le=ae.find(kt=>kt.id===F))==null?void 0:Le.label)||F;return c.jsxs("button",{type:"button",onClick:()=>B(kt=>kt.filter(Ht=>Ht!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)})]})]})})(),E?(()=>{var F,Ee;const Z=T.skills||[],ae=D.length>0?Z.filter(Le=>D.includes(Le.id)):Z,Ke=k.length>0?d.filter(Le=>k.includes(Le.key)):d,Ye=((F=ae.find(Le=>Le.id===V.columnId))==null?void 0:F.id)||((Ee=ae[0])==null?void 0:Ee.id)||"",ye=Ke.map(Le=>{const kt={},Ht={};return ae.forEach(mn=>{const Pe=H(Le,mn.id),it=Number((Pe==null?void 0:Pe.damage)||0);Ht[mn.id]=it,kt[mn.id]=kl(it)}),{player:Le,values:kt,numericValues:Ht}}).sort((Le,kt)=>{const Ht=Le.numericValues[Ye]??0,mn=kt.numericValues[Ye]??0;return(V.dir==="desc"?mn-Ht:Ht-mn)||String(Le.player.displayName||"").localeCompare(String(kt.player.displayName||""))});return c.jsx(Es,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ye,sortDirection:V.dir,onSortColumn:Le=>{ne(kt=>({columnId:Le,dir:kt.columnId===Le&&kt.dir==="desc"?"asc":"desc"}))},columns:ae.map(Le=>({id:Le.id,label:c.jsx(jr,{name:Le.name,iconUrl:Le.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ye.map((Le,kt)=>({id:`${Le.player.key}-${kt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:kt+1}),ee(Le.player.profession,Le.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Le.player.displayName})]}),values:Le.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(T.profession,T.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(jr,{name:(L==null?void 0:L.name)||"",iconUrl:L==null?void 0:L.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",kl(be)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:kl((L==null?void 0:L.downContribution)||0)},{label:"Total Damage",value:kl((L==null?void 0:L.damage)||0)},{label:"DPS",value:xi(T.totalFightMs>0?((L==null?void 0:L.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(Z=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:Z.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Z.value})]},Z.label))})]})]}):!_||!E&&!G?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const Z=_.skills||[],ae=X.map(F=>({id:F.key,label:F.displayName||F.key,icon:ee(F.profession,F.professionList,"w-3 h-3")})),Ke=Z.map(F=>({id:F.id,label:F.name,icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ye=[...Z.map(F=>({id:F.id,label:F.name,type:"column",icon:F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4"}):void 0})),...X.map(F=>({id:F.key,label:F.displayName||F.key,type:"player",icon:ee(F.profession,F.professionList,"w-3 h-3")}))],ye=new Set([...D.map(F=>`column:${F}`),...k.map(F=>`player:${F}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:Ye,selectedIds:ye,onSelect:F=>{F.type==="column"?ie(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id]):B(Ee=>Ee.includes(F.id)?Ee.filter(Le=>Le!==F.id):[...Ee,F.id])},className:"w-full sm:w-64"}),c.jsx(Ar,{options:Ke,selectedIds:D,onToggle:F=>{ie(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>ie([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:ae,selectedIds:k,onToggle:F=>{B(Ee=>Ee.includes(F)?Ee.filter(Le=>Le!==F):[...Ee,F])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})})]}),(D.length>0||k.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{ie([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(F=>{var Le;const Ee=((Le=Z.find(kt=>kt.id===F))==null?void 0:Le.name)||F;return c.jsxs("button",{type:"button",onClick:()=>ie(kt=>kt.filter(Ht=>Ht!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),k.map(F=>{var Le;const Ee=((Le=ae.find(kt=>kt.id===F))==null?void 0:Le.label)||F;return c.jsxs("button",{type:"button",onClick:()=>B(kt=>kt.filter(Ht=>Ht!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Ee}),c.jsx("span",{className:"text-gray-400",children:""})]},F)})]})]})})(),E?(()=>{var F,Ee;const Z=_.skills||[],ae=D.length>0?Z.filter(Le=>D.includes(Le.id)):Z,Ke=k.length>0?X.filter(Le=>k.includes(Le.key)):X,Ye=((F=ae.find(Le=>Le.id===V.columnId))==null?void 0:F.id)||((Ee=ae[0])==null?void 0:Ee.id)||"",ye=Ke.map(Le=>{const kt={},Ht={};return ae.forEach(mn=>{const Pe=H(Le,mn.id),it=Number((Pe==null?void 0:Pe.damage)||0);Ht[mn.id]=it,kt[mn.id]=kl(it)}),{player:Le,values:kt,numericValues:Ht}}).sort((Le,kt)=>{const Ht=Le.numericValues[Ye]??0,mn=kt.numericValues[Ye]??0;return(V.dir==="desc"?mn-Ht:Ht-mn)||String(Le.player.displayName||"").localeCompare(String(kt.player.displayName||""))});return c.jsx(Es,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ye,sortDirection:V.dir,onSortColumn:Le=>{ne(kt=>({columnId:Le,dir:kt.columnId===Le&&kt.dir==="desc"?"asc":"desc"}))},columns:ae.map(Le=>({id:Le.id,label:c.jsx(jr,{name:Le.name,iconUrl:Le.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ye.map((Le,kt)=>({id:`${Le.player.key}-${kt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:kt+1}),ee(Le.player.profession,Le.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Le.player.displayName})]}),values:Le.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(_.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(jr,{name:(G==null?void 0:G.name)||"",iconUrl:G==null?void 0:G.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[X.length," players | ",_.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ue("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:q.key==="down"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ue("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:q.key==="damage"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ue("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:q.key==="dps"?q.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:U.map(Z=>{const ae=H(Z,(G==null?void 0:G.id)||""),Ke=Number((ae==null?void 0:ae.downContribution)||0),Ye=Number((ae==null?void 0:ae.damage)||0),ye=Z.totalFightMs>0?Ye/(Z.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(Z.profession,Z.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Z.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:kl(Ke)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:kl(Ye)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xi(ye,1)})]},`${_.profession}-${Z.key}`)})})]})]})})]})})]})},wse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,playerSkillBreakdowns:o,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,h]=g.useState("damage"),[m,p]=g.useState(""),[x,b]=g.useState(null),v=A=>Number(f==="damage"?A.damage||0:A.downContribution||0),w=A=>(A.skills||[]).reduce((I,R)=>I+v(R),0),y=g.useMemo(()=>{const A=m.trim().toLowerCase();return[...A?o.filter(R=>String(R.displayName||"").toLowerCase().includes(A)||String(R.account||"").toLowerCase().includes(A)||String(R.profession||"").toLowerCase().includes(A)):o].sort((R,T)=>{const L=w(T)-w(R);return L!==0?L:String(R.displayName||"").localeCompare(String(T.displayName||""))})},[o,m,f]),N=g.useMemo(()=>x&&y.find(A=>A.key===x)||null,[y,x]),j=g.useMemo(()=>N?[...N.skills||[]].filter(A=>v(A)>0).sort((A,I)=>v(I)-v(A)).map(A=>({...A,value:v(A)})):[],[N,f]),S=g.useMemo(()=>N?w(N):0,[N,f]);return g.useEffect(()=>{if(y.length===0){x!==null&&b(null);return}x&&!y.some(A=>A.key===x)&&b(null)},[y,x]),c.jsxs("div",{id:u,"data-section-visible":i(u),"data-section-first":a(u),className:s(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Nk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(Dn,{value:f,onChange:A=>h(A),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),o.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:A=>p(A.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:y.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):y.map(A=>{const I=x===A.key;return c.jsx("button",{type:"button",onClick:()=>b(A.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${I?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:A.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(A.skills||[]).length," ",(A.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:xi(w(A),0)})]})},A.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:N?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(N.profession,N.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:N.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",j.length," ",j.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:j.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):j.map((A,I)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(jr,{name:A.name,iconUrl:A.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xi(Number(A.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:S>0?`${xi(Number(A.value||0)/S*100,1)}%`:"0.0%"})]},`${A.id}-${I}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},kse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:h,setTimelineScope:m,playerFilter:p,setPlayerFilter:x,players:b,selectedPlayerKey:v,setSelectedPlayerKey:w,selectedPlayer:y,chartData:N,chartMaxY:j,selectedFightIndex:S,setSelectedFightIndex:A,drilldownTitle:I,drilldownData:R,formatWithCommas:T,renderProfessionIcon:L})=>{const _="boon-timeline",G=e===_,ee=y!=null&&y.profession&&y.profession!=="All"?Io(y.profession):"#22d3ee",le=h==="selfBuffs"?"Self":h==="groupBuffs"?"Group":h==="squadBuffs"?"Squad":"All",be=K=>String(K||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=N.reduce((K,E)=>!K||E.total>K.total?E:K,null),q=K=>{if(!Number.isFinite(K)||K<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(K))}catch{return""}};return c.jsxs("div",{id:_,"data-section-visible":i(_),"data-section-first":a(_),className:s(_,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${G?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:G?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>G?r():n(_),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${G?"absolute top-2 right-2 md:static":""}`,"aria-label":G?"Close Boon Timeline":"Expand Boon Timeline",title:G?"Close":"Expand",children:G?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:K=>l(K.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Dn,{value:h,onChange:K=>m(K),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(K=>{const E=d===K.id;return c.jsxs("button",{type:"button",onClick:()=>f(K.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${E?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[K.icon?c.jsx("img",{src:K.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(zc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:K.name})]},K.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:p,onChange:K=>x(K.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:b.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:b.map(K=>{const E=v===K.key;return c.jsx("button",{type:"button",onClick:()=>w(K.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${E?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K.key==="__all__"?c.jsx(zc,{className:"w-3.5 h-3.5 text-cyan-300"}):L(K.profession,K.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:K.displayName}),K.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:K.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[K.logs," ",K.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:T((K.total||0)/1e3,0)})]})},K.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",le," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[N.length," ",N.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||N.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:N,onClick:K=>{const E=Number(K==null?void 0:K.activeTooltipIndex);Number.isFinite(E)&&A(S===E?null:E)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:K=>T(K/1e3,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(K,E)=>[T(Number(K||0)/1e3,0),String(E||"")],labelFormatter:(K,E)=>{var ie;const D=(ie=E==null?void 0:E[0])==null?void 0:ie.payload;return be(String((D==null?void 0:D.fullLabel)||""))}}),c.jsx(ua,{type:"monotone",dataKey:"total",name:y.displayName,stroke:ee,strokeWidth:3,dot:K=>{var ie;const E=Number((ie=K==null?void 0:K.payload)==null?void 0:ie.index);if(!Number.isFinite(E))return null;const D=S===E;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:k=>{k.stopPropagation(),A(D?null:E)},children:[c.jsx("circle",{cx:K.cx,cy:K.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:K.cx,cy:K.cy,r:D?4:3,fill:ee,stroke:D?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:D?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ua,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(zc,{className:"w-4 h-4 text-cyan-300"}):L(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:T(Number((X==null?void 0:X.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const K=be((X==null?void 0:X.fullLabel)||"N/A"),E=q(Number((X==null?void 0:X.timestamp)||0));return E?`${E} - ${K}`:K})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:I}),c.jsx("button",{type:"button",onClick:()=>A(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:R.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:R,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:K=>T(K/1e3,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:K=>[T(Number(K||0)/1e3,0),"Generation"],labelFormatter:K=>String(K||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Generation",stroke:ee,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},Sse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:h,setPlayerFilter:m,players:p,selectedPlayerKey:x,setSelectedPlayerKey:b,selectedPlayer:v,chartData:w,chartMaxY:y,selectedFightIndex:N,setSelectedFightIndex:j,drilldownTitle:S,drilldownData:A,overallUptimePercent:I,showStackCapLine:R=!1,formatWithCommas:T,renderProfessionIcon:L})=>{const _="boon-uptime",G=e===_,ee=v!=null&&v.profession&&v.profession!=="All"?Io(v.profession):"#f59e0b",le=k=>String(k||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),be=w.reduce((k,B)=>!k||B.peak>k.peak?B:k,null),X=R?Math.ceil(Math.max(1,y)+3):Math.max(1,y),q=Math.max(1,...A.map(k=>Math.max(0,Number((k==null?void 0:k.value)||0))),...R?[25]:[]),K=R?Math.ceil(Math.max(1,q)+3):Math.max(1,q),E=R?"average":"uptimePercent",D=R?"Per Fight Average Stacks":"Per Fight Uptime %",ie=k=>{if(!Number.isFinite(k)||k<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(k))}catch{return""}};return c.jsxs("div",{id:_,"data-section-visible":i(_),"data-section-first":a(_),className:s(_,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${G?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:G?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Uf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>G?r():n(_),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${G?"absolute top-2 right-2 md:static":""}`,"aria-label":G?"Close Boon Uptime":"Expand Boon Uptime",title:G?"Close":"Expand",children:G?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:k=>l(k.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(k=>{const B=d===k.id;return c.jsxs("button",{type:"button",onClick:()=>f(k.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${B?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(zc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:k.name})]},k.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:h,onChange:k=>m(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:p.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:p.map(k=>{const B=x===k.key;return c.jsx("button",{type:"button",onClick:()=>b(k.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${B?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.key==="__all__"?c.jsx(Uf,{className:"w-3.5 h-3.5 text-amber-300"}):L(k.profession,k.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.displayName}),k.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:k.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[k.logs," ",k.logs===1?"fight":"fights"]})]}),c.jsxs("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:[T(Number(k.uptimePercent||0),1),"%"]})]})},k.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:D}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[w.length," ",w.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!v||w.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:w,onClick:k=>{const B=Number(k==null?void 0:k.activeTooltipIndex);Number.isFinite(B)&&j(N===B?null:B)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,X],tickFormatter:k=>R?T(k,0):`${T(k,0)}%`}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(k,B)=>[R?T(Number(k||0),1):`${T(Number(k||0),1)}%`,String(B||"")],labelFormatter:(k,B)=>{var ne;const V=(ne=B==null?void 0:B[0])==null?void 0:ne.payload;return le(String((V==null?void 0:V.fullLabel)||""))}}),c.jsx(ua,{type:"monotone",dataKey:E,name:v.displayName,stroke:ee,strokeWidth:3,dot:k=>{var ne;const B=Number((ne=k==null?void 0:k.payload)==null?void 0:ne.index);if(!Number.isFinite(B))return null;const V=N===B;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:re=>{re.stopPropagation(),j(V?null:B)},children:[c.jsx("circle",{cx:k.cx,cy:k.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:k.cx,cy:k.cy,r:V?4:3,fill:ee,stroke:V?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:V?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),R&&c.jsx(Yw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),v&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[v.key==="__all__"?c.jsx(Uf,{className:"w-4 h-4 text-amber-300"}):L(v.profession,v.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:v.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Overall Uptime"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:I===null?"--":`${T(Number(I||0),1)}%`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const k=le((be==null?void 0:be.fullLabel)||"N/A"),B=ie(Number((be==null?void 0:be.timestamp)||0));return B?`${B} - ${k}`:k})()})]})]}),v&&N!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:S}),c.jsx("button",{type:"button",onClick:()=>j(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:A.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:A,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,K]}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(k,B)=>[T(Number(k||0),0),String(B||"")],labelFormatter:k=>String(k||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Selected",stroke:ee,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),R&&c.jsx(Yw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},E$=({className:e})=>c.jsx(v8,{className:e,style:{transform:"rotate(45deg)"}}),il=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Is=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),Nse=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:v,sidebarListClass:w})=>{var E;const[y,N]=g.useState({key:"value",dir:"desc"}),[j,S]=g.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),A=f==="offense-detailed",[I,R]=g.useState([]),[T,L]=g.useState([]),_=t.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),G=t.map(D=>({id:D.id,label:D.label})),ee=G.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),be=I.length>0?t.filter(D=>I.includes(D.id)):t,X=Array.from(new Map(e.offensePlayers.map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:d(D.profession,D.professionList,"w-3 h-3")})),q=new Set([...I.map(D=>`column:${D}`),...T.map(D=>`player:${D}`)]),K=D=>{N(ie=>({key:D,dir:ie.key===D&&ie.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":x("offense-detailed"),"data-section-first":b("offense-detailed"),className:v("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(E$,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...G.map(D=>({...D,type:"column"})),...X.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?R(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id]):L(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id])},selectedIds:q,className:"w-full sm:w-64"}),c.jsx(Ar,{options:ee,selectedIds:I,onToggle:D=>{R(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>R([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:X,selectedIds:T,onToggle:D=>{L(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{R([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(D=>{var k;const ie=((k=G.find(B=>B.id===D))==null?void 0:k.label)||D;return c.jsxs("button",{type:"button",onClick:()=>R(B=>B.filter(V=>V!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ie}),c.jsx("span",{className:"text-gray-400",children:""})]},D)}),T.map(D=>c.jsxs("button",{type:"button",onClick:()=>L(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ne,re;const D=se=>Math.max(1,(se.totalFightMs||0)/1e3),ie=(se,z,W)=>{var H,te,U,ue,Z;if(z==="downContributionPercent"){const ae=((H=se.offenseTotals)==null?void 0:H.downContribution)||0,Ke=((te=se.offenseTotals)==null?void 0:te.damage)||0;return Ke>0?ae/Ke*100:0}if(W.isRate){const ae=((U=se.offenseRateWeights)==null?void 0:U[z])||0,Ke=((ue=se.offenseTotals)==null?void 0:ue[z])||0;return ae>0?Ke/ae*100:0}return((Z=se.offenseTotals)==null?void 0:Z[z])||0},k=(se,z)=>{const W=n&&!z.isPercent&&o==="total"?0:2,H=u(se,W);return z.isPercent?`${H}%`:H},B=((ne=be.find(se=>se.id===j.columnId))==null?void 0:ne.id)||((re=be[0])==null?void 0:re.id)||"",V=[...e.offensePlayers].filter(se=>T.length===0||T.includes(se.account)).map(se=>{const z={},W={};return be.forEach(H=>{const te=ie(se,H.id,H),U=o==="total"||H.isPercent||H.isRate?te:o==="per1s"?te/D(se):te*60/D(se);W[H.id]=U,z[H.id]=k(U,H)}),{row:se,values:z,numericValues:W}}).sort((se,z)=>{const W=se.numericValues[B]??0,H=z.numericValues[B]??0;return(j.dir==="desc"?H-W:W-H)||String(se.row.account||"").localeCompare(String(z.row.account||""))});return c.jsx(Es,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:B,sortDirection:j.dir,onSortColumn:se=>{S(z=>({columnId:se,dir:z.columnId===se&&z.dir==="desc"?"asc":"desc"}))},columns:be.map(se=>({id:se.id,label:se.label,align:"right",minWidth:90})),rows:V.map((se,z)=>({id:`${se.row.account}-${z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),d(se.row.profession,se.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.row.account})]}),values:se.values}))})})()})]}):c.jsx(il,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:D=>i(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${w} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:_.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):_.map(D=>c.jsx("button",{onClick:()=>s(D.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===D.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:D.label},D.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const D=t.find(ne=>ne.id===a)||t[0],ie=ne=>Math.max(1,(ne.totalFightMs||0)/1e3),k=ne=>{var re,se,z,W,H;if(D.id==="downContributionPercent"){const te=((re=ne.offenseTotals)==null?void 0:re.downContribution)||0,U=((se=ne.offenseTotals)==null?void 0:se.damage)||0;return U>0?te/U*100:0}if(D.isRate){const te=((z=ne.offenseRateWeights)==null?void 0:z[D.id])||0,U=((W=ne.offenseTotals)==null?void 0:W[D.id])||0;return te>0?U/te*100:0}return((H=ne.offenseTotals)==null?void 0:H[D.id])||0},B=ne=>{const re=n&&!D.isPercent&&o==="total"?0:2,se=u(ne,re);return D.isPercent?`${se}%`:se},V=[...e.offensePlayers].map(ne=>({...ne,total:k(ne),per1s:D.isPercent||D.isRate?k(ne):k(ne)/ie(ne),per60s:D.isPercent||D.isRate?k(ne):k(ne)*60/ie(ne)})).sort((ne,re)=>{const se=y.key==="fightTime"?Number(ne.totalFightMs||0):Number(o==="total"?ne.total:o==="per1s"?ne.per1s:ne.per60s),z=y.key==="fightTime"?Number(re.totalFightMs||0):Number(o==="total"?re.total:o==="per1s"?re.per1s:re.per60s);return(y.dir==="desc"?z-se:se-z)||ne.account.localeCompare(re.account)});return c.jsx(Is,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>K("value"),className:`text-right transition-colors ${y.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",y.key==="value"?y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>K("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:V.map((ne,re)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ne.profession,ne.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ne.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const se=o==="total"?ne.total:o==="per1s"?ne.per1s:ne.per60s;return B(se)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.totalFightMs?`${(ne.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${D.id}-${ne.account}-${re}`))})})})()})})]})},Cse=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:v,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var E;const j=m==="conditions-outgoing",[S,A]=g.useState([]),[I,R]=g.useState([]),[T,L]=g.useState({columnId:"all",dir:"desc"}),_=D=>{if(!D)return 0;if(s!=="outgoing"){const V=Number(D.applicationsFromUptime);return Number.isFinite(V)&&V>0?V:Number(D.applications||0)}const ie=Number(D.applicationsFromUptime);if(Number.isFinite(ie)&&ie>0)return ie;const k=Number(D.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const B=Number(D.applicationsFromBuffs);return Number.isFinite(B)&&B>0?B:Number(D.applications||0)},G=[...e||[]].sort((D,ie)=>(ie.damage||0)-(D.damage||0)),ee=G.filter(D=>D.name.toLowerCase().includes(n.trim().toLowerCase())),le=ee.map(D=>({id:D.name,label:D.name,icon:D.icon?c.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),X=S.length>0?G.filter(D=>S.includes(D.name)):G,q=Array.from(new Map((t||[]).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:h(D.profession,D.professionList,"w-3 h-3")})),K=new Set([...S.map(D=>`column:${D}`),...I.map(D=>`player:${D}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":v("conditions-outgoing"),"data-section-first":w("conditions-outgoing"),className:y("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(cx,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?b():x("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e&&e.length>0?j?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...G.map(D=>({id:D.name,label:D.name,type:"column"})),...q.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?A(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id]):R(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id])},selectedIds:K,className:"w-full sm:w-64"}),c.jsx(Ar,{options:le,selectedIds:S,onToggle:D=>{A(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>A([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:q,selectedIds:I,onToggle:D=>{R(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(Dn,{value:u.key,onChange:D=>d({key:D,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const D=u.key,ie=[{id:"all",label:"All Conditions",icon:null},...X],k=(t||[]).filter(ne=>I.length===0||I.includes(ne.account)).map(ne=>{const re=ne.conditions||{},se={},z={};return ie.forEach(W=>{if(W.id==="all"||W.name==="All Conditions"){const U=Object.values(re).reduce((Z,ae)=>{const Ke=_(ae);return Z.applications+=Number(Ke||0),Z.damage+=Number((ae==null?void 0:ae.damage)||0),Z},{applications:0,damage:0}),ue=D==="applications"?U.applications:U.damage;z.all=ue||0,se.all=Math.round(ue||0).toLocaleString();return}const H=re[W.name],te=D==="applications"?_(H):Number((H==null?void 0:H.damage)||0);z[W.name]=Number(te||0),se[W.name]=Math.round(te||0).toLocaleString()}),{player:ne,values:se,numericValues:z}}).filter(ne=>Object.values(ne.values).some(re=>re!=="0")),B=["all",...X.map(ne=>ne.name)].includes(T.columnId)?T.columnId:"all",V=[...k].sort((ne,re)=>{const se=ne.numericValues[B]??0,z=re.numericValues[B]??0;return(T.dir==="desc"?z-se:se-z)||String(ne.player.account||"").localeCompare(String(re.player.account||""))});return c.jsx(Es,{title:"Conditions - Dense View",subtitle:D==="applications"?"Applications":"Damage",sortColumnId:B,sortDirection:T.dir,onSortColumn:ne=>{L(re=>({columnId:ne,dir:re.columnId===ne&&re.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...X.map(ne=>({id:ne.name,label:c.jsx(jr,{name:ne.name,iconUrl:ne.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:V.map((ne,re)=>({id:`${ne.player.account}-${re}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:re+1}),h(ne.player.profession,ne.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ne.player.account})]}),values:ne.values}))})})()}),(S.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{A([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),S.map(D=>c.jsxs("button",{type:"button",onClick:()=>A(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D)),I.map(D=>c.jsxs("button",{type:"button",onClick:()=>R(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}):c.jsx(il,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:D=>r(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(D=>c.jsx("button",{type:"button",onClick:()=>a(D.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(jr,{name:D.name,iconUrl:D.icon,iconClassName:"h-5 w-5"})},D.name))]})})]}),content:c.jsx(Is,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":c.jsx(jr,{name:i,iconUrl:(E=e.find(D=>D.name===i))==null?void 0:E.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const ie=(t||[]).map(k=>{const B=k.conditions||{};if(i==="all"){const ne=Object.values(B).reduce((re,se)=>{const z=_(se);return re.applications+=Number(z||0),re.damage+=Number((se==null?void 0:se.damage)||0),re},{applications:0,damage:0});return{...k,applications:ne.applications,damage:ne.damage}}const V=B[i];return{...k,applications:_(V),damage:Number((V==null?void 0:V.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,B)=>{const V=u.key==="applications"?k.applications||0:k.damage||0,ne=u.key==="applications"?B.applications||0:B.damage||0,re=u.dir==="desc"?ne-V:V-ne;if(re!==0)return re;const se=u.key==="applications"?(B.damage||0)-(k.damage||0):(B.applications||0)-(k.applications||0);return se!==0?se:String(k.account||"").localeCompare(String(B.account||""))});return ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):ie.map((k,B)=>{var U;const V=k.conditions||{};let ne={};i==="all"?Object.values(V).forEach(ue=>{const Z=(ue==null?void 0:ue.skills)||{};Object.values(Z).forEach(ae=>{const Ke=(ae==null?void 0:ae.name)||"Unknown",Ye=Number((ae==null?void 0:ae.hits)||0),ye=Number((ae==null?void 0:ae.damage)||0);if((!Number.isFinite(Ye)||Ye<=0)&&(!Number.isFinite(ye)||ye<=0))return;const F=ne[Ke]||{name:Ke,hits:0,damage:0,icon:ae==null?void 0:ae.icon};F.hits+=Number.isFinite(Ye)?Ye:0,F.damage+=Number.isFinite(ye)?ye:0,!F.icon&&(ae!=null&&ae.icon)&&(F.icon=ae.icon),ne[Ke]=F})}):ne=((U=V[i])==null?void 0:U.skills)||{};const re=Object.values(ne).filter(ue=>Number.isFinite(ue.hits)&&ue.hits>0).sort((ue,Z)=>Z.hits-ue.hits||ue.name.localeCompare(Z.name)),se=Object.values(ne).filter(ue=>Number.isFinite(ue.damage)&&ue.damage>0).sort((ue,Z)=>Z.damage-ue.damage||ue.name.localeCompare(Z.name)),z=i==="all"&&re.length>0,W=i==="all"&&se.length>0,H=Math.round(k.applications||0).toLocaleString(),te=Math.round(k.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:z?c.jsx(JD,{value:H,label:"Condition Sources",items:re.map(ue=>({name:ue.name,iconUrl:ue.icon,value:Math.round(ue.hits).toLocaleString()})),className:"justify-end"}):H}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:W?c.jsx(JD,{value:te,label:"Condition Damage Sources",items:se.map(ue=>({name:ue.name,iconUrl:ue.icon,value:Math.round(ue.damage).toLocaleString()})),className:"justify-end"}):te}):null]},`${k.account}-${B}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},jse=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:x,expandedSectionClosing:b,openExpandedSection:v,closeExpandedSection:w,isSectionVisible:y,isFirstVisibleSection:N,sectionClass:j,sidebarListClass:S})=>{const[A,I]=g.useState({key:"value",dir:"desc"}),[R,T]=g.useState({columnId:"",dir:"desc"}),L=x==="boon-output",[_,G]=g.useState([]),[ee,le]=g.useState([]),be=e.boonTables||[],q=_.length>0?be.filter(k=>_.includes(k.id)):be,K=l.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),E=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),D=new Set([..._.map(k=>`column:${k}`),...ee.map(k=>`player:${k}`)]),ie=k=>{I(B=>({key:k,dir:B.key===k&&B.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":y("boon-output"),"data-section-first":N("boon-output"),className:j("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${x==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${b?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(zc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>x==="boon-output"?w():v("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":x==="boon-output"?"Close Boon Output":"Expand Boon Output",title:x==="boon-output"?"Close":"Expand",children:x==="boon-output"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):L?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...be.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?G(B=>B.includes(k.id)?B.filter(V=>V!==k.id):[...B,k.id]):le(B=>B.includes(k.id)?B.filter(V=>V!==k.id):[...B,k.id])},selectedIds:D,className:"w-full sm:w-64"}),c.jsx(Ar,{options:K,selectedIds:_,onToggle:k=>{G(B=>B.includes(k)?B.filter(V=>V!==k):[...B,k])},onClear:()=>G([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:E,selectedIds:ee,onToggle:k=>{le(B=>B.includes(k)?B.filter(V=>V!==k):[...B,k])},onClear:()=>le([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||ee.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{G([]),le([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(k=>{var V;const B=((V=be.find(ne=>ne.id===k))==null?void 0:V.name)||k;return c.jsxs("button",{type:"button",onClick:()=>G(ne=>ne.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),ee.map(k=>c.jsxs("button",{type:"button",onClick:()=>le(B=>B.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:be.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var se,z;const k=q,B=((se=k.find(W=>W.id===R.columnId))==null?void 0:se.id)||(a&&k.some(W=>W.id===a)?a:void 0)||((z=k[0])==null?void 0:z.id)||"",V=new Map,ne=new Map;k.forEach(W=>{const H=new Map;W.rows.forEach(te=>{const U=te.account||te.name||te.id;U&&(H.set(U,te),ne.has(U)||ne.set(U,te))}),V.set(W.id,H)});const re=Array.from(ne.entries()).filter(([W])=>ee.length===0||ee.includes(String(W))).map(([W,H])=>{const te={};return k.forEach(U=>{var Z;const ue=(Z=V.get(U.id))==null?void 0:Z.get(W);te[U.id]=ue?f(ue,t,U.stacking,r,{roundCountStats:p}):"-"}),{key:W,row:H,values:te}}).sort((W,H)=>{var Ye,ye;if(!B)return String(W.key).localeCompare(String(H.key));const te=k.find(F=>F.id===B),U=te?(Ye=V.get(te.id))==null?void 0:Ye.get(W.key):null,ue=te?(ye=V.get(te.id))==null?void 0:ye.get(H.key):null,Z=U?h(U,t,te==null?void 0:te.stacking,r):0,ae=ue?h(ue,t,te==null?void 0:te.stacking,r):0;return(R.dir==="desc"?ae-Z:Z-ae)||String(W.key).localeCompare(String(H.key))});return c.jsx(Es,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:B,sortDirection:R.dir,onSortColumn:W=>{T(H=>({columnId:W,dir:H.columnId===W&&H.dir==="desc"?"asc":"desc"}))},columns:k.map(W=>({id:W.id,label:c.jsx(jr,{name:W.name,iconUrl:W.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:re.map((W,H)=>({id:`${W.key}-${H}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),m(W.row.profession,W.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:W.row.account||W.row.name||W.key})]}),values:W.values}))})})()})]}):c.jsx(il,{expanded:x==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${x==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${x==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${x==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>c.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(jr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?c.jsx(Is,{expanded:x==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(jr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ie("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>ie("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...o.rows].sort((k,B)=>(()=>{const V=A.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),ne=A.key==="fightTime"?Number(B.activeTimeMs||0):h(B,t,o.stacking,r);return(A.dir==="desc"?ne-V:V-ne)||String(k.account||"").localeCompare(String(B.account||""))})()).map((k,B)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${B}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Ase=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:v,sidebarListClass:w})=>{var B;const[y,N]=g.useState({key:"value",dir:"desc"}),[j,S]=g.useState("combined"),[A,I]=g.useState({columnId:((B=t[0])==null?void 0:B.id)||"value",dir:"desc"}),R=f==="defense-detailed",[T,L]=g.useState([]),[_,G]=g.useState([]),ee=t.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(V=>({id:V.id,label:V.label})),be=le.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),q=T.length>0?t.filter(V=>T.includes(V.id)):t,K=Array.from(new Map(e.defensePlayers.map(V=>[V.account,V])).values()).map(V=>({id:V.account,label:V.account,icon:d(V.profession,V.professionList,"w-3 h-3")})),E=new Set([...T.map(V=>`column:${V}`),..._.map(V=>`player:${V}`)]),D=V=>{N(ne=>({key:V,dir:ne.key===V&&ne.dir==="desc"?"asc":"desc"}))},ie=V=>V==="minionDamageTaken",k=(V,ne)=>ne==="combined"?V.map(re=>({...re,minionList:Object.entries((re==null?void 0:re.minionDamageTakenByMinion)||{}).filter(([,se])=>Number(se||0)>0).sort((se,z)=>Number(z[1]||0)-Number(se[1]||0)).map(([se])=>String(se))})):V.flatMap(re=>{const se=Object.entries((re==null?void 0:re.minionDamageTakenByMinion)||{}).filter(([,z])=>Number(z||0)>0).sort((z,W)=>Number(W[1]||0)-Number(z[1]||0));return se.length===0?[]:se.map(([z,W])=>({...re,minionName:String(z),defenseTotals:{...re.defenseTotals||{},minionDamageTaken:Number(W||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":x("defense-detailed"),"data-section-first":b("defense-detailed"),className:v("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(vd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):R?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...le.map(V=>({...V,type:"column"})),...K.map(V=>({...V,type:"player"}))],onSelect:V=>{V.type==="column"?L(ne=>ne.includes(V.id)?ne.filter(re=>re!==V.id):[...ne,V.id]):G(ne=>ne.includes(V.id)?ne.filter(re=>re!==V.id):[...ne,V.id])},selectedIds:E,className:"w-full sm:w-64"}),c.jsx(Ar,{options:be,selectedIds:T,onToggle:V=>{L(ne=>ne.includes(V)?ne.filter(re=>re!==V):[...ne,V])},onClear:()=>L([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:K,selectedIds:_,onToggle:V=>{G(ne=>ne.includes(V)?ne.filter(re=>re!==V):[...ne,V])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),q.some(V=>ie(V.id))&&c.jsx(Dn,{value:j,onChange:V=>S(V),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||_.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{L([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(V=>{var re;const ne=((re=le.find(se=>se.id===V))==null?void 0:re.label)||V;return c.jsxs("button",{type:"button",onClick:()=>L(se=>se.filter(z=>z!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ne}),c.jsx("span",{className:"text-gray-400",children:""})]},V)}),_.map(V=>c.jsxs("button",{type:"button",onClick:()=>G(ne=>ne.filter(re=>re!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:V}),c.jsx("span",{className:"text-gray-400",children:""})]},V))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var H,te;const V=U=>Math.max(1,(U.activeMs||0)/1e3),ne=(U,ue)=>{const Z=ue.isPercent,Ke=u(U,l&&!Z&&s==="total"?0:2);return Z?`${Ke}%`:Ke},re=((H=q.find(U=>U.id===A.columnId))==null?void 0:H.id)||((te=q[0])==null?void 0:te.id)||"",se=[...e.defensePlayers].filter(U=>_.length===0||_.includes(U.account)),W=[...q.some(U=>ie(U.id))?k(se,j):se].map(U=>{const ue={},Z={};return q.forEach(ae=>{var F;const Ke=((F=U.defenseTotals)==null?void 0:F[ae.id])||0,Ye=ae.isPercent,ye=s==="total"||Ye?Ke:s==="per1s"?Ke/V(U):Ke*60/V(U);Z[ae.id]=ye,ue[ae.id]=ne(ye,ae)}),{row:U,values:ue,numericValues:Z}}).sort((U,ue)=>{const Z=U.numericValues[re]??0,ae=ue.numericValues[re]??0;return(A.dir==="desc"?ae-Z:Z-ae)||String(U.row.account||"").localeCompare(String(ue.row.account||""))});return c.jsx(Es,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:re,sortDirection:A.dir,onSortColumn:U=>{I(ue=>({columnId:U,dir:ue.columnId===U&&ue.dir==="desc"?"asc":"desc"}))},columns:q.map(U=>({id:U.id,label:U.label,align:"right",minWidth:90})),rows:W.map((U,ue)=>({id:`${U.row.account}-${ue}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ue+1}),d(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:U.row.account}),j==="combined"&&Array.isArray(U.row.minionList)&&U.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:U.row.minionList.join(", ")}),j==="separate"&&U.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:U.row.minionName})]})]}),values:U.values}))})})()})]}):c.jsx(il,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:V=>r(V.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${w} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(V=>c.jsx("button",{onClick:()=>a(V.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===V.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:V.label},V.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const V=t.find(W=>W.id===i)||t[0],ne=W=>Math.max(1,(W.activeMs||0)/1e3),re=[...e.defensePlayers],z=[...ie(V.id)?k(re,j):re].map(W=>{var H,te,U;return{...W,total:((H=W.defenseTotals)==null?void 0:H[V.id])||0,per1s:(((te=W.defenseTotals)==null?void 0:te[V.id])||0)/ne(W),per60s:(((U=W.defenseTotals)==null?void 0:U[V.id])||0)*60/ne(W)}}).sort((W,H)=>{const te=y.key==="fightTime"?Number(W.activeMs||0):Number(s==="total"?W.total:s==="per1s"?W.per1s:W.per60s),U=y.key==="fightTime"?Number(H.activeMs||0):Number(s==="total"?H.total:s==="per1s"?H.per1s:H.per60s);return(y.dir==="desc"?U-te:te-U)||W.account.localeCompare(H.account)});return c.jsx(Is,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:V.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${ie(V.id)?"justify-between":"justify-end"}`,children:[ie(V.id)&&c.jsx(Dn,{value:j,onChange:W=>S(W),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${y.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",y.key==="value"?y.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:z.map((W,H)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(W.profession,W.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:W.account}),ie(V.id)&&j==="combined"&&Array.isArray(W.minionList)&&W.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:W.minionList.join(", ")}),ie(V.id)&&j==="separate"&&W.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:W.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const te=s==="total"?W.total:s==="per1s"?W.per1s:W.per60s;return u(te,l&&s==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:W.activeMs?`${(W.activeMs/1e3).toFixed(1)}s`:"-"})]},`${V.id}-${W.account}-${H}`))})})})()})})]})},Pse=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:v,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var H,te;const j=((H=t.find(U=>U.id==="totalMitigation"))==null?void 0:H.id)||((te=t[0])==null?void 0:te.id)||"totalMitigation",[S,A]=g.useState({key:"value",dir:"desc"}),[I,R]=g.useState({columnId:j,dir:"desc"}),T=m==="defense-mitigation",[L,_]=g.useState([]),[G,ee]=g.useState([]),[le,be]=g.useState([]),X=e.damageMitigationPlayers||[],q=e.damageMitigationMinions||[],K=l==="minions"?q:X,E=X.length>0||q.length>0,D=t.filter(U=>U.label.toLowerCase().includes(n.trim().toLowerCase())),ie=t.map(U=>({id:U.id,label:U.label})),k=ie.filter(U=>U.label.toLowerCase().includes(n.trim().toLowerCase())),V=L.length>0?t.filter(U=>L.includes(U.id)):t,ne=Array.from(new Map(K.map(U=>[U.account,U])).values()).map(U=>({id:U.account,label:U.account,icon:h(U.profession,U.professionList,"w-3 h-3")})),re=Array.from(new Map(q.map(U=>[U.minion,U])).values()).filter(U=>U==null?void 0:U.minion).map(U=>({id:String(U.minion),label:String(U.minion)})),se=new Set([...L.map(U=>`column:${U}`),...G.map(U=>`player:${U}`)]),z=U=>{A(ue=>({key:U,dir:ue.key===U&&ue.dir==="desc"?"asc":"desc"}))},W=U=>f(U,d&&s==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":v("defense-mitigation"),"data-section-first":w("defense-mitigation"),className:y("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ek,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?b():x("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?T?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...ie.map(U=>({...U,type:"column"})),...ne.map(U=>({...U,type:"player"}))],onSelect:U=>{U.type==="column"?_(ue=>ue.includes(U.id)?ue.filter(Z=>Z!==U.id):[...ue,U.id]):ee(ue=>ue.includes(U.id)?ue.filter(Z=>Z!==U.id):[...ue,U.id])},selectedIds:se,className:"w-full sm:w-64"}),c.jsx(Ar,{options:k,selectedIds:L,onToggle:U=>{_(ue=>ue.includes(U)?ue.filter(Z=>Z!==U):[...ue,U])},onClear:()=>_([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:ne,selectedIds:G,onToggle:U=>{ee(ue=>ue.includes(U)?ue.filter(Z=>Z!==U):[...ue,U])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(Ar,{options:re,selectedIds:le,onToggle:U=>{be(ue=>ue.includes(U)?ue.filter(Z=>Z!==U):[...ue,U])},onClear:()=>be([]),buttonLabel:"Minions"}),c.jsx(Dn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||G.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{_([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(U=>{var Z;const ue=((Z=ie.find(ae=>ae.id===U))==null?void 0:Z.label)||U;return c.jsxs("button",{type:"button",onClick:()=>_(ae=>ae.filter(Ke=>Ke!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ue}),c.jsx("span",{className:"text-gray-400",children:""})]},U)}),G.map(U=>c.jsxs("button",{type:"button",onClick:()=>ee(ue=>ue.filter(Z=>Z!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:U}),c.jsx("span",{className:"text-gray-400",children:""})]},U))]}),l==="minions"&&le.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>be([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),le.map(U=>c.jsxs("button",{type:"button",onClick:()=>be(ue=>ue.filter(Z=>Z!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:U}),c.jsx("span",{className:"text-gray-400",children:""})]},U))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:K.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):D.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ae,Ke;const U=Ye=>Math.max(1,(Ye.activeMs||0)/1e3),ue=((ae=V.find(Ye=>Ye.id===I.columnId))==null?void 0:ae.id)||((Ke=V[0])==null?void 0:Ke.id)||"",Z=[...K].filter(Ye=>G.length===0||G.includes(Ye.account)).filter(Ye=>l!=="minions"||!le.length?!0:le.includes(String(Ye.minion||""))).map(Ye=>{const ye={},F={};return V.forEach(Ee=>{var Ht;const Le=((Ht=Ye.mitigationTotals)==null?void 0:Ht[Ee.id])||0,kt=s==="total"?Le:s==="per1s"?Le/U(Ye):Le*60/U(Ye);F[Ee.id]=kt,ye[Ee.id]=W(kt)}),{row:Ye,values:ye,numericValues:F}}).sort((Ye,ye)=>{const F=Ye.numericValues[ue]??0,Ee=ye.numericValues[ue]??0;return(I.dir==="desc"?Ee-F:F-Ee)||String(Ye.row.account||"").localeCompare(String(ye.row.account||""))});return c.jsx(Es,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:ue,sortDirection:I.dir,onSortColumn:Ye=>{R(ye=>({columnId:Ye,dir:ye.columnId===Ye&&ye.dir==="desc"?"asc":"desc"}))},columns:V.map(Ye=>({id:Ye.id,label:Ye.label,align:"right",minWidth:90})),rows:Z.map((Ye,ye)=>({id:`${Ye.row.account}-${Ye.row.minion||"player"}-${ye}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ye+1}),h(Ye.row.profession,Ye.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Ye.row.account}),Ye.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ye.row.minion})]})]}),values:Ye.values}))})})()})]}):c.jsx(il,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:U=>r(U.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:D.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):D.map(U=>c.jsx("button",{onClick:()=>a(U.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===U.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:U.label},U.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const U=t.find(ae=>ae.id===i)||t[0],ue=ae=>Math.max(1,(ae.activeMs||0)/1e3),Z=[...K].map(ae=>{var Ke,Ye,ye;return{...ae,total:((Ke=ae.mitigationTotals)==null?void 0:Ke[U.id])||0,per1s:(((Ye=ae.mitigationTotals)==null?void 0:Ye[U.id])||0)/ue(ae),per60s:(((ye=ae.mitigationTotals)==null?void 0:ye[U.id])||0)*60/ue(ae)}}).filter(ae=>l!=="minions"||!le.length?!0:le.includes(String(ae.minion||""))).sort((ae,Ke)=>{const Ye=S.key==="fightTime"?Number(ae.activeMs||0):Number(s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s),ye=S.key==="fightTime"?Number(Ke.activeMs||0):Number(s==="total"?Ke.total:s==="per1s"?Ke.per1s:Ke.per60s);return(S.dir==="desc"?ye-Ye:Ye-ye)||ae.account.localeCompare(Ke.account)});return c.jsx(Is,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:U.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${S.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:Z.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:Z.map((ae,Ke)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Ke+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ae.profession,ae.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:ae.account}),ae.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ae.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ye=s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s;return W(Ye)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ae.activeMs?`${(ae.activeMs/1e3).toFixed(1)}s`:"-"})]},`${U.id}-${ae.account}-${ae.minion||"player"}-${Ke}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},Dse=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:v,isFirstVisibleSection:w,sectionClass:y,sidebarListClass:N})=>{var ie;const[j,S]=g.useState({key:"value",dir:"desc"}),[A,I]=g.useState({columnId:((ie=t[0])==null?void 0:ie.id)||"value",dir:"desc"}),R=m==="support-detailed",[T,L]=g.useState([]),[_,G]=g.useState([]),ee=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(k=>({id:k.id,label:k.label})),be=le.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),q=T.length>0?t.filter(k=>T.includes(k.id)):t,K=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),E=new Set([...T.map(k=>`column:${k}`),..._.map(k=>`player:${k}`)]),D=k=>{S(B=>({key:k,dir:B.key===k&&B.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":v("support-detailed"),"data-section-first":w("support-detailed"),className:y("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Dk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?b():x("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):R?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...le.map(k=>({...k,type:"column"})),...K.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?L(B=>B.includes(k.id)?B.filter(V=>V!==k.id):[...B,k.id]):G(B=>B.includes(k.id)?B.filter(V=>V!==k.id):[...B,k.id])},selectedIds:E,className:"w-full sm:w-64"}),c.jsx(Ar,{options:be,selectedIds:T,onToggle:k=>{L(B=>B.includes(k)?B.filter(V=>V!==k):[...B,k])},onClear:()=>L([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:K,selectedIds:_,onToggle:k=>{G(B=>B.includes(k)?B.filter(V=>V!==k):[...B,k])},onClear:()=>G([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&c.jsx(Dn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||_.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{L([]),G([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var V;const B=((V=le.find(ne=>ne.id===k))==null?void 0:V.label)||k;return c.jsxs("button",{type:"button",onClick:()=>L(ne=>ne.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),_.map(k=>c.jsxs("button",{type:"button",onClick:()=>G(B=>B.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var se,z;const k=(W,H)=>{var te,U,ue;if(H==="condiCleanse"){const Z=((te=W.supportTotals)==null?void 0:te.condiCleanse)||0,ae=((U=W.supportTotals)==null?void 0:U.condiCleanseSelf)||0;return l==="all"?Z+ae:Z}return((ue=W.supportTotals)==null?void 0:ue[H])||0},B=W=>Math.max(1,(W.activeMs||0)/1e3),V=(W,H)=>{const te=W.isTime?1:d&&s==="total"?0:2;return f(H,te)},ne=((se=q.find(W=>W.id===A.columnId))==null?void 0:se.id)||((z=q[0])==null?void 0:z.id)||"",re=[...e.supportPlayers].filter(W=>_.length===0||_.includes(W.account)).map(W=>{const H={},te={};return q.forEach(U=>{const ue=k(W,U.id),Z=s==="total"?ue:s==="per1s"?ue/B(W):ue*60/B(W);te[U.id]=Z,H[U.id]=V(U,Z)}),{row:W,values:H,numericValues:te}}).sort((W,H)=>{const te=W.numericValues[ne]??0,U=H.numericValues[ne]??0;return(A.dir==="desc"?U-te:te-U)||String(W.row.account||"").localeCompare(String(H.row.account||""))});return c.jsx(Es,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ne,sortDirection:A.dir,onSortColumn:W=>{I(H=>({columnId:W,dir:H.columnId===W&&H.dir==="desc"?"asc":"desc"}))},columns:q.map(W=>({id:W.id,label:W.label,align:"right",minWidth:90})),rows:re.map((W,H)=>({id:`${W.row.account}-${H}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),h(W.row.profession,W.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:W.row.account})]}),values:W.values}))})})()})]}):c.jsx(il,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(k=>c.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(re=>re.id===i)||t[0],B=re=>{var se,z,W;if(k.id==="condiCleanse"){const H=((se=re.supportTotals)==null?void 0:se.condiCleanse)||0,te=((z=re.supportTotals)==null?void 0:z.condiCleanseSelf)||0;return l==="all"?H+te:H}return((W=re.supportTotals)==null?void 0:W[k.id])||0},V=re=>Math.max(1,(re.activeMs||0)/1e3),ne=[...e.supportPlayers].map(re=>({...re,total:B(re),per1s:B(re)/V(re),per60s:B(re)*60/V(re)})).sort((re,se)=>{const z=j.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s),W=j.key==="fightTime"?Number(se.activeMs||0):Number(s==="total"?se.total:s==="per1s"?se.per1s:se.per60s);return(j.dir==="desc"?W-z:z-W)||re.account.localeCompare(se.account)});return c.jsx(Is,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[k.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Dn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:ne.map((re,se)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:se+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(re.profession,re.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:re.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const z=s==="total"?re.total:s==="per1s"?re.per1s:re.per60s,W=k.isTime?1:d&&s==="total"?0:2;return f(z,W)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:re.activeMs?`${(re.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${re.account}-${se}`))})})})()})})]})},Tse=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:v})=>{var be;const[w,y]=g.useState({key:"value",dir:"desc"}),[N,j]=g.useState({columnId:((be=t[0])==null?void 0:be.id)||"value",dir:"desc"}),S=f==="healing-stats",[A,I]=g.useState([]),[R,T]=g.useState([]),L=Array.from(new Map(e.healingPlayers.map(X=>[X.account,X])).values()).map(X=>({id:X.account,label:X.account,icon:d(X.profession,X.professionList,"w-3 h-3")})),_=new Set([...R.map(X=>`column:${X}`),...A.map(X=>`player:${X}`)]),G=t.map(X=>({id:X.id,label:X.label})),ee=R.length>0?t.filter(X=>R.includes(X.id)):t,le=X=>{y(q=>({key:X,dir:q.key===X&&q.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":x("healing-stats"),"data-section-first":b("healing-stats"),className:v("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):S?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[...G.map(X=>({...X,type:"column"})),...L.map(X=>({...X,type:"player"}))],onSelect:X=>{X.type==="column"?T(q=>q.includes(X.id)?q.filter(K=>K!==X.id):[...q,X.id]):I(q=>q.includes(X.id)?q.filter(K=>K!==X.id):[...q,X.id])},selectedIds:_,className:"w-full sm:w-64"}),c.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Ar,{options:G,selectedIds:R,onToggle:X=>{T(q=>q.includes(X)?q.filter(K=>K!==X):[...q,X])},onClear:()=>T([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(X=>({value:X.id,label:X.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Ar,{options:L,selectedIds:A,onToggle:X=>{I(q=>q.includes(X)?q.filter(K=>K!==X):[...q,X])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})})]}),(R.length>0||A.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(X=>{var K;const q=((K=G.find(E=>E.id===X))==null?void 0:K.label)||X;return c.jsxs("button",{type:"button",onClick:()=>T(E=>E.filter(D=>D!==X)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:q}),c.jsx("span",{className:"text-gray-400",children:""})]},X)}),A.map(X=>c.jsxs("button",{type:"button",onClick:()=>I(q=>q.filter(K=>K!==X)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:X}),c.jsx("span",{className:"text-gray-400",children:""})]},X))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var D,ie;const X=k=>Math.max(1,(k.activeMs||0)/1e3),q=k=>{const B=k.baseField==="resUtility",V=B||i==="total"?"":i==="offSquad"?"offSquad":i;return B?s==="all"?"resUtility":`resUtility_${s}`:V?`${V}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},K=[...e.healingPlayers].filter(k=>A.length===0||A.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(B=>Number(B)>0)).map(k=>{const B={},V={};return ee.forEach(ne=>{var W;const re=q(ne),se=Number(((W=k.healingTotals)==null?void 0:W[re])??0),z=ne.perSecond?se/X(k):se;V[ne.id]=z,B[ne.id]=u(z,ne.decimals)}),{row:k,values:B,numericValues:V}}).sort((k,B)=>{var z,W;const V=((z=ee.find(H=>H.id===N.columnId))==null?void 0:z.id)||((W=ee[0])==null?void 0:W.id)||"",ne=k.numericValues[V]??0,re=B.numericValues[V]??0;return(N.dir==="desc"?re-ne:ne-re)||String(k.row.account||"").localeCompare(String(B.row.account||""))}),E=((D=ee.find(k=>k.id===N.columnId))==null?void 0:D.id)||((ie=ee[0])==null?void 0:ie.id)||"";return c.jsx(Es,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:N.dir,onSortColumn:k=>{j(B=>({columnId:k,dir:B.columnId===k&&B.dir==="desc"?"asc":"desc"}))},columns:ee.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:K.map((k,B)=>({id:`${k.row.account}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):c.jsx(il,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(X=>c.jsx("button",{onClick:()=>r(X.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===X.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:X.label},X.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const X=t.find(k=>k.id===n)||t[0],q=X.baseField==="resUtility",K=k=>Math.max(1,(k.activeMs||0)/1e3),E=q||i==="total"?"":i==="offSquad"?"offSquad":i,D=q?s==="all"?"resUtility":`resUtility_${s}`:E?`${E}${X.baseField[0].toUpperCase()}${X.baseField.slice(1)}`:X.baseField,ie=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(B=>Number(B)>0)).map(k=>{var ne;const B=Number(((ne=k.healingTotals)==null?void 0:ne[D])??0),V=X.perSecond?B/K(k):B;return{...k,value:V}}).sort((k,B)=>{const V=w.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),ne=w.key==="fightTime"?Number(B.activeMs||0):Number(B.value||0);return(w.dir==="desc"?ne-V:V-ne)||k.account.localeCompare(B.account)});return c.jsx(Is,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:X.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>le("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[X.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>le("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:ie.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):ie.map((k,B)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(k.value,X.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${X.id}-${k.account}-${B}`))})})})()})})]})},Mse=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Ese=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:x,sidebarListClass:b})=>{const[v,w]=g.useState("total"),[y,N]=g.useState("desc"),[j,S]=g.useState({columnId:"",dir:"desc"}),A=u==="special-buffs",[I,R]=g.useState([]),[T,L]=g.useState([]),_=e.specialTables||[],ee=I.length>0?_.filter(D=>I.includes(D.id)):_,le=r.map(D=>({id:D.id,label:D.name,icon:D.icon?c.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),be=Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:l(D.profession,D.professionList,"w-3 h-3")})),X=new Set([...I.map(D=>`column:${D}`),...T.map(D=>`player:${D}`)]),q=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const D=[...s.rows];return D.sort((ie,k)=>{const B=Number((ie==null?void 0:ie[v])??0),V=Number((k==null?void 0:k[v])??0),ne=y==="desc"?V-B:B-V;return ne!==0?ne:String((ie==null?void 0:ie.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),D},[s,v,y]),K=D=>{if(v===D){N(ie=>ie==="desc"?"asc":"desc");return}w(D),N("desc")},E=D=>v!==D?"":y==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:x("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ux,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Os,{options:[..._.map(D=>({id:D.id,label:D.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,type:"player",icon:l(D.profession,D.professionList,"w-3 h-3")}))],onSelect:D=>{D.type==="column"?R(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id]):L(ie=>ie.includes(D.id)?ie.filter(k=>k!==D.id):[...ie,D.id])},selectedIds:X,className:"w-full sm:w-64"}),c.jsx(Ar,{options:le,selectedIds:I,onToggle:D=>{R(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>R([]),buttonIcon:c.jsx(Ps,{className:"h-3.5 w-3.5"})}),c.jsx(Ar,{options:be,selectedIds:T,onToggle:D=>{L(ie=>ie.includes(D)?ie.filter(k=>k!==D):[...ie,D])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:c.jsx(Lr,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:v,onChange:D=>w(D),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{R([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(D=>{var k;const ie=((k=_.find(B=>B.id===D))==null?void 0:k.name)||D;return c.jsxs("button",{type:"button",onClick:()=>R(B=>B.filter(V=>V!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ie}),c.jsx("span",{className:"text-gray-400",children:""})]},D)}),T.map(D=>c.jsxs("button",{type:"button",onClick:()=>L(ie=>ie.filter(k=>k!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:D}),c.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var re,se;const D=ee,ie=new Map,k=new Map;D.forEach(z=>{const W=new Map;z.rows.forEach(H=>{const te=H.account||H.name||H.id;te&&(W.set(te,H),k.has(te)||k.set(te,H))}),ie.set(z.id,W)});const B=Array.from(k.entries()).filter(([z])=>T.length===0||T.includes(String(z))).map(([z,W])=>{const H={},te={};return D.forEach(U=>{var Ke;const ue=(Ke=ie.get(U.id))==null?void 0:Ke.get(z);if(!ue){H[U.id]="-",te[U.id]=0;return}if(v==="duration"){H[U.id]=ue.duration?`${ue.duration.toFixed(1)}s`:"-",te[U.id]=Number(ue.duration||0);return}const Z=v==="total"?ue.total:ue.perSecond,ae=v==="total"?0:1;te[U.id]=Number(Z||0),H[U.id]=o(Z||0,ae)}),{key:z,row:W,values:H,numericValues:te}}),V=((re=D.find(z=>z.id===j.columnId))==null?void 0:re.id)||(i&&D.some(z=>z.id===i)?i:void 0)||((se=D[0])==null?void 0:se.id)||"",ne=[...B].sort((z,W)=>{if(!V)return String(z.key).localeCompare(String(W.key));const H=z.numericValues[V]??0,te=W.numericValues[V]??0;return(j.dir==="desc"?te-H:H-te)||String(z.key).localeCompare(String(W.key))});return c.jsx(Es,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:V,sortDirection:j.dir,onSortColumn:z=>{S(W=>({columnId:z,dir:W.columnId===z&&W.dir==="desc"?"asc":"desc"}))},columns:D.map(z=>({id:z.id,label:c.jsx(jr,{name:z.name,iconUrl:z.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((z,W)=>({id:`${z.key}-${W}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),l(z.row.profession,z.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:z.row.account||z.row.name||z.key})]}),values:z.values}))})})()})]}):c.jsx(il,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:D=>n(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(D=>c.jsx("button",{onClick:()=>a(D.id),title:D.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(jr,{name:Mse(D.name),iconUrl:D.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},D.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(Is,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(jr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>K("total"),className:`text-right transition-colors ${v==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",E("total")]}),c.jsxs("button",{type:"button",onClick:()=>K("perSecond"),className:`text-right transition-colors ${v==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",E("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>K("duration"),className:`text-right transition-colors ${v==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",E("duration")]})]}),rows:c.jsx(c.Fragment,{children:q.map((D,ie)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ie+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(D.profession,D.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:D.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(D.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:o(D.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:D.duration?`${D.duration.toFixed(1)}s`:"-"})]},`${s.id}-${D.account}-${ie}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Ose=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Ise=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:x,sidebarListClass:b})=>{const[v,w]=g.useState("desc"),y=u==="sigil-relic-uptime",N=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((S,A)=>{const I=Number((S==null?void 0:S.uptimePerSecond)??(S==null?void 0:S.perSecond)??0),R=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),T=v==="desc"?R-I:I-R;return T!==0?T:String((S==null?void 0:S.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),j},[s,v]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:x("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ok,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),e?c.jsx(il,{expanded:y,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${y?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(j=>c.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(jr,{name:Ose(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(Is,{expanded:y,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(jr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>w(j=>j==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",v==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:N.map((j,S)=>{const A=Number(j.uptimePerSecond??j.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:S+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:j.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(A,1),"%"]})]},`${s.id}-${j.account}-${S}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},_se=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=g.useState(""),[m,p]=g.useState(""),[x,b]=g.useState(null);g.useEffect(()=>{var G,ee,le;if(u.length===0){h(""),p("");return}const L=String(((G=u[0])==null?void 0:G.id)||""),_=String(((ee=u[1])==null?void 0:ee.id)||((le=u[0])==null?void 0:le.id)||"");h(be=>be&&u.some(X=>String(X.id)===be)?be:L),p(be=>be&&u.some(X=>String(X.id)===be)?be:_)},[u]);const v=g.useMemo(()=>u.find(L=>String(L.id)===String(f))||null,[u,f]),w=g.useMemo(()=>u.find(L=>String(L.id)===String(m))||null,[u,m]),y=g.useMemo(()=>{if(!v||!w)return[];const L=new Map,_=(G,ee,le,be)=>{const X=String(G||"Unknown"),q=L.get(X)||{label:X,aDamage:0,aShare:0,bDamage:0,bShare:0};ee==="a"?(q.aDamage=Number(le||0),q.aShare=Number(be||0)):(q.bDamage=Number(le||0),q.bShare=Number(be||0)),L.set(X,q)};return(v.targetFocus||[]).forEach(G=>_(G.label,"a",G.damage,G.share)),(w.targetFocus||[]).forEach(G=>_(G.label,"b",G.damage,G.share)),Array.from(L.values()).map(G=>({...G,shareDelta:G.bShare-G.aShare})).sort((G,ee)=>Math.abs(ee.shareDelta)-Math.abs(G.shareDelta)||ee.bDamage+ee.aDamage-(G.bDamage+G.aDamage))},[v,w]),N=g.useMemo(()=>{if(!x)return y;const L=x.direction==="asc"?1:-1,_=x.key;return[...y].sort((G,ee)=>{const le=(Number(G[_])-Number(ee[_]))*L;return le!==0?le:G.label.localeCompare(ee.label)})},[y,x]),j=g.useMemo(()=>{if(!v||!w)return[];const L=new Map((v.squadMetrics||[]).map(ee=>[ee.metricId,ee])),_=new Map((w.squadMetrics||[]).map(ee=>[ee.metricId,ee]));return Array.from(new Set([...L.keys(),..._.keys()])).map(ee=>{const le=L.get(ee),be=_.get(ee),X=!!((le==null?void 0:le.higherIsBetter)??(be==null?void 0:be.higherIsBetter)??!0),q=Number((le==null?void 0:le.value)||0),K=Number((be==null?void 0:be.value)||0);return{metricId:ee,metricLabel:String((le==null?void 0:le.metricLabel)||(be==null?void 0:be.metricLabel)||ee),higherIsBetter:X,a:le,b:be,delta:K-q}})},[v,w]),S=L=>`${t((Number(L)||0)*100,1)}%`,A=L=>L==="squadKdr"?2:0,I=L=>{b(_=>!_||_.key!==L?{key:L,direction:"desc"}:{key:L,direction:_.direction==="desc"?"asc":"desc"})},R=L=>(x==null?void 0:x.key)===L?x.direction==="desc"?" ":" ":"",T=L=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(x==null?void 0:x.key)===L?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ck,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:L=>h(L.target.value),children:u.map(L=>c.jsxs("option",{value:L.id,children:[L.shortLabel," - ",L.fullLabel]},`fight-a-${L.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:L=>p(L.target.value),children:u.map(L=>c.jsxs("option",{value:L.id,children:[L.shortLabel," - ",L.fullLabel]},`fight-b-${L.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Is,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:y.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>I("aDamage"),children:[v==null?void 0:v.shortLabel," Damage",R("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>I("aShare"),children:[v==null?void 0:v.shortLabel," Share",R("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>I("bDamage"),children:[w==null?void 0:w.shortLabel," Damage",R("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>I("bShare"),children:[w==null?void 0:w.shortLabel," Share",R("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>I("shareDelta"),children:["Share Delta",R("shareDelta")]})})]})})]})}):null,rows:y.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:N.map(L=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:L.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(L.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(L.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(L.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:S(L.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${L.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[L.shareDelta>=0?"+":"",S(L.shareDelta)]})]},`focus-${L.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Is,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:j.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[v==null?void 0:v.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[w==null?void 0:w.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:j.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:j.map(L=>{var ee,le;const _=L.higherIsBetter?L.delta>=0:L.delta<=0,G=A(L.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:L.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ee=L.a)==null?void 0:ee.value)||0),G)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((le=L.b)==null?void 0:le.value)||0),G)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${_?"text-emerald-300":"text-red-300"}`,children:[L.delta>0?"+":"",t(L.delta,G)]})]},`performer-${L.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Lse=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),$se=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=g.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),x=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(x)||x<=0||u.set(p,(u.get(p)||0)+x)})}),Array.from(u.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const x=Number(d);if(Number.isFinite(x)&&x>0)f=x>1e12?x:x*1e3;else{const b=Date.parse(d);Number.isFinite(b)&&b>0&&(f=b)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Dn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Db,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Db,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Db,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},eT={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Fse=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:u})=>{const d=eT[r]||eT.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Rse=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},tT=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Bse=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Bc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(o8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(ux,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(Ig,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:tT(m.val,s)})]},p))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,x,b,v,w;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((x=m.data)==null?void 0:x.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((b=m.data)==null?void 0:b.profession)||"Unknown"})]})]}),(w=(v=m.data)==null?void 0:v.topStats)!=null&&w.some(y=>l(y.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(y=>l(y.name)).map((y,N)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:y.name}),c.jsx("span",{className:"tabular-nums leading-none",children:tT(y.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,x=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,b=m?"":"Total ",v=m?" /s":"",w=[{icon:f8,title:`Down Contribution${v}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:vd,title:`${b}Barrier${v}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:jO,title:`${b}Healing${v}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:y8,title:`${b}Dodges${v}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:xm,title:`${b}Strips${v}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:u8,title:`${b}Cleanses${v}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:d8,title:`${b}CC${v}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:TO,title:`${b}Stab Gen${v}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:s8,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],y=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(N=>{var R,T,L,_;const j=i==="all",S=Rse((x==null?void 0:x[N.statKey])||[],N.higherIsBetter),A=S[0],I=A?{...N.data,value:Number(A.value||0),player:A.account||((R=N.data)==null?void 0:R.player)||"-",count:A.count||((T=N.data)==null?void 0:T.count)||0,profession:A.profession||((L=N.data)==null?void 0:L.profession)||"Unknown",professionList:A.professionList||((_=N.data)==null?void 0:_.professionList)||[]}:N.data;return c.jsx(Fse,{...N,data:I,active:j,onClick:()=>a(G=>G==="all"?null:"all"),rows:S,formatValue:y,renderProfessionIcon:u},N.statKey)})})})()]}):null,zse=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",u=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=g.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((x,b)=>{const v=Number((x==null?void 0:x[u])||0);return Number((b==null?void 0:b[u])||0)-v||Number((b==null?void 0:b.hits)||0)-Number((x==null?void 0:x.hits)||0)||String((x==null?void 0:x.name)||"").localeCompare(String((b==null?void 0:b.name)||""))}),[o,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...h.map(x=>Number((x==null?void 0:x[u])||0))),[h,u]),p=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Sk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(x=>{const b=(t||e.topSkillsMetric)===x.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(x.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${b?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:x.label},x.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((x,b)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(jr,{name:x.name,iconUrl:x.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(x[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",x.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(x[u]||0)/m*100}%`}})})]})]},`outgoing-${x.name||"unknown"}-${b}`)),h.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(n8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((x,b)=>{var v;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(jr,{name:x.name,iconUrl:x.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(x.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",x.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${x.damage/(((v=e.topIncomingSkills[0])==null?void 0:v.damage)||1)*100}%`}})})]})]},`incoming-${x.name||"unknown"}-${b}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Use=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Lr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(t1,{children:[c.jsx(j0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>c.jsx(Dd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(cx,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(t1,{children:[c.jsx(j0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>c.jsx(Dd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Wse=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Lr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Qo,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const l=(f=o==null?void 0:o[0])==null?void 0:f.payload,u=(l==null?void 0:l.isWin)===!0?"Win":(l==null?void 0:l.isWin)===!1?"Loss":"Unknown";return`${typeof(l==null?void 0:l.label)=="string"&&l.label.trim().length>0?l.label:`Log ${s}`}  ${u}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(ua,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(ua,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Vse=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Pk,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(t1,{children:[c.jsx(j0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>c.jsx(Dd,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),c.jsx(Ms,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(Q_,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",c.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),nT=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:x,spikeMode:b,setSpikeMode:v,damageBasis:w="all",setDamageBasis:y,showDamageBasisToggle:N=!1,selectedSpikePlayerKey:j,setSelectedSpikePlayerKey:S,selectedSpikePlayer:A,spikeChartData:I,spikeChartMaxY:R,selectedSpikeFightIndex:T,setSelectedSpikeFightIndex:L,spikeDrilldownTitle:_,spikeDrilldownData:G,spikeDrilldownDownIndices:ee,spikeDrilldownDeathIndices:le,spikeFightSkillRows:be=[],spikeFightSkillTitle:X="Skill Damage (Selected Fight)",formatWithCommas:q,renderProfessionIcon:K})=>{const[E,D]=g.useState(null),[ie,k]=g.useState(null),B=ye=>String(ye||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=s===e,ne=A?Io(A.profession):"#fda4af",re=w==="downContribution",se=b==="hit"?re?"Highest Down Contribution":"Highest Damage":b==="1s"?"1s Burst":b==="5s"?"5s Burst":"30s Burst",z=ye=>b==="hit"?re?ye.peakHitDown:ye.peakHit:b==="1s"?re?ye.peak1sDown:ye.peak1s:b==="5s"?re?ye.peak5sDown:ye.peak5s:re?ye.peak30sDown:ye.peak30s,W=x.flatMap(ye=>ye.players.map(F=>({...F,groupProfession:ye.profession}))).sort((ye,F)=>{const Ee=z(F)-z(ye);return Ee!==0?Ee:ye.displayName.localeCompare(F.displayName)}),H=I.reduce((ye,F)=>!ye||F.damage>ye.damage?F:ye,null),te=ye=>{if(!Number.isFinite(ye)||ye<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(ye))}catch{return""}},U=G.reduce((ye,F)=>Math.max(ye,Number(F.value||0)),0),ue=Math.max(1,U),Z=new Set(ee),ae=new Set(le),Ke=G.map((ye,F)=>({...ye,downMarker:Z.has(F)?Math.max(Number(ye.value||0),ue*.88):null,deathMarker:ae.has(F)?Math.max(Number(ye.value||0),ue*.96):null})),Ye=ye=>F=>{const Ee=Number(F==null?void 0:F.cx),Le=Number(F==null?void 0:F.cy),kt=Number(F==null?void 0:F.index);if(!Number.isFinite(Ee)||!Number.isFinite(Le)||!Number.isFinite(kt))return null;const Ht=(F==null?void 0:F.payload)||{},mn=ye==="down"?Ht==null?void 0:Ht.downMarker:Ht==null?void 0:Ht.deathMarker;if(!Number.isFinite(Number(mn)))return null;const Pe=`${ye}-${kt}`,it=E===Pe,Ft=ye==="down"?"#facc15":"#ef4444",on=ye==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{D(Pe),k({x:Ee,y:Le,kind:ye,label:String((Ht==null?void 0:Ht.label)||"")})},onMouseLeave:()=>{D(en=>en===Pe?null:en),k(en=>(en==null?void 0:en.kind)===ye&&(en==null?void 0:en.label)===String((Ht==null?void 0:Ht.label)||"")?null:en)},children:[c.jsx("circle",{cx:Ee,cy:Le,r:it?10:7,fill:on,opacity:it?.35:.18}),c.jsx("circle",{cx:Ee,cy:Le,r:it?7:5.5,fill:Ft,stroke:"#0f172a",strokeWidth:it?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${V?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:V?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xm,{className:`w-5 h-5 ${a}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${V?"pr-10 md:pr-0":""}`,children:[N&&y&&c.jsx(Dn,{value:w,onChange:ye=>y(ye),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:b,onChange:ye=>v(ye),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>V?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${V?"absolute top-2 right-2 md:static":""}`,"aria-label":V?`Close ${t}`:`Expand ${t}`,title:V?"Close":"Expand",children:V?c.jsx(ki,{className:"w-4 h-4"}):c.jsx(Ii,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:ye=>p(ye.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:W.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:W.map(ye=>{const F=j===ye.key;return c.jsx("button",{type:"button",onClick:()=>S(ye.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${F?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[K(ye.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:ye.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:ye.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[ye.characterName||ye.displayName,"  ",ye.logs," ",ye.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:q(z(ye)||0,0)})]})},ye.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",se]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[I.length," ",I.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!A||I.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:I,onClick:ye=>{const F=Number(ye==null?void 0:ye.activeTooltipIndex);Number.isFinite(F)&&L(T===F?null:F)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,R)],tickFormatter:ye=>q(ye,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(ye,F)=>[q(Number(ye||0),0),String(F||"")],labelFormatter:(ye,F)=>{var kt;const Ee=(kt=F==null?void 0:F[0])==null?void 0:kt.payload;if(!Ee)return"";const Le=B(Ee.fullLabel||"");return b==="hit"&&Ee.skillName?`${Le}  ${Ee.skillName}`:Le}}),c.jsx(ua,{type:"monotone",dataKey:"damage",name:A.displayName,stroke:ne,strokeWidth:3,dot:ye=>{var Le;const F=Number((Le=ye==null?void 0:ye.payload)==null?void 0:Le.index);if(!Number.isFinite(F))return null;const Ee=T===F;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:kt=>{kt.stopPropagation(),L(Ee?null:F)},children:[c.jsx("circle",{cx:ye.cx,cy:ye.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:ye.cx,cy:ye.cy,r:Ee?4:3,fill:ne,stroke:Ee?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Ee?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ua,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),A&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[K(A.profession,A.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:A.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?re?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${se}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:q(z(A)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const ye=B((H==null?void 0:H.fullLabel)||A.peakFightLabel||"N/A"),F=te(Number((H==null?void 0:H.timestamp)||0)),Ee=F?`${F} - ${ye}`:ye;return b!=="hit"?Ee:A.peakSkillName?`${A.peakSkillName}  ${Ee}`:Ee})()})]})]}),A&&T!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),c.jsx("button",{type:"button",onClick:()=>L(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:G.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Ts,{width:"100%",height:"100%",children:c.jsxs(Ql,{data:Ke,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:ye=>q(ye,0)}),c.jsx(Ms,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(ye,F)=>{const Ee=String(F||"");return Ee==="Down"?["Downed","Event"]:Ee==="Death"?["Dead","Event"]:[q(Number(ye||0),0),"Damage"]},labelFormatter:ye=>String(ye||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Damage",stroke:ne,strokeWidth:2.5,dot:b==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(ua,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ye("down")}),c.jsx(ua,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ye("death")})]})}),ie&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ie.x)}px`,top:`${Math.max(8,ie.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${ie.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ie.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:ie.label})]})]})})]}),A&&T!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${be.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const ye=Ee=>Number(re?Ee.downContribution||0:Ee.damage||0),F=[...be].filter(Ee=>ye(Ee)>0).sort((Ee,Le)=>ye(Le)-ye(Ee)||Number(Le.hits||0)-Number(Ee.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:X}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[F.length," ",F.length===1?"skill":"skills"]})]}),F.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:re?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:F.map((Ee,Le)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Ee.icon?c.jsx("img",{src:Ee.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Ee.skillName,children:Ee.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:q(Number(re?Ee.downContribution||0:Ee.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:q(Number(Ee.hits||0),0)})]},`${Ee.skillName}-${Le}`))})]})]})})()})]})},Hse=10,Mp=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},rT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},qse=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Kse=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(""),[o,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=a.trim().toLowerCase(),h=g.useMemo(()=>{const b=e.filter(w=>{if(!f)return!0;const y=String(w.account||"").toLowerCase(),N=(w.characterNames||[]).join(" ").toLowerCase(),j=(w.classTimes||[]).map(S=>String(S.profession||"").toLowerCase()).join(" ");return y.includes(f)||N.includes(f)||j.includes(f)}),v=w=>Number(o==="fight"?w.combatTimeMs??w.squadTimeMs??0:w.squadTimeMs??0);return[...b].sort((w,y)=>{const N=v(y)-v(w);return N!==0?u==="desc"?N:-N:String(w.account||"").localeCompare(String(y.account||""))})},[e,f,u,o]),m=b=>{if(o===b){d(v=>v==="desc"?"asc":"desc");return}l(b),d("desc")},p=h.length>Hse,x=()=>{const b=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],v=h.map(A=>{const I=(A.classTimes||[]).map(R=>`${R.profession} (${Mp(R.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),I,rT(Number(A.combatTimeMs??A.squadTimeMs??0)),rT(A.squadTimeMs)]}),w=[b,...v].map(A=>A.map(I=>qse(String(I??""))).join(",")).join(`
`),y=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(y),j=document.createElement("a"),S=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.href=N,j.download=`attendance-ledger-${S}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(N)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(gm,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:a,onChange:b=>s(b.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(l8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[h.map(b=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:b.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:b.characterNames.length>0?b.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.classTimes.length>0?b.classTimes.map(v=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(v.profession)?c.jsx("img",{src:t(v.profession),alt:v.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:v.profession}),c.jsx("span",{className:"text-gray-400",children:Mp(v.timeMs)})]},`${b.account}-${v.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Mp(Number(b.combatTimeMs??b.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Mp(b.squadTimeMs)})]},b.account)),h.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Gse=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Yse=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null),[o,l]=g.useState(""),u=o.trim().toLowerCase(),d=cu("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=g.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!u)return!1;const p=String(m.account||"").toLowerCase(),x=String(m.characterName||"").toLowerCase(),b=String(m.profession||"").toLowerCase();return p.includes(u)||x.includes(u)||b.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Lr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return c.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Gse(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,x)=>(()=>{const b=h(p);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${b?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?c.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:c.jsx("span",{className:"truncate min-w-0",children:p.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${x}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Xse=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Qse=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null);g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(u=>u.id===a))&&s(e[0].id)},[e,a]);const o=g.useMemo(()=>e.find(u=>u.id===a)||null,[e,a]),l=g.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([u,d])=>({profession:u,count:Number(d||0)})).filter(u=>u.count>0).sort((u,d)=>d.count-u.count||u.profession.localeCompare(d.profession)):[],[o]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Il,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(u=>{const d=u.id===a;return c.jsxs("button",{onClick:()=>s(u.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:u.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:u.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[u.duration||"--:--","  ",Xse(u.timestamp)]})]},u.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(u=>{const d=Array.isArray(u.players)&&u.players.length>0?u.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(u.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:u.party>0?`P${u.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>c.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${u.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${u.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:u.profession,children:t(u.profession)?c.jsx("img",{src:t(u.profession),alt:u.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:u.count})]},`${o.id}-enemy-${u.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Zse=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f})=>{const h=u||!d,m=d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(AO,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Bc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(ux,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(b8,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:m,children:[c.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(g8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Jse=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=g.useState("idle"),u=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(h8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(PO,{className:"w-3 h-3"}),r==="errored"&&c.jsx(MO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},eoe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ks="space-y-1 pr-1 max-h-72 overflow-y-auto",toe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),noe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],iT={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Tb=[];function roe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:x}){var B2,z2;const b=n||LO,v=r||ew,w=a||R8,y=v.showTopStats,N=v.showMvp,j=v.roundCountStats,S=v.topStatsMode||"total",[A,I]=g.useState(v.topSkillsMetric||"damage"),R=(i?v.topSkillsMetric:A)||"damage",T=w.uploading,L=w.message,_=w.url,G=w.buildStatus,ee=!u&&!1,[le,be]=g.useState(!0),X=g.useCallback(C=>d?d(C):!0,[d]),q=!!x,{result:K,aggregationProgress:E,aggregationDiagnostics:D}=HW({logs:q?[]:e,precomputedStats:q?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ie=x||K,k=(x==null?void 0:x.aggregationProgress)||E,B=(x==null?void 0:x.aggregationDiagnostics)||D,{stats:V,skillUsageData:ne}=ie,re=g.useMemo(()=>{const C=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),O=Math.min(C,Math.max(0,Number((p==null?void 0:p.pending)||0))),M=Math.min(C,Math.max(0,Number((p==null?void 0:p.processed)||C-O))),xe=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&C>0&&O>0){const At=C>0?Math.max(1,Math.min(99,Math.round(M/C*100))):0,yt=xe>0?`  ${xe} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${M} of ${C} fights prepared${yt}`,progressPercent:At}}if(C>0&&xe>=C)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${xe} of ${C} fights could not be loaded from dps.report`,progressPercent:100};if(C>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const ve=Math.max(0,Number((k==null?void 0:k.total)||e.length||0));if(!(!!(k!=null&&k.active)&&(k==null?void 0:k.phase)!=="idle"&&(k==null?void 0:k.phase)!=="settled"&&ve>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const Je=Math.min(Math.max(Number((k==null?void 0:k.streamed)||0),0),ve),mt=(k==null?void 0:k.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",Ze=(k==null?void 0:k.phase)==="streaming"?`${Je} of ${ve} fights loaded`:"All fights loaded  calculating final totals",jt=(k==null?void 0:k.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(Je/ve*100))):99;return{active:!0,phaseLabel:mt,progressText:Ze,progressPercent:jt}},[p,k,e.length]),se=g.useMemo(()=>{if(!B)return"";const C=xe=>{const Se=Math.max(0,Number(xe||0));return Se>=1e4?`${(Se/1e3).toFixed(1)}s`:Se>=1e3?`${(Se/1e3).toFixed(2)}s`:`${Math.round(Se)}ms`},O=[`Load ${C(B.streamMs)}`,`Calculate ${C(B.computeMs)}`,`Total ${C(B.totalMs)}`],M=B.transferStripStats;if(B.mode==="worker"&&M){const xe=Number(M.spikeSkillRowsRemoved||0),Se=Number(M.incomingSkillRowsRemoved||0),ve=Number(M.playerSkillMapsRemoved||0),Y=xe+Se+ve;Y>0&&O.push(`Cleaned up ${Y.toLocaleString()} temporary records`)}return B.mode==="worker"&&Number(B.droppedLogMessages||0)>0&&O.push(`Skipped ${Number(B.droppedLogMessages||0)} outdated updates`),O.join("  ")},[B]),z=re.active,W=re.phaseLabel,H=re.progressText,te=z&&re.progressPercent<100;g.useEffect(()=>{if(z){be(!1);return}let C=!1;const O=()=>{C||be(!0)},M=window.requestIdleCallback;let xe=null;return typeof M=="function"?xe=M(()=>O(),{timeout:220}):xe=window.setTimeout(O,60),()=>{if(C=!0,xe!==null)if(typeof M=="function"){const Se=window.cancelIdleCallback;typeof Se=="function"&&Se(xe)}else window.clearTimeout(xe)}},[z]);const U=le&&!z,ue=U&&(X("top-skills-outgoing")||X("player-breakdown")||X("damage-breakdown")),Z=U&&X("skill-usage"),ae=U&&X("apm-stats"),Ke=U&&X("spike-damage"),Ye=U&&X("incoming-strike-damage"),ye=U&&X("conditions-outgoing"),F=g.useMemo(()=>{var Ze,jt,At,yt,Mt,Vt;const C=V&&typeof V=="object"?V:{},O=Xt=>Array.isArray(Xt)?Xt:[],M=Xt=>Xt&&typeof Xt=="object"?Xt:{},xe=(Xt,$n)=>Xt&&typeof Xt=="object"?Xt:$n,Se={value:0,player:"-",profession:"Unknown",professionList:[],count:0},ve={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},Y={...C,total:Number(C.total||0),timelineData:O(C.timelineData),mapData:O(C.mapData),fightBreakdown:O(C.fightBreakdown),topSkills:O(C.topSkills),topIncomingSkills:O(C.topIncomingSkills),leaderboards:M(C.leaderboards),topStatsPerSecond:M(C.topStatsPerSecond),topStatsLeaderboardsPerSecond:M(C.topStatsLeaderboardsPerSecond),maxDownContrib:xe(C.maxDownContrib,Se),maxBarrier:xe(C.maxBarrier,Se),maxHealing:xe(C.maxHealing,Se),maxDodges:xe(C.maxDodges,Se),maxStrips:xe(C.maxStrips,Se),maxCleanses:xe(C.maxCleanses,Se),maxCC:xe(C.maxCC,Se),maxStab:xe(C.maxStab,Se),closestToTag:xe(C.closestToTag,Se),mvp:{...ve,...M(C.mvp),topStats:O((Ze=C==null?void 0:C.mvp)==null?void 0:Ze.topStats)},silver:xe(C.silver,ve),bronze:xe(C.bronze,ve),avgMvpScore:Number(C.avgMvpScore||0),offensePlayers:O(C.offensePlayers),defensePlayers:O(C.defensePlayers),damageMitigationPlayers:O(C.damageMitigationPlayers),damageMitigationMinions:O(C.damageMitigationMinions),supportPlayers:O(C.supportPlayers),healingPlayers:O(C.healingPlayers),boonTables:O(C.boonTables),boonTimeline:O(C.boonTimeline),boonUptimeTimeline:O(C.boonUptimeTimeline),specialTables:O(C.specialTables),outgoingConditionSummary:O(C.outgoingConditionSummary),outgoingConditionPlayers:O(C.outgoingConditionPlayers),incomingConditionSummary:O(C.incomingConditionSummary),incomingConditionPlayers:O(C.incomingConditionPlayers),squadClassData:O(C.squadClassData),enemyClassData:O(C.enemyClassData),attendanceData:O(C.attendanceData),squadCompByFight:O(C.squadCompByFight),fightDiffMode:O(C.fightDiffMode),playerSkillBreakdowns:O(C.playerSkillBreakdowns)},mt=O((jt=Y.leaderboards)==null?void 0:jt.downContrib).map(Xt=>({...Xt,value:Number((Xt==null?void 0:Xt.value)??0)})).filter(Xt=>Number.isFinite(Xt.value)).sort((Xt,$n)=>$n.value-Xt.value||String((Xt==null?void 0:Xt.account)||"").localeCompare(String(($n==null?void 0:$n.account)||"")))[0];return mt&&(Y.maxDownContrib={...Y.maxDownContrib||{},value:Number(mt.value||0),player:String(mt.account||((At=Y.maxDownContrib)==null?void 0:At.player)||"-"),count:Number(mt.count||((yt=Y.maxDownContrib)==null?void 0:yt.count)||0),profession:String(mt.profession||((Mt=Y.maxDownContrib)==null?void 0:Mt.profession)||"Unknown"),professionList:Array.isArray(mt.professionList)?mt.professionList:((Vt=Y.maxDownContrib)==null?void 0:Vt.professionList)||[]}),Y},[V]);g.useEffect(()=>{var Se;if(!((Se=window==null?void 0:window.electronAPI)!=null&&Se.fetchImageAsDataUrl)||z)return;let C=!1;const O=()=>{if(C)return;const ve=new Set,Y=jt=>{typeof jt=="string"&&/^https?:\/\//i.test(jt)&&ve.add(jt)},Je=jt=>{jt.forEach(At=>{Y(At==null?void 0:At.icon),Y(At==null?void 0:At.iconUrl)})};Je(Array.isArray(F==null?void 0:F.topSkills)?F.topSkills:[]),Je(Array.isArray(F==null?void 0:F.topIncomingSkills)?F.topIncomingSkills:[]),Je(Array.isArray(F==null?void 0:F.topSkillsByDamage)?F.topSkillsByDamage:[]),Je(Array.isArray(F==null?void 0:F.topSkillsByDownContribution)?F.topSkillsByDownContribution:[]),Je(Array.isArray(F==null?void 0:F.outgoingConditionSummary)?F.outgoingConditionSummary:[]),Je(Array.isArray(F==null?void 0:F.incomingConditionSummary)?F.incomingConditionSummary:[]),(Array.isArray(F==null?void 0:F.boonTables)?F.boonTables:[]).forEach(jt=>{Y(jt==null?void 0:jt.icon)}),(Array.isArray(F==null?void 0:F.specialTables)?F.specialTables:[]).forEach(jt=>{Y(jt==null?void 0:jt.icon)}),ue&&(Array.isArray(F==null?void 0:F.playerSkillBreakdowns)?F.playerSkillBreakdowns:[]).forEach(At=>{const yt=Array.isArray(At==null?void 0:At.skills)?At.skills:[];Je(yt)}),ve.size>0&&dse(Array.from(ve))},M=window.requestIdleCallback;let xe=null;return typeof M=="function"?xe=M(()=>O(),{timeout:500}):xe=window.setTimeout(O,120),()=>{if(C=!0,xe!==null)if(typeof M=="function"){const ve=window.cancelIdleCallback;typeof ve=="function"&&ve(xe)}else window.clearTimeout(xe)}},[F,z,ue]);const Ee=g.useMemo(()=>{const C=(l==null?void 0:l.skillUsageData)??ne;return{logRecords:Array.isArray(C==null?void 0:C.logRecords)?C.logRecords:[],players:Array.isArray(C==null?void 0:C.players)?C.players:[],skillOptions:Array.isArray(C==null?void 0:C.skillOptions)?C.skillOptions:[],resUtilitySkills:Array.isArray(C==null?void 0:C.resUtilitySkills)?C.resUtilitySkills:[]}},[ne,l==null?void 0:l.skillUsageData]),Le=Ee.players.length>0;g.useEffect(()=>{i||I(v.topSkillsMetric||"damage")},[v.topSkillsMetric,i]);const kt=C=>{if(i){i({...v,topSkillsMetric:C});return}I(C)},{scrollContainerRef:Ht}=k8(u,!0,te),{devMockUploadState:mn,webCopyStatus:Pe,setWebCopyStatus:it,handleWebUpload:Ft,handleDevMockUpload:on}=K8({logs:e,stats:F,skillUsageData:Ee,activeStatsViewSettings:r||ew,uiTheme:h||"classic",embedded:u,onWebUpload:s}),{sharing:en,handleShare:Mr}=zW(u),zn={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},un=C=>{const O=zn[C];return O?b[O]>0:!0},[ds,hn]=g.useState(null),[Nn,jn]=g.useState(null),[_i,Ur]=g.useState("totalBuffs"),[$r,pu]=g.useState("total"),[co,sl]=g.useState(""),[ci,Fs]=g.useState(""),[or,ya]=g.useState(null),[ui,wa]=g.useState("squadBuffs"),[Rs,gu]=g.useState(""),[tr,ka]=g.useState(null),[oa,xu]=g.useState(null),[Bs,vu]=g.useState(""),[Sa,cc]=g.useState(null),[ol,bu]=g.useState(""),[gr,ll]=g.useState(null),[Q,Te]=g.useState(null),[qe,Nt]=g.useState(null),[Wt,Qt]=g.useState(""),[tn,It]=g.useState(null),[Ct,Rn]=g.useState(""),[di,lt]=g.useState(""),[P,$]=g.useState(""),[J,Ne]=g.useState(""),[fe,Ue]=g.useState(""),[Me,bt]=g.useState(""),[gt,Lt]=g.useState(""),[He,me]=g.useState("outgoing"),[he,tt]=g.useState(""),[Ce,nt]=g.useState("damage"),[st,wt]=g.useState("damageTaken"),[je,Ie]=g.useState("totalMitigation"),[Oe,Ve]=g.useState("all"),[Ge,ze]=g.useState({key:"damage",dir:"desc"}),et=!(Oe!=="all"&&toe.has(Oe)),rt=et?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",de=et?Ge:{key:"applications",dir:Ge.key==="applications"?Ge.dir:"desc"},[pe,ot]=g.useState("condiCleanse"),[vt,ke]=g.useState("healing"),[ce,_t]=g.useState("total"),[De,_e]=g.useState("all"),[ut,ft]=g.useState("total"),[at,We]=g.useState("total"),[ht,pt]=g.useState("total"),[Rt,rn]=g.useState("total"),[pn,Cn]=g.useState("all"),[Mn,lr]=g.useState("squad"),[In,Er]=g.useState("player"),[xr,Xn]=g.useState(""),[Zr,Sr]=g.useState(""),[cr,fs]=g.useState(null),[Ci,cl]=g.useState([]),[Bn,ms]=g.useState(null),[ji,uc]=g.useState(null),[Un,dc]=g.useState("hit"),[Jr,Qe]=g.useState("all"),[Re,$e]=g.useState(null),[Be,xt]=g.useState(null),[Bt,wn]=g.useState("hit"),[Hn,qn]=g.useState([]),[vn,ei]=g.useState(null),[En,uo]=g.useState(!1),Wr=g.useRef(null),[Dh,Gd]=g.useState("sizes"),[Ai,ul]=g.useState("total"),Th=Ai==="perSecond",[Mh,Eh]=g.useState(null),[Oh,Ih]=g.useState("total"),[zs,dl]=g.useState(null),[Li,fo]=g.useState(null),[Yi,mo]=g.useState(null),[fc,sB]=g.useState(""),[mc,Sv]=g.useState(null),[oB,N2]=g.useState(null),[Us,_h]=g.useState(null),[lB,cB]=g.useState(""),[uB,dB]=g.useState("player"),[hc,Nv]=g.useState(null),[fB,C2]=g.useState(null),[ho,Lh]=g.useState(null),mB=ae?Ee:iT,{apmSpecBuckets:fl}=qW(mB),po=g.useMemo(()=>ue?F.playerSkillBreakdowns||[]:Tb,[ue,F.playerSkillBreakdowns]),Cv=g.useMemo(()=>{const C=new Map;return po.forEach(O=>C.set(O.key,O)),C},[po]),yu=g.useMemo(()=>{const C=new Map;return po.forEach(O=>{const M=O.profession||"Unknown";C.has(M)||C.set(M,{profession:M,players:[],skills:new Map});const xe=C.get(M);xe.players.push(O),O.skills.forEach(Se=>{var Y;const ve=xe.skills.get(Se.id)||{...Se,damage:0,downContribution:0};ve.damage+=Number(Se.damage||0),ve.downContribution+=Number(Se.downContribution||0),!ve.icon&&Se.icon&&(ve.icon=Se.icon),(Y=ve.name)!=null&&Y.startsWith("Skill ")&&!Se.name.startsWith("Skill ")&&(ve.name=Se.name),xe.skills.set(Se.id,ve)})}),Array.from(C.values()).map(O=>{const M=Array.from(O.skills.values()).sort((Se,ve)=>ve.damage-Se.damage),xe=M.reduce((Se,ve)=>(Se[ve.id]=ve,Se),{});return{profession:O.profession,players:O.players,skills:M,skillMap:xe}}).sort((O,M)=>O.profession.localeCompare(M.profession))},[po]),go=mc&&Cv.get(mc)||null,hB=go&&Us&&(((B2=go.skillMap)==null?void 0:B2[Us])||go.skills.find(C=>C.id===Us))||null,jv=g.useMemo(()=>{const C=new Map;return yu.forEach(O=>C.set(O.profession,O)),C},[yu]),ml=hc&&jv.get(hc)||null,pB=ml&&ho&&((z2=ml.skillMap)==null?void 0:z2[ho])||null,$h=(C,O)=>{if(!O)return null;const M=Number(O.index);if(Number.isInteger(M)&&M>=0&&M<C.length)return C[M]||null;const xe=String(O.fightId||"").trim();return xe&&C.find(Se=>String((Se==null?void 0:Se.id)||"").trim()===xe)||null},hl=C=>{if(C&&typeof C=="object"){const M=Number((C==null?void 0:C.damage)||0),xe=Array.isArray(C==null?void 0:C.skillRows)?C.skillRows:void 0,Se=(xe||[]).reduce((ve,Y)=>ve+Number((Y==null?void 0:Y.downContribution)||0),0);return{hit:Number((C==null?void 0:C.hit)??M),burst1s:Number((C==null?void 0:C.burst1s)||0),burst5s:Number((C==null?void 0:C.burst5s)||0),burst30s:Number((C==null?void 0:C.burst30s)||0),hitDown:Number((C==null?void 0:C.hitDown)||Se||0),burst1sDown:Number((C==null?void 0:C.burst1sDown)||0),burst5sDown:Number((C==null?void 0:C.burst5sDown)||0),burst30sDown:Number((C==null?void 0:C.burst30sDown)||0),skillName:String((C==null?void 0:C.skillName)||""),buckets5s:Array.isArray(C==null?void 0:C.buckets5s)?C.buckets5s:void 0,buckets5sDown:Array.isArray(C==null?void 0:C.buckets5sDown)?C.buckets5sDown:void 0,downIndices5s:Array.isArray(C==null?void 0:C.downIndices5s)?C.downIndices5s:void 0,deathIndices5s:Array.isArray(C==null?void 0:C.deathIndices5s)?C.deathIndices5s:void 0,skillRows:xe}}return{hit:Number(C||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},Na=g.useMemo(()=>{if(!Ke)return{fights:[],players:[]};const C=ge=>String(ge||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),O=ge=>C(ge).toLowerCase().split(/[^a-z0-9]+/i).map(Xe=>Xe.trim()).filter(Boolean).map(Xe=>Xe.length>3&&Xe.endsWith("s")?Xe.slice(0,-1):Xe),M=(ge,Xe)=>{const oe=C(ge),Et=C(Xe);if(!Et)return oe;if(!oe)return Et;const Pt=O(oe),ln=O(Et),dn=new Set(Pt),nr=new Set(ln),qt=ln.length>0&&ln.every(zt=>dn.has(zt)),nn=Pt.length>0&&Pt.every(zt=>nr.has(zt));return qt||nn?oe:`${oe} - ${Et}`},xe=ge=>{if(ge==null||ge==="")return 0;if(typeof ge=="number")return!Number.isFinite(ge)||ge<=0?0:ge>1e12?ge:ge*1e3;if(ge instanceof Date){const dn=ge.getTime();return Number.isFinite(dn)&&dn>0?dn:0}const Xe=String(ge).trim();if(!Xe)return 0;const oe=Number(Xe);if(Number.isFinite(oe)&&oe>0)return oe>1e12?oe:oe*1e3;const Et=Date.parse(Xe);if(Number.isFinite(Et)&&Et>0)return Et;const Pt=Xe.replace(/([+-]\d{2})$/,"$1:00"),ln=Date.parse(Pt);return Number.isFinite(ln)&&ln>0?ln:0},Se=(ge,Xe)=>xe((ge==null?void 0:ge.uploadTime)??(Xe==null?void 0:Xe.uploadTime)??(ge==null?void 0:ge.timeStartStd)??(ge==null?void 0:ge.timeStart)??(ge==null?void 0:ge.timeEndStd)??(ge==null?void 0:ge.timeEnd)),ve=F==null?void 0:F.spikeDamage,Y=Array.isArray(ve==null?void 0:ve.fights)?ve.fights:[],Je=Array.isArray(ve==null?void 0:ve.players)?ve.players:[],mt=Y.some(ge=>(ge!=null&&ge.values&&typeof ge.values=="object"?Object.values(ge.values):[]).some(oe=>oe&&typeof oe=="object"&&(Number(oe.burst1s||0)>0||Number(oe.burst5s||0)>0||Number(oe.burst30s||0)>0)))||Je.some(ge=>Number((ge==null?void 0:ge.peak1s)||0)>0||Number((ge==null?void 0:ge.peak5s)||0)>0||Number((ge==null?void 0:ge.peak30s)||0)>0),Ze=Y.some(ge=>(ge!=null&&ge.values&&typeof ge.values=="object"?Object.values(ge.values):[]).some(oe=>oe&&typeof oe=="object"&&(Number(oe.hitDown||0)>0||Number(oe.burst1sDown||0)>0||Number(oe.burst5sDown||0)>0||Number(oe.burst30sDown||0)>0)))||Je.some(ge=>Number((ge==null?void 0:ge.peakHitDown)||0)>0||Number((ge==null?void 0:ge.peak1sDown)||0)>0||Number((ge==null?void 0:ge.peak5sDown)||0)>0||Number((ge==null?void 0:ge.peak30sDown)||0)>0);if((Y.length>0||Je.length>0)&&(mt||e.length===0)&&(Jr!=="downContribution"||Ze||e.length===0)){const ge=Y.map((oe,Et)=>{const Pt=oe!=null&&oe.values&&typeof oe.values=="object"?oe.values:{};return{id:String((oe==null?void 0:oe.id)||`fight-${Et+1}`),shortLabel:String((oe==null?void 0:oe.shortLabel)||`F${Et+1}`),fullLabel:C((oe==null?void 0:oe.fullLabel)||`Fight ${Et+1}`),timestamp:Number((oe==null?void 0:oe.timestamp)||0),values:Pt,maxHit:Number((oe==null?void 0:oe.maxHit)??(oe==null?void 0:oe.maxDamage)??0),max1s:Number((oe==null?void 0:oe.max1s)||0),max5s:Number((oe==null?void 0:oe.max5s)||0),max30s:Number((oe==null?void 0:oe.max30s)||0),maxHitDown:Number((oe==null?void 0:oe.maxHitDown)||0),max1sDown:Number((oe==null?void 0:oe.max1sDown)||0),max5sDown:Number((oe==null?void 0:oe.max5sDown)||0),max30sDown:Number((oe==null?void 0:oe.max30sDown)||0)}}),Xe=Je.map(oe=>({key:String((oe==null?void 0:oe.key)||""),account:String((oe==null?void 0:oe.account)||"Unknown"),displayName:String((oe==null?void 0:oe.displayName)||(oe==null?void 0:oe.account)||"Unknown"),characterName:String((oe==null?void 0:oe.characterName)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.character_name)||(oe==null?void 0:oe.display_name)||""),profession:String((oe==null?void 0:oe.profession)||"Unknown"),professionList:Array.isArray(oe==null?void 0:oe.professionList)?oe.professionList.map(Et=>String(Et)):[],logs:Number((oe==null?void 0:oe.logs)||0),peakHit:Number((oe==null?void 0:oe.peakHit)||0),peak1s:Number((oe==null?void 0:oe.peak1s)||0),peak5s:Number((oe==null?void 0:oe.peak5s)||0),peak30s:Number((oe==null?void 0:oe.peak30s)||0),peakHitDown:Number((oe==null?void 0:oe.peakHitDown)||0),peak1sDown:Number((oe==null?void 0:oe.peak1sDown)||0),peak5sDown:Number((oe==null?void 0:oe.peak5sDown)||0),peak30sDown:Number((oe==null?void 0:oe.peak30sDown)||0),peakFightLabel:C((oe==null?void 0:oe.peakFightLabel)||""),peakSkillName:String((oe==null?void 0:oe.peakSkillName)||"")}));return{fights:ge,players:Xe}}const At=(ge,Xe)=>{const oe=(Xe==null?void 0:Xe.skillMap)||{},Et=(Xe==null?void 0:Xe.buffMap)||{};let Pt=0,ln=0,dn="";const nr=zt=>{const gn=Number(zt);if(!Number.isFinite(gn))return String(zt||"Unknown Skill");const rr=(oe==null?void 0:oe[`s${gn}`])||(oe==null?void 0:oe[`${gn}`]);if(rr!=null&&rr.name)return String(rr.name);const Ua=(Et==null?void 0:Et[`b${gn}`])||(Et==null?void 0:Et[`${gn}`]);return Ua!=null&&Ua.name?String(Ua.name):`Skill ${gn}`},qt=zt=>{if(!zt||typeof zt!="object")return;const gn=[Number(zt.max),Number(zt.maxDamage),Number(zt.maxHit)].filter(Jd=>Number.isFinite(Jd)),rr=gn.length>0?Math.max(...gn):0;rr>Pt&&(Pt=rr,dn=nr(zt.id));const Ua=Number(zt.downContribution||0);Ua>ln&&(ln=Ua)};let nn=!1;return Array.isArray(ge==null?void 0:ge.targetDamageDist)&&ge.targetDamageDist.forEach(zt=>{Array.isArray(zt)&&zt.forEach(gn=>{Array.isArray(gn)&&gn.forEach(rr=>{nn=!0,qt(rr)})})}),(!nn||Pt<=0)&&Array.isArray(ge==null?void 0:ge.totalDamageDist)&&ge.totalDamageDist.forEach(zt=>{Array.isArray(zt)&&zt.forEach(gn=>qt(gn))}),{peak:Pt,peakDownContribution:ln,skillName:dn||"Unknown Skill"}},yt=ge=>{const Xe=qt=>{if(!Array.isArray(qt)||qt.length===0)return[];const nn=[];for(let zt=0;zt<qt.length;zt+=1){const gn=Number(qt[zt]||0),rr=zt>0?Number(qt[zt-1]||0):0;nn.push(Math.max(0,gn-rr))}return nn},oe=qt=>{if(!Array.isArray(qt))return[];const nn=qt.reduce((gn,rr)=>Math.max(gn,Array.isArray(rr)?rr.length:0),0);if(nn<=0)return[];const zt=new Array(nn).fill(0);return qt.forEach(gn=>{if(Array.isArray(gn))for(let rr=0;rr<nn;rr+=1)zt[rr]+=Number(gn[rr]||0)}),zt},Et=qt=>Array.isArray(qt)?qt.map(nn=>Number(nn||0)):null,ln=(qt=>{if(!Array.isArray(qt)||qt.length===0)return null;const nn=qt[0];if(!Array.isArray(nn))return null;if(Array.isArray(nn[0])&&Array.isArray(nn[0][0]))return oe(nn);if(Array.isArray(nn[0])&&!Array.isArray(nn[0][0])){const zt=qt.map(gn=>Et(Array.isArray(gn)?gn[0]:null)).filter(gn=>Array.isArray(gn)&&gn.length>0);if(zt.length>0)return oe(zt)}return null})(ge==null?void 0:ge.targetDamage1S),dn=Array.isArray(ge==null?void 0:ge.damage1S)&&Array.isArray(ge.damage1S[0])?ge.damage1S[0]:null,nr=ln||(Array.isArray(dn)?dn.map(qt=>Number(qt||0)):[]);return Xe(nr)},Mt=(ge,Xe)=>{if(!Array.isArray(ge)||ge.length===0||Xe<=0)return 0;let oe=0,Et=0;for(let Pt=0;Pt<ge.length;Pt+=1)oe+=Number(ge[Pt]||0),Pt>=Xe&&(oe-=Number(ge[Pt-Xe]||0)),Pt>=Xe-1&&oe>Et&&(Et=oe);return Math.max(0,Et)},Vt=(ge,Xe)=>{if(!Array.isArray(ge)||ge.length===0||Xe<=0)return[];const oe=[];for(let Et=0;Et<ge.length;Et+=Xe){const Pt=Math.min(Et+Xe,ge.length),ln=ge.slice(Et,Pt).reduce((dn,nr)=>dn+Number(nr||0),0);oe.push(ln)}return oe},Xt=(ge,Xe)=>{let oe=0,Et=0;const Pt=new Map,ln=nr=>{if(!nr||typeof nr!="object"||nr.indirectDamage)return;const qt=Number(nr.totalDamage||0),nn=Number(nr.downContribution||0);!Number.isFinite(qt)&&!Number.isFinite(nn)||(oe+=Number.isFinite(qt)?qt:0,Et+=Number.isFinite(nn)?nn:0)};return Array.isArray(ge==null?void 0:ge.targetDamageDist)&&ge.targetDamageDist.forEach(nr=>{Array.isArray(nr)&&nr.forEach(qt=>{Array.isArray(qt)&&qt.forEach(nn=>{const zt=Number(nn==null?void 0:nn.id);if(Number.isFinite(zt)){const gn=Pt.get(zt)||{damage:0,downContribution:0};gn.damage+=Number((nn==null?void 0:nn.totalDamage)||0),gn.downContribution+=Number((nn==null?void 0:nn.downContribution)||0),Pt.set(zt,gn)}ln(nn)})})}),!(Xe!=null&&Xe.detailedWvW)&&Array.isArray(ge==null?void 0:ge.totalDamageDist)&&ge.totalDamageDist.forEach(nr=>{Array.isArray(nr)&&nr.forEach(qt=>{const nn=Number(qt==null?void 0:qt.id);if(!Number.isFinite(nn)){ln(qt);return}const zt=Pt.get(nn);if(!zt){ln(qt);return}const gn=Number((qt==null?void 0:qt.totalDamage)||0)-Number(zt.damage||0),rr=Number((qt==null?void 0:qt.downContribution)||0)-Number(zt.downContribution||0);gn<=0&&rr<=0||ln({...qt,totalDamage:Math.max(0,gn),downContribution:Math.max(0,rr)})})}),{damageTotal:Math.max(0,oe),downContributionTotal:Math.max(0,Et)}},$n=[],Kt=new Map;e.forEach(ge=>{const Xe=ge==null?void 0:ge.details;if(!Xe)return;const oe=$n.length+1,Et=C(Xe.fightName||ge.fightName||`Fight ${oe}`),Pt=Xe.zone||Xe.mapName||Xe.map||Xe.location||"",ln=M(Et,String(Pt||"")),dn={};(Array.isArray(Xe.players)?Xe.players:[]).forEach(cn=>{if(cn!=null&&cn.notInSquad)return;const xn=String((cn==null?void 0:cn.account)||(cn==null?void 0:cn.name)||"Unknown"),ef=String((cn==null?void 0:cn.character_name)||(cn==null?void 0:cn.display_name)||(cn==null?void 0:cn.name)||""),gl=String((cn==null?void 0:cn.profession)||"Unknown"),Cu=`${xn}|${gl}`,xl=At(cn,Xe),wo=Number(xl.peak||0),tf=Number(xl.peakDownContribution||0),vl=yt(cn),{damageTotal:qh,downContributionTotal:pc}=Xt(cn,Xe),Kh=qh>0?Math.min(1,Math.max(0,pc/qh)):0,bl=vl.map(ps=>Number(ps||0)*Kh),ju=Number(Mt(vl,1)||0),Fe=Number(Mt(vl,5)||0),St=Number(Mt(vl,30)||0),Gt=Number(Mt(bl,1)||0),An=Number(Mt(bl,5)||0),an=Number(Mt(bl,30)||0),Zt=Math.max(0,Math.ceil(Number((Xe==null?void 0:Xe.durationMS)||0)/5e3)),Pn=Math.max(0,Math.ceil(vl.length/5)),hi=Math.max(0,Math.ceil(bl.length/5)),Fr=Math.max(Zt,Pn,hi),gc=Vt(vl,5),Gh=Vt(bl,5),ur=Array.from({length:Fr},(ps,xc)=>Number(gc[xc]||0)),Wa=Array.from({length:Fr},(ps,xc)=>Number(Gh[xc]||0));dn[Cu]={hit:wo,burst1s:ju,burst5s:Fe,burst30s:St,hitDown:tf,burst1sDown:Gt,burst5sDown:An,burst30sDown:an,skillName:xl.skillName,buckets5s:ur,buckets5sDown:Wa};const Fn=Kt.get(Cu)||{key:Cu,account:xn,displayName:xn,characterName:ef,profession:gl,professionList:[gl],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Fn.logs+=1,Fn.professionList.includes(gl)||Fn.professionList.push(gl),!Fn.characterName&&ef&&(Fn.characterName=ef),wo>Fn.peakHit&&(Fn.peakHit=wo,Fn.peakFightLabel=ln,Fn.peakSkillName=xl.skillName),ju>Fn.peak1s&&(Fn.peak1s=ju),Fe>Fn.peak5s&&(Fn.peak5s=Fe),St>Fn.peak30s&&(Fn.peak30s=St),tf>Fn.peakHitDown&&(Fn.peakHitDown=tf),Gt>Fn.peak1sDown&&(Fn.peak1sDown=Gt),An>Fn.peak5sDown&&(Fn.peak5sDown=An),an>Fn.peak30sDown&&(Fn.peak30sDown=an),Kt.set(Cu,Fn)});const qt=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.hit)||0)),0),nn=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst1s)||0)),0),zt=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst5s)||0)),0),gn=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst30s)||0)),0),rr=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.hitDown)||0)),0),Ua=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst1sDown)||0)),0),Jd=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst5sDown)||0)),0),U2=Object.values(dn).reduce((cn,xn)=>Math.max(cn,Number((xn==null?void 0:xn.burst30sDown)||0)),0);$n.push({id:ge.filePath||ge.id||`fight-${oe}`,shortLabel:`F${oe}`,fullLabel:ln,timestamp:Se(Xe,ge),values:dn,maxHit:qt,max1s:nn,max5s:zt,max30s:gn,maxHitDown:rr,max1sDown:Ua,max5sDown:Jd,max30sDown:U2})});const Sn=Array.from(Kt.values()).sort((ge,Xe)=>Xe.peakHit!==ge.peakHit?Xe.peakHit-ge.peakHit:ge.displayName.localeCompare(Xe.displayName));return{fights:$n,players:Sn}},[e,F,Ke,Jr]),Ca=g.useMemo(()=>{if(!Ye)return{fights:[],players:[]};const C=Y=>String(Y||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),O=F==null?void 0:F.incomingStrikeDamage,M=Array.isArray(O==null?void 0:O.fights)?O.fights:[],xe=Array.isArray(O==null?void 0:O.players)?O.players:[];if(M.length===0&&xe.length===0)return{fights:[],players:[]};const Se=M.map((Y,Je)=>{const mt=Y!=null&&Y.values&&typeof Y.values=="object"?Y.values:{};return{id:String((Y==null?void 0:Y.id)||`fight-${Je+1}`),shortLabel:String((Y==null?void 0:Y.shortLabel)||`F${Je+1}`),fullLabel:C((Y==null?void 0:Y.fullLabel)||`Fight ${Je+1}`),timestamp:Number((Y==null?void 0:Y.timestamp)||0),values:mt,maxHit:Number((Y==null?void 0:Y.maxHit)??(Y==null?void 0:Y.maxDamage)??0),max1s:Number((Y==null?void 0:Y.max1s)||0),max5s:Number((Y==null?void 0:Y.max5s)||0),max30s:Number((Y==null?void 0:Y.max30s)||0),maxHitDown:Number((Y==null?void 0:Y.maxHitDown)||0),max1sDown:Number((Y==null?void 0:Y.max1sDown)||0),max5sDown:Number((Y==null?void 0:Y.max5sDown)||0),max30sDown:Number((Y==null?void 0:Y.max30sDown)||0)}}),ve=xe.map(Y=>({key:String((Y==null?void 0:Y.key)||""),account:String((Y==null?void 0:Y.account)||"Unknown"),displayName:String((Y==null?void 0:Y.displayName)||(Y==null?void 0:Y.account)||"Unknown"),characterName:String((Y==null?void 0:Y.characterName)||(Y==null?void 0:Y.name)||(Y==null?void 0:Y.character_name)||(Y==null?void 0:Y.display_name)||""),profession:String((Y==null?void 0:Y.profession)||"Unknown"),professionList:Array.isArray(Y==null?void 0:Y.professionList)?Y.professionList.map(Je=>String(Je)):[],logs:Number((Y==null?void 0:Y.logs)||0),peakHit:Number((Y==null?void 0:Y.peakHit)||0),peak1s:Number((Y==null?void 0:Y.peak1s)||0),peak5s:Number((Y==null?void 0:Y.peak5s)||0),peak30s:Number((Y==null?void 0:Y.peak30s)||0),peakHitDown:Number((Y==null?void 0:Y.peakHitDown)||0),peak1sDown:Number((Y==null?void 0:Y.peak1sDown)||0),peak5sDown:Number((Y==null?void 0:Y.peak5sDown)||0),peak30sDown:Number((Y==null?void 0:Y.peak30sDown)||0),peakFightLabel:C((Y==null?void 0:Y.peakFightLabel)||""),peakSkillName:String((Y==null?void 0:Y.peakSkillName)||"")}));return{fights:Se,players:ve}},[F,Ye]),Yd=g.useMemo(()=>{const C=new Map;return Na.players.forEach(O=>C.set(O.key,O)),C},[Na.players]),gB=g.useMemo(()=>{const C=Se=>Jr==="downContribution"?Un==="hit"?Se.peakHitDown:Un==="1s"?Se.peak1sDown:Un==="5s"?Se.peak5sDown:Se.peak30sDown:Un==="hit"?Se.peakHit:Un==="1s"?Se.peak1s:Un==="5s"?Se.peak5s:Se.peak30s,O=Me.trim().toLowerCase(),M=O?Na.players.filter(Se=>Se.displayName.toLowerCase().includes(O)||Se.account.toLowerCase().includes(O)||Se.profession.toLowerCase().includes(O)):Na.players,xe=new Map;return M.forEach(Se=>{const ve=Se.profession||"Unknown",Y=xe.get(ve)||[];Y.push(Se),xe.set(ve,Y)}),Array.from(xe.entries()).map(([Se,ve])=>({profession:Se,players:[...ve].sort((Y,Je)=>C(Je)-C(Y)||Y.displayName.localeCompare(Je.displayName))})).sort((Se,ve)=>Se.profession.localeCompare(ve.profession))},[Na.players,Me,Un,Jr]),xB=Bn&&Yd.get(Bn)||null,Ws=g.useMemo(()=>{if(!Bn)return[];const C=M=>M?Number(Jr==="downContribution"?Un==="hit"?M.hitDown||0:Un==="1s"?M.burst1sDown||0:Un==="5s"?M.burst5sDown||0:M.burst30sDown||0:Un==="hit"?M.hit||0:Un==="1s"?M.burst1s||0:Un==="5s"?M.burst5s||0:M.burst30s||0):0,O=M=>Number(Jr==="downContribution"?Un==="hit"?M.maxHitDown||0:Un==="1s"?M.max1sDown||0:Un==="5s"?M.max5sDown||0:M.max30sDown||0:Un==="hit"?M.maxHit||0:Un==="1s"?M.max1s||0:Un==="5s"?M.max5s||0:M.max30s||0);return Na.fights.map((M,xe)=>({index:xe,fightId:M.id,shortLabel:M.shortLabel,fullLabel:M.fullLabel,timestamp:Number(M.timestamp||0),damage:C(hl(M.values[Bn])),maxDamage:O(M),skillName:String(hl(M.values[Bn]).skillName||"")}))},[Na.fights,Bn,Un,Jr]),vB=g.useMemo(()=>{const C=Ws.reduce((M,xe)=>Math.max(M,Number(xe.damage||0)),0),O=Ws.reduce((M,xe)=>Math.max(M,Number(xe.maxDamage||0)),0);return Math.max(1,C,O)},[Ws]),Fh=g.useMemo(()=>{var bl,ju;const C=ji===null?null:Ws.find(Fe=>Fe.index===ji)||null;if(!C||!Bn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const O=$h(Na.fights,C),[M,xe]=Bn.split("|"),Se=e.find(Fe=>String((Fe==null?void 0:Fe.filePath)||(Fe==null?void 0:Fe.id)||"")===String(C.fightId||"")),ve=Se==null?void 0:Se.details,Y=Fe=>Array.isArray(Fe)?Fe.map(St=>Array.isArray(St)?[Number(St[0]),Number(St[1])]:St&&typeof St=="object"?[Number(St.time),Number(St.value)]:null).filter(St=>!!St&&Number.isFinite(St[0])&&St[0]>=0):[],Je=Fe=>String(Fe||"").trim().toLowerCase(),mt=Je(M),Ze=Je(xe),jt=Yd.get(Bn),At=new Set([Je(jt==null?void 0:jt.displayName),Je(jt==null?void 0:jt.characterName),Je(jt==null?void 0:jt.account)].filter(Boolean)),yt=Array.isArray(ve==null?void 0:ve.players)&&((bl=ve.players.map(Fe=>{const St=Je(Fe==null?void 0:Fe.account),Gt=Je(Fe==null?void 0:Fe.name),An=Je(Fe==null?void 0:Fe.profession),an=!!St&&St===mt,Zt=!!Gt&&(Gt===mt||At.has(Gt)),Pn=!!St&&At.has(St),hi=!Ze||An===Ze;let Fr=0;return an&&(Fr+=100),Zt&&(Fr+=90),Pn&&(Fr+=80),hi&&(Fr+=20),{player:Fe,score:Fr}}).filter(Fe=>Fe.score>0).sort((Fe,St)=>St.score-Fe.score)[0])==null?void 0:bl.player)||null,Mt=(()=>{const Fe=yt==null?void 0:yt.combatReplayData;return Array.isArray(Fe)?Fe.filter(St=>St&&typeof St=="object"):Fe&&typeof Fe=="object"?[Fe]:[]})(),Vt=Mt.flatMap(Fe=>Y(Fe==null?void 0:Fe.down).map(([St])=>St)),Xt=Mt.flatMap(Fe=>Y(Fe==null?void 0:Fe.dead).map(([St])=>St)),$n=Mt.map(Fe=>Number(Fe==null?void 0:Fe.start)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0),Kt=Array.isArray(ve==null?void 0:ve.players)?ve.players.flatMap(Fe=>{const St=Fe==null?void 0:Fe.combatReplayData;return Array.isArray(St)?St.map(Gt=>Number(Gt==null?void 0:Gt.start)):[Number(St==null?void 0:St.start)]}).filter(Fe=>Number.isFinite(Fe)&&Fe>=0).reduce((Fe,St)=>Math.min(Fe,St),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Sn=[0,Number((ve==null?void 0:ve.logStartOffset)||0),...$n,Number.isFinite(Kt)?Kt:0].filter(Fe=>Number.isFinite(Fe)&&Fe>=0),ge=Fe=>{const St=Math.max(0,Math.floor(Number(Fe||0)/1e3)),Gt=Math.floor(St/5)*5;return`${Gt}s-${Gt+5}s`},Xe=(Fe,St)=>{if(Fe.length===0||St.length===0)return[];const Gt=St.length*5e3,An=ur=>ur.reduce((Wa,Fn)=>Fn>=0&&Fn<=Gt+2e3?Wa+1:Wa,0),an=[],Zt=Fe.map(ur=>Number(ur||0)).filter(ur=>Number.isFinite(ur)&&ur>=0);if(Zt.length===0)return[];an.push(Zt);const Pn=Zt.reduce((ur,Wa)=>Math.max(ur,Wa),0),hi=Zt.reduce((ur,Wa)=>Math.min(ur,Wa),Number.POSITIVE_INFINITY);Pn>Gt*20&&an.push(Zt.map(ur=>ur/1e3)),Pn<=Gt*2&&hi>=0&&Pn>0&&Pn<Math.max(120,St.length*5+10)&&an.push(Zt.map(ur=>ur*1e3));let Fr=Zt,gc=0,Gh=-1;return an.forEach(ur=>{const Wa=new Set(Sn),Fn=ur.reduce((ps,xc)=>Math.min(ps,xc),Number.POSITIVE_INFINITY);if(Number.isFinite(Fn)&&Gt>0&&Fn>Gt){const ps=Math.floor(Fn/Gt)*Gt;Wa.add(ps),Wa.add(Math.max(0,ps-Gt))}Wa.forEach(ps=>{const xc=ur.map(xz=>xz-ps),W2=An(xc);W2>Gh&&(Gh=W2,gc=ps,Fr=ur)})}),Fr.map(ur=>ur-gc).filter(ur=>Number.isFinite(ur)&&ur>=0)},oe=(Fe,St)=>{if(Fe.length===0||St.length===0)return[];const Gt=Xe(St,Fe),An=new Map;Fe.forEach(Zt=>{const Pn=/^(\d+)s-/.exec(String(Zt));if(!Pn)return;const hi=Number(Pn[1]);Number.isFinite(hi)&&An.set(hi,Zt)});const an=[];return Gt.forEach(Zt=>{const Pn=Math.max(0,Math.floor(Number(Zt||0)/1e3)),hi=Math.floor(Pn/5)*5,Fr=An.get(hi)||ge(Zt);Fe.includes(Fr)&&an.push(Fr)}),Array.from(new Set(an))},Et=(Fe,St)=>{if(Fe<=0||St.length===0)return[];const Gt=Array.from({length:Fe},(Zt,Pn)=>`${Pn*5}s-${(Pn+1)*5}s`),an=Xe(St,Gt).map(Zt=>Math.floor(Math.max(0,Number(Zt||0))/5e3)).filter(Zt=>Number.isFinite(Zt)&&Zt>=0&&Zt<Fe);return Array.from(new Set(an))},Pt=hl((ju=O==null?void 0:O.values)==null?void 0:ju[Bn]),ln=Jr==="downContribution"?Array.isArray(Pt==null?void 0:Pt.buckets5sDown)?(Pt==null?void 0:Pt.buckets5sDown)||[]:[]:Array.isArray(Pt==null?void 0:Pt.buckets5s)?(Pt==null?void 0:Pt.buckets5s)||[]:[],dn=Array.isArray(Pt==null?void 0:Pt.downIndices5s)?Pt.downIndices5s.map(Fe=>Number(Fe)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0):[],nr=Array.isArray(Pt==null?void 0:Pt.deathIndices5s)?Pt.deathIndices5s.map(Fe=>Number(Fe)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0):[];if(ln.length>0){const Fe=Math.max(0,Math.ceil(Number((ve==null?void 0:ve.durationMS)||0)/5e3)),St=Math.max(ln.length,Fe),Gt=Array.from({length:St},(an,Zt)=>({label:`${Zt*5}s-${(Zt+1)*5}s`,value:Number(ln[Zt]||0)})),An=Gt.map(an=>an.label);return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s ${Jr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Gt,downLabels:oe(An,Vt),deathLabels:oe(An,Xt),downIndices:dn.length>0?dn.filter(an=>an<Gt.length):Et(Gt.length,Vt),deathIndices:nr.length>0?nr.filter(an=>an<Gt.length):Et(Gt.length,Xt)}}const qt=C.shortLabel||"Fight";if(!ve||!Array.isArray(ve.players))return{title:`Fight Breakdown - ${qt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const nn=ve.players.find(Fe=>String((Fe==null?void 0:Fe.account)||(Fe==null?void 0:Fe.name)||"Unknown")===M&&String((Fe==null?void 0:Fe.profession)||"Unknown")===xe);if(!nn)return{title:`Fight Breakdown - ${qt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const zt=nn,gn=()=>{let Fe=0,St=0;const Gt=new Map,An=an=>{if(!an||typeof an!="object"||an.indirectDamage)return;const Zt=Number(an.totalDamage||0),Pn=Number(an.downContribution||0);!Number.isFinite(Zt)&&!Number.isFinite(Pn)||(Fe+=Number.isFinite(Zt)?Zt:0,St+=Number.isFinite(Pn)?Pn:0)};return Array.isArray(zt==null?void 0:zt.targetDamageDist)&&zt.targetDamageDist.forEach(an=>{Array.isArray(an)&&an.forEach(Zt=>{Array.isArray(Zt)&&Zt.forEach(Pn=>{const hi=Number(Pn==null?void 0:Pn.id);if(Number.isFinite(hi)){const Fr=Gt.get(hi)||{damage:0,downContribution:0};Fr.damage+=Number((Pn==null?void 0:Pn.totalDamage)||0),Fr.downContribution+=Number((Pn==null?void 0:Pn.downContribution)||0),Gt.set(hi,Fr)}An(Pn)})})}),!(ve!=null&&ve.detailedWvW)&&Array.isArray(zt==null?void 0:zt.totalDamageDist)&&zt.totalDamageDist.forEach(an=>{Array.isArray(an)&&an.forEach(Zt=>{const Pn=Number(Zt==null?void 0:Zt.id);if(!Number.isFinite(Pn)){An(Zt);return}const hi=Gt.get(Pn);if(!hi){An(Zt);return}const Fr=Number((Zt==null?void 0:Zt.totalDamage)||0)-Number(hi.damage||0),gc=Number((Zt==null?void 0:Zt.downContribution)||0)-Number(hi.downContribution||0);Fr<=0&&gc<=0||An({...Zt,totalDamage:Math.max(0,Fr),downContribution:Math.max(0,gc)})})}),Fe<=0?0:Math.min(1,Math.max(0,St/Fe))},rr=Fe=>{if(!Array.isArray(Fe)||Fe.length===0)return[];const St=[];for(let Gt=0;Gt<Fe.length;Gt+=1){const An=Number(Fe[Gt]||0),an=Gt>0?Number(Fe[Gt-1]||0):0;St.push(Math.max(0,An-an))}return St},Ua=Fe=>{if(!Array.isArray(Fe))return[];const St=Fe.reduce((An,an)=>Math.max(An,Array.isArray(an)?an.length:0),0);if(St<=0)return[];const Gt=new Array(St).fill(0);return Fe.forEach(An=>{if(Array.isArray(An))for(let an=0;an<St;an+=1)Gt[an]+=Number(An[an]||0)}),Gt},Jd=Fe=>Array.isArray(Fe)?Fe.map(St=>Number(St||0)):null,cn=(Fe=>{if(!Array.isArray(Fe)||Fe.length===0)return null;const St=Fe[0];if(!Array.isArray(St))return null;if(Array.isArray(St[0])&&Array.isArray(St[0][0]))return Ua(St);if(Array.isArray(St[0])&&!Array.isArray(St[0][0])){const Gt=Fe.map(An=>Jd(Array.isArray(An)?An[0]:null)).filter(An=>Array.isArray(An)&&An.length>0);if(Gt.length>0)return Ua(Gt)}return null})(zt==null?void 0:zt.targetDamage1S),xn=Array.isArray(zt==null?void 0:zt.damage1S)&&Array.isArray(zt.damage1S[0])?zt.damage1S[0]:null,ef=cn||(Array.isArray(xn)?xn.map(Fe=>Number(Fe||0)):[]),gl=rr(ef),Cu=gn(),xl=Jr==="downContribution"?gl.map(Fe=>Number(Fe||0)*Cu):gl,wo=5,tf=Math.max(0,Math.ceil(Number((ve==null?void 0:ve.durationMS)||0)/(wo*1e3))),vl=Math.max(0,Math.ceil(xl.length/wo)),qh=Math.max(tf,vl),pc=[];for(let Fe=0;Fe<qh;Fe+=1){const St=Fe*wo,Gt=Math.min(St+wo,xl.length),An=xl.slice(St,Gt).reduce((an,Zt)=>an+Number(Zt||0),0);pc.push({label:`${St}s-${St+wo}s`,value:An})}const Kh=pc.map(Fe=>Fe.label);return{title:`Fight Breakdown - ${qt} (5s ${Jr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:pc,downLabels:oe(Kh,Vt),deathLabels:oe(Kh,Xt),downIndices:Et(pc.length,Vt),deathIndices:Et(pc.length,Xt)}},[ji,Ws,Bn,e,Na.fights,Yd,Jr]),Av=g.useMemo(()=>{const C=new Map;return Ca.players.forEach(O=>C.set(O.key,O)),C},[Ca.players]),bB=g.useMemo(()=>{const C=Se=>Bt==="hit"?Se.peakHit:Bt==="1s"?Se.peak1s:Bt==="5s"?Se.peak5s:Se.peak30s,O=gt.trim().toLowerCase(),M=O?Ca.players.filter(Se=>Se.displayName.toLowerCase().includes(O)||Se.account.toLowerCase().includes(O)||Se.profession.toLowerCase().includes(O)):Ca.players,xe=new Map;return M.forEach(Se=>{const ve=Se.profession||"Unknown",Y=xe.get(ve)||[];Y.push(Se),xe.set(ve,Y)}),Array.from(xe.entries()).map(([Se,ve])=>({profession:Se,players:[...ve].sort((Y,Je)=>C(Je)-C(Y)||Y.displayName.localeCompare(Je.displayName))})).sort((Se,ve)=>Se.profession.localeCompare(ve.profession))},[Ca.players,gt,Bt]),yB=Re&&Av.get(Re)||null,Vs=g.useMemo(()=>{if(!Re)return[];const C=M=>M?Number(Bt==="hit"?M.hit||0:Bt==="1s"?M.burst1s||0:Bt==="5s"?M.burst5s||0:M.burst30s||0):0,O=M=>Number(Bt==="hit"?M.maxHit||0:Bt==="1s"?M.max1s||0:Bt==="5s"?M.max5s||0:M.max30s||0);return Ca.fights.map((M,xe)=>({index:xe,fightId:M.id,shortLabel:M.shortLabel,fullLabel:M.fullLabel,timestamp:Number(M.timestamp||0),damage:C(hl(M.values[Re])),maxDamage:O(M),skillName:String(hl(M.values[Re]).skillName||"")}))},[Ca.fights,Re,Bt]),wB=g.useMemo(()=>{const C=Vs.reduce((M,xe)=>Math.max(M,Number(xe.damage||0)),0),O=Vs.reduce((M,xe)=>Math.max(M,Number(xe.maxDamage||0)),0);return Math.max(1,C,O)},[Vs]),Rh=g.useMemo(()=>{var Je;const C=Be===null?null:Vs.find(mt=>mt.index===Be)||null;if(!C||!Re)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const O=$h(Ca.fights,C),M=hl((Je=O==null?void 0:O.values)==null?void 0:Je[Re]),xe=Array.isArray(M==null?void 0:M.buckets5s)?(M==null?void 0:M.buckets5s)||[]:[],Se=Array.isArray(M==null?void 0:M.downIndices5s)?M.downIndices5s.map(mt=>Number(mt)).filter(mt=>Number.isFinite(mt)&&mt>=0):[],ve=Array.isArray(M==null?void 0:M.deathIndices5s)?M.deathIndices5s.map(mt=>Number(mt)).filter(mt=>Number.isFinite(mt)&&mt>=0):[];if(xe.length>0){const mt=xe.map((Ze,jt)=>({label:`${jt*5}s-${(jt+1)*5}s`,value:Number(Ze||0)}));return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s Damage Buckets)`,data:mt,downLabels:[],deathLabels:[],downIndices:Se.filter(Ze=>Ze<mt.length),deathIndices:ve.filter(Ze=>Ze<mt.length)}}const Y=Number(Bt==="hit"?M.hit||0:Bt==="1s"?M.burst1s||0:Bt==="5s"?M.burst5s||0:M.burst30s||0);return Y>0?{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:Y}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${C.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Be,Vs,Re,Ca.fights,Bt]),kB=g.useMemo(()=>{var mt;if(Be===null||!Re)return[];const C=Vs.find(Ze=>Ze.index===Be);if(!C)return[];const O=$h(Ca.fights,C),M=hl((mt=O==null?void 0:O.values)==null?void 0:mt[Re]),Se=[...(M==null?void 0:M.skillRows)||[]].filter(Ze=>Number((Ze==null?void 0:Ze.damage)||0)>0||Number((Ze==null?void 0:Ze.downContribution)||0)>0).sort((Ze,jt)=>Number(jt.damage||0)-Number(Ze.damage||0)).slice(0,30);if(Se.length>0)return Se;const ve=e.find(Ze=>String((Ze==null?void 0:Ze.filePath)||(Ze==null?void 0:Ze.id)||"")===String(C.fightId||"")),Y=ve==null?void 0:ve.details;if(Y&&Re){const Ze=new Set(Object.keys(Qc)),jt=Object.keys(Qc).filter(Kt=>Kt&&Kt!=="Unknown").sort((Kt,Sn)=>Sn.length-Kt.length),At=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],yt=Kt=>{if(!Kt)return"Unknown";const Sn=String(Kt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(Ze.has(Sn))return Sn;const ge=Sn.toLowerCase();for(const oe of jt)if(ge.includes(oe.toLowerCase()))return oe;return At.find(oe=>ge.includes(oe.toLowerCase()))||Sn||"Unknown"},Mt=Kt=>{const Sn=Number(Kt);if(!Number.isFinite(Sn))return{name:String(Kt||"Unknown Skill"),icon:void 0};const ge=(Y==null?void 0:Y.skillMap)||{},Xe=(Y==null?void 0:Y.buffMap)||{},oe=(ge==null?void 0:ge[`s${Sn}`])||(ge==null?void 0:ge[`${Sn}`]);if(oe!=null&&oe.name)return{name:String(oe.name),icon:oe==null?void 0:oe.icon};const Et=(Xe==null?void 0:Xe[`b${Sn}`])||(Xe==null?void 0:Xe[`${Sn}`]);return Et!=null&&Et.name?{name:String(Et.name),icon:Et==null?void 0:Et.icon}:{name:`Skill ${Sn}`,icon:void 0}},Vt=new Map;(Array.isArray(Y==null?void 0:Y.targets)?Y.targets:[]).forEach(Kt=>{!Kt||Kt.isFake||Kt.enemyPlayer===!1||yt((Kt==null?void 0:Kt.profession)||(Kt==null?void 0:Kt.name)||(Kt==null?void 0:Kt.id))!==Re||Array.isArray(Kt==null?void 0:Kt.totalDamageDist)&&Kt.totalDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(Xe=>{if(!Xe||typeof Xe!="object"||Xe.indirectDamage)return;const oe=Number(Xe.totalDamage||0);if(!Number.isFinite(oe)||oe<=0)return;const Et=Number(Xe.connectedHits||Xe.hits||0),Pt=Mt(Xe.id),ln=Pt.name,dn=Vt.get(ln)||{skillName:ln,damage:0,hits:0,icon:Pt.icon};dn.damage+=oe,dn.hits+=Number.isFinite(Et)?Et:0,!dn.icon&&Pt.icon&&(dn.icon=Pt.icon),Vt.set(ln,dn)})})});const $n=Array.from(Vt.values()).filter(Kt=>Number((Kt==null?void 0:Kt.damage)||0)>0).sort((Kt,Sn)=>Number(Sn.damage||0)-Number(Kt.damage||0)).slice(0,30);if($n.length>0)return $n}const Je=Number((M==null?void 0:M.hit)||0);return Je<=0?Se:[{skillName:String((M==null?void 0:M.skillName)||"Unknown Skill"),damage:Je,hits:1,icon:void 0}]},[Be,Re,Vs,Ca.fights,e]),SB=g.useMemo(()=>{var Je;if(ji===null||!Bn)return[];const C=Ws.find(mt=>mt.index===ji);if(!C)return[];const O=$h(Na.fights,C),M=hl((Je=O==null?void 0:O.values)==null?void 0:Je[Bn]),Se=[...(M==null?void 0:M.skillRows)||[]].filter(mt=>Number((mt==null?void 0:mt.damage)||0)>0||Number((mt==null?void 0:mt.downContribution)||0)>0).sort((mt,Ze)=>Number(Ze.damage||0)-Number(mt.damage||0)).slice(0,30);if(Se.length>0)return Se;const ve=e.find(mt=>String((mt==null?void 0:mt.filePath)||(mt==null?void 0:mt.id)||"")===String(C.fightId||"")),Y=ve==null?void 0:ve.details;if(Y&&Bn){const[mt,Ze]=Bn.split("|"),jt=Vt=>{const Xt=Number(Vt);if(!Number.isFinite(Xt))return{name:String(Vt||"Unknown Skill"),icon:void 0};const $n=(Y==null?void 0:Y.skillMap)||{},Kt=(Y==null?void 0:Y.buffMap)||{},Sn=($n==null?void 0:$n[`s${Xt}`])||($n==null?void 0:$n[`${Xt}`]);if(Sn!=null&&Sn.name)return{name:String(Sn.name),icon:Sn==null?void 0:Sn.icon};const ge=(Kt==null?void 0:Kt[`b${Xt}`])||(Kt==null?void 0:Kt[`${Xt}`]);return ge!=null&&ge.name?{name:String(ge.name),icon:ge==null?void 0:ge.icon}:{name:`Skill ${Xt}`,icon:void 0}},At=new Map,Mt=(Array.isArray(Y==null?void 0:Y.players)?Y.players:[]).find(Vt=>{if(Vt!=null&&Vt.notInSquad)return!1;const Xt=String((Vt==null?void 0:Vt.account)||(Vt==null?void 0:Vt.name)||""),$n=String((Vt==null?void 0:Vt.profession)||"Unknown"),Kt=Xt===String(mt||""),Sn=$n===String(Ze||"");return Kt&&Sn})||null;if(Mt){const Vt=Mt,Xt=ge=>{if(!ge||typeof ge!="object"||ge.indirectDamage)return;const Xe=Number(ge.totalDamage||0),oe=Number(ge.downContribution||0);if((!Number.isFinite(Xe)||Xe<=0)&&(!Number.isFinite(oe)||oe<=0))return;const Et=Number(ge.connectedHits||ge.hits||0),Pt=jt(ge.id),ln=At.get(Pt.name)||{skillName:Pt.name,damage:0,downContribution:0,hits:0,icon:Pt.icon};ln.damage+=Number.isFinite(Xe)?Xe:0,ln.downContribution+=Number.isFinite(oe)?oe:0,ln.hits+=Number.isFinite(Et)?Et:0,!ln.icon&&Pt.icon&&(ln.icon=Pt.icon),At.set(Pt.name,ln)},$n=new Map;Array.isArray(Vt==null?void 0:Vt.targetDamageDist)&&Vt.targetDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(oe=>{const Et=Number(oe==null?void 0:oe.id),Pt=Number((oe==null?void 0:oe.totalDamage)||0),ln=Number((oe==null?void 0:oe.downContribution)||0);if(Number.isFinite(Et)){const dn=$n.get(Et)||{damage:0,downContribution:0,hits:0};dn.damage+=Number.isFinite(Pt)?Pt:0,dn.downContribution+=Number.isFinite(ln)?ln:0,dn.hits+=Number((oe==null?void 0:oe.connectedHits)||(oe==null?void 0:oe.hits)||0),$n.set(Et,dn)}Xt(oe)})})}),!(Y!=null&&Y.detailedWvW)&&Array.isArray(Vt==null?void 0:Vt.totalDamageDist)&&Vt.totalDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(Xe=>{const oe=Number(Xe==null?void 0:Xe.id);if(!Number.isFinite(oe)){Xt(Xe);return}const Et=$n.get(oe);if(!Et){Xt(Xe);return}const Pt=Number((Xe==null?void 0:Xe.totalDamage)||0),ln=Number((Xe==null?void 0:Xe.downContribution)||0),dn=Number((Xe==null?void 0:Xe.connectedHits)||(Xe==null?void 0:Xe.hits)||0),nr=Pt-Number(Et.damage||0),qt=ln-Number(Et.downContribution||0),nn=dn-Number(Et.hits||0);nr<=0&&qt<=0&&nn<=0||Xt({...Xe,totalDamage:Math.max(0,nr),downContribution:Math.max(0,qt),connectedHits:Math.max(0,nn),hits:Math.max(0,nn)})})});const Sn=Array.from(At.values()).filter(ge=>Number((ge==null?void 0:ge.damage)||0)>0||Number((ge==null?void 0:ge.downContribution)||0)>0).sort((ge,Xe)=>Number(Xe.damage||0)-Number(ge.damage||0)).slice(0,30);if(Sn.length>0)return Sn}}return Se},[ji,Bn,Ws,Na.fights,e]);g.useEffect(()=>{if(po.length===0){mc!==null&&Sv(null),Us!==null&&_h(null);return}if(!mc||!Cv.has(mc)){const C=po[0].key;Sv(C),N2(null)}},[po,Cv,mc,Us]),g.useEffect(()=>{if(!go||go.skills.length===0){Us!==null&&_h(null);return}const C=go.skills.some(O=>O.id===Us);(!Us||!C)&&_h(go.skills[0].id)},[go,Us]),g.useEffect(()=>{if(yu.length===0){hc!==null&&Nv(null),ho!==null&&Lh(null);return}if(!hc||!jv.has(hc)){const C=yu[0].profession;Nv(C),C2(null)}},[yu,jv,hc,ho]),g.useEffect(()=>{if(!ml||ml.skills.length===0){ho!==null&&Lh(null);return}const C=ml.skills.some(O=>O.id===ho);(!ho||!C)&&Lh(ml.skills[0].id)},[ml,ho]),g.useEffect(()=>{if(Na.players.length===0){Bn!==null&&ms(null);return}(!Bn||!Yd.has(Bn))&&Bn!==null&&ms(null)},[Na.players,Yd,Bn]),g.useEffect(()=>{uc(null)},[Bn,Un,Jr]),g.useEffect(()=>{if(ji===null)return;Ws.some(O=>O.index===ji)||uc(null)},[Ws,ji]),g.useEffect(()=>{if(Ca.players.length===0){Re!==null&&$e(null);return}(!Re||!Av.has(Re))&&Re!==null&&$e(null)},[Ca.players,Av,Re]),g.useEffect(()=>{xt(null)},[Re,Bt]),g.useEffect(()=>{if(Be===null)return;Vs.some(O=>O.index===Be)||xt(null)},[Vs,Be]);const NB=g.useMemo(()=>new Set(Ci),[Ci]),Bh=Z?Ee:iT,{playerMapByKey:xo,playerTotalsForSkill:wu,skillChartData:CB,skillChartMaxY:jB,groupedSkillUsagePlayers:AB}=KW({skillUsageData:Bh,selectedSkillId:cr,selectedPlayers:NB,skillUsageView:Ai==="perSecond"?"perSecond":"total"}),j2=g.useMemo(()=>{const C=new Map,O=ve=>{ve.forEach(Y=>{const Je=Iu(Y==null?void 0:Y.name)||(Y==null?void 0:Y.name);Je&&Y!=null&&Y.icon&&!C.has(Je)&&C.set(Je,Y.icon)})},M=ve=>{ve.forEach(Y=>{Object.entries((Y==null?void 0:Y.conditions)||{}).forEach(([Je,mt])=>{const Ze=Iu(Je)||Je;mt!=null&&mt.icon&&!C.has(Ze)&&C.set(Ze,mt.icon)})})},xe=ve=>{const Y=new Map;return ve.forEach(Je=>{const mt=Iu(Je==null?void 0:Je.name)||(Je==null?void 0:Je.name);if(!mt)return;const Ze=Y.get(mt)||{name:mt,icon:(Je==null?void 0:Je.icon)||C.get(mt)||mp(mt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ze.applications+=Number((Je==null?void 0:Je.applications)||0),Ze.damage+=Number((Je==null?void 0:Je.damage)||0),Je!=null&&Je.applicationsFromUptime&&(Ze.applicationsFromUptime+=Number(Je.applicationsFromUptime||0)),Je!=null&&Je.applicationsFromBuffs&&(Ze.applicationsFromBuffs+=Number(Je.applicationsFromBuffs||0)),Je!=null&&Je.applicationsFromBuffsActive&&(Ze.applicationsFromBuffsActive+=Number(Je.applicationsFromBuffsActive||0)),!Ze.icon&&(Je!=null&&Je.icon)&&(Ze.icon=Je.icon),Ze.icon||(Ze.icon=mp(mt)),Y.set(mt,Ze)}),Array.from(Y.values())},Se=ve=>ve.map(Y=>{const Je={};return Object.entries((Y==null?void 0:Y.conditions)||{}).forEach(([mt,Ze])=>{const jt=Iu(mt)||mt;if(!jt)return;const At=Je[jt]||{icon:(Ze==null?void 0:Ze.icon)||C.get(jt)||mp(jt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};At.applications+=Number((Ze==null?void 0:Ze.applications)||0),At.damage+=Number((Ze==null?void 0:Ze.damage)||0),Ze!=null&&Ze.applicationsFromUptime&&(At.applicationsFromUptime+=Number(Ze.applicationsFromUptime||0)),Ze!=null&&Ze.applicationsFromBuffs&&(At.applicationsFromBuffs+=Number(Ze.applicationsFromBuffs||0)),Ze!=null&&Ze.applicationsFromBuffsActive&&(At.applicationsFromBuffsActive+=Number(Ze.applicationsFromBuffsActive||0)),!At.icon&&(Ze!=null&&Ze.icon)&&(At.icon=Ze.icon),At.icon||(At.icon=mp(jt)),Object.values((Ze==null?void 0:Ze.skills)||{}).forEach(yt=>{const Mt=(yt==null?void 0:yt.name)||"Unknown",Vt=At.skills[Mt]||{name:Mt,hits:0,damage:0,icon:yt==null?void 0:yt.icon};Vt.hits+=Number((yt==null?void 0:yt.hits)||0),Vt.damage+=Number((yt==null?void 0:yt.damage)||0),!Vt.icon&&(yt!=null&&yt.icon)&&(Vt.icon=yt.icon),At.skills[Mt]=Vt}),Je[jt]=At}),{...Y,conditions:Je}});return(ve,Y)=>(O(ve),M(Y),{summary:xe(ve),players:Se(Y)})},[]),A2=ye?He==="outgoing"?F.outgoingConditionSummary:F.incomingConditionSummary:Tb,P2=ye?He==="outgoing"?F.outgoingConditionPlayers:F.incomingConditionPlayers:Tb,{summary:zh,players:PB}=g.useMemo(()=>j2(A2||[],P2||[]),[j2,A2,P2]);g.useEffect(()=>{if(!ye||Oe==="all"||zh.some(O=>O.name===Oe))return;const C=Iu(Oe);C&&zh.some(O=>O.name===C)?Ve(C):Ve("all")},[Oe,zh,Ve,ye]);const DB=g.useMemo(()=>{const C={};return wu.forEach((O,M)=>{const xe=xo.get(M);if(!xe)return;const Se=xe.profession;(!C[Se]||O>C[Se])&&(C[Se]=O)}),C},[wu,xo]),$t=X,Kn=g.useCallback((C,O)=>{const M=$t(C);return d?`${O} ${M?"":"hidden"}`:`${O} transition-[opacity,transform] duration-700 ease-in-out ${M?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[$t,d]),D2=g.useMemo(()=>noe.find(C=>$t(C))||null,[$t]),Gn=g.useCallback(C=>C===D2,[D2]),TB=g.useMemo(()=>{const C=new Map,O=new Map;return Ci.forEach(M=>{const xe=xo.get(M);if(!xe)return;const Se=wu.get(M)??0,ve=O.get(xe.profession)||[];ve.push({key:M,total:Se}),O.set(xe.profession,ve)}),O.forEach(M=>{M.sort((xe,Se)=>Se.total-xe.total),M.forEach((xe,Se)=>{C.set(xe.key,Se)})}),C},[Ci,xo,wu]),T2=["0","12 3","8 3","6 3","4 3","2 3"],MB=C=>{const O=xo.get(C),M=Io((O==null?void 0:O.profession)||""),xe=wu.get(C)??0,Se=O!=null&&O.profession&&DB[O.profession]||1,Y=.35+(Se>0?xe/Se:1)*.65;return Uh(M,Y)},EB=C=>{const O=TB.get(C)??0;return T2[O%T2.length]},OB=(C,O,M)=>{if(!M)return MB(C);const xe=xo.get(C),Se=Io((xe==null?void 0:xe.profession)||"");return O?Uh(Se,1.2):Uh(Se,.5)},Uh=(C,O)=>{const M=C.replace("#","");if(M.length!==6)return C;const xe=Ze=>Math.max(0,Math.min(255,Ze)),Se=Ze=>Number.parseInt(M.slice(Ze,Ze+2),16),ve=Ze=>xe(Math.round(Ze)).toString(16).padStart(2,"0"),Y=Se(0),Je=Se(2),mt=Se(4);return`#${ve(Y*O)}${ve(Je*O)}${ve(mt*O)}`},M2=g.useMemo(()=>{const C=new Map;return Bh.skillOptions.forEach(O=>{C.set(O.id,{name:O.name,icon:O.icon})}),C},[Bh.skillOptions]),Xd=g.useMemo(()=>{var Ze;if(Ci.length===0)return[];const C=new Map,O=new Map;let M=0;Ci.forEach(jt=>{const At=xo.get(jt);if(!At)return;M+=At.totalActiveSeconds||0,Object.entries(At.skillTotals||{}).forEach(([Mt,Vt])=>{C.set(Mt,(C.get(Mt)||0)+Number(Vt||0))});const yt=At.profession||"Unknown";O.set(yt,(O.get(yt)||0)+(At.totalActiveSeconds||0))});const xe=Zr.trim().toLowerCase(),Se=Ai==="perSecond",ve=((Ze=Array.from(O.entries()).sort((jt,At)=>At[1]-jt[1])[0])==null?void 0:Ze[0])||"Unknown",Y=Io(ve),Je="#64748b";return Array.from(C.entries()).map(([jt,At])=>{const yt=M2.get(jt),Mt=(yt==null?void 0:yt.name)||jt,Vt=Se&&M>0?At/M:At;return{skillId:jt,name:Mt,icon:yt==null?void 0:yt.icon,total:Vt}}).filter(jt=>jt.total>0&&(!xe||jt.name.toLowerCase().includes(xe))).sort((jt,At)=>At.total-jt.total).map((jt,At)=>({...jt,color:At===0?Y:Uh(Y,.85-Math.min(At*.06,.4))||Je}))},[Ci,xo,Zr,Ai,M2]);g.useEffect(()=>{if(Z){if(Xd.length===0){cr!==null&&fs(null);return}(!cr||!Xd.some(C=>C.skillId===cr))&&fs(Xd[0].skillId)}},[Xd,cr,fs,Z]);const ku=Bh.skillOptions.find(C=>C.id===cr),IB=(ku==null?void 0:ku.name)||"",_B=(ku==null?void 0:ku.icon)||null,LB=Le&&!!cr&&Ci.length>0,Wh="__all__",$B=Le&&fl.length>0,vo=g.useMemo(()=>fl.find(C=>C.profession===zs)??null,[fl,zs]),FB=Yi===Wh,RB=g.useMemo(()=>{var C;return((C=vo==null?void 0:vo.skills)==null?void 0:C.find(O=>O.id===Yi))??null},[vo,Yi]);g.useEffect(()=>{if(fl.length===0){zs!==null&&dl(null),Li!==null&&fo(null);return}if(!zs||!fl.some(C=>C.profession===zs)){const C=fl[0].profession;dl(C),fo(null)}},[fl,zs,Li]),g.useEffect(()=>{if(!vo||vo.skills.length===0){Yi!==null&&mo(null);return}const C=vo.skills.some(O=>O.id===Yi);(!Yi||!C&&Yi!==Wh)&&mo(Wh)},[vo,Yi]);const BB=C=>{cl(O=>O.includes(C)?O.filter(M=>M!==C):[...O,C])},zB=C=>{cl(O=>O.filter(M=>M!==C))},UB=g.useMemo(()=>{const C=co.trim().toLowerCase(),O=F.boonTables||[];return C?O.filter(M=>M.name.toLowerCase().includes(C)):O},[F.boonTables,co]),WB=g.useMemo(()=>Nn?(F.boonTables||[]).find(C=>C.id===Nn)??null:null,[F.boonTables,Nn]),Vh=C=>{var O,M,xe,Se;return{selfBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number(((O=C==null?void 0:C.totals)==null?void 0:O.selfBuffs)||0):0,groupBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number(((M=C==null?void 0:C.totals)==null?void 0:M.groupBuffs)||0):0,squadBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number(((xe=C==null?void 0:C.totals)==null?void 0:xe.squadBuffs)||0):Number((C==null?void 0:C.total)||0),totalBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number((((Se=C==null?void 0:C.totals)==null?void 0:Se.totalBuffs)??(C==null?void 0:C.total))||0):Number((C==null?void 0:C.total)||0)}},Qd=(C,O)=>{const M=Vh(C),xe=Number((M==null?void 0:M[O])||0);return Number.isFinite(xe)?Math.max(0,xe):0},E2=ui==="selfBuffs"?"Self":ui==="groupBuffs"?"Group":ui==="squadBuffs"?"Squad":"All",bo=g.useMemo(()=>(Array.isArray(F==null?void 0:F.boonTimeline)?F.boonTimeline:[]).map(O=>({id:String((O==null?void 0:O.id)||""),name:String((O==null?void 0:O.name)||(O==null?void 0:O.id)||"Unknown Boon"),icon:typeof(O==null?void 0:O.icon)=="string"?O.icon:void 0,stacking:!!(O!=null&&O.stacking),players:(Array.isArray(O==null?void 0:O.players)?O.players:[]).map(M=>({key:String((M==null?void 0:M.key)||""),account:String((M==null?void 0:M.account)||(M==null?void 0:M.displayName)||"Unknown"),displayName:String((M==null?void 0:M.displayName)||(M==null?void 0:M.account)||"Unknown"),profession:String((M==null?void 0:M.profession)||"Unknown"),professionList:Array.isArray(M==null?void 0:M.professionList)?M.professionList.map(xe=>String(xe||"")):[],logs:Number((M==null?void 0:M.logs)||0),totals:Vh(M)})),fights:(Array.isArray(O==null?void 0:O.fights)?O.fights:[]).map((M,xe)=>({id:String((M==null?void 0:M.id)||`fight-${xe+1}`),shortLabel:String((M==null?void 0:M.shortLabel)||`F${xe+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${xe+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),maxTotal:Number((M==null?void 0:M.maxTotal)||0),values:M!=null&&M.values&&typeof M.values=="object"?Object.fromEntries(Object.entries(M.values).map(([Se,ve])=>[String(Se||""),{total:Number((ve==null?void 0:ve.total)||0),totals:Vh(ve),bucketWeights5s:Array.isArray(ve==null?void 0:ve.bucketWeights5s)?ve.bucketWeights5s.map(Y=>Number(Y||0)):[],buckets5s:Array.isArray(ve==null?void 0:ve.buckets5s)?ve.buckets5s.map(Y=>Number(Y||0)):[]}])):{}}))})).filter(O=>O.id&&O.players.length>0&&O.fights.length>0),[F.boonTimeline]),VB=g.useMemo(()=>{const C=ci.trim().toLowerCase();return C?bo.filter(O=>String((O==null?void 0:O.name)||"").toLowerCase().includes(C)):bo},[bo,ci]),Xi=g.useMemo(()=>or&&bo.find(C=>C.id===or)||null,[bo,or]),Hh=g.useMemo(()=>[...Array.isArray(Xi==null?void 0:Xi.players)?Xi.players:[]].map(O=>({...O,total:Qd(O,ui)})).sort((O,M)=>Number(M.total||0)-Number(O.total||0)||String(O.displayName||"").localeCompare(String(M.displayName||""))),[Xi,ui]),HB=g.useMemo(()=>{const C=Hh,O=Rs.trim().toLowerCase();return O?C.filter(M=>String((M==null?void 0:M.displayName)||"").toLowerCase().includes(O)||String((M==null?void 0:M.account)||"").toLowerCase().includes(O)||String((M==null?void 0:M.profession)||"").toLowerCase().includes(O)):C},[Hh,Rs]),qB=g.useMemo(()=>{const C=new Map;return Hh.forEach(O=>{C.set(String((O==null?void 0:O.key)||""),O)}),C},[Hh]),KB=tr&&qB.get(tr)||null,Su=g.useMemo(()=>!Xi||!tr?[]:(Xi.fights||[]).map((C,O)=>{var Se;const M=(Se=C==null?void 0:C.values)==null?void 0:Se[tr],xe=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([ve])=>String(ve||"")!=="__all__").reduce((ve,[,Y])=>Math.max(ve,Qd(Y,ui)),0);return{index:O,fightId:String((C==null?void 0:C.id)||""),shortLabel:String((C==null?void 0:C.shortLabel)||`F${O+1}`),fullLabel:String((C==null?void 0:C.fullLabel)||`Fight ${O+1}`),timestamp:Number((C==null?void 0:C.timestamp)||0),total:Qd(M,ui),maxTotal:xe>0?xe:Number((C==null?void 0:C.maxTotal)||0)}}),[Xi,tr,ui]),GB=g.useMemo(()=>{const C=Su.reduce((M,xe)=>Math.max(M,Number((xe==null?void 0:xe.total)||0)),0),O=Su.reduce((M,xe)=>Math.max(M,Number((xe==null?void 0:xe.maxTotal)||0)),0);return Math.max(1,C,O)},[Su]),O2=g.useMemo(()=>{var At;const C=oa===null?null:Su.find(yt=>yt.index===oa)||null;if(!C||!Xi||!tr)return{title:"Fight Breakdown",data:[]};const O=Xi.fights[C.index],M=((At=O==null?void 0:O.values)==null?void 0:At[tr])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},xe=Qd(M,ui),Se=Array.isArray(M==null?void 0:M.bucketWeights5s)?M.bucketWeights5s:[],ve=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],Y=Math.max(Se.length,ve.length,Math.ceil(Math.max(0,Number((O==null?void 0:O.durationMs)||0))/5e3),1),Je=Array.from({length:Y},(yt,Mt)=>Number(Se[Mt]||0)),mt=Je.reduce((yt,Mt)=>yt+Number(Mt||0),0);let Ze=[];if(mt>0){const yt=xe>0?xe/mt:0;Ze=Je.map(Mt=>Number(Mt||0)*yt)}else if(ve.length>0){const yt=Array.from({length:Y},(Mt,Vt)=>Number(ve[Vt]||0));if(ui==="totalBuffs"||!(M!=null&&M.totals))Ze=yt;else{const Mt=Qd({totals:Vh(M)},"totalBuffs"),Vt=Mt>0?xe/Mt:0;Ze=yt.map(Xt=>Number(Xt||0)*Vt)}}else{const yt=xe>0?xe/Math.max(1,Y):0;Ze=Array.from({length:Y},()=>yt)}const jt=Array.from({length:Y},(yt,Mt)=>({label:`${Mt*5}s-${(Mt+1)*5}s`,value:Number(Ze[Mt]||0)}));return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s ${E2} Generation Buckets)`,data:jt}},[oa,Su,Xi,tr,ui,E2]),yo=g.useMemo(()=>(Array.isArray(F==null?void 0:F.boonUptimeTimeline)?F.boonUptimeTimeline:[]).map(O=>({id:String((O==null?void 0:O.id)||""),name:String((O==null?void 0:O.name)||(O==null?void 0:O.id)||"Unknown Boon"),icon:typeof(O==null?void 0:O.icon)=="string"?O.icon:void 0,stacking:!!(O!=null&&O.stacking),players:(Array.isArray(O==null?void 0:O.players)?O.players:[]).map(M=>({key:String((M==null?void 0:M.key)||""),account:String((M==null?void 0:M.account)||(M==null?void 0:M.displayName)||"Unknown"),displayName:String((M==null?void 0:M.displayName)||(M==null?void 0:M.account)||"Unknown"),profession:String((M==null?void 0:M.profession)||"Unknown"),professionList:Array.isArray(M==null?void 0:M.professionList)?M.professionList.map(xe=>String(xe||"")):[],logs:Number((M==null?void 0:M.logs)||0),total:Math.max(0,Number((M==null?void 0:M.total)||0)),peak:Math.max(0,Number((M==null?void 0:M.peak)||0))})).filter(M=>M.key&&M.key!=="__all__"),fights:(Array.isArray(O==null?void 0:O.fights)?O.fights:[]).map((M,xe)=>({id:String((M==null?void 0:M.id)||`fight-${xe+1}`),shortLabel:String((M==null?void 0:M.shortLabel)||`F${xe+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${xe+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),maxTotal:Math.max(0,Number((M==null?void 0:M.maxTotal)||0)),values:M!=null&&M.values&&typeof M.values=="object"?Object.fromEntries(Object.entries(M.values).map(([Se,ve])=>[String(Se||""),{total:Math.max(0,Number((ve==null?void 0:ve.total)||0)),peak:Math.max(0,Number((ve==null?void 0:ve.peak)||0)),buckets5s:Array.isArray(ve==null?void 0:ve.buckets5s)?ve.buckets5s.map(Y=>Math.max(0,Number(Y||0))):[]}])):{}}))})).filter(O=>O.id&&O.players.length>0&&O.fights.length>0),[F.boonUptimeTimeline]),YB=g.useMemo(()=>{const C=Bs.trim().toLowerCase();return C?yo.filter(O=>String((O==null?void 0:O.name)||"").toLowerCase().includes(C)):yo},[yo,Bs]),kn=g.useMemo(()=>Sa&&yo.find(C=>C.id===Sa)||null,[yo,Sa]),Nu=g.useMemo(()=>{const C=new Map,O=Array.isArray(kn==null?void 0:kn.players)?kn.players:[],M=Array.isArray(kn==null?void 0:kn.fights)?kn.fights:[];if(!O.length||!M.length)return C;const xe=M.reduce((Se,ve)=>{const Y=Math.max(Math.ceil(Math.max(0,Number((ve==null?void 0:ve.durationMs)||0))/5e3),1);return Se+Y},0);return xe<=0||O.forEach(Se=>{const ve=String((Se==null?void 0:Se.key)||"");if(!ve||ve==="__all__")return;let Y=0;M.forEach(Je=>{var At;const mt=(At=Je==null?void 0:Je.values)==null?void 0:At[ve],Ze=Array.isArray(mt==null?void 0:mt.buckets5s)?mt.buckets5s:[],jt=Math.max(Ze.length,Math.ceil(Math.max(0,Number((Je==null?void 0:Je.durationMs)||0))/5e3),1);for(let yt=0;yt<jt;yt+=1)Math.max(0,Number(Ze[yt]||0))>0&&(Y+=1)}),C.set(ve,Y/xe*100)}),C},[kn]),Zd=g.useMemo(()=>[...(Array.isArray(kn==null?void 0:kn.players)?kn.players:[]).map(M=>({...M,uptimePercent:Number(Nu.get(String((M==null?void 0:M.key)||""))||0)}))].sort((M,xe)=>Number(Nu.get(String((xe==null?void 0:xe.key)||""))||0)-Number(Nu.get(String((M==null?void 0:M.key)||""))||0)||Number(xe.peak||0)-Number(M.peak||0)||Number(xe.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(xe.displayName||""))),[kn,Nu]),XB=g.useMemo(()=>{const C=ol.trim().toLowerCase();return C?Zd.filter(O=>String((O==null?void 0:O.displayName)||"").toLowerCase().includes(C)||String((O==null?void 0:O.account)||"").toLowerCase().includes(C)||String((O==null?void 0:O.profession)||"").toLowerCase().includes(C)):Zd},[Zd,ol]),QB=g.useMemo(()=>{const C=new Map;return Zd.forEach(O=>{C.set(String((O==null?void 0:O.key)||""),O)}),C},[Zd]),ZB=gr&&QB.get(gr)||null,pl=g.useMemo(()=>!kn||!gr?[]:(kn.fights||[]).map((C,O)=>{var At;const M=((At=C==null?void 0:C.values)==null?void 0:At[gr])||{total:0,peak:0},xe=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],Se=Math.max(xe.length,Math.ceil(Math.max(0,Number((C==null?void 0:C.durationMs)||0))/5e3),1),ve=Math.max(0,Number((M==null?void 0:M.total)||0))/Se,Je=Array.from({length:Se},(yt,Mt)=>Math.max(0,Number(xe[Mt]||0))).reduce((yt,Mt)=>yt+(Mt>0?1:0),0)/Se*100,mt=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([yt])=>String(yt||"")!=="__all__").reduce((yt,[,Mt])=>Math.max(yt,Math.max(0,Number((Mt==null?void 0:Mt.peak)||0))),0),Ze=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([yt])=>String(yt||"")!=="__all__").reduce((yt,[,Mt])=>{const Vt=Array.isArray(Mt==null?void 0:Mt.buckets5s)?Mt.buckets5s:[],Xt=Math.max(Vt.length,Math.ceil(Math.max(0,Number((C==null?void 0:C.durationMs)||0))/5e3),1),$n=Math.max(0,Number((Mt==null?void 0:Mt.total)||0))/Xt;return Math.max(yt,$n)},0),jt=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([yt])=>String(yt||"")!=="__all__").reduce((yt,[,Mt])=>{const Vt=Array.isArray(Mt==null?void 0:Mt.buckets5s)?Mt.buckets5s:[],Xt=Math.max(Vt.length,Math.ceil(Math.max(0,Number((C==null?void 0:C.durationMs)||0))/5e3),1),Kt=Array.from({length:Xt},(Sn,ge)=>Math.max(0,Number(Vt[ge]||0))).reduce((Sn,ge)=>Sn+(ge>0?1:0),0)/Xt*100;return Math.max(yt,Kt)},0);return{index:O,fightId:String((C==null?void 0:C.id)||""),shortLabel:String((C==null?void 0:C.shortLabel)||`F${O+1}`),fullLabel:String((C==null?void 0:C.fullLabel)||`Fight ${O+1}`),timestamp:Number((C==null?void 0:C.timestamp)||0),durationMs:Number((C==null?void 0:C.durationMs)||0),total:Math.max(0,Number((M==null?void 0:M.total)||0)),average:ve,uptimePercent:Je,peak:Math.max(0,Number((M==null?void 0:M.peak)||0)),maxTotal:mt>0?mt:Math.max(0,Number((C==null?void 0:C.maxTotal)||0)),maxAverage:Ze,maxUptimePercent:jt}}),[kn,gr]),JB=g.useMemo(()=>{const C=!!(kn!=null&&kn.stacking),O=pl.reduce((Se,ve)=>Math.max(Se,Number(C?ve==null?void 0:ve.average:(ve==null?void 0:ve.uptimePercent)||0)),0),M=pl.reduce((Se,ve)=>Math.max(Se,Number(C?ve==null?void 0:ve.maxAverage:(ve==null?void 0:ve.maxUptimePercent)||0)),0),xe=kn!=null&&kn.stacking?25:100;return Math.max(1,O,M,xe)},[pl,kn==null?void 0:kn.stacking]),I2=g.useMemo(()=>{var Y,Je;const C=Q===null?null:pl.find(mt=>mt.index===Q)||null;if(!C||!kn||!gr)return{title:"Fight Breakdown",data:[]};const O=(Y=kn.fights)==null?void 0:Y[C.index];if(!O)return{title:"Fight Breakdown",data:[]};const M=(Je=O==null?void 0:O.values)==null?void 0:Je[gr],xe=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],Se=Math.max(xe.length,Math.ceil(Math.max(0,Number((O==null?void 0:O.durationMs)||0))/5e3),1),ve=Array.from({length:Se},(mt,Ze)=>{const jt=Object.entries(O!=null&&O.values&&typeof O.values=="object"?O.values:{}).filter(([At])=>String(At||"")!=="__all__").reduce((At,[,yt])=>{var Mt;return Math.max(At,Math.max(0,Number(((Mt=yt==null?void 0:yt.buckets5s)==null?void 0:Mt[Ze])||0)))},0);return{label:`${Ze*5}s-${(Ze+1)*5}s`,value:Math.max(0,Number(xe[Ze]||0)),maxValue:jt}});return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s Stack Buckets)`,data:ve}},[Q,pl,kn,gr]),ez=g.useMemo(()=>{if(!gr)return null;const C=Nu.get(gr);return Number.isFinite(Number(C))?Number(C):null},[Nu,gr]),tz=g.useMemo(()=>{const C=Wt.trim().toLowerCase(),O=[...F.specialTables||[]].sort((M,xe)=>M.name.localeCompare(xe.name));return C?O.filter(M=>M.name.toLowerCase().includes(C)):O},[F.specialTables,Wt]),hs=g.useMemo(()=>[...F.specialTables||[]].filter(O=>/\b(sigil|relic)\b/i.test(String((O==null?void 0:O.name)||""))).sort((O,M)=>O.name.localeCompare(M.name)),[F.specialTables]),nz=g.useMemo(()=>{const C=Ct.trim().toLowerCase();return C?hs.filter(O=>O.name.toLowerCase().includes(C)):hs},[hs,Ct]),rz=g.useMemo(()=>qe?(F.specialTables||[]).find(C=>C.id===qe)??null:null,[F.specialTables,qe]),iz=g.useMemo(()=>tn?hs.find(C=>C.id===tn)??null:null,[hs,tn]);g.useEffect(()=>{!F.boonTables||F.boonTables.length===0||(!Nn||!F.boonTables.some(C=>C.id===Nn))&&jn(F.boonTables[0].id)},[F.boonTables,Nn]),g.useEffect(()=>{if(bo.length===0){or!==null&&ya(null);return}(!or||!bo.some(C=>C.id===or))&&ya(bo[0].id)},[bo,or]),g.useEffect(()=>{var M;const C=(Xi==null?void 0:Xi.players)||[];if(C.length===0){tr!==null&&ka(null);return}const O=((M=C.find(xe=>xe.key==="__all__"))==null?void 0:M.key)||C[0].key;(!tr||!C.some(xe=>xe.key===tr))&&ka(O)},[Xi,tr]),g.useEffect(()=>{xu(null)},[or,tr]),g.useEffect(()=>{if(yo.length===0){Sa!==null&&cc(null);return}(!Sa||!yo.some(C=>C.id===Sa))&&cc(yo[0].id)},[yo,Sa]),g.useEffect(()=>{var M;const C=(kn==null?void 0:kn.players)||[];if(C.length===0){gr!==null&&ll(null);return}const O=((M=C.find(xe=>xe.key==="__all__"))==null?void 0:M.key)||C[0].key;(!gr||!C.some(xe=>xe.key===gr))&&ll(O)},[kn,gr]),g.useEffect(()=>{Q!==null&&(Q<0||Q>=pl.length)&&Te(null)},[pl,Q]),g.useEffect(()=>{Te(null)},[Sa,gr]),g.useEffect(()=>{!F.specialTables||F.specialTables.length===0||(!qe||!F.specialTables.some(C=>C.id===qe))&&Nt(F.specialTables[0].id)},[F.specialTables,qe]),g.useEffect(()=>{if(!hs||hs.length===0){tn!==null&&It(null);return}(!tn||!hs.some(C=>C.id===tn))&&It(hs[0].id)},[hs,tn]),g.useEffect(()=>{const C=()=>{const M=window.getSelection();M&&M.rangeCount>0&&M.removeAllRanges()},O=M=>{var Se;const xe=M.target;(Se=xe==null?void 0:xe.closest)!=null&&Se.call(xe,".recharts-wrapper")&&(M.preventDefault(),C())};return document.addEventListener("selectstart",O),document.addEventListener("mousedown",O),document.addEventListener("mousemove",O),document.addEventListener("dragstart",O),()=>{document.removeEventListener("selectstart",O),document.removeEventListener("mousedown",O),document.removeEventListener("mousemove",O),document.removeEventListener("dragstart",O)}},[]);const fi=C=>{Wr.current&&(window.clearTimeout(Wr.current),Wr.current=null),uo(!1),ei(C)},Vr=()=>{vn&&(Wr.current&&window.clearTimeout(Wr.current),uo(!0),Wr.current=window.setTimeout(()=>{ei(null),uo(!1),Wr.current=null},160))};g.useEffect(()=>{if(!vn)return;const C=xe=>{xe.key==="Escape"&&Vr()},O=document.body.style.overflow,M=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",C),()=>{window.removeEventListener("keydown",C),document.body.style.overflow=O,document.documentElement.style.overflow=M}},[vn]);const _2=(C,O)=>{const M=((O==null?void 0:O.value)||0)-((C==null?void 0:C.value)||0);return M!==0?M:String((C==null?void 0:C.name)||"").localeCompare(String((O==null?void 0:O.name)||""))},L2=Array.isArray(F==null?void 0:F.squadClassData)?F.squadClassData:[],$2=Array.isArray(F==null?void 0:F.enemyClassData)?F.enemyClassData:[],az=Array.isArray(F==null?void 0:F.attendanceData)?F.attendanceData:[],Pv=Array.isArray(F==null?void 0:F.squadCompByFight)?F.squadCompByFight:[],F2=Array.isArray(F==null?void 0:F.fightBreakdown)?F.fightBreakdown:[],sz=g.useMemo(()=>{const C=new Map;return F2.forEach(O=>{const M=String((O==null?void 0:O.id)||"");M&&C.set(M,O)}),Pv.map(O=>{const M=C.get(String((O==null?void 0:O.id)||""))||null;return{...O,enemyClassCounts:(M==null?void 0:M.enemyClassCounts)||{}}})},[Pv,F2]),oz=g.useMemo(()=>[...L2].sort(_2),[L2]),lz=g.useMemo(()=>[...$2].sort(_2),[$2]),cz=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",uz=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${vn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${vn?"":"backdrop-blur-2xl"}`,R2=u&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,dz=te?{...R2||{},overflowY:"hidden"}:R2,fz=C=>Ai==="perSecond"?C.toFixed(1):Math.round(C).toLocaleString(),mz=C=>C.toFixed(1),hz=C=>Math.round(C).toLocaleString(),pz=C=>typeof C=="number"&&Number.isFinite(C)?C.toFixed(1):"0.0",gz=Math.max(Math.max(0,Number(F.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),mi=gse;return c.jsxs("div",{className:cz,children:[vn&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${En?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Vr}),c.jsx(Zse,{embedded:u,dashboardTitle:f,totalLogs:gz,onBack:t,devMockAvailable:ee,devMockUploadState:mn,onDevMockUpload:on,uploadingWeb:T,onWebUpload:Ft,sharing:en,canShareDiscord:m,onShare:Mr}),c.jsx(Jse,{embedded:u,webUploadMessage:L,webUploadUrl:_,webUploadBuildStatus:G,webCopyStatus:Pe,setWebCopyStatus:it}),c.jsx(eoe,{embedded:u,devMockAvailable:ee,devMockUploadState:mn}),z&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:W}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:H})]}),re.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${re.progressPercent}%`}})}),se&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:se})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${te?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:Ht,className:`${uz} ${u?"":"flex-1"} ${te?"stats-dashboard-scroll-lock":""}`,style:dz,children:[c.jsxs(c.Fragment,{children:[$t("overview")&&c.jsx(Lse,{stats:F,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("fight-breakdown")&&c.jsx($se,{stats:F,fightBreakdownTab:Dh,setFightBreakdownTab:Gd,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("top-players")&&c.jsx(Bse,{stats:F,showTopStats:y,showMvp:N,topStatsMode:S,expandedLeader:ds,setExpandedLeader:hn,formatTopStatValue:kl,formatWithCommas:xi,isMvpStatEnabled:un,renderProfessionIcon:mi,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("top-skills-outgoing")&&c.jsx(zse,{stats:F,topSkillsMetric:R,onTopSkillsMetricChange:kt,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("squad-composition")&&c.jsx(Use,{sortedSquadClassData:oz,sortedEnemyClassData:lz,getProfessionIconPath:Ec,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("attendance-ledger")&&c.jsx(Kse,{attendanceRows:az,getProfessionIconPath:Ec,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("squad-comp-fight")&&c.jsx(Yse,{fights:Pv,getProfessionIconPath:Ec,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("fight-comp")&&c.jsx(Qse,{fights:sz,getProfessionIconPath:Ec,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("timeline")&&c.jsx(Wse,{timelineData:F.timelineData,timelineFriendlyScope:Mn,setTimelineFriendlyScope:lr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("map-distribution")&&c.jsx(Vse,{mapData:F.mapData,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("offense-detailed")&&c.jsx(Nse,{stats:F,OFFENSE_METRICS:wO,roundCountStats:j,offenseSearch:di,setOffenseSearch:lt,activeOffenseStat:Ce,setActiveOffenseStat:nt,offenseViewMode:ut,setOffenseViewMode:ft,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("player-breakdown")&&c.jsx(yse,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks,viewMode:uB,setViewMode:dB,playerSkillBreakdowns:po,classSkillBreakdowns:yu,activePlayerKey:mc,setActivePlayerKey:Sv,expandedPlayerKey:oB,setExpandedPlayerKey:N2,activePlayerSkillId:Us,setActivePlayerSkillId:_h,activeClassKey:hc,setActiveClassKey:Nv,expandedClassKey:fB,setExpandedClassKey:C2,activeClassSkillId:ho,setActiveClassSkillId:Lh,skillSearch:lB,setSkillSearch:cB,activePlayerBreakdown:go,activePlayerSkill:hB,activeClassBreakdown:ml,activeClassSkill:pB,renderProfessionIcon:mi}),$t("damage-breakdown")&&c.jsx(wse,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,playerSkillBreakdowns:po,renderProfessionIcon:mi}),$t("spike-damage")&&c.jsx(nT,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,spikePlayerFilter:Me,setSpikePlayerFilter:bt,groupedSpikePlayers:gB,spikeMode:Un,setSpikeMode:dc,damageBasis:Jr,setDamageBasis:Qe,showDamageBasisToggle:!0,selectedSpikePlayerKey:Bn,setSelectedSpikePlayerKey:ms,selectedSpikePlayer:xB,spikeChartData:Ws,spikeChartMaxY:vB,selectedSpikeFightIndex:ji,setSelectedSpikeFightIndex:uc,spikeDrilldownTitle:Fh.title,spikeDrilldownData:Fh.data,spikeDrilldownDownIndices:Fh.downIndices,spikeDrilldownDeathIndices:Fh.deathIndices,spikeFightSkillRows:SB,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:xi,renderProfessionIcon:mi}),$t("conditions-outgoing")&&c.jsx(Cse,{conditionSummary:zh,conditionPlayers:PB,conditionSearch:fe,setConditionSearch:Ue,activeConditionName:Oe,setActiveConditionName:Ve,conditionDirection:He,setConditionDirection:me,conditionGridClass:rt,effectiveConditionSort:de,setConditionSort:ze,showConditionDamage:et,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("defense-detailed")&&c.jsx(Ase,{stats:F,DEFENSE_METRICS:kO,defenseSearch:P,setDefenseSearch:$,activeDefenseStat:st,setActiveDefenseStat:wt,defenseViewMode:at,setDefenseViewMode:We,roundCountStats:j,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("incoming-strike-damage")&&c.jsx(nT,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,spikePlayerFilter:gt,setSpikePlayerFilter:Lt,groupedSpikePlayers:bB,spikeMode:Bt,setSpikeMode:wn,selectedSpikePlayerKey:Re,setSelectedSpikePlayerKey:$e,selectedSpikePlayer:yB,spikeChartData:Vs,spikeChartMaxY:wB,selectedSpikeFightIndex:Be,setSelectedSpikeFightIndex:xt,spikeDrilldownTitle:Rh.title,spikeDrilldownData:Rh.data,spikeDrilldownDownIndices:Rh.downIndices,spikeDrilldownDeathIndices:Rh.deathIndices,spikeFightSkillRows:kB,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:xi,renderProfessionIcon:mi}),$t("defense-mitigation")&&c.jsx(Pse,{stats:F,DAMAGE_MITIGATION_METRICS:GU,damageMitigationSearch:J,setDamageMitigationSearch:Ne,activeDamageMitigationStat:je,setActiveDamageMitigationStat:Ie,damageMitigationViewMode:ht,setDamageMitigationViewMode:pt,damageMitigationScope:In,setDamageMitigationScope:Er,roundCountStats:j,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("boon-output")&&c.jsx(jse,{stats:F,activeBoonCategory:_i,setActiveBoonCategory:C=>Ur(C),activeBoonMetric:$r,setActiveBoonMetric:pu,activeBoonTab:Nn,setActiveBoonTab:jn,activeBoonTable:WB,filteredBoonTables:UB,boonSearch:co,setBoonSearch:sl,formatBoonMetricDisplay:C8,getBoonMetricValue:IO,renderProfessionIcon:mi,roundCountStats:j,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("boon-timeline")&&c.jsx(kse,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,boonSearch:ci,setBoonSearch:Fs,boons:VB,activeBoonId:or,setActiveBoonId:ya,timelineScope:ui,setTimelineScope:wa,playerFilter:Rs,setPlayerFilter:gu,players:HB,selectedPlayerKey:tr,setSelectedPlayerKey:ka,selectedPlayer:KB,chartData:Su,chartMaxY:GB,selectedFightIndex:oa,setSelectedFightIndex:xu,drilldownTitle:O2.title,drilldownData:O2.data,formatWithCommas:xi,renderProfessionIcon:mi}),$t("boon-uptime")&&c.jsx(Sse,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,boonSearch:Bs,setBoonSearch:vu,boons:YB,activeBoonId:Sa,setActiveBoonId:cc,playerFilter:ol,setPlayerFilter:bu,players:XB,selectedPlayerKey:gr,setSelectedPlayerKey:ll,selectedPlayer:ZB,chartData:pl,chartMaxY:JB,selectedFightIndex:Q,setSelectedFightIndex:Te,drilldownTitle:I2.title,drilldownData:I2.data,overallUptimePercent:ez,showStackCapLine:!!(kn!=null&&kn.stacking),formatWithCommas:xi,renderProfessionIcon:mi}),$t("support-detailed")&&c.jsx(Dse,{stats:F,SUPPORT_METRICS:SO,supportSearch:he,setSupportSearch:tt,activeSupportStat:pe,setActiveSupportStat:ot,supportViewMode:Rt,setSupportViewMode:rn,cleanseScope:pn,setCleanseScope:Cn,roundCountStats:j,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("healing-stats")&&c.jsx(Tse,{stats:F,HEALING_METRICS:YU,activeHealingMetric:vt,setActiveHealingMetric:ke,healingCategory:ce,setHealingCategory:_t,activeResUtilitySkill:De,setActiveResUtilitySkill:_e,skillUsageData:Ee,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("fight-diff-mode")&&c.jsx(_se,{stats:F,formatWithCommas:xi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn}),$t("special-buffs")&&c.jsx(Ese,{stats:F,specialSearch:Wt,setSpecialSearch:Qt,filteredSpecialTables:tz,activeSpecialTab:qe,setActiveSpecialTab:Nt,activeSpecialTable:rz,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("sigil-relic-uptime")&&c.jsx(Ise,{hasSigilRelicTables:hs.length>0,sigilRelicSearch:Ct,setSigilRelicSearch:Rn,filteredSigilRelicTables:nz,activeSigilRelicTab:tn,setActiveSigilRelicTab:It,activeSigilRelicTable:iz,formatWithCommas:xi,renderProfessionIcon:mi,expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks}),$t("skill-usage")&&c.jsx(xse,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,selectedPlayers:Ci,setSelectedPlayers:cl,removeSelectedPlayer:zB,playerMapByKey:xo,groupedSkillUsagePlayers:AB,expandedSkillUsageClass:Mh,setExpandedSkillUsageClass:Eh,togglePlayerSelection:BB,skillUsagePlayerFilter:xr,setSkillUsagePlayerFilter:Xn,skillUsageView:Ai,setSkillUsageView:ul,skillUsageData:Ee,skillUsageSkillFilter:Zr,setSkillUsageSkillFilter:Sr,selectedSkillId:cr,setSelectedSkillId:fs,skillBarData:Xd,selectedSkillName:IB,selectedSkillIcon:_B,skillUsageReady:LB,skillUsageAvailable:Le,isSkillUsagePerSecond:Th,skillChartData:CB,skillChartMaxY:jB,playerTotalsForSkill:wu,hoveredSkillPlayer:Hn,setHoveredSkillPlayer:qn,getLineStrokeColor:OB,getLineDashForPlayer:EB,formatSkillUsageValue:fz,renderProfessionIcon:mi}),$t("apm-stats")&&c.jsx(bse,{expandedSection:vn,expandedSectionClosing:En,openExpandedSection:fi,closeExpandedSection:Vr,isSectionVisible:$t,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Ks,apmSpecAvailable:$B,skillUsageAvailable:Le,apmSpecTables:fl,activeApmSpec:zs,setActiveApmSpec:dl,expandedApmSpec:Li,setExpandedApmSpec:fo,activeApmSkillId:Yi,setActiveApmSkillId:mo,ALL_SKILLS_KEY:Wh,apmSkillSearch:fc,setApmSkillSearch:sB,activeApmSpecTable:vo,activeApmSkill:RB,isAllApmSkills:FB,apmView:Oh,setApmView:Ih,formatApmValue:pz,formatCastRateValue:mz,formatCastCountValue:hz,renderProfessionIcon:mi})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),te&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const ioe="Arcane",$N="CRT",E0="MatteSlate",O0="KineticPaper",Hf="KineticPaperDark",ig={id:ioe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},aoe={id:E0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},soe={id:O0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},ooe={id:Hf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},loe=[ig,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],coe={id:$N,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Mf=[...loe,coe,aoe,soe,ooe];function uoe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const doe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,foe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,moe={};function aT(e,t){return(moe.jsx?foe:doe).test(e)}const hoe=/[ \t\n\f\r]/g;function poe(e){return typeof e=="object"?e.type==="text"?sT(e.value):!1:sT(e)}function sT(e){return e.replace(hoe,"")===""}class kh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}kh.prototype.normal={};kh.prototype.property={};kh.prototype.space=void 0;function O$(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new kh(n,r,t)}function n1(e){return e.toLowerCase()}class ba{constructor(t,n){this.attribute=n,this.property=t}}ba.prototype.attribute="";ba.prototype.booleanish=!1;ba.prototype.boolean=!1;ba.prototype.commaOrSpaceSeparated=!1;ba.prototype.commaSeparated=!1;ba.prototype.defined=!1;ba.prototype.mustUseProperty=!1;ba.prototype.number=!1;ba.prototype.overloadedBoolean=!1;ba.prototype.property="";ba.prototype.spaceSeparated=!1;ba.prototype.space=void 0;let goe=0;const fn=fu(),qr=fu(),r1=fu(),dt=fu(),ir=fu(),ud=fu(),Aa=fu();function fu(){return 2**++goe}const i1=Object.freeze(Object.defineProperty({__proto__:null,boolean:fn,booleanish:qr,commaOrSpaceSeparated:Aa,commaSeparated:ud,number:dt,overloadedBoolean:r1,spaceSeparated:ir},Symbol.toStringTag,{value:"Module"})),Mb=Object.keys(i1);class FN extends ba{constructor(t,n,r,i){let a=-1;if(super(t,n),oT(this,"space",i),typeof r=="number")for(;++a<Mb.length;){const s=Mb[a];oT(this,Mb[a],(r&i1[s])===i1[s])}}}FN.prototype.defined=!0;function oT(e,t,n){n&&(e[t]=n)}function qd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new FN(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[n1(r)]=r,n[n1(a.attribute)]=r}return new kh(t,n,e.space)}const I$=qd({properties:{ariaActiveDescendant:null,ariaAtomic:qr,ariaAutoComplete:null,ariaBusy:qr,ariaChecked:qr,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:ir,ariaCurrent:null,ariaDescribedBy:ir,ariaDetails:null,ariaDisabled:qr,ariaDropEffect:ir,ariaErrorMessage:null,ariaExpanded:qr,ariaFlowTo:ir,ariaGrabbed:qr,ariaHasPopup:null,ariaHidden:qr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ir,ariaLevel:dt,ariaLive:null,ariaModal:qr,ariaMultiLine:qr,ariaMultiSelectable:qr,ariaOrientation:null,ariaOwns:ir,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:qr,ariaReadOnly:qr,ariaRelevant:null,ariaRequired:qr,ariaRoleDescription:ir,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:qr,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function _$(e,t){return t in e?e[t]:t}function L$(e,t){return _$(e,t.toLowerCase())}const xoe=qd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ud,acceptCharset:ir,accessKey:ir,action:null,allow:null,allowFullScreen:fn,allowPaymentRequest:fn,allowUserMedia:fn,alt:null,as:null,async:fn,autoCapitalize:null,autoComplete:ir,autoFocus:fn,autoPlay:fn,blocking:ir,capture:null,charSet:null,checked:fn,cite:null,className:ir,cols:dt,colSpan:null,content:null,contentEditable:qr,controls:fn,controlsList:ir,coords:dt|ud,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fn,defer:fn,dir:null,dirName:null,disabled:fn,download:r1,draggable:qr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fn,formTarget:null,headers:ir,height:dt,hidden:r1,high:dt,href:null,hrefLang:null,htmlFor:ir,httpEquiv:ir,id:null,imageSizes:null,imageSrcSet:null,inert:fn,inputMode:null,integrity:null,is:null,isMap:fn,itemId:null,itemProp:ir,itemRef:ir,itemScope:fn,itemType:ir,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:fn,muted:fn,name:null,nonce:null,noModule:fn,noValidate:fn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fn,optimum:dt,pattern:null,ping:ir,placeholder:null,playsInline:fn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fn,referrerPolicy:null,rel:ir,required:fn,reversed:fn,rows:dt,rowSpan:dt,sandbox:ir,scope:null,scoped:fn,seamless:fn,selected:fn,shadowRootClonable:fn,shadowRootDelegatesFocus:fn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:qr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:fn,useMap:null,value:qr,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ir,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fn,declare:fn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:fn,noHref:fn,noShade:fn,noWrap:fn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:qr,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fn,disableRemotePlayback:fn,prefix:null,property:null,results:dt,security:null,unselectable:null},space:"html",transform:L$}),voe=qd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Aa,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:ir,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:fn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ud,g2:ud,glyphName:ud,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:Aa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ir,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Aa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Aa,rev:Aa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Aa,requiredFeatures:Aa,requiredFonts:Aa,requiredFormats:Aa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:Aa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Aa,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Aa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:_$}),$$=qd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),F$=qd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:L$}),R$=qd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),boe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yoe=/[A-Z]/g,lT=/-[a-z]/g,woe=/^data[-\w.:]+$/i;function koe(e,t){const n=n1(t);let r=t,i=ba;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&woe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(lT,Noe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!lT.test(a)){let s=a.replace(yoe,Soe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=FN}return new i(r,t)}function Soe(e){return"-"+e.toLowerCase()}function Noe(e){return e.charAt(1).toUpperCase()}const Coe=O$([I$,xoe,$$,F$,R$],"html"),RN=O$([I$,voe,$$,F$,R$],"svg");function joe(e){return e.join(" ").trim()}var BN={},cT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Aoe=/\n/g,Poe=/^\s*/,Doe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Toe=/^:\s*/,Moe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Eoe=/^[;\s]*/,Ooe=/^\s+|\s+$/g,Ioe=`
`,uT="/",dT="*",Pc="",_oe="comment",Loe="declaration";function $oe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var x=p.match(Aoe);x&&(n+=x.length);var b=p.lastIndexOf(Ioe);r=~b?p.length-b:r+p.length}function a(){var p={line:n,column:r};return function(x){return x.position=new s(p),u(),x}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var x=new Error(t.source+":"+n+":"+r+": "+p);if(x.reason=p,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function l(p){var x=p.exec(e);if(x){var b=x[0];return i(b),e=e.slice(b.length),x}}function u(){l(Poe)}function d(p){var x;for(p=p||[];x=f();)x!==!1&&p.push(x);return p}function f(){var p=a();if(!(uT!=e.charAt(0)||dT!=e.charAt(1))){for(var x=2;Pc!=e.charAt(x)&&(dT!=e.charAt(x)||uT!=e.charAt(x+1));)++x;if(x+=2,Pc===e.charAt(x-1))return o("End of comment missing");var b=e.slice(2,x-2);return r+=2,i(b),e=e.slice(x),r+=2,p({type:_oe,comment:b})}}function h(){var p=a(),x=l(Doe);if(x){if(f(),!l(Toe))return o("property missing ':'");var b=l(Moe),v=p({type:Loe,property:fT(x[0].replace(cT,Pc)),value:b?fT(b[0].replace(cT,Pc)):Pc});return l(Eoe),v}}function m(){var p=[];d(p);for(var x;x=h();)x!==!1&&(p.push(x),d(p));return p}return u(),m()}function fT(e){return e?e.replace(Ooe,Pc):Pc}var Foe=$oe,Roe=cg&&cg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BN,"__esModule",{value:!0});BN.default=zoe;const Boe=Roe(Foe);function zoe(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Boe.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var uv={};Object.defineProperty(uv,"__esModule",{value:!0});uv.camelCase=void 0;var Uoe=/^--[a-zA-Z0-9_-]+$/,Woe=/-([a-z])/g,Voe=/^[^-]+$/,Hoe=/^-(webkit|moz|ms|o|khtml)-/,qoe=/^-(ms)-/,Koe=function(e){return!e||Voe.test(e)||Uoe.test(e)},Goe=function(e,t){return t.toUpperCase()},mT=function(e,t){return"".concat(t,"-")},Yoe=function(e,t){return t===void 0&&(t={}),Koe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(qoe,mT):e=e.replace(Hoe,mT),e.replace(Woe,Goe))};uv.camelCase=Yoe;var Xoe=cg&&cg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Qoe=Xoe(BN),Zoe=uv;function a1(e,t){var n={};return!e||typeof e!="string"||(0,Qoe.default)(e,function(r,i){r&&i&&(n[(0,Zoe.camelCase)(r,t)]=i)}),n}a1.default=a1;var Joe=a1;const ele=_s(Joe),B$=z$("end"),zN=z$("start");function z$(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function tle(e){const t=zN(e),n=B$(e);if(t&&n)return{start:t,end:n}}function qf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hT(e.position):"start"in e||"end"in e?hT(e):"line"in e||"column"in e?s1(e):""}function s1(e){return pT(e&&e.line)+":"+pT(e&&e.column)}function hT(e){return s1(e&&e.start)+"-"+s1(e&&e.end)}function pT(e){return e&&typeof e=="number"?e:1}class Gi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=qf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Gi.prototype.file="";Gi.prototype.name="";Gi.prototype.reason="";Gi.prototype.message="";Gi.prototype.stack="";Gi.prototype.column=void 0;Gi.prototype.line=void 0;Gi.prototype.ancestors=void 0;Gi.prototype.cause=void 0;Gi.prototype.fatal=void 0;Gi.prototype.place=void 0;Gi.prototype.ruleId=void 0;Gi.prototype.source=void 0;const UN={}.hasOwnProperty,nle=new Map,rle=/[A-Z]/g,ile=new Set(["table","tbody","thead","tfoot","tr"]),ale=new Set(["td","th"]),U$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sle(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=mle(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?RN:Coe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=W$(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function W$(e,t,n){if(t.type==="element")return ole(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return lle(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ule(e,t,n);if(t.type==="mdxjsEsm")return cle(e,t);if(t.type==="root")return dle(e,t,n);if(t.type==="text")return fle(e,t)}function ole(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=RN,e.schema=i),e.ancestors.push(t);const a=H$(e,t.tagName,!1),s=ple(e,t);let o=VN(e,t);return ile.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!poe(l):!0})),V$(e,s,a,t),WN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function lle(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}_m(e,t.position)}function cle(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);_m(e,t.position)}function ule(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=RN,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:H$(e,t.name,!0),s=gle(e,t),o=VN(e,t);return V$(e,s,a,t),WN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function dle(e,t,n){const r={};return WN(r,VN(e,t)),e.create(t,e.Fragment,r,n)}function fle(e,t){return t.value}function V$(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function WN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function mle(e,t,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:t;return o?u(a,s,o):u(a,s)}}function hle(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=zN(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function ple(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&UN.call(t.properties,i)){const a=xle(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&ale.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function gle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else _m(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else _m(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function VN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:nle;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=W$(e,a,s);o!==void 0&&n.push(o)}return n}function xle(e,t,n){const r=koe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uoe(n):joe(n)),r.property==="style"){let i=typeof n=="object"?n:vle(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ble(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?boe[r.property]||r.property:r.attribute,n]}}function vle(e,t){try{return ele(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Gi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=U$+"#cannot-parse-style-attribute",i}}function H$(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=aT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=aT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return UN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);_m(e)}function _m(e,t){const n=new Gi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=U$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ble(e){const t={};let n;for(n in e)UN.call(e,n)&&(t[yle(n)]=e[n]);return t}function yle(e){let t=e.replace(rle,wle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function wle(e){return"-"+e.toLowerCase()}const Eb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},kle={};function HN(e,t){const n=kle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return q$(e,r,i)}function q$(e,t,n){if(Sle(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return gT(e.children,t,n)}return Array.isArray(e)?gT(e,t,n):""}function gT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=q$(e[i],t,n);return r.join("")}function Sle(e){return!!(e&&typeof e=="object")}const xT=document.createElement("i");function qN(e){const t="&"+e+";";xT.innerHTML=t;const n=xT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function La(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Za(e,t){return e.length>0?(La(e,e.length,0,t),e):t}const vT={}.hasOwnProperty;function K$(e){const t={};let n=-1;for(;++n<e.length;)Nle(t,e[n]);return t}function Nle(e,t){let n;for(n in t){const i=(vT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){vT.call(i,s)||(i[s]=[]);const o=a[s];Cle(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Cle(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);La(e,0,0,r)}function G$(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function js(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ji=oc(/[A-Za-z]/),Hi=oc(/[\dA-Za-z]/),jle=oc(/[#-'*+\--9=?A-Z^-~]/);function I0(e){return e!==null&&(e<32||e===127)}const o1=oc(/\d/),Ale=oc(/[\dA-Fa-f]/),Ple=oc(/[!-/:-@[-`{-~]/);function Yt(e){return e!==null&&e<-2}function Zn(e){return e!==null&&(e<0||e===32)}function bn(e){return e===-2||e===-1||e===32}const dv=oc(new RegExp("\\p{P}|\\p{S}","u")),su=oc(/\s/);function oc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Kd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Hi(e.charCodeAt(n+1))&&Hi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Tn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return bn(l)?(e.enter(n),o(l)):t(l)}function o(l){return bn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const Dle={tokenize:Tle};function Tle(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Tn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Yt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const Mle={tokenize:Ele},bT={tokenize:Ole};function Ele(e){const t=this,n=[];let r=0,i,a,s;return o;function o(y){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,u)(y)}return u(y)}function l(y){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const N=t.events.length;let j=N,S;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){S=t.events[j][1].end;break}v(r);let A=N;for(;A<t.events.length;)t.events[A][1].end={...S},A++;return La(t.events,j+1,0,t.events.slice(N)),t.events.length=A,u(y)}return o(y)}function u(y){if(r===n.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return p(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(bT,d,f)(y)}function d(y){return i&&w(),v(r),h(y)}function f(y){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(y)}function h(y){return t.containerState={},e.attempt(bT,m,p)(y)}function m(y){return r++,n.push([t.currentConstruct,t.containerState]),h(y)}function p(y){if(y===null){i&&w(),v(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),x(y)}function x(y){if(y===null){b(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return Yt(y)?(e.consume(y),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(y),x)}function b(y,N){const j=t.sliceStream(y);if(N&&j.push(null),y.previous=a,a&&(a.next=y),a=y,i.defineSkip(y.start),i.write(j),t.parser.lazy[y.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const A=t.events.length;let I=A,R,T;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(R){T=t.events[I][1].end;break}R=!0}for(v(r),S=A;S<t.events.length;)t.events[S][1].end={...T},S++;La(t.events,I+1,0,t.events.slice(A)),t.events.length=S}}function v(y){let N=n.length;for(;N-- >y;){const j=n[N];t.containerState=j[1],j[0].exit.call(t,e)}n.length=y}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Ole(e,t,n){return Tn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Td(e){if(e===null||Zn(e)||su(e))return 1;if(dv(e))return 2}function fv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const l1={name:"attention",resolveAll:Ile,tokenize:_le};function Ile(e,t){let n=-1,r,i,a,s,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};yT(f,-l),yT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Za(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Za(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Za(u,fv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Za(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Za(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,La(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function _le(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Td(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),d=Td(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(l)}}function yT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Lle={name:"autolink",tokenize:$le};function $le(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Ji(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Hi(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Hi(m))&&r++<32?(e.consume(m),o):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||I0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):jle(m)?(e.consume(m),u):n(m)}function d(m){return Hi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Hi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Sh={partial:!0,tokenize:Fle};function Fle(e,t,n){return r;function r(a){return bn(a)?Tn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Yt(a)?t(a):n(a)}}const Y$={continuation:{tokenize:Ble},exit:zle,name:"blockQuote",tokenize:Rle};function Rle(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return bn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Ble(e,t,n){const r=this;return i;function i(s){return bn(s)?Tn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(Y$,t,n)(s)}}function zle(e){e.exit("blockQuote")}const X$={name:"characterEscape",tokenize:Ule};function Ule(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Ple(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const Q$={name:"characterReference",tokenize:Wle};function Wle(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=Hi,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Ale,d):(e.enter("characterReferenceValue"),a=7,s=o1,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Hi&&!qN(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const wT={partial:!0,tokenize:Hle},kT={concrete:!0,name:"codeFenced",tokenize:Vle};function Vle(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,s=0,o;return l;function l(S){return u(S)}function u(S){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(s++,e.consume(S),d):s<3?n(S):(e.exit("codeFencedFenceSequence"),bn(S)?Tn(e,f,"whitespace")(S):f(S))}function f(S){return S===null||Yt(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(wT,x,N)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||Yt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):bn(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tn(e,m,"whitespace")(S)):S===96&&S===o?n(S):(e.consume(S),h)}function m(S){return S===null||Yt(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||Yt(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===o?n(S):(e.consume(S),p)}function x(S){return e.attempt(i,N,b)(S)}function b(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),v}function v(S){return a>0&&bn(S)?Tn(e,w,"linePrefix",a+1)(S):w(S)}function w(S){return S===null||Yt(S)?e.check(wT,x,N)(S):(e.enter("codeFlowValue"),y(S))}function y(S){return S===null||Yt(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),y)}function N(S){return e.exit("codeFenced"),t(S)}function j(S,A,I){let R=0;return T;function T(le){return S.enter("lineEnding"),S.consume(le),S.exit("lineEnding"),L}function L(le){return S.enter("codeFencedFence"),bn(le)?Tn(S,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):_(le)}function _(le){return le===o?(S.enter("codeFencedFenceSequence"),G(le)):I(le)}function G(le){return le===o?(R++,S.consume(le),G):R>=s?(S.exit("codeFencedFenceSequence"),bn(le)?Tn(S,ee,"whitespace")(le):ee(le)):I(le)}function ee(le){return le===null||Yt(le)?(S.exit("codeFencedFence"),A(le)):I(le)}}}function Hle(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Ob={name:"codeIndented",tokenize:Kle},qle={partial:!0,tokenize:Gle};function Kle(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Tn(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Yt(u)?e.attempt(qle,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Yt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function Gle(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Yt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Tn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Yt(s)?i(s):n(s)}}const Yle={name:"codeText",previous:Qle,resolve:Xle,tokenize:Zle};function Xle(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Qle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zle(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Yt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Yt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class Jle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);bf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bf(this.left,n.reverse())}}}function bf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Z$(e){const t={};let n=-1,r,i,a,s,o,l,u;const d=new Jle(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,ece(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return La(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function ece(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let d,f,h=-1,m=n,p=0,x=0;const b=[x];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(x=h+1,b.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),h=b.length;h--;){const v=o.slice(b[h],b[h+1]),w=a.pop();l.push([w,w+v.length-1]),e.splice(w,2,v)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const tce={resolve:rce,tokenize:ice},nce={partial:!0,tokenize:ace};function rce(e){return Z$(e),e}function ice(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Yt(o)?e.check(nce,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function ace(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Tn(e,a,"linePrefix")}function a(s){if(s===null||Yt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function J$(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||I0(v)?n(v):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||Yt(v)?n(v):(e.consume(v),v===92?p:m)}function p(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function x(v){return!d&&(v===null||v===41||Zn(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(v)):d<u&&v===40?(e.consume(v),d++,x):v===41?(e.consume(v),d--,x):v===null||v===32||v===40||I0(v)?n(v):(e.consume(v),v===92?b:x)}function b(v){return v===40||v===41||v===92?(e.consume(v),x):x(v)}}function eF(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Yt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Yt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!bn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function tF(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Yt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Tn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Yt(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Kf(e,t){let n;return r;function r(i){return Yt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):bn(i)?Tn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const sce={name:"definition",tokenize:lce},oce={partial:!0,tokenize:cce};function lce(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return eF.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=js(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Zn(m)?Kf(e,u)(m):u(m)}function u(m){return J$(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(oce,f,f)(m)}function f(m){return bn(m)?Tn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Yt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function cce(e,t,n){return r;function r(o){return Zn(o)?Kf(e,i)(o):n(o)}function i(o){return tF(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return bn(o)?Tn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Yt(o)?t(o):n(o)}}const uce={name:"hardBreakEscape",tokenize:dce};function dce(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Yt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const fce={name:"headingAtx",resolve:mce,tokenize:hce};function mce(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},La(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function hce(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Zn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Yt(d)?(e.exit("atxHeading"),t(d)):bn(d)?Tn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Zn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const pce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ST=["pre","script","style","textarea"],gce={concrete:!0,name:"htmlFlow",resolveTo:bce,tokenize:yce},xce={partial:!0,tokenize:kce},vce={partial:!0,tokenize:wce};function bce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function yce(e,t,n){const r=this;let i,a,s,o,l;return u;function u(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,x):k===63?(e.consume(k),i=3,r.interrupt?t:E):Ji(k)?(e.consume(k),s=String.fromCharCode(k),b):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Ji(k)?(e.consume(k),i=4,r.interrupt?t:E):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:E):n(k)}function p(k){const B="CDATA[";return k===B.charCodeAt(o++)?(e.consume(k),o===B.length?r.interrupt?t:_:p):n(k)}function x(k){return Ji(k)?(e.consume(k),s=String.fromCharCode(k),b):n(k)}function b(k){if(k===null||k===47||k===62||Zn(k)){const B=k===47,V=s.toLowerCase();return!B&&!a&&ST.includes(V)?(i=1,r.interrupt?t(k):_(k)):pce.includes(s.toLowerCase())?(i=6,B?(e.consume(k),v):r.interrupt?t(k):_(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?w(k):y(k))}return k===45||Hi(k)?(e.consume(k),s+=String.fromCharCode(k),b):n(k)}function v(k){return k===62?(e.consume(k),r.interrupt?t:_):n(k)}function w(k){return bn(k)?(e.consume(k),w):T(k)}function y(k){return k===47?(e.consume(k),T):k===58||k===95||Ji(k)?(e.consume(k),N):bn(k)?(e.consume(k),y):T(k)}function N(k){return k===45||k===46||k===58||k===95||Hi(k)?(e.consume(k),N):j(k)}function j(k){return k===61?(e.consume(k),S):bn(k)?(e.consume(k),j):y(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,A):bn(k)?(e.consume(k),S):I(k)}function A(k){return k===l?(e.consume(k),l=null,R):k===null||Yt(k)?n(k):(e.consume(k),A)}function I(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Zn(k)?j(k):(e.consume(k),I)}function R(k){return k===47||k===62||bn(k)?y(k):n(k)}function T(k){return k===62?(e.consume(k),L):n(k)}function L(k){return k===null||Yt(k)?_(k):bn(k)?(e.consume(k),L):n(k)}function _(k){return k===45&&i===2?(e.consume(k),be):k===60&&i===1?(e.consume(k),X):k===62&&i===4?(e.consume(k),D):k===63&&i===3?(e.consume(k),E):k===93&&i===5?(e.consume(k),K):Yt(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(xce,ie,G)(k)):k===null||Yt(k)?(e.exit("htmlFlowData"),G(k)):(e.consume(k),_)}function G(k){return e.check(vce,ee,ie)(k)}function ee(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),le}function le(k){return k===null||Yt(k)?G(k):(e.enter("htmlFlowData"),_(k))}function be(k){return k===45?(e.consume(k),E):_(k)}function X(k){return k===47?(e.consume(k),s="",q):_(k)}function q(k){if(k===62){const B=s.toLowerCase();return ST.includes(B)?(e.consume(k),D):_(k)}return Ji(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),q):_(k)}function K(k){return k===93?(e.consume(k),E):_(k)}function E(k){return k===62?(e.consume(k),D):k===45&&i===2?(e.consume(k),E):_(k)}function D(k){return k===null||Yt(k)?(e.exit("htmlFlowData"),ie(k)):(e.consume(k),D)}function ie(k){return e.exit("htmlFlow"),t(k)}}function wce(e,t,n){const r=this;return i;function i(s){return Yt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function kce(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Sh,t,n)}}const Sce={name:"htmlText",tokenize:Nce};function Nce(e,t,n){const r=this;let i,a,s;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),u):E===47?(e.consume(E),j):E===63?(e.consume(E),y):Ji(E)?(e.consume(E),I):n(E)}function u(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),a=0,p):Ji(E)?(e.consume(E),w):n(E)}function d(E){return E===45?(e.consume(E),m):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),h):Yt(E)?(s=f,X(E)):(e.consume(E),f)}function h(E){return E===45?(e.consume(E),m):f(E)}function m(E){return E===62?be(E):E===45?h(E):f(E)}function p(E){const D="CDATA[";return E===D.charCodeAt(a++)?(e.consume(E),a===D.length?x:p):n(E)}function x(E){return E===null?n(E):E===93?(e.consume(E),b):Yt(E)?(s=x,X(E)):(e.consume(E),x)}function b(E){return E===93?(e.consume(E),v):x(E)}function v(E){return E===62?be(E):E===93?(e.consume(E),v):x(E)}function w(E){return E===null||E===62?be(E):Yt(E)?(s=w,X(E)):(e.consume(E),w)}function y(E){return E===null?n(E):E===63?(e.consume(E),N):Yt(E)?(s=y,X(E)):(e.consume(E),y)}function N(E){return E===62?be(E):y(E)}function j(E){return Ji(E)?(e.consume(E),S):n(E)}function S(E){return E===45||Hi(E)?(e.consume(E),S):A(E)}function A(E){return Yt(E)?(s=A,X(E)):bn(E)?(e.consume(E),A):be(E)}function I(E){return E===45||Hi(E)?(e.consume(E),I):E===47||E===62||Zn(E)?R(E):n(E)}function R(E){return E===47?(e.consume(E),be):E===58||E===95||Ji(E)?(e.consume(E),T):Yt(E)?(s=R,X(E)):bn(E)?(e.consume(E),R):be(E)}function T(E){return E===45||E===46||E===58||E===95||Hi(E)?(e.consume(E),T):L(E)}function L(E){return E===61?(e.consume(E),_):Yt(E)?(s=L,X(E)):bn(E)?(e.consume(E),L):R(E)}function _(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,G):Yt(E)?(s=_,X(E)):bn(E)?(e.consume(E),_):(e.consume(E),ee)}function G(E){return E===i?(e.consume(E),i=void 0,le):E===null?n(E):Yt(E)?(s=G,X(E)):(e.consume(E),G)}function ee(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Zn(E)?R(E):(e.consume(E),ee)}function le(E){return E===47||E===62||Zn(E)?R(E):n(E)}function be(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function X(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),q}function q(E){return bn(E)?Tn(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):K(E)}function K(E){return e.enter("htmlTextData"),s(E)}}const KN={name:"labelEnd",resolveAll:Pce,resolveTo:Dce,tokenize:Tce},Cce={tokenize:Mce},jce={tokenize:Ece},Ace={tokenize:Oce};function Pce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&La(e,0,e.length,n),e}function Dce(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Za(o,e.slice(a+1,a+r+3)),o=Za(o,[["enter",d,t]]),o=Za(o,fv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Za(o,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),o=Za(o,e.slice(s+1)),o=Za(o,[["exit",l,t]]),La(e,a,e.length,o),e}function Tce(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(js(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(Cce,d,s?d:f)(h):h===91?e.attempt(jce,d,s?u:f)(h):s?d(h):f(h)}function u(h){return e.attempt(Ace,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function Mce(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Zn(f)?Kf(e,a)(f):a(f)}function a(f){return f===41?d(f):J$(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Zn(f)?Kf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?tF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Zn(f)?Kf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Ece(e,t,n){const r=this;return i;function i(o){return eF.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(js(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Oce(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Ice={name:"labelStartImage",resolveAll:KN.resolveAll,tokenize:_ce};function _ce(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Lce={name:"labelStartLink",resolveAll:KN.resolveAll,tokenize:$ce};function $ce(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ib={name:"lineEnding",tokenize:Fce};function Fce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Tn(e,t,"linePrefix")}}const ag={name:"thematicBreak",tokenize:Rce};function Rce(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Yt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),bn(u)?Tn(e,o,"whitespace")(u):o(u))}}const la={continuation:{tokenize:Wce},exit:Hce,name:"list",tokenize:Uce},Bce={partial:!0,tokenize:qce},zce={partial:!0,tokenize:Vce};function Uce(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:o1(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ag,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return o1(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Sh,r.interrupt?n:d,e.attempt(Bce,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return bn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Wce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Sh,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!bn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(zce,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tn(e,e.attempt(la,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Vce(e,t,n){const r=this;return Tn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Hce(e){e.exit(this.containerState.type)}function qce(e,t,n){const r=this;return Tn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!bn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const NT={name:"setextUnderline",resolveTo:Kce,tokenize:Gce};function Kce(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Gce(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),bn(u)?Tn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Yt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Yce={tokenize:Xce};function Xce(e){const t=this,n=e.attempt(Sh,r,e.attempt(this.parser.constructs.flowInitial,i,Tn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(tce,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Qce={resolveAll:rF()},Zce=nF("string"),Jce=nF("text");function nF(e){return{resolveAll:rF(e==="text"?eue:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function rF(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function eue(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const tue={42:la,43:la,45:la,48:la,49:la,50:la,51:la,52:la,53:la,54:la,55:la,56:la,57:la,62:Y$},nue={91:sce},rue={[-2]:Ob,[-1]:Ob,32:Ob},iue={35:fce,42:ag,45:[NT,ag],60:gce,61:NT,95:ag,96:kT,126:kT},aue={38:Q$,92:X$},sue={[-5]:Ib,[-4]:Ib,[-3]:Ib,33:Ice,38:Q$,42:l1,60:[Lle,Sce],91:Lce,92:[uce,X$],93:KN,95:l1,96:Yle},oue={null:[l1,Qce]},lue={null:[42,95]},cue={null:[]},uue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:lue,contentInitial:nue,disable:cue,document:tue,flow:iue,flowInitial:rue,insideSpan:oue,string:aue,text:sue},Symbol.toStringTag,{value:"Module"}));function due(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(j),check:A(S),consume:w,enter:y,exit:N,interrupt:A(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(L){return s=Za(s,L),b(),s[s.length-1]!==null?[]:(I(t,0),u.events=fv(a,u.events,u),u.events)}function h(L,_){return mue(m(L),_)}function m(L){return fue(s,L)}function p(){const{_bufferIndex:L,_index:_,line:G,column:ee,offset:le}=r;return{_bufferIndex:L,_index:_,line:G,column:ee,offset:le}}function x(L){i[L.line]=L.column,T()}function b(){let L;for(;r._index<s.length;){const _=s[r._index];if(typeof _=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<_.length;)v(_.charCodeAt(r._bufferIndex));else v(_)}}function v(L){d=d(L)}function w(L){Yt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,T()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function y(L,_){const G=_||{};return G.type=L,G.start=p(),u.events.push(["enter",G,u]),o.push(G),G}function N(L){const _=o.pop();return _.end=p(),u.events.push(["exit",_,u]),_}function j(L,_){I(L,_.from)}function S(L,_){_.restore()}function A(L,_){return G;function G(ee,le,be){let X,q,K,E;return Array.isArray(ee)?ie(ee):"tokenize"in ee?ie([ee]):D(ee);function D(ne){return re;function re(se){const z=se!==null&&ne[se],W=se!==null&&ne.null,H=[...Array.isArray(z)?z:z?[z]:[],...Array.isArray(W)?W:W?[W]:[]];return ie(H)(se)}}function ie(ne){return X=ne,q=0,ne.length===0?be:k(ne[q])}function k(ne){return re;function re(se){return E=R(),K=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?V():ne.tokenize.call(_?Object.assign(Object.create(u),_):u,l,B,V)(se)}}function B(ne){return L(K,E),le}function V(ne){return E.restore(),++q<X.length?k(X[q]):be}}}function I(L,_){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&La(u.events,_,u.events.length-_,L.resolve(u.events.slice(_),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function R(){const L=p(),_=u.previous,G=u.currentConstruct,ee=u.events.length,le=Array.from(o);return{from:ee,restore:be};function be(){r=L,u.previous=_,u.currentConstruct=G,u.events.length=ee,o=le,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function fue(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function mue(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function hue(e){const r={constructs:K$([uue,...(e||{}).extensions||[]]),content:i(Dle),defined:[],document:i(Mle),flow:i(Yce),lazy:{},string:i(Zce),text:i(Jce)};return r;function i(a){return s;function s(o){return due(r,a,o)}}}function pue(e){for(;!Z$(e););return e}const CT=/[\0\t\n\r]/g;function gue(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(CT.lastIndex=f,u=CT.exec(a),h=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(h),!u){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const xue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vue(e){return e.replace(xue,bue)}function bue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return G$(n.slice(a?2:1),a?16:10)}return qN(n)||e}const iF={}.hasOwnProperty;function yue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),wue(n)(pue(hue(n).document().write(gue()(e,t,!0))))}function wue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ye),autolinkProtocol:R,autolinkEmail:R,atxHeading:a(Z),blockQuote:a(W),characterEscape:R,characterReference:R,codeFenced:a(H),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(H,s),codeText:a(te,s),codeTextData:R,data:R,codeFlowValue:R,definition:a(U),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ue),hardBreakEscape:a(ae),hardBreakTrailing:a(ae),htmlFlow:a(Ke,s),htmlFlowData:R,htmlText:a(Ke,s),htmlTextData:R,image:a(Ye),label:s,link:a(ye),listItem:a(Ee),listItemValue:h,listOrdered:a(F,f),listUnordered:a(F),paragraph:a(Le),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Z),strong:a(kt),thematicBreak:a(mn)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:z,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:ne,characterReference:re,codeFenced:l(b),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(v),codeText:l(le),codeTextData:T,data:T,definition:l(),definitionDestinationString:N,definitionLabelString:w,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(_),hardBreakTrailing:l(_),htmlFlow:l(G),htmlFlowData:T,htmlText:l(ee),htmlTextData:T,image:l(X),label:K,labelText:q,lineEnding:L,link:l(be),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:E,resourceTitleString:D,resource:ie,setextHeading:l(I),setextHeadingLineSequence:A,setextHeadingText:S,strong:l(),thematicBreak:l()}};aF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Pe){let it={type:"root",children:[]};const Ft={stack:[it],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:d,data:n},on=[];let en=-1;for(;++en<Pe.length;)if(Pe[en][1].type==="listOrdered"||Pe[en][1].type==="listUnordered")if(Pe[en][0]==="enter")on.push(en);else{const Mr=on.pop();en=i(Pe,Mr,en)}for(en=-1;++en<Pe.length;){const Mr=t[Pe[en][0]];iF.call(Mr,Pe[en][1].type)&&Mr[Pe[en][1].type].call(Object.assign({sliceSerialize:Pe[en][2].sliceSerialize},Ft),Pe[en][1])}if(Ft.tokenStack.length>0){const Mr=Ft.tokenStack[Ft.tokenStack.length-1];(Mr[1]||jT).call(Ft,void 0,Mr[0])}for(it.position={start:wl(Pe.length>0?Pe[0][1].start:{line:1,column:1,offset:0}),end:wl(Pe.length>0?Pe[Pe.length-2][1].end:{line:1,column:1,offset:0})},en=-1;++en<t.transforms.length;)it=t.transforms[en](it)||it;return it}function i(Pe,it,Ft){let on=it-1,en=-1,Mr=!1,zn,un,ds,hn;for(;++on<=Ft;){const Nn=Pe[on];switch(Nn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nn[0]==="enter"?en++:en--,hn=void 0;break}case"lineEndingBlank":{Nn[0]==="enter"&&(zn&&!hn&&!en&&!ds&&(ds=on),hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:hn=void 0}if(!en&&Nn[0]==="enter"&&Nn[1].type==="listItemPrefix"||en===-1&&Nn[0]==="exit"&&(Nn[1].type==="listUnordered"||Nn[1].type==="listOrdered")){if(zn){let jn=on;for(un=void 0;jn--;){const _i=Pe[jn];if(_i[1].type==="lineEnding"||_i[1].type==="lineEndingBlank"){if(_i[0]==="exit")continue;un&&(Pe[un][1].type="lineEndingBlank",Mr=!0),_i[1].type="lineEnding",un=jn}else if(!(_i[1].type==="linePrefix"||_i[1].type==="blockQuotePrefix"||_i[1].type==="blockQuotePrefixWhitespace"||_i[1].type==="blockQuoteMarker"||_i[1].type==="listItemIndent"))break}ds&&(!un||ds<un)&&(zn._spread=!0),zn.end=Object.assign({},un?Pe[un][1].start:Nn[1].end),Pe.splice(un||on,0,["exit",zn,Nn[2]]),on++,Ft++}if(Nn[1].type==="listItemPrefix"){const jn={type:"listItem",_spread:!1,start:Object.assign({},Nn[1].start),end:void 0};zn=jn,Pe.splice(on,0,["enter",jn,Nn[2]]),on++,Ft++,ds=void 0,hn=!0}}}return Pe[it][1]._spread=Mr,Ft}function a(Pe,it){return Ft;function Ft(on){o.call(this,Pe(on),on),it&&it.call(this,on)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Pe,it,Ft){this.stack[this.stack.length-1].children.push(Pe),this.stack.push(Pe),this.tokenStack.push([it,Ft||void 0]),Pe.position={start:wl(it.start),end:void 0}}function l(Pe){return it;function it(Ft){Pe&&Pe.call(this,Ft),u.call(this,Ft)}}function u(Pe,it){const Ft=this.stack.pop(),on=this.tokenStack.pop();if(on)on[0].type!==Pe.type&&(it?it.call(this,Pe,on[0]):(on[1]||jT).call(this,Pe,on[0]));else throw new Error("Cannot close `"+Pe.type+"` ("+qf({start:Pe.start,end:Pe.end})+"): its not open");Ft.position.end=wl(Pe.end)}function d(){return HN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Pe){if(this.data.expectingFirstListItemValue){const it=this.stack[this.stack.length-2];it.start=Number.parseInt(this.sliceSerialize(Pe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.lang=Pe}function p(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.meta=Pe}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.value=Pe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.value=Pe.replace(/(\r?\n|\r)$/g,"")}function w(Pe){const it=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=it,Ft.identifier=js(this.sliceSerialize(Pe)).toLowerCase()}function y(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.title=Pe}function N(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.url=Pe}function j(Pe){const it=this.stack[this.stack.length-1];if(!it.depth){const Ft=this.sliceSerialize(Pe).length;it.depth=Ft}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function A(Pe){const it=this.stack[this.stack.length-1];it.depth=this.sliceSerialize(Pe).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function R(Pe){const Ft=this.stack[this.stack.length-1].children;let on=Ft[Ft.length-1];(!on||on.type!=="text")&&(on=Ht(),on.position={start:wl(Pe.start),end:void 0},Ft.push(on)),this.stack.push(on)}function T(Pe){const it=this.stack.pop();it.value+=this.sliceSerialize(Pe),it.position.end=wl(Pe.end)}function L(Pe){const it=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=it.children[it.children.length-1];Ft.position.end=wl(Pe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(it.type)&&(R.call(this,Pe),T.call(this,Pe))}function _(){this.data.atHardBreak=!0}function G(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.value=Pe}function ee(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.value=Pe}function le(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.value=Pe}function be(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const it=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=it,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function X(){const Pe=this.stack[this.stack.length-1];if(this.data.inReference){const it=this.data.referenceType||"shortcut";Pe.type+="Reference",Pe.referenceType=it,delete Pe.url,delete Pe.title}else delete Pe.identifier,delete Pe.label;this.data.referenceType=void 0}function q(Pe){const it=this.sliceSerialize(Pe),Ft=this.stack[this.stack.length-2];Ft.label=vue(it),Ft.identifier=js(it).toLowerCase()}function K(){const Pe=this.stack[this.stack.length-1],it=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const on=Pe.children;Ft.children=on}else Ft.alt=it}function E(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.url=Pe}function D(){const Pe=this.resume(),it=this.stack[this.stack.length-1];it.title=Pe}function ie(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function B(Pe){const it=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=it,Ft.identifier=js(this.sliceSerialize(Pe)).toLowerCase(),this.data.referenceType="full"}function V(Pe){this.data.characterReferenceType=Pe.type}function ne(Pe){const it=this.sliceSerialize(Pe),Ft=this.data.characterReferenceType;let on;Ft?(on=G$(it,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):on=qN(it);const en=this.stack[this.stack.length-1];en.value+=on}function re(Pe){const it=this.stack.pop();it.position.end=wl(Pe.end)}function se(Pe){T.call(this,Pe);const it=this.stack[this.stack.length-1];it.url=this.sliceSerialize(Pe)}function z(Pe){T.call(this,Pe);const it=this.stack[this.stack.length-1];it.url="mailto:"+this.sliceSerialize(Pe)}function W(){return{type:"blockquote",children:[]}}function H(){return{type:"code",lang:null,meta:null,value:""}}function te(){return{type:"inlineCode",value:""}}function U(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function Z(){return{type:"heading",depth:0,children:[]}}function ae(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function ye(){return{type:"link",title:null,url:"",children:[]}}function F(Pe){return{type:"list",ordered:Pe.type==="listOrdered",start:null,spread:Pe._spread,children:[]}}function Ee(Pe){return{type:"listItem",spread:Pe._spread,checked:null,children:[]}}function Le(){return{type:"paragraph",children:[]}}function kt(){return{type:"strong",children:[]}}function Ht(){return{type:"text",value:""}}function mn(){return{type:"thematicBreak"}}}function wl(e){return{line:e.line,column:e.column,offset:e.offset}}function aF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?aF(e,r):kue(e,r)}}function kue(e,t){let n;for(n in t)if(iF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function jT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qf({start:t.start,end:t.end})+") is still open")}function Sue(e){const t=this;t.parser=n;function n(r){return yue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Nue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Cue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function jue(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Aue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Pue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Due(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Kd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Tue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mue(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function sF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Eue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return sF(e,t);const i={src:Kd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Oue(e,t){const n={src:Kd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Iue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function _ue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return sF(e,t);const i={href:Kd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Lue(e,t){const n={href:Kd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $ue(e,t,n){const r=e.all(t),i=n?Fue(n):oF(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function Fue(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=oF(n[r])}return t}function oF(e){const t=e.spread;return t??e.children.length>1}function Rue(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Bue(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zue(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Uue(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Wue(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=zN(t.children[1]),l=B$(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Vue(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Hue(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const AT=9,PT=32;function que(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(DT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(DT(t.slice(i),i>0,!1)),a.join("")}function DT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===AT||a===PT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===AT||a===PT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Kue(e,t){const n={type:"text",value:que(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Gue(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Yue={blockquote:Nue,break:Cue,code:jue,delete:Aue,emphasis:Pue,footnoteReference:Due,heading:Tue,html:Mue,imageReference:Eue,image:Oue,inlineCode:Iue,linkReference:_ue,link:Lue,listItem:$ue,list:Rue,paragraph:Bue,root:zue,strong:Uue,table:Wue,tableCell:Hue,tableRow:Vue,text:Kue,thematicBreak:Gue,toml:Ep,yaml:Ep,definition:Ep,footnoteDefinition:Ep};function Ep(){}const lF=-1,mv=0,Gf=1,_0=2,GN=3,YN=4,XN=5,QN=6,cF=7,uF=8,TT=typeof self=="object"?self:globalThis,Xue=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case mv:case lF:return n(s,i);case Gf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case _0:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case GN:return n(new Date(s),i);case YN:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case XN:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case QN:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case cF:{const{name:o,message:l}=s;return n(new TT[o](l),i)}case uF:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new TT[a](s),i)};return r},MT=e=>Xue(new Map,e)(0),Ou="",{toString:Que}={},{keys:Zue}=Object,yf=e=>{const t=typeof e;if(t!=="object"||!e)return[mv,t];const n=Que.call(e).slice(8,-1);switch(n){case"Array":return[Gf,Ou];case"Object":return[_0,Ou];case"Date":return[GN,Ou];case"RegExp":return[YN,Ou];case"Map":return[XN,Ou];case"Set":return[QN,Ou];case"DataView":return[Gf,n]}return n.includes("Array")?[Gf,n]:n.includes("Error")?[cF,n]:[_0,n]},Op=([e,t])=>e===mv&&(t==="function"||t==="symbol"),Jue=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=yf(s);switch(o){case mv:{let d=s;switch(l){case"bigint":o=uF,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([lF],s)}return i([o,d],s)}case Gf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case _0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Zue(s))(e||!Op(yf(s[h])))&&d.push([a(h),a(s[h])]);return f}case GN:return i([o,s.toISOString()],s);case YN:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case XN:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Op(yf(h))||Op(yf(m))))&&d.push([a(h),a(m)]);return f}case QN:{const d=[],f=i([o,d],s);for(const h of s)(e||!Op(yf(h)))&&d.push(a(h));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},ET=(e,{json:t,lossy:n}={})=>{const r=[];return Jue(!(t||n),!!t,new Map,r)(e),r},L0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?MT(ET(e,t)):structuredClone(e):(e,t)=>MT(ET(e,t));function ede(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function tde(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function nde(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ede,r=e.options.footnoteBackLabel||tde,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Kd(f.toLowerCase());let m=0;const p=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++m<=x;){p.length>0&&p.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,m);typeof w=="string"&&(w={type:"text",value:w}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else d.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...L0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const hv=function(e){if(e==null)return sde;if(typeof e=="function")return pv(e);if(typeof e=="object")return Array.isArray(e)?rde(e):ide(e);if(typeof e=="string")return ade(e);throw new Error("Expected function, string, or object as test")};function rde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hv(e[n]);return pv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function ide(e){const t=e;return pv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function ade(e){return pv(t);function t(n){return n&&n.type===e}}function pv(e){return t;function t(n,r,i){return!!(ode(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sde(){return!0}function ode(e){return e!==null&&typeof e=="object"&&"type"in e}const dF=[],lde=!0,c1=!1,cde="skip";function fF(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=hv(i),s=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=dF,p,x,b;if((!t||a(l,u,d[d.length-1]||void 0))&&(m=ude(n(l,d)),m[0]===c1))return m;if("children"in l&&l.children){const v=l;if(v.children&&m[0]!==cde)for(x=(r?v.children.length:-1)+s,b=d.concat(v);x>-1&&x<v.children.length;){const w=v.children[x];if(p=o(w,x,b)(),p[0]===c1)return p;x=typeof p[1]=="number"?p[1]:x+s}}return m}}}function ude(e){return Array.isArray(e)?e:typeof e=="number"?[lde,e]:e==null?dF:[e]}function ZN(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),fF(e,a,o,i);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const u1={}.hasOwnProperty,dde={};function fde(e,t){const n=t||dde,r=new Map,i=new Map,a=new Map,s={...Yue,...n.handlers},o={all:u,applyData:hde,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:mde,wrap:gde};return ZN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(u1.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:x,...b}=d,v=L0(b);return v.children=o.all(d),v}return L0(d)}return(o.options.unknownHandler||pde)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=OT(p.value)),!Array.isArray(p)&&p.type==="element")){const x=p.children[0];x&&x.type==="text"&&(x.value=OT(x.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function mde(e,t){e.position&&(t.position=tle(e))}function hde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,L0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function pde(e,t){const n=t.data||{},r="value"in t&&!(u1.call(n,"hProperties")||u1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function OT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function IT(e,t){const n=fde(e,t),r=n.one(e,void 0),i=nde(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function xde(e,t){return e&&"run"in e?async function(n,r){const i=IT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return IT(n,{file:r,...e||t})}}function _T(e){if(e)throw e}var sg=Object.prototype.hasOwnProperty,mF=Object.prototype.toString,LT=Object.defineProperty,$T=Object.getOwnPropertyDescriptor,FT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):mF.call(t)==="[object Array]"},RT=function(t){if(!t||mF.call(t)!=="[object Object]")return!1;var n=sg.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&sg.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||sg.call(t,i)},BT=function(t,n){LT&&n.name==="__proto__"?LT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},zT=function(t,n){if(n==="__proto__")if(sg.call(t,n)){if($T)return $T(t,n).value}else return;return t[n]},vde=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=zT(o,n),i=zT(t,n),o!==i&&(d&&i&&(RT(i)||(a=FT(i)))?(a?(a=!1,s=r&&FT(r)?r:[]):s=r&&RT(r)?r:{},BT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&BT(o,{name:n,newValue:i}));return o};const _b=_s(vde);function d1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bde(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?yde(d,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function yde(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Xs={basename:wde,dirname:kde,extname:Sde,join:Nde,sep:"/"};function wde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function kde(e){if(Nh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Sde(e){Nh(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Nde(...e){let t=-1,n;for(;++t<e.length;)Nh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Cde(n)}function Cde(e){Nh(e);const t=e.codePointAt(0)===47;let n=jde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function jde(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Nh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ade={cwd:Pde};function Pde(){return"/"}function f1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Dde(e){if(typeof e=="string")e=new URL(e);else if(!f1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Tde(e)}function Tde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Lb=["history","path","basename","stem","extname","dirname"];class hF{constructor(t){let n;t?f1(t)?n={path:t}:typeof t=="string"||Mde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ade.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Lb.length;){const a=Lb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Lb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Xs.basename(this.path):void 0}set basename(t){Fb(t,"basename"),$b(t,"basename"),this.path=Xs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Xs.dirname(this.path):void 0}set dirname(t){UT(this.basename,"dirname"),this.path=Xs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Xs.extname(this.path):void 0}set extname(t){if($b(t,"extname"),UT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){f1(t)&&(t=Dde(t)),Fb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Xs.basename(this.path,this.extname):void 0}set stem(t){Fb(t,"stem"),$b(t,"stem"),this.path=Xs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Gi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function $b(e,t){if(e&&e.includes(Xs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Xs.sep+"`")}function Fb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function UT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Mde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ede=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Ode={}.hasOwnProperty;class JN extends Ede{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bde()}copy(){const t=new JN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_b(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zb("data",this.frozen),this.namespace[t]=n,this):Ode.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ip(t),r=this.parser||this.Parser;return Rb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Rb("process",this.parser||this.Parser),Bb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Ip(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return u(d);const m=f,p=r.stringify(m,h);Lde(p)?h.value=p:h.result=p,u(d,h)});function u(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Rb("processSync",this.parser||this.Parser),Bb("processSync",this.compiler||this.Compiler),this.process(t,i),VT("processSync","process",n),r;function i(a,s){n=!0,_T(a),r=s}}run(t,n,r){WT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Ip(n);i.run(t,l,u);function u(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),VT("runSync","run",r),i;function a(s,o){_T(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Ip(n),i=this.compiler||this.Compiler;return Bb("stringify",i),WT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=_b(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const x=r[h][1];d1(x)&&d1(m)&&(m=_b(!0,x,m)),r[h]=[u,m,...p]}}}}const Ide=new JN().freeze();function Rb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function WT(e){if(!d1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function VT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ip(e){return _de(e)?e:new hF(e)}function _de(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Lde(e){return typeof e=="string"||$de(e)}function $de(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Fde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HT=[],qT={allowDangerousHtml:!0},Rde=/^(https?|ircs?|mailto|xmpp)$/i,Bde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zde(e){const t=Ude(e),n=Wde(e);return Vde(t.runSync(t.parse(n),n),e)}function Ude(e){const t=e.rehypePlugins||HT,n=e.remarkPlugins||HT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...qT}:qT;return Ide().use(Sue).use(n).use(xde,r).use(t)}function Wde(e){const t=e.children||"",n=new hF;return typeof t=="string"&&(n.value=t),n}function Vde(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Hde;for(const d of Bde)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Fde+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),ZN(e,u),sle(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Eb)if(Object.hasOwn(Eb,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],x=Eb[m];(x===null||x.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Hde(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Rde.test(e.slice(0,t))?e:""}function KT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function qde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Kde(e,t,n){const i=hv((n||{}).ignore||[]),a=Gde(t);let s=-1;for(;++s<a.length;)fF(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(u,d)}function l(u,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const b=f.children.indexOf(u);let v=!1,w=[];h.lastIndex=0;let y=h.exec(u.value);for(;y;){const N=y.index,j={index:y.index,input:y.input,stack:[...d,u]};let S=m(...y,j);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=N+1:(p!==N&&w.push({type:"text",value:u.value.slice(p,N)}),Array.isArray(S)?w.push(...S):S&&w.push(S),p=N+y[0].length,v=!0),!h.global)break;y=h.exec(u.value)}return v?(p<u.value.length&&w.push({type:"text",value:u.value.slice(p)}),f.children.splice(b,1,...w)):w=[u],b+w.length}}function Gde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Yde(i[0]),Xde(i[1])])}return t}function Yde(e){return typeof e=="string"?new RegExp(qde(e),"g"):e}function Xde(e){return typeof e=="function"?e:function(){return e}}const Ub="phrasing",Wb=["autolink","link","image","label"];function Qde(){return{transforms:[ife],enter:{literalAutolink:Jde,literalAutolinkEmail:Vb,literalAutolinkHttp:Vb,literalAutolinkWww:Vb},exit:{literalAutolink:rfe,literalAutolinkEmail:nfe,literalAutolinkHttp:efe,literalAutolinkWww:tfe}}}function Zde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ub,notInConstruct:Wb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ub,notInConstruct:Wb},{character:":",before:"[ps]",after:"\\/",inConstruct:Ub,notInConstruct:Wb}]}}function Jde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Vb(e){this.config.enter.autolinkProtocol.call(this,e)}function efe(e){this.config.exit.autolinkProtocol.call(this,e)}function tfe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function nfe(e){this.config.exit.autolinkEmail.call(this,e)}function rfe(e){this.exit(e)}function ife(e){Kde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,afe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),sfe]],{ignore:["link","linkReference"]})}function afe(e,t,n,r,i){let a="";if(!pF(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!ofe(n)))return!1;const s=lfe(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function sfe(e,t,n,r){return!pF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function ofe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function lfe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=KT(e,"(");let a=KT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function pF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||su(n)||dv(n))&&(!t||n!==47)}gF.peek=xfe;function cfe(){this.buffer()}function ufe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function dfe(){this.buffer()}function ffe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function mfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=js(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hfe(e){this.exit(e)}function pfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=js(this.sliceSerialize(e)).toLowerCase(),n.label=t}function gfe(e){this.exit(e)}function xfe(){return"["}function gF(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function vfe(){return{enter:{gfmFootnoteCallString:cfe,gfmFootnoteCall:ufe,gfmFootnoteDefinitionLabelString:dfe,gfmFootnoteDefinition:ffe},exit:{gfmFootnoteCallString:mfe,gfmFootnoteCall:hfe,gfmFootnoteDefinitionLabelString:pfe,gfmFootnoteDefinition:gfe}}}function bfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:gF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?xF:yfe))),u(),l}}function yfe(e,t,n){return t===0?e:xF(e,t,n)}function xF(e,t,n){return(n?"":"    ")+e}const wfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];vF.peek=jfe;function kfe(){return{canContainEols:["delete"],enter:{strikethrough:Nfe},exit:{strikethrough:Cfe}}}function Sfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:wfe}],handlers:{delete:vF}}}function Nfe(e){this.enter({type:"delete",children:[]},e)}function Cfe(e){this.exit(e)}function vF(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function jfe(){return"~"}function Afe(e){return e.length}function Pfe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Afe,a=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const x=[],b=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const w=Dfe(e[d][v]);if(n.alignDelimiters!==!1){const y=i(w);b[v]=y,(l[v]===void 0||y>l[v])&&(l[v]=y)}x.push(w)}s[d]=x,o[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=GT(r[f]);else{const x=GT(r);for(;++f<u;)a[f]=x}f=-1;const h=[],m=[];for(;++f<u;){const x=a[f];let b="",v="";x===99?(b=":",v=":"):x===108?b=":":x===114&&(v=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-v.length);const y=b+"-".repeat(w)+v;n.alignDelimiters!==!1&&(w=b.length+w+v.length,w>l[f]&&(l[f]=w),m[f]=w),h[f]=y}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const x=s[d],b=o[d];f=-1;const v=[];for(;++f<u;){const w=x[f]||"";let y="",N="";if(n.alignDelimiters!==!1){const j=l[f]-(b[f]||0),S=a[f];S===114?y=" ".repeat(j):S===99?j%2?(y=" ".repeat(j/2+.5),N=" ".repeat(j/2-.5)):(y=" ".repeat(j/2),N=y):N=" ".repeat(j)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(y),v.push(w),n.alignDelimiters!==!1&&v.push(N),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function Dfe(e){return e==null?"":String(e)}function GT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Tfe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),Mfe);return i(),s}function Mfe(e,t,n){return">"+(n?"":" ")+e}function Efe(e,t){return YT(e,t.inConstruct,!0)&&!YT(e,t.notInConstruct,!1)}function YT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function XT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Efe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Ofe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Ife(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function _fe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Lfe(e,t,n,r){const i=_fe(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Ife(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,$fe);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Ofe(a,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),u(),d}function $fe(e,t,n){return(n?"":"    ")+e}function e2(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ffe(e,t,n,r){const i=e2(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function Rfe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Lm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function $0(e,t,n){const r=Td(e),i=Td(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}bF.peek=Bfe;function bF(e,t,n,r){const i=Rfe(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=$0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Lm(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=$0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Lm(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Bfe(e,t,n){return n.options.emphasis||"*"}function zfe(e,t){let n=!1;return ZN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,c1}),!!((!e.depth||e.depth<3)&&HN(e)&&(t.options.setext||n))}function Ufe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(zfe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Lm(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}yF.peek=Wfe;function yF(e){return e.value||""}function Wfe(){return"<"}wF.peek=Vfe;function wF(e,t,n,r){const i=e2(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function Vfe(){return"!"}kF.peek=Hfe;function kF(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Hfe(){return"!"}SF.peek=qfe;function SF(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function qfe(){return"`"}function NF(e,t){const n=HN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}CF.peek=Kfe;function CF(e,t,n,r){const i=e2(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(NF(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function Kfe(e,t,n){return NF(e,n)?"<":"["}jF.peek=Gfe;function jF(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Gfe(){return"["}function t2(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Yfe(e){const t=t2(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Xfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function AF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Qfe(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Xfe(n):t2(n);const o=e.ordered?s==="."?")":".":Yfe(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),AF(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function Zfe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Jfe(e,t,n,r){const i=Zfe(n);let a=n.bulletCurrent||t2(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function eme(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const tme=hv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function nme(e,t,n,r){return(e.children.some(function(s){return tme(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function rme(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}PF.peek=ime;function PF(e,t,n,r){const i=rme(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=$0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Lm(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=$0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Lm(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function ime(e,t,n){return n.options.strong||"*"}function ame(e,t,n,r){return n.safe(e.value,r)}function sme(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ome(e,t,n){const r=(AF(n)+(n.options.ruleSpaces?" ":"")).repeat(sme(n));return n.options.ruleSpaces?r.slice(0,-1):r}const DF={blockquote:Tfe,break:XT,code:Lfe,definition:Ffe,emphasis:bF,hardBreak:XT,heading:Ufe,html:yF,image:wF,imageReference:kF,inlineCode:SF,link:CF,linkReference:jF,list:Qfe,listItem:Jfe,paragraph:eme,root:nme,strong:PF,text:ame,thematicBreak:ome};function lme(){return{enter:{table:cme,tableData:QT,tableHeader:QT,tableRow:dme},exit:{codeText:fme,table:ume,tableData:Hb,tableHeader:Hb,tableRow:Hb}}}function cme(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function ume(e){this.exit(e),this.data.inTable=void 0}function dme(e){this.enter({type:"tableRow",children:[]},e)}function Hb(e){this.exit(e)}function QT(e){this.enter({type:"tableCell",children:[]},e)}function fme(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,mme));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function mme(e,t){return t==="|"?t:e}function hme(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,x,b){return u(d(m,x,b),m.align)}function o(m,p,x,b){const v=f(m,x,b),w=u([v]);return w.slice(0,w.indexOf(`
`))}function l(m,p,x,b){const v=x.enter("tableCell"),w=x.enter("phrasing"),y=x.containerPhrasing(m,{...b,before:a,after:a});return w(),v(),y}function u(m,p){return Pfe(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,x){const b=m.children;let v=-1;const w=[],y=p.enter("table");for(;++v<b.length;)w[v]=f(b[v],p,x);return y(),w}function f(m,p,x){const b=m.children;let v=-1;const w=[],y=p.enter("tableRow");for(;++v<b.length;)w[v]=l(b[v],m,p,x);return y(),w}function h(m,p,x){let b=DF.inlineCode(m,p,x);return x.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function pme(){return{exit:{taskListCheckValueChecked:ZT,taskListCheckValueUnchecked:ZT,paragraph:xme}}}function gme(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:vme}}}function ZT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function xme(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function vme(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=DF.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function bme(){return[Qde(),vfe(),kfe(),lme(),pme()]}function yme(e){return{extensions:[Zde(),bfe(e),Sfe(),hme(e),gme()]}}const wme={tokenize:Ame,partial:!0},TF={tokenize:Pme,partial:!0},MF={tokenize:Dme,partial:!0},EF={tokenize:Tme,partial:!0},kme={tokenize:Mme,partial:!0},OF={name:"wwwAutolink",tokenize:Cme,previous:_F},IF={name:"protocolAutolink",tokenize:jme,previous:LF},al={name:"emailAutolink",tokenize:Nme,previous:$F},lo={};function Sme(){return{text:lo}}let vc=48;for(;vc<123;)lo[vc]=al,vc++,vc===58?vc=65:vc===91&&(vc=97);lo[43]=al;lo[45]=al;lo[46]=al;lo[95]=al;lo[72]=[al,IF];lo[104]=[al,IF];lo[87]=[al,OF];lo[119]=[al,OF];function Nme(e,t,n){const r=this;let i,a;return s;function s(f){return!m1(f)||!$F.call(r,r.previous)||n2(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return m1(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(kme,d,u)(f):f===45||f===95||Hi(f)?(a=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Ji(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Cme(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!_F.call(r,r.previous)||n2(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wme,e.attempt(TF,e.attempt(MF,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function jme(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&LF.call(r,r.previous)&&!n2(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ji(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?u:(a=!0,l)):n(f)}function u(f){return f===null||I0(f)||Zn(f)||su(f)||dv(f)?n(f):e.attempt(TF,e.attempt(MF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Ame(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function Pme(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(EF,l,o)(u):u===null||Zn(u)||su(u)||u!==45&&dv(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function Dme(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(EF,t,a)(s):s===null||Zn(s)||su(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Tme(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Zn(o)||su(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Zn(o)||su(o)?t(o):r(o)}function a(o){return Ji(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ji(o)?(e.consume(o),s):n(o)}}function Mme(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Hi(a)?n(a):t(a)}}function _F(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Zn(e)}function LF(e){return!Ji(e)}function $F(e){return!(e===47||m1(e))}function m1(e){return e===43||e===45||e===46||e===95||Hi(e)}function n2(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Eme={tokenize:Bme,partial:!0};function Ome(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:$me,continuation:{tokenize:Fme},exit:Rme}},text:{91:{name:"gfmFootnoteCall",tokenize:Lme},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ime,resolveTo:_me}}}}function Ime(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=js(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function _me(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Lme(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||Zn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(js(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Zn(f)||(s=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function $me(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Zn(p))return n(p);if(p===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return a=js(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Zn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),Tn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Fme(e,t,n){return e.check(Sh,t,e.attempt(Eme,t,n))}function Rme(e){e.exit("gfmFootnoteDefinition")}function Bme(e,t,n){const r=this;return Tn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function zme(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&La(h,h.length,0,fv(m,s.slice(u+1,l),o)),La(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),La(s,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,d=this.events;let f=0;return h;function h(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const x=Td(u);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const b=s.exit("strikethroughSequenceTemporary"),v=Td(p);return b._open=!v||v===2&&!!x,b._close=!x||x===2&&!!v,o(p)}}}class Ume{constructor(){this.map=[]}add(t,n,r){Wme(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Wme(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Vme(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Hme(){return{flow:{null:{name:"table",tokenize:qme,resolveAll:Kme}}}}function qme(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let L=r.events.length-1;for(;L>-1;){const ee=r.events[L][1].type;if(ee==="lineEnding"||ee==="linePrefix")L--;else break}const _=L>-1?r.events[L][1].type:null,G=_==="tableHead"||_==="tableRow"?S:l;return G===S&&r.parser.lazy[r.now().line]?n(T):G(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),u(T)}function u(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Yt(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):bn(T)?Tn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Zn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,bn(T)?Tn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?b(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),x):j(T)}function x(T){return bn(T)?Tn(e,b,"whitespace")(T):b(T)}function b(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),v):T===45?(a+=1,v(T)):T===null||Yt(T)?N(T):j(T)}function v(T){return T===45?(e.enter("tableDelimiterFiller"),w(T)):j(T)}function w(T){return T===45?(e.consume(T),w):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(T))}function y(T){return bn(T)?Tn(e,N,"whitespace")(T):N(T)}function N(T){return T===124?p(T):T===null||Yt(T)?!s||i!==a?j(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):j(T)}function j(T){return n(T)}function S(T){return e.enter("tableRow"),A(T)}function A(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),A):T===null||Yt(T)?(e.exit("tableRow"),t(T)):bn(T)?Tn(e,A,"whitespace")(T):(e.enter("data"),I(T))}function I(T){return T===null||T===124||Zn(T)?(e.exit("data"),A(T)):(e.consume(T),T===92?R:I)}function R(T){return T===92||T===124?(e.consume(T),I):I(T)}}function Kme(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,f;const h=new Ume;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(JT(h,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=_p(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=_p(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=_p(h,t,a,i,n,f)):s[1]!==0&&(f=_p(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&JT(h,t,l,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Vme(t.events,n))}return e}function _p(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Lu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Lu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Lu(t.events,n[2]),d=Lu(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,x=n[3]-n[2]-1;e.add(p,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Lu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function JT(e,t,n,r,i){const a=[],s=Lu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Lu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Gme={name:"tasklistCheck",tokenize:Xme};function Yme(){return{text:{91:Gme}}}function Xme(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Zn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Yt(l)?t(l):bn(l)?e.check({tokenize:Qme},t,n)(l):n(l)}}function Qme(e,t,n){return Tn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Zme(e){return K$([Sme(),Ome(),zme(e),Hme(),Yme()])}const Jme={};function ehe(e){const t=this,n=e||Jme,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Zme(n)),a.push(bme()),s.push(yme(n))}const qb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output/uptime, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n### Boon Uptime (Defense)\n\nThe Boon Uptime section is derived from `players[*].buffUptimes[*].statesPerSource`\nfor boon-classified buffs and reports **stack state over time on the selected\nplayer**, not outgoing generation.\n\nSource/eligibility:\n- include only `players[*].buffUptimes[*]` entries where `buffMap[b{id}]` (or fallback)\n  has `classification === "Boon"` (or empty classification treated as boon-compatible)\n- use `buffMap` metadata for `name`, `icon`, and `stacking`\n\nPer-fight timeline buckets:\n- sample every 5 seconds (`t = 0, 5, 10, ...`) and read current state value from\n  each source timeline in `statesPerSource`\n- sum active source values for that sample into the player bucket\n\nStack semantics (enforced):\n- non-stacking boons: binary only\n  - `bucket = 1` when sampled value is `> 0`\n  - `bucket = 0` otherwise\n  - no fractional values are permitted\n- stacking boons: integer stack counts only\n  - sampled values are rounded to whole stacks\n  - stacks are clamped to a max cap\n\nUptime percentage semantics:\n- uptime% is **presence-based** for all boons:\n  - a 5s bucket counts as uptime when sampled bucket value is `> 0`\n  - otherwise that bucket counts as no uptime\n- this rule applies to both non-stacking and stacking boons (stack amount does\n  not scale uptime%)\n- denominator includes all 5s buckets across all fights for that player/boon\n  (including fights where that player has no states for the boon)\n\nStack caps:\n- `Might`: `25`\n- `Stability`: `25`\n- current implementation applies cap `25` for stacking boons\n\nUI behavior:\n- main chart:\n  - stacking boons: per-fight **average stacks**\n  - non-stacking boons: per-fight **uptime percentage** (active 5s buckets / total 5s buckets)\n- drilldown chart: selected fight 5-second stack buckets\n- for stacking boons, UI may render a reference line at stack cap (`25`)\n- player list and summary card use the same shared uptime% source, so selected\n  player row uptime% equals displayed overall uptime%\n\nAggregation notes:\n- uptime view is account-keyed per player and does not use an aggregated `__all__`\n  synthetic row for timeline values\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`, `src/renderer/stats/sections/BoonUptimeSection.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',FF=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gv=g.createContext({}),r2=g.createContext(null),xv=typeof document<"u",the=xv?g.useLayoutEffect:g.useEffect,RF=g.createContext({strict:!1}),i2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nhe="framerAppearId",BF="data-"+i2(nhe);function rhe(e,t,n,r){const{visualElement:i}=g.useContext(gv),a=g.useContext(RF),s=g.useContext(r2),o=g.useContext(FF).reducedMotion,l=g.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,s)});const d=g.useRef(!!(n[BF]&&!window.HandoffComplete));return the(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Qu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ihe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Qu(n)&&(n.current=r))},[t])}function $m(e){return typeof e=="string"||Array.isArray(e)}function vv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const a2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s2=["initial",...a2];function bv(e){return vv(e.animate)||s2.some(t=>$m(e[t]))}function zF(e){return!!(bv(e)||e.variants)}function ahe(e,t){if(bv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$m(n)?n:void 0,animate:$m(r)?r:void 0}}return e.inherit!==!1?t:{}}function she(e){const{initial:t,animate:n}=ahe(e,g.useContext(gv));return g.useMemo(()=>({initial:t,animate:n}),[eM(t),eM(n)])}function eM(e){return Array.isArray(e)?e.join(" "):e}const tM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fm={};for(const e in tM)Fm[e]={isEnabled:t=>tM[e].some(n=>!!t[n])};function ohe(e){for(const t in e)Fm[t]={...Fm[t],...e[t]}}const UF=g.createContext({}),WF=g.createContext({}),lhe=Symbol.for("motionComponentSymbol");function che({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&ohe(e);function a(o,l){let u;const d={...g.useContext(FF),...o,layoutId:uhe(o)},{isStatic:f}=d,h=she(o),m=r(o,f);if(!f&&xv){h.visualElement=rhe(i,m,d,t);const p=g.useContext(WF),x=g.useContext(RF).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,x,e,p))}return g.createElement(gv.Provider,{value:h},u&&h.visualElement?g.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,o,ihe(m,h.visualElement,l),m,f,h.visualElement))}const s=g.forwardRef(a);return s[lhe]=i,s}function uhe({layoutId:e}){const t=g.useContext(UF).id;return t&&e!==void 0?t+"-"+e:e}function dhe(e){function t(r,i={}){return che(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const fhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o2(e){return typeof e!="string"||e.includes("-")?!1:!!(fhe.indexOf(e)>-1||/[A-Z]/.test(e))}const F0={};function mhe(e){Object.assign(F0,e)}const Ch=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mu=new Set(Ch);function VF(e,{layout:t,layoutId:n}){return mu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!F0[e]||e==="opacity")}const xa=e=>!!(e&&e.getVelocity),hhe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},phe=Ch.length;function ghe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<phe;s++){const o=Ch[s];if(e[o]!==void 0){const l=hhe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const HF=e=>t=>typeof t=="string"&&t.startsWith(e),qF=HF("--"),h1=HF("var(--"),xhe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vhe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zl=(e,t,n)=>Math.min(Math.max(n,e),t),hu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yf={...hu,transform:e=>Zl(0,1,e)},Lp={...hu,default:1},Xf=e=>Math.round(e*1e5)/1e5,yv=/(-)?([\d]*\.?[\d])+/g,KF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bhe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function jh(e){return typeof e=="string"}const Ah=e=>({test:t=>jh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sl=Ah("deg"),ro=Ah("%"),Jt=Ah("px"),yhe=Ah("vh"),whe=Ah("vw"),nM={...ro,parse:e=>ro.parse(e)/100,transform:e=>ro.transform(e*100)},rM={...hu,transform:Math.round},GF={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,size:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scale:Lp,scaleX:Lp,scaleY:Lp,scaleZ:Lp,skew:Sl,skewX:Sl,skewY:Sl,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Yf,originX:nM,originY:nM,originZ:Jt,zIndex:rM,fillOpacity:Yf,strokeOpacity:Yf,numOctaves:rM};function l2(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(qF(f)){a[f]=h;continue}const m=GF[f],p=vhe(h,m);if(mu.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=ghe(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const c2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YF(e,t,n){for(const r in t)!xa(t[r])&&!VF(r,n)&&(e[r]=t[r])}function khe({transformTemplate:e},t,n){return g.useMemo(()=>{const r=c2();return l2(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function She(e,t,n){const r=e.style||{},i={};return YF(i,r,e),Object.assign(i,khe(e,t,n)),e.transformValues?e.transformValues(i):i}function Nhe(e,t,n){const r={},i=She(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Che=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function R0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Che.has(e)}let XF=e=>!R0(e);function jhe(e){e&&(XF=t=>t.startsWith("on")?!R0(t):e(t))}try{jhe(require("@emotion/is-prop-valid").default)}catch{}function Ahe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(XF(i)||n===!0&&R0(i)||!t&&!R0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function iM(e,t,n){return typeof e=="string"?e:Jt.transform(t+n*e)}function Phe(e,t,n){const r=iM(t,e.x,e.width),i=iM(n,e.y,e.height);return`${r} ${i}`}const Dhe={offset:"stroke-dashoffset",array:"stroke-dasharray"},The={offset:"strokeDashoffset",array:"strokeDasharray"};function Mhe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Dhe:The;e[a.offset]=Jt.transform(-r);const s=Jt.transform(t),o=Jt.transform(n);e[a.array]=`${s} ${o}`}function u2(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,f,h){if(l2(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:x}=e;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=Phe(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Mhe(m,s,o,l,!1)}const QF=()=>({...c2(),attrs:{}}),d2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ehe(e,t,n,r){const i=g.useMemo(()=>{const a=QF();return u2(a,t,{enableHardwareAcceleration:!1},d2(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};YF(a,e.style,e),i.style={...a,...i.style}}return i}function Ohe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(o2(n)?Ehe:Nhe)(r,a,s,n),d={...Ahe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=g.useMemo(()=>xa(f)?f.get():f,[f]);return g.createElement(n,{...d,children:h})}}function ZF(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const JF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eR(e,t,n,r){ZF(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(JF.has(i)?i:i2(i),t.attrs[i])}function f2(e,t){const{style:n}=e,r={};for(const i in n)(xa(n[i])||t.style&&xa(t.style[i])||VF(i,e))&&(r[i]=n[i]);return r}function tR(e,t){const n=f2(e,t);for(const r in e)if(xa(e[r])||xa(t[r])){const i=Ch.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function m2(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Ihe(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const B0=e=>Array.isArray(e),_he=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Lhe=e=>B0(e)?e[e.length-1]||0:e;function og(e){const t=xa(e)?e.get():e;return _he(t)?t.toValue():t}function $he({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Fhe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const nR=e=>(t,n)=>{const r=g.useContext(gv),i=g.useContext(r2),a=()=>$he(e,t,r,i);return n?a():Ihe(a)};function Fhe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=og(a[h]);let{initial:s,animate:o}=e;const l=bv(e),u=zF(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!vv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=m2(e,m);if(!p)return;const{transitionEnd:x,transition:b,...v}=p;for(const w in v){let y=v[w];if(Array.isArray(y)){const N=d?y.length-1:0;y=y[N]}y!==null&&(i[w]=y)}for(const w in x)i[w]=x[w]}),i}const zr=e=>e;class aM{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Rhe(e){let t=new aM,n=new aM,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const $p=["prepare","read","update","preRender","render","postRender"],Bhe=40;function zhe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=$p.reduce((f,h)=>(f[h]=Rhe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Bhe),1),i.timestamp=f,i.isProcessing=!0,$p.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:$p.reduce((f,h)=>{const m=a[h];return f[h]=(p,x=!1,b=!1)=>(n||l(),m.schedule(p,x,b)),f},{}),cancel:f=>$p.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:pr,cancel:Zo,state:Ri,steps:Kb}=zhe(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),Uhe={useVisualState:nR({scrapeMotionValuesFromProps:tR,createRenderState:QF,onMount:(e,t,{renderState:n,latestValues:r})=>{pr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),pr.render(()=>{u2(n,r,{enableHardwareAcceleration:!1},d2(t.tagName),e.transformTemplate),eR(t,n)})}})},Whe={useVisualState:nR({scrapeMotionValuesFromProps:f2,createRenderState:c2})};function Vhe(e,{forwardMotionProps:t=!1},n,r){return{...o2(e)?Uhe:Whe,preloadedFeatures:n,useRender:Ohe(t),createVisualElement:r,Component:e}}function Eo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const rR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function wv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Hhe=e=>t=>rR(t)&&e(t,wv(t));function $o(e,t,n,r){return Eo(e,t,Hhe(n),r)}const qhe=(e,t)=>n=>t(e(n)),ql=(...e)=>e.reduce(qhe);function iR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const sM=iR("dragHorizontal"),oM=iR("dragVertical");function aR(e){let t=!1;if(e==="y")t=oM();else if(e==="x")t=sM();else{const n=sM(),r=oM();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function sR(){const e=aR(!0);return e?(e(),!1):!0}class lc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function lM(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||sR())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&pr.update(()=>o[r](a,s))};return $o(e.current,n,i,{passive:!e.getProps()[r]})}class Khe extends lc{mount(){this.unmount=ql(lM(this.node,!0),lM(this.node,!1))}unmount(){}}class Ghe extends lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(Eo(this.node.current,"focus",()=>this.onFocus()),Eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const oR=(e,t)=>t?e===t?!0:oR(e,t.parentElement):!1;function Gb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,wv(n))}class Yhe extends lc{constructor(){super(...arguments),this.removeStartListeners=zr,this.removeEndListeners=zr,this.removeAccessibleListeners=zr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=$o(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();pr.update(()=>{!f&&!oR(this.node.current,o.target)?d&&d(o,l):u&&u(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=$o(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ql(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Gb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&pr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Eo(this.node.current,"keyup",s),Gb("down",(o,l)=>{this.startPress(o,l)})},n=Eo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gb("cancel",(a,s)=>this.cancelPress(a,s))},i=Eo(this.node.current,"blur",r);this.removeAccessibleListeners=ql(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&pr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!sR()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&pr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=$o(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Eo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ql(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const p1=new WeakMap,Yb=new WeakMap,Xhe=e=>{const t=p1.get(e.target);t&&t(e)},Qhe=e=>{e.forEach(Xhe)};function Zhe({root:e,...t}){const n=e||document;Yb.has(n)||Yb.set(n,{});const r=Yb.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Qhe,{root:e,...t})),r[i]}function Jhe(e,t,n){const r=Zhe(t);return p1.set(e,n),r.observe(e),()=>{p1.delete(e),r.unobserve(e)}}const epe={some:0,all:1};class tpe extends lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:epe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return Jhe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(npe(t,n))&&this.startObserver()}unmount(){}}function npe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const rpe={inView:{Feature:tpe},tap:{Feature:Yhe},focus:{Feature:Ghe},hover:{Feature:Khe}};function lR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ipe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ape(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function kv(e,t,n){const r=e.getProps();return m2(r,t,n!==void 0?n:r.custom,ipe(e),ape(e))}let h2=zr;const Hc=e=>e*1e3,Fo=e=>e/1e3,spe={current:!1},cR=e=>Array.isArray(e)&&typeof e[0]=="number";function uR(e){return!!(!e||typeof e=="string"&&dR[e]||cR(e)||Array.isArray(e)&&e.every(uR))}const Ef=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ef([0,.65,.55,1]),circOut:Ef([.55,0,1,.45]),backIn:Ef([.31,.01,.66,-.59]),backOut:Ef([.33,1.53,.69,.99])};function fR(e){if(e)return cR(e)?Ef(e):Array.isArray(e)?e.map(fR):dR[e]}function ope(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=fR(o);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function lpe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const mR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cpe=1e-7,upe=12;function dpe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=mR(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>cpe&&++o<upe);return s}function Ph(e,t,n,r){if(e===t&&n===r)return zr;const i=a=>dpe(a,0,1,e,n);return a=>a===0||a===1?a:mR(i(a),t,r)}const fpe=Ph(.42,0,1,1),mpe=Ph(0,0,.58,1),hR=Ph(.42,0,.58,1),hpe=e=>Array.isArray(e)&&typeof e[0]!="number",pR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gR=e=>t=>1-e(1-t),p2=e=>1-Math.sin(Math.acos(e)),xR=gR(p2),ppe=pR(p2),vR=Ph(.33,1.53,.69,.99),g2=gR(vR),gpe=pR(g2),xpe=e=>(e*=2)<1?.5*g2(e):.5*(2-Math.pow(2,-10*(e-1))),vpe={linear:zr,easeIn:fpe,easeInOut:hR,easeOut:mpe,circIn:p2,circInOut:ppe,circOut:xR,backIn:g2,backInOut:gpe,backOut:vR,anticipate:xpe},cM=e=>{if(Array.isArray(e)){h2(e.length===4);const[t,n,r,i]=e;return Ph(t,n,r,i)}else if(typeof e=="string")return vpe[e];return e},x2=(e,t)=>n=>!!(jh(n)&&bhe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),bR=(e,t,n)=>r=>{if(!jh(r))return r;const[i,a,s,o]=r.match(yv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},bpe=e=>Zl(0,255,e),Xb={...hu,transform:e=>Math.round(bpe(e))},$c={test:x2("rgb","red"),parse:bR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xb.transform(e)+", "+Xb.transform(t)+", "+Xb.transform(n)+", "+Xf(Yf.transform(r))+")"};function ype(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const g1={test:x2("#"),parse:ype,transform:$c.transform},Zu={test:x2("hsl","hue"),parse:bR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ro.transform(Xf(t))+", "+ro.transform(Xf(n))+", "+Xf(Yf.transform(r))+")"},Qi={test:e=>$c.test(e)||g1.test(e)||Zu.test(e),parse:e=>$c.test(e)?$c.parse(e):Zu.test(e)?Zu.parse(e):g1.parse(e),transform:e=>jh(e)?e:e.hasOwnProperty("red")?$c.transform(e):Zu.transform(e)},Cr=(e,t,n)=>-n*e+n*t+e;function Qb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wpe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Qb(l,o,e+1/3),a=Qb(l,o,e),s=Qb(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Zb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},kpe=[g1,$c,Zu],Spe=e=>kpe.find(t=>t.test(e));function uM(e){const t=Spe(e);let n=t.parse(e);return t===Zu&&(n=wpe(n)),n}const yR=(e,t)=>{const n=uM(e),r=uM(t),i={...n};return a=>(i.red=Zb(n.red,r.red,a),i.green=Zb(n.green,r.green,a),i.blue=Zb(n.blue,r.blue,a),i.alpha=Cr(n.alpha,r.alpha,a),$c.transform(i))};function Npe(e){var t,n;return isNaN(e)&&jh(e)&&(((t=e.match(yv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(KF))===null||n===void 0?void 0:n.length)||0)>0}const wR={regex:xhe,countKey:"Vars",token:"${v}",parse:zr},kR={regex:KF,countKey:"Colors",token:"${c}",parse:Qi.parse},SR={regex:yv,countKey:"Numbers",token:"${n}",parse:hu.parse};function Jb(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function z0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jb(n,wR),Jb(n,kR),Jb(n,SR),n}function NR(e){return z0(e).values}function CR(e){const{values:t,numColors:n,numVars:r,tokenised:i}=z0(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(wR.token,s[l]):l<r+n?o=o.replace(kR.token,Qi.transform(s[l])):o=o.replace(SR.token,Xf(s[l]));return o}}const Cpe=e=>typeof e=="number"?0:e;function jpe(e){const t=NR(e);return CR(e)(t.map(Cpe))}const Jl={test:Npe,parse:NR,createTransformer:CR,getAnimatableNone:jpe},jR=(e,t)=>n=>`${n>0?t:e}`;function AR(e,t){return typeof e=="number"?n=>Cr(e,t,n):Qi.test(e)?yR(e,t):e.startsWith("var(")?jR(e,t):DR(e,t)}const PR=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>AR(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},Ape=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=AR(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},DR=(e,t)=>{const n=Jl.createTransformer(t),r=z0(e),i=z0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ql(PR(r.values,i.values),n):jR(e,t)},Rm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dM=(e,t)=>n=>Cr(e,t,n);function Ppe(e){return typeof e=="number"?dM:typeof e=="string"?Qi.test(e)?yR:DR:Array.isArray(e)?PR:typeof e=="object"?Ape:dM}function Dpe(e,t,n){const r=[],i=n||Ppe(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||zr:t;o=ql(l,o)}r.push(o)}return r}function TR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(h2(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Dpe(t,r,i),o=s.length,l=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Rm(e[d],e[d+1],u);return s[d](f)};return n?u=>l(Zl(e[0],e[a-1],u)):l}function Tpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Rm(0,t,r);e.push(Cr(n,1,i))}}function Mpe(e){const t=[0];return Tpe(t,e.length-1),t}function Epe(e,t){return e.map(n=>n*t)}function Ope(e,t){return e.map(()=>t||hR).splice(0,e.length-1)}function U0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=hpe(r)?r.map(cM):cM(r),a={done:!1,value:t[0]},s=Epe(n&&n.length===t.length?n:Mpe(t),e),o=TR(s,t,{ease:Array.isArray(i)?i:Ope(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function MR(e,t){return t?e*(1e3/t):0}const Ipe=5;function ER(e,t,n){const r=Math.max(t-Ipe,0);return MR(n-e(r),t-r)}const ey=.001,_pe=.01,Lpe=10,$pe=.05,Fpe=1;function Rpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=Zl($pe,Fpe,s),e=Zl(_pe,Lpe,Fo(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-n,m=x1(u,s),p=Math.exp(-f);return ey-h/m*p},a=u=>{const f=u*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),x=x1(Math.pow(u,2),s);return(-i(u)+ey>0?-1:1)*((h-m)*p)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-ey+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const o=5/e,l=zpe(i,a,o);if(e=Hc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Bpe=12;function zpe(e,t,n){let r=n;for(let i=1;i<Bpe;i++)r=r-e(r)/t(r);return r}function x1(e,t){return e*Math.sqrt(1-t*t)}const Upe=["duration","bounce"],Wpe=["stiffness","damping","mass"];function fM(e,t){return t.some(n=>e[n]!==void 0)}function Vpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!fM(e,Wpe)&&fM(e,Upe)){const n=Rpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function OR({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Vpe({...r,velocity:-Fo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*u)),x=a-i,b=Fo(Math.sqrt(o/u)),v=Math.abs(x)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let w;if(p<1){const y=x1(b,p);w=N=>{const j=Math.exp(-p*b*N);return a-j*((m+p*b*x)/y*Math.sin(y*N)+x*Math.cos(y*N))}}else if(p===1)w=y=>a-Math.exp(-b*y)*(x+(m+b*x)*y);else{const y=b*Math.sqrt(p*p-1);w=N=>{const j=Math.exp(-p*b*N),S=Math.min(y*N,300);return a-j*((m+p*b*x)*Math.sinh(S)+y*x*Math.cosh(S))/y}}return{calculatedDuration:h&&d||null,next:y=>{const N=w(y);if(h)s.done=y>=d;else{let j=m;y!==0&&(p<1?j=ER(w,y,N):j=0);const S=Math.abs(j)<=n,A=Math.abs(a-N)<=t;s.done=S&&A}return s.value=s.done?a:N,s}}}function mM({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=I=>o!==void 0&&I<o||l!==void 0&&I>l,p=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let x=n*t;const b=f+x,v=s===void 0?b:s(b);v!==b&&(x=v-f);const w=I=>-x*Math.exp(-I/r),y=I=>v+w(I),N=I=>{const R=w(I),T=y(I);h.done=Math.abs(R)<=u,h.value=h.done?v:T};let j,S;const A=I=>{m(h.value)&&(j=I,S=OR({keyframes:[h.value,p(h.value)],velocity:ER(y,I,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:I=>{let R=!1;return!S&&j===void 0&&(R=!0,N(I),A(I)),j!==void 0&&I>j?S.next(I-j):(!R&&N(I),h)}}}const Hpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>pr.update(t,!0),stop:()=>Zo(t),now:()=>Ri.isProcessing?Ri.timestamp:performance.now()}},hM=2e4;function pM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<hM;)t+=n,r=e.next(t);return t>=hM?1/0:t}const qpe={decay:mM,inertia:mM,tween:U0,keyframes:U0,spring:OR};function W0({autoplay:e=!0,delay:t=0,driver:n=Hpe,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,x,b;const v=()=>{b=new Promise(D=>{x=D})};v();let w;const y=qpe[i]||U0;let N;y!==U0&&typeof r[0]!="number"&&(N=TR([0,100],r,{clamp:!1}),r=[0,100]);const j=y({...h,keyframes:r});let S;o==="mirror"&&(S=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",I=null,R=null,T=null;j.calculatedDuration===null&&a&&(j.calculatedDuration=pM(j));const{calculatedDuration:L}=j;let _=1/0,G=1/0;L!==null&&(_=L+s,G=_*(a+1)-s);let ee=0;const le=D=>{if(R===null)return;m>0&&(R=Math.min(R,D)),m<0&&(R=Math.min(D-G/m,R)),I!==null?ee=I:ee=Math.round(D-R)*m;const ie=ee-t*(m>=0?1:-1),k=m>=0?ie<0:ie>G;ee=Math.max(ie,0),A==="finished"&&I===null&&(ee=G);let B=ee,V=j;if(a){const z=Math.min(ee,G)/_;let W=Math.floor(z),H=z%1;!H&&z>=1&&(H=1),H===1&&W--,W=Math.min(W,a+1),!!(W%2)&&(o==="reverse"?(H=1-H,s&&(H-=s/_)):o==="mirror"&&(V=S)),B=Zl(0,1,H)*_}const ne=k?{done:!1,value:r[0]}:V.next(B);N&&(ne.value=N(ne.value));let{done:re}=ne;!k&&L!==null&&(re=m>=0?ee>=G:ee<=0);const se=I===null&&(A==="finished"||A==="running"&&re);return f&&f(ne.value),se&&q(),ne},be=()=>{w&&w.stop(),w=void 0},X=()=>{A="idle",be(),x(),v(),R=T=null},q=()=>{A="finished",d&&d(),be(),x()},K=()=>{if(p)return;w||(w=n(le));const D=w.now();l&&l(),I!==null?R=D-I:(!R||A==="finished")&&(R=D),A==="finished"&&v(),T=R,I=null,A="running",w.start()};e&&K();const E={then(D,ie){return b.then(D,ie)},get time(){return Fo(ee)},set time(D){D=Hc(D),ee=D,I!==null||!w||m===0?I=D:R=w.now()-D/m},get duration(){const D=j.calculatedDuration===null?pM(j):j.calculatedDuration;return Fo(D)},get speed(){return m},set speed(D){D===m||!w||(m=D,E.time=Fo(ee))},get state(){return A},play:K,pause:()=>{A="paused",I=ee},stop:()=>{p=!0,A!=="idle"&&(A="idle",u&&u(),X())},cancel:()=>{T!==null&&le(T),X()},complete:()=>{A="finished"},sample:D=>(R=0,le(D))};return E}function Kpe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gpe=Kpe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ype=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Fp=10,Xpe=2e4,Qpe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!uR(t.ease);function Zpe(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Gpe()&&Ype.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,u=!1;const d=()=>{l=new Promise(y=>{o=y})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Qpe(t,i)){const y=W0({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const j=[];let S=0;for(;!N.done&&S<Xpe;)N=y.sample(S),j.push(N.value),S+=Fp;p=void 0,f=j,h=S-Fp,m="linear"}const x=ope(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),b=()=>{u=!1,x.cancel()},v=()=>{u=!0,pr.update(b),o(),d()};return x.onfinish=()=>{u||(e.set(lpe(f,i)),r&&r(),v())},{then(y,N){return l.then(y,N)},attachTimeline(y){return x.timeline=y,x.onfinish=null,zr},get time(){return Fo(x.currentTime||0)},set time(y){x.currentTime=Hc(y)},get speed(){return x.playbackRate},set speed(y){x.playbackRate=y},get duration(){return Fo(h)},play:()=>{s||(x.play(),Zo(b))},pause:()=>x.pause(),stop:()=>{if(s=!0,x.playState==="idle")return;const{currentTime:y}=x;if(y){const N=W0({...i,autoplay:!1});e.setWithVelocity(N.sample(y-Fp).value,N.sample(y).value,Fp)}v()},complete:()=>{u||x.finish()},cancel:v}}function Jpe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zr,pause:zr,stop:zr,then:a=>(a(),Promise.resolve()),cancel:zr,complete:zr});return t?W0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const ege={type:"spring",stiffness:500,damping:25,restSpeed:10},tge=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nge={type:"keyframes",duration:.8},rge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ige=(e,{keyframes:t})=>t.length>2?nge:mu.has(e)?e.startsWith("scale")?tge(t[1]):ege:rge,v1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jl.test(t)||t==="0")&&!t.startsWith("url(")),age=new Set(["brightness","contrast","saturate","opacity"]);function sge(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yv)||[];if(!r)return e;const i=n.replace(r,"");let a=age.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const oge=/([a-z-]*)\(.*?\)/g,b1={...Jl,getAnimatableNone:e=>{const t=e.match(oge);return t?t.map(sge).join(" "):e}},lge={...GF,color:Qi,backgroundColor:Qi,outlineColor:Qi,fill:Qi,stroke:Qi,borderColor:Qi,borderTopColor:Qi,borderRightColor:Qi,borderBottomColor:Qi,borderLeftColor:Qi,filter:b1,WebkitFilter:b1},v2=e=>lge[e];function IR(e,t){let n=v2(e);return n!==b1&&(n=Jl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _R=e=>/^0[^.\s]+$/.test(e);function cge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||_R(e)}function uge(e,t,n,r){const i=v1(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?s:a[u-1]),cge(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(o=a[u]);if(i&&l.length&&o)for(let u=0;u<l.length;u++){const d=l[u];a[d]=IR(t,o)}return a}function dge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function b2(e,t){return e[t]||e.default||e}const fge={skipAnimations:!1},y2=(e,t,n,r={})=>i=>{const a=b2(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Hc(s);const l=uge(t,e,n,a),u=l[0],d=l[l.length-1],f=v1(e,u),h=v1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(dge(a)||(m={...m,...ige(e,m)}),m.duration&&(m.duration=Hc(m.duration)),m.repeatDelay&&(m.repeatDelay=Hc(m.repeatDelay)),!f||!h||spe.current||a.type===!1||fge.skipAnimations)return Jpe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Zpe(t,e,m);if(p)return p}return W0(m)};function V0(e){return!!(xa(e)&&e.add)}const LR=e=>/^\-?\d*\.?\d+$/.test(e);function w2(e,t){e.indexOf(t)===-1&&e.push(t)}function k2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class S2{constructor(){this.subscriptions=[]}add(t){return w2(this.subscriptions,t),()=>k2(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mge=e=>!isNaN(parseFloat(e));class hge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Ri;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,pr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>pr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=mge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new S2);const r=this.events[t].add(n);return t==="change"?()=>{r(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?MR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Md(e,t){return new hge(e,t)}const $R=e=>t=>t.test(e),pge={test:e=>e==="auto",parse:e=>e},FR=[hu,Jt,ro,Sl,whe,yhe,pge],wf=e=>FR.find($R(e)),gge=[...FR,Qi,Jl],xge=e=>gge.find($R(e));function vge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Md(n))}function bge(e,t){const n=kv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Lhe(a[s]);vge(e,s,o)}}function yge(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(LR(d)||_R(d))?d=parseFloat(d):!xge(d)&&Jl.test(u)&&(d=IR(l,u)),e.addValue(l,Md(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function wge(e,t){return t?(t[e]||t.default||t).from:void 0}function kge(e,t,n){const r={};for(const i in e){const a=wge(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Sge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Nge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function RR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&Sge(d,f))continue;const p={delay:n,elapsed:0,...b2(a||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[BF];if(v){const w=window.HandoffAppearAnimations(v,f,h,pr);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let x=!p.isHandoff&&!Nge(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(y2(f,h,m,e.shouldReduceMotion&&mu.has(f)?{type:!1}:p));const b=h.animation;V0(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return s&&Promise.all(u).then(()=>{s&&bge(e,s)}),u}function y1(e,t,n={}){const r=kv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(RR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Cge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function Cge(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(jge).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(y1(u,t,{...a,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function jge(e,t){return e.sortNodePosition(t)}function Age(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>y1(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=y1(e,t,n);else{const i=typeof t=="function"?kv(e,t,n.custom):t;r=Promise.all(RR(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Pge=[...a2].reverse(),Dge=a2.length;function Tge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Age(e,n,r)))}function Mge(e){let t=Tge(e);const n=Oge();let r=!0;const i=(l,u)=>{const d=kv(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},x=1/0;for(let v=0;v<Dge;v++){const w=Pge[v],y=n[w],N=d[w]!==void 0?d[w]:f[w],j=$m(N),S=w===u?y.isActive:null;S===!1&&(x=v);let A=N===f[w]&&N!==d[w]&&j;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),y.protectedKeys={...p},!y.isActive&&S===null||!N&&!y.prevProp||vv(N)||typeof N=="boolean")continue;let R=Ege(y.prevProp,N)||w===u&&y.isActive&&!A&&j||v>x&&j,T=!1;const L=Array.isArray(N)?N:[N];let _=L.reduce(i,{});S===!1&&(_={});const{prevResolvedValues:G={}}=y,ee={...G,..._},le=be=>{R=!0,m.has(be)&&(T=!0,m.delete(be)),y.needsAnimating[be]=!0};for(const be in ee){const X=_[be],q=G[be];if(p.hasOwnProperty(be))continue;let K=!1;B0(X)&&B0(q)?K=!lR(X,q):K=X!==q,K?X!==void 0?le(be):m.add(be):X!==void 0&&m.has(be)?le(be):y.protectedKeys[be]=!0}y.prevProp=N,y.prevResolvedValues=_,y.isActive&&(p={...p,..._}),r&&e.blockInitialAnimation&&(R=!1),R&&(!A||T)&&h.push(...L.map(be=>({animation:be,options:{type:w,...l}})))}if(m.size){const v={};m.forEach(w=>{const y=e.getBaseTarget(w);y!==void 0&&(v[w]=y)}),h.push({animation:v})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function o(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Ege(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lR(t,e):!1}function bc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Oge(){return{animate:bc(!0),whileInView:bc(),whileHover:bc(),whileTap:bc(),whileDrag:bc(),whileFocus:bc(),exit:bc()}}class Ige extends lc{constructor(t){super(t),t.animationState||(t.animationState=Mge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),vv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let _ge=0;class Lge extends lc{constructor(){super(...arguments),this.id=_ge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $ge={animation:{Feature:Ige},exit:{Feature:Lge}},gM=(e,t)=>Math.abs(e-t);function Fge(e,t){const n=gM(e.x,t.x),r=gM(e.y,t.y);return Math.sqrt(n**2+r**2)}class BR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ny(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Fge(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:x}=Ri;this.history.push({...p,timestamp:x});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ty(h,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ny(f.type==="pointercancel"?this.lastMoveEventInfo:ty(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),p&&p(f,b)},!rR(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=wv(t),o=ty(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Ri;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ny(o,this.history)),this.removeListeners=ql($o(this.contextWindow,"pointermove",this.handlePointerMove),$o(this.contextWindow,"pointerup",this.handlePointerUp),$o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zo(this.updatePoint)}}function ty(e,t){return t?{point:t(e.point)}:e}function xM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ny({point:e},t){return{point:e,delta:xM(e,zR(t)),offset:xM(e,Rge(t)),velocity:Bge(t,.1)}}function Rge(e){return e[0]}function zR(e){return e[e.length-1]}function Bge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=zR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Hc(t)));)n--;if(!r)return{x:0,y:0};const a=Fo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ra(e){return e.max-e.min}function w1(e,t=0,n=.01){return Math.abs(e-t)<=n}function vM(e,t,n,r=.5){e.origin=r,e.originPoint=Cr(t.min,t.max,e.origin),e.scale=Ra(n)/Ra(t),(w1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Cr(n.min,n.max,e.origin)-e.originPoint,(w1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Qf(e,t,n,r){vM(e.x,t.x,n.x,r?r.originX:void 0),vM(e.y,t.y,n.y,r?r.originY:void 0)}function bM(e,t,n){e.min=n.min+t.min,e.max=e.min+Ra(t)}function zge(e,t,n){bM(e.x,t.x,n.x),bM(e.y,t.y,n.y)}function yM(e,t,n){e.min=t.min-n.min,e.max=e.min+Ra(t)}function Zf(e,t,n){yM(e.x,t.x,n.x),yM(e.y,t.y,n.y)}function Uge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Cr(n,e,r.max):Math.min(e,n)),e}function wM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Wge(e,{top:t,left:n,bottom:r,right:i}){return{x:wM(e.x,n,i),y:wM(e.y,t,r)}}function kM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Vge(e,t){return{x:kM(e.x,t.x),y:kM(e.y,t.y)}}function Hge(e,t){let n=.5;const r=Ra(e),i=Ra(t);return i>r?n=Rm(t.min,t.max-r,e.min):r>i&&(n=Rm(e.min,e.max-i,t.min)),Zl(0,1,n)}function qge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const k1=.35;function Kge(e=k1){return e===!1?e=0:e===!0&&(e=k1),{x:SM(e,"left","right"),y:SM(e,"top","bottom")}}function SM(e,t,n){return{min:NM(e,t),max:NM(e,n)}}function NM(e,t){return typeof e=="number"?e:e[t]||0}const CM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ju=()=>({x:CM(),y:CM()}),jM=()=>({min:0,max:0}),Hr=()=>({x:jM(),y:jM()});function Ya(e){return[e("x"),e("y")]}function UR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Gge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Yge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ry(e){return e===void 0||e===1}function S1({scale:e,scaleX:t,scaleY:n}){return!ry(e)||!ry(t)||!ry(n)}function jc(e){return S1(e)||WR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function WR(e){return AM(e.x)||AM(e.y)}function AM(e){return e&&e!=="0%"}function H0(e,t,n){const r=e-n,i=t*r;return n+i}function PM(e,t,n,r,i){return i!==void 0&&(e=H0(e,i,r)),H0(e,n,r)+t}function N1(e,t=0,n=1,r,i){e.min=PM(e.min,t,n,r,i),e.max=PM(e.max,t,n,r,i)}function VR(e,{x:t,y:n}){N1(e.x,t.translate,t.scale,t.originPoint),N1(e.y,n.translate,n.scale,n.originPoint)}function Xge(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ed(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,VR(e,s)),r&&jc(a.latestValues)&&ed(e,a.latestValues))}t.x=DM(t.x),t.y=DM(t.y)}function DM(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Pl(e,t){e.min=e.min+t,e.max=e.max+t}function TM(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=Cr(e.min,e.max,a);N1(e,t[n],t[r],s,t.scale)}const Qge=["x","scaleX","originX"],Zge=["y","scaleY","originY"];function ed(e,t){TM(e.x,t,Qge),TM(e.y,t,Zge)}function HR(e,t){return UR(Yge(e.getBoundingClientRect(),t))}function Jge(e,t,n){const r=HR(e,n),{scroll:i}=t;return i&&(Pl(r.x,i.offset.x),Pl(r.y,i.offset.y)),r}const qR=({current:e})=>e?e.ownerDocument.defaultView:null,e0e=new WeakMap;class t0e{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aR(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ya(b=>{let v=this.getAxisMotionValue(b).get()||0;if(ro.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[b];y&&(v=Ra(y)*(parseFloat(v)/100))}}this.originPoint[b]=v}),p&&pr.update(()=>p(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=n0e(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),x&&x(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ya(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new BR(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:qR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&pr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Rp(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Uge(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Qu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Wge(i.layoutBox,n):this.constraints=!1,this.elastic=Kge(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ya(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=qge(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Qu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Jge(r,i.root,this.visualElement.getTransformPagePoint());let s=Vge(i.layout.layoutBox,a);if(n){const o=n(Gge(s));this.hasMutatedConstraints=!!o,o&&(s=UR(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ya(d=>{if(!Rp(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(y2(t,r,0,n))}stopAnimation(){Ya(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ya(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ya(n=>{const{drag:r}=this.getProps();if(!Rp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-Cr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ya(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Hge({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ya(s=>{if(!Rp(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Cr(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;e0e.set(this.visualElement,this);const t=this.visualElement.current,n=$o(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Eo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ya(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=k1,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Rp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function n0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class r0e extends lc{constructor(t){super(t),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new t0e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const MM=e=>(t,n)=>{e&&pr.update(()=>e(t,n))};class i0e extends lc{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(t){this.session=new BR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:MM(t),onStart:MM(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&pr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=$o(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function a0e(){const e=g.useContext(r2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=g.useId();return g.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const lg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Jt.test(e))e=parseFloat(e);else return e;const n=EM(e,t.target.x),r=EM(e,t.target.y);return`${n}% ${r}%`}},s0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Jl.parse(e);if(i.length>5)return r;const a=Jl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=Cr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class o0e extends K0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;mhe(l0e),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),lg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||pr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KR(e){const[t,n]=a0e(),r=g.useContext(UF);return K0.createElement(o0e,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(WF),isPresent:t,safeToRemove:n})}const l0e={borderRadius:{...kf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kf,borderTopRightRadius:kf,borderBottomLeftRadius:kf,borderBottomRightRadius:kf,boxShadow:s0e},GR=["TopLeft","TopRight","BottomLeft","BottomRight"],c0e=GR.length,OM=e=>typeof e=="string"?parseFloat(e):e,IM=e=>typeof e=="number"||Jt.test(e);function u0e(e,t,n,r,i,a){i?(e.opacity=Cr(0,n.opacity!==void 0?n.opacity:1,d0e(r)),e.opacityExit=Cr(t.opacity!==void 0?t.opacity:1,0,f0e(r))):a&&(e.opacity=Cr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<c0e;s++){const o=`border${GR[s]}Radius`;let l=_M(t,o),u=_M(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||IM(l)===IM(u)?(e[o]=Math.max(Cr(OM(l),OM(u),r),0),(ro.test(u)||ro.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Cr(t.rotate||0,n.rotate||0,r))}function _M(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const d0e=YR(0,.5,xR),f0e=YR(.5,.95,zr);function YR(e,t,n){return r=>r<e?0:r>t?1:n(Rm(e,t,r))}function LM(e,t){e.min=t.min,e.max=t.max}function qa(e,t){LM(e.x,t.x),LM(e.y,t.y)}function $M(e,t,n,r,i){return e-=t,e=H0(e,1/n,r),i!==void 0&&(e=H0(e,1/i,r)),e}function m0e(e,t=0,n=1,r=.5,i,a=e,s=e){if(ro.test(t)&&(t=parseFloat(t),t=Cr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Cr(a.min,a.max,r);e===a&&(o-=t),e.min=$M(e.min,t,n,o,i),e.max=$M(e.max,t,n,o,i)}function FM(e,t,[n,r,i],a,s){m0e(e,t[n],t[r],t[i],t.scale,a,s)}const h0e=["x","scaleX","originX"],p0e=["y","scaleY","originY"];function RM(e,t,n,r){FM(e.x,t,h0e,n?n.x:void 0,r?r.x:void 0),FM(e.y,t,p0e,n?n.y:void 0,r?r.y:void 0)}function BM(e){return e.translate===0&&e.scale===1}function XR(e){return BM(e.x)&&BM(e.y)}function g0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function QR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zM(e){return Ra(e.x)/Ra(e.y)}class x0e{constructor(){this.members=[]}add(t){w2(this.members,t),t.scheduleRender()}remove(t){if(k2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UM(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const v0e=(e,t)=>e.depth-t.depth;class b0e{constructor(){this.children=[],this.isDirty=!1}add(t){w2(this.children,t),this.isDirty=!0}remove(t){k2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(v0e),this.isDirty=!1,this.children.forEach(t)}}function y0e(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Zo(r),e(a-t))};return pr.read(r,!0),()=>Zo(r)}function w0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function k0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function S0e(e,t,n){const r=xa(e)?e:Md(e);return r.start(y2("",r,t,n)),r.animation}const WM=["","X","Y","Z"],N0e={visibility:"hidden"},VM=1e3;let C0e=0;const Ac={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ZR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=C0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ac.totalNodes=Ac.resolvedTargetDeltas=Ac.recalculatedProjection=0,this.nodes.forEach(P0e),this.nodes.forEach(O0e),this.nodes.forEach(I0e),this.nodes.forEach(D0e),w0e(Ac)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new b0e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new S2),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=k0e(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=y0e(h,250),lg.hasAnimatedSinceResize&&(lg.hasAnimatedSinceResize=!1,this.nodes.forEach(qM))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||R0e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),w=!this.targetLayout||!QR(this.targetLayout,p)||m,y=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const N={...b2(x,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||qM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_0e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HM);return}this.isUpdating||this.nodes.forEach(M0e),this.isUpdating=!1,this.nodes.forEach(E0e),this.nodes.forEach(j0e),this.nodes.forEach(A0e),this.clearAllSnapshots();const o=performance.now();Ri.delta=Zl(0,1e3/60,o-Ri.timestamp),Ri.timestamp=o,Ri.isProcessing=!0,Kb.update.process(Ri),Kb.preRender.process(Ri),Kb.render.process(Ri),Ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(T0e),this.sharedNodes.forEach(L0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!XR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||jc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),B0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Hr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Pl(o.x,l.offset.x),Pl(o.y,l.offset.y)),o}removeElementScroll(s){const o=Hr();qa(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){qa(o,s);const{scroll:h}=this.root;h&&(Pl(o.x,-h.offset.x),Pl(o.y,-h.offset.y))}Pl(o.x,d.offset.x),Pl(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Hr();qa(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ed(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jc(d.latestValues)&&ed(l,d.latestValues)}return jc(this.latestValues)&&ed(l,this.latestValues),l}removeTransform(s){const o=Hr();qa(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!jc(u.latestValues))continue;S1(u.latestValues)&&u.updateSnapshot();const d=Hr(),f=u.measurePageBox();qa(d,f),RM(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return jc(this.latestValues)&&RM(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ri.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),Zf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hr(),this.targetWithTransforms=Hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qa(this.target,this.layout.layoutBox),VR(this.target,this.targetDelta)):qa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),Zf(this.relativeTargetOrigin,this.target,m.target),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ac.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||S1(this.parent.latestValues)||WR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ri.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;qa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Xge(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=Ju(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ju(),this.projectionDeltaWithTransform=Ju());const x=this.projectionTransform;Qf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=UM(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ac.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Ju();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Hr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,b=this.getStack(),v=!b||b.members.length<=1,w=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(F0e));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const j=N/1e3;KM(f.x,s.x,j),KM(f.y,s.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$0e(this.relativeTarget,this.relativeTargetOrigin,h,j),y&&g0e(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Hr()),qa(y,this.relativeTarget)),x&&(this.animationValues=d,u0e(d,u,this.latestValues,j,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{lg.hasAnimatedSinceResize=!0,this.currentAnimation=S0e(0,VM,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&JR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Hr();const f=Ra(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ra(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}qa(o,l),ed(o,d),Qf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new x0e),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<WM.length;d++){const f="rotate"+WM[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N0e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=og(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=og(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!jc(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=UM(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in F0){if(h[x]===void 0)continue;const{correct:b,applyTo:v}=F0[x],w=u.transform==="none"?h[x]:b(h[x],f);if(v){const y=v.length;for(let N=0;N<y;N++)u[v[N]]=w}else u[x]=w}return this.options.layoutId&&(u.pointerEvents=f===this?og(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(HM),this.root.sharedNodes.clear()}}}function j0e(e){e.updateLayout()}function A0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Ya(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ra(h);h.min=r[f].min,h.max=h.min+m}):JR(a,n.layoutBox,r)&&Ya(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ra(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=Ju();Qf(o,r,n.layoutBox);const l=Ju();s?Qf(l,e.applyTransform(i,!0),n.measuredBox):Qf(l,r,n.layoutBox);const u=!XR(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Hr();Zf(p,n.layoutBox,h.layoutBox);const x=Hr();Zf(x,r,m.layoutBox),QR(p,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function P0e(e){Ac.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function D0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function T0e(e){e.clearSnapshot()}function HM(e){e.clearMeasurements()}function M0e(e){e.isLayoutDirty=!1}function E0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function O0e(e){e.resolveTargetDelta()}function I0e(e){e.calcProjection()}function _0e(e){e.resetRotation()}function L0e(e){e.removeLeadSnapshot()}function KM(e,t,n){e.translate=Cr(t.translate,0,n),e.scale=Cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function GM(e,t,n,r){e.min=Cr(t.min,n.min,r),e.max=Cr(t.max,n.max,r)}function $0e(e,t,n,r){GM(e.x,t.x,n.x,r),GM(e.y,t.y,n.y,r)}function F0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const R0e={duration:.45,ease:[.4,0,.1,1]},YM=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),XM=YM("applewebkit/")&&!YM("chrome/")?Math.round:zr;function QM(e){e.min=XM(e.min),e.max=XM(e.max)}function B0e(e){QM(e.x),QM(e.y)}function JR(e,t,n){return e==="position"||e==="preserve-aspect"&&!w1(zM(t),zM(n),.2)}const z0e=ZR({attachResizeListener:(e,t)=>Eo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},eB=ZR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iy.current){const e=new z0e({});e.mount(window),e.setOptions({layoutScroll:!0}),iy.current=e}return iy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),U0e={pan:{Feature:i0e},drag:{Feature:r0e,ProjectionNode:eB,MeasureLayout:KR}},W0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function V0e(e){const t=W0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function C1(e,t,n=1){const[r,i]=V0e(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return LR(s)?parseFloat(s):s}else return h1(i)?C1(i,t,n+1):i}function H0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!h1(a))return;const s=C1(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!h1(a))continue;const s=C1(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const q0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),tB=e=>q0e.has(e),K0e=e=>Object.keys(e).some(tB),ZM=e=>e===hu||e===Jt,JM=(e,t)=>parseFloat(e.split(", ")[t]),eE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return JM(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?JM(a[1],e):0}},G0e=new Set(["x","y","z"]),Y0e=Ch.filter(e=>!G0e.has(e));function X0e(e){const t=[];return Y0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ed={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:eE(4,13),y:eE(5,14)};Ed.translateX=Ed.x;Ed.translateY=Ed.y;const Q0e=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=Ed[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(o[u]),e[u]=Ed[u](l,a)}),e},Z0e=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(tB);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=wf(d);const h=t[l];let m;if(B0(h)){const p=h.length,x=h[0]===null?1:0;d=h[x],f=wf(d);for(let b=x;b<p&&h[b]!==null;b++)m?h2(wf(h[b])===m):m=wf(h[b])}else m=wf(h);if(f!==m)if(ZM(f)&&ZM(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Jt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(h):(s||(a=X0e(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=Q0e(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),xv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function J0e(e,t,n,r){return K0e(t)?Z0e(e,t,n,r):{target:t,transitionEnd:r}}const exe=(e,t,n,r)=>{const i=H0e(e,t,r);return t=i.target,r=i.transitionEnd,J0e(e,t,n,r)},j1={current:null},nB={current:!1};function txe(){if(nB.current=!0,!!xv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>j1.current=e.matches;e.addListener(t),t()}else j1.current=!1}function nxe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(xa(a))e.addValue(i,a),V0(r)&&r.add(i);else if(xa(s))e.addValue(i,Md(a,{owner:e})),V0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Md(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const tE=new WeakMap,rB=Object.keys(Fm),rxe=rB.length,nE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ixe=s2.length;class axe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>pr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=bv(n),this.isVariantNode=zF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&xa(h)&&(h.set(o[f],!1),V0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,tE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nB.current||txe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tE.delete(this.current),this.projection&&this.projection.unmount(),Zo(this.notifyUpdate),Zo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=mu.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&pr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<rxe;l++){const u=rB[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Fm[u];h&&(s=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Qu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nE.length;r++){const i=nE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=nxe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<ixe;r++){const i=s2[r],a=this.props[i];($m(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Md(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=m2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new S2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class iB extends axe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=kge(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){yge(this,r,s);const o=exe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function sxe(e){return window.getComputedStyle(e)}class oxe extends iB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(mu.has(n)){const r=v2(n);return r&&r.default||0}else{const r=sxe(t),i=(qF(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return HR(t,n)}build(t,n,r,i){l2(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return f2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){ZF(t,n,r,i)}}class lxe extends iB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mu.has(n)){const r=v2(n);return r&&r.default||0}return n=JF.has(n)?n:i2(n),t.getAttribute(n)}measureInstanceViewportBox(){return Hr()}scrapeMotionValuesFromProps(t,n){return tR(t,n)}build(t,n,r,i){u2(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){eR(t,n,r,i)}mount(t){this.isSVGTag=d2(t.tagName),super.mount(t)}}const cxe=(e,t)=>o2(e)?new lxe(t,{enableHardwareAcceleration:!1}):new oxe(t,{enableHardwareAcceleration:!0}),uxe={layout:{ProjectionNode:eB,MeasureLayout:KR}},dxe={...$ge,...rpe,...U0e,...uxe},Gs=dhe((e,t)=>Vhe(e,t,dxe,cxe));function fxe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:x,children:b}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:v=>v.target===v.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onFocus:s,onBlur:v=>o(v.relatedTarget),onKeyDown:v=>{v.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((v,w)=>c.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:y=>{y.preventDefault(),u(v)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:v.section}),c.jsx("div",{className:"truncate",children:d(v.text,n)})]},`${v.hitId}-${w}-${v.text}`))})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ki,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[h.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((v,w)=>{const y=v.id===m;return c.jsxs("button",{"data-toc-active":y?"true":"false",className:`proof-of-work-toc-item ${v.level===1?"proof-of-work-toc-item--l1":v.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${y?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":v.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(v),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${y?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:v.text})]},`${v.id}-${v.level}-${w}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:x,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:b})})]})})]})}):null}const yc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",A1="arcbridge_web_theme_override",rE="arcbridge_web_kinetic_font_override",iE="__default__",aB=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},aE=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},mxe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},hxe=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},pxe=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},P1=e=>e?e===$N?!0:Mf.some(t=>t.id===e):!1,gxe=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&P1(t))return t;const n=aB(A1);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&P1(i)?i:null}catch{return null}},sE=(e,t)=>e?e===E0?"matte":e===O0||e===Hf?"kinetic":e===$N?"crt":t==="modern"||t==="classic"?t:"classic":t,oE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},xxe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},lE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),vxe=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,u=`${l} ${n-l}`,d=n-i;return i+=l,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:u,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},bxe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function yxe(){var ll;const e=gxe(),[t,n]=g.useState(null),[r,i]=g.useState(null),[a,s]=g.useState(null),[o,l]=g.useState(null),[u,d]=g.useState(""),[f,h]=g.useState(null),[m,p]=g.useState(null),[x,b]=g.useState(!1),[v,w]=g.useState(!1),[y,N]=g.useState(()=>sE(e,"classic")),[j,S]=g.useState("classic"),[A,I]=g.useState(ig.id),[R,T]=g.useState(e),L=g.useMemo(()=>{const Q=new URLSearchParams(window.location.search),Te=Q.get("themeId")||Q.get("theme");return Te&&P1(Te)?Te:null},[]),[_,G]=g.useState("default"),[ee,le]=g.useState(!1),[be,X]=g.useState(!1),[q,K]=g.useState(!1),[E,D]=g.useState(""),[ie,k]=g.useState(""),[B,V]=g.useState([]),[ne,re]=g.useState(!1),[se,z]=g.useState("overview"),[W,H]=g.useState("kdr"),[te,U]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ue=g.useRef(null),Z=g.useRef(null),ae=g.useRef(null),Ke=g.useRef(null),Ye=g.useRef(null),ye=g.useRef(null),F=g.useRef(new Map),Ee=g.useRef(null),Le=g.useRef(null),kt=g.useMemo(()=>{let Q=window.location.pathname||"/";const Te=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Q.endsWith("/index.html")&&(Q=Q.slice(0,-11)),Q.includes("/reports/")&&(Q=Q.replace(/\/reports\/[^/]+\/?$/,"")),Te&&(Q=Q.replace(/^\/web\/web(?=\/|$)/,"/web")),Q.endsWith("/")||(Q=`${Q}/`),Q},[]),Ht=g.useMemo(()=>new URL(kt,window.location.origin).toString(),[kt]),mn=g.useMemo(()=>L?hxe(Ht,L):Ht,[L,Ht]),Pe=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),it=g.useMemo(()=>{const Te=[kt,"./","/"],qe=[];return Te.forEach(Nt=>{let Wt=Nt||"/";Wt!=="./"&&!Wt.endsWith("/")&&(Wt=`${Wt}/`),qe.includes(Wt)||qe.push(Wt)}),qe},[kt,Pe]),[Ft,on]=g.useState(it[0]||"/"),en=Q=>{var Te;return typeof Q=="string"||typeof Q=="number"?String(Q):Array.isArray(Q)?Q.map(en).join(""):Q&&typeof Q=="object"&&"props"in Q?en((Te=Q.props)==null?void 0:Te.children):""},Mr=Q=>{const Te=lE(Q||"section")||"section",qe=F.current,Nt=(qe.get(Te)??0)+1;return qe.set(Te,Nt),Nt===1?Te:`${Te}-${Nt}`},zn=g.useMemo(()=>{const Q=qb.split(`
`),Te=new Map,qe=[],Nt=Wt=>{const Qt=lE(Wt||"section")||"section",tn=(Te.get(Qt)??0)+1;return Te.set(Qt,tn),tn===1?Qt:`${Qt}-${tn}`};for(const Wt of Q){const Qt=/^(#{1,3})\s+(.*)\s*$/.exec(Wt);if(!Qt)continue;const tn=Qt[1].length,It=Qt[2].trim();It&&qe.push({level:tn,text:It,id:Nt(It)})}return qe},[qb]),un=(Q,Te)=>{const qe=Q==="./"?"./":Q.endsWith("/")?Q:`${Q}/`,Nt=String(Te||"").replace(/^\/+/,"");return`${qe}${Nt}`};g.useEffect(()=>{const Q=aB(rE);(Q==="original"||Q==="default")&&G(Q)},[]),g.useEffect(()=>{const Q=R||A,Te=Mf.find(qe=>qe.id===Q)||ig;h(Te)},[R,A]),g.useEffect(()=>{if(!R){N(j);return}N(sE(R,j))},[R,j]),g.useEffect(()=>{on(it[0]||"/");let Q=!0;return(async()=>{for(const qe of it)try{if((await fetch(un(qe,"ui-theme.json"),{cache:"no-store"})).ok){Q&&on(qe);return}}catch{}})(),()=>{Q=!1}},[it]);const ds=(Q,Te)=>{const qe=Te.trim();if(!qe)return Q;const Nt=Q.toLowerCase(),Wt=qe.toLowerCase(),Qt=Nt.indexOf(Wt);if(Qt===-1)return Q;const tn=Q.slice(0,Qt),It=Q.slice(Qt,Qt+qe.length),Ct=Q.slice(Qt+qe.length);return c.jsxs(c.Fragment,{children:[tn,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:It}),Ct]})},hn=(Q,Te)=>{const qe=Z.current;if(!qe)return;let Nt=qe.querySelector(`[data-search-hit="${Q}"]`);if(!Nt&&Te){const Wt=Te.trim().replace(/\s+/g," "),Qt=Array.from(qe.querySelectorAll("h1, h2, h3, p, li, code"));Nt=Qt.find(tn=>(tn.textContent||"").trim().replace(/\s+/g," ")===Wt)||null,Nt||(Nt=Qt.find(tn=>(tn.textContent||"").toLowerCase().includes(Wt.toLowerCase()))||null)}Nt&&requestAnimationFrame(()=>{const Wt=qe.getBoundingClientRect(),Qt=Nt.getBoundingClientRect(),tn=Math.max(0,qe.scrollTop+(Qt.top-Wt.top)-12);qe.scrollTop=tn,Nt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ye.current&&window.clearTimeout(ye.current),ye.current=window.setTimeout(()=>{Nt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Nn=Q=>{const Te=Z.current,qe=Q.trim().toLowerCase();if(!Te||qe.length<2){V([]);return}const Nt=Array.from(Te.querySelectorAll("h1, h2, h3, p, li, code"));Nt.forEach(tn=>tn.removeAttribute("data-search-hit"));const Wt=[];let Qt=0;Nt.forEach((tn,It)=>{const Ct=(tn.textContent||"").trim();if(Ct&&Ct.toLowerCase().includes(qe)){let Rn="";for(let di=It;di>=0;di-=1){const lt=Nt[di];if(lt&&["H1","H2","H3"].includes(lt.tagName)){Rn=(lt.textContent||"").trim();break}}tn.setAttribute("data-search-hit",String(Qt)),Wt.push({index:It,text:Ct,section:Rn||"Unlabeled Section",hitId:Qt}),Qt+=1}}),V(Wt.slice(0,12))};g.useEffect(()=>{var Te;if(!q)return;D(((Te=zn[0])==null?void 0:Te.id)||"");const Q=qe=>{var Wt;const Nt=qe.target;Nt&&((Wt=ae.current)!=null&&Wt.contains(Nt)||(re(!1),V([])))};return window.addEventListener("mousedown",Q),()=>{window.removeEventListener("mousedown",Q)}},[q,zn]),g.useEffect(()=>{if(!q){D("");return}const Q=Z.current;if(!Q)return;let Te=0;const qe=()=>{var J;const Wt=Array.from(Q.querySelectorAll("[data-heading-id]"));if(Wt.length===0)return;const tn=Q.getBoundingClientRect().top+18,It=Wt.map((Ne,fe)=>({index:fe,id:Ne.dataset.headingId||Ne.id||"",top:Ne.getBoundingClientRect().top})).filter(Ne=>!!Ne.id);if(It.length===0)return;let Ct=0,Rn=!1;for(const Ne of It){if(Ne.top<=tn){Ct=Ne.index,Rn=!0;continue}Rn||(Ct=Ne.index);break}Q.scrollTop+Q.clientHeight>=Q.scrollHeight-2&&(Ct=Math.max(0,It.length-1));const lt=zn[Ct],P=((J=It[Ct])==null?void 0:J.id)||"",$=(lt==null?void 0:lt.id)||P;$&&D($)};qe();const Nt=()=>{Te&&cancelAnimationFrame(Te),Te=requestAnimationFrame(qe)};return Q.addEventListener("scroll",Nt,{passive:!0}),window.addEventListener("resize",Nt),()=>{Te&&cancelAnimationFrame(Te),Q.removeEventListener("scroll",Nt),window.removeEventListener("resize",Nt)}},[q,zn]);const jn=g.useMemo(()=>[{id:"overview",label:"Overview",icon:m8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Bc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Il},{id:"top-players",label:"Top Players",icon:Bc},{id:"top-skills-outgoing",label:"Top Skills",icon:Sk},{id:"squad-composition",label:"Classes",icon:Lr},{id:"timeline",label:"Squad vs Enemy Size",icon:Lr},{id:"map-distribution",label:"Map Distribution",icon:Pk}]},{id:"roster",label:"Roster Intel",icon:gm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:gm},{id:"squad-comp-fight",label:"Squad Comp",icon:Lr},{id:"fight-comp",label:"Fight Comp",icon:Il}]},{id:"offense",label:"Offensive Stats",icon:Il,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:E$},{id:"player-breakdown",label:"Player Breakdown",icon:Ak},{id:"damage-breakdown",label:"Damage Breakdown",icon:Nk},{id:"spike-damage",label:"Spike Damage",icon:xm},{id:"conditions-outgoing",label:"Conditions",icon:cx}]},{id:"defense",label:"Defensive Stats",icon:vd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:vd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:xm},{id:"defense-mitigation",label:"Damage Mitigation",icon:Ek},{id:"boon-output",label:"Boon Output",icon:zc},{id:"boon-timeline",label:"Boon Timeline",icon:Mk},{id:"boon-uptime",label:"Boon Uptime",icon:Uf},{id:"support-detailed",label:"Support Detailed",icon:Dk},{id:"healing-stats",label:"Healing Stats",icon:DO}]},{id:"other",label:"Other Metrics",icon:ux,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Ck},{id:"special-buffs",label:"Special Buffs",icon:Ig},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ok},{id:"skill-usage",label:"Skill Usage",icon:jk},{id:"apm-stats",label:"APM Breakdown",icon:Tk}]}],[]),_i=g.useMemo(()=>{const Q=new Map;return jn.forEach(Te=>{Q.set(Te.id.toLowerCase(),Te.id),(Te.sectionIds||[]).forEach(qe=>Q.set(String(qe).toLowerCase(),Te.id)),(Te.items||[]).forEach(qe=>Q.set(String(qe.id).toLowerCase(),Te.id))}),Q.set("report-top","overview"),Q.set("overview","overview"),Q.set("kdr","overview"),Q},[jn]),Ur=g.useMemo(()=>jn.find(Q=>Q.id===se)||jn[0],[jn,se]),$r=y==="kinetic",pu=g.useMemo(()=>{const Te=((Ur==null?void 0:Ur.sectionIds)||((Ur==null?void 0:Ur.items)||[]).map(qe=>qe.id)).map(qe=>qe==="kdr"?"overview":qe);return new Set(Te)},[Ur]),co=Q=>{if(Q==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const Te=Q==="kdr"?"overview":Q,qe=Te==="overview"&&Q!=="kdr"?"report-top":Te,Nt=document.getElementById(qe);if(!Nt||!(Nt.getAttribute("data-section-visible")!=="false")||!Nt.offsetParent)return!1;const Qt=Nt.getBoundingClientRect();if(Qt.height<=0)return!1;let tn=0;if(qe==="stats-view-top"){const Ct=document.getElementById("report-top");Ct&&(tn=Ct.getBoundingClientRect().height+12)}const It=Qt.top+window.scrollY-12-tn;return window.scrollTo({top:Math.max(0,It),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${qe}`),!0},sl=(Q,Te=0)=>{co(Q)||Te>=12||window.setTimeout(()=>{requestAnimationFrame(()=>sl(Q,Te+1))},40)};g.useEffect(()=>{if(!t)return;const Q=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(qe=>{qe.scrollHeight})});return()=>cancelAnimationFrame(Q)},[t]),g.useEffect(()=>{const Q=Ee.current;if(!Q)return;let Te=0;const qe=()=>{if(co(Q)){Ee.current=null;return}if(Te+=1,Te>=20){Ee.current=null;return}window.setTimeout(()=>requestAnimationFrame(qe),40)};requestAnimationFrame(qe)},[se]),g.useEffect(()=>{const Q=()=>{var Qt,tn;const Te=(window.location.hash||"").replace(/^#/,"").trim();if(!Te)return;let qe=Te;try{qe=decodeURIComponent(Te)}catch{qe=Te}const Nt=qe.toLowerCase(),Wt=_i.get(Nt);if(Wt){if(z(Wt),U(()=>{const It={};return jn.forEach(Ct=>{It[Ct.id]=Ct.id===Wt}),It}),Nt==="report-top")H("kdr");else{const It=jn.find(Ct=>Ct.id.toLowerCase()===Nt);H(((tn=(Qt=It==null?void 0:It.items)==null?void 0:Qt[0])==null?void 0:tn.id)||Nt)}Ee.current=Nt==="report-top"?"kdr":Nt}};return Q(),window.addEventListener("hashchange",Q),()=>{window.removeEventListener("hashchange",Q)}},[_i,jn]);const ci=y==="matte",Fs=f??ig,or=$r&&Fs.id===Hf,ya=$r?or?"142, 155, 214":"90, 80, 68":Fs.rgb,ui=ci?"#d8e1eb":$r?or?"#f0d8a9":"#24211d":"var(--accent)",wa={"--accent":`rgb(${ya})`,"--accent-rgb":ya,"--accent-soft":`rgba(${ya}, ${$r?or?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${ya}, ${$r?or?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${ya}, ${$r?or?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${ya}, ${$r?or?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${ya}, ${$r?or?"0.08":"0.04":"0.08"})`},Rs=y==="modern"||y==="matte"||y==="kinetic",gu=Fs.pattern?ci||$r?void 0:Rs?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Fs.pattern}`:Fs.pattern:void 0,tr=$r?{backgroundImage:"none",backgroundColor:or?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:or?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:ci?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Rs?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var tn;let Q=!0;const qe=new URLSearchParams(window.location.search).get("report")||((tn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:tn[1])||null,Nt=qe?`${kt}reports/${qe}/report.json`:`${kt}report.json`;qe&&l(Nt);const Wt=It=>{var di,lt,P;const Ct=new Set((((di=It==null?void 0:It.meta)==null?void 0:di.commanders)||[]).map($=>String($)));if(Ct.size===0)return It;const Rn=It.stats;return(lt=Rn==null?void 0:Rn.leaderboards)!=null&&lt.closestToTag&&(Rn.leaderboards.closestToTag=Rn.leaderboards.closestToTag.map($=>Ct.has(String($==null?void 0:$.account))?{...$,value:0}:$)),(P=Rn==null?void 0:Rn.closestToTag)!=null&&P.player&&Ct.has(String(Rn.closestToTag.player))&&(Rn.closestToTag={...Rn.closestToTag,value:0}),It},Qt=It=>{var P,$,J,Ne,fe;const Ct=It==null?void 0:It.stats;if(!Ct||typeof Ct!="object")return It;const Rn=Array.isArray((P=Ct==null?void 0:Ct.leaderboards)==null?void 0:P.downContrib)?Ct.leaderboards.downContrib:[];if(!Rn.length)return It;const lt=Rn.map(Ue=>({...Ue,value:Number((Ue==null?void 0:Ue.value)??0)})).filter(Ue=>Number.isFinite(Ue.value)).sort((Ue,Me)=>Me.value-Ue.value||String((Ue==null?void 0:Ue.account)||"").localeCompare(String((Me==null?void 0:Me.account)||"")))[0];return lt&&(Ct.maxDownContrib={...Ct.maxDownContrib||{},value:Number(lt.value||0),player:String(lt.account||(($=Ct.maxDownContrib)==null?void 0:$.player)||"-"),count:Number(lt.count||((J=Ct.maxDownContrib)==null?void 0:J.count)||0),profession:String(lt.profession||((Ne=Ct.maxDownContrib)==null?void 0:Ne.profession)||"Unknown"),professionList:Array.isArray(lt.professionList)?lt.professionList:((fe=Ct.maxDownContrib)==null?void 0:fe.professionList)||[]}),It};return fetch(Nt,{cache:"no-store"}).then(It=>It.ok?It.json():Promise.reject()).then(It=>{var Rn,di,lt,P,$;if(!Q)return;const Ct=Qt(Wt(It));if(n(Ct),!R){const J=(Rn=Ct==null?void 0:Ct.stats)==null?void 0:Rn.uiTheme;J==="modern"||J==="classic"||J==="crt"||J==="matte"||J==="kinetic"?S(J):((di=Ct==null?void 0:Ct.stats)==null?void 0:di.webThemeId)===E0?S("matte"):(((lt=Ct==null?void 0:Ct.stats)==null?void 0:lt.webThemeId)===O0||((P=Ct==null?void 0:Ct.stats)==null?void 0:P.webThemeId)===Hf)&&S("kinetic"),typeof(($=Ct==null?void 0:Ct.stats)==null?void 0:$.webThemeId)=="string"&&Ct.stats.webThemeId&&I(Ct.stats.webThemeId)}}).catch(()=>{if(qe){if(!Q)return;s("Report not found yet. It may still be deploying.")}fetch(`${kt}reports/index.json`,{cache:"no-store"}).then(It=>It.ok?It.json():Promise.reject()).then(It=>{Q&&i(Array.isArray(It)?It:[])}).catch(()=>{Q&&s("No report data found.")})}),()=>{Q=!1}},[kt,R]),g.useEffect(()=>{if(t){const Q=t.meta.dateLabel||oE(t.meta.dateStart,t.meta.dateEnd);document.title=Q?`ArcBridge  ${t.meta.title}  ${Q}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),g.useEffect(()=>{var Te;if(R)return;const Q=(Te=t==null?void 0:t.stats)==null?void 0:Te.webThemeId;typeof Q=="string"&&Q&&I(Q)},[t,R]),g.useEffect(()=>{const Q=document.body;Q.classList.add("web-report"),Q.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),ci?Q.classList.add("theme-matte"):y==="modern"?Q.classList.add("theme-modern"):y==="crt"?Q.classList.add("theme-crt"):y==="kinetic"?(Q.classList.add("theme-kinetic"),or&&Q.classList.add("theme-kinetic-dark"),_==="original"&&Q.classList.add("theme-kinetic-font-original")):Q.classList.add("theme-classic")},[y,ci,or,_]),g.useEffect(()=>{var Te;if(R||Pe&&((Te=t==null?void 0:t.stats)!=null&&Te.webThemeId))return;let Q=!0;return fetch(un(Ft,"theme.json"),{cache:"no-store"}).then(qe=>qe.ok?qe.json():Promise.reject()).then(qe=>{Q&&typeof(qe==null?void 0:qe.id)=="string"&&qe.id&&I(qe.id)}).catch(()=>{}),()=>{Q=!1}},[Ft,Pe,t,R]),g.useEffect(()=>{var Qt,tn;if(R)return;const Q=(Qt=t==null?void 0:t.stats)==null?void 0:Qt.webThemeId,Te=(tn=t==null?void 0:t.stats)==null?void 0:tn.uiTheme;if((Te==="modern"||Te==="classic"||Te==="crt"||Te==="matte"||Te==="kinetic")&&!(Q===E0&&Te!=="matte"||(Q===O0||Q===Hf)&&Te!=="kinetic"||Q==="CRT"&&Te!=="crt"))return;let Wt=!0;return fetch(un(Ft,"ui-theme.json"),{cache:"no-store"}).then(It=>It.ok?It.json():Promise.reject()).then(It=>{if(!Wt)return;const Ct=It==null?void 0:It.theme;(Ct==="modern"||Ct==="classic"||Ct==="crt"||Ct==="matte"||Ct==="kinetic")&&S(Ct)}).catch(()=>{}),()=>{Wt=!1}},[Ft,t,R]),g.useEffect(()=>{let Q=!0;return fetch(un(Ft,"logo.json"),{cache:"no-store"}).then(Te=>Te.ok?Te.json():Promise.reject()).then(Te=>{if(!Q)return;const qe="svg/ArcBridge.svg",Nt=Te!=null&&Te.path?String(Te.path):qe,Wt=Te!=null&&Te.updatedAt?String(Te.updatedAt):"",Qt=un(Ft,Nt),tn=Wt?`${Qt}?v=${encodeURIComponent(Wt)}`:Qt;p(tn),b(!(Te!=null&&Te.path)||Nt===qe)}).catch(()=>{Q&&(p(null),b(!1))}),()=>{Q=!1}},[Ft]);const ka=g.useMemo(()=>r?[...r].sort((Q,Te)=>{const qe=new Date(Q.dateEnd||Q.dateStart).getTime();return new Date(Te.dateEnd||Te.dateStart).getTime()-qe}):[],[r]),oa=g.useMemo(()=>{if(!ka.length)return[];const Q=u.trim().toLowerCase();return Q?ka.filter(Te=>{var Wt;const qe=((Wt=Te.commanders)==null?void 0:Wt.join(" "))||"";return`${Te.title} ${qe} ${Te.dateLabel}`.toLowerCase().includes(Q)}):ka},[ka,u]),xu=Q=>{if(!Q){mxe(A1);return}aE(A1,JSON.stringify({themeId:Q}))},Bs=Q=>{const Te=Q===iE?null:Q;Te&&!Mf.some(qe=>qe.id===Te)||(T(Te),xu(Te),le(!1))},vu=Q=>{G(Q),aE(rE,Q),X(!1)};g.useEffect(()=>{const Q=qe=>{if(!Ke.current)return;const Nt=qe.target;Ke.current.contains(Nt)||Ye.current&&Ye.current.contains(Nt)||(le(!1),X(!1))},Te=qe=>{qe.key==="Escape"&&(le(!1),X(!1))};return window.addEventListener("mousedown",Q),window.addEventListener("keydown",Te),()=>{window.removeEventListener("mousedown",Q),window.removeEventListener("keydown",Te)}},[]),g.useEffect(()=>()=>{Le.current!==null&&(cancelAnimationFrame(Le.current),Le.current=null)},[]);const Sa=g.useMemo(()=>{if(!R)return"Default";const Q=Mf.find(Te=>Te.id===R);return(Q==null?void 0:Q.label)||"Default"},[R]),cc=c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ke,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>le(Q=>!Q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:Sa}),c.jsx("span",{className:`transition-transform ${ee?"rotate-180":""}`,children:""})]}),ee&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>Bs(iE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Mf.map(Q=>c.jsx("button",{type:"button",onClick:()=>Bs(Q.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${R===Q.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Q.label},Q.id))]})]}),ol=$r?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ye,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>X(Q=>!Q),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:_==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${be?"rotate-180":""}`,children:""})]}),be&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>vu("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>vu("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,bu=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:cc}),ol&&c.jsx("div",{className:"min-w-[160px]",children:ol}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:Q=>{Q.preventDefault(),K(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),gr=c.jsxs(fxe,{isOpen:q,onClose:()=>K(!1),searchValue:ie,searchFocused:ne,searchResults:B,onSearchChange:Q=>{k(Q),requestAnimationFrame(()=>Nn(Q))},onSearchFocus:()=>{re(!0),requestAnimationFrame(()=>Nn(ie))},onSearchBlur:Q=>{var Te;Q&&((Te=ae.current)!=null&&Te.contains(Q))||re(!1)},onSearchEnter:()=>{B.length>0&&hn(B[0].hitId,B[0].text)},onSearchResultMouseDown:Q=>{re(!0),hn(Q.hitId,Q.text)},renderHighlightedMatch:ds,searchRef:ae,tocItems:zn,activeTocId:E,onTocClick:Q=>{const Te=Z.current;if(!Te)return;let qe=Te.querySelector(`[data-heading-id="${Q.id}"]`);if(!qe){const Nt=Q.text.trim().replace(/\s+/g," ");qe=Array.from(Te.querySelectorAll("h1, h2, h3")).find(Qt=>(Qt.textContent||"").trim().replace(/\s+/g," ")===Nt)||null}qe&&(D(Q.id),requestAnimationFrame(()=>{const Nt=Te.getBoundingClientRect(),Wt=qe.getBoundingClientRect(),Qt=Te.scrollTop+(Wt.top-Nt.top)-12;Te.scrollTop=Math.max(0,Qt)}))},contentRef:Z,children:[(F.current=new Map,null),c.jsx(zde,{remarkPlugins:[ehe],components:{h1:({children:Q})=>{const Te=en(Q),qe=Mr(Te);return c.jsx("h1",{id:qe,"data-heading-id":qe,className:"text-2xl font-bold text-white scroll-mt-6",children:Q})},h2:({children:Q})=>{const Te=en(Q),qe=Mr(Te);return c.jsx("h2",{id:qe,"data-heading-id":qe,className:"text-xl font-semibold text-white scroll-mt-6",children:Q})},h3:({children:Q})=>{const Te=en(Q),qe=Mr(Te);return c.jsx("h3",{id:qe,"data-heading-id":qe,className:"text-lg font-semibold text-white scroll-mt-6",children:Q})},p:({children:Q})=>c.jsx("p",{className:"leading-6 text-gray-200",children:Q}),ul:({children:Q})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Q}),ol:({children:Q})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Q}),li:({children:Q})=>c.jsx("li",{className:"leading-6",children:Q}),blockquote:({children:Q})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Q}),a:({href:Q,children:Te})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Q,target:"_blank",rel:"noreferrer",children:Te}),table:({children:Q})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Q})}),th:({children:Q})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Q}),td:({children:Q})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Q}),pre:({children:Q})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Q}),code:Q=>{const{inline:Te,children:qe}=Q;return Te===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:qe}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:qe})}},children:qb})]});if(t){const Q=un(Ft,"svg/ArcBridge.svg"),Te=()=>{Le.current!==null&&(cancelAnimationFrame(Le.current),Le.current=null);const lt=window.scrollY||window.pageYOffset||0;if(lt<=1){window.scrollTo({top:0,behavior:"auto"});return}const P=320,$=performance.now(),J=Ne=>{const fe=Ne-$,Ue=Math.min(1,fe/P),Me=1-Math.pow(1-Ue,3),bt=Math.max(0,Math.round(lt*(1-Me)));window.scrollTo({top:bt,behavior:"auto"}),Ue<1?Le.current=requestAnimationFrame(J):(Le.current=null,window.scrollTo({top:0,behavior:"auto"}))};Le.current=requestAnimationFrame(J)},qe=lt=>{U(()=>{const P={};return jn.forEach($=>{P[$.id]=$.id===lt}),P})},Nt=lt=>{var $,J;Ee.current=null,z(lt);const P=jn.find(Ne=>Ne.id===lt);H(((J=($=P==null?void 0:P.items)==null?void 0:$[0])==null?void 0:J.id)||"kdr"),Te()},Wt=lt=>{if(!!!te[lt]){qe(lt),Nt(lt);return}if(lt!==se){Nt(lt);return}U($=>({...$,[lt]:!1}))},Qt=(lt,P)=>{te[lt]||qe(lt),H(P);const $=lt===se;$||(Ee.current=P,z(lt),requestAnimationFrame(()=>sl(P))),$&&requestAnimationFrame(()=>sl(P))},tn=lt=>{const P=lt.currentTarget;if(!(P.scrollHeight>P.clientHeight)){window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault();return}const J=P.scrollTop<=0,Ne=P.scrollTop+P.clientHeight>=P.scrollHeight-1;(J&&lt.deltaY<0||Ne&&lt.deltaY>0)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault())},It=lt=>{const P=ue.current;if(!P)return;const $=lt.target;if(!$||!P.contains($))return;let J=$;for(;J&&J!==P;){const fe=window.getComputedStyle(J).overflowY;if((fe==="auto"||fe==="scroll")&&J.scrollHeight>J.clientHeight+1){const Me=J.scrollTop<=0,bt=J.scrollTop+J.clientHeight>=J.scrollHeight-1;(lt.deltaY<0&&Me||lt.deltaY>0&&bt)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault());return}J=J.parentElement}},Ct=lt=>{const P=Math.max(0,6-lt);return{accordionDuration:.5+P*.07,itemDuration:.34+P*.035,stagger:.05+P*.01,delayChildren:.06+P*.015}},Rn=lt=>{const P=Ct(lt);return{open:{transition:{staggerChildren:P.stagger,delayChildren:P.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,P.stagger*.7),staggerDirection:-1}}}},di={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ci?"var(--bg-base)":$r?or?"#2b3048":"#d8d1c5":Rs?"#0f141c":"#0f172a",backgroundImage:ci?"none":gu,...wa},children:[!ci&&!$r&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${v?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${v?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:mn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:tn,children:jn.map(lt=>{const P=lt.icon,$=lt.id===se,J=!!te[lt.id],Ne=Ct(lt.items.length),fe=Rn(lt.items.length);return c.jsxs(Gs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Wt(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${$?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(P,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(Gs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Zy,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Gs.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ne.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Gs.div,{variants:fe,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(Ue=>{const Me=Ue.icon;return c.jsxs(Gs.button,{variants:di,transition:{duration:Ne.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Qt(lt.id,Ue.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${W===Ue.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Me,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ue.label]},Ue.id)})})},`${lt.id}-submenu-mobile`)]},lt.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ui,maskImage:`url(${Q})`,WebkitMaskImage:`url(${Q})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:tn,children:jn.map(lt=>{const P=lt.icon,$=lt.id===se,J=!!te[lt.id],Ne=Ct(lt.items.length),fe=Rn(lt.items.length);return c.jsxs(Gs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Wt(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${$?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(P,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(Gs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Zy,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Gs.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ne.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Gs.div,{variants:fe,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(Ue=>{const Me=Ue.icon;return c.jsxs(Gs.button,{variants:di,transition:{duration:Ne.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Qt(lt.id,Ue.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${W===Ue.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Me,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Ue.label]},Ue.id)})})},`${lt.id}-submenu-desktop`)]},lt.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:mn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${yc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:tr,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(x?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ui,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||oE(t.meta.dateStart,t.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(JC,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(i8,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Lr,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(TO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Ur==null?void 0:Ur.items)||[]).map(lt=>{const P=lt.icon;return c.jsxs("button",{onClick:()=>Qt((Ur==null?void 0:Ur.id)||"overview",lt.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${W===lt.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(P,{className:"w-3 h-3 text-[color:var(--accent)]"})}),lt.label]},`chip-${lt.id}`)})})]}),c.jsx("div",{ref:ue,onWheelCapture:It,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(roe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(ll=t.stats)==null?void 0:ll.statsViewSettings,embedded:!0,uiTheme:y,sectionVisibility:lt=>pu.has(lt),dashboardTitle:`Statistics Dashboard - ${(Ur==null?void 0:Ur.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:bu})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:mn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(AO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(JC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(r8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),gr]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:ci?"var(--bg-base)":$r?or?"#2b3048":"#d8d1c5":Rs?"#0f141c":"#0f172a",backgroundImage:ci?"none":gu,...wa},children:[!ci&&!$r&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${yc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:tr,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(x?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ui,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[oa.length," Reports"]})})]}),c.jsxs("div",{className:`${yc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:tr,children:[c.jsx("input",{type:"search",value:u,onChange:Q=>d(Q.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:oa.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:ka.length})]})]}),a&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:tr,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&c.jsx("div",{className:`${yc} p-6 text-gray-300`,style:tr,children:"Loading reports..."}),oa.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:oa.map(Q=>{var Te,qe,Nt,Wt;return c.jsx("a",{href:pxe(Ht,Q.id,L),className:`${yc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:tr,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Q.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:xxe(Q.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Lr,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:Q.commanders.length?Q.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(Te=Q.summary)!=null&&Te.mapSlices&&Q.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(vxe,{slices:Q.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(bxe,{value:(qe=Q.summary)==null?void 0:qe.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Nt=Q.summary)==null?void 0:Nt.avgSquadSize)??"--"," / ",((Wt=Q.summary)==null?void 0:Wt.avgEnemySize)??"--"]})]}),c.jsx(c8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Q.id)})}),!a&&r&&ka.length===0&&c.jsx("div",{className:`${yc} p-6 text-gray-300`,style:tr,children:"No reports uploaded yet."}),!a&&r&&ka.length>0&&oa.length===0&&c.jsx("div",{className:`${yc} p-6 text-gray-300`,style:tr,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:bu})]}),gr]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");ay.createRoot(document.getElementById("root")).render(c.jsx(K0.StrictMode,{children:c.jsx(yxe,{})}));
