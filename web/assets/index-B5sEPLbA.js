var CR=Object.defineProperty;var jR=(e,t,n)=>t in e?CR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Tv=(e,t,n)=>jR(e,typeof t!="symbol"?t+"":t,n);function PR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var KE={exports:{}},qg={},GE={exports:{}},fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=Symbol.for("react.element"),AR=Symbol.for("react.portal"),TR=Symbol.for("react.fragment"),ER=Symbol.for("react.strict_mode"),DR=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),OR=Symbol.for("react.context"),IR=Symbol.for("react.forward_ref"),_R=Symbol.for("react.suspense"),LR=Symbol.for("react.memo"),$R=Symbol.for("react.lazy"),VN=Symbol.iterator;function FR(e){return e===null||typeof e!="object"?null:(e=VN&&e[VN]||e["@@iterator"],typeof e=="function"?e:null)}var YE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XE=Object.assign,ZE={};function qu(e,t,n){this.props=e,this.context=t,this.refs=ZE,this.updater=n||YE}qu.prototype.isReactComponent={};qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function QE(){}QE.prototype=qu.prototype;function Cw(e,t,n){this.props=e,this.context=t,this.refs=ZE,this.updater=n||YE}var jw=Cw.prototype=new QE;jw.constructor=Cw;XE(jw,qu.prototype);jw.isPureReactComponent=!0;var WN=Array.isArray,JE=Object.prototype.hasOwnProperty,Pw={current:null},eD={key:!0,ref:!0,__self:!0,__source:!0};function tD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)JE.call(t,r)&&!eD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Xf,type:e,key:a,ref:s,props:i,_owner:Pw.current}}function RR(e,t){return{$$typeof:Xf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Aw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xf}function BR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var HN=/\/+/g;function Ev(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BR(""+e.key):t.toString(36)}function zh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Xf:case AR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ev(s,0):r,WN(i)?(n="",e!=null&&(n=e.replace(HN,"$&/")+"/"),zh(i,t,n,"",function(c){return c})):i!=null&&(Aw(i)&&(i=RR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(HN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",WN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Ev(a,o);s+=zh(a,t,n,l,i)}else if(l=FR(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Ev(a,o++),s+=zh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Qm(e,t,n){if(e==null)return e;var r=[],i=0;return zh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function zR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wi={current:null},Uh={transition:null},UR={ReactCurrentDispatcher:Wi,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:Pw};function nD(){throw Error("act(...) is not supported in production builds of React.")}fn.Children={map:Qm,forEach:function(e,t,n){Qm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qm(e,function(){t++}),t},toArray:function(e){return Qm(e,function(t){return t})||[]},only:function(e){if(!Aw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fn.Component=qu;fn.Fragment=TR;fn.Profiler=DR;fn.PureComponent=Cw;fn.StrictMode=ER;fn.Suspense=_R;fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;fn.act=nD;fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=XE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Pw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)JE.call(t,l)&&!eD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Xf,type:e.type,key:i,ref:a,props:r,_owner:s}};fn.createContext=function(e){return e={$$typeof:OR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:MR,_context:e},e.Consumer=e};fn.createElement=tD;fn.createFactory=function(e){var t=tD.bind(null,e);return t.type=e,t};fn.createRef=function(){return{current:null}};fn.forwardRef=function(e){return{$$typeof:IR,render:e}};fn.isValidElement=Aw;fn.lazy=function(e){return{$$typeof:$R,_payload:{_status:-1,_result:e},_init:zR}};fn.memo=function(e,t){return{$$typeof:LR,type:e,compare:t===void 0?null:t}};fn.startTransition=function(e){var t=Uh.transition;Uh.transition={};try{e()}finally{Uh.transition=t}};fn.unstable_act=nD;fn.useCallback=function(e,t){return Wi.current.useCallback(e,t)};fn.useContext=function(e){return Wi.current.useContext(e)};fn.useDebugValue=function(){};fn.useDeferredValue=function(e){return Wi.current.useDeferredValue(e)};fn.useEffect=function(e,t){return Wi.current.useEffect(e,t)};fn.useId=function(){return Wi.current.useId()};fn.useImperativeHandle=function(e,t,n){return Wi.current.useImperativeHandle(e,t,n)};fn.useInsertionEffect=function(e,t){return Wi.current.useInsertionEffect(e,t)};fn.useLayoutEffect=function(e,t){return Wi.current.useLayoutEffect(e,t)};fn.useMemo=function(e,t){return Wi.current.useMemo(e,t)};fn.useReducer=function(e,t,n){return Wi.current.useReducer(e,t,n)};fn.useRef=function(e){return Wi.current.useRef(e)};fn.useState=function(e){return Wi.current.useState(e)};fn.useSyncExternalStore=function(e,t,n){return Wi.current.useSyncExternalStore(e,t,n)};fn.useTransition=function(){return Wi.current.useTransition()};fn.version="18.3.1";GE.exports=fn;var x=GE.exports;const Kg=vs(x),VR=PR({__proto__:null,default:Kg},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=x,HR=Symbol.for("react.element"),qR=Symbol.for("react.fragment"),KR=Object.prototype.hasOwnProperty,GR=WR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YR={key:!0,ref:!0,__self:!0,__source:!0};function rD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)KR.call(t,r)&&!YR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:HR,type:e,key:a,ref:s,props:i,_owner:GR.current}}qg.Fragment=qR;qg.jsx=rD;qg.jsxs=rD;KE.exports=qg;var u=KE.exports,sy={},iD={exports:{}},Aa={},aD={exports:{}},sD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,I){var A=Y.length;Y.push(I);e:for(;0<A;){var j=A-1>>>1,W=Y[j];if(0<i(W,I))Y[j]=I,Y[A]=W,A=j;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var I=Y[0],A=Y.pop();if(A!==I){Y[0]=A;e:for(var j=0,W=Y.length,k=W>>>1;j<k;){var O=2*(j+1)-1,re=Y[O],X=O+1,z=Y[X];if(0>i(re,A))X<W&&0>i(z,re)?(Y[j]=z,Y[X]=A,j=X):(Y[j]=re,Y[O]=A,j=O);else if(X<W&&0>i(z,A))Y[j]=z,Y[X]=A,j=X;else break e}}return I}function i(Y,I){var A=Y.sortIndex-I.sortIndex;return A!==0?A:Y.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=Y)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function S(Y){if(g=!1,w(Y),!p)if(n(l)!==null)p=!0,ue(C);else{var I=n(c);I!==null&&J(S,I.startTime-Y)}}function C(Y,I){p=!1,g&&(g=!1,v(D),D=-1),m=!0;var A=h;try{for(w(I),f=n(l);f!==null&&(!(f.expirationTime>I)||Y&&!F());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var W=j(f.expirationTime<=I);I=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),w(I)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var O=n(c);O!==null&&J(S,O.startTime-I),k=!1}return k}finally{f=null,h=A,m=!1}}var N=!1,P=null,D=-1,_=5,T=-1;function F(){return!(e.unstable_now()-T<_)}function M(){if(P!==null){var Y=e.unstable_now();T=Y;var I=!0;try{I=P(!0,Y)}finally{I?ee():(N=!1,P=null)}}else N=!1}var ee;if(typeof b=="function")ee=function(){b(M)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,le=te.port2;te.port1.onmessage=M,ee=function(){le.postMessage(null)}}else ee=function(){y(M,0)};function ue(Y){P=Y,N||(N=!0,ee())}function J(Y,I){D=y(function(){Y(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ue(C))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var A=h;h=I;try{return Y()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,I){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var A=h;h=Y;try{return I()}finally{h=A}},e.unstable_scheduleCallback=function(Y,I,A){var j=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?j+A:j):A=j,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=A+W,Y={id:d++,callback:I,priorityLevel:Y,startTime:A,expirationTime:W,sortIndex:-1},A>j?(Y.sortIndex=A,t(c,Y),n(l)===null&&Y===n(c)&&(g?(v(D),D=-1):g=!0,J(S,A-j))):(Y.sortIndex=W,t(l,Y),p||m||(p=!0,ue(C))),Y},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(Y){var I=h;return function(){var A=h;h=I;try{return Y.apply(this,arguments)}finally{h=A}}}})(sD);aD.exports=sD;var XR=aD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=x,Ca=XR;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oD=new Set,af={};function Sc(e,t){Cu(e,t),Cu(e+"Capture",t)}function Cu(e,t){for(af[e]=t,e=0;e<t.length;e++)oD.add(t[e])}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oy=Object.prototype.hasOwnProperty,QR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},KN={};function JR(e){return oy.call(KN,e)?!0:oy.call(qN,e)?!1:QR.test(e)?KN[e]=!0:(qN[e]=!0,!1)}function eB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tB(e,t,n,r){if(t===null||typeof t>"u"||eB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xi[e]=new Hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xi[t]=new Hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xi[e]=new Hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xi[e]=new Hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xi[e]=new Hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xi[e]=new Hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xi[e]=new Hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xi[e]=new Hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xi[e]=new Hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tw=/[\-:]([a-z])/g;function Ew(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tw,Ew);xi[t]=new Hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tw,Ew);xi[t]=new Hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tw,Ew);xi[t]=new Hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xi[e]=new Hi(e,1,!1,e.toLowerCase(),null,!1,!1)});xi.xlinkHref=new Hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xi[e]=new Hi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dw(e,t,n,r){var i=xi.hasOwnProperty(t)?xi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tB(t,n,i,r)&&(n=null),r||i===null?JR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var So=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jm=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),ly=Symbol.for("react.profiler"),lD=Symbol.for("react.provider"),cD=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),cy=Symbol.for("react.suspense"),uy=Symbol.for("react.suspense_list"),Iw=Symbol.for("react.memo"),Fo=Symbol.for("react.lazy"),uD=Symbol.for("react.offscreen"),GN=Symbol.iterator;function fd(e){return e===null||typeof e!="object"?null:(e=GN&&e[GN]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Dv;function Od(e){if(Dv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dv=t&&t[1]||""}return`
`+Dv+e}var Mv=!1;function Ov(e,t){if(!e||Mv)return"";Mv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Mv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Od(e):""}function nB(e){switch(e.tag){case 5:return Od(e.type);case 16:return Od("Lazy");case 13:return Od("Suspense");case 19:return Od("SuspenseList");case 0:case 2:case 15:return e=Ov(e.type,!1),e;case 11:return e=Ov(e.type.render,!1),e;case 1:return e=Ov(e.type,!0),e;default:return""}}function dy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Zc:return"Portal";case ly:return"Profiler";case Mw:return"StrictMode";case cy:return"Suspense";case uy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cD:return(e.displayName||"Context")+".Consumer";case lD:return(e._context.displayName||"Context")+".Provider";case Ow:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iw:return t=e.displayName||null,t!==null?t:dy(e.type)||"Memo";case Fo:t=e._payload,e=e._init;try{return dy(e(t))}catch{}}return null}function rB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dy(t);case 8:return t===Mw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ol(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iB(e){var t=dD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eh(e){e._valueTracker||(e._valueTracker=iB(e))}function fD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fy(e,t){var n=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function YN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ol(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mD(e,t){t=t.checked,t!=null&&Dw(e,"checked",t,!1)}function my(e,t){mD(e,t);var n=ol(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hy(e,t.type,n):t.hasOwnProperty("defaultValue")&&hy(e,t.type,ol(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hy(e,t,n){(t!=="number"||fp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Id=Array.isArray;function pu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ol(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function py(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ZN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ze(92));if(Id(n)){if(1<n.length)throw Error(ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ol(n)}}function hD(e,t){var n=ol(t.value),r=ol(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function QN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var th,gD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(th=th||document.createElement("div"),th.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=th.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aB=["Webkit","ms","Moz","O"];Object.keys(Bd).forEach(function(e){aB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bd[t]=Bd[e]})});function vD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bd.hasOwnProperty(e)&&Bd[e]?(""+t).trim():t+"px"}function xD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var sB=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(e,t){if(t){if(sB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function xy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=null;function _w(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var by=null,gu=null,vu=null;function JN(e){if(e=Jf(e)){if(typeof by!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Qg(t),by(e.stateNode,e.type,t))}}function yD(e){gu?vu?vu.push(e):vu=[e]:gu=e}function bD(){if(gu){var e=gu,t=vu;if(vu=gu=null,JN(e),t)for(e=0;e<t.length;e++)JN(t[e])}}function wD(e,t){return e(t)}function kD(){}var Iv=!1;function SD(e,t,n){if(Iv)return e(t,n);Iv=!0;try{return wD(e,t,n)}finally{Iv=!1,(gu!==null||vu!==null)&&(kD(),bD())}}function of(e,t){var n=e.stateNode;if(n===null)return null;var r=Qg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ze(231,t,typeof n));return n}var wy=!1;if(fo)try{var md={};Object.defineProperty(md,"passive",{get:function(){wy=!0}}),window.addEventListener("test",md,md),window.removeEventListener("test",md,md)}catch{wy=!1}function oB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var zd=!1,mp=null,hp=!1,ky=null,lB={onError:function(e){zd=!0,mp=e}};function cB(e,t,n,r,i,a,s,o,l){zd=!1,mp=null,oB.apply(lB,arguments)}function uB(e,t,n,r,i,a,s,o,l){if(cB.apply(this,arguments),zd){if(zd){var c=mp;zd=!1,mp=null}else throw Error(ze(198));hp||(hp=!0,ky=c)}}function Nc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ND(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e2(e){if(Nc(e)!==e)throw Error(ze(188))}function dB(e){var t=e.alternate;if(!t){if(t=Nc(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return e2(i),e;if(a===r)return e2(i),t;a=a.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?e:t}function CD(e){return e=dB(e),e!==null?jD(e):null}function jD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jD(e);if(t!==null)return t;e=e.sibling}return null}var PD=Ca.unstable_scheduleCallback,t2=Ca.unstable_cancelCallback,fB=Ca.unstable_shouldYield,mB=Ca.unstable_requestPaint,Or=Ca.unstable_now,hB=Ca.unstable_getCurrentPriorityLevel,Lw=Ca.unstable_ImmediatePriority,AD=Ca.unstable_UserBlockingPriority,pp=Ca.unstable_NormalPriority,pB=Ca.unstable_LowPriority,TD=Ca.unstable_IdlePriority,Gg=null,Ms=null;function gB(e){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(Gg,e,void 0,(e.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:yB,vB=Math.log,xB=Math.LN2;function yB(e){return e>>>=0,e===0?32:31-(vB(e)/xB|0)|0}var nh=64,rh=4194304;function _d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=_d(o):(a&=s,a!==0&&(r=_d(a)))}else s=n&~i,s!==0?r=_d(s):a!==0&&(r=_d(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ls(t),i=1<<n,r|=e[n],t&=~i;return r}function bB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ls(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=bB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Sy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ED(){var e=nh;return nh<<=1,!(nh&4194240)&&(nh=64),e}function _v(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ls(t),e[t]=n}function kB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ls(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function $w(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ls(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var En=0;function DD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MD,Fw,OD,ID,_D,Ny=!1,ih=[],Xo=null,Zo=null,Qo=null,lf=new Map,cf=new Map,Vo=[],SB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n2(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":lf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(t.pointerId)}}function hd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Jf(t),t!==null&&Fw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NB(e,t,n,r,i){switch(t){case"focusin":return Xo=hd(Xo,e,t,n,r,i),!0;case"dragenter":return Zo=hd(Zo,e,t,n,r,i),!0;case"mouseover":return Qo=hd(Qo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lf.set(a,hd(lf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,cf.set(a,hd(cf.get(a)||null,e,t,n,r,i)),!0}return!1}function LD(e){var t=Vl(e.target);if(t!==null){var n=Nc(t);if(n!==null){if(t=n.tag,t===13){if(t=ND(n),t!==null){e.blockedOn=t,_D(e.priority,function(){OD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yy=r,n.target.dispatchEvent(r),yy=null}else return t=Jf(n),t!==null&&Fw(t),e.blockedOn=n,!1;t.shift()}return!0}function r2(e,t,n){Vh(e)&&n.delete(t)}function CB(){Ny=!1,Xo!==null&&Vh(Xo)&&(Xo=null),Zo!==null&&Vh(Zo)&&(Zo=null),Qo!==null&&Vh(Qo)&&(Qo=null),lf.forEach(r2),cf.forEach(r2)}function pd(e,t){e.blockedOn===t&&(e.blockedOn=null,Ny||(Ny=!0,Ca.unstable_scheduleCallback(Ca.unstable_NormalPriority,CB)))}function uf(e){function t(i){return pd(i,e)}if(0<ih.length){pd(ih[0],e);for(var n=1;n<ih.length;n++){var r=ih[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xo!==null&&pd(Xo,e),Zo!==null&&pd(Zo,e),Qo!==null&&pd(Qo,e),lf.forEach(t),cf.forEach(t),n=0;n<Vo.length;n++)r=Vo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vo.length&&(n=Vo[0],n.blockedOn===null);)LD(n),n.blockedOn===null&&Vo.shift()}var xu=So.ReactCurrentBatchConfig,vp=!0;function jB(e,t,n,r){var i=En,a=xu.transition;xu.transition=null;try{En=1,Rw(e,t,n,r)}finally{En=i,xu.transition=a}}function PB(e,t,n,r){var i=En,a=xu.transition;xu.transition=null;try{En=4,Rw(e,t,n,r)}finally{En=i,xu.transition=a}}function Rw(e,t,n,r){if(vp){var i=Cy(e,t,n,r);if(i===null)Hv(e,t,r,xp,n),n2(e,r);else if(NB(i,e,t,n,r))r.stopPropagation();else if(n2(e,r),t&4&&-1<SB.indexOf(e)){for(;i!==null;){var a=Jf(i);if(a!==null&&MD(a),a=Cy(e,t,n,r),a===null&&Hv(e,t,r,xp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Hv(e,t,r,null,n)}}var xp=null;function Cy(e,t,n,r){if(xp=null,e=_w(r),e=Vl(e),e!==null)if(t=Nc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ND(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xp=e,null}function $D(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hB()){case Lw:return 1;case AD:return 4;case pp:case pB:return 16;case TD:return 536870912;default:return 16}default:return 16}}var qo=null,Bw=null,Wh=null;function FD(){if(Wh)return Wh;var e,t=Bw,n=t.length,r,i="value"in qo?qo.value:qo.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Wh=i.slice(e,1<r?1-r:void 0)}function Hh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ah(){return!0}function i2(){return!1}function Ta(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ah:i2,this.isPropagationStopped=i2,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),t}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zw=Ta(Ku),Qf=yr({},Ku,{view:0,detail:0}),AB=Ta(Qf),Lv,$v,gd,Yg=yr({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gd&&(gd&&e.type==="mousemove"?(Lv=e.screenX-gd.screenX,$v=e.screenY-gd.screenY):$v=Lv=0,gd=e),Lv)},movementY:function(e){return"movementY"in e?e.movementY:$v}}),a2=Ta(Yg),TB=yr({},Yg,{dataTransfer:0}),EB=Ta(TB),DB=yr({},Qf,{relatedTarget:0}),Fv=Ta(DB),MB=yr({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),OB=Ta(MB),IB=yr({},Ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_B=Ta(IB),LB=yr({},Ku,{data:0}),s2=Ta(LB),$B={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RB[e])?!!t[e]:!1}function Uw(){return BB}var zB=yr({},Qf,{key:function(e){if(e.key){var t=$B[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(e){return e.type==="keypress"?Hh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UB=Ta(zB),VB=yr({},Yg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o2=Ta(VB),WB=yr({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),HB=Ta(WB),qB=yr({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),KB=Ta(qB),GB=yr({},Yg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YB=Ta(GB),XB=[9,13,27,32],Vw=fo&&"CompositionEvent"in window,Ud=null;fo&&"documentMode"in document&&(Ud=document.documentMode);var ZB=fo&&"TextEvent"in window&&!Ud,RD=fo&&(!Vw||Ud&&8<Ud&&11>=Ud),l2=" ",c2=!1;function BD(e,t){switch(e){case"keyup":return XB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function QB(e,t){switch(e){case"compositionend":return zD(t);case"keypress":return t.which!==32?null:(c2=!0,l2);case"textInput":return e=t.data,e===l2&&c2?null:e;default:return null}}function JB(e,t){if(Jc)return e==="compositionend"||!Vw&&BD(e,t)?(e=FD(),Wh=Bw=qo=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RD&&t.locale!=="ko"?null:t.data;default:return null}}var ez={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ez[e.type]:t==="textarea"}function UD(e,t,n,r){yD(r),t=yp(t,"onChange"),0<t.length&&(n=new zw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vd=null,df=null;function tz(e){JD(e,0)}function Xg(e){var t=nu(e);if(fD(t))return e}function nz(e,t){if(e==="change")return t}var VD=!1;if(fo){var Rv;if(fo){var Bv="oninput"in document;if(!Bv){var d2=document.createElement("div");d2.setAttribute("oninput","return;"),Bv=typeof d2.oninput=="function"}Rv=Bv}else Rv=!1;VD=Rv&&(!document.documentMode||9<document.documentMode)}function f2(){Vd&&(Vd.detachEvent("onpropertychange",WD),df=Vd=null)}function WD(e){if(e.propertyName==="value"&&Xg(df)){var t=[];UD(t,df,e,_w(e)),SD(tz,t)}}function rz(e,t,n){e==="focusin"?(f2(),Vd=t,df=n,Vd.attachEvent("onpropertychange",WD)):e==="focusout"&&f2()}function iz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xg(df)}function az(e,t){if(e==="click")return Xg(t)}function sz(e,t){if(e==="input"||e==="change")return Xg(t)}function oz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fs=typeof Object.is=="function"?Object.is:oz;function ff(e,t){if(fs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oy.call(t,i)||!fs(e[i],t[i]))return!1}return!0}function m2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h2(e,t){var n=m2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m2(n)}}function HD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qD(){for(var e=window,t=fp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fp(e.document)}return t}function Ww(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lz(e){var t=qD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HD(n.ownerDocument.documentElement,n)){if(r!==null&&Ww(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=h2(n,a);var s=h2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cz=fo&&"documentMode"in document&&11>=document.documentMode,eu=null,jy=null,Wd=null,Py=!1;function p2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Py||eu==null||eu!==fp(r)||(r=eu,"selectionStart"in r&&Ww(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wd&&ff(Wd,r)||(Wd=r,r=yp(jy,"onSelect"),0<r.length&&(t=new zw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=eu)))}function sh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tu={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},zv={},KD={};fo&&(KD=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Zg(e){if(zv[e])return zv[e];if(!tu[e])return e;var t=tu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in KD)return zv[e]=t[n];return e}var GD=Zg("animationend"),YD=Zg("animationiteration"),XD=Zg("animationstart"),ZD=Zg("transitionend"),QD=new Map,g2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ml(e,t){QD.set(e,t),Sc(t,[e])}for(var Uv=0;Uv<g2.length;Uv++){var Vv=g2[Uv],uz=Vv.toLowerCase(),dz=Vv[0].toUpperCase()+Vv.slice(1);ml(uz,"on"+dz)}ml(GD,"onAnimationEnd");ml(YD,"onAnimationIteration");ml(XD,"onAnimationStart");ml("dblclick","onDoubleClick");ml("focusin","onFocus");ml("focusout","onBlur");ml(ZD,"onTransitionEnd");Cu("onMouseEnter",["mouseout","mouseover"]);Cu("onMouseLeave",["mouseout","mouseover"]);Cu("onPointerEnter",["pointerout","pointerover"]);Cu("onPointerLeave",["pointerout","pointerover"]);Sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function v2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,uB(r,t,void 0,e),e.currentTarget=null}function JD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;v2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;v2(i,o,c),a=l}}}if(hp)throw e=ky,hp=!1,ky=null,e}function Jn(e,t){var n=t[My];n===void 0&&(n=t[My]=new Set);var r=e+"__bubble";n.has(r)||(eM(t,e,2,!1),n.add(r))}function Wv(e,t,n){var r=0;t&&(r|=4),eM(n,e,r,t)}var oh="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[oh]){e[oh]=!0,oD.forEach(function(n){n!=="selectionchange"&&(fz.has(n)||Wv(n,!1,e),Wv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oh]||(t[oh]=!0,Wv("selectionchange",!1,t))}}function eM(e,t,n,r){switch($D(t)){case 1:var i=jB;break;case 4:i=PB;break;default:i=Rw}n=i.bind(null,t,n,e),i=void 0,!wy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Vl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}SD(function(){var c=a,d=_w(n),f=[];e:{var h=QD.get(e);if(h!==void 0){var m=zw,p=e;switch(e){case"keypress":if(Hh(n)===0)break e;case"keydown":case"keyup":m=UB;break;case"focusin":p="focus",m=Fv;break;case"focusout":p="blur",m=Fv;break;case"beforeblur":case"afterblur":m=Fv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=a2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HB;break;case GD:case YD:case XD:m=OB;break;case ZD:m=KB;break;case"scroll":m=AB;break;case"wheel":m=YB;break;case"copy":case"cut":case"paste":m=_B;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=o2}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=of(b,v),S!=null&&g.push(hf(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==yy&&(p=n.relatedTarget||n.fromElement)&&(Vl(p)||p[mo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Vl(p):null,p!==null&&(y=Nc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=a2,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=o2,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=m==null?h:nu(m),w=p==null?h:nu(p),h=new g(S,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,S=null,Vl(d)===c&&(g=new g(v,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,m&&p)t:{for(g=m,v=p,b=0,w=g;w;w=zc(w))b++;for(w=0,S=v;S;S=zc(S))w++;for(;0<b-w;)g=zc(g),b--;for(;0<w-b;)v=zc(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=zc(g),v=zc(v)}g=null}else g=null;m!==null&&x2(f,h,m,g,!1),p!==null&&y!==null&&x2(f,y,p,g,!0)}}e:{if(h=c?nu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=nz;else if(u2(h))if(VD)C=sz;else{C=iz;var N=rz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=az);if(C&&(C=C(e,c))){UD(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&hy(h,"number",h.value)}switch(N=c?nu(c):window,e){case"focusin":(u2(N)||N.contentEditable==="true")&&(eu=N,jy=c,Wd=null);break;case"focusout":Wd=jy=eu=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,p2(f,n,d);break;case"selectionchange":if(cz)break;case"keydown":case"keyup":p2(f,n,d)}var P;if(Vw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Jc?BD(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(RD&&n.locale!=="ko"&&(Jc||D!=="onCompositionStart"?D==="onCompositionEnd"&&Jc&&(P=FD()):(qo=d,Bw="value"in qo?qo.value:qo.textContent,Jc=!0)),N=yp(c,D),0<N.length&&(D=new s2(D,e,null,n,d),f.push({event:D,listeners:N}),P?D.data=P:(P=zD(n),P!==null&&(D.data=P)))),(P=ZB?QB(e,n):JB(e,n))&&(c=yp(c,"onBeforeInput"),0<c.length&&(d=new s2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=P))}JD(f,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=of(e,n),a!=null&&r.unshift(hf(e,a,i)),a=of(e,t),a!=null&&r.push(hf(e,a,i))),e=e.return}return r}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function x2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=of(n,a),l!=null&&s.unshift(hf(n,l,o))):i||(l=of(n,a),l!=null&&s.push(hf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mz=/\r\n?/g,hz=/\u0000|\uFFFD/g;function y2(e){return(typeof e=="string"?e:""+e).replace(mz,`
`).replace(hz,"")}function lh(e,t,n){if(t=y2(t),y2(e)!==t&&n)throw Error(ze(425))}function bp(){}var Ay=null,Ty=null;function Ey(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,pz=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,gz=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(e){return b2.resolve(null).then(e).catch(vz)}:Dy;function vz(e){setTimeout(function(){throw e})}function qv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),uf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uf(t)}function Jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gu=Math.random().toString(36).slice(2),Es="__reactFiber$"+Gu,pf="__reactProps$"+Gu,mo="__reactContainer$"+Gu,My="__reactEvents$"+Gu,xz="__reactListeners$"+Gu,yz="__reactHandles$"+Gu;function Vl(e){var t=e[Es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[Es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=w2(e);e!==null;){if(n=e[Es])return n;e=w2(e)}return t}e=n,n=e.parentNode}return null}function Jf(e){return e=e[Es]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Qg(e){return e[pf]||null}var Oy=[],ru=-1;function hl(e){return{current:e}}function tr(e){0>ru||(e.current=Oy[ru],Oy[ru]=null,ru--)}function qn(e,t){ru++,Oy[ru]=e.current,e.current=t}var ll={},Mi=hl(ll),na=hl(!1),oc=ll;function ju(e,t){var n=e.type.contextTypes;if(!n)return ll;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ra(e){return e=e.childContextTypes,e!=null}function wp(){tr(na),tr(Mi)}function k2(e,t,n){if(Mi.current!==ll)throw Error(ze(168));qn(Mi,t),qn(na,n)}function tM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ze(108,rB(e)||"Unknown",i));return yr({},n,r)}function kp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ll,oc=Mi.current,qn(Mi,e),qn(na,na.current),!0}function S2(e,t,n){var r=e.stateNode;if(!r)throw Error(ze(169));n?(e=tM(e,t,oc),r.__reactInternalMemoizedMergedChildContext=e,tr(na),tr(Mi),qn(Mi,e)):tr(na),qn(na,n)}var Xs=null,Jg=!1,Kv=!1;function nM(e){Xs===null?Xs=[e]:Xs.push(e)}function bz(e){Jg=!0,nM(e)}function pl(){if(!Kv&&Xs!==null){Kv=!0;var e=0,t=En;try{var n=Xs;for(En=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xs=null,Jg=!1}catch(i){throw Xs!==null&&(Xs=Xs.slice(e+1)),PD(Lw,pl),i}finally{En=t,Kv=!1}}return null}var iu=[],au=0,Sp=null,Np=0,Ba=[],za=0,lc=null,to=1,no="";function _l(e,t){iu[au++]=Np,iu[au++]=Sp,Sp=e,Np=t}function rM(e,t,n){Ba[za++]=to,Ba[za++]=no,Ba[za++]=lc,lc=e;var r=to;e=no;var i=32-ls(r)-1;r&=~(1<<i),n+=1;var a=32-ls(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,to=1<<32-ls(t)+i|n<<i|r,no=a+e}else to=1<<a|n<<i|r,no=e}function Hw(e){e.return!==null&&(_l(e,1),rM(e,1,0))}function qw(e){for(;e===Sp;)Sp=iu[--au],iu[au]=null,Np=iu[--au],iu[au]=null;for(;e===lc;)lc=Ba[--za],Ba[za]=null,no=Ba[--za],Ba[za]=null,to=Ba[--za],Ba[za]=null}var wa=null,ya=null,cr=!1,is=null;function iM(e,t){var n=Va(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function N2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wa=e,ya=Jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wa=e,ya=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lc!==null?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Va(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wa=e,ya=null,!0):!1;default:return!1}}function Iy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _y(e){if(cr){var t=ya;if(t){var n=t;if(!N2(e,t)){if(Iy(e))throw Error(ze(418));t=Jo(n.nextSibling);var r=wa;t&&N2(e,t)?iM(r,n):(e.flags=e.flags&-4097|2,cr=!1,wa=e)}}else{if(Iy(e))throw Error(ze(418));e.flags=e.flags&-4097|2,cr=!1,wa=e}}}function C2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wa=e}function ch(e){if(e!==wa)return!1;if(!cr)return C2(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ey(e.type,e.memoizedProps)),t&&(t=ya)){if(Iy(e))throw aM(),Error(ze(418));for(;t;)iM(e,t),t=Jo(t.nextSibling)}if(C2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ya=Jo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ya=null}}else ya=wa?Jo(e.stateNode.nextSibling):null;return!0}function aM(){for(var e=ya;e;)e=Jo(e.nextSibling)}function Pu(){ya=wa=null,cr=!1}function Kw(e){is===null?is=[e]:is.push(e)}var wz=So.ReactCurrentBatchConfig;function vd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,e))}return e}function uh(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function j2(e){var t=e._init;return t(e._payload)}function sM(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=rl(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,S){return b===null||b.tag!==6?(b=ex(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var C=w.type;return C===Qc?d(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fo&&j2(C)===b.type)?(S=i(b,w.props),S.ref=vd(v,b,w),S.return=v,S):(S=Qh(w.type,w.key,w.props,null,v.mode,S),S.ref=vd(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=tx(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,S,C){return b===null||b.tag!==7?(b=ec(w,v.mode,S,C),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ex(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jm:return w=Qh(b.type,b.key,b.props,null,v.mode,w),w.ref=vd(v,null,b),w.return=v,w;case Zc:return b=tx(b,v.mode,w),b.return=v,b;case Fo:var S=b._init;return f(v,S(b._payload),w)}if(Id(b)||fd(b))return b=ec(b,v.mode,w,null),b.return=v,b;uh(v,b)}return null}function h(v,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jm:return w.key===C?l(v,b,w,S):null;case Zc:return w.key===C?c(v,b,w,S):null;case Fo:return C=w._init,h(v,b,C(w._payload),S)}if(Id(w)||fd(w))return C!==null?null:d(v,b,w,S,null);uh(v,w)}return null}function m(v,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(b,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jm:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,C);case Zc:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,C);case Fo:var N=S._init;return m(v,b,w,N(S._payload),C)}if(Id(S)||fd(S))return v=v.get(w)||null,d(b,v,S,C,null);uh(b,S)}return null}function p(v,b,w,S){for(var C=null,N=null,P=b,D=b=0,_=null;P!==null&&D<w.length;D++){P.index>D?(_=P,P=null):_=P.sibling;var T=h(v,P,w[D],S);if(T===null){P===null&&(P=_);break}e&&P&&T.alternate===null&&t(v,P),b=a(T,b,D),N===null?C=T:N.sibling=T,N=T,P=_}if(D===w.length)return n(v,P),cr&&_l(v,D),C;if(P===null){for(;D<w.length;D++)P=f(v,w[D],S),P!==null&&(b=a(P,b,D),N===null?C=P:N.sibling=P,N=P);return cr&&_l(v,D),C}for(P=r(v,P);D<w.length;D++)_=m(P,v,D,w[D],S),_!==null&&(e&&_.alternate!==null&&P.delete(_.key===null?D:_.key),b=a(_,b,D),N===null?C=_:N.sibling=_,N=_);return e&&P.forEach(function(F){return t(v,F)}),cr&&_l(v,D),C}function g(v,b,w,S){var C=fd(w);if(typeof C!="function")throw Error(ze(150));if(w=C.call(w),w==null)throw Error(ze(151));for(var N=C=null,P=b,D=b=0,_=null,T=w.next();P!==null&&!T.done;D++,T=w.next()){P.index>D?(_=P,P=null):_=P.sibling;var F=h(v,P,T.value,S);if(F===null){P===null&&(P=_);break}e&&P&&F.alternate===null&&t(v,P),b=a(F,b,D),N===null?C=F:N.sibling=F,N=F,P=_}if(T.done)return n(v,P),cr&&_l(v,D),C;if(P===null){for(;!T.done;D++,T=w.next())T=f(v,T.value,S),T!==null&&(b=a(T,b,D),N===null?C=T:N.sibling=T,N=T);return cr&&_l(v,D),C}for(P=r(v,P);!T.done;D++,T=w.next())T=m(P,v,D,T.value,S),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?D:T.key),b=a(T,b,D),N===null?C=T:N.sibling=T,N=T);return e&&P.forEach(function(M){return t(v,M)}),cr&&_l(v,D),C}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jm:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===Qc){if(N.tag===7){n(v,N.sibling),b=i(N,w.props.children),b.return=v,v=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Fo&&j2(C)===N.type){n(v,N.sibling),b=i(N,w.props),b.ref=vd(v,N,w),b.return=v,v=b;break e}n(v,N);break}else t(v,N);N=N.sibling}w.type===Qc?(b=ec(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=Qh(w.type,w.key,w.props,null,v.mode,S),S.ref=vd(v,b,w),S.return=v,v=S)}return s(v);case Zc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=tx(w,v.mode,S),b.return=v,v=b}return s(v);case Fo:return N=w._init,y(v,b,N(w._payload),S)}if(Id(w))return p(v,b,w,S);if(fd(w))return g(v,b,w,S);uh(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=ex(w,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return y}var Au=sM(!0),oM=sM(!1),Cp=hl(null),jp=null,su=null,Gw=null;function Yw(){Gw=su=jp=null}function Xw(e){var t=Cp.current;tr(Cp),e._currentValue=t}function Ly(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yu(e,t){jp=e,Gw=su=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(Gw!==e)if(e={context:e,memoizedValue:t,next:null},su===null){if(jp===null)throw Error(ze(308));su=e,jp.dependencies={lanes:0,firstContext:e}}else su=su.next=e;return t}var Wl=null;function Zw(e){Wl===null?Wl=[e]:Wl.push(e)}function lM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Zw(t)):(n.next=i.next,i.next=n),t.interleaved=n,ho(e,r)}function ho(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ro=!1;function Qw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function el(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ho(e,n)}return i=r.interleaved,i===null?(t.next=t,Zw(r)):(t.next=i.next,i.next=t),r.interleaved=t,ho(e,n)}function qh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$w(e,n)}}function P2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pp(e,t,n,r){var i=e.updateQueue;Ro=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=yr({},f,h);break e;case 2:Ro=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);uc|=s,e.lanes=s,e.memoizedState=f}}function A2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var em={},Os=hl(em),gf=hl(em),vf=hl(em);function Hl(e){if(e===em)throw Error(ze(174));return e}function Jw(e,t){switch(qn(vf,t),qn(gf,e),qn(Os,em),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gy(t,e)}tr(Os),qn(Os,t)}function Tu(){tr(Os),tr(gf),tr(vf)}function uM(e){Hl(vf.current);var t=Hl(Os.current),n=gy(t,e.type);t!==n&&(qn(gf,e),qn(Os,n))}function e1(e){gf.current===e&&(tr(Os),tr(gf))}var pr=hl(0);function Ap(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gv=[];function t1(){for(var e=0;e<Gv.length;e++)Gv[e]._workInProgressVersionPrimary=null;Gv.length=0}var Kh=So.ReactCurrentDispatcher,Yv=So.ReactCurrentBatchConfig,cc=0,xr=null,Gr=null,oi=null,Tp=!1,Hd=!1,xf=0,kz=0;function Si(){throw Error(ze(321))}function n1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fs(e[n],t[n]))return!1;return!0}function r1(e,t,n,r,i,a){if(cc=a,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kh.current=e===null||e.memoizedState===null?jz:Pz,e=n(r,i),Hd){a=0;do{if(Hd=!1,xf=0,25<=a)throw Error(ze(301));a+=1,oi=Gr=null,t.updateQueue=null,Kh.current=Az,e=n(r,i)}while(Hd)}if(Kh.current=Ep,t=Gr!==null&&Gr.next!==null,cc=0,oi=Gr=xr=null,Tp=!1,t)throw Error(ze(300));return e}function i1(){var e=xf!==0;return xf=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?xr.memoizedState=oi=e:oi=oi.next=e,oi}function Ka(){if(Gr===null){var e=xr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=oi===null?xr.memoizedState:oi.next;if(t!==null)oi=t,Gr=e;else{if(e===null)throw Error(ze(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},oi===null?xr.memoizedState=oi=e:oi=oi.next=e}return oi}function yf(e,t){return typeof t=="function"?t(e):t}function Xv(e){var t=Ka(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=Gr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((cc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,xr.lanes|=d,uc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,fs(r,t.memoizedState)||(ea=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,xr.lanes|=a,uc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zv(e){var t=Ka(),n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);fs(a,t.memoizedState)||(ea=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function dM(){}function fM(e,t){var n=xr,r=Ka(),i=t(),a=!fs(r.memoizedState,i);if(a&&(r.memoizedState=i,ea=!0),r=r.queue,a1(pM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||oi!==null&&oi.memoizedState.tag&1){if(n.flags|=2048,bf(9,hM.bind(null,n,r,i,t),void 0,null),li===null)throw Error(ze(349));cc&30||mM(n,t,i)}return i}function mM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hM(e,t,n,r){t.value=n,t.getSnapshot=r,gM(t)&&vM(e)}function pM(e,t,n){return n(function(){gM(t)&&vM(e)})}function gM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fs(e,n)}catch{return!0}}function vM(e){var t=ho(e,1);t!==null&&cs(t,e,1,-1)}function T2(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:e},t.queue=e,e=e.dispatch=Cz.bind(null,xr,e),[t.memoizedState,e]}function bf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xM(){return Ka().memoizedState}function Gh(e,t,n,r){var i=Ps();xr.flags|=e,i.memoizedState=bf(1|t,n,void 0,r===void 0?null:r)}function e0(e,t,n,r){var i=Ka();r=r===void 0?null:r;var a=void 0;if(Gr!==null){var s=Gr.memoizedState;if(a=s.destroy,r!==null&&n1(r,s.deps)){i.memoizedState=bf(t,n,a,r);return}}xr.flags|=e,i.memoizedState=bf(1|t,n,a,r)}function E2(e,t){return Gh(8390656,8,e,t)}function a1(e,t){return e0(2048,8,e,t)}function yM(e,t){return e0(4,2,e,t)}function bM(e,t){return e0(4,4,e,t)}function wM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kM(e,t,n){return n=n!=null?n.concat([e]):null,e0(4,4,wM.bind(null,t,e),n)}function s1(){}function SM(e,t){var n=Ka();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function NM(e,t){var n=Ka();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function CM(e,t,n){return cc&21?(fs(n,t)||(n=ED(),xr.lanes|=n,uc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=n)}function Sz(e,t){var n=En;En=n!==0&&4>n?n:4,e(!0);var r=Yv.transition;Yv.transition={};try{e(!1),t()}finally{En=n,Yv.transition=r}}function jM(){return Ka().memoizedState}function Nz(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PM(e))AM(t,n);else if(n=lM(e,t,n,r),n!==null){var i=zi();cs(n,e,r,i),TM(n,t,r)}}function Cz(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PM(e))AM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,fs(o,s)){var l=t.interleaved;l===null?(i.next=i,Zw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=lM(e,t,i,r),n!==null&&(i=zi(),cs(n,e,r,i),TM(n,t,r))}}function PM(e){var t=e.alternate;return e===xr||t!==null&&t===xr}function AM(e,t){Hd=Tp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$w(e,n)}}var Ep={readContext:qa,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},jz={readContext:qa,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:E2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gh(4194308,4,wM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gh(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nz.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:T2,useDebugValue:s1,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=T2(!1),t=e[0];return e=Sz.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xr,i=Ps();if(cr){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=t(),li===null)throw Error(ze(349));cc&30||mM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,E2(pM.bind(null,r,a,e),[e]),r.flags|=2048,bf(9,hM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ps(),t=li.identifierPrefix;if(cr){var n=no,r=to;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pz={readContext:qa,useCallback:SM,useContext:qa,useEffect:a1,useImperativeHandle:kM,useInsertionEffect:yM,useLayoutEffect:bM,useMemo:NM,useReducer:Xv,useRef:xM,useState:function(){return Xv(yf)},useDebugValue:s1,useDeferredValue:function(e){var t=Ka();return CM(t,Gr.memoizedState,e)},useTransition:function(){var e=Xv(yf)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:dM,useSyncExternalStore:fM,useId:jM,unstable_isNewReconciler:!1},Az={readContext:qa,useCallback:SM,useContext:qa,useEffect:a1,useImperativeHandle:kM,useInsertionEffect:yM,useLayoutEffect:bM,useMemo:NM,useReducer:Zv,useRef:xM,useState:function(){return Zv(yf)},useDebugValue:s1,useDeferredValue:function(e){var t=Ka();return Gr===null?t.memoizedState=e:CM(t,Gr.memoizedState,e)},useTransition:function(){var e=Zv(yf)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:dM,useSyncExternalStore:fM,useId:jM,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $y(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var t0={isMounted:function(e){return(e=e._reactInternals)?Nc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zi(),i=nl(e),a=so(r,i);a.payload=t,n!=null&&(a.callback=n),t=el(e,a,i),t!==null&&(cs(t,e,i,r),qh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zi(),i=nl(e),a=so(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=el(e,a,i),t!==null&&(cs(t,e,i,r),qh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zi(),r=nl(e),i=so(n,r);i.tag=2,t!=null&&(i.callback=t),t=el(e,i,r),t!==null&&(cs(t,e,r,n),qh(t,e,r))}};function D2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!ff(n,r)||!ff(i,a):!0}function EM(e,t,n){var r=!1,i=ll,a=t.contextType;return typeof a=="object"&&a!==null?a=qa(a):(i=ra(t)?oc:Mi.current,r=t.contextTypes,a=(r=r!=null)?ju(e,i):ll),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=t0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function M2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&t0.enqueueReplaceState(t,t.state,null)}function Fy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Qw(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qa(a):(a=ra(t)?oc:Mi.current,i.context=ju(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($y(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&t0.enqueueReplaceState(i,i.state,null),Pp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Eu(e,t){try{var n="",r=t;do n+=nB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ry(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Tz=typeof WeakMap=="function"?WeakMap:Map;function DM(e,t,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mp||(Mp=!0,Yy=r),Ry(e,t)},n}function MM(e,t,n){n=so(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ry(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ry(e,t),typeof r!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function O2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Tz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Vz.bind(null,e,t,n),t.then(e,e))}function I2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=so(-1,1),t.tag=2,el(n,t,1))),n.lanes|=1),e)}var Ez=So.ReactCurrentOwner,ea=!1;function Fi(e,t,n,r){t.child=e===null?oM(t,null,n,r):Au(t,e.child,n,r)}function L2(e,t,n,r,i){n=n.render;var a=t.ref;return yu(t,i),r=r1(e,t,n,r,a,i),n=i1(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(cr&&n&&Hw(t),t.flags|=1,Fi(e,t,r,i),t.child)}function $2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!h1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,OM(e,t,a,r,i)):(e=Qh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ff,n(s,r)&&e.ref===t.ref)return po(e,t,i)}return t.flags|=1,e=rl(a,r),e.ref=t.ref,e.return=t,t.child=e}function OM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ff(a,r)&&e.ref===t.ref)if(ea=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,po(e,t,i)}return By(e,t,n,r,i)}function IM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(lu,ga),ga|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qn(lu,ga),ga|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,qn(lu,ga),ga|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,qn(lu,ga),ga|=r;return Fi(e,t,i,n),t.child}function _M(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function By(e,t,n,r,i){var a=ra(n)?oc:Mi.current;return a=ju(t,a),yu(t,i),n=r1(e,t,n,r,a,i),r=i1(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(cr&&r&&Hw(t),t.flags|=1,Fi(e,t,n,i),t.child)}function F2(e,t,n,r,i){if(ra(n)){var a=!0;kp(t)}else a=!1;if(yu(t,i),t.stateNode===null)Yh(e,t),EM(t,n,r),Fy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=qa(c):(c=ra(n)?oc:Mi.current,c=ju(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&M2(t,s,r,c),Ro=!1;var h=t.memoizedState;s.state=h,Pp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||na.current||Ro?(typeof d=="function"&&($y(t,n,d,r),l=t.memoizedState),(o=Ro||D2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,cM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ns(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qa(l):(l=ra(n)?oc:Mi.current,l=ju(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&M2(t,s,r,l),Ro=!1,h=t.memoizedState,s.state=h,Pp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||na.current||Ro?(typeof m=="function"&&($y(t,n,m,r),p=t.memoizedState),(c=Ro||D2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return zy(e,t,n,r,a,i)}function zy(e,t,n,r,i,a){_M(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&S2(t,n,!1),po(e,t,a);r=t.stateNode,Ez.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Au(t,e.child,null,a),t.child=Au(t,null,o,a)):Fi(e,t,o,a),t.memoizedState=r.state,i&&S2(t,n,!0),t.child}function LM(e){var t=e.stateNode;t.pendingContext?k2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k2(e,t.context,!1),Jw(e,t.containerInfo)}function R2(e,t,n,r,i){return Pu(),Kw(i),t.flags|=256,Fi(e,t,n,r),t.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function Vy(e){return{baseLanes:e,cachePool:null,transitions:null}}function $M(e,t,n){var r=t.pendingProps,i=pr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qn(pr,i&1),e===null)return _y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=i0(s,r,0,null),e=ec(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vy(n),t.memoizedState=Uy,e):o1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Dz(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=rl(o,a):(a=ec(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Vy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Uy,r}return a=e.child,e=a.sibling,r=rl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o1(e,t){return t=i0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dh(e,t,n,r){return r!==null&&Kw(r),Au(t,e.child,null,n),e=o1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dz(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Qv(Error(ze(422))),dh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=i0({mode:"visible",children:r.children},i,0,null),a=ec(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Au(t,e.child,null,s),t.child.memoizedState=Vy(s),t.memoizedState=Uy,a);if(!(t.mode&1))return dh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(ze(419)),r=Qv(a,r,void 0),dh(e,t,s,r)}if(o=(s&e.childLanes)!==0,ea||o){if(r=li,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ho(e,i),cs(r,e,i,-1))}return m1(),r=Qv(Error(ze(421))),dh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Wz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ya=Jo(i.nextSibling),wa=t,cr=!0,is=null,e!==null&&(Ba[za++]=to,Ba[za++]=no,Ba[za++]=lc,to=e.id,no=e.overflow,lc=t),t=o1(t,r.children),t.flags|=4096,t)}function B2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ly(e.return,t,n)}function Jv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function FM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fi(e,t,r.children,n),r=pr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B2(e,n,t);else if(e.tag===19)B2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qn(pr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ap(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Jv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ap(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Jv(t,!0,n,null,a);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function po(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),uc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,n=rl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mz(e,t,n){switch(t.tag){case 3:LM(t),Pu();break;case 5:uM(t);break;case 1:ra(t.type)&&kp(t);break;case 4:Jw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qn(Cp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qn(pr,pr.current&1),t.flags|=128,null):n&t.child.childLanes?$M(e,t,n):(qn(pr,pr.current&1),e=po(e,t,n),e!==null?e.sibling:null);qn(pr,pr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qn(pr,pr.current),r)break;return null;case 22:case 23:return t.lanes=0,IM(e,t,n)}return po(e,t,n)}var RM,Wy,BM,zM;RM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wy=function(){};BM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Hl(Os.current);var a=null;switch(n){case"input":i=fy(e,i),r=fy(e,r),a=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),a=[];break;case"textarea":i=py(e,i),r=py(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bp)}vy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(af.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};zM=function(e,t,n,r){n!==r&&(t.flags|=4)};function xd(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ni(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Oz(e,t,n){var r=t.pendingProps;switch(qw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(t),null;case 1:return ra(t.type)&&wp(),Ni(t),null;case 3:return r=t.stateNode,Tu(),tr(na),tr(Mi),t1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ch(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,is!==null&&(Qy(is),is=null))),Wy(e,t),Ni(t),null;case 5:e1(t);var i=Hl(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)BM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ze(166));return Ni(t),null}if(e=Hl(Os.current),ch(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Es]=t,r[pf]=a,e=(t.mode&1)!==0,n){case"dialog":Jn("cancel",r),Jn("close",r);break;case"iframe":case"object":case"embed":Jn("load",r);break;case"video":case"audio":for(i=0;i<Ld.length;i++)Jn(Ld[i],r);break;case"source":Jn("error",r);break;case"img":case"image":case"link":Jn("error",r),Jn("load",r);break;case"details":Jn("toggle",r);break;case"input":YN(r,a),Jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Jn("invalid",r);break;case"textarea":ZN(r,a),Jn("invalid",r)}vy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&lh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&lh(r.textContent,o,e),i=["children",""+o]):af.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Jn("scroll",r)}switch(n){case"input":eh(r),XN(r,a,!0);break;case"textarea":eh(r),QN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Es]=t,e[pf]=r,RM(e,t,!1,!1),t.stateNode=e;e:{switch(s=xy(n,r),n){case"dialog":Jn("cancel",e),Jn("close",e),i=r;break;case"iframe":case"object":case"embed":Jn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ld.length;i++)Jn(Ld[i],e);i=r;break;case"source":Jn("error",e),i=r;break;case"img":case"image":case"link":Jn("error",e),Jn("load",e),i=r;break;case"details":Jn("toggle",e),i=r;break;case"input":YN(e,r),i=fy(e,r),Jn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),Jn("invalid",e);break;case"textarea":ZN(e,r),i=py(e,r),Jn("invalid",e);break;default:i=r}vy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?xD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(af.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Jn("scroll",e):l!=null&&Dw(e,a,l,s))}switch(n){case"input":eh(e),XN(e,r,!1);break;case"textarea":eh(e),QN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ol(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?pu(e,!!r.multiple,a,!1):r.defaultValue!=null&&pu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ni(t),null;case 6:if(e&&t.stateNode!=null)zM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ze(166));if(n=Hl(vf.current),Hl(Os.current),ch(t)){if(r=t.stateNode,n=t.memoizedProps,r[Es]=t,(a=r.nodeValue!==n)&&(e=wa,e!==null))switch(e.tag){case 3:lh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=t,t.stateNode=r}return Ni(t),null;case 13:if(tr(pr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&ya!==null&&t.mode&1&&!(t.flags&128))aM(),Pu(),t.flags|=98560,a=!1;else if(a=ch(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ze(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ze(317));a[Es]=t}else Pu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ni(t),a=!1}else is!==null&&(Qy(is),is=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?Xr===0&&(Xr=3):m1())),t.updateQueue!==null&&(t.flags|=4),Ni(t),null);case 4:return Tu(),Wy(e,t),e===null&&mf(t.stateNode.containerInfo),Ni(t),null;case 10:return Xw(t.type._context),Ni(t),null;case 17:return ra(t.type)&&wp(),Ni(t),null;case 19:if(tr(pr),a=t.memoizedState,a===null)return Ni(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)xd(a,!1);else{if(Xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ap(e),s!==null){for(t.flags|=128,xd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qn(pr,pr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Or()>Du&&(t.flags|=128,r=!0,xd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ap(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!cr)return Ni(t),null}else 2*Or()-a.renderingStartTime>Du&&n!==1073741824&&(t.flags|=128,r=!0,xd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Or(),t.sibling=null,n=pr.current,qn(pr,r?n&1|2:n&1),t):(Ni(t),null);case 22:case 23:return f1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ga&1073741824&&(Ni(t),t.subtreeFlags&6&&(t.flags|=8192)):Ni(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function Iz(e,t){switch(qw(t),t.tag){case 1:return ra(t.type)&&wp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tu(),tr(na),tr(Mi),t1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e1(t),null;case 13:if(tr(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));Pu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(pr),null;case 4:return Tu(),null;case 10:return Xw(t.type._context),null;case 22:case 23:return f1(),null;case 24:return null;default:return null}}var fh=!1,Pi=!1,_z=typeof WeakSet=="function"?WeakSet:Set,dt=null;function ou(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pr(e,t,r)}else n.current=null}function Hy(e,t,n){try{n()}catch(r){Pr(e,t,r)}}var z2=!1;function Lz(e,t){if(Ay=vp,e=qD(),Ww(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ty={focusedElem:e,selectionRange:n},vp=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){t=dt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(S){Pr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}return p=z2,z2=!1,p}function qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Hy(t,n,a)}i=i.next}while(i!==r)}}function n0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function UM(e){var t=e.alternate;t!==null&&(e.alternate=null,UM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Es],delete t[pf],delete t[My],delete t[xz],delete t[yz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VM(e){return e.tag===5||e.tag===3||e.tag===4}function U2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ky(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bp));else if(r!==4&&(e=e.child,e!==null))for(Ky(e,t,n),e=e.sibling;e!==null;)Ky(e,t,n),e=e.sibling}function Gy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gy(e,t,n),e=e.sibling;e!==null;)Gy(e,t,n),e=e.sibling}var hi=null,rs=!1;function Io(e,t,n){for(n=n.child;n!==null;)WM(e,t,n),n=n.sibling}function WM(e,t,n){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(Gg,n)}catch{}switch(n.tag){case 5:Pi||ou(n,t);case 6:var r=hi,i=rs;hi=null,Io(e,t,n),hi=r,rs=i,hi!==null&&(rs?(e=hi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):hi.removeChild(n.stateNode));break;case 18:hi!==null&&(rs?(e=hi,n=n.stateNode,e.nodeType===8?qv(e.parentNode,n):e.nodeType===1&&qv(e,n),uf(e)):qv(hi,n.stateNode));break;case 4:r=hi,i=rs,hi=n.stateNode.containerInfo,rs=!0,Io(e,t,n),hi=r,rs=i;break;case 0:case 11:case 14:case 15:if(!Pi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Hy(n,t,s),i=i.next}while(i!==r)}Io(e,t,n);break;case 1:if(!Pi&&(ou(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Pr(n,t,o)}Io(e,t,n);break;case 21:Io(e,t,n);break;case 22:n.mode&1?(Pi=(r=Pi)||n.memoizedState!==null,Io(e,t,n),Pi=r):Io(e,t,n);break;default:Io(e,t,n)}}function V2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _z),t.forEach(function(r){var i=Hz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ts(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:hi=o.stateNode,rs=!1;break e;case 3:hi=o.stateNode.containerInfo,rs=!0;break e;case 4:hi=o.stateNode.containerInfo,rs=!0;break e}o=o.return}if(hi===null)throw Error(ze(160));WM(a,s,i),hi=null,rs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Pr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HM(t,e),t=t.sibling}function HM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(t,e),Ss(e),r&4){try{qd(3,e,e.return),n0(3,e)}catch(g){Pr(e,e.return,g)}try{qd(5,e,e.return)}catch(g){Pr(e,e.return,g)}}break;case 1:ts(t,e),Ss(e),r&512&&n!==null&&ou(n,n.return);break;case 5:if(ts(t,e),Ss(e),r&512&&n!==null&&ou(n,n.return),e.flags&32){var i=e.stateNode;try{sf(i,"")}catch(g){Pr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&mD(i,a),xy(o,s);var c=xy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?xD(i,f):d==="dangerouslySetInnerHTML"?gD(i,f):d==="children"?sf(i,f):Dw(i,d,f,c)}switch(o){case"input":my(i,a);break;case"textarea":hD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?pu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?pu(i,!!a.multiple,a.defaultValue,!0):pu(i,!!a.multiple,a.multiple?[]:"",!1))}i[pf]=a}catch(g){Pr(e,e.return,g)}}break;case 6:if(ts(t,e),Ss(e),r&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Pr(e,e.return,g)}}break;case 3:if(ts(t,e),Ss(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uf(t.containerInfo)}catch(g){Pr(e,e.return,g)}break;case 4:ts(t,e),Ss(e);break;case 13:ts(t,e),Ss(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(u1=Or())),r&4&&V2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pi=(c=Pi)||d,ts(t,e),Pi=c):ts(t,e),Ss(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(dt=e,d=e.child;d!==null;){for(f=dt=d;dt!==null;){switch(h=dt,m=h.child,h.tag){case 0:case 11:case 14:case 15:qd(4,h,h.return);break;case 1:ou(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Pr(r,n,g)}}break;case 5:ou(h,h.return);break;case 22:if(h.memoizedState!==null){H2(f);continue}}m!==null?(m.return=h,dt=m):H2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=vD("display",s))}catch(g){Pr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Pr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ts(t,e),Ss(e),r&4&&V2(e);break;case 21:break;default:ts(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(VM(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sf(i,""),r.flags&=-33);var a=U2(e);Gy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=U2(e);Ky(e,o,s);break;default:throw Error(ze(161))}}catch(l){Pr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $z(e,t,n){dt=e,qM(e)}function qM(e,t,n){for(var r=(e.mode&1)!==0;dt!==null;){var i=dt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Pi;o=fh;var c=Pi;if(fh=s,(Pi=l)&&!c)for(dt=i;dt!==null;)s=dt,l=s.child,s.tag===22&&s.memoizedState!==null?q2(i):l!==null?(l.return=s,dt=l):q2(i);for(;a!==null;)dt=a,qM(a),a=a.sibling;dt=i,fh=o,Pi=c}W2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,dt=a):W2(e)}}function W2(e){for(;dt!==null;){var t=dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pi||n0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&A2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}A2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&uf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Pi||t.flags&512&&qy(t)}catch(h){Pr(t,t.return,h)}}if(t===e){dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,dt=n;break}dt=t.return}}function H2(e){for(;dt!==null;){var t=dt;if(t===e){dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,dt=n;break}dt=t.return}}function q2(e){for(;dt!==null;){var t=dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{n0(4,t)}catch(l){Pr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Pr(t,i,l)}}var a=t.return;try{qy(t)}catch(l){Pr(t,a,l)}break;case 5:var s=t.return;try{qy(t)}catch(l){Pr(t,s,l)}}}catch(l){Pr(t,t.return,l)}if(t===e){dt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,dt=o;break}dt=t.return}}var Fz=Math.ceil,Dp=So.ReactCurrentDispatcher,l1=So.ReactCurrentOwner,Ha=So.ReactCurrentBatchConfig,yn=0,li=null,zr=null,vi=0,ga=0,lu=hl(0),Xr=0,wf=null,uc=0,r0=0,c1=0,Kd=null,Ji=null,u1=0,Du=1/0,Ys=null,Mp=!1,Yy=null,tl=null,mh=!1,Ko=null,Op=0,Gd=0,Xy=null,Xh=-1,Zh=0;function zi(){return yn&6?Or():Xh!==-1?Xh:Xh=Or()}function nl(e){return e.mode&1?yn&2&&vi!==0?vi&-vi:wz.transition!==null?(Zh===0&&(Zh=ED()),Zh):(e=En,e!==0||(e=window.event,e=e===void 0?16:$D(e.type)),e):1}function cs(e,t,n,r){if(50<Gd)throw Gd=0,Xy=null,Error(ze(185));Zf(e,n,r),(!(yn&2)||e!==li)&&(e===li&&(!(yn&2)&&(r0|=n),Xr===4&&Wo(e,vi)),ia(e,r),n===1&&yn===0&&!(t.mode&1)&&(Du=Or()+500,Jg&&pl()))}function ia(e,t){var n=e.callbackNode;wB(e,t);var r=gp(e,e===li?vi:0);if(r===0)n!==null&&t2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&t2(n),t===1)e.tag===0?bz(K2.bind(null,e)):nM(K2.bind(null,e)),gz(function(){!(yn&6)&&pl()}),n=null;else{switch(DD(r)){case 1:n=Lw;break;case 4:n=AD;break;case 16:n=pp;break;case 536870912:n=TD;break;default:n=pp}n=eO(n,KM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KM(e,t){if(Xh=-1,Zh=0,yn&6)throw Error(ze(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=gp(e,e===li?vi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ip(e,r);else{t=r;var i=yn;yn|=2;var a=YM();(li!==e||vi!==t)&&(Ys=null,Du=Or()+500,Jl(e,t));do try{zz();break}catch(o){GM(e,o)}while(!0);Yw(),Dp.current=a,yn=i,zr!==null?t=0:(li=null,vi=0,t=Xr)}if(t!==0){if(t===2&&(i=Sy(e),i!==0&&(r=i,t=Zy(e,i))),t===1)throw n=wf,Jl(e,0),Wo(e,r),ia(e,Or()),n;if(t===6)Wo(e,r);else{if(i=e.current.alternate,!(r&30)&&!Rz(i)&&(t=Ip(e,r),t===2&&(a=Sy(e),a!==0&&(r=a,t=Zy(e,a))),t===1))throw n=wf,Jl(e,0),Wo(e,r),ia(e,Or()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ze(345));case 2:Ll(e,Ji,Ys);break;case 3:if(Wo(e,r),(r&130023424)===r&&(t=u1+500-Or(),10<t)){if(gp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dy(Ll.bind(null,e,Ji,Ys),t);break}Ll(e,Ji,Ys);break;case 4:if(Wo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ls(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fz(r/1960))-r,10<r){e.timeoutHandle=Dy(Ll.bind(null,e,Ji,Ys),r);break}Ll(e,Ji,Ys);break;case 5:Ll(e,Ji,Ys);break;default:throw Error(ze(329))}}}return ia(e,Or()),e.callbackNode===n?KM.bind(null,e):null}function Zy(e,t){var n=Kd;return e.current.memoizedState.isDehydrated&&(Jl(e,t).flags|=256),e=Ip(e,t),e!==2&&(t=Ji,Ji=n,t!==null&&Qy(t)),e}function Qy(e){Ji===null?Ji=e:Ji.push.apply(Ji,e)}function Rz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fs(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wo(e,t){for(t&=~c1,t&=~r0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ls(t),r=1<<n;e[n]=-1,t&=~r}}function K2(e){if(yn&6)throw Error(ze(327));bu();var t=gp(e,0);if(!(t&1))return ia(e,Or()),null;var n=Ip(e,t);if(e.tag!==0&&n===2){var r=Sy(e);r!==0&&(t=r,n=Zy(e,r))}if(n===1)throw n=wf,Jl(e,0),Wo(e,t),ia(e,Or()),n;if(n===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ll(e,Ji,Ys),ia(e,Or()),null}function d1(e,t){var n=yn;yn|=1;try{return e(t)}finally{yn=n,yn===0&&(Du=Or()+500,Jg&&pl())}}function dc(e){Ko!==null&&Ko.tag===0&&!(yn&6)&&bu();var t=yn;yn|=1;var n=Ha.transition,r=En;try{if(Ha.transition=null,En=1,e)return e()}finally{En=r,Ha.transition=n,yn=t,!(yn&6)&&pl()}}function f1(){ga=lu.current,tr(lu)}function Jl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pz(n)),zr!==null)for(n=zr.return;n!==null;){var r=n;switch(qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wp();break;case 3:Tu(),tr(na),tr(Mi),t1();break;case 5:e1(r);break;case 4:Tu();break;case 13:tr(pr);break;case 19:tr(pr);break;case 10:Xw(r.type._context);break;case 22:case 23:f1()}n=n.return}if(li=e,zr=e=rl(e.current,null),vi=ga=t,Xr=0,wf=null,c1=r0=uc=0,Ji=Kd=null,Wl!==null){for(t=0;t<Wl.length;t++)if(n=Wl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Wl=null}return e}function GM(e,t){do{var n=zr;try{if(Yw(),Kh.current=Ep,Tp){for(var r=xr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tp=!1}if(cc=0,oi=Gr=xr=null,Hd=!1,xf=0,l1.current=null,n===null||n.return===null){Xr=1,wf=t,zr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=vi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=I2(s);if(m!==null){m.flags&=-257,_2(m,s,o,a,t),m.mode&1&&O2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){O2(a,c,t),m1();break e}l=Error(ze(426))}}else if(cr&&o.mode&1){var y=I2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_2(y,s,o,a,t),Kw(Eu(l,o));break e}}a=l=Eu(l,o),Xr!==4&&(Xr=2),Kd===null?Kd=[a]:Kd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=DM(a,l,t);P2(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tl===null||!tl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=MM(a,o,t);P2(a,S);break e}}a=a.return}while(a!==null)}ZM(n)}catch(C){t=C,zr===n&&n!==null&&(zr=n=n.return);continue}break}while(!0)}function YM(){var e=Dp.current;return Dp.current=Ep,e===null?Ep:e}function m1(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),li===null||!(uc&268435455)&&!(r0&268435455)||Wo(li,vi)}function Ip(e,t){var n=yn;yn|=2;var r=YM();(li!==e||vi!==t)&&(Ys=null,Jl(e,t));do try{Bz();break}catch(i){GM(e,i)}while(!0);if(Yw(),yn=n,Dp.current=r,zr!==null)throw Error(ze(261));return li=null,vi=0,Xr}function Bz(){for(;zr!==null;)XM(zr)}function zz(){for(;zr!==null&&!fB();)XM(zr)}function XM(e){var t=JM(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?ZM(e):zr=t,l1.current=null}function ZM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iz(n,t),n!==null){n.flags&=32767,zr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xr=6,zr=null;return}}else if(n=Oz(n,t,ga),n!==null){zr=n;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);Xr===0&&(Xr=5)}function Ll(e,t,n){var r=En,i=Ha.transition;try{Ha.transition=null,En=1,Uz(e,t,n,r)}finally{Ha.transition=i,En=r}return null}function Uz(e,t,n,r){do bu();while(Ko!==null);if(yn&6)throw Error(ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(kB(e,a),e===li&&(zr=li=null,vi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mh||(mh=!0,eO(pp,function(){return bu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ha.transition,Ha.transition=null;var s=En;En=1;var o=yn;yn|=4,l1.current=null,Lz(e,n),HM(n,e),lz(Ty),vp=!!Ay,Ty=Ay=null,e.current=n,$z(n),mB(),yn=o,En=s,Ha.transition=a}else e.current=n;if(mh&&(mh=!1,Ko=e,Op=i),a=e.pendingLanes,a===0&&(tl=null),gB(n.stateNode),ia(e,Or()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mp)throw Mp=!1,e=Yy,Yy=null,e;return Op&1&&e.tag!==0&&bu(),a=e.pendingLanes,a&1?e===Xy?Gd++:(Gd=0,Xy=e):Gd=0,pl(),null}function bu(){if(Ko!==null){var e=DD(Op),t=Ha.transition,n=En;try{if(Ha.transition=null,En=16>e?16:e,Ko===null)var r=!1;else{if(e=Ko,Ko=null,Op=0,yn&6)throw Error(ze(331));var i=yn;for(yn|=4,dt=e.current;dt!==null;){var a=dt,s=a.child;if(dt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(dt=c;dt!==null;){var d=dt;switch(d.tag){case 0:case 11:case 15:qd(8,d,a)}var f=d.child;if(f!==null)f.return=d,dt=f;else for(;dt!==null;){d=dt;var h=d.sibling,m=d.return;if(UM(d),d===c){dt=null;break}if(h!==null){h.return=m,dt=h;break}dt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}dt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,dt=s;else e:for(;dt!==null;){if(a=dt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qd(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,dt=v;break e}dt=a.return}}var b=e.current;for(dt=b;dt!==null;){s=dt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,dt=w;else e:for(s=b;dt!==null;){if(o=dt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:n0(9,o)}}catch(C){Pr(o,o.return,C)}if(o===s){dt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,dt=S;break e}dt=o.return}}if(yn=i,pl(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(Gg,e)}catch{}r=!0}return r}finally{En=n,Ha.transition=t}}return!1}function G2(e,t,n){t=Eu(n,t),t=DM(e,t,1),e=el(e,t,1),t=zi(),e!==null&&(Zf(e,1,t),ia(e,t))}function Pr(e,t,n){if(e.tag===3)G2(e,e,n);else for(;t!==null;){if(t.tag===3){G2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tl===null||!tl.has(r))){e=Eu(n,e),e=MM(t,e,1),t=el(t,e,1),e=zi(),t!==null&&(Zf(t,1,e),ia(t,e));break}}t=t.return}}function Vz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zi(),e.pingedLanes|=e.suspendedLanes&n,li===e&&(vi&n)===n&&(Xr===4||Xr===3&&(vi&130023424)===vi&&500>Or()-u1?Jl(e,0):c1|=n),ia(e,t)}function QM(e,t){t===0&&(e.mode&1?(t=rh,rh<<=1,!(rh&130023424)&&(rh=4194304)):t=1);var n=zi();e=ho(e,t),e!==null&&(Zf(e,t,n),ia(e,n))}function Wz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QM(e,n)}function Hz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(t),QM(e,n)}var JM;JM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||na.current)ea=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ea=!1,Mz(e,t,n);ea=!!(e.flags&131072)}else ea=!1,cr&&t.flags&1048576&&rM(t,Np,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yh(e,t),e=t.pendingProps;var i=ju(t,Mi.current);yu(t,n),i=r1(null,t,r,e,i,n);var a=i1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ra(r)?(a=!0,kp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qw(t),i.updater=t0,t.stateNode=i,i._reactInternals=t,Fy(t,r,e,n),t=zy(null,t,r,!0,a,n)):(t.tag=0,cr&&a&&Hw(t),Fi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kz(r),e=ns(r,e),i){case 0:t=By(null,t,r,e,n);break e;case 1:t=F2(null,t,r,e,n);break e;case 11:t=L2(null,t,r,e,n);break e;case 14:t=$2(null,t,r,ns(r.type,e),n);break e}throw Error(ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),By(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),F2(e,t,r,i,n);case 3:e:{if(LM(t),e===null)throw Error(ze(387));r=t.pendingProps,a=t.memoizedState,i=a.element,cM(e,t),Pp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Eu(Error(ze(423)),t),t=R2(e,t,r,n,i);break e}else if(r!==i){i=Eu(Error(ze(424)),t),t=R2(e,t,r,n,i);break e}else for(ya=Jo(t.stateNode.containerInfo.firstChild),wa=t,cr=!0,is=null,n=oM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pu(),r===i){t=po(e,t,n);break e}Fi(e,t,r,n)}t=t.child}return t;case 5:return uM(t),e===null&&_y(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Ey(r,i)?s=null:a!==null&&Ey(r,a)&&(t.flags|=32),_M(e,t),Fi(e,t,s,n),t.child;case 6:return e===null&&_y(t),null;case 13:return $M(e,t,n);case 4:return Jw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Au(t,null,r,n):Fi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),L2(e,t,r,i,n);case 7:return Fi(e,t,t.pendingProps,n),t.child;case 8:return Fi(e,t,t.pendingProps.children,n),t.child;case 12:return Fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,qn(Cp,r._currentValue),r._currentValue=s,a!==null)if(fs(a.value,s)){if(a.children===i.children&&!na.current){t=po(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=so(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ly(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ze(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ly(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Fi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yu(t,n),i=qa(i),r=r(i),t.flags|=1,Fi(e,t,r,n),t.child;case 14:return r=t.type,i=ns(r,t.pendingProps),i=ns(r.type,i),$2(e,t,r,i,n);case 15:return OM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Yh(e,t),t.tag=1,ra(r)?(e=!0,kp(t)):e=!1,yu(t,n),EM(t,r,i),Fy(t,r,i,n),zy(null,t,r,!0,e,n);case 19:return FM(e,t,n);case 22:return IM(e,t,n)}throw Error(ze(156,t.tag))};function eO(e,t){return PD(e,t)}function qz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(e,t,n,r){return new qz(e,t,n,r)}function h1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kz(e){if(typeof e=="function")return h1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ow)return 11;if(e===Iw)return 14}return 2}function rl(e,t){var n=e.alternate;return n===null?(n=Va(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")h1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Qc:return ec(n.children,i,a,t);case Mw:s=8,i|=8;break;case ly:return e=Va(12,n,t,i|2),e.elementType=ly,e.lanes=a,e;case cy:return e=Va(13,n,t,i),e.elementType=cy,e.lanes=a,e;case uy:return e=Va(19,n,t,i),e.elementType=uy,e.lanes=a,e;case uD:return i0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lD:s=10;break e;case cD:s=9;break e;case Ow:s=11;break e;case Iw:s=14;break e;case Fo:s=16,r=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Va(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function ec(e,t,n,r){return e=Va(7,e,r,t),e.lanes=n,e}function i0(e,t,n,r){return e=Va(22,e,r,t),e.elementType=uD,e.lanes=n,e.stateNode={isHidden:!1},e}function ex(e,t,n){return e=Va(6,e,null,t),e.lanes=n,e}function tx(e,t,n){return t=Va(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p1(e,t,n,r,i,a,s,o,l){return e=new Gz(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Va(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qw(a),e}function Yz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tO(e){if(!e)return ll;e=e._reactInternals;e:{if(Nc(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var n=e.type;if(ra(n))return tM(e,n,t)}return t}function nO(e,t,n,r,i,a,s,o,l){return e=p1(n,r,!0,e,i,a,s,o,l),e.context=tO(null),n=e.current,r=zi(),i=nl(n),a=so(r,i),a.callback=t??null,el(n,a,i),e.current.lanes=i,Zf(e,i,r),ia(e,r),e}function a0(e,t,n,r){var i=t.current,a=zi(),s=nl(i);return n=tO(n),t.context===null?t.context=n:t.pendingContext=n,t=so(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=el(i,t,s),e!==null&&(cs(e,i,s,a),qh(e,i,s)),s}function _p(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function g1(e,t){Y2(e,t),(e=e.alternate)&&Y2(e,t)}function Xz(){return null}var rO=typeof reportError=="function"?reportError:function(e){console.error(e)};function v1(e){this._internalRoot=e}s0.prototype.render=v1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));a0(e,t,null,null)};s0.prototype.unmount=v1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dc(function(){a0(null,e,null,null)}),t[mo]=null}};function s0(e){this._internalRoot=e}s0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ID();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vo.length&&t!==0&&t<Vo[n].priority;n++);Vo.splice(n,0,e),n===0&&LD(e)}};function x1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X2(){}function Zz(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=_p(s);a.call(c)}}var s=nO(t,r,e,0,null,!1,!1,"",X2);return e._reactRootContainer=s,e[mo]=s.current,mf(e.nodeType===8?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=_p(l);o.call(c)}}var l=p1(e,0,!1,null,null,!1,!1,"",X2);return e._reactRootContainer=l,e[mo]=l.current,mf(e.nodeType===8?e.parentNode:e),dc(function(){a0(t,l,n,r)}),l}function l0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=_p(s);o.call(l)}}a0(t,s,e,i)}else s=Zz(n,t,e,i,r);return _p(s)}MD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_d(t.pendingLanes);n!==0&&($w(t,n|1),ia(t,Or()),!(yn&6)&&(Du=Or()+500,pl()))}break;case 13:dc(function(){var r=ho(e,1);if(r!==null){var i=zi();cs(r,e,1,i)}}),g1(e,1)}};Fw=function(e){if(e.tag===13){var t=ho(e,134217728);if(t!==null){var n=zi();cs(t,e,134217728,n)}g1(e,134217728)}};OD=function(e){if(e.tag===13){var t=nl(e),n=ho(e,t);if(n!==null){var r=zi();cs(n,e,t,r)}g1(e,t)}};ID=function(){return En};_D=function(e,t){var n=En;try{return En=e,t()}finally{En=n}};by=function(e,t,n){switch(t){case"input":if(my(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Qg(r);if(!i)throw Error(ze(90));fD(r),my(r,i)}}}break;case"textarea":hD(e,n);break;case"select":t=n.value,t!=null&&pu(e,!!n.multiple,t,!1)}};wD=d1;kD=dc;var Qz={usingClientEntryPoint:!1,Events:[Jf,nu,Qg,yD,bD,d1]},yd={findFiberByHostInstance:Vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jz={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CD(e),e===null?null:e.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||Xz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Gg=hh.inject(Jz),Ms=hh}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qz;Aa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(t))throw Error(ze(200));return Yz(e,t,null,n)};Aa.createRoot=function(e,t){if(!x1(e))throw Error(ze(299));var n=!1,r="",i=rO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=p1(e,1,!1,null,null,n,!1,r,i),e[mo]=t.current,mf(e.nodeType===8?e.parentNode:e),new v1(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=CD(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return dc(e)};Aa.hydrate=function(e,t,n){if(!o0(t))throw Error(ze(200));return l0(null,e,t,!0,n)};Aa.hydrateRoot=function(e,t,n){if(!x1(e))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=rO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=nO(t,null,e,1,n??null,i,!1,a,s),e[mo]=t.current,mf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new s0(t)};Aa.render=function(e,t,n){if(!o0(t))throw Error(ze(200));return l0(null,e,t,!1,n)};Aa.unmountComponentAtNode=function(e){if(!o0(e))throw Error(ze(40));return e._reactRootContainer?(dc(function(){l0(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};Aa.unstable_batchedUpdates=d1;Aa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!o0(n))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return l0(e,t,n,!1,r)};Aa.version="18.3.1-next-f1338f8080-20240426";function iO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iO)}catch(e){console.error(e)}}iO(),iD.exports=Aa;var Yu=iD.exports,Z2=Yu;sy.createRoot=Z2.createRoot,sy.hydrateRoot=Z2.hydrateRoot;const e6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),aO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],sO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],t6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],oO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],n6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],r6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],i6=new Set([10244]),a6=(e,t)=>{var i;if(i6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return r6.some(a=>r.includes(a))},s6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Q2=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},lO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,cO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},$a=(e,t=2)=>Number.isFinite(e)?lO()&&Math.abs(e)>=1e4?cO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Lo=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return lO()&&t>=1e4?cO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var o6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>x.createElement("svg",{ref:c,...o6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${l6(e)}`,...l},[...t.map(([d,f])=>x.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},uO=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),c6=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),y1=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),dO=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),u6=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),d6=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),fO=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ql=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f6=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ms=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),m6=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),h6=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),p6=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),kf=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),g6=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),v6=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),mO=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),x6=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),b1=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),y6=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),w1=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),b6=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k1=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ea=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),J2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),w6=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),k6=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),S6=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),hO=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Mu=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),c0=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),u0=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Lp=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),N6=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Go=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),tc=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),C6=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Tr=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),j6=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),pO=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),qi=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sf=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),S1=({className:e})=>u.jsx(w6,{className:e,strokeWidth:3.2}),tm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},N1=({className:e=""})=>{const t=tm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},C1=({className:e=""})=>{const t=tm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},j1=({className:e=""})=>{const t=tm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},P1=({className:e=""})=>{const t=tm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},P6=[{id:"overview",label:"Overview",icon:tc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:tc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Go},{id:"top-players",label:"Top Players",icon:tc},{id:"top-skills-outgoing",label:"Top Skills",icon:y1},{id:"squad-composition",label:"Classes",icon:Tr},{id:"timeline",label:"Squad vs Enemy",icon:Tr},{id:"map-distribution",label:"Map Distribution",icon:k1}]},{id:"roster",label:"Roster Intel",icon:kf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:kf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Tr},{id:"fight-comp",label:"Fight Comp",icon:Go}]},{id:"offense",label:"Offensive Stats",icon:Go,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Go},{id:"player-breakdown",label:"Player Breakdown",icon:w1},{id:"spike-damage",label:"Spike Damage",icon:Sf},{id:"conditions-outgoing",label:"Conditions",icon:c0}]},{id:"defense",label:"Defensive Stats",icon:Mu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:S6},{id:"defense-detailed",label:"Defense Detailed",icon:Mu},{id:"defense-mitigation",label:"Damage Mitigation",icon:j1},{id:"support-detailed",label:"Support Detailed",icon:S1},{id:"healing-stats",label:"Healing Stats",icon:mO},{id:"boon-output",label:"Boon Output",icon:C1}]},{id:"other",label:"Other Metrics",icon:Lp,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Lp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:P1},{id:"skill-usage",label:"Skill Usage",icon:b1},{id:"apm-stats",label:"APM Breakdown",icon:N1}]}],A6=(e,t=!0)=>{const[n,r]=x.useState(!1),[i,a]=x.useState("overview"),s=x.useRef(null),o=x.useRef(null),l=x.useRef(0),c=x.useMemo(()=>P6,[]),d=x.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const p=m==="kdr"?"overview":m,g=s.current,y=document.getElementById(p);if(g&&y){const v=g.getBoundingClientRect(),w=y.getBoundingClientRect().top-v.top+g.scrollTop,S=Math.max(0,g.scrollHeight-g.clientHeight),C=Math.min(Math.max(w-16,0),S);g.scrollTo({top:C,behavior:"smooth"}),a(p)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(p));r(!1)};x.useEffect(()=>{if(e)return;const m=p=>{const g=s.current;if(!g)return;const y=p.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&g.contains(y))&&p.deltaY!==0&&!(g.scrollHeight<=g.clientHeight)){if(l.current+=p.deltaY,o.current===null){const v=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,o.current=null;return}const w=b*.2;l.current=b-w,g.scrollBy({top:w,behavior:"auto"}),o.current=requestAnimationFrame(v)};o.current=requestAnimationFrame(v)}p.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),l.current=0}},[e]);const h=m=>{var v;const p=Math.max(0,d.findIndex(b=>b.id===i)),g=Math.min(Math.max(p+m,0),d.length-1),y=(v=d[g])==null?void 0:v.id;y&&f(y)};return x.useEffect(()=>{if(!t)return;const m=s.current;if(!m)return;let p=0;const g=()=>{var w;const v=m.getBoundingClientRect().top;let b=((w=d[0])==null?void 0:w.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);if(!C)return;C.getBoundingClientRect().top-v<=24&&(b=S.id)}),a(S=>S===b?S:b)},y=()=>{p&&cancelAnimationFrame(p),p=requestAnimationFrame(g)};return g(),m.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{p&&cancelAnimationFrame(p),m.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:i,setActiveNavId:a,scrollContainerRef:s,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:h}},T6=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=x.useState({uploading:!1,message:null,url:null}),[c,d]=x.useState("idle"),f=()=>{const p=new Set;let g=null,y=null;e.forEach(_=>{const T=_.details;if(!T)return;const F=T.timeStartStd||T.timeStart||T.uploadTime||_.uploadTime,M=T.timeEndStd||T.timeEnd||T.uploadTime||_.uploadTime,ee=F?new Date(F):null,te=M?new Date(M):null;ee&&!Number.isNaN(ee.getTime())&&(!g||ee<g)&&(g=ee),te&&!Number.isNaN(te.getTime())&&(!y||te>y)&&(y=te),(T.players||[]).forEach(ue=>{if(!(ue!=null&&ue.notInSquad)&&ue!=null&&ue.hasCommanderTag){const J=(ue==null?void 0:ue.name)||(ue==null?void 0:ue.account)||"Unknown";p.add(J)}})});const v=Array.from(p).sort((_,T)=>_.localeCompare(T)),b=g||new Date,w=y||b,S=b.toISOString(),C=w.toISOString(),N=`${b.toLocaleString()} - ${w.toLocaleString()}`,P=_=>String(_).padStart(2,"0");return{id:`${b.getFullYear()}${P(b.getMonth()+1)}${P(b.getDate())}-${P(b.getHours())}${P(b.getMinutes())}${P(b.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:v.length?v.join(", "):"Unknown Commander",commanders:v,dateStart:S,dateEnd:C,dateLabel:N,generatedAt:new Date().toISOString()}};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const p=f();await s({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(a||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const g=f(),y=await window.electronAPI.mockWebReport({meta:g,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:i||"classic"}});y!=null&&y.success?l({uploading:!1,message:"Local report ready.",url:y.url||null}):l({uploading:!1,message:(y==null?void 0:y.error)||"Local report failed.",url:null})}catch(g){l({uploading:!1,message:(g==null?void 0:g.message)||"Local report failed.",url:null})}}}}};function E6(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const D6=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function il(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Uc=null;function gO(e={}){return Uc||(e.includeStyleProperties?(Uc=e.includeStyleProperties,Uc):(Uc=il(window.getComputedStyle(document.documentElement)),Uc))}function $p(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function M6(e){const t=$p(e,"border-left-width"),n=$p(e,"border-right-width");return e.clientWidth+t+n}function O6(e){const t=$p(e,"border-top-width"),n=$p(e,"border-bottom-width");return e.clientHeight+t+n}function vO(e,t={}){const n=t.width||M6(e),r=t.height||O6(e);return{width:n,height:r}}function I6(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ha=16384;function _6(e){(e.width>ha||e.height>ha)&&(e.width>ha&&e.height>ha?e.width>e.height?(e.height*=ha/e.width,e.width=ha):(e.width*=ha/e.height,e.height=ha):e.width>ha?(e.height*=ha/e.width,e.width=ha):(e.width*=ha/e.height,e.height=ha))}function Fp(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function L6(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function $6(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),L6(i)}const aa=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||aa(n,t)};function F6(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function R6(e,t){return gO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function B6(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?F6(n):R6(n,r);return document.createTextNode(`${i}{${a}}`)}function eC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=D6();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(B6(s,n,i,r)),t.appendChild(o)}function z6(e,t,n){eC(e,t,":before",n),eC(e,t,":after",n)}const tC="application/font-woff",nC="image/jpeg",U6={woff:tC,woff2:tC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nC,jpeg:nC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function V6(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function A1(e){const t=V6(e).toLowerCase();return U6[t]||""}function W6(e){return e.split(/,/)[1]}function Jy(e){return e.search(/^(data:)/)!==-1}function H6(e,t){return`data:${t};base64,${e}`}async function xO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const nx={};function q6(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function T1(e,t,n){const r=q6(e,t,n.includeQueryParams);if(nx[r]!=null)return nx[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await xO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),W6(o)));i=H6(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return nx[r]=i,i}async function K6(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Fp(t)}async function G6(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Fp(o)}const n=e.poster,r=A1(n),i=await T1(n,r,t);return Fp(i)}async function Y6(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await d0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function X6(e,t){return aa(e,HTMLCanvasElement)?K6(e):aa(e,HTMLVideoElement)?G6(e,t):aa(e,HTMLIFrameElement)?Y6(e,t):e.cloneNode(yO(e))}const Z6=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",yO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Q6(e,t,n){var r,i;if(yO(t))return t;let a=[];return Z6(e)&&e.assignedNodes?a=il(e.assignedNodes()):aa(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=il(e.contentDocument.body.childNodes):a=il(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||aa(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>d0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function J6(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):gO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),aa(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function eU(e,t){aa(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),aa(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function tU(e,t){if(aa(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function nU(e,t,n){return aa(t,Element)&&(J6(e,t,n),z6(e,t,n),eU(e,t),tU(e,t)),t}async function rU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await d0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function d0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>X6(r,t)).then(r=>Q6(e,r,t)).then(r=>nU(e,r,t)).then(r=>rU(r,t))}const bO=/url\((['"]?)([^'"]+?)\1\)/g,iU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,aU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function sU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function oU(e){const t=[];return e.replace(bO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Jy(n))}async function lU(e,t,n,r,i){try{const a=n?E6(t,n):t,s=A1(t);let o;return i||(o=await T1(a,s,r)),e.replace(sU(t),`$1${o}$3`)}catch{}return e}function cU(e,{preferredFontFormat:t}){return t?e.replace(aU,n=>{for(;;){const[r,,i]=iU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function wO(e){return e.search(bO)!==-1}async function kO(e,t,n){if(!wO(e))return e;const r=cU(e,n);return oU(r).reduce((a,s)=>a.then(o=>lU(o,s,t,n)),Promise.resolve(r))}async function Vc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await kO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function uU(e,t){await Vc("background",e,t)||await Vc("background-image",e,t),await Vc("mask",e,t)||await Vc("-webkit-mask",e,t)||await Vc("mask-image",e,t)||await Vc("-webkit-mask-image",e,t)}async function dU(e,t){const n=aa(e,HTMLImageElement);if(!(n&&!Jy(e.src))&&!(aa(e,SVGImageElement)&&!Jy(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await T1(r,A1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function fU(e,t){const r=il(e.childNodes).map(i=>SO(i,t));await Promise.all(r).then(()=>e)}async function SO(e,t){aa(e,Element)&&(await uU(e,t),await dU(e,t),await fU(e,t))}function mU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const rC={};async function iC(e){let t=rC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},rC[e]=t,t}async function aC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),xO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function sC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function hU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{il(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=iC(l).then(d=>aC(d,t)).then(d=>sC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(iC(i.href).then(o=>aC(o,t)).then(o=>sC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{il(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function pU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>wO(t.style.getPropertyValue("src")))}async function gU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=il(e.ownerDocument.styleSheets),r=await hU(n,t);return pU(r)}function NO(e){return e.trim().replace(/["']/g,"")}function vU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(NO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function xU(e,t){const n=await gU(e,t),r=vU(e);return(await Promise.all(n.filter(a=>r.has(NO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return kO(a.cssText,s,t)}))).join(`
`)}async function yU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await xU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function bU(e,t={}){const{width:n,height:r}=vO(e,t),i=await d0(e,t,!0);return await yU(i,t),await SO(i,t),mU(i,t),await $6(i,n,r)}async function wU(e,t={}){const{width:n,height:r}=vO(e,t),i=await bU(e,t),a=await Fp(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||I6(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||_6(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function kU(e,t={}){return(await wU(e,t)).toDataURL()}const SU=e=>{const[t,n]=x.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,v=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=v});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let v=g,b=!1;for(const S of y){const C=S[1];if(!C)continue;const N=await c(C);N&&(v=v.replace(S[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=v,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>kU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},oC=["selfBuffs","groupBuffs","squadBuffs"],Gs=(e,t,n=0)=>t?e/t:n,lC=e=>e!=null&&e.classification?e.classification==="Boon":!0,CO=e=>`b${e}`,NU=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},jO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},CU=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Gs(a-i,i,1):t==="squadBuffs"?h=Gs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Gs(d,r):Gs(d,r)*100,p=n?Gs(f,r):Gs(f,r)*100;else{const g=Gs(d,r)/(h||1),y=Gs(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},PO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=CU(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Gs(i,s):a},jU=(e,t,n,r,i)=>{const a=PO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},PU=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,v=h.get(y)||1,b=NU(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=v,w.squadSupported+=f,oC.forEach(S=>{(m[S]||[]).forEach(N=>{var te,le,ue,J;if(typeof(N==null?void 0:N.id)!="number")return;const P=CO(N.id),D=l[P];if(!lC(D))return;const _=(D==null?void 0:D.stacking)??!1,T=((le=(te=N.buffData)==null?void 0:te[0])==null?void 0:le.generation)??0,F=((J=(ue=N.buffData)==null?void 0:ue[0])==null?void 0:J.wasted)??0,{generationMs:M,wastedMs:ee}=jO(S,_,T,F,o,v,f);!M&&!ee||(t.has(P)||t.set(P,D||{}),w.boons[P]||(w.boons[P]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[P][S].generationMs+=M,w.boons[P][S].wastedMs+=ee)})})})}),{boonTables:Array.from(t.keys()).filter(a=>lC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!oC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var v;const y=((v=l.professionTimeMs)==null?void 0:v[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},cC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(v=>v.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[CO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return jO(t,d,f,h,r,i,a)},AU={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},TU={methods:AU},EU=TU,E1="count",DU=e=>(e||0)/1e3,MU=(e,t)=>{var i;if(!e)return 0;const n=(i=EU.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},AO=(e,t,n)=>n==="duration"?DU(t):n==="tiered"?MU(e,t):e;function OU(e,t=E1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return AO(r,i,t)}function IU(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=cC(o,"selfBuffs",1122,n,l,a,r),d=cC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function _U(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function LU(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function $U(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const FU=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},RU=(e,t=E1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return AO(r,i,t)},BU=e=>_U(e),zU=e=>$U(e),UU=e=>LU(e),VU=(e,t=E1)=>OU(e,t),WU=(e,t)=>IU(e,t),HU="count",TO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},eb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},qU={uploading:!1,message:null,url:null,buildStatus:"idle"},uC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),EO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},ph=e=>{if(e)return EO[e]},Nf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=uC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=uC.get(i);if(a)return a}return null},Gc=e=>Nf(e),DO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Nf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(EO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Jh=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Nf(i);if(a)return a}return e?Nf(e):null},KU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},GU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},YU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},XU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||KU,s=DO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let v=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(v=r[`s${y.id}`].name||v,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(v=r[`${y.id}`].name||v,b=r[`${y.id}`].icon||b));const w=Jh(v,y.id,i);if(!w)return;const S=i==null?void 0:i[`b${y.id}`],C=S==null?void 0:S.name,N=s.get(w)||(S==null?void 0:S.icon),P=v.startsWith("Skill ")?C||w:v,D=b||(S==null?void 0:S.icon),_=Number(y.connectedHits??0),T=Number(y.hits??0),F=_>0?_:T,M=Number(y.totalDamage??0);if(!Number.isFinite(F)&&!Number.isFinite(M))return;const ee=l[w]||{name:w,icon:N,applications:0,damage:0};ee.applications+=Number.isFinite(F)?F:0,ee.damage+=Number.isFinite(M)?M:0,!ee.icon&&N&&(ee.icon=N),l[w]=ee;const te=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};te.applications+=Number.isFinite(F)?F:0,te.damage+=Number.isFinite(M)?M:0;const le=te.skills[P]||{name:P,hits:0,damage:0,icon:D};le.hits+=Number.isFinite(F)?F:0,le.damage+=Number.isFinite(M)?M:0,!le.icon&&D&&(le.icon=D),te.skills[P]=le,!te.icon&&N&&(te.icon=N),o[p][w]=te})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],v=Nf(y==null?void 0:y.name);if(!v||y!=null&&y.classification&&y.classification!=="Condition")return;const b=v;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([S,C])=>{var F;const N=c.get(S);if(!N)return;f+=1;const P=GU(C),D=YU(C);d+=P;const _=((F=o[N])==null?void 0:F[b])||{applications:0,damage:0,skills:{}};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+P,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+D,o[N]=o[N]||{},o[N][b]=_;const T=l[b]||{name:b,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+P,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+D,l[b]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Cf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},ZU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function nc(e){return Cf[e]||Cf.Unknown}function QU(e){return e?ZU[e]||e:"Unknown"}function Kl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Cf[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=QU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const JU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Zi=(e,t)=>JU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),gh=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0),s=r||eb,o=n||TO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=v=>Array.isArray(v)&&v.some(b=>b&&Number(b.count)>0),p=new Map,g=new Map;e.forEach(v=>{var S;const b=(v==null?void 0:v.filePath)||(v==null?void 0:v.id);b&&p.set(String(b),v);const w=(v==null?void 0:v.permalink)||((S=v==null?void 0:v.details)==null?void 0:S.permalink);typeof w=="string"&&w.trim()&&g.set(w.trim(),v)});const y=h.map(v=>{var P;if(!v||typeof v!="object")return v;const b=v.id?String(v.id):"",w=typeof v.permalink=="string"?v.permalink.trim():"",S=(b?p.get(b):void 0)||(w?g.get(w):void 0);if(!S)return v;let C=v;if(Number(v.timestamp)<=0){const D=Zi(S==null?void 0:S.details,S);D&&(C={...C,timestamp:D})}const N=(P=S==null?void 0:S.details)==null?void 0:P.teamBreakdown;return m(N)&&(C={...C,teamBreakdown:N}),C});return{...f,fightBreakdown:y}},c=(()=>{if(t)return l(t);const f=i||HU,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,v=0,b=0,w=0,S=0,C=0,N=0;const P=E=>{const H=((E==null?void 0:E.players)||[]).filter(lt=>!lt.notInSquad);let Ae=0,me=0,Ve=0,Ce=0;return H.forEach(lt=>{var Xt;const ht=(Xt=lt.defenses)==null?void 0:Xt[0];if(!ht)return;const St=Number(ht.downCount||0),Kt=Number(ht.deadCount||0);Ae+=St+Kt,Ve+=Kt}),H.forEach(lt=>{!lt.statsTargets||lt.statsTargets.length===0||lt.statsTargets.forEach(ht=>{const St=ht==null?void 0:ht[0];if(!St)return;const Kt=Number(St.downed||0),Xt=Number(St.killed||0);me+=Kt+Xt,Ce+=Xt})}),{squadDownsDeaths:Ae,enemyDownsDeaths:me,squadDeaths:Ve,enemyDeaths:Ce}},D=E=>{const{squadDownsDeaths:V,enemyDownsDeaths:H}=P(E);return V>0||H>0?H>V:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},_=new Map,T=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),F={},M={},ee=new Map,te={},le={},ue={},J=new Map,Y=new Map,I=new Set(Object.keys(Cf)),A=Object.keys(Cf).filter(E=>E&&E!=="Unknown").sort((E,V)=>V.length-E.length),j=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],W=E=>{if(!E)return"Unknown";const V=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(I.has(V))return V;const H=V.toLowerCase();for(const me of A)if(H.includes(me.toLowerCase()))return me;return j.find(me=>H.includes(me.toLowerCase()))||V||"Unknown"},k=E=>E!=null&&E.classification?E.classification==="Boon":!0,O=new Map,re=new Map,X=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),z=E=>{const V=Number(E);return Number.isFinite(V)?V:0},Z=E=>{const V=String(E).split("|"),H=V[0]||"Unknown",Ae=W(V[1]||"Unknown"),me=V[2]||H||"Unknown";return{name:H,profession:Ae,account:me}},$=(E,V,H)=>{let Ae=E.get(V);return Ae?H.profession&&!Ae.professionList.includes(H.profession)&&Ae.professionList.push(H.profession):(Ae={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:X()},E.set(V,Ae)),Ae},G=(E,V,H)=>{let Ae=E.get(V);return Ae?H.profession&&!Ae.professionList.includes(H.profession)&&Ae.professionList.push(H.profession):(Ae={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:X(),minion:H.minion},E.set(V,Ae)),Ae},ae=(E,V)=>{E.totalHits+=z((V==null?void 0:V.skill_hits)??(V==null?void 0:V.skillHits)),E.blocked+=z(V==null?void 0:V.blocked),E.evaded+=z(V==null?void 0:V.evaded),E.glanced+=z(V==null?void 0:V.glanced),E.missed+=z(V==null?void 0:V.missed),E.invulned+=z(V==null?void 0:V.invulned),E.interrupted+=z(V==null?void 0:V.interrupted),E.totalMitigation+=z((V==null?void 0:V.avoided_damage)??(V==null?void 0:V.avoidedDamage)),E.minMitigation+=z((V==null?void 0:V.min_avoided_damage)??(V==null?void 0:V.minAvoidedDamage))},ne=E=>Object.values(E).some(V=>V>0),U=(E,V,H)=>{var Ve,Ce,lt,ht;const Ae=`s${E}`;if((Ve=V==null?void 0:V[Ae])!=null&&Ve.name)return V[Ae].name;if((Ce=V==null?void 0:V[String(E)])!=null&&Ce.name)return V[String(E)].name;const me=`b${E}`;return(lt=H==null?void 0:H[me])!=null&&lt.name?H[me].name:(ht=H==null?void 0:H[String(E)])!=null&&ht.name?H[String(E)].name:`Unknown Skill ${E}`},B=new Map,L=E=>{const V=B.get(E);if(!V)return{hasSkill:!1,avg:1,min:1,hits:0};const H=V.connectedHits||0,Ae=H>0?V.totalDamage/H:0,me=V.minCount>0?V.minTotal/V.minCount:0;return{hasSkill:!0,avg:Ae,min:me,hits:H}},Q="Ashtonlightstone.9145",we="Illusionary Warden",Re=[],ie=[],Ue=[],De=[],nt=new Map,on=new Map,Nn=(E,V,H)=>{const Ae=E.get(V)||X();return Ae.totalHits+=H.totalHits,Ae.blocked+=H.blocked,Ae.evaded+=H.evaded,Ae.glanced+=H.glanced,Ae.missed+=H.missed,Ae.invulned+=H.invulned,Ae.interrupted+=H.interrupted,E.set(V,Ae),Ae};a.forEach(E=>{const V=E.details;if(!V)return;(V.targets||[]).forEach(Ae=>{const me=(Ae==null?void 0:Ae.totalDamageDist)||[],Ve=Array.isArray(me)?me[0]:null;Ve==null||Ve.forEach(Ce=>{if(!(Ce!=null&&Ce.id))return;const lt=Number(Ce.id),ht=B.get(lt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ht.totalDamage+=Number(Ce.totalDamage||0),ht.connectedHits+=Number(Ce.connectedHits||0);const St=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;ht.minTotal+=St,ht.minCount+=1,B.set(lt,ht)})})}),a.forEach((E,V)=>{var vt,Un;const H=E.details;if(!H)return;const Ae=H.players,me=H.targets||[],Ve=H.skillMap||{},Ce=H.buffMap||{},lt=new Map,ht=new Map;me.forEach(se=>{const Oe=(se==null?void 0:se.totalDamageDist)||[],Xe=Array.isArray(Oe)?Oe[0]:null;Xe==null||Xe.forEach(zt=>{var bt;if(!(zt!=null&&zt.id))return;const Pt=Number(zt.id),ce=((bt=Ve==null?void 0:Ve[Pt])==null?void 0:bt.name)||zt.name||zt.skillName||String(Pt),Te=lt.get(Pt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Te.totalDamage+=Number(zt.totalDamage||0),Te.connectedHits+=Number(zt.connectedHits||0);const qe=Number.isFinite(Number(zt.min))?Number(zt.min):0;Te.minTotal+=qe,Te.minCount+=1,lt.set(Pt,Te);const Ge=ht.get(ce)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ge.totalDamage+=Number(zt.totalDamage||0),Ge.connectedHits+=Number(zt.connectedHits||0);const Ut=Number.isFinite(Number(zt.min))?Number(zt.min):0;Ge.minTotal+=Ut,Ge.minCount+=1,ht.set(ce,Ge)})});const St=se=>{const Oe=lt.get(se);if(!Oe||Oe.connectedHits<=0)return{avg:1,min:1};const Xe=Oe.connectedHits>0?Oe.totalDamage/Oe.connectedHits:0,zt=Oe.minCount>0?Oe.minTotal/Oe.minCount:Xe;return{avg:Xe||1,min:zt||1}},Kt=se=>{const Oe=ht.get(se);if(!Oe||Oe.connectedHits<=0)return{avg:1,min:1};const Xe=Oe.connectedHits>0?Oe.totalDamage/Oe.connectedHits:0,zt=Oe.minCount>0?Oe.minTotal/Oe.minCount:Xe;return{avg:Xe||1,min:zt||1}},Xt=H.combatReplayMetaData||{},Dn=(Xt==null?void 0:Xt.inchToPixel)>0?Xt.inchToPixel:1,Qe=(Xt==null?void 0:Xt.pollingRate)>0?Xt.pollingRate:1,Ze=5e3,mt=se=>Array.isArray(se)?se.map(Oe=>Array.isArray(Oe)?[Number(Oe[0]),Number(Oe[1])]:null).filter(Oe=>!!Oe&&Number.isFinite(Oe[0])):[];let Bt=[],Zt=H.durationMS||0,ve=!1;const Se=Ae.find(se=>(se==null?void 0:se.hasCommanderTag)&&!(se!=null&&se.notInSquad));(vt=Se==null?void 0:Se.combatReplayData)!=null&&vt.positions&&(Bt=Se.combatReplayData.positions,mt(Se.combatReplayData.dead).forEach(([Oe])=>{Oe>0&&(ve=!0,Zt=Math.min(Zt,Oe))}));const $e=se=>{var Ge;const Oe=(Ge=se.statsAll)==null?void 0:Ge[0];if((Oe==null?void 0:Oe.distToCom)!==void 0&&(Oe==null?void 0:Oe.distToCom)!=="Infinity")return Math.round(Number(Oe.distToCom));if((Oe==null?void 0:Oe.stackDist)!==void 0)return Math.round(Number(Oe.stackDist))||0;if(se.hasCommanderTag)return 0;const Xe=se.combatReplayData;if(!(Xe!=null&&Xe.positions)||!Bt.length)return 0;const zt=Xe.positions,Pt=mt(Xe.dead),ce=mt(Xe.down),Te=Math.floor((Xe.start||0)/Qe);let qe=0;if(Pt.length&&ce.length)for(const[Ut]of Pt){if(Ut<0)continue;const bt=Math.max(0,Math.floor(Ut/Qe))-Te;for(const[xt,Dt]of ce){if(Ut!==Dt)continue;const Ot=ve&&xt>Zt?Math.max(1,Math.floor(Zt/Qe)):bt,Ht=Math.max(0,Math.min(Ot,zt.length,Bt.length));if(Ht<=0)continue;let Lt=0;for(let At=0;At<Ht;At++){const[Ie,tt]=zt[At],[wt,pt]=Bt[At];Lt+=Math.hypot(Ie-wt,tt-pt)}qe=Math.round(Lt/Ht/Dn)}}return qe},Le=Ae.filter(se=>!se.notInSquad);v+=Le.length,b+=me.filter(se=>!se.isFake).length,WU(Ae,{durationMS:H.durationMS,buffMap:H.buffMap});const{squadDeaths:Ye,enemyDeaths:pe}=P(H);w+=Ye,S+=pe,N+=Ye,C+=pe,D(H)?g++:y++;const Je=H.skillMap?Number((Un=Object.keys(H.skillMap).find(se=>{var Oe,Xe;return((Xe=(Oe=H.skillMap)==null?void 0:Oe[se])==null?void 0:Xe.name)==="Battle Standard"}))==null?void 0:Un.replace(/^s/,"")):null;Ae.forEach((se,Oe)=>{var Qa,Vs,Mc,da,Ws,Rm,ld,Da,Cl,Bm,zm,Um,Vm;if(se.notInSquad)return;const Xe=se.account||"Unknown",zt=Xe!=="Unknown"?Xe:se.name||"Unknown",Pt=se.name||"Unknown";_.has(zt)||_.set(zt,{name:Pt,account:zt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:se.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ce=_.get(zt);if(se.hasCommanderTag&&(ce.isCommander=!0),Pt!=="Unknown"&&ce.characterNames.add(String(Pt)),se.profession&&se.profession!=="Unknown"){ce.profession=se.profession,ce.professions.add(se.profession);const Ne=Array.isArray(se.activeTimes)&&typeof se.activeTimes[0]=="number"?se.activeTimes[0]:H.durationMS||0;ce.professionTimeMs[se.profession]=(ce.professionTimeMs[se.profession]||0)+Ne}ce.logsJoined++,ce.downContrib+=BU(se),ce.cleanses+=FU(se),ce.strips+=RU(se,f),ce.healing+=zU(se),ce.barrier+=UU(se),ce.cc+=VU(se,f),ce.stab+=se.stabGeneration||0;const Te=$e(se);Te<=Ze&&(ce.totalDist+=Te,ce.distCount++),(Qa=se.defenses)!=null&&Qa[0]&&(ce.dodges+=se.defenses[0].dodgeCount||0,ce.downs+=se.defenses[0].downCount||0,ce.deaths+=se.defenses[0].deadCount||0),H.durationMS&&(ce.totalFightMs+=H.durationMS);const qe=Array.isArray(se.activeTimes)&&typeof se.activeTimes[0]=="number"?se.activeTimes[0]:H.durationMS||0;ce.squadActiveMs+=qe;const Ge=Zi(H,E),Ut=Number((H==null?void 0:H.durationMS)||0);Ge>0&&((ce.firstSeenFightTs<=0||Ge<ce.firstSeenFightTs)&&(ce.firstSeenFightTs=Ge),ce.lastSeenFightTs<=0||Ge>ce.lastSeenFightTs?(ce.lastSeenFightTs=Ge,ce.lastSeenFightDurationMs=Ut):Ge===ce.lastSeenFightTs&&Ut>ce.lastSeenFightDurationMs&&(ce.lastSeenFightDurationMs=Ut)),ce.defenseActiveMs+=qe,ce.supportActiveMs+=qe,ce.healingActiveMs+=qe,Array.isArray(se.buffUptimes)&&se.buffUptimes.length>0&&se.buffUptimes.forEach(Ne=>{var Hm,qm,ma,Km,Pl,Oc;if(typeof(Ne==null?void 0:Ne.id)!="number")return;const He=`b${Ne.id}`,Ke=((Hm=H.buffMap)==null?void 0:Hm[He])||((qm=H.buffMap)==null?void 0:qm[String(Ne.id)]);if(!Ke||k(Ke))return;const at=Number(((Km=(ma=Ne.buffData)==null?void 0:ma[0])==null?void 0:Km.uptime)??0),$t=Number(((Oc=(Pl=Ne.buffData)==null?void 0:Pl[0])==null?void 0:Oc.presence)??0);if((!Number.isFinite(at)||at<=0)&&(!Number.isFinite($t)||$t<=0))return;const Vn=(Ke==null?void 0:Ke.stacking)??!1,fr=(Vn?Number.isFinite(at)?at:0:Number.isFinite(at)?at/100:0)*qe,Ki=Vn?$t:at,Ii=Math.min(Math.max(Number.isFinite(Ki)?Ki:0,0),100)/100*qe,jl=Number.isFinite(fr)&&fr>0,Hs=Number.isFinite(Ii)&&Ii>0;if(!jl&&!Hs)return;const Dr=Gc(Ke==null?void 0:Ke.name);if(Dr&&e6.has(Dr)&&(!(Ke!=null&&Ke.classification)||Ke.classification==="Condition")){const Ic=fr/1e3,Gi=Ke==null?void 0:Ke.icon,wi=te[Dr]||{name:Dr,icon:Gi,applications:0,damage:0};wi.applicationsFromUptime=(wi.applicationsFromUptime||0)+Ic,!wi.icon&&Gi&&(wi.icon=Gi),te[Dr]=wi;const Al=ce.outgoingConditions[Dr]||{applications:0,damage:0,skills:{},icon:Gi};Al.applicationsFromUptime=(Al.applicationsFromUptime||0)+Ic,!Al.icon&&Gi&&(Al.icon=Gi),ce.outgoingConditions[Dr]=Al;const ws=le[Dr]||{name:Dr,icon:Gi,applications:0,damage:0};ws.applicationsFromUptime=(ws.applicationsFromUptime||0)+Ic,!ws.icon&&Gi&&(ws.icon=Gi),le[Dr]=ws;const Tl=ce.incomingConditions[Dr]||{applications:0,damage:0,skills:{},icon:Gi};Tl.applicationsFromUptime=(Tl.applicationsFromUptime||0)+Ic,!Tl.icon&&Gi&&(Tl.icon=Gi),ce.incomingConditions[Dr]=Tl}J.has(He)||J.set(He,{name:Ke==null?void 0:Ke.name,stacking:Vn,icon:Ke==null?void 0:Ke.icon}),Y.has(He)||Y.set(He,new Map);const Wm=Y.get(He),di=ce.account||se.account||se.name||"Unknown";let ar=Wm.get(di);ar||(ar={account:di,profession:ce.profession||se.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Wm.set(di,ar));const Ma=se.profession||ce.profession;Ma&&Ma!=="Unknown"&&(ar.professions.add(Ma),ar.professionTimeMs[Ma]=(ar.professionTimeMs[Ma]||0)+qe,ar.profession=Ma),ar.totalMs+=jl?fr:0,ar.uptimeMs+=Hs?Ii:0,ar.durationMs+=qe}),(Vs=se.defenses)!=null&&Vs[0]&&sO.forEach(Ne=>{const He=Number(se.defenses[0][Ne.field]??0);Number.isFinite(He)&&(ce.defenseTotals[Ne.id]=(ce.defenseTotals[Ne.id]||0)+He)}),(Mc=se.support)!=null&&Mc[0]&&oO.forEach(Ne=>{let He=Number(se.support[0][Ne.field]??0);Number.isFinite(He)&&(T.has(Ne.field)&&He>999999&&(He=0),ce.supportTotals[Ne.id]=(ce.supportTotals[Ne.id]||0)+He)});const bt=(Ne,He)=>{Number.isFinite(He)&&(ce.healingTotals[Ne]=(ce.healingTotals[Ne]||0)+He)},xt=(Ne,He)=>Array.isArray(Ne)?Ne.reduce((Ke,at)=>Ke+Number((at==null?void 0:at[He])??0),0):0,Dt=(Ne,He,Ke)=>{if(!Number.isFinite(Ke)||Ke<=0)return;const at=Ae[He],$t=He===Oe,Vn=at==null?void 0:at.notInSquad,Yn=!Vn,fr=Yn&&(at==null?void 0:at.group)!=null&&at.group===se.group;bt(Ne,Ke),Yn&&bt(`squad${Ne[0].toUpperCase()}${Ne.slice(1)}`,Ke),fr&&bt(`group${Ne[0].toUpperCase()}${Ne.slice(1)}`,Ke),$t&&bt(`self${Ne[0].toUpperCase()}${Ne.slice(1)}`,Ke),Vn&&bt(`offSquad${Ne[0].toUpperCase()}${Ne.slice(1)}`,Ke)};if(Array.isArray(se.rotation)){let Ne=0;se.rotation.forEach(He=>{var at;if(!(He!=null&&He.id)||!a6(He.id,H.skillMap))return;const Ke=((at=He.skills)==null?void 0:at.length)||0;Ke>0&&(Ne+=Ke,bt(`resUtility_s${He.id}`,Ke))}),Ne>0&&bt("resUtility",Ne)}const Ot=(da=se.extHealingStats)==null?void 0:da.outgoingHealingAllies;Array.isArray(Ot)&&Ot.forEach((Ne,He)=>{const Ke=xt(Ne,"healing"),at=xt(Ne,"downedHealing");Dt("healing",He,Ke),Dt("downedHealing",He,at)});const Ht=(Ws=se.extBarrierStats)==null?void 0:Ws.outgoingBarrierAllies;Array.isArray(Ht)&&Ht.forEach((Ne,He)=>{const Ke=xt(Ne,"barrier");Dt("barrier",He,Ke)});const Lt=(Rm=se.statsAll)==null?void 0:Rm[0],At=(ld=se.dpsAll)==null?void 0:ld[0],Ie=(Da=se.support)==null?void 0:Da[0];if(aO.forEach(Ne=>{if(Ne.id==="downContributionPercent"||!Ne.field)return;let He=0,Ke=0;Ne.source==="dpsAll"&&At?He=Number(At[Ne.field]??0):Ne.source==="statsAll"&&Lt?(He=Number(Lt[Ne.field]??0),Ke=Number(Lt[Ne.denomField||Ne.weightField||"connectedDamageCount"]??0)):Ne.source==="support"&&Ie?He=Number(Ie[Ne.field]??0):se.statsTargets&&se.statsTargets.forEach(at=>{at!=null&&at[0]&&(He+=Number(at[0][Ne.field]??0),Ke+=Number(at[0][Ne.denomField||Ne.weightField||"connectedDamageCount"]??0))}),Number.isFinite(He)&&(ce.offenseTotals[Ne.id]=(ce.offenseTotals[Ne.id]||0)+He,Ne.isRate&&Ke>0&&(ce.offenseRateWeights[Ne.id]=(ce.offenseRateWeights[Ne.id]||0)+Ke))}),se.targetDamageDist&&Number.isFinite(Je)){const Ne=se.targetDamageDist.flatMap(He=>He||[]).flatMap(He=>He||[]).reduce((He,Ke)=>Ke!=null&&Ke.id&&Ke.id===Je?He+((Ke==null?void 0:Ke.connectedHits)||0):He,0);ce.offenseTotals.battleStandardHits=(ce.offenseTotals.battleStandardHits||0)+Ne}ce.revives+=((Bm=(Cl=se.support)==null?void 0:Cl[0])==null?void 0:Bm.resurrects)||0,At&&(ce.damage+=At.damage||0,ce.dps+=At.dps||0);const tt=Ne=>{var $t,Vn,Yn,fr;let He=`Skill ${Ne.id}`;const Ke=(($t=H.skillMap)==null?void 0:$t[`s${Ne.id}`])||((Vn=H.skillMap)==null?void 0:Vn[`${Ne.id}`]);let at=Ke==null?void 0:Ke.icon;if(Ke!=null&&Ke.name&&(He=Ke.name),He.startsWith("Skill ")){const Ki=Jh(He,Ne.id,H.buffMap);Ki&&(He=Ki,at=((fr=(Yn=H.buffMap)==null?void 0:Yn[`b${Ne.id}`])==null?void 0:fr.icon)||at)}return{name:He,icon:at}},wt=Ne=>{if(!(Ne!=null&&Ne.id))return;const{name:He,icon:Ke}=tt(Ne);F[Ne.id]||(F[Ne.id]={name:He,icon:Ke,damage:0,hits:0,downContribution:0}),F[Ne.id].name.startsWith("Skill ")&&!He.startsWith("Skill ")&&(F[Ne.id].name=He),!F[Ne.id].icon&&Ke&&(F[Ne.id].icon=Ke),F[Ne.id].damage+=Ne.totalDamage,F[Ne.id].hits+=Ne.connectedHits,F[Ne.id].downContribution+=Number(Ne.downContribution||0)},pt=se.account||se.name||"Unknown",ln=se.profession||"Unknown",bn=`${pt}|${ln}`;let kr=ee.get(bn);kr||(kr={key:bn,account:pt,displayName:pt,profession:ln,professionList:[ln],totalFightMs:0,skills:new Map},ee.set(bn,kr)),kr.professionList.includes(ln)||kr.professionList.push(ln),kr.totalFightMs+=H.durationMS||0;const Gn=Ne=>{if(!(Ne!=null&&Ne.id))return;const{name:He,icon:Ke}=tt(Ne),at=`s${Ne.id}`;let $t=kr.skills.get(at);$t||($t={id:at,name:He,icon:Ke,damage:0,downContribution:0},kr.skills.set(at,$t)),$t.name.startsWith("Skill ")&&!He.startsWith("Skill ")&&($t.name=He),!$t.icon&&Ke&&($t.icon=Ke),$t.damage+=Number(Ne.totalDamage||0),$t.downContribution+=Number(Ne.downContribution||0)};if(h==="total")(zm=se.totalDamageDist)==null||zm.forEach(Ne=>{Ne==null||Ne.forEach(He=>{wt(He),Gn(He)})});else{const Ne=new Map;(Um=se.targetDamageDist)==null||Um.forEach(Ke=>{Ke==null||Ke.forEach(at=>{at==null||at.forEach($t=>{const Vn=Number($t==null?void 0:$t.id);if(Number.isFinite(Vn)){const Yn=Ne.get(Vn)||{damage:0,hits:0,downContribution:0};Yn.damage+=Number(($t==null?void 0:$t.totalDamage)||0),Yn.hits+=Number(($t==null?void 0:$t.connectedHits)||0),Yn.downContribution+=Number(($t==null?void 0:$t.downContribution)||0),Ne.set(Vn,Yn)}wt($t),Gn($t)})})}),!(H!=null&&H.detailedWvW)&&((Vm=se.totalDamageDist)==null||Vm.forEach(Ke=>{Ke==null||Ke.forEach(at=>{const $t=Number(at==null?void 0:at.id);if(!Number.isFinite($t))return;const Vn=Ne.get($t);if(!Vn){wt(at),Gn(at);return}const Yn=Number((at==null?void 0:at.totalDamage)||0),fr=Number((at==null?void 0:at.connectedHits)||0),Ki=Number((at==null?void 0:at.downContribution)||0),fa=Yn-Number(Vn.damage||0),Ii=fr-Number(Vn.hits||0),jl=Ki-Number(Vn.downContribution||0);if(fa<=0&&Ii<=0&&jl<=0)return;const Hs={...at,totalDamage:Math.max(0,fa),connectedHits:Math.max(0,Ii),downContribution:Math.max(0,jl)};wt(Hs),Gn(Hs)})}))}se.totalDamageTaken&&se.totalDamageTaken.forEach(Ne=>{Ne==null||Ne.forEach(He=>{var Vn,Yn,fr,Ki;if(!(He!=null&&He.id))return;let Ke=`Skill ${He.id}`;const at=((Vn=H.skillMap)==null?void 0:Vn[`s${He.id}`])||((Yn=H.skillMap)==null?void 0:Yn[`${He.id}`]);let $t=at==null?void 0:at.icon;if(at!=null&&at.name&&(Ke=at.name),Ke.startsWith("Skill ")){const fa=Jh(Ke,He.id,H.buffMap);fa&&(Ke=fa,$t=((Ki=(fr=H.buffMap)==null?void 0:fr[`b${He.id}`])==null?void 0:Ki.icon)||$t)}M[He.id]||(M[He.id]={name:Ke,icon:$t,damage:0,hits:0}),(!M[He.id].name.startsWith("Skill ")||Ke.startsWith("Skill "))&&(M[He.id].name=Ke),!M[He.id].icon&&$t&&(M[He.id].icon=$t),M[He.id].damage+=He.totalDamage,M[He.id].hits+=He.hits})})}),me.forEach(se=>{if(se!=null&&se.isFake)return;const Oe=W((se==null?void 0:se.profession)||(se==null?void 0:se.name)||(se==null?void 0:se.id));Oe&&(ue[Oe]=(ue[Oe]||0)+1)});const ye=XU({players:Ae,targets:me,skillMap:H.skillMap,buffMap:H.buffMap,getPlayerKey:se=>se.account&&se.account!=="Unknown"?se.account:se.name||null}),it=DO(H.buffMap);Object.entries(ye.playerConditions).forEach(([se,Oe])=>{const Xe=_.get(se);Xe&&Object.entries(Oe).forEach(([zt,Pt])=>{const ce=Xe.outgoingConditions[zt]||{applications:0,damage:0,skills:{},icon:Pt.icon};ce.applications+=Number(Pt.applications||0),ce.damage+=Number(Pt.damage||0),Pt.applicationsFromBuffs&&(ce.applicationsFromBuffs=(ce.applicationsFromBuffs||0)+Pt.applicationsFromBuffs),Pt.applicationsFromBuffsActive&&(ce.applicationsFromBuffsActive=(ce.applicationsFromBuffsActive||0)+Pt.applicationsFromBuffsActive),Object.entries(Pt.skills||{}).forEach(([Te,qe])=>{const Ge=ce.skills[Te]||{name:qe.name,hits:0,damage:0,icon:qe.icon};Ge.hits+=Number(qe.hits||0),Ge.damage+=Number(qe.damage||0),!Ge.icon&&qe.icon&&(Ge.icon=qe.icon),ce.skills[Te]=Ge}),!ce.icon&&Pt.icon&&(ce.icon=Pt.icon),Xe.outgoingConditions[zt]=ce})}),Object.entries(ye.summary).forEach(([se,Oe])=>{const Xe=te[se]||{name:Oe.name||se,icon:Oe.icon,applications:0,damage:0};Xe.applications+=Number(Oe.applications||0),Xe.damage+=Number(Oe.damage||0),Oe.applicationsFromBuffs&&(Xe.applicationsFromBuffs=(Xe.applicationsFromBuffs||0)+Oe.applicationsFromBuffs),Oe.applicationsFromBuffsActive&&(Xe.applicationsFromBuffsActive=(Xe.applicationsFromBuffsActive||0)+Oe.applicationsFromBuffsActive),!Xe.icon&&Oe.icon&&(Xe.icon=Oe.icon),te[se]=Xe}),Le.forEach(se=>{const Oe=se.account&&se.account!=="Unknown"?se.account:se.name||"Unknown",Xe=_.get(Oe);!Xe||!se.totalDamageTaken||se.totalDamageTaken.forEach(zt=>zt==null?void 0:zt.forEach(Pt=>{var At,Ie,tt,wt,pt,ln;if(!(Pt!=null&&Pt.id))return;let ce=`Skill ${Pt.id}`;const Te=((At=H.skillMap)==null?void 0:At[`s${Pt.id}`])||((Ie=H.skillMap)==null?void 0:Ie[`${Pt.id}`]);Te!=null&&Te.name&&(ce=Te.name);const qe=Jh(ce,Pt.id,H.buffMap);if(!qe)return;const Ge=(wt=(tt=H.buffMap)==null?void 0:tt[`b${Pt.id}`])==null?void 0:wt.name,Ut=it.get(qe)||((ln=(pt=H.buffMap)==null?void 0:pt[`b${Pt.id}`])==null?void 0:ln.icon),bt=(Te==null?void 0:Te.icon)||Ut;ce.startsWith("Skill ")&&(Ge||qe)&&(ce=Ge||qe);const xt=Number(Pt.hits??0),Dt=Number(Pt.totalDamage??0),Ot=le[qe]||{name:qe,icon:Ut,applications:0,damage:0};Ot.applications+=Number.isFinite(xt)?xt:0,Ot.damage+=Number.isFinite(Dt)?Dt:0,!Ot.icon&&Ut&&(Ot.icon=Ut),le[qe]=Ot;const Ht=Xe.incomingConditions[qe]||{applications:0,damage:0,skills:{},icon:Ut};Ht.applications+=Number.isFinite(xt)?xt:0,Ht.damage+=Number.isFinite(Dt)?Dt:0;const Lt=Ht.skills[ce]||{name:ce,hits:0,damage:0,icon:bt};Lt.hits+=Number.isFinite(xt)?xt:0,Lt.damage+=Number.isFinite(Dt)?Dt:0,!Lt.icon&&bt&&(Lt.icon=bt),Ht.skills[ce]=Lt,!Ht.icon&&Ut&&(Ht.icon=Ut),Xe.incomingConditions[qe]=Ht}))});const _t=H.player_damage_mitigation||H.playerDamageMitigation,Pn=_t&&typeof _t=="object"&&Object.keys(_t).length>0;Pn&&Object.entries(_t).forEach(([se,Oe])=>{if(!Oe||typeof Oe!="object")return;const Xe=Z(se),zt=$(O,Xe.account,Xe);Object.values(Oe).forEach(Pt=>{z((Pt==null?void 0:Pt.avoided_damage)??(Pt==null?void 0:Pt.avoidedDamage))<=0||ae(zt.mitigationTotals,Pt)})});const Qt=H.player_minion_damage_mitigation||H.playerMinionDamageMitigation,$r=Qt&&typeof Qt=="object"&&Object.keys(Qt).length>0;$r&&Object.entries(Qt).forEach(([se,Oe])=>{if(!Oe||typeof Oe!="object")return;const Xe=Z(se);Object.entries(Oe).forEach(([zt,Pt])=>{if(!Pt||typeof Pt!="object")return;const ce=`${Xe.account}::${zt}`,Te=G(re,ce,{...Xe,minion:String(zt||"Unknown")});Object.values(Pt).forEach(qe=>{ae(Te.mitigationTotals,qe)})})}),(!Pn||!$r)&&(Pn||Le.forEach(se=>{const Oe=(se==null?void 0:se.totalDamageTaken)||[];if(!Array.isArray(Oe)||Oe.length===0)return;const Xe=se.account||se.name||"Unknown",zt={account:Xe,name:se.name||Xe,profession:W(se.profession||"Unknown")};$(O,Xe,zt);const Pt=H.skillMap||{},ce=H.buffMap||{},Te=Array.isArray(Oe)?Oe[0]:null;if(Te==null||Te.forEach(qe=>{if(!(qe!=null&&qe.id))return;const Ge=z(qe.blocked),Ut=z(qe.evaded),bt=z(qe.glance??qe.glanced),xt=z(qe.missed),Dt=z(qe.invulned),Ot=z(qe.interrupted),Ht=z(qe.hits??qe.connectedHits),Lt=Number(qe.id),At=U(Lt,Pt,ce);if(Nn(nt,`${Xe}::${Lt}`,{totalHits:Ht,blocked:Ge,evaded:Ut,glanced:bt,missed:xt,invulned:Dt,interrupted:Ot}),Xe===Q){const Ie=B.get(Lt),tt=L(Lt),wt=tt.hasSkill?tt.hits>0?tt.avg:0:1,pt=tt.hasSkill?tt.min||0:1,ln=tt.hits>0?bt*wt/2+(Ge+Ut+xt+Dt+Ot)*wt:0,bn=tt.hits>0?bt*pt/2+(Ge+Ut+xt+Dt+Ot)*pt:0;Ue.push({logId:E.filePath||E.id||V,skillId:qe.id,skillName:At,blocked:Ge,evaded:Ut,glanced:bt,missed:xt,invulned:Dt,interrupted:Ot,totalAvoids:Ge+Ut+bt+xt+Dt+Ot,avg:wt,min:pt,enemyHits:(Ie==null?void 0:Ie.connectedHits)??0,enemyTotalDmg:(Ie==null?void 0:Ie.totalDamage)??0,avoidDmg:ln,avoidMinDmg:bn})}}),Xe===Q){const qe=(Ge,Ut)=>{let bt=0,xt=0,Dt=0;if(!Array.isArray(Ge))return{total:bt,minTotal:xt,hits:Dt};for(const Ot of Ge){if(!(Ot!=null&&Ot.id))continue;const Ht=z(Ot.blocked),Lt=z(Ot.evaded),At=z(Ot.glance??Ot.glanced),Ie=z(Ot.missed),tt=z(Ot.invulned),wt=z(Ot.interrupted),pt=U(Number(Ot.id),Ve,Ce),ln=Ut(Number(Ot.id),pt);(ln.hits??0)>0&&(bt+=At*ln.avg/2+(Ht+Lt+Ie+tt+wt)*ln.avg,xt+=At*ln.min/2+(Ht+Lt+Ie+tt+wt)*ln.min),Dt+=z(Ot.hits??Ot.connectedHits)}return{total:bt,minTotal:xt,hits:Dt}};De.push({logId:E.filePath||E.id||V,variant:"current_global_name_taken0",...qe(Te,(Ge,Ut)=>{const bt=L(Ge),xt=bt.hasSkill?bt.hits>0?bt.avg:0:1,Dt=bt.hasSkill?bt.min||0:1;return{avg:xt,min:Dt,hits:bt.hits}})})}}),$r||Le.forEach(se=>{const Oe=(se==null?void 0:se.minions)||[];if(!Array.isArray(Oe)||Oe.length===0)return;const Xe=se.account||se.name||"Unknown",zt={account:Xe,name:se.name||Xe,profession:W(se.profession||"Unknown")},Pt=H.skillMap||{},ce=H.buffMap||{};Oe.forEach(Te=>{const qe=(Te==null?void 0:Te.totalDamageTakenDist)||[];if(!Array.isArray(qe)||qe.length===0)return;let Ge=String((Te==null?void 0:Te.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Ge.toUpperCase().includes("UNKNOWN")&&(Ge="Unknown");const Ut=`${Xe}::${Ge}`;G(re,Ut,{...zt,minion:Ge});const bt=Array.isArray(qe)?qe[0]:null;if(bt==null||bt.forEach(xt=>{if(!(xt!=null&&xt.id))return;const Dt=z(xt.blocked),Ot=z(xt.evaded),Ht=z(xt.glance??xt.glanced),Lt=z(xt.missed),At=z(xt.invulned),Ie=z(xt.interrupted),tt=z(xt.hits??xt.connectedHits),wt=Number(xt.id),pt=U(wt,Pt,ce);if(Nn(on,`${Ut}::${wt}`,{totalHits:tt,blocked:Dt,evaded:Ot,glanced:Ht,missed:Lt,invulned:At,interrupted:Ie}),Xe===Q&&Ge===we){const ln=B.get(wt),bn=L(wt),kr=bn.hasSkill?bn.hits>0?bn.avg:0:1,Gn=bn.hasSkill?bn.min||0:1,Qa=bn.hits>0?Ht*kr/2+(Dt+Ot+Lt+At+Ie)*kr:0,Vs=bn.hits>0?Ht*Gn/2+(Dt+Ot+Lt+At+Ie)*Gn:0;Re.push({logId:E.filePath||E.id||V,skillId:xt.id,skillName:pt,blocked:Dt,evaded:Ot,glanced:Ht,missed:Lt,invulned:At,interrupted:Ie,totalAvoids:Dt+Ot+Ht+Lt+At+Ie,avg:kr,min:Gn,enemyHits:(ln==null?void 0:ln.connectedHits)??0,enemyTotalDmg:(ln==null?void 0:ln.totalDamage)??0,avoidDmg:Qa,avoidMinDmg:Vs})}}),Xe===Q&&Ge===we){const xt=(Lt,At)=>{let Ie=0,tt=0,wt=0;if(!Array.isArray(Lt))return{total:Ie,minTotal:tt,hits:wt};for(const pt of Lt){if(!(pt!=null&&pt.id))continue;const ln=z(pt.blocked),bn=z(pt.evaded),kr=z(pt.glance??pt.glanced),Gn=z(pt.missed),Qa=z(pt.invulned),Vs=z(pt.interrupted),Mc=U(Number(pt.id),Ve,Ce),{avg:da,min:Ws}=At(Number(pt.id),Mc);z(pt.hits??pt.connectedHits)>0&&(Ie+=kr*da/2+(ln+bn+Gn+Qa+Vs)*da,tt+=kr*Ws/2+(ln+bn+Gn+Qa+Vs)*Ws),wt+=z(pt.hits??pt.connectedHits)}return{total:Ie,minTotal:tt,hits:wt}},Dt=Array.isArray(qe)?qe[0]||[]:[],Ot=Array.isArray(qe)?qe.flat():[],Ht=Array.isArray(Te==null?void 0:Te.totalDamageTaken)?Te.totalDamageTaken[0]||[]:[];ie.push({logId:E.filePath||E.id||V,variant:"current_global_name_dist0",...xt(Dt,(Lt,At)=>{const Ie=L(Lt),tt=Ie.hasSkill?Ie.hits>0?Ie.avg:0:1,wt=Ie.hasSkill&&Ie.min||0;return{avg:tt,min:wt}})}),ie.push({logId:E.filePath||E.id||V,variant:"local_name_dist0",...xt(Dt,(Lt,At)=>Kt(At))}),ie.push({logId:E.filePath||E.id||V,variant:"local_id_dist0",...xt(Dt,Lt=>St(Lt))}),ie.push({logId:E.filePath||E.id||V,variant:"global_name_alllists",...xt(Ot,(Lt,At)=>{const Ie=L(Lt),tt=Ie.hasSkill?Ie.hits>0?Ie.avg:0:1,wt=Ie.hasSkill&&Ie.min||0;return{avg:tt,min:wt}})}),ie.push({logId:E.filePath||E.id||V,variant:"global_name_taken0",...xt(Ht,(Lt,At)=>{const Ie=L(Lt),tt=Ie.hasSkill?Ie.hits>0?Ie.avg:0:1,wt=Ie.hasSkill&&Ie.min||0;return{avg:tt,min:wt}})})}})}))}),Re.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Re),ie.length>0&&console.table(ie),console.groupEnd()),Ue.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ue),De.length>0&&console.table(De),console.groupEnd());const In=(E,V)=>{const H=new Map,Ae=me=>{let Ve=H.get(me);return Ve||(Ve=X(),H.set(me,Ve)),Ve};V.forEach((me,Ve)=>{const Ce=Ve.lastIndexOf("::"),lt=Ce>-1?Ve.slice(0,Ce):Ve,ht=Ce>-1?Number(Ve.slice(Ce+2)):Number.NaN,St=Number.isFinite(ht)?L(ht):{hasSkill:!1,avg:0,min:0,hits:0};if(!St.hasSkill||St.hits<=0)return;const Kt=St.avg,Xt=St.min,Dn=me.glanced*Kt/2+(me.blocked+me.evaded+me.missed+me.invulned+me.interrupted)*Kt,Qe=me.glanced*Xt/2+(me.blocked+me.evaded+me.missed+me.invulned+me.interrupted)*Xt;if(Dn<=0)return;const Ze=Ae(lt);Ze.totalHits+=me.totalHits,Ze.blocked+=me.blocked,Ze.evaded+=me.evaded,Ze.glanced+=me.glanced,Ze.missed+=me.missed,Ze.invulned+=me.invulned,Ze.interrupted+=me.interrupted,Ze.totalMitigation+=Dn,Ze.minMitigation+=Qe}),E.forEach((me,Ve)=>{const Ce=H.get(Ve)||X();me.mitigationTotals.totalHits=Ce.totalHits,me.mitigationTotals.blocked=Ce.blocked,me.mitigationTotals.evaded=Ce.evaded,me.mitigationTotals.glanced=Ce.glanced,me.mitigationTotals.missed=Ce.missed,me.mitigationTotals.invulned=Ce.invulned,me.mitigationTotals.interrupted=Ce.interrupted,me.mitigationTotals.totalMitigation=Ce.totalMitigation,me.mitigationTotals.minMitigation=Ce.minMitigation})};In(O,nt),In(re,on);const de=p>0?Math.round(v/p):0,Be=p>0?Math.round(b/p):0,ct=w>0?(S/w).toFixed(2):S>0?"":"0.00",nn=C>0?(N/C).toFixed(2):N>0?"":"0.00",rn=(E,V)=>{const Ae=E.filter(Ce=>Number.isFinite(Ce.value)&&(V?Ce.value>0:Ce.value>=0)).sort((Ce,lt)=>{const ht=V?lt.value-Ce.value:Ce.value-lt.value;return ht!==0?ht:Ce.account.localeCompare(lt.account)});let me=null,Ve=0;return Ae.map((Ce,lt)=>((me===null||Ce.value!==me)&&(Ve=lt+1,me=Ce.value),{rank:Ve,...Ce}))},wr=Array.from(_.values()).map(E=>{const V=Array.from(E.professions).filter(H=>H!=="Unknown");if(E.professionList=V,V.length>0){let H=V[0],Ae=E.professionTimeMs[H]||0;V.forEach(me=>{const Ve=E.professionTimeMs[me]||0;Ve>Ae&&(Ae=Ve,H=me)}),E.profession=H}return{key:E.account,stat:E}}),Bn=E=>{const V=_.get(E.account);if(!V){const me=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:me}}const H=V.professionList&&V.professionList.length>0?V.professionList:Array.from(V.professions||[]).filter(me=>me&&me!=="Unknown"),Ae=V.profession||E.profession;return{...E,profession:Ae,professionList:H.length>0?H:Ae?[Ae]:[],activeMs:V.defenseActiveMs||V.totalFightMs||E.activeMs}},ni=Array.from(O.values()).map(Bn).filter(E=>ne(E.mitigationTotals)).sort((E,V)=>E.account.localeCompare(V.account)),ir=Array.from(re.values()).map(Bn).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,V)=>{const H=E.account.localeCompare(V.account);return H!==0?H:String(E.minion||"").localeCompare(String(V.minion||""))}),ri=(E,V)=>{switch(V){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},pn=(E,V)=>rn(wr.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:ri(H,E),count:H.logsJoined})),V),mn={downContrib:pn("downContrib",!0),barrier:pn("barrier",!0),healing:pn("healing",!0),dodges:pn("dodges",!0),strips:pn("strips",!0),cleanses:pn("cleanses",!0),cc:pn("cc",!0),stability:pn("stability",!0),revives:pn("revives",!0),participation:pn("participation",!0),dps:pn("dps",!0),damage:pn("damage",!0),closestToTag:pn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},yi={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},cn=E=>{const V=E==null?void 0:E[0];return{value:(V==null?void 0:V.value)??0,player:(V==null?void 0:V.account)??"-",count:(V==null?void 0:V.count)??0,profession:(V==null?void 0:V.profession)??"Unknown",professionList:(V==null?void 0:V.professionList)??[]}},_r={maxDownContrib:cn([]),maxBarrier:cn([]),maxHealing:cn([]),maxDodges:cn([]),maxStrips:cn([]),maxCleanses:cn([]),maxCC:cn([]),maxStab:cn([]),closestToTag:cn([])},Hr={},od=(E,V)=>{if(V==="closestToTag")return ri(E,V);const H=Math.max(1,(E.totalFightMs||0)/1e3);return ri(E,V)/H};Object.values(yi).forEach(E=>{const V=E!=="closestToTag";Hr[E]=rn(wr.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:od(H,E),count:H.logsJoined})),V)}),_r.maxDownContrib=cn(Hr.downContrib),_r.maxBarrier=cn(Hr.barrier),_r.maxHealing=cn(Hr.healing),_r.maxDodges=cn(Hr.dodges),_r.maxStrips=cn(Hr.strips),_r.maxCleanses=cn(Hr.cleanses),_r.maxCC=cn(Hr.cc),_r.maxStab=cn(Hr.stability),_r.closestToTag=cn(Hr.closestToTag);const Ec={maxDownContrib:cn(mn.downContrib),maxBarrier:cn(mn.barrier),maxHealing:cn(mn.healing),maxDodges:cn(mn.dodges),maxStrips:cn(mn.strips),maxCleanses:cn(mn.cleanses),maxCC:cn(mn.cc),maxStab:cn(mn.stability),closestToTag:cn(mn.closestToTag)};let kl={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Dc,zs,Sl=0;if(s!=null&&s.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},V=Ve=>{const Ce=E[Ve];return Ce?Number(o[Ce]||0)>0:!1},H=[],Ae=Ve=>[...Ve||[]].filter(Ce=>V(Ce==null?void 0:Ce.name)).sort((Ce,lt)=>lt.ratio-Ce.ratio||Ce.rank-lt.rank||Ce.name.localeCompare(lt.name)).slice(0,3),me=Ve=>{var lt;if(!Ve)return;const Ce=Ae(Ve.contribs);return{...Ve,player:Ve.name,reason:((lt=Ce[0])==null?void 0:lt.name)||"Top Performance",topStats:Ce}};wr.forEach(({stat:Ve})=>{let Ce=0;const lt=[],ht=(St,Kt,Xt,Dn,Qe=!0)=>{var mt,Bt;if(Xt<=0)return;const Ze=((mt=Kt[0])==null?void 0:mt.value)||0;if(Ze&&Number.isFinite(St)&&(Qe?St>0:St<Number.POSITIVE_INFINITY)){const Zt=Qe?St/Ze:Ze/St;Ce+=Zt*Xt;const ve=((Bt=Kt.find(Se=>Se.account===Ve.account))==null?void 0:Bt.rank)||0;lt.push({name:Dn,ratio:Zt,val:St.toLocaleString(),rank:ve})}};ht(Ve.downContrib,mn.downContrib,o.downContribution,"Down Contribution"),ht(Ve.healing,mn.healing,o.healing,"Healing"),ht(Ve.cleanses,mn.cleanses,o.cleanses,"Cleanses"),ht(Ve.strips,mn.strips,o.strips,"Strips"),ht(Ve.stab,mn.stability,o.stability,"Stability"),ht(Ve.cc,mn.cc,o.cc,"CC"),ht(Ve.revives,mn.revives,o.revives,"Revives"),ht(ri(Ve,"closestToTag"),mn.closestToTag,o.distanceToTag,"Distance to Tag",!1),ht(Ve.logsJoined,mn.participation,o.participation,"Participation"),ht(Ve.dodges,mn.dodges,o.dodging,"Dodging"),ht(Ve.dps,mn.dps,o.dps,"DPS"),ht(Ve.damage,mn.damage,o.damage,"Damage"),H.push({...Ve,score:Ce,contribs:lt.filter(St=>V(St.name))})}),H.sort((Ve,Ce)=>Ce.score-Ve.score),H[0]&&H[0].score>0&&(kl=me(H[0])||kl),Dc=me(H[1]),zs=me(H[2]),Sl=H.length>0?H.reduce((Ve,Ce)=>Ve+Ce.score,0)/H.length:0}const Us=Object.values(F).sort((E,V)=>V.damage-E.damage||V.hits-E.hits||String(E.name||"").localeCompare(String(V.name||""))).slice(0,25),K=Object.values(F).sort((E,V)=>V.downContribution-E.downContribution||V.hits-E.hits||String(E.name||"").localeCompare(String(V.name||""))).slice(0,25),he=m==="downContribution"?K:Us,ke=Object.values(M).sort((E,V)=>V.damage-E.damage).slice(0,25),ot=E=>{const V=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=V.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return H?`${H[1]} Borderlands`:V||"Unknown"},yt=(E,V)=>ot((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(V==null?void 0:V.fightName)||(V==null?void 0:V.encounterName)||"Unknown"),Vt=(E,V)=>{const H=(V==null?void 0:V.permalink)||(E==null?void 0:E.permalink);if(typeof H=="string"&&H.trim().length>0)return H.trim();const Ae=E==null?void 0:E.uploadLinks;if(!Array.isArray(Ae))return"";for(const me of Ae){if(typeof me=="string"&&me.trim().length>0)return me.trim();if(me&&typeof me=="object"){const Ve=me.permalink||me.link||me.url||me.reportLink;if(typeof Ve=="string"&&Ve.trim().length>0)return Ve.trim()}}return""},Yt={};a.forEach(E=>{const V=yt(E==null?void 0:E.details,E);Yt[V]=(Yt[V]||0)+1});const Mt=Object.entries(Yt).map(([E,V])=>{const H=String(E).trim(),Ae=/eternal battlegrounds|^ebg$/i.test(H);let me="#64748b";return Ae?me="#ffffff":/red/i.test(H)?me="#ef4444":/blue/i.test(H)?me="#3b82f6":/green/i.test(H)&&(me="#22c55e"),{name:E,value:V,color:me}}).sort((E,V)=>V.value-E.value),{boonTables:jt}=PU(a),xn=a.map((E,V)=>{var Ae,me;const H=((Ae=E.details)==null?void 0:Ae.players)||[];return{index:V+1,label:`Log ${V+1}`,timestamp:Zi(E.details,E),squadCount:H.filter(Ve=>!Ve.notInSquad).length,friendlyCount:H.length,enemies:((me=E.details)==null?void 0:me.targets).filter(Ve=>!Ve.isFake).length}}).sort((E,V)=>E.timestamp-V.timestamp),Lr={};Array.from(_.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(Lr[E.profession]=(Lr[E.profession]||0)+1)});const _e=Object.entries(Lr).map(([E,V])=>({name:E,value:V,color:nc(E)})).sort((E,V)=>V.value-E.value),Et={};Object.keys(ue).length===0&&a.forEach(E=>{var V,H;(H=(V=E.details)==null?void 0:V.targets)==null||H.forEach(Ae=>{if(Ae.isFake)return;const me=Ae.profession&&Ae.profession!=="Unknown"?Ae.profession:Ae.name||Ae.id||"Unknown",Ve=W(me);Et[Ve]=(Et[Ve]||0)+1})});const un=Object.keys(ue).length>0?ue:Et,gn=Object.entries(un).map(([E,V])=>({name:E,value:V,color:nc(E)})).sort((E,V)=>V.value-E.value),zn=a.map((E,V)=>({log:E,originalIndex:V})).sort((E,V)=>Zi(E.log.details,E.log)-Zi(V.log.details,V.log)).map(({log:E},V)=>{const H=E.details;if(!H)return null;const Ae=H.players||[],me=Ae.filter(pe=>!pe.notInSquad),Ve=Ae.filter(pe=>pe.notInSquad),lt=(H.targets||[]).filter(pe=>!pe.isFake),ht=me.reduce((pe,Me)=>{var Je,ye;return pe+(((ye=(Je=Me.dpsAll)==null?void 0:Je[0])==null?void 0:ye.damage)||0)},0),St=me.reduce((pe,Me)=>{var Je,ye;return pe+(((ye=(Je=Me.defenses)==null?void 0:Je[0])==null?void 0:ye.damageTaken)||0)},0),{enemyDeaths:Kt,enemyDownsDeaths:Xt}=P(H),Dn=D(H),Qe=Zi(H,E),Ze=yt(H,E),mt=pe=>{if(!pe||typeof pe!="object")return;const Me=pe.teamID??pe.teamId??pe.team??pe.teamColor??pe.team_color;if(Me!=null)return Me;const Je=Object.keys(pe).find(ye=>/^team/i.test(ye));return Je?pe[Je]:void 0},Bt=(pe,Me)=>{const Je={};return pe.forEach(ye=>{const it=Me(ye),_t=W(it);_t&&(Je[_t]=(Je[_t]||0)+1)}),Je},Zt=Bt(me,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),ve=Bt(Ve,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),Se=Bt(lt,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)||(pe==null?void 0:pe.id)),$e=new Set;me.forEach(pe=>{const Me=mt(pe);Me!=null&&$e.add(String(Me))});const Le=new Map;lt.forEach(pe=>{if((pe==null?void 0:pe.enemyPlayer)===!1)return;const Me=mt(pe);if(Me==null)return;const Je=String(Me);$e.has(Je)||Le.set(Je,(Le.get(Je)||0)+1)});const Ye=Array.from(Le.entries()).sort((pe,Me)=>{const Je=Me[1]-pe[1];return Je!==0?Je:pe[0].localeCompare(Me[0],void 0,{numeric:!0})}).slice(0,3).map(([pe,Me])=>({teamId:pe,count:Me}));return{id:E.filePath||`fight-${V}`,label:E.encounterName||`Fight ${V+1}`,permalink:Vt(H,E),timestamp:Qe,mapName:Ze,duration:Q2(H.durationMS),isWin:Dn,squadCount:me.length,allyCount:Ve.length,enemyCount:lt.length,teamBreakdown:Ye,alliesDown:me.reduce((pe,Me)=>{var Je,ye;return pe+(((ye=(Je=Me.defenses)==null?void 0:Je[0])==null?void 0:ye.downCount)||0)},0),alliesDead:me.reduce((pe,Me)=>{var Je,ye;return pe+(((ye=(Je=Me.defenses)==null?void 0:Je[0])==null?void 0:ye.deadCount)||0)},0),alliesRevived:me.reduce((pe,Me)=>{var Je,ye;return Number(((ye=(Je=Me.statsAll)==null?void 0:Je[0])==null?void 0:ye.saved)||0)>0?pe+1:pe},0),rallies:0,enemyDeaths:Kt,enemyDowns:Math.max(0,Xt-Kt),totalOutgoingDamage:ht,totalIncomingDamage:St,incomingBarrierAbsorbed:me.reduce((pe,Me)=>{var Je,ye;return pe+(((ye=(Je=Me.defenses)==null?void 0:Je[0])==null?void 0:ye.damageBarrier)||0)},0),outgoingBarrierAbsorbed:me.reduce((pe,Me)=>{var it;const Je=(it=Me.extBarrierStats)==null?void 0:it.outgoingBarrier;if(!Array.isArray(Je))return pe;let ye=0;return Je.forEach(_t=>{if(Array.isArray(_t)){_t.forEach(Pn=>{ye+=Number((Pn==null?void 0:Pn.barrier)||0)});return}ye+=Number((_t==null?void 0:_t.barrier)||0)}),pe+ye},0),squadClassCountsFight:Zt,allyClassCountsFight:ve,enemyClassCounts:Se}}).filter(Boolean),qr=Array.from(_.values()).map(E=>{const V=Object.entries(E.professionTimeMs||{}).map(([H,Ae])=>({profession:H,timeMs:Number(Ae||0)})).filter(H=>H.profession&&H.profession!=="Unknown"&&H.timeMs>0).sort((H,Ae)=>{const me=Ae.timeMs-H.timeMs;return me!==0?me:H.profession.localeCompare(Ae.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((H,Ae)=>H.localeCompare(Ae)),classTimes:V,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const H=Number(E.firstSeenFightTs||0),Ae=Number(E.lastSeenFightTs||0),me=Math.max(0,Number(E.lastSeenFightDurationMs||0));return H>0&&Ae>0?Math.max(0,Ae+me-H):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,V)=>{const H=V.squadTimeMs-E.squadTimeMs;return H!==0?H:String(E.account).localeCompare(String(V.account))}),jn=a.map(E=>E).sort((E,V)=>Zi(E.details,E)-Zi(V.details,V)).map((E,V)=>{const H=E==null?void 0:E.details,Ae=Array.isArray(H==null?void 0:H.players)?H.players.filter(Ce=>!(Ce!=null&&Ce.notInSquad)):[],me=new Map;Ae.forEach(Ce=>{const lt=Number(Ce==null?void 0:Ce.group),ht=Number.isFinite(lt)&&lt>0?lt:0;me.has(ht)||me.set(ht,{party:ht,players:[],classCounts:{}});const St=W((Ce==null?void 0:Ce.profession)||(Ce==null?void 0:Ce.name)||"Unknown"),Kt=String((Ce==null?void 0:Ce.account)||"Unknown"),Xt=String((Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.character_name)||""),Dn=!!(Ce!=null&&Ce.hasCommanderTag),Qe=me.get(ht);Qe.players.push({account:Kt,characterName:Xt,profession:St,isCommander:Dn}),Qe.classCounts[St]=(Qe.classCounts[St]||0)+1});const Ve=Array.from(me.values()).map(Ce=>({...Ce,players:Ce.players.sort((lt,ht)=>{const St=+!!ht.isCommander-+!!lt.isCommander;if(St!==0)return St;const Kt=String(lt.profession).localeCompare(String(ht.profession));return Kt!==0?Kt:String(lt.account).localeCompare(String(ht.account))})})).sort((Ce,lt)=>Ce.party===0&&lt.party!==0?1:lt.party===0&&Ce.party!==0?-1:Ce.party-lt.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${V+1}`),label:`F${V+1}`,timestamp:Zi(H,E),mapName:yt(H,E),duration:Q2(Number((H==null?void 0:H.durationMS)||0)),parties:Ve}}),bi=(E,V)=>{const H=(V==null?void 0:V.skillMap)||{},Ae=(V==null?void 0:V.buffMap)||{};let me=0,Ve="";const Ce=St=>{const Kt=Number(St);if(!Number.isFinite(Kt))return String(St||"Unknown Skill");const Xt=(H==null?void 0:H[`s${Kt}`])||(H==null?void 0:H[`${Kt}`]);if(Xt!=null&&Xt.name)return String(Xt.name);const Dn=(Ae==null?void 0:Ae[`b${Kt}`])||(Ae==null?void 0:Ae[`${Kt}`]);return Dn!=null&&Dn.name?String(Dn.name):`Skill ${Kt}`},lt=St=>{if(!St||typeof St!="object")return;const Kt=[Number(St.max),Number(St.maxDamage),Number(St.maxHit)].filter(Dn=>Number.isFinite(Dn)),Xt=Kt.length>0?Math.max(...Kt):0;Xt>me&&(me=Xt,Ve=Ce(St.id))};let ht=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(St=>{Array.isArray(St)&&St.forEach(Kt=>{Array.isArray(Kt)&&Kt.forEach(Xt=>{ht=!0,lt(Xt)})})}),(!ht||me<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(St=>{Array.isArray(St)&&St.forEach(Kt=>lt(Kt))}),{peak:me,skillName:Ve||"Unknown Skill"}},Nl=(()=>{const E=Qe=>String(Qe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=Qe=>E(Qe).toLowerCase().split(/[^a-z0-9]+/i).map(Ze=>Ze.trim()).filter(Boolean).map(Ze=>Ze.length>3&&Ze.endsWith("s")?Ze.slice(0,-1):Ze),H=(Qe,Ze)=>{const mt=E(Qe),Bt=E(Ze);if(!Bt)return mt;if(!mt)return Bt;const Zt=V(mt),ve=V(Bt),Se=new Set(Zt),$e=new Set(ve),Le=ve.length>0&&ve.every(pe=>Se.has(pe)),Ye=Zt.length>0&&Zt.every(pe=>$e.has(pe));return Le||Ye?mt:`${mt} - ${Bt}`},Ae=[],me=new Map,Ve=Qe=>{const Ze=Le=>{if(!Array.isArray(Le)||Le.length===0)return[];const Ye=[];for(let pe=0;pe<Le.length;pe+=1){const Me=Number(Le[pe]||0),Je=pe>0?Number(Le[pe-1]||0):0;Ye.push(Math.max(0,Me-Je))}return Ye},mt=Le=>{if(!Array.isArray(Le))return[];const Ye=Le.reduce((Me,Je)=>Math.max(Me,Array.isArray(Je)?Je.length:0),0);if(Ye<=0)return[];const pe=new Array(Ye).fill(0);return Le.forEach(Me=>{if(Array.isArray(Me))for(let Je=0;Je<Ye;Je+=1)pe[Je]+=Number(Me[Je]||0)}),pe},Bt=Le=>Array.isArray(Le)?Le.map(Ye=>Number(Ye||0)):null,ve=(Le=>{if(!Array.isArray(Le)||Le.length===0)return null;const Ye=Le[0];if(!Array.isArray(Ye))return null;if(Array.isArray(Ye[0])&&Array.isArray(Ye[0][0]))return mt(Ye);if(Array.isArray(Ye[0])&&!Array.isArray(Ye[0][0])){const pe=Le.map(Me=>Bt(Array.isArray(Me)?Me[0]:null)).filter(Me=>Array.isArray(Me)&&Me.length>0);if(pe.length>0)return mt(pe)}return null})(Qe==null?void 0:Qe.targetDamage1S),Se=Array.isArray(Qe==null?void 0:Qe.damage1S)&&Array.isArray(Qe.damage1S[0])?Qe.damage1S[0]:null,$e=ve||(Array.isArray(Se)?Se.map(Le=>Number(Le||0)):[]);return Ze($e)},Ce=(Qe,Ze)=>{if(!Array.isArray(Qe)||Qe.length===0||Ze<=0)return 0;let mt=0,Bt=0;for(let Zt=0;Zt<Qe.length;Zt+=1)mt+=Number(Qe[Zt]||0),Zt>=Ze&&(mt-=Number(Qe[Zt-Ze]||0)),Zt>=Ze-1&&mt>Bt&&(Bt=mt);return Math.max(0,Bt)},lt=(Qe,Ze)=>{if(!Array.isArray(Qe)||Qe.length===0||Ze<=0)return[];const mt=[];for(let Bt=0;Bt<Qe.length;Bt+=Ze){const Zt=Math.min(Bt+Ze,Qe.length),ve=Qe.slice(Bt,Zt).reduce((Se,$e)=>Se+Number($e||0),0);mt.push(ve)}return mt},ht=(Qe,Ze)=>{const mt=Number(Qe);if(!Number.isFinite(mt))return{name:String(Qe||"Unknown Skill"),icon:void 0};const Bt=(Ze==null?void 0:Ze.skillMap)||{},Zt=(Ze==null?void 0:Ze.buffMap)||{},ve=(Bt==null?void 0:Bt[`s${mt}`])||(Bt==null?void 0:Bt[`${mt}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const Se=(Zt==null?void 0:Zt[`b${mt}`])||(Zt==null?void 0:Zt[`${mt}`]);return Se!=null&&Se.name?{name:String(Se.name),icon:Se==null?void 0:Se.icon}:{name:`Skill ${mt}`,icon:void 0}},St=Qe=>Array.isArray(Qe)?Qe.map(Ze=>Array.isArray(Ze)?[Number(Ze[0]),Number(Ze[1])]:Ze&&typeof Ze=="object"?[Number(Ze.time),Number(Ze.value)]:null).filter(Ze=>!!Ze&&Number.isFinite(Ze[0])&&Ze[0]>=0):[],Kt=(Qe,Ze,mt,Bt,Zt)=>{if(!Qe.length||Bt<=0)return[];const ve=Math.max(Bt*5e3,Zt||0),Se=it=>it.reduce((_t,Pn)=>Pn>=0&&Pn<=ve+2e3?_t+1:_t,0),$e=Qe.map(it=>Number(it||0)).filter(it=>Number.isFinite(it)&&it>=0);if(!$e.length)return[];const Le=[$e],Ye=$e.reduce((it,_t)=>Math.max(it,_t),0),pe=$e.reduce((it,_t)=>Math.min(it,_t),Number.POSITIVE_INFINITY);Ye>ve*20&&Le.push($e.map(it=>it/1e3)),Ye<=ve*2&&pe>=0&&Ye>0&&Ye<Math.max(120,Bt*5+10)&&Le.push($e.map(it=>it*1e3));let Me=$e,Je=0,ye=-1;return Le.forEach(it=>{const _t=it.reduce((Qt,$r)=>Math.min(Qt,$r),Number.POSITIVE_INFINITY),Pn=new Set([0,...Ze,...mt]);if(Number.isFinite(_t)&&ve>0&&_t>ve){const Qt=Math.floor(_t/ve)*ve;Pn.add(Qt),Pn.add(Math.max(0,Qt-ve))}Pn.forEach(Qt=>{const $r=it.map(Un=>Un-Qt),vt=Se($r);vt>ye&&(ye=vt,Je=Qt,Me=it)})}),Me.map(it=>it-Je).filter(it=>Number.isFinite(it)&&it>=0)},Xt=(Qe,Ze,mt,Bt,Zt)=>{const ve=Kt(Qe,Ze,mt,Bt,Zt);return Array.from(new Set(ve.map(Se=>Math.floor(Se/5e3)).filter(Se=>Number.isFinite(Se)&&Se>=0&&Se<Bt)))};a.map(Qe=>({log:Qe,ts:Zi(Qe==null?void 0:Qe.details,Qe)})).sort((Qe,Ze)=>Qe.ts-Ze.ts).forEach(({log:Qe},Ze)=>{const mt=Qe==null?void 0:Qe.details;if(!mt)return;const Bt=E(mt.fightName||Qe.fightName||`Fight ${Ze+1}`),Zt=yt(mt,Qe),ve=H(Bt,String(Zt||"")),Se={},$e=Array.isArray(mt.players)?mt.players:[],Le=$e.flatMap(ye=>{const it=ye==null?void 0:ye.combatReplayData;return Array.isArray(it)?it.map(_t=>Number(_t==null?void 0:_t.start)):[Number(it==null?void 0:it.start)]}).filter(ye=>Number.isFinite(ye)&&ye>=0);$e.forEach(ye=>{if(ye!=null&&ye.notInSquad)return;const it=String((ye==null?void 0:ye.account)||(ye==null?void 0:ye.name)||"Unknown"),_t=String((ye==null?void 0:ye.character_name)||(ye==null?void 0:ye.display_name)||(ye==null?void 0:ye.name)||""),Pn=String((ye==null?void 0:ye.profession)||"Unknown"),Qt=`${it}|${Pn}`,$r=bi(ye,mt),vt=Number($r.peak||0),Un=Ve(ye),se=Number(Ce(Un,1)||0),Oe=Number(Ce(Un,5)||0),Xe=Number(Ce(Un,30)||0),zt=Math.max(0,Math.ceil(Number((mt==null?void 0:mt.durationMS)||0)/5e3)),Pt=Math.max(0,Math.ceil(Un.length/5)),ce=Math.max(zt,Pt),Te=lt(Un,5),qe=Array.from({length:ce},(Ie,tt)=>Number(Te[tt]||0)),Ge=new Map,Ut=Ie=>{if(!Ie||typeof Ie!="object"||Ie.indirectDamage)return;const tt=Number(Ie.totalDamage||0);if(!Number.isFinite(tt)||tt<=0)return;const wt=Number(Ie.connectedHits||Ie.hits||0),pt=ht(Ie.id,mt),ln=pt.name,bn=Ge.get(ln)||{skillName:ln,damage:0,hits:0,icon:pt.icon};bn.damage+=tt,bn.hits+=Number.isFinite(wt)?wt:0,!bn.icon&&pt.icon&&(bn.icon=pt.icon),Ge.set(ln,bn)},bt=new Map;Array.isArray(ye==null?void 0:ye.targetDamageDist)&&ye.targetDamageDist.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(tt=>{Array.isArray(tt)&&tt.forEach(wt=>{const pt=Number(wt==null?void 0:wt.id),ln=Number((wt==null?void 0:wt.totalDamage)||0);if(Number.isFinite(pt)){const bn=bt.get(pt)||{damage:0,hits:0};bn.damage+=Number.isFinite(ln)?ln:0,bn.hits+=Number((wt==null?void 0:wt.connectedHits)||(wt==null?void 0:wt.hits)||0),bt.set(pt,bn)}Ut(wt)})})}),!(mt!=null&&mt.detailedWvW)&&Array.isArray(ye==null?void 0:ye.totalDamageDist)&&ye.totalDamageDist.forEach(Ie=>{Array.isArray(Ie)&&Ie.forEach(tt=>{const wt=Number(tt==null?void 0:tt.id);if(!Number.isFinite(wt)){Ut(tt);return}const pt=bt.get(wt);if(!pt){Ut(tt);return}const ln=Number((tt==null?void 0:tt.totalDamage)||0),bn=Number((tt==null?void 0:tt.connectedHits)||(tt==null?void 0:tt.hits)||0),kr=ln-Number(pt.damage||0),Gn=bn-Number(pt.hits||0);kr<=0&&Gn<=0||Ut({...tt,totalDamage:Math.max(0,kr),connectedHits:Math.max(0,Gn),hits:Math.max(0,Gn)})})});const Dt=(()=>{const Ie=ye==null?void 0:ye.combatReplayData;return Array.isArray(Ie)?Ie.filter(tt=>tt&&typeof tt=="object"):Ie&&typeof Ie=="object"?[Ie]:[]})(),Ot=Dt.map(Ie=>Number(Ie==null?void 0:Ie.start)).filter(Ie=>Number.isFinite(Ie)&&Ie>=0),Ht=Dt.flatMap(Ie=>St(Ie==null?void 0:Ie.down).map(([tt])=>Number(tt||0))),Lt=Dt.flatMap(Ie=>St(Ie==null?void 0:Ie.dead).map(([tt])=>Number(tt||0)));Se[Qt]={hit:vt,burst1s:se,burst5s:Oe,burst30s:Xe,skillName:$r.skillName,buckets5s:qe,downIndices5s:Xt(Ht,Ot,Le,ce,Number((mt==null?void 0:mt.durationMS)||0)),deathIndices5s:Xt(Lt,Ot,Le,ce,Number((mt==null?void 0:mt.durationMS)||0)),skillRows:Array.from(Ge.values()).sort((Ie,tt)=>tt.damage-Ie.damage).slice(0,50)};const At=me.get(Qt)||{key:Qt,account:it,displayName:it,characterName:_t,profession:Pn,professionList:[Pn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};At.logs+=1,At.professionList.includes(Pn)||At.professionList.push(Pn),!At.characterName&&_t&&(At.characterName=_t),vt>At.peakHit&&(At.peakHit=vt,At.peakFightLabel=ve,At.peakSkillName=$r.skillName),se>At.peak1s&&(At.peak1s=se),Oe>At.peak5s&&(At.peak5s=Oe),Xe>At.peak30s&&(At.peak30s=Xe),me.set(Qt,At)});const Ye=Object.values(Se).reduce((ye,it)=>Math.max(ye,Number((it==null?void 0:it.hit)||0)),0),pe=Object.values(Se).reduce((ye,it)=>Math.max(ye,Number((it==null?void 0:it.burst1s)||0)),0),Me=Object.values(Se).reduce((ye,it)=>Math.max(ye,Number((it==null?void 0:it.burst5s)||0)),0),Je=Object.values(Se).reduce((ye,it)=>Math.max(ye,Number((it==null?void 0:it.burst30s)||0)),0);Ae.push({id:Qe.filePath||Qe.id||`fight-${Ze+1}`,shortLabel:`F${Ze+1}`,fullLabel:ve,timestamp:Zi(mt,Qe),values:Se,maxHit:Ye,max1s:pe,max5s:Me,max30s:Je})});const Dn=Array.from(me.values()).sort((Qe,Ze)=>Ze.peakHit!==Qe.peakHit?Ze.peakHit-Qe.peakHit:Qe.displayName.localeCompare(Ze.displayName));return{fights:Ae,players:Dn}})(),Nv=(()=>{const E=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=ve=>E(ve).toLowerCase().split(/[^a-z0-9]+/i).map(Se=>Se.trim()).filter(Boolean).map(Se=>Se.length>3&&Se.endsWith("s")?Se.slice(0,-1):Se),H=(ve,Se)=>{const $e=E(ve),Le=E(Se);if(!Le)return $e;if(!$e)return Le;const Ye=V($e),pe=V(Le),Me=new Set(Ye),Je=new Set(pe),ye=pe.length>0&&pe.every(_t=>Me.has(_t)),it=Ye.length>0&&Ye.every(_t=>Je.has(_t));return ye||it?$e:`${$e} - ${Le}`},Ae=[],me=new Map,Ve=(ve,Se)=>{const $e=Number(ve);if(!Number.isFinite($e))return{name:String(ve||"Unknown Skill"),icon:void 0};const Le=(Se==null?void 0:Se.skillMap)||{},Ye=(Se==null?void 0:Se.buffMap)||{},pe=(Le==null?void 0:Le[`s${$e}`])||(Le==null?void 0:Le[`${$e}`]);if(pe!=null&&pe.name)return{name:String(pe.name),icon:pe==null?void 0:pe.icon};const Me=(Ye==null?void 0:Ye[`b${$e}`])||(Ye==null?void 0:Ye[`${$e}`]);return Me!=null&&Me.name?{name:String(Me.name),icon:Me==null?void 0:Me.icon}:{name:`Skill ${$e}`,icon:void 0}},Ce=(ve,Se)=>{let $e=0,Le="";const Ye=pe=>{if(!pe||typeof pe!="object"||pe.indirectDamage)return;const Me=[Number(pe.max),Number(pe.maxDamage),Number(pe.maxHit)].filter(ye=>Number.isFinite(ye)),Je=Me.length>0?Math.max(...Me):0;Je>$e&&($e=Je,Le=Ve(pe.id,Se).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(pe=>{Array.isArray(pe)&&pe.forEach(Me=>Ye(Me))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(pe=>{Array.isArray(pe)&&pe.forEach(Me=>{Array.isArray(Me)&&Me.forEach(Je=>Ye(Je))})}),{peak:$e,skillName:Le||"Unknown Skill"}},lt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Se=[];for(let $e=0;$e<ve.length;$e+=1){const Le=Number(ve[$e]||0),Ye=$e>0?Number(ve[$e-1]||0):0;Se.push(Math.max(0,Le-Ye))}return Se},ht=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Se=ve.reduce((Le,Ye)=>Math.max(Le,Array.isArray(Ye)?Ye.length:0),0);if(Se<=0)return[];const $e=new Array(Se).fill(0);return ve.forEach(Le=>{if(Array.isArray(Le))for(let Ye=0;Ye<Se;Ye+=1)$e[Ye]+=Number(Le[Ye]||0)}),$e},St=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Se=ve[0];if(typeof Se=="number")return ve.map($e=>Number($e||0));if(Array.isArray(Se)&&Se.length>0){if(typeof Se[0]=="number")return Se.map($e=>Number($e||0));if(Array.isArray(Se[0])){const $e=Se.map(Le=>Array.isArray(Le)?Le.map(Ye=>Number(Ye||0)):null).filter(Le=>Array.isArray(Le)&&Le.length>0);if($e.length>0)return ht($e)}}return[]},Kt=ve=>{const Se=St(ve==null?void 0:ve.powerDamage1S),$e=St(ve==null?void 0:ve.damage1S),Le=Se.length>0?Se:$e;return lt(Le)},Xt=(ve,Se)=>{const $e=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray($e)||!Array.isArray($e[Se]))return[];const Le=$e[Se];if(!Array.isArray(Le)||Le.length===0)return[];if(typeof Le[0]=="number")return Le.map(Ye=>Number(Ye||0));if(Array.isArray(Le[0])&&!Array.isArray(Le[0][0]))return Le[0].map(Ye=>Number(Ye||0));if(Array.isArray(Le[0])&&Array.isArray(Le[0][0])){const pe=Le[0].map(Me=>Array.isArray(Me)?Me.map(Je=>Number(Je||0)):null).filter(Me=>Array.isArray(Me)&&Me.length>0);return ht(pe)}return[]},Dn=(ve,Se)=>{if(!Array.isArray(ve)||ve.length===0||Se<=0)return 0;let $e=0,Le=0;for(let Ye=0;Ye<ve.length;Ye+=1)$e+=Number(ve[Ye]||0),Ye>=Se&&($e-=Number(ve[Ye-Se]||0)),Ye>=Se-1&&$e>Le&&(Le=$e);return Math.max(0,Le)},Qe=(ve,Se)=>{if(!Array.isArray(ve)||ve.length===0||Se<=0)return[];const $e=[];for(let Le=0;Le<ve.length;Le+=Se){const Ye=Math.min(Le+Se,ve.length),pe=ve.slice(Le,Ye).reduce((Me,Je)=>Me+Number(Je||0),0);$e.push(pe)}return $e},Ze=ve=>Array.isArray(ve)?ve.map(Se=>Array.isArray(Se)?[Number(Se[0]),Number(Se[1])]:Se&&typeof Se=="object"?[Number(Se.time),Number(Se.value)]:null).filter(Se=>!!Se&&Number.isFinite(Se[0])&&Se[0]>=0):[],mt=(ve,Se,$e,Le,Ye)=>{if(!ve.length||Le<=0)return[];const pe=Math.max(Le*5e3,Ye||0),Me=vt=>vt.reduce((Un,se)=>se>=0&&se<=pe+2e3?Un+1:Un,0),Je=ve.map(vt=>Number(vt||0)).filter(vt=>Number.isFinite(vt)&&vt>=0);if(!Je.length)return[];const ye=[Je],it=Je.reduce((vt,Un)=>Math.max(vt,Un),0),_t=Je.reduce((vt,Un)=>Math.min(vt,Un),Number.POSITIVE_INFINITY);it>pe*20&&ye.push(Je.map(vt=>vt/1e3)),it<=pe*2&&_t>=0&&it>0&&it<Math.max(120,Le*5+10)&&ye.push(Je.map(vt=>vt*1e3));let Pn=Je,Qt=0,$r=-1;return ye.forEach(vt=>{const Un=vt.reduce((Oe,Xe)=>Math.min(Oe,Xe),Number.POSITIVE_INFINITY),se=new Set([0,...Se,...$e]);if(Number.isFinite(Un)&&pe>0&&Un>pe){const Oe=Math.floor(Un/pe)*pe;se.add(Oe),se.add(Math.max(0,Oe-pe))}se.forEach(Oe=>{const Xe=vt.map(Pt=>Pt-Oe),zt=Me(Xe);zt>$r&&($r=zt,Qt=Oe,Pn=vt)})}),Pn.map(vt=>vt-Qt).filter(vt=>Number.isFinite(vt)&&vt>=0)},Bt=(ve,Se,$e,Le,Ye)=>{const pe=mt(ve,Se,$e,Le,Ye);return Array.from(new Set(pe.map(Me=>Math.floor(Me/5e3)).filter(Me=>Number.isFinite(Me)&&Me>=0&&Me<Le)))};a.map(ve=>({log:ve,ts:Zi(ve==null?void 0:ve.details,ve)})).sort((ve,Se)=>ve.ts-Se.ts).forEach(({log:ve},Se)=>{const $e=ve==null?void 0:ve.details;if(!$e)return;const Le=E($e.fightName||ve.fightName||`Fight ${Se+1}`),Ye=yt($e,ve),pe=H(Le,String(Ye||"")),Me={},ye=(Array.isArray($e.players)?$e.players:[]).filter(ce=>!(ce!=null&&ce.notInSquad)),it=ye.flatMap(ce=>{const Te=ce==null?void 0:ce.combatReplayData;return Array.isArray(Te)?Te.map(qe=>Number(qe==null?void 0:qe.start)):[Number(Te==null?void 0:Te.start)]}).filter(ce=>Number.isFinite(ce)&&ce>=0),_t=ye.flatMap(ce=>{const Te=ce==null?void 0:ce.combatReplayData;return(Array.isArray(Te)?Te:Te?[Te]:[]).flatMap(Ge=>Ze(Ge==null?void 0:Ge.down).map(([Ut])=>Number(Ut||0)))}),Pn=ye.flatMap(ce=>{const Te=ce==null?void 0:ce.combatReplayData;return(Array.isArray(Te)?Te:Te?[Te]:[]).flatMap(Ge=>Ze(Ge==null?void 0:Ge.dead).map(([Ut])=>Number(Ut||0)))}),Qt=new Map,$r=new Map,vt=new Map;(Array.isArray($e.targets)?$e.targets:[]).forEach((ce,Te)=>{if(!ce||ce.isFake||!ce.enemyPlayer)return;const qe=W((ce==null?void 0:ce.profession)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.id))||"Unknown";vt.set(qe,(vt.get(qe)||0)+1);const Ge=$r.get(qe)||new Map;Array.isArray(ce==null?void 0:ce.totalDamageDist)&&ce.totalDamageDist.forEach(Ht=>{Array.isArray(Ht)&&Ht.forEach(Lt=>{if(!Lt||typeof Lt!="object"||Lt.indirectDamage)return;const At=Number(Lt.totalDamage||0);if(!Number.isFinite(At)||At<=0)return;const Ie=Number(Lt.connectedHits||Lt.hits||0),tt=Ve(Lt.id,$e),wt=tt.name,pt=Ge.get(wt)||{skillName:wt,damage:0,hits:0,icon:tt.icon};pt.damage+=At,pt.hits+=Number.isFinite(Ie)?Ie:0,!pt.icon&&tt.icon&&(pt.icon=tt.icon),Ge.set(wt,pt)})}),$r.set(qe,Ge);const Ut=ht(ye.map(Ht=>Xt(Ht,Te))),bt=Ut.length>0?lt(Ut):Kt(ce),xt=Ce(ce,$e);let Dt=Qt.get(qe);Dt||(Dt={perSecond:[],hit:0,skillName:""},Qt.set(qe,Dt)),bt.length>Dt.perSecond.length&&(Dt.perSecond.length=bt.length);for(let Ht=0;Ht<bt.length;Ht+=1)Dt.perSecond[Ht]=Number(Dt.perSecond[Ht]||0)+Number(bt[Ht]||0);const Ot=Number(xt.peak||0);Ot>Dt.hit&&(Dt.hit=Ot,Dt.skillName=xt.skillName||"Unknown Skill")});const se=Array.from(Qt.values()).some(ce=>Array.isArray(ce.perSecond)&&ce.perSecond.some(Te=>Number(Te||0)>0));if(Qt.size===0||!se){const ce=ht(ye.map(qe=>{const Ge=St(qe==null?void 0:qe.powerDamageTaken1S);return lt(Ge)})),Te=Array.from(vt.values()).reduce((qe,Ge)=>qe+Number(Ge||0),0);ce.length>0&&Te>0&&vt.forEach((qe,Ge)=>{const Ut=Number(qe||0)/Te,bt=ce.map(Dt=>Number(Dt||0)*Ut),xt=Qt.get(Ge);Qt.set(Ge,{perSecond:bt,hit:Number((xt==null?void 0:xt.hit)||0),skillName:String((xt==null?void 0:xt.skillName)||"")})})}Qt.forEach((ce,Te)=>{var tt;const qe=Te,Ge=Number(ce.hit||0),Ut=Number(Dn(ce.perSecond,1)||0),bt=Number(Dn(ce.perSecond,5)||0),xt=Number(Dn(ce.perSecond,30)||0),Dt=Math.max(0,Math.ceil(Number(($e==null?void 0:$e.durationMS)||0)/5e3)),Ot=Math.max(0,Math.ceil(ce.perSecond.length/5)),Ht=Math.max(Dt,Ot),Lt=Qe(ce.perSecond,5),At=Array.from({length:Ht},(wt,pt)=>Number(Lt[pt]||0));Me[qe]={hit:Ge,burst1s:Ut,burst5s:bt,burst30s:xt,skillName:ce.skillName||"Unknown Skill",buckets5s:At,downIndices5s:Bt(_t,[],it,Ht,Number(($e==null?void 0:$e.durationMS)||0)),deathIndices5s:Bt(Pn,[],it,Ht,Number(($e==null?void 0:$e.durationMS)||0)),skillRows:Array.from(((tt=$r.get(Te))==null?void 0:tt.values())||[]).sort((wt,pt)=>pt.damage-wt.damage).slice(0,50)};const Ie=me.get(qe)||{key:qe,account:Te,displayName:Te,characterName:"",profession:Te,professionList:[Te],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ie.logs+=1,Ge>Ie.peakHit&&(Ie.peakHit=Ge,Ie.peakFightLabel=pe,Ie.peakSkillName=ce.skillName||"Unknown Skill"),Ut>Ie.peak1s&&(Ie.peak1s=Ut),bt>Ie.peak5s&&(Ie.peak5s=bt),xt>Ie.peak30s&&(Ie.peak30s=xt),me.set(qe,Ie)});const Oe=Object.values(Me).reduce((ce,Te)=>Math.max(ce,Number((Te==null?void 0:Te.hit)||0)),0),Xe=Object.values(Me).reduce((ce,Te)=>Math.max(ce,Number((Te==null?void 0:Te.burst1s)||0)),0),zt=Object.values(Me).reduce((ce,Te)=>Math.max(ce,Number((Te==null?void 0:Te.burst5s)||0)),0),Pt=Object.values(Me).reduce((ce,Te)=>Math.max(ce,Number((Te==null?void 0:Te.burst30s)||0)),0);Ae.push({id:ve.filePath||ve.id||`fight-${Se+1}`,shortLabel:`F${Se+1}`,fullLabel:pe,timestamp:Zi($e,ve),values:Me,maxHit:Oe,max1s:Xe,max5s:zt,max30s:Pt})});const Zt=Array.from(me.values()).sort((ve,Se)=>Se.peakHit!==ve.peakHit?Se.peakHit-ve.peakHit:ve.displayName.localeCompare(Se.displayName));return{fights:Ae,players:Zt}})(),Cv=Array.from(Y.entries()).map(([E,V])=>{const H=J.get(E)||{},Ae=Array.from(V.values()).map(me=>{var Dn,Qe;const Ve=Array.from(me.professions||[]).filter(Ze=>Ze&&Ze!=="Unknown");let Ce=me.profession||"Unknown";if(Ve.length>0){Ce=Ve[0];let Ze=((Dn=me.professionTimeMs)==null?void 0:Dn[Ce])||0;Ve.forEach(mt=>{var Zt;const Bt=((Zt=me.professionTimeMs)==null?void 0:Zt[mt])||0;Bt>Ze&&(Ze=Bt,Ce=mt)})}const lt=me.durationMs||0,ht=me.totalMs/1e3,St=lt>0?me.totalMs/lt:0,Kt=((Qe=_.get(me.account))==null?void 0:Qe.supportActiveMs)||lt,Xt=Kt>0?me.uptimeMs/Kt:0;return{account:me.account,profession:Ce,professionList:Ve,total:ht,perSecond:St,uptimePerSecond:Xt,duration:lt/1e3}}).filter(me=>me.total>0||me.perSecond>0);return{id:E,name:H.name||E,icon:H.icon,rows:Ae}}).filter(E=>E.rows.length>0),jv=Array.from(ee.values()).map(E=>{const V=Array.from(E.skills.values()).sort((Ae,me)=>me.damage-Ae.damage),H=V.reduce((Ae,me)=>(Ae[me.id]=me,Ae),{});return{key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:V,skillMap:H}}).sort((E,V)=>E.displayName.localeCompare(V.displayName));return{total:p,wins:g,losses:y,avgSquadSize:de,avgEnemies:Be,squadKDR:ct,enemyKDR:nn,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:mn,...Ec,outgoingConditionSummary:Object.values(te).sort((E,V)=>V.damage-E.damage),incomingConditionSummary:Object.values(le).sort((E,V)=>V.damage-E.damage),outgoingConditionPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:he,topIncomingSkills:ke,topSkillsByDamage:Us,topSkillsByDownContribution:K,playerSkillBreakdowns:jv,topSkillsMetric:m,mapData:Mt,timelineData:xn,boonTables:jt,offensePlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs})),damageMitigationPlayers:ni,damageMitigationMinions:ir,supportPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(_.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:kl,silver:Dc,bronze:zs,squadClassData:_e,enemyClassData:gn,fightBreakdown:zn,attendanceData:qr,squadCompByFight:jn,spikeDamage:Nl,incomingStrikeDamage:Nv,specialTables:Cv,topStatsPerSecond:_r,topStatsLeaderboardsPerSecond:Hr,avgMvpScore:Sl}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(v=>{const b=v.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Zi(b,v)||Date.now(),N={id:v.filePath||v.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(D=>{if(D.notInSquad)return;const _=D.account||D.name||"Unknown",T=D.profession||"Unknown",F=`${_}|${T}`;let M=h.get(F);M||(M={key:F,account:_,displayName:_,profession:T,professionList:[T],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(F,M)),M.logs++;const ee=(Array.isArray(D.activeTimes)?D.activeTimes[0]:0)/1e3;M.totalActiveSeconds=(M.totalActiveSeconds||0)+ee,N.playerActiveSeconds[F]=ee,(D.rotation||[]).forEach(te=>{var I,A,j;if(!(te!=null&&te.id))return;const le=((I=te.skills)==null?void 0:I.length)||0;if(le<=0)return;const ue=`s${te.id}`,J=((A=w[ue])==null?void 0:A.name)||`Skill ${te.id}`,Y=(j=w[ue])==null?void 0:j.icon;M.skillTotals[ue]=(M.skillTotals[ue]||0)+le,f.set(ue,(f.get(ue)||0)+le),p.set(ue,J),Y&&!g.has(ue)&&g.set(ue,Y),N.skillEntries[ue]||(N.skillEntries[ue]={name:J,icon:Y,players:{}}),!N.skillEntries[ue].icon&&Y&&(N.skillEntries[ue].icon=Y),N.skillEntries[ue].players[F]=(N.skillEntries[ue].players[F]||0)+le})}),m.push(N)});const y=Array.from(f.entries()).map(([v,b])=>({id:v,name:p.get(v)||v,total:b,icon:g.get(v)})).sort((v,b)=>b.total-v.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},e8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=x.useState(()=>gh(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=x.useState(0),[f,h]=x.useState(0),[m,p]=x.useState(0),[g,y]=x.useState(0),[v,b]=x.useState(null),w=x.useRef(0),[S,C]=x.useState(0),N=x.useRef(null),P=x.useRef(null),[D,_]=x.useState(!1),T=x.useRef(null),F=x.useRef(""),M=x.useRef(void 0),ee=x.useRef(""),te=x.useMemo(()=>{if(!r){F.current="",M.current=void 0;return}const I={...r};delete I.topSkillsMetric;const A=JSON.stringify(I);return F.current!==A&&(F.current=A,M.current=I),M.current},[r]),le=x.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:te,disruptionMethod:i}),[e,t,n,te,i]);x.useEffect(()=>{if(!(typeof Worker>"u")&&!D&&s)return P.current||(P.current=new Worker(new URL(""+new URL("statsWorker-CnZv1iOF.js",import.meta.url).href,import.meta.url),{type:"module"}),P.current.onmessage=I=>{var A;((A=I.data)==null?void 0:A.type)==="result"&&(l(I.data.result),typeof I.data.computeId=="number"?d(I.data.computeId):d(j=>j+1),typeof I.data.logCount=="number"&&h(I.data.logCount),typeof I.data.token=="number"&&p(I.data.token),typeof I.data.completedAt=="number"&&y(I.data.completedAt),typeof I.data.flushId=="number"&&b(I.data.flushId))},P.current.onerror=I=>{var A;console.warn("[StatsWorker] Worker error. Falling back to main thread.",I),(A=P.current)==null||A.terminate(),P.current=null,_(!0)},P.current.onmessageerror=I=>{var A;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",I),(A=P.current)==null||A.terminate(),P.current=null,_(!0)},N.current!==null&&P.current.postMessage({type:"flush",flushId:N.current})),()=>{var I;(I=P.current)==null||I.terminate(),P.current=null}},[D,s]),x.useEffect(()=>{var I;if(!(!P.current||D||!s))try{w.current+=1,C(w.current),P.current.postMessage({type:"reset",token:w.current}),P.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:te,disruptionMethod:i}}),T.current&&(window.clearTimeout(T.current),T.current=null);let A=0;const j=()=>{if(!P.current)return;const W=5;for(let k=0;k<W&&A<e.length;k+=1,A+=1)P.current.postMessage({type:"log",payload:e[A]});A<e.length?T.current=window.setTimeout(j,0):(T.current=null,P.current.postMessage({type:"flush"}))};j()}catch(A){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",A),(I=P.current)==null||I.terminate(),P.current=null,_(!0)}},[le,e,t,n,te,i,s]);const ue=x.useMemo(()=>!D&&typeof Worker<"u"&&s?null:gh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:te,disruptionMethod:i}),[D,e,t,n,te,i,s]),J=x.useMemo(()=>{if(!D&&typeof Worker<"u"&&s)return"worker";const I=e[0],A=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(I==null?void 0:I.filePath)||(I==null?void 0:I.name)||"",lastLogPath:(A==null?void 0:A.filePath)||(A==null?void 0:A.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:F.current})},[D,s,e,t,i]);return x.useEffect(()=>{!D&&typeof Worker<"u"&&s||ee.current!==J&&(ee.current=J,d(I=>I+1),h(e.length),p(w.current),y(Date.now()))},[J,D,e.length,s]),{result:D||typeof Worker>"u"||!s?ue??gh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:te,disruptionMethod:i}):o,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:S,lastComputedAt:g,lastComputedFlushId:v,requestFlush:()=>{const I=Date.now();return N.current=I,P.current&&!D&&P.current.postMessage({type:"flush",flushId:I}),I}}},t8=e=>({apmSpecBuckets:x.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=s6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const P=Number(N);if(!Number.isFinite(P)||P<=0)return;const D=r.get(C),_=(D==null?void 0:D.name)||C,T=D==null?void 0:D.icon,F=a(_,C);f+=P,F&&(h+=P);let M=l.skillMap.get(C);M||(M={id:C,name:_,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,M)),!M.icon&&T&&(M.icon=T),M.totalCasts+=P;const ee=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;M.playerCounts.set(ee,P)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),v=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,S={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:v,aps:b,apsNoAuto:w};l.playerRows.push(S)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var S;const y=Number(((S=d.playerCounts)==null?void 0:S.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const v=Number(g.totalActiveSeconds||0),b=v>0?y/(v/60):0,w=v>0?y/v:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),n8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=x.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=x.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=x.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=x.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let v=!1,b=!1;if(Object.entries(g.players).forEach(([w,S])=>{var N;if(n.size>0&&!n.has(w))return;let C=S;if(f){const P=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=P>0?S/P:0}y[w]=C,C>d&&(d=C),v=!0,b=!0}),n.size>0){if(!b)return null}else if(!v)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=x.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function MO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=MO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=MO(e))&&(r&&(r+=" "),r+=t);return r}var r8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function D1(e){if(typeof e!="string")return!1;var t=r8;return t.includes(e)}var i8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a8=new Set(i8);function OO(e){return typeof e!="string"?!1:a8.has(e)}function IO(e){return typeof e=="string"&&e.startsWith("data-")}function Ga(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OO(n)||IO(n))&&(t[n]=e[n]);return t}function Ou(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ga(t)}return typeof e=="object"&&!Array.isArray(e)?Ga(e):null}function Ui(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OO(n)||IO(n)||D1(n))&&(t[n]=e[n]);return t}function s8(e){return e==null?null:x.isValidElement(e)?Ui(e.props):typeof e=="object"&&!Array.isArray(e)?Ui(e):null}var o8=["children","width","height","viewBox","className","style","title","desc"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function l8(e,t){if(e==null)return{};var n,r,i=c8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M1=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=l8(e,o8),f=a||{width:r,height:i,x:0,y:0},h=Sn("recharts-surface",s);return x.createElement("svg",tb({},Ui(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),u8=["children","className"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(null,arguments)}function d8(e,t){if(e==null)return{};var n,r,i=f8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sa=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=d8(e,u8),a=Sn("recharts-layer",r);return x.createElement("g",nb({className:a},Ui(i),{ref:t}),n)}),_O=x.createContext(null),m8=()=>x.useContext(_O);function Hn(e){return function(){return e}}const LO=Math.cos,Rp=Math.sin,xs=Math.sqrt,Bp=Math.PI,f0=2*Bp,rb=Math.PI,ib=2*rb,$l=1e-6,h8=ib-$l;function $O(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function p8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $O;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class g8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$O:p8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>$l)if(!(Math.abs(f*l-c*d)>$l)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((rb-Math.acos((g+h-y)/(2*v*b)))/2),S=w/b,C=w/v;Math.abs(S-1)>$l&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>$l||Math.abs(this._y1-d)>$l)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%ib+ib),h>h8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>$l&&this._append`A${r},${r},0,${+(h>=rb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new g8(t)}function I1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FO(e){this._context=e}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function m0(e){return new FO(e)}function RO(e){return e[0]}function BO(e){return e[1]}function zO(e,t){var n=Hn(!0),r=null,i=m0,a=null,s=O1(o);e=typeof e=="function"?e:e===void 0?RO:Hn(e),t=typeof t=="function"?t:t===void 0?BO:Hn(t);function o(l){var c,d=(l=I1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Hn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Hn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Hn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function vh(e,t,n){var r=null,i=Hn(!0),a=null,s=m0,o=null,l=O1(c);e=typeof e=="function"?e:e===void 0?RO:Hn(+e),t=typeof t=="function"?t:Hn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BO:Hn(+n);function c(f){var h,m,p,g=(f=I1(f)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],S[p]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return o=null,b+""||null}function d(){return zO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Hn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Hn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Hn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Hn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Hn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class UO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function v8(e){return new UO(e,!0)}function x8(e){return new UO(e,!1)}const _1={draw(e,t){const n=xs(t/Bp);e.moveTo(n,0),e.arc(0,0,n,0,f0)}},y8={draw(e,t){const n=xs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VO=xs(1/3),b8=VO*2,w8={draw(e,t){const n=xs(t/b8),r=n*VO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},k8={draw(e,t){const n=xs(t),r=-n/2;e.rect(r,r,n,n)}},S8=.8908130915292852,WO=Rp(Bp/10)/Rp(7*Bp/10),N8=Rp(f0/10)*WO,C8=-LO(f0/10)*WO,j8={draw(e,t){const n=xs(t*S8),r=N8*n,i=C8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=f0*a/5,o=LO(s),l=Rp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},rx=xs(3),P8={draw(e,t){const n=-xs(t/(rx*3));e.moveTo(0,n*2),e.lineTo(-rx*n,-n),e.lineTo(rx*n,-n),e.closePath()}},Oa=-.5,Ia=xs(3)/2,ab=1/xs(12),A8=(ab/2+1)*3,T8={draw(e,t){const n=xs(t/A8),r=n/2,i=n*ab,a=r,s=n*ab+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Oa*r-Ia*i,Ia*r+Oa*i),e.lineTo(Oa*a-Ia*s,Ia*a+Oa*s),e.lineTo(Oa*o-Ia*l,Ia*o+Oa*l),e.lineTo(Oa*r+Ia*i,Oa*i-Ia*r),e.lineTo(Oa*a+Ia*s,Oa*s-Ia*a),e.lineTo(Oa*o+Ia*l,Oa*l-Ia*o),e.closePath()}};function E8(e,t){let n=null,r=O1(i);e=typeof e=="function"?e:Hn(e||_1),t=typeof t=="function"?t:Hn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Hn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Hn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function zp(){}function Up(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Up(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Up(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D8(e){return new HO(e)}function qO(e){this._context=e}qO.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Up(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M8(e){return new qO(e)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Up(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O8(e){return new KO(e)}function GO(e){this._context=e}GO.prototype={areaStart:zp,areaEnd:zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function I8(e){return new GO(e)}function dC(e){return e<0?-1:1}function fC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(dC(a)+dC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function mC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ix(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Vp(e){this._context=e}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ix(this,this._t0,mC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ix(this,mC(this,n=fC(this,e,t)),n);break;default:ix(this,this._t0,n=fC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YO(e){this._context=new XO(e)}(YO.prototype=Object.create(Vp.prototype)).point=function(e,t){Vp.prototype.point.call(this,t,e)};function XO(e){this._context=e}XO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function _8(e){return new Vp(e)}function L8(e){return new YO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hC(e),i=hC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function $8(e){return new ZO(e)}function h0(e,t){this._context=e,this._t=t}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function F8(e){return new h0(e,.5)}function R8(e){return new h0(e,0)}function B8(e){return new h0(e,1)}function fc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function z8(e,t){return e[t]}function U8(e){const t=[];return t.key=e,t}function V8(){var e=Hn([]),t=sb,n=fc,r=z8;function i(a){var s=Array.from(e.apply(this,arguments),U8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=I1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Hn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Hn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?sb:typeof a=="function"?a:Hn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??fc,i):n},i}function W8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}fc(e,t)}}function H8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}fc(e,t)}}function q8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,v=g[r-1][1]||0;m+=y-v}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,fc(e,t)}}var p0={},QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(QO);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(L1);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(g0);var v0={},JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(JO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO,n=g0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(v0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QO,n=L1,r=g0,i=v0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(p0);var K8=p0.get;const mc=vs(K8);var G8=4;function Yo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Yo(o)+a:i+a},"")}var Ei=e=>e===0?0:e>0?1:-1,Ls=e=>typeof e=="number"&&e!=+e,go=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ct=e=>(typeof e=="number"||e instanceof Number)&&!Ls(e),$s=e=>Ct(e)||typeof e=="string",Y8=0,jf=e=>{var t=++Y8;return"".concat(e||"").concat(t)},ka=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ct(t)&&typeof t!="string")return r;var a;if(go(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Ls(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},e5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ti(e,t,n){return Ct(e)&&Ct(t)?Yo(e+n*(t-e)):t}function t5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):mc(r,t))===n)}var Zr=e=>e===null||typeof e>"u",nm=e=>Zr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function X8(e){return e!=null}function rm(){}var Z8=["type","size","sizeType"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){Q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q8(e,t,n){return(t=J8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=eV(e,"string");return typeof t=="symbol"?t:t+""}function eV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tV(e,t){if(e==null)return{};var n,r,i=nV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var n5={symbolCircle:_1,symbolCross:y8,symbolDiamond:w8,symbolSquare:k8,symbolStar:j8,symbolTriangle:P8,symbolWye:T8},rV=Math.PI/180,iV=e=>{var t="symbol".concat(nm(e));return n5[t]||_1},aV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*rV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},sV=(e,t)=>{n5["symbol".concat(nm(e))]=t},$1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=tV(e,Z8),a=gC(gC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=iV(s),m=E8().type(h).size(aV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Ui(a);return Ct(c)&&Ct(d)&&Ct(n)?x.createElement("path",ob({},f,{className:Sn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};$1.registerSymbol=sV;var r5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,F1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{D1(i)&&(r[i]=a=>n[i](n,a))}),r},oV=(e,t,n)=>r=>(e(t,n,r),null),R1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];D1(i)&&typeof a=="function"&&(r||(r={}),r[i]=oV(a,t,n))}),r};function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var n=lV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){mV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mV(e,t,n){return(t=hV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fa=32,gV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function vV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Fa/2,a=Fa/6,s=Fa/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Fa,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Fa,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Fa/8,"h").concat(Fa,"v").concat(Fa*3/4,"h").concat(-Fa,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var d=fV({},t);return delete d.legendIcon,x.cloneElement(t.legendIcon,d)}return x.createElement($1,{fill:o,cx:i,cy:i,size:Fa,sizeType:"diameter",type:l})}function xV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Fa,height:Fa},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Sn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return x.createElement("li",Wp({className:m,style:l,key:"legend-item-".concat(f)},R1(e,d,f)),x.createElement(M1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},x.createElement(vV,{data:d,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var yV=e=>{var t=Qr(e,gV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(xV,Wp({},t,{payload:n})))},i5={},a5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(a5);var s5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(s5);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(B1);var o5={},x0={},l5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(l5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(x0);var c5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(c5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0,n=c5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(o5);var u5={},d5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(d5);var f5={},z1={},m5={},U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(U1);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(V1);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=V1,r=W1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,v,b,w){const S=h(p,g,y,v,b,w);return S!==void 0?!!S:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let v=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let S=!1;if(h(w,y,g,d,f,m)&&(S=!0),S){p.add(b),v=!0;break}}if(!v)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(m5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(z1);var h5={},H1={},p5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(p5);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(y0);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",D="[object BigInt64Array]",_="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=_,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(q1);var g5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(g5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5,n=y0,r=q1,i=V1,a=g5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[v,b]of d)y.set(v,o(b,v,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const v of d)y.add(o(v,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=o(f[v],v,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(H1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(h5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=h5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(f5);var v5={},x5={},y5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=y0,r=q1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(x5);var b5={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(K1);var w5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(w5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=K1,r=w5,i=v0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(b5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,n=g0,r=x5,i=p0,a=b5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(v5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=d5,r=f5,i=v5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(u5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a5,n=s5,r=B1,i=o5,a=u5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(i5);var bV=i5.uniqBy;const yC=vs(bV);function k5(e,t,n){return t===!0?yC(e,n):typeof t=="function"?yC(e,t):e}var S5={exports:{}},N5={},C5={exports:{}},j5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=x;function wV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kV=typeof Object.is=="function"?Object.is:wV,SV=Iu.useState,NV=Iu.useEffect,CV=Iu.useLayoutEffect,jV=Iu.useDebugValue;function PV(e,t){var n=t(),r=SV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return CV(function(){i.value=n,i.getSnapshot=t,ax(i)&&a({inst:i})},[e,n,t]),NV(function(){return ax(i)&&a({inst:i}),e(function(){ax(i)&&a({inst:i})})},[e]),jV(n),n}function ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kV(e,n)}catch{return!0}}function AV(e,t){return t()}var TV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AV:PV;j5.useSyncExternalStore=Iu.useSyncExternalStore!==void 0?Iu.useSyncExternalStore:TV;C5.exports=j5;var EV=C5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=x,DV=EV;function MV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OV=typeof Object.is=="function"?Object.is:MV,IV=DV.useSyncExternalStore,_V=b0.useRef,LV=b0.useEffect,$V=b0.useMemo,FV=b0.useDebugValue;N5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=_V(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=$V(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,OV(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=IV(e,a[0],a[1]);return LV(function(){s.hasValue=!0,s.value=o},[o]),FV(o),o};S5.exports=N5;var RV=S5.exports,G1=x.createContext(null),BV=e=>e,Kn=()=>{var e=x.useContext(G1);return e?e.store.dispatch:BV},ep=()=>{},zV=()=>ep,UV=(e,t)=>e===t;function kt(e){var t=x.useContext(G1);return RV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:zV,t?t.store.getState:ep,t?t.store.getState:ep,t?e:ep,UV)}function VV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function WV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function HV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var bC=e=>Array.isArray(e)?e:[e];function qV(e){const t=Array.isArray(e[0])?e[0]:e;return HV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var GV=class{constructor(e){this.value=e}deref(){return this.value}},YV=typeof WeakRef<"u"?WeakRef:GV,XV=0,wC=1;function xh(){return{s:XV,v:void 0,o:null,p:null}}function P5(e,t={}){let n=xh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=xh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=xh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===wC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new YV(d):d}return c.s=wC,c.v=d,d}return s.clearCache=()=>{n=xh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function ZV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),VV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=P5,argsMemoizeOptions:p=[]}=d,g=bC(h),y=bC(p),v=qV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=KV(v,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var fe=ZV(P5),QV=Object.assign((e,t=fe)=>{WV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>QV}),A5={},T5={},E5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(E5);var D5={},Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(D5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E5,n=D5,r=v0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(T5);var M5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(M5);var X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=x0,r=U1,i=W1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(X1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T5,n=M5,r=X1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(A5);var JV=A5.sortBy;const w0=vs(JV);var O5=e=>e.legend.settings,e9=e=>e.legend.size,t9=e=>e.legend.payload,n9=fe([t9,O5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?w0(r,n):r});function r9(){return kt(n9)}var yh=1;function I5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>yh||Math.abs(s.left-t.left)>yh||Math.abs(s.top-t.top)>yh||Math.abs(s.width-t.width)>yh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function mi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var i9=typeof Symbol=="function"&&Symbol.observable||"@@observable",kC=i9,sx=()=>Math.random().toString(36).substring(7).split("").join("."),a9={INIT:`@@redux/INIT${sx()}`,REPLACE:`@@redux/REPLACE${sx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sx()}`},Hp=a9;function Z1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _5(e,t,n){if(typeof e!="function")throw new Error(mi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mi(1));return n(_5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,v)=>{s.set(v,y)}))}function d(){if(l)throw new Error(mi(3));return i}function f(y){if(typeof y!="function")throw new Error(mi(4));if(l)throw new Error(mi(5));let v=!0;c();const b=o++;return s.set(b,y),function(){if(v){if(l)throw new Error(mi(6));v=!1,c(),s.delete(b),a=null}}}function h(y){if(!Z1(y))throw new Error(mi(7));if(typeof y.type>"u")throw new Error(mi(8));if(typeof y.type!="string")throw new Error(mi(17));if(l)throw new Error(mi(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(mi(10));r=y,h({type:Hp.REPLACE})}function p(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(mi(11));function b(){const S=v;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[kC](){return this}}}return h({type:Hp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[kC]:p}}function s9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hp.INIT})>"u")throw new Error(mi(12));if(typeof n(void 0,{type:Hp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mi(13))})}function L5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{s9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(mi(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function qp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function o9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(mi(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=qp(...o)(i.dispatch),{...i,dispatch:a}}}function $5(e){return Z1(e)&&"type"in e&&typeof e.type=="string"}var F5=Symbol.for("immer-nothing"),SC=Symbol.for("immer-draftable"),Vi=Symbol.for("immer-state");function as(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ba=Object,_u=ba.getPrototypeOf,Kp="constructor",k0="prototype",lb="configurable",Gp="enumerable",tp="writable",Pf="value",vo=e=>!!e&&!!e[Vi];function hs(e){var t;return e?R5(e)||N0(e)||!!e[SC]||!!((t=e[Kp])!=null&&t[SC])||C0(e)||j0(e):!1}var l9=ba[k0][Kp].toString(),NC=new WeakMap;function R5(e){if(!e||!Q1(e))return!1;const t=_u(e);if(t===null||t===ba[k0])return!0;const n=ba.hasOwnProperty.call(t,Kp)&&t[Kp];if(n===Object)return!0;if(!Yc(n))return!1;let r=NC.get(n);return r===void 0&&(r=Function.toString.call(n),NC.set(n,r)),r===l9}function S0(e,t,n=!0){im(e)===0?(n?Reflect.ownKeys(e):ba.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function im(e){const t=e[Vi];return t?t.type_:N0(e)?1:C0(e)?2:j0(e)?3:0}var CC=(e,t,n=im(e))=>n===2?e.has(t):ba[k0].hasOwnProperty.call(e,t),cb=(e,t,n=im(e))=>n===2?e.get(t):e[t],Yp=(e,t,n,r=im(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function c9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var N0=Array.isArray,C0=e=>e instanceof Map,j0=e=>e instanceof Set,Q1=e=>typeof e=="object",Yc=e=>typeof e=="function",ox=e=>typeof e=="boolean";function u9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Zs=e=>e.copy_||e.base_,J1=e=>e.modified_?e.copy_:e.base_;function ub(e,t){if(C0(e))return new Map(e);if(j0(e))return new Set(e);if(N0(e))return Array[k0].slice.call(e);const n=R5(e);if(t===!0||t==="class_only"&&!n){const r=ba.getOwnPropertyDescriptors(e);delete r[Vi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[tp]===!1&&(o[tp]=!0,o[lb]=!0),(o.get||o.set)&&(r[s]={[lb]:!0,[tp]:!0,[Gp]:o[Gp],[Pf]:e[s]})}return ba.create(_u(e),r)}else{const r=_u(e);if(r!==null&&n)return{...e};const i=ba.create(r);return ba.assign(i,e)}}function ek(e,t=!1){return P0(e)||vo(e)||!hs(e)||(im(e)>1&&ba.defineProperties(e,{set:bh,add:bh,clear:bh,delete:bh}),ba.freeze(e),t&&S0(e,(n,r)=>{ek(r,!0)},!1)),e}function d9(){as(2)}var bh={[Pf]:d9};function P0(e){return e===null||!Q1(e)?!0:ba.isFrozen(e)}var Xp="MapSet",db="Patches",jC="ArrayMethods",B5={};function hc(e){const t=B5[e];return t||as(0,e),t}var PC=e=>!!B5[e],Af,z5=()=>Af,f9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PC(Xp)?hc(Xp):void 0,arrayMethodsPlugin_:PC(jC)?hc(jC):void 0});function AC(e,t){t&&(e.patchPlugin_=hc(db),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fb(e){mb(e),e.drafts_.forEach(m9),e.drafts_=null}function mb(e){e===Af&&(Af=e.parent_)}var TC=e=>Af=f9(Af,e);function m9(e){const t=e[Vi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function EC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Vi].modified_&&(fb(t),as(4)),hs(e)&&(e=DC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Vi].base_,e,t)}else e=DC(t,n);return h9(t,e,!0),fb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==F5?e:void 0}function DC(e,t){if(P0(t))return t;const n=t[Vi];if(!n)return Zp(t,e.handledSet_,e);if(!A0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);W5(n,e)}return n.copy_}function h9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ek(t,n)}function U5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var A0=(e,t)=>e.scope_===t,p9=[];function V5(e,t,n,r){const i=Zs(e),a=e.type_;if(r!==void 0&&cb(i,r,a)===t){Yp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;S0(i,(l,c)=>{if(vo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??p9;for(const o of s)Yp(i,o,n,a)}function g9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!A0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=J1(a);V5(e,a.draft_??a,s,n),W5(a,i)})}function W5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}U5(e)}}function v9(e,t,n){const{scope_:r}=e;if(vo(n)){const i=n[Vi];A0(i,r)&&i.callbacks_.push(function(){np(e);const s=J1(i);V5(e,n,s,t)})}else hs(n)&&e.callbacks_.push(function(){const a=Zs(e);e.type_===3?a.has(n)&&Zp(n,r.handledSet_,r):cb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Zp(cb(e.copy_,t,e.type_),r.handledSet_,r)})}function Zp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vo(e)||t.has(e)||!hs(e)||P0(e)||(t.add(e),S0(e,(r,i)=>{if(vo(i)){const a=i[Vi];if(A0(a,n)){const s=J1(a);Yp(e,r,s,e.type_),U5(a)}}else hs(i)&&Zp(i,t,n)})),e}function x9(e,t){const n=N0(e),r={type_:n?1:0,scope_:t?t.scope_:z5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Qp;n&&(i=[r],a=Tf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Qp={get(e,t){if(t===Vi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Zs(e);if(!CC(i,t,e.type_))return y9(e,i,t);const a=i[t];if(e.finalized_||!hs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&u9(t))return a;if(a===lx(e.base_,t)){np(e);const s=e.type_===1?+t:t,o=pb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,n){const r=H5(Zs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=lx(Zs(e),t),a=i==null?void 0:i[Vi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(c9(n,i)&&(n!==void 0||CC(e.base_,t,e.type_)))return!0;np(e),hb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),v9(e,t,n)),!0},deleteProperty(e,t){return np(e),lx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[tp]:!0,[lb]:e.type_!==1||t!=="length",[Gp]:r[Gp],[Pf]:n[t]}},defineProperty(){as(11)},getPrototypeOf(e){return _u(e.base_)},setPrototypeOf(){as(12)}},Tf={};for(let e in Qp){let t=Qp[e];Tf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Tf.deleteProperty=function(e,t){return Tf.set.call(this,e,t,void 0)};Tf.set=function(e,t,n){return Qp.set.call(this,e[0],t,n,e[0])};function lx(e,t){const n=e[Vi];return(n?Zs(n):e)[t]}function y9(e,t,n){var i;const r=H5(t,n);return r?Pf in r?r[Pf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function H5(e,t){if(!(t in e))return;let n=_u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_u(n)}}function hb(e){e.modified_||(e.modified_=!0,e.parent_&&hb(e.parent_))}function np(e){e.copy_||(e.assigned_=new Map,e.copy_=ub(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var b9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Yc(n)&&!Yc(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}Yc(r)||as(6),i!==void 0&&!Yc(i)&&as(7);let a;if(hs(n)){const s=TC(this),o=pb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?fb(s):mb(s)}return AC(s,i),EC(a,s)}else if(!n||!Q1(n)){if(a=r(n),a===void 0&&(a=n),a===F5&&(a=void 0),this.autoFreeze_&&ek(a,!0),i){const s=[],o=[];hc(db).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else as(1,n)},this.produceWithPatches=(n,r)=>{if(Yc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},ox(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ox(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ox(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){hs(t)||as(8),vo(t)&&(t=us(t));const n=TC(this),r=pb(n,t,void 0);return r[Vi].isManual_=!0,mb(n),r}finishDraft(t,n){const r=t&&t[Vi];(!r||!r.isManual_)&&as(9);const{scope_:i}=r;return AC(i,n),EC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=hc(db).applyPatches_;return vo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function pb(e,t,n,r){const[i,a]=C0(t)?hc(Xp).proxyMap_(t,n):j0(t)?hc(Xp).proxySet_(t,n):x9(t,n);return((n==null?void 0:n.scope_)??z5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?g9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function us(e){return vo(e)||as(10,e),q5(e)}function q5(e){if(!hs(e)||P0(e))return e;const t=e[Vi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ub(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ub(e,!0);return S0(n,(i,a)=>{Yp(n,i,q5(a))},r),t&&(t.finalized_=!1),n}var w9=new b9,K5=w9.produce;function G5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var k9=G5(),S9=G5,N9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qp:qp.apply(null,arguments)};function Ya(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Sa(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>$5(r)&&r.type===e,n}var Y5=class $d extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$d.prototype)}static get[Symbol.species](){return $d}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $d(...t[0].concat(this)):new $d(...t.concat(this))}};function MC(e){return hs(e)?K5(e,()=>{}):e}function wh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function C9(e){return typeof e=="boolean"}var j9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Y5;return n&&(C9(n)?s.push(k9):s.push(S9(n.extraArgument))),s},X5="RTK_autoBatch",lr=()=>e=>({payload:e,meta:{[X5]:!0}}),OC=e=>t=>{setTimeout(t,e)},Z5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OC(10):e.type==="callback"?e.queueNotification:OC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[X5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},P9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Y5(e);return r&&i.push(Z5(typeof r=="object"?r:void 0)),i};function A9(e){const t=j9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(Z1(n))o=L5(n);else throw new Error(Sa(1));let l;typeof r=="function"?l=r(t):l=t();let c=qp;i&&(c=N9({trace:!1,...typeof i=="object"&&i}));const d=o9(...l),f=P9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return _5(o,a,m)}function Q5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Sa(28));if(o in t)throw new Error(Sa(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function T9(e){return typeof e=="function"}function E9(e,t){let[n,r,i]=Q5(t),a;if(T9(e))a=()=>MC(e());else{const o=MC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(vo(d)){const m=f(d,l);return m===void 0?d:m}else{if(hs(d))return K5(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var D9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",M9=(e=21)=>{let t="",n=e;for(;n--;)t+=D9[Math.random()*64|0];return t},O9=Symbol.for("rtk-slice-createasyncthunk");function I9(e,t){return`${e}/${t}`}function _9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[O9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Sa(11));const o=(typeof i.reducers=="function"?i.reducers($9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(Sa(12));if(N in c.sliceCaseReducersByType)throw new Error(Sa(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return c.actionCreators[S]=C,d},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,d}};l.forEach(S=>{const C=o[S],N={reducerName:S,type:I9(a,S),createNotation:typeof i.reducers=="function"};R9(C)?z9(N,C,d,t):F9(N,C,d)});function f(){const[S={},C=[],N=void 0]=typeof i.extraReducers=="function"?Q5(i.extraReducers):[i.extraReducers],P={...S,...c.sliceCaseReducersByType};return E9(i.initialState,D=>{for(let _ in P)D.addCase(_,P[_]);for(let _ of c.sliceMatchers)D.addMatcher(_.matcher,_.reducer);for(let _ of C)D.addMatcher(_.matcher,_.reducer);N&&D.addDefaultCase(N)})}const h=S=>S,m=new Map,p=new WeakMap;let g;function y(S,C){return g||(g=f()),g(S,C)}function v(){return g||(g=f()),g.getInitialState()}function b(S,C=!1){function N(D){let _=D[S];return typeof _>"u"&&C&&(_=wh(p,N,v)),_}function P(D=h){const _=wh(m,C,()=>new WeakMap);return wh(_,D,()=>{const T={};for(const[F,M]of Object.entries(i.selectors??{}))T[F]=L9(M,D,()=>wh(p,D,v),C);return T})}return{reducerPath:S,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(S,{reducerPath:C,...N}={}){const P=C??s;return S.inject({reducerPath:P,reducer:y},N),{...w,...b(P,!0)}}};return w}}function L9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var la=_9();function $9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function F9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!B9(r))throw new Error(Sa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ya(e,s):Ya(e))}function R9(e){return e._reducerDefinitionType==="asyncThunk"}function B9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function z9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Sa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||kh,pending:o||kh,rejected:l||kh,settled:c||kh})}function kh(){}var U9="task",J5="listener",eI="completed",tk="cancelled",V9=`task-${tk}`,W9=`task-${eI}`,gb=`${J5}-${tk}`,H9=`${J5}-${eI}`,T0=class{constructor(e){Tv(this,"name","TaskAbortError");Tv(this,"message");this.code=e,this.message=`${U9} ${tk} (reason: ${e})`}},nk=(e,t)=>{if(typeof e!="function")throw new TypeError(Sa(32))},Jp=()=>{},tI=(e,t=Jp)=>(e.catch(t),e),nI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rc=e=>{if(e.aborted)throw new T0(e.reason)};function rI(e,t){let n=Jp;return new Promise((r,i)=>{const a=()=>i(new T0(e.reason));if(e.aborted){a();return}n=nI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Jp})}var q9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof T0?"cancelled":"rejected",error:n}}finally{t==null||t()}},eg=e=>t=>tI(rI(e,t).then(n=>(rc(e),n))),iI=e=>{const t=eg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:wu}=Object,IC={},E0="listenerMiddleware",K9=(e,t)=>{const n=r=>nI(e,()=>r.abort(e.reason));return(r,i)=>{nk(r);const a=new AbortController;n(a);const s=q9(async()=>{rc(e),rc(a.signal);const o=await r({pause:eg(a.signal),delay:iI(a.signal),signal:a.signal});return rc(a.signal),o},()=>a.abort(W9));return i!=null&&i.autoJoin&&t.push(s.catch(Jp)),{result:eg(e)(s),cancel(){a.abort(V9)}}}},G9=(e,t)=>{const n=async(r,i)=>{rc(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await rI(t,Promise.race(o));return rc(t),l}finally{a()}};return(r,i)=>tI(n(r,i))},aI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ya(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Sa(21));return nk(a),{predicate:i,type:t,effect:a}},sI=wu(e=>{const{type:t,predicate:n,effect:r}=aI(e);return{id:M9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Sa(22))}}},{withTypes:()=>sI}),_C=(e,t)=>{const{type:n,effect:r,predicate:i}=aI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},vb=e=>{e.pending.forEach(t=>{t.abort(gb)})},Y9=(e,t)=>()=>{for(const n of t.keys())vb(n);e.clear()},LC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},oI=wu(Ya(`${E0}/add`),{withTypes:()=>oI}),X9=Ya(`${E0}/removeAll`),lI=wu(Ya(`${E0}/remove`),{withTypes:()=>lI}),Z9=(...e)=>{console.error(`${E0}/error`,...e)},am=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=Z9}=e;nk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&vb(m)}),l=m=>{const p=_C(t,m)??sI(m);return o(p)};wu(l,{withTypes:()=>l});const c=m=>{const p=_C(t,m);return p&&(p.unsubscribe(),m.cancelActive&&vb(p)),!!p};wu(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const v=new AbortController,b=G9(l,v.signal),w=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(p,wu({},g,{getOriginalState:y,condition:(S,C)=>b(S,C).then(Boolean),take:b,delay:iI(v.signal),pause:eg(v.signal),extra:a,signal:v.signal,fork:K9(v.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,N)=>{S!==v&&(S.abort(gb),N.delete(S))})},cancel:()=>{v.abort(gb),m.pending.delete(v)},throwIfCancelled:()=>{rc(v.signal)}})))}catch(S){S instanceof T0||LC(s,S,{raisedBy:"effect"})}finally{await Promise.all(w),v.abort(H9),i(m),m.pending.delete(v)}},f=Y9(t,n);return{middleware:m=>p=>g=>{if(!$5(g))return p(g);if(oI.match(g))return l(g.payload);if(X9.match(g)){f();return}if(lI.match(g))return c(g.payload);let y=m.getState();const v=()=>{if(y===IC)throw new Error(Sa(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const C of S){let N=!1;try{N=C.predicate(g,w,y)}catch(P){N=!1,LC(s,P,{raisedBy:"predicate"})}N&&d(C,g,m,v)}}}finally{y=IC}return b},startListening:l,stopListening:c,clearListeners:f}};function Sa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},cI=la({name:"chartLayout",initialState:Q9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:J9,setLayout:eW,setChartSize:tW,setScale:nW}=cI.actions,rW=cI.reducer;function uI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Wr(e){return Number.isFinite(e)}function Fs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){iW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iW(e,t,n){return(t=aW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,n){return Zr(e)||Zr(t)?n:$s(t)?mc(e,t,n):typeof t=="function"?t(e):n}var oW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ct(e[a]))return cu(cu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ct(e[s]))return cu(cu({},e),{},{[s]:e[s]+(i||0)})}return e},gl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},fI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?Ei(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:s(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!Ls(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:s(v)+g,value:v,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((v,b)=>({coordinate:s(v)+g,value:v,offset:g,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+g,value:r?r[v]:v,index:b,offset:g}))},FC=1e-4,lW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-FC,a=Math.max(r[0],r[1])+FC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},cW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=Ls(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},uW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=Ls(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},dW={sign:cW,expand:W8,none:fc,silhouette:H8,wiggle:q8,positive:uW},fW=(e,t,n)=>{var r,i=(r=dW[n])!==null&&r!==void 0?r:fc,a=V8().keys(t).value((o,l)=>Number(nr(o,l,0))).order(sb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=nr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Ct(f[0])&&Ct(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function RC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Zr(i[t.dataKey])){var o=t5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=nr(i,Zr(s)?t.dataKey:s);return Zr(l)?null:t.scale(l)}var mW=e=>{var t=e.flat(2).filter(Ct);return[Math.min(...t),Math.max(...t)]},hW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pW=(e,t,n)=>{if(e!=null)return hW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=uI(c,t,n),f=mW(d);return!Wr(f[0])||!Wr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},BC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=w0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function UC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return cu(cu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function D0(e,t){if(e)return String(e);if(typeof t=="string")return t}var gW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},vW=(e,t)=>t==="centric"?e.angle:e.radius,No=e=>e.layout.width,Co=e=>e.layout.height,xW=e=>e.layout.scale,mI=e=>e.layout.margin,M0=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),O0=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hI="data-recharts-item-index",pI="data-recharts-item-id",sm=60;function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){yW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yW(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kW=e=>e.brush.height;function SW(e){var t=O0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sm;return n+i}return n},0)}function NW(e){var t=O0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sm;return n+i}return n},0)}function CW(e){var t=M0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function jW(e){var t=M0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ci=fe([No,Co,mI,kW,SW,NW,CW,jW,O5,e9],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Sh(Sh({},f),d),m=h.bottom;h.bottom+=r,h=oW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return Sh(Sh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),PW=fe(ci,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),gI=fe(No,Co,(e,t)=>({x:0,y:0,width:e,height:t})),AW=x.createContext(null),ca=()=>x.useContext(AW)!=null,I0=e=>e.brush,_0=fe([I0,ci,mI],(e,t,n)=>({height:e.height,x:Ct(e.x)?e.x:t.left,y:Ct(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ct(e.width)?e.width:t.width})),vI={},xI={},yI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return v.schedule=m,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(yI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(xI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(vI);var TW=vI.throttle;const EW=vs(TW);var ng=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},bI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=go(r)?e:Number(r),l=go(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},DW={width:0,height:0,overflow:"visible"},MW={width:0,overflowX:"visible"},OW={height:0,overflowY:"visible"},IW={},_W=e=>{var{width:t,height:n}=e,r=go(t),i=go(n);return r&&i?DW:r?MW:i?OW:IW};function LW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){$W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $W(e,t,n){return(t=FW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wI=x.createContext({width:-1,height:-1});function BW(e){return Fs(e.width)&&Fs(e.height)}function kI(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return BW(i)?x.createElement(wI.Provider,{value:i},t):null}var rk=()=>x.useContext(wI),zW=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=x.useRef(null),y=x.useRef();y.current=m,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((D,_)=>{b(T=>{var F=Math.round(D),M=Math.round(_);return T.containerWidth===F&&T.containerHeight===M?T:{containerWidth:F,containerHeight:M}})},[]);x.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return rm;var D=M=>{var ee,{width:te,height:le}=M[0].contentRect;w(te,le),(ee=y.current)===null||ee===void 0||ee.call(y,te,le)};d>0&&(D=EW(D,d,{trailing:!0,leading:!1}));var _=new ResizeObserver(D),{width:T,height:F}=g.current.getBoundingClientRect();return w(T,F),_.observe(g.current),()=>{_.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=v;ng(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:P}=bI(S,C,{width:i,height:a,aspect:n,maxHeight:l});return ng(N!=null&&N>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,P,i,a,s,o,n),x.createElement("div",{id:f?"".concat(f):void 0,className:Sn("recharts-responsive-container",h),style:HC(HC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},x.createElement("div",{style:_W({width:i,height:a})},x.createElement(kI,{width:N,height:P},c)))}),pc=x.forwardRef((e,t)=>{var n=rk();if(Fs(n.width)&&Fs(n.height))return e.children;var{width:r,height:i}=LW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=bI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ct(a)&&Ct(s)?x.createElement(kI,{width:a,height:s},e.children):x.createElement(zW,xb({},e,{width:r,height:i,ref:t}))});function SI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var L0=()=>{var e,t=ca(),n=kt(PW),r=kt(_0),i=(e=kt(I0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},UW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NI=()=>{var e;return(e=kt(ci))!==null&&e!==void 0?e:UW},ik=()=>kt(No),ak=()=>kt(Co),VW=()=>kt(e=>e.layout.margin),On=e=>e.layout.layoutType,om=()=>kt(On),WW=()=>{var e=om();return e!==void 0},$0=e=>{var t=Kn(),n=ca(),{width:r,height:i}=e,a=rk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),x.useEffect(()=>{!n&&Fs(s)&&Fs(o)&&t(tW({width:s,height:o}))},[t,n,s,o]),null},CI=Symbol.for("immer-nothing"),qC=Symbol.for("immer-draftable"),ja=Symbol.for("immer-state");function ss(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ef=Object.getPrototypeOf;function Lu(e){return!!e&&!!e[ja]}function gc(e){var t;return e?jI(e)||Array.isArray(e)||!!e[qC]||!!((t=e.constructor)!=null&&t[qC])||lm(e)||R0(e):!1}var HW=Object.prototype.constructor.toString(),KC=new WeakMap;function jI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=KC.get(n);return r===void 0&&(r=Function.toString.call(n),KC.set(n,r)),r===HW}function rg(e,t,n=!0){F0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function F0(e){const t=e[ja];return t?t.type_:Array.isArray(e)?1:lm(e)?2:R0(e)?3:0}function yb(e,t){return F0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PI(e,t,n){const r=F0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function qW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lm(e){return e instanceof Map}function R0(e){return e instanceof Set}function Fl(e){return e.copy_||e.base_}function bb(e,t){if(lm(e))return new Map(e);if(R0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=jI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ja];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Ef(e),r)}else{const r=Ef(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function sk(e,t=!1){return B0(e)||Lu(e)||!gc(e)||(F0(e)>1&&Object.defineProperties(e,{set:Nh,add:Nh,clear:Nh,delete:Nh}),Object.freeze(e),t&&Object.values(e).forEach(n=>sk(n,!0))),e}function KW(){ss(2)}var Nh={value:KW};function B0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var GW={};function vc(e){const t=GW[e];return t||ss(0,e),t}var Df;function AI(){return Df}function YW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GC(e,t){t&&(vc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wb(e){kb(e),e.drafts_.forEach(XW),e.drafts_=null}function kb(e){e===Df&&(Df=e.parent_)}function YC(e){return Df=YW(Df,e)}function XW(e){const t=e[ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function XC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ja].modified_&&(wb(t),ss(4)),gc(e)&&(e=ig(t,e),t.parent_||ag(t,e)),t.patches_&&vc("Patches").generateReplacementPatches_(n[ja].base_,e,t.patches_,t.inversePatches_)):e=ig(t,n,[]),wb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CI?e:void 0}function ig(e,t,n){if(B0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ja];if(!i)return rg(t,(a,s)=>ZC(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ag(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),rg(s,(l,c)=>ZC(e,i,a,l,c,n,o),r),ag(e,a,!1),n&&e.patches_&&vc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function ZC(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=B0(i);if(!(o&&!s)){if(Lu(i)){const l=a&&t&&t.type_!==3&&!yb(t.assigned_,r)?a.concat(r):void 0,c=ig(e,i,l);if(PI(n,r,c),Lu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(gc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;ig(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(lm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ag(e,i)}}}function ag(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sk(t,n)}function ZW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:AI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=ok;n&&(i=[r],a=Mf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var ok={get(e,t){if(t===ja)return e;const n=Fl(e);if(!yb(n,t))return QW(e,n,t);const r=n[t];return e.finalized_||!gc(r)?r:r===cx(e.base_,t)?(ux(e),e.copy_[t]=Nb(r,e)):r},has(e,t){return t in Fl(e)},ownKeys(e){return Reflect.ownKeys(Fl(e))},set(e,t,n){const r=TI(Fl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cx(Fl(e),t),a=i==null?void 0:i[ja];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(qW(n,i)&&(n!==void 0||yb(e.base_,t)))return!0;ux(e),Sb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ux(e),Sb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ss(11)},getPrototypeOf(e){return Ef(e.base_)},setPrototypeOf(){ss(12)}},Mf={};rg(ok,(e,t)=>{Mf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mf.deleteProperty=function(e,t){return Mf.set.call(this,e,t,void 0)};Mf.set=function(e,t,n){return ok.set.call(this,e[0],t,n,e[0])};function cx(e,t){const n=e[ja];return(n?Fl(n):e)[t]}function QW(e,t,n){var i;const r=TI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function TI(e,t){if(!(t in e))return;let n=Ef(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ef(n)}}function Sb(e){e.modified_||(e.modified_=!0,e.parent_&&Sb(e.parent_))}function ux(e){e.copy_||(e.copy_=bb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&ss(6),r!==void 0&&typeof r!="function"&&ss(7);let i;if(gc(t)){const a=YC(this),s=Nb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?wb(a):kb(a)}return GC(a,r),XC(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===CI&&(i=void 0),this.autoFreeze_&&sk(i,!0),r){const a=[],s=[];vc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else ss(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){gc(e)||ss(8),Lu(e)&&(e=eH(e));const t=YC(this),n=Nb(e,void 0);return n[ja].isManual_=!0,kb(t),n}finishDraft(e,t){const n=e&&e[ja];(!n||!n.isManual_)&&ss(9);const{scope_:r}=n;return GC(r,t),XC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=vc("Patches").applyPatches_;return Lu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Nb(e,t){const n=lm(e)?vc("MapSet").proxyMap_(e,t):R0(e)?vc("MapSet").proxySet_(e,t):ZW(e,t);return(t?t.scope_:AI()).drafts_.push(n),n}function eH(e){return Lu(e)||ss(10,e),EI(e)}function EI(e){if(!gc(e)||B0(e))return e;const t=e[ja];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=bb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=bb(e,!0);return rg(n,(i,a)=>{PI(n,i,EI(a))},r),t&&(t.finalized_=!1),n}var tH=new JW;tH.produce;var nH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DI=la({name:"legend",initialState:nH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=us(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:lr()},removeLegendPayload:{reducer(e,t){var n=us(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:lr()}}}),{setLegendSize:QC,setLegendSettings:rH,addLegendPayload:MI,replaceLegendPayload:OI,removeLegendPayload:II}=DI.actions,iH=DI.reducer,aH=["contextPayload"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){sH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sH(e,t,n){return(t=oH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cH(e,t){if(e==null)return{};var n,r,i=uH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dH(e){return e.value}function fH(e){var{contextPayload:t}=e,n=cH(e,aH),r=k5(t,e.payloadUniqBy,dH),i=$u($u({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(yV,i)}function mH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),$u($u({},c),d)}function hH(e){var t=Kn();return x.useEffect(()=>{t(rH(e))},[t,e]),null}function pH(e){var t=Kn();return x.useEffect(()=>(t(QC(e)),()=>{t(QC({width:0,height:0}))}),[t,e]),null}function gH(e,t,n,r){return e==="vertical"&&Ct(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var vH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _I(e){var t=Qr(e,vH),n=r9(),r=m8(),i=VW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=I5([n]),f=ik(),h=ak();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=gH(t.layout,s,a,m),g=l?o:$u($u({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},mH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},x.createElement(hH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(pH,{width:c.width,height:c.height}),x.createElement(fH,Cb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Yu.createPortal(v,y)}_I.displayName="Legend";function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(null,arguments)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=yH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wH(e){return Array.isArray(e)&&$s(e[0])&&$s(e[1])?e.join(" ~ "):e}var kH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?w0(a,o):a).map((P,D)=>{if(P.type==="none")return null;var _=P.formatter||s||wH,{value:T,name:F}=P,M=T,ee=F;if(_){var te=_(T,F,P,D,a);if(Array.isArray(te))[M,ee]=te;else if(te!=null)M=te;else return null}var le=dx({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:le},$s(ee)?x.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,$s(ee)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},M),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=dx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=dx({margin:0},i),y=!Zr(d),v=y?d:"",b=Sn("recharts-default-tooltip",l),w=Sn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",jb({className:b,style:p},S),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),m())},bd="recharts-tooltip-wrapper",SH={visibility:"hidden"};function NH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Sn(bd,{["".concat(bd,"-right")]:Ct(n)&&t&&Ct(t.x)&&n>=t.x,["".concat(bd,"-left")]:Ct(n)&&t&&Ct(t.x)&&n<t.x,["".concat(bd,"-bottom")]:Ct(r)&&t&&Ct(t.y)&&r>=t.y,["".concat(bd,"-top")]:Ct(r)&&t&&Ct(t.y)&&r<t.y})}function tj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Ct(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function CH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function jH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=tj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=tj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=CH({translateX:d,translateY:f,useTranslate3d:o})):c=SH,{cssProperties:c,cssClasses:NH({translateX:d,translateY:f,coordinate:n})}}function nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(n),!0).forEach(function(r){Pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pb(e,t,n){return(t=PH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TH extends x.PureComponent{constructor(){super(...arguments),Pb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=jH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),S=v?{}:Ch(Ch({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Ch(Ch({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var LI=()=>{var e;return(e=kt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){EH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EH(e,t,n){return(t=DH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aj={curveBasisClosed:M8,curveBasisOpen:O8,curveBasis:D8,curveBumpX:v8,curveBumpY:x8,curveLinearClosed:I8,curveLinear:m0,curveMonotoneX:_8,curveMonotoneY:L8,curveNatural:$8,curveStep:F8,curveStepAfter:B8,curveStepBefore:R8},sg=e=>Wr(e.x)&&Wr(e.y),sj=e=>e.base!=null&&sg(e.base)&&sg(e),wd=e=>e.x,kd=e=>e.y,OH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(nm(e));return(n==="curveMonotone"||n==="curveBump")&&t?aj["".concat(n).concat(t==="vertical"?"Y":"X")]:aj[n]||m0},IH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=OH(t,i),o=a?n.filter(sg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>ij(ij({},m),{},{base:r[p]}));i==="vertical"?l=vh().y(kd).x1(wd).x0(m=>m.base.x):l=vh().x(wd).y1(kd).y0(m=>m.base.y);var d=l.defined(sj).curve(s),f=a?c.filter(sj):c;return d(f)}i==="vertical"&&Ct(r)?l=vh().y(kd).x1(wd).x0(r):Ct(r)?l=vh().x(wd).y1(kd).y0(r):l=zO().x(wd).y(kd);var h=l.defined(sg).curve(s);return h(o)},lk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=om();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?IH(s):r;return x.createElement("path",Ab({},Ga(e),F1(e),{className:Sn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},_H=["x","y","top","left","width","height","className"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){$H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $H(e,t,n){return(t=FH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BH(e,t){if(e==null)return{};var n,r,i=zH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),VH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=BH(e,_H),c=LH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Ct(t)||!Ct(n)||!Ct(a)||!Ct(s)||!Ct(r)||!Ct(i)?null:x.createElement("path",Tb({},Ui(c),{className:Sn("recharts-cross",o),d:UH(t,n,a,s,r,i)}))};function WH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){HH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$I=(e,t,n)=>e.map(r=>"".concat(GH(r)," ").concat(t,"ms ").concat(n)).join(","),YH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Of=(e,t)=>Object.keys(t).reduce((n,r)=>cj(cj({},n),{},{[r]:e(r,t[r])}),{});function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){XH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XH(e,t,n){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var og=(e,t,n)=>e+(t-e)*n,Eb=e=>{var{from:t,to:n}=e;return t!==n},FI=(e,t,n)=>{var r=Of((i,a)=>{if(Eb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Yr(Yr({},a),{},{from:s,velocity:o})}return a},t);return n<1?Of((i,a)=>Eb(a)&&r[i]!=null?Yr(Yr({},a),{},{velocity:og(a.velocity,r[i].velocity,n),from:og(a.from,r[i].from,n)}):a,t):FI(e,r,n-1)};function JH(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Yr(Yr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Of((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Eb).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=FI(n,o,p),i(Yr(Yr(Yr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function e7(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Yr(Yr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=Of((g,y)=>og(...y,n(h)),l);if(a(Yr(Yr(Yr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Of((g,y)=>og(...y,n(1)),l);a(Yr(Yr(Yr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const t7=(e,t,n,r,i,a)=>{var s=YH(e,t);return n==null?()=>(i(Yr(Yr({},e),t)),()=>{}):n.isStepper===!0?JH(e,t,n,s,i,a):e7(e,t,n,r,s,i,a)};var lg=1e-4,RI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],BI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),dj=(e,t)=>n=>{var r=RI(e,t);return BI(r,n)},n7=(e,t)=>n=>{var r=RI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return BI(i,n)},r7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},i7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=r7(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},a7=(e,t,n,r)=>{var i=dj(e,n),a=dj(t,r),s=n7(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<lg||p<lg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},fj=function(){return a7(...i7(...arguments))},s7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<lg&&Math.abs(f)<lg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},o7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fj(e);case"spring":return s7();default:if(e.split("(")[0]==="cubic-bezier")return fj(e)}return typeof e=="function"?e:null};function l7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class c7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function u7(){return l7(new c7)}var d7=x.createContext(u7);function f7(e,t){var n=x.useContext(d7);return x.useMemo(()=>t??n(e),[e,t,n])}var m7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),z0={isSsr:m7()},h7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mj={t:0},fx={t:1};function U0(e){var t=Qr(e,h7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!z0.isSsr:n,f=f7(t.animationId,t.animationManager),[h,m]=x.useState(d?mj:fx),p=x.useRef(null);return x.useEffect(()=>{d||m(fx)},[d]),x.useEffect(()=>{if(!d||!r)return rm;var g=t7(mj,fx,o7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function V0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(jf(t)),r=x.useRef(e);return r.current!==e&&(n.current=jf(t),r.current=e),n.current}var p7=["radius"],g7=["radius"],hj,pj,gj,vj,xj,yj,bj,wj,kj,Sj;function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){v7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cg.apply(null,arguments)}function jj(e,t){if(e==null)return{};var n,r,i=b7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ns(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Pj=(e,t,n,r,i)=>{var a=Yo(n),s=Yo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=jr(hj||(hj=Ns(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=jr(pj||(pj=Ns(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=jr(gj||(gj=Ns(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=jr(vj||(vj=Ns(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=jr(xj||(xj=Ns(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=jr(yj||(yj=Ns(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=jr(bj||(bj=Ns(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=jr(wj||(wj=Ns(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=jr(kj||(kj=Ns(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=jr(Sj||(Sj=Ns(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Aj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zI=e=>{var t=Qr(e,Aj),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=x.useRef(o),v=x.useRef(l),b=x.useRef(a),w=x.useRef(s),S=x.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=V0(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Sn("recharts-rectangle",d);if(!g){var P=Ui(t),{radius:D}=P,_=jj(P,p7);return x.createElement("path",cg({},_,{x:Yo(a),y:Yo(s),width:Yo(o),height:Yo(l),radius:typeof c=="number"?c:void 0,className:N,d:Pj(a,s,o,l,c)}))}var T=y.current,F=v.current,M=b.current,ee=w.current,te="0px ".concat(r===-1?1:r,"px"),le="".concat(r,"px 0px"),ue=$I(["strokeDasharray"],h,typeof f=="string"?f:Aj.animationEasing);return x.createElement(U0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},J=>{var Y=Ti(T,o,J),I=Ti(F,l,J),A=Ti(M,a,J),j=Ti(ee,s,J);n.current&&(y.current=Y,v.current=I,b.current=A,w.current=j);var W;p?J>0?W={transition:ue,strokeDasharray:le}:W={strokeDasharray:te}:W={strokeDasharray:le};var k=Ui(t),{radius:O}=k,re=jj(k,g7);return x.createElement("path",cg({},re,{radius:typeof c=="number"?c:void 0,className:N,d:Pj(A,j,Y,I,c),ref:n,style:Cj(Cj({},W),t.style)}))})};function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ej(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){w7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ug=Math.PI/180,N7=e=>e*180/Math.PI,Ur=(e,t,n,r)=>({x:e+Math.cos(-ug*r)*n,y:t+Math.sin(-ug*r)*n}),UI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},C7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},j7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=C7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:N7(l),angleInRadian:l}},P7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},A7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},T7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=j7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=P7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Ej(Ej({},t),{},{radius:i,angle:A7(d,t)}):null};function VI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Ur(t,n,r,i),o=Ur(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Dj,Mj,Oj,Ij,_j,Lj,$j;function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function Gl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E7=(e,t)=>{var n=Ei(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/ug,f=l?i:i+a*d,h=Ur(t,n,c,f),m=Ur(t,n,r,f),p=l?i-a*d:i,g=Ur(t,n,c*Math.cos(d*ug),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},WI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=E7(a,s),l=a+o,c=Ur(t,n,i,a),d=Ur(t,n,i,l),f=jr(Dj||(Dj=Gl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Ur(t,n,r,a),m=Ur(t,n,r,l);f+=jr(Mj||(Mj=Gl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=jr(Oj||(Oj=Gl(["L ",","," Z"])),t,n);return f},D7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Ei(c-l),{circleTangency:f,lineTangency:h,theta:m}=jh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=jh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(v<0)return s?jr(Ij||(Ij=Gl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):WI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=jr(_j||(_j=Gl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(v>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=jh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:P,theta:D}=jh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(l-c):Math.abs(l-c)-C-D;if(_<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=jr(Lj||(Lj=Gl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(d<0),N.x,N.y,r,r,+(_>180),+(d>0),w.x,w.y,a,a,+(d<0),S.x,S.y)}else b+=jr($j||($j=Gl(["L",",","Z"])),t,n);return b},M7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HI=e=>{var t=Qr(e,M7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Sn("recharts-sector",f),m=a-i,p=ka(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=D7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=WI({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),x.createElement("path",Db({},Ui(t),{className:h,d:g}))};function O7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(r5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Ur(r,i,a,o),c=Ur(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return VI(t)}}var qI={},KI={},GI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(GI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(KI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1,n=KI;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(qI);var I7=qI.range;const YI=vs(I7);function al(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ck(e){let t,n,r;e.length!==2?(t=al,n=(o,l)=>al(e(o),l),r=(o,l)=>e(o)-l):(t=e===al||e===_7?e:L7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function L7(){return 0}function XI(e){return e===null?NaN:+e}function*$7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const F7=ck(al),cm=F7.right;ck(XI).center;class Fj extends Map{constructor(t,n=z7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Rj(this,t))}has(t){return super.has(Rj(this,t))}set(t,n){return super.set(R7(this,t),n)}delete(t){return super.delete(B7(this,t))}}function Rj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function R7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function B7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function z7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function U7(e=al){if(e===al)return ZI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ZI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V7=Math.sqrt(50),W7=Math.sqrt(10),H7=Math.sqrt(2);function dg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=V7?10:a>=W7?5:a>=H7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?dg(e,t,n*2):[o,l,c]}function Mb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?dg(t,e,n):dg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Ob(e,t,n){return t=+t,e=+e,n=+n,dg(e,t,n)[2]}function Ib(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ob(t,e,n):Ob(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Bj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function QI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ZI:U7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));QI(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Sd(e,n,t),i(e[r],a)>0&&Sd(e,n,r);s<o;){for(Sd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Sd(e,n,o):(++o,Sd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Sd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function q7(e,t,n){if(e=Float64Array.from($7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zj(e);if(t>=1)return Bj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Bj(QI(e,a).subarray(0,a+1)),o=zj(e.subarray(a+1));return s+(o-s)*(i-a)}}function K7(e,t,n=XI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function G7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Za(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _b=Symbol("implicit");function uk(){var e=new Fj,t=[],n=[],r=_b;function i(a){let s=e.get(a);if(s===void 0){if(r!==_b)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Fj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uk(t,n).unknown(r)},Za.apply(i,arguments),i}function dk(){var e=uk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=G7(h).map(function(v){return p+a*v});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return dk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Za.apply(f(),arguments)}function JI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JI(t())},e}function Y7(){return JI(dk.apply(null,arguments).paddingInner(1))}function fk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function um(){}var If=.7,fg=1/If,ku="\\s*([+-]?\\d+)\\s*",_f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X7=/^#([0-9a-f]{3,8})$/,Z7=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),Q7=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),J7=new RegExp(`^rgba\\(${ku},${ku},${ku},${_f}\\)$`),eq=new RegExp(`^rgba\\(${Is},${Is},${Is},${_f}\\)$`),tq=new RegExp(`^hsl\\(${_f},${Is},${Is}\\)$`),nq=new RegExp(`^hsla\\(${_f},${Is},${Is},${_f}\\)$`),Uj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fk(um,Lf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vj,formatHex:Vj,formatHex8:rq,formatHsl:iq,formatRgb:Wj,toString:Wj});function Vj(){return this.rgb().formatHex()}function rq(){return this.rgb().formatHex8()}function iq(){return t_(this).formatHsl()}function Wj(){return this.rgb().formatRgb()}function Lf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=X7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hj(t):n===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ph(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ph(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z7.exec(e))?new ta(t[1],t[2],t[3],1):(t=Q7.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=J7.exec(e))?Ph(t[1],t[2],t[3],t[4]):(t=eq.exec(e))?Ph(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tq.exec(e))?Gj(t[1],t[2]/100,t[3]/100,1):(t=nq.exec(e))?Gj(t[1],t[2]/100,t[3]/100,t[4]):Uj.hasOwnProperty(e)?Hj(Uj[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function Hj(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function Ph(e,t,n,r){return r<=0&&(e=t=n=NaN),new ta(e,t,n,r)}function aq(e){return e instanceof um||(e=Lf(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function Lb(e,t,n,r){return arguments.length===1?aq(e):new ta(e,t,n,r??1)}function ta(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fk(ta,Lb,e_(um,{brighter(e){return e=e==null?fg:Math.pow(fg,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(ic(this.r),ic(this.g),ic(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qj,formatHex:qj,formatHex8:sq,formatRgb:Kj,toString:Kj}));function qj(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}`}function sq(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}${Yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kj(){const e=mg(this.opacity);return`${e===1?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${e===1?")":`, ${e})`}`}function mg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ic(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yl(e){return e=ic(e),(e<16?"0":"")+e.toString(16)}function Gj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new os(e,t,n,r)}function t_(e){if(e instanceof os)return new os(e.h,e.s,e.l,e.opacity);if(e instanceof um||(e=Lf(e)),!e)return new os;if(e instanceof os)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new os(s,o,l,e.opacity)}function oq(e,t,n,r){return arguments.length===1?t_(e):new os(e,t,n,r??1)}function os(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fk(os,oq,e_(um,{brighter(e){return e=e==null?fg:Math.pow(fg,e),new os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ta(mx(e>=240?e-240:e+120,i,r),mx(e,i,r),mx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new os(Yj(this.h),Ah(this.s),Ah(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mg(this.opacity);return`${e===1?"hsl(":"hsla("}${Yj(this.h)}, ${Ah(this.s)*100}%, ${Ah(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yj(e){return e=(e||0)%360,e<0?e+360:e}function Ah(e){return Math.max(0,Math.min(1,e||0))}function mx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mk=e=>()=>e;function lq(e,t){return function(n){return e+n*t}}function cq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function uq(e){return(e=+e)==1?n_:function(t,n){return n-t?cq(t,n,e):mk(isNaN(t)?n:t)}}function n_(e,t){var n=t-e;return n?lq(e,n):mk(isNaN(e)?t:e)}const Xj=function e(t){var n=uq(t);function r(i,a){var s=n((i=Lb(i)).r,(a=Lb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=n_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function dq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function fq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Xu(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function hq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function hg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xu(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var $b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hx=new RegExp($b.source,"g");function gq(e){return function(){return e}}function vq(e){return function(t){return e(t)+""}}function xq(e,t){var n=$b.lastIndex=hx.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=$b.exec(e))&&(i=hx.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:hg(r,i)})),n=hx.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?vq(l[0].x):gq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function Xu(e,t){var n=typeof t,r;return t==null||n==="boolean"?mk(t):(n==="number"?hg:n==="string"?(r=Lf(t))?(t=r,Xj):xq:t instanceof Lf?Xj:t instanceof Date?hq:fq(t)?dq:Array.isArray(t)?mq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pq:hg)(e,t)}function hk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yq(e,t){t===void 0&&(t=e,e=Xu);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function bq(e){return function(){return e}}function pg(e){return+e}var Zj=[0,1];function Bi(e){return e}function Fb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:bq(isNaN(t)?NaN:.5)}function wq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Fb(i,r),a=n(s,a)):(r=Fb(r,i),a=n(a,s)),function(o){return a(r(o))}}function Sq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Fb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=cm(e,o,1,r)-1;return a[l](i[l](o))}}function dm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W0(){var e=Zj,t=Zj,n=Xu,r,i,a,s=Bi,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Bi&&(s=wq(e[0],e[h-1])),o=h>2?Sq:kq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),hg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,pg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=hk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Bi,d()):s!==Bi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function pk(){return W0()(Bi,Bi)}function Nq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fu(e){return e=gg(Math.abs(e)),e?e[1]:NaN}function Cq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function jq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Pq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=Pq.exec(e)))throw new Error("invalid format: "+e);var t;return new gk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=gk.prototype;function gk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var vg;function Tq(e,t){var n=gg(e,t);if(!n)return vg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(vg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gg(e,Math.max(0,t+a-1))[0]}function Qj(e,t){var n=gg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Nq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qj(e*100,t),r:Qj,s:Tq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eP(e){return e}var tP=Array.prototype.map,nP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eq(e){var t=e.grouping===void 0||e.thousands===void 0?eP:Cq(tP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?eP:jq(tP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=$f(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):Jj[N]||(S===void 0&&(S=12),C=!0,N="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var P=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),D=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),_=Jj[N],T=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function F(M){var ee=P,te=D,le,ue,J;if(N==="c")te=_(M)+te,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?l:_(Math.abs(M),S),C&&(M=Aq(M)),Y&&+M==0&&g!=="+"&&(Y=!1),ee=(Y?g==="("?g:o:g==="-"||g==="("?"":g)+ee,te=(N==="s"&&!isNaN(M)&&vg!==void 0?nP[8+vg/3]:"")+te+(Y&&g==="("?")":""),T){for(le=-1,ue=M.length;++le<ue;)if(J=M.charCodeAt(le),48>J||J>57){te=(J===46?i+M.slice(le+1):M.slice(le))+te,M=M.slice(0,le);break}}}w&&!v&&(M=t(M,1/0));var I=ee.length+M.length+te.length,A=I<b?new Array(b-I+1).join(m):"";switch(w&&v&&(M=t(A+M,A.length?b-te.length:1/0),A=""),p){case"<":M=ee+M+te+A;break;case"=":M=ee+A+M+te;break;case"^":M=A.slice(0,I=A.length>>1)+ee+M+te+A.slice(I);break;default:M=A+ee+M+te;break}return a(M)}return F.toString=function(){return f+""},F}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Fu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=$f(f),f.type="f",f),{suffix:nP[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Th,vk,r_;Dq({thousands:",",grouping:[3],currency:["$",""]});function Dq(e){return Th=Eq(e),vk=Th.format,r_=Th.formatPrefix,Th}function Mq(e){return Math.max(0,-Fu(Math.abs(e)))}function Oq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fu(t)/3)))*3-Fu(Math.abs(e)))}function Iq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fu(t)-Fu(e))+1}function i_(e,t,n,r){var i=Ib(e,t,n),a;switch(r=$f(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Oq(i,s))&&(r.precision=a),r_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Iq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Mq(i))&&(r.precision=a-(r.type==="%")*2);break}}return vk(r)}function vl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return i_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Ob(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function a_(){var e=pk();return e.copy=function(){return dm(e,a_())},Za.apply(e,arguments),vl(e)}function s_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,pg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return s_(e).unknown(t)},e=arguments.length?Array.from(e,pg):[0,1],vl(n)}function o_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function rP(e){return Math.log(e)}function iP(e){return Math.exp(e)}function _q(e){return-Math.log(-e)}function Lq(e){return-Math.exp(-e)}function $q(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fq(e){return e===10?$q:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Rq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aP(e){return(t,n)=>-e(-t,n)}function xk(e){const t=e(rP,iP),n=t.domain;let r=10,i,a;function s(){return i=Rq(r),a=Fq(r),n()[0]<0?(i=aP(i),a=aP(a),e(_q,Lq)):e(rP,iP),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;v.push(g)}v.length*2<y&&(v=Mb(c,d,y))}else v=Mb(h,m,Math.min(m-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=vk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(o_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function l_(){const e=xk(W0()).domain([1,10]);return e.copy=()=>dm(e,l_()).base(e.base()),Za.apply(e,arguments),e}function sP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yk(e){var t=1,n=e(sP(t),oP(t));return n.constant=function(r){return arguments.length?e(sP(t=+r),oP(t)):t},vl(n)}function c_(){var e=yk(W0());return e.copy=function(){return dm(e,c_()).constant(e.constant())},Za.apply(e,arguments)}function lP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zq(e){return e<0?-e*e:e*e}function bk(e){var t=e(Bi,Bi),n=1;function r(){return n===1?e(Bi,Bi):n===.5?e(Bq,zq):e(lP(n),lP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},vl(t)}function wk(){var e=bk(W0());return e.copy=function(){return dm(e,wk()).exponent(e.exponent())},Za.apply(e,arguments),e}function Uq(){return wk.apply(null,arguments).exponent(.5)}function cP(e){return Math.sign(e)*e*e}function Vq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u_(){var e=pk(),t=[0,1],n=!1,r;function i(a){var s=Vq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(cP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,pg)).map(cP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return u_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Za.apply(i,arguments),vl(i)}function d_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=K7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[cm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(al),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return d_().domain(e).range(t).unknown(r)},Za.apply(a,arguments)}function f_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[cm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return f_().domain([e,t]).range(i).unknown(a)},Za.apply(vl(s),arguments)}function m_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[cm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return m_().domain(e).range(t).unknown(n)},Za.apply(i,arguments)}const px=new Date,gx=new Date;function Jr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Jr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(px.setTime(+a),gx.setTime(+s),e(px),e(gx),Math.floor(n(px,gx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const xg=Jr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):xg);xg.range;const ro=1e3,Wa=ro*60,io=Wa*60,xo=io*24,kk=xo*7,uP=xo*30,vx=xo*365,Xl=Jr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ro)},(e,t)=>(t-e)/ro,e=>e.getUTCSeconds());Xl.range;const Sk=Jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ro)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getMinutes());Sk.range;const Nk=Jr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCMinutes());Nk.range;const Ck=Jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ro-e.getMinutes()*Wa)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getHours());Ck.range;const jk=Jr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCHours());jk.range;const fm=Jr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wa)/xo,e=>e.getDate()-1);fm.range;const H0=Jr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>e.getUTCDate()-1);H0.range;const h_=Jr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>Math.floor(e/xo));h_.range;function Cc(e){return Jr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/kk)}const q0=Cc(0),yg=Cc(1),Wq=Cc(2),Hq=Cc(3),Ru=Cc(4),qq=Cc(5),Kq=Cc(6);q0.range;yg.range;Wq.range;Hq.range;Ru.range;qq.range;Kq.range;function jc(e){return Jr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kk)}const K0=jc(0),bg=jc(1),Gq=jc(2),Yq=jc(3),Bu=jc(4),Xq=jc(5),Zq=jc(6);K0.range;bg.range;Gq.range;Yq.range;Bu.range;Xq.range;Zq.range;const Pk=Jr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pk.range;const Ak=Jr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ak.range;const yo=Jr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yo.range;const bo=Jr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bo.range;function p_(e,t,n,r,i,a){const s=[[Xl,1,ro],[Xl,5,5*ro],[Xl,15,15*ro],[Xl,30,30*ro],[a,1,Wa],[a,5,5*Wa],[a,15,15*Wa],[a,30,30*Wa],[i,1,io],[i,3,3*io],[i,6,6*io],[i,12,12*io],[r,1,xo],[r,2,2*xo],[n,1,kk],[t,1,uP],[t,3,3*uP],[e,1,vx]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=ck(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Ib(c/vx,d/vx,f));if(m===0)return xg.every(Math.max(Ib(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[Qq,Jq]=p_(bo,Ak,K0,h_,jk,Nk),[eK,tK]=p_(yo,Pk,q0,fm,Ck,Sk);function xx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Cd(i),d=jd(i),f=Cd(a),h=jd(a),m=Cd(s),p=jd(s),g=Cd(o),y=jd(o),v=Cd(l),b=jd(l),w={a:J,A:Y,b:I,B:A,c:null,d:gP,e:gP,f:CK,g:_K,G:$K,H:kK,I:SK,j:NK,L:g_,m:jK,M:PK,p:j,q:W,Q:yP,s:bP,S:AK,u:TK,U:EK,V:DK,w:MK,W:OK,x:null,X:null,y:IK,Y:LK,Z:FK,"%":xP},S={a:k,A:O,b:re,B:X,c:null,d:vP,e:vP,f:UK,g:QK,G:eG,H:RK,I:BK,j:zK,L:x_,m:VK,M:WK,p:z,q:Z,Q:yP,s:bP,S:HK,u:qK,U:KK,V:GK,w:YK,W:XK,x:null,X:null,y:ZK,Y:JK,Z:tG,"%":xP},C={a:T,A:F,b:M,B:ee,c:te,d:hP,e:hP,f:xK,g:mP,G:fP,H:pP,I:pP,j:hK,L:vK,m:mK,M:pK,p:_,q:fK,Q:bK,s:wK,S:gK,u:oK,U:lK,V:cK,w:sK,W:uK,x:le,X:ue,y:mP,Y:fP,Z:dK,"%":yK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N($,G){return function(ae){var ne=[],U=-1,B=0,L=$.length,Q,we,Re;for(ae instanceof Date||(ae=new Date(+ae));++U<L;)$.charCodeAt(U)===37&&(ne.push($.slice(B,U)),(we=dP[Q=$.charAt(++U)])!=null?Q=$.charAt(++U):we=Q==="e"?" ":"0",(Re=G[Q])&&(Q=Re(ae,we)),ne.push(Q),B=U+1);return ne.push($.slice(B,U)),ne.join("")}}function P($,G){return function(ae){var ne=Nd(1900,void 0,1),U=D(ne,$,ae+="",0),B,L;if(U!=ae.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(G&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(B=yx(Nd(ne.y,0,1)),L=B.getUTCDay(),B=L>4||L===0?bg.ceil(B):bg(B),B=H0.offset(B,(ne.V-1)*7),ne.y=B.getUTCFullYear(),ne.m=B.getUTCMonth(),ne.d=B.getUTCDate()+(ne.w+6)%7):(B=xx(Nd(ne.y,0,1)),L=B.getDay(),B=L>4||L===0?yg.ceil(B):yg(B),B=fm.offset(B,(ne.V-1)*7),ne.y=B.getFullYear(),ne.m=B.getMonth(),ne.d=B.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),L="Z"in ne?yx(Nd(ne.y,0,1)).getUTCDay():xx(Nd(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(L+5)%7:ne.w+ne.U*7-(L+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,yx(ne)):xx(ne)}}function D($,G,ae,ne){for(var U=0,B=G.length,L=ae.length,Q,we;U<B;){if(ne>=L)return-1;if(Q=G.charCodeAt(U++),Q===37){if(Q=G.charAt(U++),we=C[Q in dP?G.charAt(U++):Q],!we||(ne=we($,ae,ne))<0)return-1}else if(Q!=ae.charCodeAt(ne++))return-1}return ne}function _($,G,ae){var ne=c.exec(G.slice(ae));return ne?($.p=d.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function T($,G,ae){var ne=m.exec(G.slice(ae));return ne?($.w=p.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function F($,G,ae){var ne=f.exec(G.slice(ae));return ne?($.w=h.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function M($,G,ae){var ne=v.exec(G.slice(ae));return ne?($.m=b.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function ee($,G,ae){var ne=g.exec(G.slice(ae));return ne?($.m=y.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function te($,G,ae){return D($,t,G,ae)}function le($,G,ae){return D($,n,G,ae)}function ue($,G,ae){return D($,r,G,ae)}function J($){return s[$.getDay()]}function Y($){return a[$.getDay()]}function I($){return l[$.getMonth()]}function A($){return o[$.getMonth()]}function j($){return i[+($.getHours()>=12)]}function W($){return 1+~~($.getMonth()/3)}function k($){return s[$.getUTCDay()]}function O($){return a[$.getUTCDay()]}function re($){return l[$.getUTCMonth()]}function X($){return o[$.getUTCMonth()]}function z($){return i[+($.getUTCHours()>=12)]}function Z($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var G=N($+="",w);return G.toString=function(){return $},G},parse:function($){var G=P($+="",!1);return G.toString=function(){return $},G},utcFormat:function($){var G=N($+="",S);return G.toString=function(){return $},G},utcParse:function($){var G=P($+="",!0);return G.toString=function(){return $},G}}}var dP={"-":"",_:" ",0:"0"},ui=/^\s*\d+/,rK=/^%/,iK=/[\\^$*+?|[\]().{}]/g;function wn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function aK(e){return e.replace(iK,"\\$&")}function Cd(e){return new RegExp("^(?:"+e.map(aK).join("|")+")","i")}function jd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sK(e,t,n){var r=ui.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=ui.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function fP(e,t,n){var r=ui.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mP(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fK(e,t,n){var r=ui.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function mK(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hP(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=ui.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pP(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=ui.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=ui.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=ui.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yK(e,t,n){var r=rK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bK(e,t,n){var r=ui.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wK(e,t,n){var r=ui.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function gP(e,t){return wn(e.getDate(),t,2)}function kK(e,t){return wn(e.getHours(),t,2)}function SK(e,t){return wn(e.getHours()%12||12,t,2)}function NK(e,t){return wn(1+fm.count(yo(e),e),t,3)}function g_(e,t){return wn(e.getMilliseconds(),t,3)}function CK(e,t){return g_(e,t)+"000"}function jK(e,t){return wn(e.getMonth()+1,t,2)}function PK(e,t){return wn(e.getMinutes(),t,2)}function AK(e,t){return wn(e.getSeconds(),t,2)}function TK(e){var t=e.getDay();return t===0?7:t}function EK(e,t){return wn(q0.count(yo(e)-1,e),t,2)}function v_(e){var t=e.getDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function DK(e,t){return e=v_(e),wn(Ru.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function MK(e){return e.getDay()}function OK(e,t){return wn(yg.count(yo(e)-1,e),t,2)}function IK(e,t){return wn(e.getFullYear()%100,t,2)}function _K(e,t){return e=v_(e),wn(e.getFullYear()%100,t,2)}function LK(e,t){return wn(e.getFullYear()%1e4,t,4)}function $K(e,t){var n=e.getDay();return e=n>=4||n===0?Ru(e):Ru.ceil(e),wn(e.getFullYear()%1e4,t,4)}function FK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function vP(e,t){return wn(e.getUTCDate(),t,2)}function RK(e,t){return wn(e.getUTCHours(),t,2)}function BK(e,t){return wn(e.getUTCHours()%12||12,t,2)}function zK(e,t){return wn(1+H0.count(bo(e),e),t,3)}function x_(e,t){return wn(e.getUTCMilliseconds(),t,3)}function UK(e,t){return x_(e,t)+"000"}function VK(e,t){return wn(e.getUTCMonth()+1,t,2)}function WK(e,t){return wn(e.getUTCMinutes(),t,2)}function HK(e,t){return wn(e.getUTCSeconds(),t,2)}function qK(e){var t=e.getUTCDay();return t===0?7:t}function KK(e,t){return wn(K0.count(bo(e)-1,e),t,2)}function y_(e){var t=e.getUTCDay();return t>=4||t===0?Bu(e):Bu.ceil(e)}function GK(e,t){return e=y_(e),wn(Bu.count(bo(e),e)+(bo(e).getUTCDay()===4),t,2)}function YK(e){return e.getUTCDay()}function XK(e,t){return wn(bg.count(bo(e)-1,e),t,2)}function ZK(e,t){return wn(e.getUTCFullYear()%100,t,2)}function QK(e,t){return e=y_(e),wn(e.getUTCFullYear()%100,t,2)}function JK(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function eG(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Bu(e):Bu.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function tG(){return"+0000"}function xP(){return"%"}function yP(e){return+e}function bP(e){return Math.floor(+e/1e3)}var Wc,b_,w_;nG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nG(e){return Wc=nK(e),b_=Wc.format,Wc.parse,w_=Wc.utcFormat,Wc.utcParse,Wc}function rG(e){return new Date(e)}function iG(e){return e instanceof Date?+e:+new Date(+e)}function Tk(e,t,n,r,i,a,s,o,l,c){var d=pk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?v:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,iG)):h().map(rG)},d.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?C:c(P)},d.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(o_(P,N)):d},d.copy=function(){return dm(d,Tk(e,t,n,r,i,a,s,o,l,c))},d}function aG(){return Za.apply(Tk(eK,tK,yo,Pk,q0,fm,Ck,Sk,Xl,b_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sG(){return Za.apply(Tk(Qq,Jq,bo,Ak,K0,H0,jk,Nk,Xl,w_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G0(){var e=0,t=1,n,r,i,a,s=Bi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(Xu),c.rangeRound=d(hk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k_(){var e=vl(G0()(Bi));return e.copy=function(){return xl(e,k_())},jo.apply(e,arguments)}function S_(){var e=xk(G0()).domain([1,10]);return e.copy=function(){return xl(e,S_()).base(e.base())},jo.apply(e,arguments)}function N_(){var e=yk(G0());return e.copy=function(){return xl(e,N_()).constant(e.constant())},jo.apply(e,arguments)}function Ek(){var e=bk(G0());return e.copy=function(){return xl(e,Ek()).exponent(e.exponent())},jo.apply(e,arguments)}function oG(){return Ek.apply(null,arguments).exponent(.5)}function C_(){var e=[],t=Bi;function n(r){if(r!=null&&!isNaN(r=+r))return t((cm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(al),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>q7(e,a/r))},n.copy=function(){return C_(t).domain(e)},jo.apply(n,arguments)}function Y0(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Bi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=yq(g,[v,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(Xu),m.rangeRound=p(hk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function j_(){var e=vl(Y0()(Bi));return e.copy=function(){return xl(e,j_())},jo.apply(e,arguments)}function P_(){var e=xk(Y0()).domain([.1,1,10]);return e.copy=function(){return xl(e,P_()).base(e.base())},jo.apply(e,arguments)}function A_(){var e=yk(Y0());return e.copy=function(){return xl(e,A_()).constant(e.constant())},jo.apply(e,arguments)}function Dk(){var e=bk(Y0());return e.copy=function(){return xl(e,Dk()).exponent(e.exponent())},jo.apply(e,arguments)}function lG(){return Dk.apply(null,arguments).exponent(.5)}const Fd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:dk,scaleDiverging:j_,scaleDivergingLog:P_,scaleDivergingPow:Dk,scaleDivergingSqrt:lG,scaleDivergingSymlog:A_,scaleIdentity:s_,scaleImplicit:_b,scaleLinear:a_,scaleLog:l_,scaleOrdinal:uk,scalePoint:Y7,scalePow:wk,scaleQuantile:d_,scaleQuantize:f_,scaleRadial:u_,scaleSequential:k_,scaleSequentialLog:S_,scaleSequentialPow:Ek,scaleSequentialQuantile:C_,scaleSequentialSqrt:oG,scaleSequentialSymlog:N_,scaleSqrt:Uq,scaleSymlog:c_,scaleThreshold:m_,scaleTime:aG,scaleUtc:sG,tickFormat:i_},Symbol.toStringTag,{value:"Module"}));var yl=e=>e.chartData,Mk=fe([yl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ok=(e,t,n,r)=>r?Mk(e):yl(e);function cl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Wr(t)&&Wr(n))return!0}return!1}function wP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function T_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Wr(n))i=n;else if(typeof n=="function")return;if(Wr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(cl(s))return s}}function cG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(cl(r))return wP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ct(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&BC.test(i)){var l=BC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Ct(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&zC.test(a)){var d=zC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(cl(h))return t==null?h:wP(h,t,n)}}}var Zu=1e9,uG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_k,ur=!0,Xa="[DecimalError] ",ac=Xa+"Invalid argument: ",Ik=Xa+"Exponent out of range: ",Qu=Math.floor,Rl=Math.pow,dG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa,si=1e7,er=7,E_=9007199254740991,wg=Qu(E_/er),ft={};ft.absoluteValue=ft.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ft.comparedTo=ft.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*er;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(e){return oo(this,new this.constructor(e))};ft.dividedToIntegerBy=ft.idiv=function(e){var t=this,n=t.constructor;return $n(oo(t,new n(e),0,1),n.precision)};ft.equals=ft.eq=function(e){return!this.cmp(e)};ft.exponent=function(){return Vr(this)};ft.greaterThan=ft.gt=function(e){return this.cmp(e)>0};ft.greaterThanOrEqualTo=ft.gte=function(e){return this.cmp(e)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(e){return this.cmp(e)<0};ft.lessThanOrEqualTo=ft.lte=function(e){return this.cmp(e)<1};ft.logarithm=ft.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(xa))throw Error(Xa+"NaN");if(n.s<1)throw Error(Xa+(n.s?"NaN":"-Infinity"));return n.eq(xa)?new r(0):(ur=!1,t=oo(Ff(n,a),Ff(e,a),a),ur=!0,$n(t,i))};ft.minus=ft.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O_(t,e):D_(t,(e.s=-e.s,e))};ft.modulo=ft.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Xa+"NaN");return n.s?(ur=!1,t=oo(n,e,0,1).times(e),ur=!0,n.minus(t)):$n(new r(n),i)};ft.naturalExponential=ft.exp=function(){return M_(this)};ft.naturalLogarithm=ft.ln=function(){return Ff(this)};ft.negated=ft.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ft.plus=ft.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D_(t,e):O_(t,(e.s=-e.s,e))};ft.precision=ft.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ac+e);if(t=Vr(i)+1,r=i.d.length-1,n=r*er+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ft.squareRoot=ft.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Xa+"NaN")}for(e=Vr(o),ur=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ds(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(oo(o,a,s+2)).times(.5),Ds(a.d).slice(0,s)===(t=Ds(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if($n(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return ur=!0,$n(r,n)};ft.times=ft.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%si|0,t=o/si|0;a[i]=(a[i]+t)%si|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ur?$n(e,f.precision):e};ft.toDecimalPlaces=ft.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Rs(e,0,Zu),t===void 0?t=r.rounding:Rs(t,0,8),$n(n,e+Vr(n)+1,t))};ft.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=xc(r,!0):(Rs(e,0,Zu),t===void 0?t=i.rounding:Rs(t,0,8),r=$n(new i(r),e+1,t),n=xc(r,!0,e+1)),n};ft.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?xc(i):(Rs(e,0,Zu),t===void 0?t=a.rounding:Rs(t,0,8),r=$n(new a(i),e+Vr(i)+1,t),n=xc(r.abs(),!1,e+Vr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var e=this,t=e.constructor;return $n(new t(e),Vr(e)+1,t.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(xa);if(o=new l(o),!o.s){if(e.s<1)throw Error(Xa+"Infinity");return o}if(o.eq(xa))return o;if(r=l.precision,e.eq(xa))return $n(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=E_){for(i=new l(xa),t=Math.ceil(r/er+4),ur=!1;n%2&&(i=i.times(o),SP(i.d,t)),n=Qu(n/2),n!==0;)o=o.times(o),SP(o.d,t);return ur=!0,e.s<0?new l(xa).div(i):$n(i,r)}}else if(a<0)throw Error(Xa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,ur=!1,i=e.times(Ff(o,r+c)),ur=!0,i=M_(i),i.s=a,i};ft.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Vr(i),r=xc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Rs(e,1,Zu),t===void 0?t=a.rounding:Rs(t,0,8),i=$n(new a(i),e,t),n=Vr(i),r=xc(i,e<=n||n<=a.toExpNeg,e)),r};ft.toSignificantDigits=ft.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Rs(e,1,Zu),t===void 0?t=r.rounding:Rs(t,0,8)),$n(new r(n),e,t)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vr(e),n=e.constructor;return xc(e,t<=n.toExpNeg||t>=n.toExpPos)};function D_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ur?$n(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/er),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/si|0,l[a]%=si;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ur?$n(t,f):t}function Rs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ac+e)}function Ds(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=er-r.length,n&&(a+=Bo(n)),a+=r;s=e[t],r=s+"",n=er-r.length,n&&(a+=Bo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var oo=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%si|0,s=a/si|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*si+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,v,b,w,S,C,N,P,D,_=r.constructor,T=r.s==i.s?1:-1,F=r.d,M=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Xa+"Division by zero");for(l=r.e-i.e,P=M.length,C=F.length,m=new _(T),p=m.d=[],c=0;M[c]==(F[c]||0);)++c;if(M[c]>(F[c]||0)&&--l,a==null?b=a=_.precision:s?b=a+(Vr(r)-Vr(i))+1:b=a,b<0)return new _(0);if(b=b/er+2|0,c=0,P==1)for(d=0,M=M[0],b++;(c<C||d)&&b--;c++)w=d*si+(F[c]||0),p[c]=w/M|0,d=w%M|0;else{for(d=si/(M[0]+1)|0,d>1&&(M=e(M,d),F=e(F,d),P=M.length,C=F.length),S=P,g=F.slice(0,P),y=g.length;y<P;)g[y++]=0;D=M.slice(),D.unshift(0),N=M[0],M[1]>=si/2&&++N;do d=0,o=t(M,g,P,y),o<0?(v=g[0],P!=y&&(v=v*si+(g[1]||0)),d=v/N|0,d>1?(d>=si&&(d=si-1),f=e(M,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,P<h?D:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(M,g,P,y),o<1&&(d++,n(g,P<y?D:M,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=F[S]||0:(g=[F[S]],y=1);while((S++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,$n(m,s?a+Vr(m)+1:a)}}();function M_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Vr(e)>16)throw Error(Ik+Vr(e));if(!e.s)return new d(xa);for(ur=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(Rl(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(xa),d.precision=o;;){if(i=$n(i.times(e),o),n=n.times(++l),s=a.plus(oo(i,n,o)),Ds(s.d).slice(0,o)===Ds(a.d).slice(0,o)){for(;c--;)a=$n(a.times(a),o);return d.precision=f,t==null?(ur=!0,$n(a,f)):a}a=s}}function Vr(e){for(var t=e.e*er,n=e.d[0];n>=10;n/=10)t++;return t}function bx(e,t,n){if(t>e.LN10.sd())throw ur=!0,n&&(e.precision=n),Error(Xa+"LN10 precision limit exceeded");return $n(new e(e.LN10),t)}function Bo(e){for(var t="";e--;)t+="0";return t}function Ff(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Xa+(m.s?"NaN":"-Infinity"));if(m.eq(xa))return new g(0);if(t==null?(ur=!1,c=y):c=t,m.eq(10))return t==null&&(ur=!0),bx(g,c);if(c+=h,g.precision=c,n=Ds(p),r=n.charAt(0),a=Vr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ds(m.d),r=n.charAt(0),f++;a=Vr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=bx(g,c+2,y).times(a+""),m=Ff(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(ur=!0,$n(m,y)):m;for(o=s=m=oo(m.minus(xa),m.plus(xa),c),d=$n(m.times(m),c),i=3;;){if(s=$n(s.times(d),c),l=o.plus(oo(s,new g(i),c)),Ds(l.d).slice(0,c)===Ds(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(bx(g,c+2,y).times(a+""))),o=oo(o,new g(f),c),g.precision=y,t==null?(ur=!0,$n(o,y)):o;o=l,i+=2}}function kP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Qu(n/er),e.d=[],r=(n+1)%er,n<0&&(r+=er),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=er;r<i;)e.d.push(+t.slice(r,r+=er));t=t.slice(r),r=er-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ur&&(e.e>wg||e.e<-wg))throw Error(Ik+n)}else e.s=0,e.e=0,e.d=[0];return e}function $n(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=er,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/er),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=er,i=r-er+s}if(n!==void 0&&(a=Rl(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Rl(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Vr(e),f.length=1,t=t-a-1,f[0]=Rl(10,(er-t%er)%er),e.e=Qu(-t/er)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Rl(10,er-r),f[d]=i>0?(c/Rl(10,s-i)%Rl(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==si&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=si)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ur&&(e.e>wg||e.e<-wg))throw Error(Ik+Vr(e));return e}function O_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ur?$n(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/er),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=si-1;--l[a],l[i]+=si}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ur?$n(t,m):t):new h(0)}function xc(e,t,n){var r,i=Vr(e),a=Ds(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Bo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Bo(-i-1)+a,n&&(r=n-s)>0&&(a+=Bo(r))):i>=s?(a+=Bo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Bo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Bo(r))),e.s<0?"-"+a:a}function SP(e,t){if(e.length>t)return e.length=t,!0}function I_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ac+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return kP(s,a.toString())}else if(typeof a!="string")throw Error(ac+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dG.test(a))kP(s,a);else throw Error(ac+a)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=I_,i.config=i.set=fG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function fG(e){if(!e||typeof e!="object")throw Error(Xa+"Object expected");var t,n,r,i=["precision",1,Zu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Qu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ac+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ac+n+": "+r);return this}var _k=I_(uG);xa=new _k(1);const An=_k;var mG=e=>e,__={},L_=e=>e===__,NP=e=>function t(){return arguments.length===0||arguments.length===1&&L_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$_=(e,t)=>e===1?t:NP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==__).length;return a>=e?t(...r):$_(e-a,NP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>L_(d)?o.shift():d);return t(...c,...o)}))}),hG=e=>$_(e.length,e),Rb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pG=hG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),gG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function F_(e){var t;return e===0?t=1:t=Math.floor(new An(e).abs().log(10).toNumber())+1,t}function R_(e,t,n){for(var r=new An(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var B_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},z_=(e,t,n)=>{if(e.lte(0))return new An(0);var r=F_(e.toNumber()),i=new An(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new An(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new An(l.toNumber()):new An(Math.ceil(l.toNumber()))},vG=(e,t,n)=>{var r=new An(1),i=new An(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new An(10).pow(F_(e)-1),i=new An(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new An(Math.floor(e)))}else e===0?i=new An(Math.floor((t-1)/2)):n||(i=new An(Math.floor(e)));var s=Math.floor((t-1)/2),o=gG(pG(l=>i.add(new An(l-s).mul(r)).toNumber()),Rb);return o(0,t)},U_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var s=z_(new An(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new An(0):(o=new An(t).add(n).div(2),o=o.sub(new An(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new An(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?U_(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new An(l).mul(s)),tickMax:o.add(new An(c).mul(s))})},xG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=B_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Rb(0,i-1).map(()=>1/0)]:[...Rb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return vG(o,i,a);var{step:d,tickMin:f,tickMax:h}=U_(o,l,s,a,0),m=R_(f,h.add(new An(.1).mul(d)),d);return n>r?m.reverse():m},yG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=B_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=z_(new An(o).sub(s).div(l-1),a,0),d=[...R_(new An(s),new An(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},bG=e=>e.rootProps.barCategoryGap,mm=e=>e.rootProps.stackOffset,V_=e=>e.rootProps.reverseStackOrder,Lk=e=>e.options.chartName,$k=e=>e.rootProps.syncId,W_=e=>e.rootProps.syncMethod,Fk=e=>e.options.eventEmitter,gi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},va={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},X0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:Qs.reversed,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:Qs.type,unit:void 0},kG={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},SG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},NG={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:"category",unit:void 0},Rk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SG:wG,Bk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?NG:kG,Z0=e=>e.polarOptions,zk=fe([No,Co,ci],UI),H_=fe([Z0,zk],(e,t)=>{if(e!=null)return ka(e.innerRadius,t,0)}),q_=fe([Z0,zk],(e,t)=>{if(e!=null)return ka(e.outerRadius,t,t*.8)}),CG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},K_=fe([Z0],CG);fe([Rk,K_],X0);var G_=fe([zk,H_,q_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});fe([Bk,G_],X0);var Y_=fe([On,Z0,H_,q_,No,Co],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:ka(s,i,i/2),cy:ka(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),dr=(e,t)=>t,hm=(e,t,n)=>n;function X_(e){return e==null?void 0:e.id}function Z_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=X_(o);c.forEach((f,h)=>{var m=a==null||i?h:String(nr(f,a,null)),p=nr(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function Uk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Q0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function J0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ei=e=>{var t=On(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ju=e=>e.tooltip.settings.axisId;function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){PG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PG(e,t,n){return(t=AG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb=[0,"auto"],ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Q_=(e,t)=>e.cartesianAxis.xAxis[t],Po=(e,t)=>{var n=Q_(e,t);return n??ii},ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sm},J_=(e,t)=>e.cartesianAxis.yAxis[t],Ao=(e,t)=>{var n=J_(e,t);return n??ai},EG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Vk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??EG},br=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return Ao(e,n);case"zAxis":return Vk(e,n);case"angleAxis":return Rk(e,n);case"radiusAxis":return Bk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},DG=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return Ao(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pm=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return Ao(e,n);case"angleAxis":return Rk(e,n);case"radiusAxis":return Bk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},e3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Wk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var t3=e=>e.graphicalItems.cartesianItems,MG=fe([dr,hm],Wk),Hk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),gm=fe([t3,br,MG],Hk,{memoizeOptions:{resultEqualityCheck:J0}}),n3=fe([gm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uk)),r3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OG=fe([gm],r3),qk=e=>e.map(t=>t.data).filter(Boolean).flat(1),IG=fe([gm],qk,{memoizeOptions:{resultEqualityCheck:J0}}),Kk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Gk=fe([IG,Ok],Kk),Yk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:nr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:nr(i,r)}))):e.map(r=>({value:r})),ev=fe([Gk,br,gm],Yk);function i3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function rp(e){if($s(e)||e instanceof Date){var t=Number(e);if(Wr(t))return t}}function jP(e){if(Array.isArray(e)){var t=[rp(e[0]),rp(e[1])];return cl(t)?t:void 0}var n=rp(e);if(n!=null)return[n,n]}function wo(e){return e.map(rp).filter(X8)}function _G(e,t,n){return!n||typeof t!="number"||Ls(t)?[]:n.length?wo(n.flatMap(r=>{var i=nr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Wr(a)||!Wr(s)))return[t-a,t+s]})):[]}var ti=e=>{var t=ei(e),n=Ju(e);return pm(e,t,n)},vm=fe([ti],e=>e==null?void 0:e.dataKey),LG=fe([n3,Ok,ti],Z_),a3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(X_);return[o,{stackedData:fW(e,d,n),graphicalItems:c}]}))},$G=fe([LG,n3,mm,V_],a3),s3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=pW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},FG=fe([br],e=>e.allowDataOverflow),Xk=e=>{var t;if(e==null||!("domain"in e))return Bb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=wo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bb},Zk=fe([br],Xk),Qk=fe([Zk,FG],T_),RG=fe([$G,yl,dr,Qk],s3,{memoizeOptions:{resultEqualityCheck:Q0}}),tv=e=>e.errorBars,BG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>i3(n,r)),Sg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Jk=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(v=>i3(i,v)),h=nr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=_G(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=jP(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=jP(nr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Wr(a)&&Wr(s))return[a,s]},zG=fe([Gk,br,OG,tv,dr],Jk,{memoizeOptions:{resultEqualityCheck:Q0}});function UG(e){var{value:t}=e;if($s(t)||t instanceof Date)return t}var VG=(e,t,n)=>{var r=e.map(UG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&e5(r))?YI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},o3=e=>e.referenceElements.dots,ed=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),WG=fe([o3,dr,hm],ed),l3=e=>e.referenceElements.areas,HG=fe([l3,dr,hm],ed),c3=e=>e.referenceElements.lines,qG=fe([c3,dr,hm],ed),u3=(e,t)=>{if(e!=null){var n=wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KG=fe(WG,dr,u3),d3=(e,t)=>{if(e!=null){var n=wo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},GG=fe([HG,dr],d3);function YG(e){var t;if(e.x!=null)return wo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:wo(n)}function XG(e){var t;if(e.y!=null)return wo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:wo(n)}var f3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?YG(r):XG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ZG=fe([qG,dr],f3),QG=fe(KG,ZG,GG,(e,t,n)=>Sg(e,n,t)),eS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Sg(r,a,i):Sg(a,i);return cG(t,c,e.allowDataOverflow)},JG=fe([br,Zk,Qk,RG,zG,QG,On,dr],eS,{memoizeOptions:{resultEqualityCheck:Q0}}),eY=[0,1],tS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=gl(t,a);if(c&&o==null){var d;return YI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?VG(r,e,c):i==="expand"?eY:s}},nS=fe([br,On,Gk,ev,mm,dr,JG],tS),m3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(nm(a));return o in Fd?o:"point"}}},td=fe([br,On,e3,Lk,dr],m3);function tY(e){if(e!=null){if(e in Fd)return Fd[e]();var t="scale".concat(nm(e));if(t in Fd)return Fd[t]()}}function rS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=tY(t);if(i!=null){var a=i.domain(n).range(r);return lW(a),a}}}var iS=(e,t,n)=>{var r=Xk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&cl(e))return xG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cl(e))return yG(e,t.tickCount,t.allowDecimals)}},aS=fe([nS,pm,td],iS),sS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},nY=fe([br,nS,aS,dr],sS),rY=fe(ev,br,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),h3=fe(rY,On,bG,ci,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Wr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=ka(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),iY=(e,t,n)=>{var r=Po(e,t);return r==null||typeof r.padding!="string"?0:h3(e,"xAxis",t,n,r.padding)},aY=(e,t,n)=>{var r=Ao(e,t);return r==null||typeof r.padding!="string"?0:h3(e,"yAxis",t,n,r.padding)},sY=fe(Po,iY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),oY=fe(Ao,aY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),lY=fe([ci,sY,_0,I0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),cY=fe([ci,On,oY,_0,I0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),xm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return lY(e,n,r);case"yAxis":return cY(e,n,r);case"zAxis":return(i=Vk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return K_(e);case"radiusAxis":return G_(e,n);default:return}},p3=fe([br,xm],X0),nv=fe([br,td,nY,p3],rS);fe([gm,tv,dr],BG);function g3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rv=(e,t)=>t,iv=(e,t,n)=>n,uY=fe(M0,rv,iv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(g3)),dY=fe(O0,rv,iv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(g3)),v3=(e,t)=>({width:e.width,height:t.height}),fY=(e,t)=>{var n=typeof t.width=="number"?t.width:sm;return{width:n,height:e.height}},mY=fe(ci,Po,v3),hY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},pY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},gY=fe(Co,ci,uY,rv,iv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=v3(t,o);s==null&&(s=hY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),vY=fe(No,ci,dY,rv,iv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=fY(t,o);s==null&&(s=pY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),xY=(e,t)=>{var n=Po(e,t);if(n!=null)return gY(e,n.orientation,n.mirror)},yY=fe([ci,Po,xY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),bY=(e,t)=>{var n=Ao(e,t);if(n!=null)return vY(e,n.orientation,n.mirror)},wY=fe([ci,Ao,bY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),kY=fe(ci,Ao,(e,t)=>{var n=typeof t.width=="number"?t.width:sm;return{width:n,height:e.height}}),x3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=gl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&e5(l))return l}},oS=fe([On,ev,br,dr],x3),y3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=gl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},lS=fe([On,ev,pm,dr],y3),PP=fe([On,DG,td,nv,oS,lS,xm,aS,dr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=gl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),SY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=gl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Ei(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((v,b)=>{var w=s?s.indexOf(v):v;return{index:b,coordinate:r(w)+p,value:v,offset:p}});return y.filter(v=>Wr(v.coordinate))}return c&&o?o.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})).filter(v=>Wr(v.coordinate)):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:s?s[v]:v,index:b,offset:p}))}},b3=fe([On,pm,td,nv,aS,xm,oS,lS,dr],SY),NY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=gl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ei(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},w3=fe([On,pm,nv,xm,oS,lS,dr],NY),k3=fe(br,nv,(e,t)=>{if(!(e==null||t==null))return kg(kg({},e),{},{scale:t})}),CY=fe([br,td,nS,p3],rS);fe((e,t,n)=>Vk(e,n),CY,(e,t)=>{if(!(e==null||t==null))return kg(kg({},e),{},{scale:t})});var jY=fe([On,M0,O0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),S3=e=>e.options.defaultTooltipEventType,N3=e=>e.options.validateTooltipEventTypes;function C3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function cS(e,t){var n=S3(e),r=N3(e);return C3(t,n,r)}function PY(e){return kt(t=>cS(t,e))}var j3=(e,t)=>{var n,r=Number(t);if(!(Ls(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},AY=e=>e.tooltip.settings,Ho={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TY={itemInteraction:{click:Ho,hover:Ho},axisInteraction:{click:Ho,hover:Ho},keyboardInteraction:Ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P3=la({name:"tooltip",initialState:TY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=us(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:lr()},removeTooltipEntrySettings:{reducer(e,t){var n=us(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:lr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:EY,replaceTooltipEntrySettings:DY,removeTooltipEntrySettings:MY,setTooltipSettingsState:OY,setActiveMouseOverItemIndex:A3,mouseLeaveItem:IY,mouseLeaveChart:T3,setActiveClickItemIndex:_Y,setMouseOverAxisIndex:E3,setMouseClickAxisIndex:LY,setSyncInteraction:zb,setKeyboardInteraction:Ub}=P3.actions,$Y=P3.reducer;function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=RY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function UY(e){return e.index!=null}var D3=(e,t,n,r)=>{if(t==null)return Ho;var i=zY(e,t,n);if(i==null)return Ho;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(UY(i)){if(a)return Eh(Eh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Eh(Eh({},Ho),{},{coordinate:i.coordinate})};function VY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function WY(e,t){var n=VY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function HY(e,t,n){if(n==null||t==null)return!0;var r=nr(e,t);return r==null||!cl(n)?!0:WY(r,n)}var uS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Wr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||HY(c,n,r)?String(l):null},M3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},O3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},ym=e=>e.options.tooltipPayloadSearcher,nd=e=>e.tooltip;function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){qY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qY(e,t,n){return(t=KY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YY(e,t){return e??t}var I3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,v=YY(g,o),b=Array.isArray(v)?uI(v,c,d):v,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,S=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=t5(b,r,i):C=a(b,t,l,S),Array.isArray(C))C.forEach(P=>{var D=EP(EP({},y),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(UC({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:nr(P.payload,P.dataKey),name:P.name}))});else{var N;h.push(UC({tooltipEntrySettings:y,dataKey:w,payload:C,value:nr(C,w),name:(N=nr(C,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},dS=fe([ti,On,e3,Lk,ei],m3),XY=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ZY=fe([ei,Ju],Wk),rd=fe([XY,ti,ZY],Hk,{memoizeOptions:{resultEqualityCheck:J0}}),QY=fe([rd],e=>e.filter(Uk)),JY=fe([rd],qk,{memoizeOptions:{resultEqualityCheck:J0}}),id=fe([JY,yl],Kk),eX=fe([QY,yl,ti],Z_),fS=fe([id,ti,rd],Yk),_3=fe([ti],Xk),tX=fe([ti],e=>e.allowDataOverflow),L3=fe([_3,tX],T_),nX=fe([rd],e=>e.filter(Uk)),rX=fe([eX,nX,mm,V_],a3),iX=fe([rX,yl,ei,L3],s3),aX=fe([rd],r3),sX=fe([id,ti,aX,tv,ei],Jk,{memoizeOptions:{resultEqualityCheck:Q0}}),oX=fe([o3,ei,Ju],ed),lX=fe([oX,ei],u3),cX=fe([l3,ei,Ju],ed),uX=fe([cX,ei],d3),dX=fe([c3,ei,Ju],ed),fX=fe([dX,ei],f3),mX=fe([lX,fX,uX],Sg),hX=fe([ti,_3,L3,iX,sX,mX,On,ei],eS),bm=fe([ti,On,id,fS,mm,ei,hX],tS),pX=fe([bm,ti,dS],iS),gX=fe([ti,bm,pX,ei],sS),$3=e=>{var t=ei(e),n=Ju(e),r=!1;return xm(e,t,n,r)},F3=fe([ti,$3],X0),R3=fe([ti,dS,gX,F3],rS),vX=fe([On,fS,ti,ei],x3),xX=fe([On,fS,ti,ei],y3),yX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=gl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ei(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},To=fe([On,ti,dS,R3,$3,vX,xX,ei],yX),mS=fe([S3,N3,AY],(e,t,n)=>C3(n.shared,e,t)),B3=e=>e.tooltip.settings.trigger,hS=e=>e.tooltip.settings.defaultIndex,wm=fe([nd,mS,B3,hS],D3),zu=fe([wm,id,vm,bm],uS),z3=fe([To,zu],j3),U3=fe([wm],e=>{if(e)return e.dataKey}),bX=fe([wm],e=>{if(e)return e.graphicalItemId}),V3=fe([nd,mS,B3,hS],O3),wX=fe([No,Co,On,ci,To,hS,V3,ym],M3),kX=fe([wm,wX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SX=fe([wm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),NX=fe([V3,zu,yl,vm,z3,ym,mS],I3),CX=fe([NX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=()=>kt(ti),EX=()=>{var e=TX(),t=kt(To),n=kt(R3);return tg(!e||!n?void 0:MP(MP({},e),{},{scale:n}),t)};function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){DX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DX(e,t,n){return(t=MX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},_X=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Hc(Hc(Hc({},r),Ur(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Hc(Hc(Hc({},r),Ur(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var W3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(Ei(p-m)!==Ei(g-p)){var v=[];if(Ei(g-p)===Ei(i[1]-i[0])){y=g;var b=p+i[1]-i[0];v[0]=Math.min(b,(b+m)/2),v[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];v[0]=Math.min(p,(w+p)/2),v[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),P=Math.max(m,g);if(e>(N+p)/2&&e<=(P+p)/2){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}}else if(t)for(var _=0;_<s;_++){var T=t[_];if(T!=null){var F=t[_+1],M=t[_-1];if(_===0&&F!=null&&e<=(T.coordinate+F.coordinate)/2||_===s-1&&M!=null&&e>(T.coordinate+M.coordinate)/2||_>0&&_<s-1&&M!=null&&F!=null&&e>(T.coordinate+M.coordinate)/2&&e<=(T.coordinate+F.coordinate)/2)return T.index}}return-1},$X=()=>kt(Lk),pS=(e,t)=>t,H3=(e,t,n)=>n,gS=(e,t,n,r)=>r,FX=fe(To,e=>w0(e,t=>t.coordinate)),vS=fe([nd,pS,H3,gS],D3),xS=fe([vS,id,vm,bm],uS),RX=(e,t,n)=>{if(t!=null){var r=nd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},q3=fe([nd,pS,H3,gS],O3),Ng=fe([No,Co,On,ci,To,gS,q3,ym],M3),BX=fe([vS,Ng],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),K3=fe([To,xS],j3),zX=fe([q3,xS,yl,vm,K3,ym,pS],I3),UX=fe([vS,xS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),VX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&LX(e,s)){var o=gW(e,t),l=W3(o,a,i,n,r),c=IX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},WX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=T7(e,n);if(o){var l=vW(o,t),c=W3(l,s,a,r,i),d=_X(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},HX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?VX(e,t,r,i,a,s,o):WX(e,t,n,r,i,a,s)},qX=fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),KX=fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(gi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:jG}});function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){GX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GX(e,t,n){return(t=YX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZX={},QX={zIndexMap:Object.values(gi).reduce((e,t)=>_P(_P({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ZX)},JX=new Set(Object.values(gi));function eZ(e){return JX.has(e)}var G3=la({name:"zIndex",initialState:QX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!eZ(n)&&delete e.zIndexMap[n])},prepare:lr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:lr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:lr()}}}),{registerZIndexPortal:tZ,unregisterZIndexPortal:nZ,registerZIndexPortalElement:rZ,unregisterZIndexPortalElement:iZ}=G3.actions,aZ=G3.reducer;function ys(e){var{zIndex:t,children:n}=e,r=WW(),i=r&&t!==void 0&&t!==0,a=ca(),s=Kn();x.useLayoutEffect(()=>i?(s(tZ({zIndex:t})),()=>{s(nZ({zIndex:t}))}):rm,[s,t,i]);var o=kt(l=>qX(l,t,a));return i?o?Yu.createPortal(n,o):null:n}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vb.apply(null,arguments)}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){sZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sZ(e,t,n){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function uZ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=VH,y=gi.cursorLine;else if(d==="BarChart")p=WH(o,f,a,s),g=zI,y=gi.cursorRectangle;else if(o==="radial"&&r5(f)){var{cx:v,cy:b,radius:w,startAngle:S,endAngle:C}=VI(f);p={cx:v,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},g=HI,y=gi.cursorLine}else p={points:O7(o,f,a)},g=lk,y=gi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,P=Dh(Dh(Dh(Dh({stroke:"#ccc",pointerEvents:"none"},a),p),Ou(l)),{},{payload:h,payloadIndex:m,className:Sn("recharts-tooltip-cursor",N)});return x.createElement(ys,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},x.createElement(cZ,{cursor:l,cursorComp:g,cursorProps:P}))}function dZ(e){var t=EX(),n=NI(),r=om(),i=$X();return t==null||n==null||r==null||i==null?null:x.createElement(uZ,Vb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Y3=x.createContext(null),fZ=()=>x.useContext(Y3),X3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,C;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(X3);var mZ=X3.exports;const hZ=vs(mZ);var Rf=new hZ,Wb="recharts.syncEvent.tooltip",$P="recharts.syncEvent.brush";function Z3(e,t){if(t){var n=Number.parseInt(t,10);if(!Ls(n))return e==null?void 0:e[n]}}var pZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Q3=la({name:"options",initialState:pZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gZ=Q3.reducer,{createEventEmitter:vZ}=Q3.actions;function xZ(e){return e.tooltip.syncInteraction}var yZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},J3=la({name:"chartData",initialState:yZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:FP,setDataStartEndIndexes:bZ,setComputedData:mge}=J3.actions,wZ=J3.reducer,kZ=["x","y"];function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){SZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jZ(e,t){if(e==null)return{};var n,r,i=PZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AZ(){var e=kt($k),t=kt(Fk),n=Kn(),r=kt(W_),i=kt(To),a=om(),s=L0(),o=kt(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return rm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=jZ(m,kZ),{x:v,y:b,width:w,height:S}=d.payload.sourceViewBox,C=qc(qc({},y),{},{x:s.x+(w?(p-v)/w:0)*s.width,y:s.y+(S?(g-b)/S:0)*s.height});n(qc(qc({},d),{},{payload:qc(qc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=r(i,P);N=i[D]}else r==="value"&&(N=i.find(ue=>String(ue.value)===d.payload.label));var{coordinate:_}=d.payload;if(N==null||d.payload.active===!1||_==null||s==null){n(zb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:F}=_,M=Math.min(T,s.x+s.width),ee=Math.min(F,s.y+s.height),te={x:a==="horizontal"?N.coordinate:M,y:a==="horizontal"?ee:N.coordinate},le=zb({active:d.payload.active,coordinate:te,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(le)}}};return Rf.on(Wb,l),()=>{Rf.off(Wb,l)}},[o,n,t,e,r,i,a,s])}function TZ(){var e=kt($k),t=kt(Fk),n=Kn();x.useEffect(()=>{if(e==null)return rm;var r=(i,a,s)=>{t!==s&&e===i&&n(bZ(a))};return Rf.on($P,r),()=>{Rf.off($P,r)}},[n,t,e])}function EZ(){var e=Kn();x.useEffect(()=>{e(vZ())},[e]),AZ(),TZ()}function DZ(e,t,n,r,i,a){var s=kt(m=>RX(m,e,t)),o=kt(Fk),l=kt($k),c=kt(W_),d=kt(xZ),f=d==null?void 0:d.active,h=L0();x.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=zb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Rf.emit(Wb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){MZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZ(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Z(e){return e.dataKey}function LZ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(kH,t)}var UP=[],$Z={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yc(e){var t,n,r=Qr(e,$Z),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,P=Kn(),D=typeof S=="number"?String(S):S;x.useEffect(()=>{P(OY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:D}))},[P,b,w,N,i,D]);var _=L0(),T=LI(),F=PY(b),{activeIndex:M,isActive:ee}=(t=kt(z=>UX(z,F,w,D)))!==null&&t!==void 0?t:{},te=kt(z=>zX(z,F,w,D)),le=kt(z=>K3(z,F,w,D)),ue=kt(z=>BX(z,F,w,D)),J=te,Y=fZ(),I=(n=i??ee)!==null&&n!==void 0?n:!1,[A,j]=I5([J,I]),W=F==="axis"?le:void 0;DZ(F,w,ue,W,M,I);var k=C??Y;if(k==null||_==null||F==null)return null;var O=J??UP;I||(O=UP),c&&O.length&&(O=k5(O.filter(z=>z.value!=null&&(z.hide!==!0||r.includeHidden)),h,_Z));var re=O.length>0,X=x.createElement(TH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:I,coordinate:ue,hasPayload:re,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:_,wrapperStyle:y,lastBoundingBox:A,innerRef:j,hasPortalFromProps:!!C},LZ(l,zP(zP({},r),{},{payload:O,label:W,active:I,activeIndex:M,coordinate:ue,accessibilityLayer:T})));return x.createElement(x.Fragment,null,Yu.createPortal(X,k),I&&x.createElement(dZ,{cursor:v,tooltipEventType:F,coordinate:ue,payload:O,index:M}))}var Uu=e=>null;Uu.displayName="Cell";function FZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zZ{constructor(t){FZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){VZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VZ(e,t,n){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qZ={cacheSize:2e3,enableCache:!0},e4=UZ({},qZ),WP=new zZ(e4.cacheSize),KZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HP="recharts_measurement_span";function GZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var qP=(e,t)=>{try{var n=document.getElementById(HP);n||(n=document.createElement("span"),n.setAttribute("id",HP),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Yd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||z0.isSsr)return{width:0,height:0};if(!e4.enableCache)return qP(t,n);var r=GZ(t,n),i=WP.get(r);if(i)return i;var a=qP(t,n);return WP.set(r,a),a},t4;function YZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tQ=["cm","mm","pt","pc","in","Q","px"];function nQ(e){return tQ.includes(e)}var uu="NaN";function rQ(e,t){return e*eQ[t]}class pi{static parse(t){var n,[,r,i]=(n=JZ.exec(t))!==null&&n!==void 0?n:[];return r==null?pi.NaN:new pi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ls(t)&&(this.unit=""),n!==""&&!QZ.test(n)&&(this.num=NaN,this.unit=""),nQ(n)&&(this.num=rQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new pi(NaN,""):new pi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pi(NaN,""):new pi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pi(NaN,""):new pi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pi(NaN,""):new pi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ls(this.num)}}t4=pi;YZ(pi,"NaN",new t4(NaN,""));function n4(e){if(e==null||e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=KP.exec(t))!==null&&n!==void 0?n:[],s=pi.parse(r??""),o=pi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return uu;t=t.replace(KP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=GP.exec(t))!==null&&c!==void 0?c:[],m=pi.parse(d??""),p=pi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return uu;t=t.replace(GP,g.toString())}return t}var YP=/\(([^()]*)\)/;function iQ(e){for(var t=e,n;(n=YP.exec(t))!=null;){var[,r]=n;t=t.replace(YP,n4(r))}return t}function aQ(e){var t=e.replace(/\s+/g,"");return t=iQ(t),t=n4(t),t}function sQ(e){try{return aQ(e)}catch{return uu}}function wx(e){var t=sQ(e.slice(5,-1));return t===uu?"":t}var oQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lQ=["dx","dy","angle","className","breakAll"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function XP(e,t){if(e==null)return{};var n,r,i=cQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r4=/[ \f\n\r\t\v\u2028\u2029]+/,i4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Zr(t)||(n?i=t.toString().split(""):i=t.toString().split(r4));var a=i.map(o=>({word:o,width:Yd(o,r).width})),s=n?0:Yd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function uQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var a4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),s4=e=>e.reduce((t,n)=>t.width>n.width?t:n),dQ="",ZP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=i4({breakAll:n,style:r,children:l+dQ});if(!c)return[!1,[]];var d=a4(c.wordsWithComputedWidth,a,s,o),f=d.length>i||s4(d).width>Number(a);return[f,d]},fQ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Ct(a),d=String(s),f=a4(t,r,n,i);if(!c||i)return f;var h=f.length>a||s4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var v=Math.floor((m+p)/2),b=v-1,[w,S]=ZP(d,b,l,o,a,r,n,i),[C]=ZP(d,v,l,o,a,r,n,i);if(!w&&!C&&(m=v+1),w&&C&&(p=v-1),!w&&C){y=S;break}g++}return y||f},QP=e=>{var t=Zr(e)?[]:e.toString().split(r4);return[{words:t,width:void 0}]},mQ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!z0.isSsr){var o,l,c=i4({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return QP(r);return fQ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return QP(r)},o4="#808080",hQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:o4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},av=x.forwardRef((e,t)=>{var n=Qr(e,hQ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=XP(n,oQ),h=x.useMemo(()=>mQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:v}=f,b=XP(f,lQ);if(!$s(r)||!$s(i)||h.length===0)return null;var w=Number(r)+(Ct(m)?m:0),S=Number(i)+(Ct(p)?p:0);if(!Wr(w)||!Wr(S))return null;var C;switch(d){case"start":C=wx("calc(".concat(s,")"));break;case"middle":C=wx("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=wx("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var P=h[0].width,{width:D}=f;N.push("scale(".concat(Ct(D)&&Ct(P)?D/P:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),x.createElement("text",Hb({},Ui(b),{ref:t,x:w,y:S,className:Sn("recharts-text",y),textAnchor:c,fill:o.includes("url")?o4:o}),h.map((_,T)=>{var F=_.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:T===0?C:a,key:"".concat(F,"-").concat(T)},F)}))});av.displayName="Text";var pQ=["labelRef"],gQ=["content"];function JP(e,t){if(e==null)return{};var n,r,i=vQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){xQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xQ(e,t,n){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(null,arguments)}var l4=x.createContext(null),wQ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return x.createElement(l4.Provider,{value:l},o)},c4=()=>{var e=x.useContext(l4),t=L0();return e||SI(t)},kQ=x.createContext(null),SQ=()=>{var e=x.useContext(kQ),t=kt(Y_);return e||t},NQ=e=>{var{value:t,formatter:n}=e,r=Zr(e.children)?t:e.children;return typeof n=="function"?n(r):r},yS=e=>e!=null&&typeof e=="function",CQ=(e,t)=>{var n=Ei(t-e),r=Math.min(Math.abs(t-e),360);return n*r},jQ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=CQ(f,h),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=m;break;case"insideEnd":v=h-y*a,b=!m;break;case"end":v=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Ur(o,l,p,v),S=Ur(o,l,p,v+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Zr(e.id)?jf("recharts-radial-line-"):e.id;return x.createElement("text",Js({},r,{dominantBaseline:"central",className:Sn("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:N,d:C})),x.createElement("textPath",{xlinkHref:"#".concat(N)},n))},PQ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Ur(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Ur(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},qb=e=>"cx"in e&&Ct(e.cx),AQ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!qb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,v=y*r,b=y>0?"end":"start",w=y>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",P=S>0?"start":"end";if(i==="top"){var D={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:b};return Mr(Mr({},D),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:h+c/2,y:o+d+v,textAnchor:"middle",verticalAnchor:w};return Mr(Mr({},_),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Mr(Mr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var F={x:m+p+C,y:o+d/2,textAnchor:P,verticalAnchor:"middle"};return Mr(Mr({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:d}:{})}var M=a?{width:p,height:d}:{};return i==="insideLeft"?Mr({x:m+C,y:o+d/2,textAnchor:P,verticalAnchor:"middle"},M):i==="insideRight"?Mr({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},M):i==="insideTop"?Mr({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:w},M):i==="insideBottom"?Mr({x:h+c/2,y:o+d-v,textAnchor:"middle",verticalAnchor:b},M):i==="insideTopLeft"?Mr({x:f+C,y:o+v,textAnchor:P,verticalAnchor:w},M):i==="insideTopRight"?Mr({x:f+l-C,y:o+v,textAnchor:N,verticalAnchor:w},M):i==="insideBottomLeft"?Mr({x:h+C,y:o+d-v,textAnchor:P,verticalAnchor:b},M):i==="insideBottomRight"?Mr({x:h+c-C,y:o+d-v,textAnchor:N,verticalAnchor:b},M):i&&typeof i=="object"&&(Ct(i.x)||go(i.x))&&(Ct(i.y)||go(i.y))?Mr({x:s+ka(i.x,p),y:o+ka(i.y,d),textAnchor:"end",verticalAnchor:"end"},M):Mr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},M)},TQ={angle:0,offset:5,zIndex:gi.label,position:"middle",textBreakAll:!1};function zo(e){var t=Qr(e,TQ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=SQ(),f=c4(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:qb(n)?m=n:m=SI(n),!m||Zr(i)&&Zr(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var y=Mr(Mr({},t),{},{viewBox:m});if(x.isValidElement(s)){var{labelRef:v}=y,b=JP(y,pQ);return x.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,S=JP(y,gQ);if(p=x.createElement(s,S),x.isValidElement(p))return p}else p=NQ(t);var C=Ui(t);if(qb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return jQ(t,r,p,C,m);g=PQ(m,t.offset,t.position)}else g=AQ(t,m);return x.createElement(ys,{zIndex:t.zIndex},x.createElement(av,Js({ref:c,className:Sn("recharts-label",o)},C,g,{textAnchor:uQ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}zo.displayName="Label";var EQ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(zo,Js({key:"label-implicit"},r)):$s(e)?x.createElement(zo,Js({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===zo?x.cloneElement(e,Mr({key:"label-implicit"},r)):x.createElement(zo,Js({key:"label-implicit",content:e},r)):yS(e)?x.createElement(zo,Js({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(zo,Js({},e,{key:"label-implicit"},r)):null};function DQ(e){var{label:t,labelRef:n}=e,r=c4();return EQ(t,r,n)||null}var u4={},d4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(d4);var f4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(f4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d4,n=f4,r=x0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(u4);var MQ=u4.last;const OQ=vs(MQ);var IQ=["valueAccessor"],_Q=["dataKey","clockWise","id","textBreakAll","zIndex"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(null,arguments)}function tA(e,t){if(e==null)return{};var n,r,i=LQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $Q=e=>Array.isArray(e.value)?OQ(e.value):e.value,m4=x.createContext(void 0),FQ=m4.Provider,h4=x.createContext(void 0),RQ=h4.Provider;function BQ(){return x.useContext(m4)}function zQ(){return x.useContext(h4)}function ip(e){var{valueAccessor:t=$Q}=e,n=tA(e,IQ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=tA(n,_Q),c=BQ(),d=zQ(),f=c||d;return!f||!f.length?null:x.createElement(ys,{zIndex:o??gi.label},x.createElement(sa,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Zr(r)?t(h,m):nr(h&&h.payload,r),y=Zr(a)?{}:{id:"".concat(a,"-").concat(m)};return x.createElement(zo,Cg({key:"label-".concat(m)},Ui(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}ip.displayName="LabelList";function p4(e){var{label:t}=e;return t?t===!0?x.createElement(ip,{key:"labelList-implicit"}):x.isValidElement(t)||yS(t)?x.createElement(ip,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ip,Cg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}var g4=e=>{var{cx:t,cy:n,r,className:i}=e,a=Sn("recharts-dot",i);return Ct(t)&&Ct(n)&&Ct(r)?x.createElement("circle",Kb({},Ga(e),F1(e),{className:a,cx:t,cy:n,r})):null},v4=e=>e.graphicalItems.polarItems,UQ=fe([dr,hm],Wk),sv=fe([v4,br,UQ],Hk),VQ=fe([sv],qk),ov=fe([VQ,Mk],Kk),WQ=fe([ov,br,sv],Yk);fe([ov,br,sv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=nr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:nr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var nA=()=>{},HQ=fe([ov,br,sv,tv,dr],Jk),qQ=fe([br,Zk,Qk,nA,HQ,nA,On,dr],eS),x4=fe([br,On,ov,WQ,mm,dr,qQ],tS),KQ=fe([x4,br,td],iS);fe([br,x4,KQ,dr],sS);var GQ={radiusAxis:{},angleAxis:{}},y4=la({name:"polarAxis",initialState:GQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hge,removeRadiusAxis:pge,addAngleAxis:gge,removeAngleAxis:vge}=y4.actions,YQ=y4.reducer;function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){XQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XQ(e,t,n){return(t=ZQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JQ=(e,t)=>t,bS=fe([v4,JQ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),eJ=[],wS=(e,t,n)=>(n==null?void 0:n.length)===0?eJ:n,b4=fe([Mk,bS,wS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>iA(iA({},t.presentationProps),a.props))),i!=null)return i}}),tJ=fe([b4,bS,wS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=nr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:D0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),nJ=fe([b4,bS,wS,ci],(e,t,n,r)=>{if(!(t==null||e==null))return pee({offset:r,pieSettings:t,displayedData:e,cells:n})}),w4={exports:{}},Rn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=60103,cv=60106,km=60107,Sm=60108,Nm=60114,Cm=60109,jm=60110,Pm=60112,Am=60113,kS=60120,Tm=60115,Em=60116,k4=60121,S4=60122,N4=60117,C4=60129,j4=60131;if(typeof Symbol=="function"&&Symbol.for){var fi=Symbol.for;lv=fi("react.element"),cv=fi("react.portal"),km=fi("react.fragment"),Sm=fi("react.strict_mode"),Nm=fi("react.profiler"),Cm=fi("react.provider"),jm=fi("react.context"),Pm=fi("react.forward_ref"),Am=fi("react.suspense"),kS=fi("react.suspense_list"),Tm=fi("react.memo"),Em=fi("react.lazy"),k4=fi("react.block"),S4=fi("react.server.block"),N4=fi("react.fundamental"),C4=fi("react.debug_trace_mode"),j4=fi("react.legacy_hidden")}function bs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lv:switch(e=e.type,e){case km:case Nm:case Sm:case Am:case kS:return e;default:switch(e=e&&e.$$typeof,e){case jm:case Pm:case Em:case Tm:case Cm:return e;default:return t}}case cv:return t}}}var rJ=Cm,iJ=lv,aJ=Pm,sJ=km,oJ=Em,lJ=Tm,cJ=cv,uJ=Nm,dJ=Sm,fJ=Am;Rn.ContextConsumer=jm;Rn.ContextProvider=rJ;Rn.Element=iJ;Rn.ForwardRef=aJ;Rn.Fragment=sJ;Rn.Lazy=oJ;Rn.Memo=lJ;Rn.Portal=cJ;Rn.Profiler=uJ;Rn.StrictMode=dJ;Rn.Suspense=fJ;Rn.isAsyncMode=function(){return!1};Rn.isConcurrentMode=function(){return!1};Rn.isContextConsumer=function(e){return bs(e)===jm};Rn.isContextProvider=function(e){return bs(e)===Cm};Rn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lv};Rn.isForwardRef=function(e){return bs(e)===Pm};Rn.isFragment=function(e){return bs(e)===km};Rn.isLazy=function(e){return bs(e)===Em};Rn.isMemo=function(e){return bs(e)===Tm};Rn.isPortal=function(e){return bs(e)===cv};Rn.isProfiler=function(e){return bs(e)===Nm};Rn.isStrictMode=function(e){return bs(e)===Sm};Rn.isSuspense=function(e){return bs(e)===Am};Rn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===km||e===Nm||e===C4||e===Sm||e===Am||e===kS||e===j4||typeof e=="object"&&e!==null&&(e.$$typeof===Em||e.$$typeof===Tm||e.$$typeof===Cm||e.$$typeof===jm||e.$$typeof===Pm||e.$$typeof===N4||e.$$typeof===k4||e[0]===S4)};Rn.typeOf=bs;w4.exports=Rn;var mJ=w4.exports,aA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",sA=null,kx=null,P4=e=>{if(e===sA&&Array.isArray(kx))return kx;var t=[];return x.Children.forEach(e,n=>{Zr(n)||(mJ.isFragment(n)?t=t.concat(P4(n.props.children)):t.push(n))}),kx=t,sA=e,t};function A4(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>aA(i)):r=[aA(t)],P4(e).forEach(i=>{var a=mc(i,"type.displayName")||mc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var T4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,E4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(E4);var hJ=E4.isPlainObject;const pJ=vs(hJ);var oA,lA,cA,uA,dA;function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){gJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gJ(e,t,n){return(t=vJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}function Pd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hA=(e,t,n,r,i)=>{var a=n-r,s;return s=jr(oA||(oA=Pd(["M ",",",""])),e,t),s+=jr(lA||(lA=Pd(["L ",",",""])),e+n,t),s+=jr(cA||(cA=Pd(["L ",",",""])),e+n-a/2,t+i),s+=jr(uA||(uA=Pd(["L ",",",""])),e+n-a/2-r,t+i),s+=jr(dA||(dA=Pd(["L ",","," Z"])),e,t),s},yJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bJ=e=>{var t=Qr(e,yJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,p]=x.useState(-1),g=x.useRef(i),y=x.useRef(a),v=x.useRef(s),b=x.useRef(n),w=x.useRef(r),S=V0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var te=h.current.getTotalLength();te&&p(te)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Sn("recharts-trapezoid",o);if(!f)return x.createElement("g",null,x.createElement("path",jg({},Ui(t),{className:C,d:hA(n,r,i,a,s)})));var N=g.current,P=y.current,D=v.current,_=b.current,T=w.current,F="0px ".concat(m===-1?1:m,"px"),M="".concat(m,"px 0px"),ee=$I(["strokeDasharray"],c,l);return x.createElement(U0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},te=>{var le=Ti(N,i,te),ue=Ti(P,a,te),J=Ti(D,s,te),Y=Ti(_,n,te),I=Ti(T,r,te);h.current&&(g.current=le,y.current=ue,v.current=J,b.current=Y,w.current=I);var A=te>0?{transition:ee,strokeDasharray:M}:{strokeDasharray:F};return x.createElement("path",jg({},Ui(t),{className:C,d:hA(Y,I,le,ue,J),ref:h,style:mA(mA({},A),t.style)}))})},wJ=["option","shapeType","activeClassName"];function kJ(e,t){if(e==null)return{};var n,r,i=SJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){NJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NJ(e,t,n){return(t=CJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PJ(e,t){return Pg(Pg({},t),e)}function AJ(e,t){return e==="symbols"}function gA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(zI,n);case"trapezoid":return x.createElement(bJ,n);case"sector":return x.createElement(HI,n);case"symbols":if(AJ(t))return x.createElement($1,n);break;case"curve":return x.createElement(lk,n);default:return null}}function TJ(e){return x.isValidElement(e)?e.props:e}function D4(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=kJ(e,wJ),a;if(x.isValidElement(t))a=x.cloneElement(t,Pg(Pg({},i),TJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(pJ(t)&&typeof t!="boolean"){var s=PJ(t,i);a=x.createElement(gA,{shapeType:n,elementProps:s})}else{var o=i;a=x.createElement(gA,{shapeType:n,elementProps:o})}return i.isActive?x.createElement(sa,{className:r},a):a}var EJ=(e,t,n)=>{var r=Kn();return(i,a)=>s=>{e==null||e(i,a,s),r(A3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},DJ=e=>{var t=Kn();return(n,r)=>i=>{e==null||e(n,r,i),t(IY())}},MJ=(e,t,n)=>{var r=Kn();return(i,a)=>s=>{e==null||e(i,a,s),r(_Y({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function M4(e){var{tooltipEntrySettings:t}=e,n=Kn(),r=ca(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(EY(t)):i.current!==t&&n(DY({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(MY(i.current)),i.current=null)},[n]),null}function OJ(e){var{legendPayload:t}=e,n=Kn(),r=ca(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(MI(t)):i.current!==t&&n(OI({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(II(i.current)),i.current=null)},[n]),null}function IJ(e){var{legendPayload:t}=e,n=Kn(),r=kt(On),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(MI(t)):i.current!==t&&n(OI({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(II(i.current)),i.current=null)},[n]),null}var Sx,_J=()=>{var[e]=x.useState(()=>jf("uid-"));return e},LJ=(Sx=VR.useId)!==null&&Sx!==void 0?Sx:_J;function $J(e,t){var n=LJ();return t||(e?"".concat(e,"-").concat(n):n)}var FJ=x.createContext(void 0),O4=e=>{var{id:t,type:n,children:r}=e,i=$J("recharts-".concat(n),t);return x.createElement(FJ.Provider,{value:i},r(i))},RJ={cartesianItems:[],polarItems:[]},I4=la({name:"graphicalItems",initialState:RJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=us(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:lr()},removeCartesianGraphicalItem:{reducer(e,t){var n=us(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:lr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lr()},removePolarGraphicalItem:{reducer(e,t){var n=us(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:lr()}}}),{addCartesianGraphicalItem:BJ,replaceCartesianGraphicalItem:zJ,removeCartesianGraphicalItem:UJ,addPolarGraphicalItem:VJ,removePolarGraphicalItem:WJ}=I4.actions,HJ=I4.reducer,qJ=e=>{var t=Kn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(BJ(e)):n.current!==e&&t(zJ({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t(UJ(n.current)),n.current=null)},[t]),null},KJ=x.memo(qJ);function GJ(e){var t=Kn();return x.useLayoutEffect(()=>(t(VJ(e)),()=>{t(WJ(e))}),[t,e]),null}var YJ=["key"],XJ=["onMouseEnter","onClick","onMouseLeave"],ZJ=["id"],QJ=["id"];function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eee(e){var t=tee(e,"string");return typeof t=="symbol"?t:t+""}function tee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ul(){return ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ul.apply(null,arguments)}function uv(e,t){if(e==null)return{};var n,r,i=nee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ree(e){var t=x.useMemo(()=>A4(e.children,Uu),[e.children]),n=kt(r=>tJ(r,e.id,t));return n==null?null:x.createElement(IJ,{legendPayload:n})}var iee=x.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:D0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return x.createElement(M4,{tooltipEntrySettings:f})}),aee=(e,t)=>e>t?"start":e<t?"end":"middle",see=(e,t,n)=>ka(typeof t=="function"?t(e):t,n,n*.8),oee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=UI(a,s),l=i+ka(e.cx,a,a/2),c=r+ka(e.cy,s,s/2),d=ka(e.innerRadius,o,0),f=see(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},lee=(e,t)=>{var n=Ei(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function cee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var uee=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Sn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=uv(t,YJ);return x.createElement(lk,ul({},i,{type:"linear",className:n}))},dee=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=Sn("recharts-pie-label-text",cee(e));return x.createElement(av,ul({},t,{alignmentBaseline:"middle",className:i}),r)};function fee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ga(n),l=Ou(i),c=Ou(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Ur(h.cx,h.cy,h.outerRadius+d,p),y=Ar(Ar(Ar(Ar({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:aee(g.x,h.cx)},g),v=Ar(Ar(Ar(Ar({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Ur(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return x.createElement(ys,{zIndex:gi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},x.createElement(sa,null,a&&uee(a,v),dee(i,y,nr(h,s))))});return x.createElement(sa,{className:"recharts-pie-labels"},f)}function mee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(p4,{label:i}):x.createElement(fee,{sectors:t,props:n,showLabels:r})}function hee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=kt(zu),l=kt(U3),c=kt(bX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=uv(i,XJ),p=EJ(d,i.dataKey,s),g=DJ(h),y=MJ(f,i.dataKey,s);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((v,b)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,S=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&S?n:C,P=Ar(Ar({},v),{},{stroke:v.stroke,tabIndex:-1,[hI]:b,[pI]:s});return x.createElement(sa,ul({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},R1(m,v,b),{onMouseEnter:p(v,b),onMouseLeave:g(v,b),onClick:y(v,b)}),x.createElement(D4,ul({option:a??N,index:b,shapeType:"sector",isActive:S},P)))}))}function pee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=lee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>nr(N,c,0)!==0).length,v=(p>=360?y:y-1)*g,b=p-y*h-v,w=r.reduce((N,P)=>{var D=nr(P,c,0);return N+(Ct(D)?D:0)},0),S;if(w>0){var C;S=r.map((N,P)=>{var D=nr(N,c,0),_=nr(N,d,P),T=oee(n,a,N),F=(Ct(D)?D:0)/w,M,ee=Ar(Ar({},N),i&&i[P]&&i[P].props);P?M=C.endAngle+Ei(m)*g*(D!==0?1:0):M=o;var te=M+Ei(m)*((D!==0?h:0)+F*b),le=(M+te)/2,ue=(T.innerRadius+T.outerRadius)/2,J=[{name:_,value:D,payload:ee,dataKey:c,type:f,graphicalItemId:n.id}],Y=Ur(T.cx,T.cy,ue,le);return C=Ar(Ar(Ar(Ar({},n.presentationProps),{},{percent:F,cornerRadius:typeof s=="string"?parseFloat(s):s,name:_,tooltipPayload:J,midAngle:le,middleRadius:ue,tooltipPosition:Y},ee),T),{},{value:D,dataKey:c,startAngle:M,endAngle:te,payload:ee,paddingAngle:Ei(m)*g}),C})}return S}function gee(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return x.createElement(RQ,{value:t?i:void 0},r)}function vee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=V0(t,"recharts-pie-"),p=n.current,[g,y]=x.useState(!1),v=x.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(gee,{showLabels:!g,sectors:i},x.createElement(U0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:v,key:m},w=>{var S=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((P,D)=>{var _=p&&p[D],T=D>0?mc(P,"paddingAngle",0):0;if(_){var F=Ti(_.endAngle-_.startAngle,P.endAngle-P.startAngle,w),M=Ar(Ar({},P),{},{startAngle:N+T,endAngle:N+F+T});S.push(M),N=M.endAngle}else{var{endAngle:ee,startAngle:te}=P,le=Ti(0,ee-te,w),ue=Ar(Ar({},P),{},{startAngle:N+T,endAngle:N+le+T});S.push(ue),N=ue.endAngle}}),n.current=S,x.createElement(sa,null,x.createElement(hee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(mee,{showLabels:!g,sectors:i,props:t}),t.children)}var xee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gi.area};function yee(e){var{id:t}=e,n=uv(e,ZJ),{hide:r,className:i,rootTabIndex:a}=e,s=x.useMemo(()=>A4(e.children,Uu),[e.children]),o=kt(d=>nJ(d,t,s)),l=x.useRef(null),c=Sn("recharts-pie",i);return r||o==null?(l.current=null,x.createElement(sa,{tabIndex:a,className:c})):x.createElement(ys,{zIndex:e.zIndex},x.createElement(iee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(sa,{tabIndex:a,className:c},x.createElement(vee,{props:Ar(Ar({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Ag(e){var t=Qr(e,xee),{id:n}=t,r=uv(t,QJ),i=Ga(r);return x.createElement(O4,{id:n,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(GJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(ree,ul({},r,{id:a})),x.createElement(yee,ul({},r,{id:a}))))}Ag.displayName="Pie";var bee=["points"];function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tg.apply(null,arguments)}function Nee(e,t){if(e==null)return{};var n,r,i=Cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jee(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Sn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=Nee(a,bee);return x.createElement(g4,Tg({},o,{className:i}))}function Pee(e,t){return e==null?!1:t?!0:e.length===1}function Aee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=gi.scatter}=e;if(!Pee(t,n))return null;var d=T4(n),f=s8(n),h=t.map((p,g)=>{var y,v,b=Nx(Nx(Nx({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return x.createElement(jee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),x.createElement(ys,{zIndex:c},x.createElement(sa,Tg({className:r},m),h))}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){Tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tee(e,t,n){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mee={xAxis:{},yAxis:{},zAxis:{}},_4=la({name:"cartesianAxis",initialState:Mee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:lr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:lr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:lr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=bA(bA({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Oee,replaceXAxis:Iee,removeXAxis:_ee,addYAxis:Lee,replaceYAxis:$ee,removeYAxis:Fee,addZAxis:xge,replaceZAxis:yge,removeZAxis:bge,updateYAxisWidth:Ree}=_4.actions,Bee=_4.reducer,zee=fe([ci],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Uee=fe([zee,No,Co],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),SS=()=>kt(Uee),Vee=()=>kt(CX);function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){Wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Cx(Cx(Cx({},o),Ou(i)),F1(i)),c;return x.isValidElement(i)?c=x.cloneElement(i,l):typeof i=="function"?c=i(l):c=x.createElement(g4,l),x.createElement(sa,{className:"recharts-active-dot",clipPath:s},c)};function Gee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=gi.activeDot}=e,o=kt(zu),l=Vee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Zr(c)?null:x.createElement(ys,{zIndex:s},x.createElement(Kee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var L4=e=>{var{chartData:t}=e,n=Kn(),r=ca();return x.useEffect(()=>r?()=>{}:(n(FP(t)),()=>{n(FP(void 0))}),[t,n,r]),null},kA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$4=la({name:"brush",initialState:kA,reducers:{setBrushSettings(e,t){return t.payload==null?kA:t.payload}}}),{setBrushSettings:wge}=$4.actions,Yee=$4.reducer;function Xee(e,t,n){return(t=Zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zee(e){var t=Qee(e,"string");return typeof t=="symbol"?t:t+""}function Qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NS{static create(t){return new NS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Xee(NS,"EPS",1e-4);function Jee(e){return(e%180+180)%180}var ete=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},tte={dots:[],areas:[],lines:[]},F4=la({name:"referenceElements",initialState:tte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=us(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=us(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=us(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:kge,removeDot:Sge,addArea:Nge,removeArea:Cge,addLine:jge,removeLine:Pge}=F4.actions,nte=F4.reducer,rte=x.createContext(void 0),ite=e=>{var{children:t}=e,[n]=x.useState("".concat(jf("recharts"),"-clip")),r=SS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return x.createElement(rte.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function R4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ate(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ete(r,n)}function ste(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Bf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function ote(e,t){return R4(e,t+1)}function lte(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:R4(r,c)};var g=l,y,v=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Bf(e,b,v,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function cte(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,S,C=()=>(S===void 0&&(S=n(b,w)),S),N=b.coordinate,P=p===d||Bf(e,N,C,f,l);if(!P)return h=!1,1;P&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ute(e,t,n){return(t=dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=ji(ji({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=ji(ji({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Bf(e,m.tickCoord,g,o,l);v&&(l=m.tickCoord-e*(g()/2+i),a[h]=ji(ji({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function hte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=ji(ji({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Bf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=ji(ji({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],S,C=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=ji(ji({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=ji(ji({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=Bf(e,w.tickCoord,C,l,c);P&&(l=w.tickCoord+e*(C()/2+i),s[b]=ji(ji({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function CS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Ct(l)||z0.isSsr){var h;return(h=ote(i,Ct(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?Yd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return p==="width"?ate(Yd(C,{fontSize:t,letterSpacing:n}),g,f):Yd(C,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?Ei(i[1].coordinate-i[0].coordinate):1,b=ste(a,v,p);return l==="equidistantPreserveStart"?lte(v,b,y,i,s):l==="equidistantPreserveEnd"?cte(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=hte(v,b,y,i,s,l==="preserveStartEnd"):m=mte(v,b,y,i,s),m.filter(w=>w.isShow))}var pte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},gte=["axisLine","width","height","className","hide","ticks","axisType"];function vte(e,t){if(e==null)return{};var n,r,i=xte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(null,arguments)}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yte(e,t,n){return(t=bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gi.axis};function kte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Br(Br(Br({},l),Ga(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Br(Br({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Br(Br({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",bc({},c,{className:Sn("recharts-cartesian-axis-line",mc(o,"className"))}))}function Ste(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,v=Ct(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=v;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=v;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=v;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=v;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Nte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Cte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function jte(e){var{option:t,tickProps:n,value:r}=e,i,a=Sn(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Br(Br({},n),{},{className:a}));else if(typeof t=="function")i=t(Br(Br({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Sn(s,t==null?void 0:t.className)),i=x.createElement(av,bc({},n,{className:s}),r)}return i}var Pte=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,P=CS(Br(Br({},S),{},{ticks:n}),b,w),D=Nte(d,f),_=Cte(d,f),T=Ga(S),F=Ou(r),M={};typeof i=="object"&&(M=i);var ee=Br(Br({},T),{},{fill:"none"},M),te=P.map(J=>Br({entry:J},Ste(J,h,m,p,g,d,y,f,v))),le=te.map(J=>{var{entry:Y,line:I}=J;return x.createElement(sa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&x.createElement("line",bc({},ee,I,{className:Sn("recharts-cartesian-axis-tick-line",mc(i,"className"))})))}),ue=te.map((J,Y)=>{var{entry:I,tick:A}=J,j=Br(Br(Br(Br({textAnchor:D,verticalAnchor:_},T),{},{stroke:"none",fill:a},F),A),{},{index:Y,payload:I,visibleTicksCount:P.length,tickFormatter:s,padding:l},c);return x.createElement(sa,bc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},R1(C,I,Y)),r&&x.createElement(jte,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(I.value,Y):I.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ue.length>0&&x.createElement(ys,{zIndex:gi.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ue)),le.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},le))}),Ate=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=vte(e,gte),[d,f]=x.useState(""),[h,m]=x.useState(""),p=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return pte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=x.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var b=v[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==h)&&(f(S),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(ys,{zIndex:e.zIndex},x.createElement(sa,{className:Sn("recharts-cartesian-axis",a)},x.createElement(kte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ga(e)}),x.createElement(Pte,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(wQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(DQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),jS=x.forwardRef((e,t)=>{var n=Qr(e,lo);return x.createElement(Ate,bc({},n,{ref:t}))});jS.displayName="CartesianAxis";var Tte=["x1","y1","x2","y2","key"],Ete=["offset"],Dte=["xAxisId","yAxisId"],Mte=["xAxisId","yAxisId"];function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ite(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}function Eg(e,t){if(e==null)return{};var n,r,i=Lte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $te=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B4(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Eg(n,Tte),f=(i=Ga(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Eg(f,Ete);r=x.createElement("line",Zl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Fte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eg(e,Dte),l=i.map((c,d)=>{var f=Ai(Ai({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return x.createElement(B4,{key:"line-".concat(d),option:r,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Rte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Eg(e,Mte),l=i.map((c,d)=>{var f=Ai(Ai({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return x.createElement(B4,{option:r,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Bte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ute=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return dI(CS(Ai(Ai(Ai({},lo),n),{},{ticks:fI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Vte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return dI(CS(Ai(Ai(Ai({},lo),n),{},{ticks:fI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Wte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gi.grid};function zf(e){var t=ik(),n=ak(),r=NI(),i=Ai(Ai({},Qr(e,Wte)),{},{x:Ct(e.x)?e.x:r.left,y:Ct(e.y)?e.y:r.top,width:Ct(e.width)?e.width:r.width,height:Ct(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ca(),g=kt(_=>PP(_,"xAxis",a,p)),y=kt(_=>PP(_,"yAxis",s,p));if(!Fs(c)||!Fs(d)||!Ct(o)||!Ct(l))return null;var v=i.verticalCoordinatesGenerator||Ute,b=i.horizontalCoordinatesGenerator||Vte,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?Ai(Ai({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);ng(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof v=="function"){var P=m&&m.length,D=v({xAxis:g?Ai(Ai({},g),{},{ticks:P?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},P?!0:f);ng(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(S=D)}return x.createElement(ys,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement($te,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Bte,Zl({},i,{horizontalPoints:w})),x.createElement(zte,Zl({},i,{verticalPoints:S})),x.createElement(Fte,Zl({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(Rte,Zl({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y}))))}zf.displayName="CartesianGrid";var Hte={},z4=la({name:"errorBars",initialState:Hte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Age,replaceErrorBar:Tge,removeErrorBar:Ege}=z4.actions,qte=z4.reducer,Kte=["children"];function Gte(e,t){if(e==null)return{};var n,r,i=Yte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zte=x.createContext(Xte);function Qte(e){var{children:t}=e,n=Gte(e,Kte);return x.createElement(Zte.Provider,{value:n},t)}function U4(e,t){var n,r,i=kt(c=>Po(c,e)),a=kt(c=>Ao(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ii.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ai.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Jte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=SS(),{needClipX:a,needClipY:s,needClip:o}=U4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var V4=(e,t,n,r)=>k3(e,"xAxis",t,r),W4=(e,t,n,r)=>w3(e,"xAxis",t,r),H4=(e,t,n,r)=>k3(e,"yAxis",n,r),q4=(e,t,n,r)=>w3(e,"yAxis",n,r),ene=fe([On,V4,H4,W4,q4],(e,t,n,r,i)=>gl(e,"xAxis")?tg(t,r,!1):tg(n,i,!1)),tne=(e,t,n,r,i)=>i;function nne(e){return e.type==="line"}var rne=fe([t3,tne],(e,t)=>e.filter(nne).find(n=>n.id===t)),ine=fe([On,V4,H4,W4,q4,rne,ene,Ok],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Yne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function ane(e){var t=Ou(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var sne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=x;function one(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lne=typeof Object.is=="function"?Object.is:one,cne=Dm.useSyncExternalStore,une=Dm.useRef,dne=Dm.useEffect,fne=Dm.useMemo,mne=Dm.useDebugValue;sne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=une(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=fne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,lne(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=cne(e,a[0],a[1]);return dne(function(){s.hasValue=!0,s.value=o},[o]),mne(o),o};function hne(e){e()}function pne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var jA={notify(){},get:()=>[]};function gne(e,t){let n,r=jA,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=pne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=jA)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var vne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xne=vne(),yne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bne=yne(),wne=()=>xne||bne?x.useLayoutEffect:x.useEffect,kne=wne();function PA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Sne(e,t){if(PA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!PA(e[n[i]],t[n[i]]))return!1;return!0}var jx=Symbol.for("react-redux-context"),Px=typeof globalThis<"u"?globalThis:{};function Nne(){if(!x.createContext)return{};const e=Px[jx]??(Px[jx]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Cne=Nne();function jne(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=gne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);kne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Cne;return x.createElement(o.Provider,{value:a},t)}var Pne=jne,Ane=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Tne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function PS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ane.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Sne(e[r],t[r]))return!1}else if(!Tne(e[r],t[r]))return!1;return!0}var Ene=["id"],Dne=["type","layout","connectNulls","needClip","shape"],Mne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(null,arguments)}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){One(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function One(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AS(e,t){if(e==null)return{};var n,r,i=Lne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $ne=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:D0(n,t),payload:e}]},Fne=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:D0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return x.createElement(M4,{tooltipEntrySettings:f})}),K4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Rne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Bne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return K4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...Rne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function zne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=AS(r,Ene),c=Ga(l);return x.createElement(Aee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Une(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ts(Ts({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(FQ,{value:t?i:void 0},n)}function TA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=AS(a,Dne),h=Ts(Ts({},Ui(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(D4,Uf({shapeType:"curve",option:d},h,{pathRef:n})),x.createElement(zne,{points:r,clipPathId:t,props:a}))}function Vne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Wne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,v=i.current,b=V0(s,"recharts-line-"),w=x.useRef(b),[S,C]=x.useState(!1),N=!S,P=x.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),D=x.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),_=Vne(r.current),T=x.useRef(0);w.current!==b&&(T.current=a.current,w.current=b);var F=T.current;return x.createElement(Une,{points:s,showLabels:N},n.children,x.createElement(U0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:P,onAnimationStart:D,key:b},M=>{var ee=Ti(F,_+F,M),te=Math.min(ee,_),le;if(l)if(o){var ue="".concat(o).split(/[,\s]+/gim).map(I=>parseFloat(I));le=Bne(te,_,ue)}else le=K4(_,te);else le=o==null?void 0:String(o);if(M>0&&_>0&&(i.current=s,a.current=Math.max(a.current,te)),v){var J=v.length/s.length,Y=M===1?s:s.map((I,A)=>{var j=Math.floor(A*J);if(v[j]){var W=v[j];return Ts(Ts({},I),{},{x:Ti(W.x,I.x,M),y:Ti(W.y,I.y,M)})}return h?Ts(Ts({},I),{},{x:Ti(m*2,I.x,M),y:Ti(p/2,I.y,M)}):Ts(Ts({},I),{},{x:I.x,y:I.y})});return i.current=Y,x.createElement(TA,{props:n,points:Y,clipPathId:t,pathRef:r,strokeDasharray:le})}return x.createElement(TA,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:le})}),x.createElement(p4,{label:n.label}))}function Hne(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Wne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var qne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:nr(e.payload,t)}};class Kne extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Sn("recharts-line",i),g=f,{r:y,strokeWidth:v}=ane(n),b=T4(n),w=y*2+v,S=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return x.createElement(ys,{zIndex:m},x.createElement(sa,{className:p},h&&x.createElement("defs",null,x.createElement(Jte,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),x.createElement(Qte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:qne,errorBarOffset:0},x.createElement(Hne,{props:this.props,clipPathId:g}))),x.createElement(Gee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var G4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:gi.line,type:"linear"};function Gne(e){var t=Qr(e,G4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=AS(t,Mne),{needClip:v}=U4(m,p),b=SS(),w=om(),S=ca(),C=kt(T=>ine(T,m,p,S,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:P,x:D,y:_}=b;return x.createElement(Kne,Uf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:P,left:D,top:_,needClip:v}))}function Yne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=nr(c,s);if(t==="horizontal"){var h=RC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Zr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Zr(f)?null:n.scale(f),g=RC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Xne(e){var t=Qr(e,G4),n=ca();return x.createElement(O4,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(OJ,{legendPayload:$ne(t)}),x.createElement(Fne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),x.createElement(KJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(Gne,Uf({},t,{id:r}))))}var eo=x.memo(Xne,PS);eo.displayName="Line";var Zne=["domain","range"],Qne=["domain","range"];function EA(e,t){if(e==null)return{};var n,r,i=Jne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Y4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=EA(e,Zne),{domain:a,range:s}=t,o=EA(t,Qne);return!DA(n,a)||!DA(r,s)?!1:PS(i,o)}var ere=["dangerouslySetInnerHTML","ticks","scale"],tre=["id","scale"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function MA(e,t){if(e==null)return{};var n,r,i=nre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rre(e){var t=Kn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Oee(e)):n.current!==e&&t(Iee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(_ee(n.current)),n.current=null)},[t]),null}var ire=e=>{var{xAxisId:t,className:n}=e,r=kt(gI),i=ca(),a="xAxis",s=kt(v=>b3(v,a,t,i)),o=kt(v=>mY(v,t)),l=kt(v=>yY(v,t)),c=kt(v=>Q_(v,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=MA(e,ere),{id:p,scale:g}=c,y=MA(c,tre);return x.createElement(jS,Gb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Sn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},are={allowDataOverflow:ii.allowDataOverflow,allowDecimals:ii.allowDecimals,allowDuplicatedCategory:ii.allowDuplicatedCategory,angle:ii.angle,axisLine:lo.axisLine,height:ii.height,hide:!1,includeHidden:ii.includeHidden,interval:ii.interval,minTickGap:ii.minTickGap,mirror:ii.mirror,orientation:ii.orientation,padding:ii.padding,reversed:ii.reversed,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,tickLine:lo.tickLine,tickSize:lo.tickSize,type:ii.type,xAxisId:0},sre=e=>{var t=Qr(e,are);return x.createElement(x.Fragment,null,x.createElement(rre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(ire,t))},Vf=x.memo(sre,Y4);Vf.displayName="XAxis";var ore=["dangerouslySetInnerHTML","ticks","scale"],lre=["id","scale"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}function OA(e,t){if(e==null)return{};var n,r,i=cre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ure(e){var t=Kn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Lee(e)):n.current!==e&&t($ee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Fee(n.current)),n.current=null)},[t]),null}var dre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=kt(gI),l=ca(),c=Kn(),d="yAxis",f=kt(N=>kY(N,t)),h=kt(N=>wY(N,t)),m=kt(N=>b3(N,d,t,l)),p=kt(N=>J_(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!f||yS(i)||x.isValidElement(i)||p==null)){var N=a.current;if(N){var P=N.getCalculatedWidth();Math.round(f.width)!==Math.round(P)&&c(Ree({id:t,width:P}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:v}=e,b=OA(e,ore),{id:w,scale:S}=p,C=OA(p,lre);return x.createElement(jS,Yb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Sn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},fre={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,angle:ai.angle,axisLine:lo.axisLine,hide:!1,includeHidden:ai.includeHidden,interval:ai.interval,minTickGap:ai.minTickGap,mirror:ai.mirror,orientation:ai.orientation,padding:ai.padding,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,tickLine:lo.tickLine,tickSize:lo.tickSize,type:ai.type,width:ai.width,yAxisId:0},mre=e=>{var t=Qr(e,fre);return x.createElement(x.Fragment,null,x.createElement(ure,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(dre,t))},Wf=x.memo(mre,Y4);Wf.displayName="YAxis";var hre=(e,t)=>t,TS=fe([hre,On,Y_,ei,F3,To,FX,ci],HX),ES=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},X4=Ya("mouseClick"),Z4=am();Z4.startListening({actionCreator:X4,effect:(e,t)=>{var n=e.payload,r=TS(t.getState(),ES(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(LY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Xb=Ya("mouseMove"),Q4=am(),Mh=null;Q4.startListening({actionCreator:Xb,effect:(e,t)=>{var n=e.payload;Mh!==null&&cancelAnimationFrame(Mh);var r=ES(n);Mh=requestAnimationFrame(()=>{var i=t.getState(),a=cS(i,i.tooltip.settings.shared);if(a==="axis"){var s=TS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(E3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(T3())}Mh=null})}});function pre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var IA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},J4=la({name:"rootProps",initialState:IA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:IA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),gre=J4.reducer,{updateOptions:vre}=J4.actions,eL=la({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xre}=eL.actions,yre=eL.reducer,tL=Ya("keyDown"),nL=Ya("focus"),DS=am();DS.startListening({actionCreator:tL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=uS(i,id(n),vm(n),bm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=To(n);if(a==="Enter"){var c=Ng(n,"axis","hover",String(i.index));t.dispatch(Ub({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=jY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=Ng(n,"axis","hover",String(m));t.dispatch(Ub({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});DS.startListening({actionCreator:nL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Ng(n,"axis","hover",String(a));t.dispatch(Ub({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var La=Ya("externalEvent"),rL=am(),Ax=new Map;rL.startListening({actionCreator:La,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Ax.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:kX(o),activeDataKey:U3(o),activeIndex:zu(o),activeLabel:z3(o),activeTooltipIndex:zu(o),isTooltipActive:SX(o)};n(l,r)}finally{Ax.delete(i)}});Ax.set(i,s)}}});var bre=fe([nd],e=>e.tooltipItemPayloads),wre=fe([bre,ym,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),iL=Ya("touchMove"),aL=am();aL.startListening({actionCreator:iL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=cS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=TS(r,ES({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(E3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(hI),f=(o=c.getAttribute(pI))!==null&&o!==void 0?o:void 0,h=rd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=wre(r,d,f);t.dispatch(A3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var kre=L5({brush:Yee,cartesianAxis:Bee,chartData:wZ,errorBars:qte,graphicalItems:HJ,layout:rW,legend:iH,options:gZ,polarAxis:YQ,polarOptions:yre,referenceElements:nte,rootProps:gre,tooltip:$Y,zIndex:aZ}),Sre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return A9({reducer:kre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Z4.middleware,Q4.middleware,DS.middleware,rL.middleware,aL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(Z5({type:"raf"}))},devTools:{serialize:{replacer:pre},name:"recharts-".concat(n)}})};function sL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ca(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=Sre(t,r));var s=G1;return x.createElement(Pne,{context:s,store:a.current},n)}function Nre(e){var{layout:t,margin:n}=e,r=Kn(),i=ca();return x.useEffect(()=>{i||(r(eW(t)),r(J9(n)))},[r,i,t,n]),null}var oL=x.memo(Nre,PS);function lL(e){var t=Kn();return x.useEffect(()=>{t(vre(e))},[t,e]),null}function _A(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=Kn();return x.useLayoutEffect(()=>(r.current&&i(rZ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(iZ({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function LA(e){var{children:t,isPanorama:n}=e,r=kt(KX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement(_A,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>x.createElement(_A,{key:s,zIndex:s,isPanorama:n})))}var Cre=["children"];function jre(e,t){if(e==null)return{};var n,r,i=Pre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}var Are={width:"100%",height:"100%",display:"block"},Tre=x.forwardRef((e,t)=>{var n=ik(),r=ak(),i=LI();if(!Fs(n)||!Fs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),x.createElement(M1,Dg({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Are,ref:t}),a)}),Ere=e=>{var{children:t}=e,n=kt(_0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return x.createElement(M1,{width:r,height:i,x:s,y:a},t)},$A=x.forwardRef((e,t)=>{var{children:n}=e,r=jre(e,Cre),i=ca();return i?x.createElement(Ere,null,x.createElement(LA,{isPanorama:!0},n)):x.createElement(Tre,Dg({ref:t},r),x.createElement(LA,{isPanorama:!1},n))});function Dre(){var e=Kn(),[t,n]=x.useState(null),r=kt(xW);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Wr(a)&&a!==r&&e(nW(a))}},[t,e,r]),n}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ore(e,t,n){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ire(e){var t=_re(e,"string");return typeof t=="symbol"?t:t+""}function _re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(null,arguments)}var Lre=()=>(EZ(),null);function Mg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $re=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,s]=x.useState({containerWidth:Mg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Mg((r=e.style)===null||r===void 0?void 0:r.height)}),o=x.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return x.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement($0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",wc({ref:l},e)))}),Fre=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:Mg(n),containerHeight:Mg(r)}),s=x.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return x.createElement(x.Fragment,null,x.createElement($0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",wc({ref:o},e)))}),Rre=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement($0,{width:n,height:r}),x.createElement("div",wc({ref:t},e)))}),Bre=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return go(n)||go(r)?x.createElement(Fre,wc({},e,{ref:t})):x.createElement(Rre,wc({},e,{ref:t}))});function zre(e){return e===!0?$re:Bre}var Ure=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:v,responsive:b,dispatchTouchEvents:w=!0}=e,S=x.useRef(null),C=Kn(),[N,P]=x.useState(null),[D,_]=x.useState(null),T=Dre(),F=rk(),M=(F==null?void 0:F.width)>0?F.width:v,ee=(F==null?void 0:F.height)>0?F.height:i,te=x.useCallback($=>{T($),typeof t=="function"&&t($),P($),_($),$!=null&&(S.current=$)},[T,t,P,_]),le=x.useCallback($=>{C(X4($)),C(La({handler:a,reactEvent:$}))},[C,a]),ue=x.useCallback($=>{C(Xb($)),C(La({handler:c,reactEvent:$}))},[C,c]),J=x.useCallback($=>{C(T3()),C(La({handler:d,reactEvent:$}))},[C,d]),Y=x.useCallback($=>{C(Xb($)),C(La({handler:f,reactEvent:$}))},[C,f]),I=x.useCallback(()=>{C(nL())},[C]),A=x.useCallback($=>{C(tL($.key))},[C]),j=x.useCallback($=>{C(La({handler:s,reactEvent:$}))},[C,s]),W=x.useCallback($=>{C(La({handler:o,reactEvent:$}))},[C,o]),k=x.useCallback($=>{C(La({handler:l,reactEvent:$}))},[C,l]),O=x.useCallback($=>{C(La({handler:h,reactEvent:$}))},[C,h]),re=x.useCallback($=>{C(La({handler:g,reactEvent:$}))},[C,g]),X=x.useCallback($=>{w&&C(iL($)),C(La({handler:p,reactEvent:$}))},[C,w,p]),z=x.useCallback($=>{C(La({handler:m,reactEvent:$}))},[C,m]),Z=zre(b);return x.createElement(Y3.Provider,{value:N},x.createElement(_O.Provider,{value:D},x.createElement(Z,{width:M??(y==null?void 0:y.width),height:ee??(y==null?void 0:y.height),className:Sn("recharts-wrapper",r),style:Mre({position:"relative",cursor:"default",width:M,height:ee},y),onClick:le,onContextMenu:j,onDoubleClick:W,onFocus:I,onKeyDown:A,onMouseDown:k,onMouseEnter:ue,onMouseLeave:J,onMouseMove:Y,onMouseUp:O,onTouchEnd:z,onTouchMove:X,onTouchStart:re,ref:te},x.createElement(Lre,null),n)))}),Vre=["width","height","responsive","children","className","style","compact","title","desc"];function Wre(e,t){if(e==null)return{};var n,r,i=Hre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cL=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Wre(e,Vre),h=Ga(f);return l?x.createElement(x.Fragment,null,x.createElement($0,{width:n,height:r}),x.createElement($A,{otherAttributes:h,title:c,desc:d},a)):x.createElement(Ure,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement($A,{otherAttributes:h,title:c,desc:d,ref:t},x.createElement(ite,null,a)))});function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}var qre={top:5,right:5,bottom:5,left:5},Kre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:qre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Gre=x.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,Kre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(sL,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},x.createElement(L4,{chartData:c.data}),x.createElement(oL,{layout:i.layout,margin:i.margin}),x.createElement(lL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(cL,Zb({},i,{ref:n})))}),Yre=["axis"],Og=x.forwardRef((e,t)=>x.createElement(Gre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yre,tooltipPayloadSearcher:Z3,categoricalChartProps:e,ref:t}));function Xre(e){var t=Kn();return x.useEffect(()=>{t(xre(e))},[t,e]),null}var Zre=["layout"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function Qre(e,t){if(e==null)return{};var n,r,i=Jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eie={top:5,right:5,bottom:5,left:5},uL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:eie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},tie=x.forwardRef(function(t,n){var r,i=Qr(t.categoricalChartProps,uL),{layout:a}=i,s=Qre(i,Zre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(sL,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},x.createElement(L4,{chartData:i.data}),x.createElement(oL,{layout:a,margin:i.margin}),x.createElement(lL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Xre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(cL,Qb({},s,{ref:n})))});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return(t=rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aie=["item"],sie=BA(BA({},uL),{},{layout:"centric",startAngle:0,endAngle:360}),Jb=x.forwardRef((e,t)=>{var n=Qr(e,sie);return x.createElement(tie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:aie,tooltipPayloadSearcher:Z3,categoricalChartProps:n,ref:t})});const Tn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),zA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Xd=new Map,Su=new Map,oie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Xd.has(r)||Su.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Xd.set(r,s),s})();Su.set(r,i);try{await i}finally{Su.delete(r)}}))},lie=e=>{const[t,n]=x.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Xd.get(e)||zA:null});return x.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Xd.get(e);if(r){n(r);return}let i=!0;const a=Su.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Xd.set(e,l),l})();return Su.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(zA)}}).finally(()=>{Su.delete(e)}),()=>{i=!1}},[e]),t},cie=(e,t,n,r)=>{const[i,a]=x.useState("bottom"),[s,o]=x.useState(0);return x.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(D=>{let _=(D==null?void 0:D.parentElement)||null;for(;_;){const T=window.getComputedStyle(_),F=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(F))return _;_=_.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,v=f.top-g.top,b=y<h.height+8&&v>y?"top":"bottom";a(b);const w=6,S=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,P=Math.min(Math.max(S,C),N);o(P-S)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},uie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},dL=(e,t,n,r,i=8)=>{const[a,s]=x.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return x.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,v=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,v),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},die=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Kl(i||"Unknown"),s=r.length>1,[o,l]=x.useState(!1),c=x.useRef(null),d=x.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=cie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>nc(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",v={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:v,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${y} ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Kl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},fie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(die,{profession:e,professionList:t,className:n}),Tx=({count:e,classCounts:t,label:n,className:r})=>{const i=uie(t||{}),a=e>0,[s,o]=x.useState(!1),l=x.useRef(null),c=x.useRef(null),d=dL(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Kl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Er=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i=""})=>{const a=lie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[a?u.jsx("img",{src:a,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${i}`,children:e})]})},UA=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=x.useState(!1),o=x.useRef(null),l=x.useRef(null),c=dL(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&Yu.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${a?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Er,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},mie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:v,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:P,skillBarData:D,selectedSkillName:_,selectedSkillIcon:T,skillUsageReady:F,skillUsageAvailable:M,isSkillUsagePerSecond:ee,skillChartData:te,skillChartMaxY:le,playerTotalsForSkill:ue,hoveredSkillPlayer:J,setHoveredSkillPlayer:Y,getLineStrokeColor:I,getLineDashForPlayer:A,formatSkillUsageValue:j,renderProfessionIcon:W})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Tn,{value:v,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const O=d.get(k);return O?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:O.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[O.logs," ",O.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(O.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(pO,{className:"w-3 h-3"})})]},O.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const O=h===k.profession,re=k.players.map(z=>z.key),X=re.length>0&&re.every(z=>o.includes(z));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(O){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${O?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),O?u.jsx(ql,{className:"w-3.5 h-3.5"}):u.jsx(f6,{className:"w-3.5 h-3.5"})]})]})}),O&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(z=>{if(X)return z.filter($=>!re.includes($));const Z=new Set(z);return re.forEach($=>Z.add($)),Array.from(Z)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:X?"Clear All":"Select All"})]}),k.players.map(z=>{const Z=o.includes(z.key);return u.jsx("button",{type:"button",onClick:()=>p(z.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${Z?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:z.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[z.account,"  ",z.profession,"  ",z.logs," ",z.logs===1?"log":"logs"]})]}),Z&&u.jsx(fO,{className:"w-4 h-4 text-cyan-300"})]})},z.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${ee?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):D.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=D.reduce((O,re)=>Math.max(O,re.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:D.map((O,re)=>{const X=Math.min(100,O.total/k*100),z=N===O.skillId;return u.jsxs("button",{type:"button",onClick:()=>P(O.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${z?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${re+1}`}),u.jsx(Er,{name:O.name,iconUrl:O.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:j(O.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${X}%`,backgroundColor:O.color}})})]},O.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:F?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_?u.jsx(Er,{name:_,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",ee?"casts per second":"casts per log",")"]})]}),u.jsx(pc,{width:"100%",height:250,children:u.jsxs(Og,{data:te,children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const O=te[k],re=String((O==null?void 0:O.shortLabel)??k);return re.length>20?`${re.slice(0,20)}`:re}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,le)],allowDecimals:!1}),u.jsx(yc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:O,label:re})=>{var $;if(!k||!O||O.length===0)return null;const X=[...O].sort((G,ae)=>(ae.value||0)-(G.value||0)),z=X[0],Z=(($=z==null?void 0:z.payload)==null?void 0:$.fullLabel)||re;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:Z}),u.jsx("div",{className:"space-y-1",children:X.map(G=>{const ae=String(G.name||""),ne=d.get(ae),U=(ne==null?void 0:ne.displayName)||ae||"Player",B=j(Number(G.value||0)),L=G.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:L},children:U}),u.jsx("span",{className:"text-gray-200 font-mono",children:B})]},`${U}-${B}`)})})]})}}),o.map(k=>{const O=J.includes(k),re=J.length>0,X=I(k,O,re),z=A(k),Z=J.length>0&&!O;return u.jsx(eo,{dataKey:k,stroke:X,strokeWidth:O?4:3,strokeDasharray:z,opacity:Z?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,O)=>(ue.get(O)||0)-(ue.get(k)||0)).map(k=>{const O=d.get(k),re=ue.get(k)??0,X=J.includes(k),z=J.length>0,Z=I(k,X,z);return u.jsxs("button",{type:"button",onClick:()=>{Y($=>$.includes(k)?$.filter(G=>G!==k):[...$,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${X?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":X,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:Z,strokeWidth:"2",strokeDasharray:A(k),strokeLinecap:"round"})}),W(O==null?void 0:O.profession,O==null?void 0:O.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(O==null?void 0:O.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(O==null?void 0:O.logs)??0," ",((O==null?void 0:O.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:j(re)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:M?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),hie=({containerRef:e,className:t=""})=>{const n=x.useRef(null),[r,i]=x.useState(0),[a,s]=x.useState(0),o=x.useRef(!1),l=x.useRef(0),c=x.useRef(0);x.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=h,N=w>S,P=n.current,D=(P==null?void 0:P.clientWidth)||0;if(!D){m=window.requestAnimationFrame(p);return}if(!N){i(D),s(0);return}const _=S/w,T=Math.max(20,Math.floor(D*_)),F=w-S,M=Math.max(0,D-T),ee=F>0?Math.floor(C/F*M):0;i(T),s(ee)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const v=h.firstElementChild;v instanceof HTMLElement&&y.observe(v),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),x.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const v=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,v.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?S/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,v=Math.max(0,g.width-r),b=Math.min(v,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=v>0?b/v*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},ps=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=x.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(hie,{containerRef:c})]})},gs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(0),f=x.useRef(null),h=x.useRef(null),m=x.useRef(new Map);x.useEffect(()=>{const v=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=x.useMemo(()=>{const v=a.trim().toLowerCase();return v?e.filter(b=>b.label.toLowerCase().includes(v)).slice(0,50):e.slice(0,50)},[e,a]),g=x.useMemo(()=>{const v=new Map;return p.forEach((b,w)=>{v.set(`${b.type}-${b.id}`,w)}),v},[p]),y=x.useMemo(()=>{const v=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:v,players:b}},[p]);return x.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(v=>Math.min(Math.max(v,0),p.length-1))}},[p,o]),x.useEffect(()=>{if(!o)return;const v=p[c];if(!v)return;const b=`${v.type}-${v.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:v=>{s(v.target.value),l(!0)},onKeyDown:v=>{if(!o&&(v.key==="ArrowDown"||v.key==="ArrowUp")){l(!0);return}if(o)if(v.key==="ArrowDown"){if(v.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(v.key==="ArrowUp"){if(v.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(v.key==="Enter"){v.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else v.key==="Escape"&&(v.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(v=>{const b=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${v.type}-${v.id}`,w)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${v.type}-${v.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,u.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(v=>{const b=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${v.type}-${v.id}`,w)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${v.type}-${v.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,u.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]})]})})]})},vr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=x.useState(!1),c=x.useRef(null),d=new Set(t);return x.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},pie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:v,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:P,setApmView:D,formatApmValue:_,formatCastRateValue:T,formatCastCountValue:F,renderProfessionIcon:M})=>{var z;const[ee,te]=x.useState({key:"apm",dir:"desc"}),le=e==="apm-stats",[ue,J]=x.useState({columnId:"",dir:"desc"}),[Y,I]=x.useState([]),[A,j]=x.useState([]),[W,k]=x.useState({}),O=le?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,re=Z=>{te($=>({key:Z,dir:$.key===Z&&$.dir==="desc"?"asc":"desc"}))},X=x.useMemo(()=>{const Z=[...(S==null?void 0:S.playerRows)||[]];return Z.sort(($,G)=>{const ae=ee.key==="apm"?Number(P==="perSecond"?$.aps:$.apm):Number(P==="perSecond"?$.apsNoAuto:$.apmNoAuto),ne=ee.key==="apm"?Number(P==="perSecond"?G.aps:G.apm):Number(P==="perSecond"?G.apsNoAuto:G.apmNoAuto);return(ee.dir==="desc"?ne-ae:ae-ne)||String($.displayName||"").localeCompare(String(G.displayName||""))}),Z},[S,ee,P]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:Z=>w(Z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:O,children:d.map(Z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const $=f!==Z.profession;h(Z.profession),p($?Z.profession:m===Z.profession?null:Z.profession),$&&(y(v),I([]),j([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===Z.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(Z.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Z.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[Z.players.length,"p"]})})]})}),!le&&m===Z.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:W[Z.profession]||"",onChange:$=>{const G=$.target.value;k(ae=>({...ae,[Z.profession]:G}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(Z.profession),y(v)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Z.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(Z.skills||[]).filter($=>{const G=(W[Z.profession]||"").trim().toLowerCase();return G?String($.name||"").toLowerCase().includes(G):!0}).map($=>u.jsx("button",{type:"button",onClick:()=>{h(Z.profession),y($.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Z.profession&&g===$.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:$.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:$.name})]})},$.id)),(Z.skills||[]).filter($=>{const G=(W[Z.profession]||"").trim().toLowerCase();return G?String($.name||"").toLowerCase().includes(G):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Z.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[le&&(()=>{const Z=S.skills||[],$=(S.playerRows||[]).map(U=>({id:U.key,label:U.displayName||U.account||U.key,icon:M(U.profession,U.professionList,"w-3 h-3")})),G=Z.map(U=>({id:U.id,label:U.name,icon:U.icon?u.jsx("img",{src:U.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ae=[...Z.map(U=>({id:U.id,label:U.name,type:"column",icon:U.icon?u.jsx("img",{src:U.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(U=>({id:U.key,label:U.displayName||U.account||U.key,type:"player",icon:M(U.profession,U.professionList,"w-3 h-3")}))],ne=new Set([...Y.map(U=>`column:${U}`),...A.map(U=>`player:${U}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:ae,selectedIds:ne,onSelect:U=>{U.type==="column"?I(B=>B.includes(U.id)?B.filter(L=>L!==U.id):[...B,U.id]):j(B=>B.includes(U.id)?B.filter(L=>L!==U.id):[...B,U.id])},className:"w-full sm:w-64"}),u.jsx(vr,{options:G,selectedIds:Y,onToggle:U=>{I(B=>B.includes(U)?B.filter(L=>L!==U):[...B,U])},onClear:()=>I([]),buttonLabel:"Columns",buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:$,selectedIds:A,onToggle:U=>{j(B=>B.includes(U)?B.filter(L=>L!==U):[...B,U])},onClear:()=>j([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:P,onChange:D,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(Y.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{I([]),j([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),Y.map(U=>{var L;const B=((L=Z.find(Q=>Q.id===U))==null?void 0:L.name)||U;return u.jsxs("button",{type:"button",onClick:()=>I(Q=>Q.filter(we=>we!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},U)}),A.map(U=>{var L;const B=((L=$.find(Q=>Q.id===U))==null?void 0:L.label)||U;return u.jsxs("button",{type:"button",onClick:()=>j(Q=>Q.filter(we=>we!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},U)})]})]})})(),le?(()=>{var U,B;const Z=S.skills||[],$=Y.length>0?Z.filter(L=>Y.includes(L.id)):Z,G=A.length>0?(S.playerRows||[]).filter(L=>A.includes(L.key)):S.playerRows||[];if(Z.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ae=((U=$.find(L=>L.id===ue.columnId))==null?void 0:U.id)||((B=$[0])==null?void 0:B.id)||"",ne=[...G].map(L=>{const Q={},we={};return $.forEach(Re=>{var De;const ie=Number(((De=Re.playerCounts)==null?void 0:De.get(L.key))||0),Ue=P==="perSecond"?ie/Math.max(1,L.totalActiveSeconds||0):ie;we[Re.id]=Ue,Q[Re.id]=P==="perSecond"?T(Ue):F(Ue)}),{row:L,values:Q,numericValues:we}}).sort((L,Q)=>{const we=L.numericValues[ae]??0,Re=Q.numericValues[ae]??0;return(ue.dir==="desc"?Re-we:we-Re)||String(L.row.displayName||"").localeCompare(String(Q.row.displayName||""))});return u.jsx(ps,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ae,sortDirection:ue.dir,onSortColumn:L=>{J(Q=>({columnId:L,dir:Q.columnId===L&&Q.dir==="desc"?"asc":"desc"}))},columns:$.map(L=>({id:L.id,label:u.jsx(Er,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((L,Q)=>({id:`${S.profession}-${L.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Q+1}),M(L.row.profession,L.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:L.row.displayName})]}),values:L.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Er,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((z=S.playerRows)==null?void 0:z.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("apm"),className:`text-right transition-colors ${ee.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM",ee.key==="apm"?ee.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("apmNoAuto"),className:`text-right transition-colors ${ee.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[P==="perSecond"?"APS":"APM"," (No Auto)",ee.key==="apmNoAuto"?ee.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:P==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:X.map((Z,$)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${$+1}`}),M(Z.profession,Z.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:Z.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?Z.aps:Z.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(P==="perSecond"?Z.apsNoAuto:Z.apmNoAuto)})]},`${S.profession}-all-${Z.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((Z,$)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${$+1}`}),M(Z.profession,Z.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:Z.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F(Number(Z.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(P==="perSecond"?Z.aps||0:Z.apm||0))})]},`${S.profession}-${C.id}-${Z.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},gie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:v,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:P,skillSearch:D,setSkillSearch:_,activePlayerBreakdown:T,activePlayerSkill:F,activeClassBreakdown:M,activeClassSkill:ee,renderProfessionIcon:te})=>{const le=d.length,ue=((T==null?void 0:T.skills)||[]).reduce((B,L)=>B+(L.damage||0),0),J=(M==null?void 0:M.players)||[],[Y,I]=x.useState({key:"down",dir:"desc"}),A=e==="player-breakdown",[j,W]=x.useState([]),[k,O]=x.useState([]),[re,X]=x.useState({columnId:"",dir:"desc"}),[z,Z]=x.useState({}),[$,G]=x.useState({}),ae=A?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ne=x.useMemo(()=>{if(!M||!ee)return J;const B=[...J];return B.sort((L,Q)=>{var de,Be;const we=(de=L.skillMap)==null?void 0:de[ee.id],Re=(Be=Q.skillMap)==null?void 0:Be[ee.id],ie=Number((we==null?void 0:we.downContribution)||0),Ue=Number((Re==null?void 0:Re.downContribution)||0),De=Number((we==null?void 0:we.damage)||0),nt=Number((Re==null?void 0:Re.damage)||0),on=L.totalFightMs>0?De/(L.totalFightMs/1e3):0,Nn=Q.totalFightMs>0?nt/(Q.totalFightMs/1e3):0;let In=0;return Y.key==="down"&&(In=ie-Ue),Y.key==="damage"&&(In=De-nt),Y.key==="dps"&&(In=on-Nn),Y.dir==="asc"?In:-In}),B},[M,J,ee,Y]),U=B=>{I(L=>L.key!==B?{key:B,dir:"desc"}:{key:B,dir:L.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[le," ",le===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:A?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!A&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(B=>{const L=l===B.id;return u.jsx("button",{type:"button",onClick:()=>c(B.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${L?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:B.label},B.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:D,onChange:B=>_(B.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:ae,children:(A?"class":l)==="player"?d.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=h!==B.key;L&&(v(null),W([]),O([])),m(B.key),g(L?B.key:p===B.key?null:B.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===B.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:B.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(B.profession,B.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:B.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[B.skills.length," skills"]})})]})}),!A&&p===B.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:z[B.key]||"",onChange:L=>{const Q=L.target.value;Z(we=>({...we,[B.key]:Q}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(L=>{const Q=(z[B.key]||"").trim().toLowerCase();return Q?String(L.name||"").toLowerCase().includes(Q):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{m(B.key),v(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===B.key&&y===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:L.name})]})},L.id)),B.skills.filter(L=>{const Q=(z[B.key]||"").trim().toLowerCase();return Q?String(L.name||"").toLowerCase().includes(Q):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.key)):f.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const L=b!==B.profession;L&&(P(null),W([]),O([])),w(B.profession),C(L?B.profession:S===B.profession?null:B.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===B.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(B.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[B.players.length,"p"]})})]})}),!A&&S===B.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:$[B.profession]||"",onChange:L=>{const Q=L.target.value;G(we=>({...we,[B.profession]:Q}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(L=>{const Q=($[B.profession]||"").trim().toLowerCase();return Q?String(L.name||"").toLowerCase().includes(Q):!0}).map(L=>u.jsx("button",{type:"button",onClick:()=>{w(B.profession),P(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===B.profession&&N===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:L.name})]})},L.id)),B.skills.filter(L=>{const Q=($[B.profession]||"").trim().toLowerCase();return Q?String(L.name||"").toLowerCase().includes(Q):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(A?"class":l)==="player"?!T||!A&&!F?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[A&&(()=>{const B=T.skills||[],L=d.map(ie=>({id:ie.key,label:ie.displayName||ie.key,icon:te(ie.profession,ie.professionList,"w-3 h-3")})),Q=B.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),we=[...B.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ie=>({id:ie.key,label:ie.displayName||ie.key,type:"player",icon:te(ie.profession,ie.professionList,"w-3 h-3")}))],Re=new Set([...j.map(ie=>`column:${ie}`),...k.map(ie=>`player:${ie}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:we,selectedIds:Re,onSelect:ie=>{ie.type==="column"?W(Ue=>Ue.includes(ie.id)?Ue.filter(De=>De!==ie.id):[...Ue,ie.id]):O(Ue=>Ue.includes(ie.id)?Ue.filter(De=>De!==ie.id):[...Ue,ie.id])},className:"w-full sm:w-64"}),u.jsx(vr,{options:Q,selectedIds:j,onToggle:ie=>{W(Ue=>Ue.includes(ie)?Ue.filter(De=>De!==ie):[...Ue,ie])},onClear:()=>W([]),buttonLabel:"Columns",buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:L,selectedIds:k,onToggle:ie=>{O(Ue=>Ue.includes(ie)?Ue.filter(De=>De!==ie):[...Ue,ie])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{W([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(ie=>{var De;const Ue=((De=B.find(nt=>nt.id===ie))==null?void 0:De.name)||ie;return u.jsxs("button",{type:"button",onClick:()=>W(nt=>nt.filter(on=>on!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ue}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)}),k.map(ie=>{var De;const Ue=((De=L.find(nt=>nt.id===ie))==null?void 0:De.label)||ie;return u.jsxs("button",{type:"button",onClick:()=>O(nt=>nt.filter(on=>on!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ue}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),A?(()=>{var ie,Ue;const B=T.skills||[],L=j.length>0?B.filter(De=>j.includes(De.id)):B,Q=k.length>0?d.filter(De=>k.includes(De.key)):d,we=((ie=L.find(De=>De.id===re.columnId))==null?void 0:ie.id)||((Ue=L[0])==null?void 0:Ue.id)||"",Re=Q.map(De=>{const nt={},on={};return L.forEach(Nn=>{var Be;const In=(Be=De.skillMap)==null?void 0:Be[Nn.id],de=Number((In==null?void 0:In.damage)||0);on[Nn.id]=de,nt[Nn.id]=Lo(de)}),{player:De,values:nt,numericValues:on}}).sort((De,nt)=>{const on=De.numericValues[we]??0,Nn=nt.numericValues[we]??0;return(re.dir==="desc"?Nn-on:on-Nn)||String(De.player.displayName||"").localeCompare(String(nt.player.displayName||""))});return u.jsx(ps,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:we,sortDirection:re.dir,onSortColumn:De=>{X(nt=>({columnId:De,dir:nt.columnId===De&&nt.dir==="desc"?"asc":"desc"}))},columns:L.map(De=>({id:De.id,label:u.jsx(Er,{name:De.name,iconUrl:De.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Re.map((De,nt)=>({id:`${De.player.key}-${nt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:nt+1}),te(De.player.profession,De.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:De.player.displayName})]}),values:De.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Er,{name:(F==null?void 0:F.name)||"",iconUrl:F==null?void 0:F.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",Lo(ue)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Lo((F==null?void 0:F.downContribution)||0)},{label:"Total Damage",value:Lo((F==null?void 0:F.damage)||0)},{label:"DPS",value:$a(T.totalFightMs>0?((F==null?void 0:F.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(B=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:B.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:B.value})]},B.label))})]})]}):!M||!A&&!ee?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[A&&(()=>{const B=M.skills||[],L=J.map(ie=>({id:ie.key,label:ie.displayName||ie.key,icon:te(ie.profession,ie.professionList,"w-3 h-3")})),Q=B.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),we=[...B.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?u.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...J.map(ie=>({id:ie.key,label:ie.displayName||ie.key,type:"player",icon:te(ie.profession,ie.professionList,"w-3 h-3")}))],Re=new Set([...j.map(ie=>`column:${ie}`),...k.map(ie=>`player:${ie}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:we,selectedIds:Re,onSelect:ie=>{ie.type==="column"?W(Ue=>Ue.includes(ie.id)?Ue.filter(De=>De!==ie.id):[...Ue,ie.id]):O(Ue=>Ue.includes(ie.id)?Ue.filter(De=>De!==ie.id):[...Ue,ie.id])},className:"w-full sm:w-64"}),u.jsx(vr,{options:Q,selectedIds:j,onToggle:ie=>{W(Ue=>Ue.includes(ie)?Ue.filter(De=>De!==ie):[...Ue,ie])},onClear:()=>W([]),buttonLabel:"Columns",buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:L,selectedIds:k,onToggle:ie=>{O(Ue=>Ue.includes(ie)?Ue.filter(De=>De!==ie):[...Ue,ie])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{W([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(ie=>{var De;const Ue=((De=B.find(nt=>nt.id===ie))==null?void 0:De.name)||ie;return u.jsxs("button",{type:"button",onClick:()=>W(nt=>nt.filter(on=>on!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ue}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)}),k.map(ie=>{var De;const Ue=((De=L.find(nt=>nt.id===ie))==null?void 0:De.label)||ie;return u.jsxs("button",{type:"button",onClick:()=>O(nt=>nt.filter(on=>on!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ue}),u.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),A?(()=>{var ie,Ue;const B=M.skills||[],L=j.length>0?B.filter(De=>j.includes(De.id)):B,Q=k.length>0?J.filter(De=>k.includes(De.key)):J,we=((ie=L.find(De=>De.id===re.columnId))==null?void 0:ie.id)||((Ue=L[0])==null?void 0:Ue.id)||"",Re=Q.map(De=>{const nt={},on={};return L.forEach(Nn=>{var Be;const In=(Be=De.skillMap)==null?void 0:Be[Nn.id],de=Number((In==null?void 0:In.damage)||0);on[Nn.id]=de,nt[Nn.id]=Lo(de)}),{player:De,values:nt,numericValues:on}}).sort((De,nt)=>{const on=De.numericValues[we]??0,Nn=nt.numericValues[we]??0;return(re.dir==="desc"?Nn-on:on-Nn)||String(De.player.displayName||"").localeCompare(String(nt.player.displayName||""))});return u.jsx(ps,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:we,sortDirection:re.dir,onSortColumn:De=>{X(nt=>({columnId:De,dir:nt.columnId===De&&nt.dir==="desc"?"asc":"desc"}))},columns:L.map(De=>({id:De.id,label:u.jsx(Er,{name:De.name,iconUrl:De.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Re.map((De,nt)=>({id:`${De.player.key}-${nt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:nt+1}),te(De.player.profession,De.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:De.player.displayName})]}),values:De.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(M.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:M.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Er,{name:(ee==null?void 0:ee.name)||"",iconUrl:ee==null?void 0:ee.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[J.length," players | ",M.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>U("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Y.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:Y.key==="down"?Y.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>U("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Y.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:Y.key==="damage"?Y.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>U("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Y.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:Y.key==="dps"?Y.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ne.map(B=>{var ie;const L=(ie=B.skillMap)==null?void 0:ie[(ee==null?void 0:ee.id)||""],Q=Number((L==null?void 0:L.downContribution)||0),we=Number((L==null?void 0:L.damage)||0),Re=B.totalFightMs>0?we/(B.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(B.profession,B.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:B.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Lo(Q)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Lo(we)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$a(Re,1)})]},`${M.profession}-${B.key}`)})})]})]})})]})})]})},fL=({className:e})=>u.jsx(N6,{className:e,style:{transform:"rotate(45deg)"}}),Eo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),Do=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),vie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v,sidebarListClass:b})=>{var A;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((A=t[0])==null?void 0:A.id)||"value",dir:"desc"}),P=f==="offense-detailed",[D,_]=x.useState([]),[T,F]=x.useState([]),M=t.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),ee=t.map(j=>({id:j.id,label:j.label})),te=ee.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),ue=D.length>0?t.filter(j=>D.includes(j.id)):t,J=Array.from(new Map(e.offensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),Y=new Set([...D.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),I=j=>{S(W=>({key:j,dir:W.key===j&&W.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:v("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(fL,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...ee.map(j=>({...j,type:"column"})),...J.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):F(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:Y,className:"w-full sm:w-64"}),u.jsx(vr,{options:te,selectedIds:D,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:J,selectedIds:T,onToggle:j=>{F(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const W=((k=ee.find(O=>O.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>F(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var X,z;const j=Z=>Math.max(1,(Z.totalFightMs||0)/1e3),W=(Z,$,G)=>{var ae,ne,U,B,L;if($==="downContributionPercent"){const Q=((ae=Z.offenseTotals)==null?void 0:ae.downContribution)||0,we=((ne=Z.offenseTotals)==null?void 0:ne.damage)||0;return we>0?Q/we*100:0}if(G.isRate){const Q=((U=Z.offenseRateWeights)==null?void 0:U[$])||0,we=((B=Z.offenseTotals)==null?void 0:B[$])||0;return Q>0?we/Q*100:0}return((L=Z.offenseTotals)==null?void 0:L[$])||0},k=(Z,$)=>{const G=n&&!$.isPercent&&o==="total"?0:2,ae=c(Z,G);return $.isPercent?`${ae}%`:ae},O=((X=ue.find(Z=>Z.id===C.columnId))==null?void 0:X.id)||((z=ue[0])==null?void 0:z.id)||"",re=[...e.offensePlayers].filter(Z=>T.length===0||T.includes(Z.account)).map(Z=>{const $={},G={};return ue.forEach(ae=>{const ne=W(Z,ae.id,ae),U=o==="total"||ae.isPercent||ae.isRate?ne:o==="per1s"?ne/j(Z):ne*60/j(Z);G[ae.id]=U,$[ae.id]=k(U,ae)}),{row:Z,values:$,numericValues:G}}).sort((Z,$)=>{const G=Z.numericValues[O]??0,ae=$.numericValues[O]??0;return(C.dir==="desc"?ae-G:G-ae)||String(Z.row.account||"").localeCompare(String($.row.account||""))});return u.jsx(ps,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:O,sortDirection:C.dir,onSortColumn:Z=>{N($=>({columnId:Z,dir:$.columnId===Z&&$.dir==="desc"?"asc":"desc"}))},columns:ue.map(Z=>({id:Z.id,label:Z.label,align:"right",minWidth:90})),rows:re.map((Z,$)=>({id:`${Z.row.account}-${$}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:$+1}),d(Z.row.profession,Z.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Z.row.account})]}),values:Z.values}))})})()})]}):u.jsx(Eo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:j=>i(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):M.map(j=>u.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(X=>X.id===a)||t[0],W=X=>Math.max(1,(X.totalFightMs||0)/1e3),k=X=>{var z,Z,$,G,ae;if(j.id==="downContributionPercent"){const ne=((z=X.offenseTotals)==null?void 0:z.downContribution)||0,U=((Z=X.offenseTotals)==null?void 0:Z.damage)||0;return U>0?ne/U*100:0}if(j.isRate){const ne=(($=X.offenseRateWeights)==null?void 0:$[j.id])||0,U=((G=X.offenseTotals)==null?void 0:G[j.id])||0;return ne>0?U/ne*100:0}return((ae=X.offenseTotals)==null?void 0:ae[j.id])||0},O=X=>{const z=n&&!j.isPercent&&o==="total"?0:2,Z=c(X,z);return j.isPercent?`${Z}%`:Z},re=[...e.offensePlayers].map(X=>({...X,total:k(X),per1s:j.isPercent||j.isRate?k(X):k(X)/W(X),per60s:j.isPercent||j.isRate?k(X):k(X)*60/W(X)})).sort((X,z)=>{const Z=w.key==="fightTime"?Number(X.totalFightMs||0):Number(o==="total"?X.total:o==="per1s"?X.per1s:X.per60s),$=w.key==="fightTime"?Number(z.totalFightMs||0):Number(o==="total"?z.total:o==="per1s"?z.per1s:z.per60s);return(w.dir==="desc"?$-Z:Z-$)||X.account.localeCompare(z.account)});return u.jsx(Do,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:re.map((X,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(X.profession,X.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:X.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Z=o==="total"?X.total:o==="per1s"?X.per1s:X.per60s;return O(Z)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:X.totalFightMs?`${(X.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${X.account}-${z}`))})})})()})})]})},xie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var A;const C=m==="conditions-outgoing",[N,P]=x.useState([]),[D,_]=x.useState([]),[T,F]=x.useState({columnId:"all",dir:"desc"}),M=j=>{if(!j)return 0;if(s!=="outgoing"){const re=Number(j.applicationsFromUptime);return Number.isFinite(re)&&re>0?re:Number(j.applications||0)}const W=Number(j.applicationsFromUptime);if(Number.isFinite(W)&&W>0)return W;const k=Number(j.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const O=Number(j.applicationsFromBuffs);return Number.isFinite(O)&&O>0?O:Number(j.applications||0)},ee=[...e||[]].sort((j,W)=>(W.damage||0)-(j.damage||0)),te=ee.filter(j=>j.name.toLowerCase().includes(n.trim().toLowerCase())),le=te.map(j=>({id:j.name,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),J=N.length>0?ee.filter(j=>N.includes(j.name)):ee,Y=Array.from(new Map((t||[]).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:h(j.profession,j.professionList,"w-3 h-3")})),I=new Set([...N.map(j=>`column:${j}`),...D.map(j=>`player:${j}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":v("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(c0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...ee.map(j=>({id:j.name,label:j.name,type:"column"})),...Y.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?P(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:I,className:"w-full sm:w-64"}),u.jsx(vr,{options:le,selectedIds:N,onToggle:j=>{P(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>P([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:Y,selectedIds:D,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Tn,{value:c.key,onChange:j=>d({key:j,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:te.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const j=c.key,W=[{id:"all",label:"All Conditions",icon:null},...J],k=(t||[]).filter(X=>D.length===0||D.includes(X.account)).map(X=>{const z=X.conditions||{},Z={},$={};return W.forEach(G=>{if(G.id==="all"||G.name==="All Conditions"){const U=Object.values(z).reduce((L,Q)=>{const we=M(Q);return L.applications+=Number(we||0),L.damage+=Number((Q==null?void 0:Q.damage)||0),L},{applications:0,damage:0}),B=j==="applications"?U.applications:U.damage;$.all=B||0,Z.all=Math.round(B||0).toLocaleString();return}const ae=z[G.name],ne=j==="applications"?M(ae):Number((ae==null?void 0:ae.damage)||0);$[G.name]=Number(ne||0),Z[G.name]=Math.round(ne||0).toLocaleString()}),{player:X,values:Z,numericValues:$}}).filter(X=>Object.values(X.values).some(z=>z!=="0")),O=["all",...J.map(X=>X.name)].includes(T.columnId)?T.columnId:"all",re=[...k].sort((X,z)=>{const Z=X.numericValues[O]??0,$=z.numericValues[O]??0;return(T.dir==="desc"?$-Z:Z-$)||String(X.player.account||"").localeCompare(String(z.player.account||""))});return u.jsx(ps,{title:"Conditions - Dense View",subtitle:j==="applications"?"Applications":"Damage",sortColumnId:O,sortDirection:T.dir,onSortColumn:X=>{F(z=>({columnId:X,dir:z.columnId===X&&z.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...J.map(X=>({id:X.name,label:u.jsx(Er,{name:X.name,iconUrl:X.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:re.map((X,z)=>({id:`${X.player.account}-${z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),h(X.player.profession,X.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:X.player.account})]}),values:X.values}))})})()}),(N.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(j=>u.jsxs("button",{type:"button",onClick:()=>P(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j)),D.map(j=>u.jsxs("button",{type:"button",onClick:()=>_(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}):u.jsx(Eo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:te.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),te.map(j=>u.jsx("button",{type:"button",onClick:()=>a(j.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Er,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})},j.name))]})})]}),content:u.jsx(Do,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Er,{name:i,iconUrl:(A=e.find(j=>j.name===i))==null?void 0:A.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const W=(t||[]).map(k=>{const O=k.conditions||{};if(i==="all"){const X=Object.values(O).reduce((z,Z)=>{const $=M(Z);return z.applications+=Number($||0),z.damage+=Number((Z==null?void 0:Z.damage)||0),z},{applications:0,damage:0});return{...k,applications:X.applications,damage:X.damage}}const re=O[i];return{...k,applications:M(re),damage:Number((re==null?void 0:re.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,O)=>{const re=c.key==="applications"?k.applications||0:k.damage||0,X=c.key==="applications"?O.applications||0:O.damage||0,z=c.dir==="desc"?X-re:re-X;if(z!==0)return z;const Z=c.key==="applications"?(O.damage||0)-(k.damage||0):(O.applications||0)-(k.applications||0);return Z!==0?Z:String(k.account||"").localeCompare(String(O.account||""))});return W.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):W.map((k,O)=>{var U;const re=k.conditions||{};let X={};i==="all"?Object.values(re).forEach(B=>{const L=(B==null?void 0:B.skills)||{};Object.values(L).forEach(Q=>{const we=(Q==null?void 0:Q.name)||"Unknown",Re=Number((Q==null?void 0:Q.hits)||0),ie=Number((Q==null?void 0:Q.damage)||0);if((!Number.isFinite(Re)||Re<=0)&&(!Number.isFinite(ie)||ie<=0))return;const Ue=X[we]||{name:we,hits:0,damage:0,icon:Q==null?void 0:Q.icon};Ue.hits+=Number.isFinite(Re)?Re:0,Ue.damage+=Number.isFinite(ie)?ie:0,!Ue.icon&&(Q!=null&&Q.icon)&&(Ue.icon=Q.icon),X[we]=Ue})}):X=((U=re[i])==null?void 0:U.skills)||{};const z=Object.values(X).filter(B=>Number.isFinite(B.hits)&&B.hits>0).sort((B,L)=>L.hits-B.hits||B.name.localeCompare(L.name)),Z=Object.values(X).filter(B=>Number.isFinite(B.damage)&&B.damage>0).sort((B,L)=>L.damage-B.damage||B.name.localeCompare(L.name)),$=i==="all"&&z.length>0,G=i==="all"&&Z.length>0,ae=Math.round(k.applications||0).toLocaleString(),ne=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$?u.jsx(UA,{value:ae,label:"Condition Sources",items:z.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.hits).toLocaleString()})),className:"justify-end"}):ae}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:G?u.jsx(UA,{value:ne,label:"Condition Damage Sources",items:Z.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.damage).toLocaleString()})),className:"justify-end"}):ne}):null]},`${k.account}-${O}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},yie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[P,D]=x.useState({key:"value",dir:"desc"}),[_,T]=x.useState({columnId:"",dir:"desc"}),F=g==="boon-output",[M,ee]=x.useState([]),[te,le]=x.useState([]),ue=e.boonTables||[],Y=M.length>0?ue.filter(k=>M.includes(k.id)):ue,I=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),A=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),j=new Set([...M.map(k=>`column:${k}`),...te.map(k=>`player:${k}`)]),W=k=>{D(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():v("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):F?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...ue.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?ee(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id]):le(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id])},selectedIds:j,className:"w-full sm:w-64"}),u.jsx(vr,{options:I,selectedIds:M,onToggle:k=>{ee(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>ee([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:A,selectedIds:te,onToggle:k=>{le(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>le([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||te.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{ee([]),le([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>{var re;const O=((re=ue.find(X=>X.id===k))==null?void 0:re.name)||k;return u.jsxs("button",{type:"button",onClick:()=>ee(X=>X.filter(z=>z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:O}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),te.map(k=>u.jsxs("button",{type:"button",onClick:()=>le(O=>O.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ue.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var Z,$;const k=Y,O=((Z=k.find(G=>G.id===_.columnId))==null?void 0:Z.id)||(a&&k.some(G=>G.id===a)?a:void 0)||(($=k[0])==null?void 0:$.id)||"",re=new Map,X=new Map;k.forEach(G=>{const ae=new Map;G.rows.forEach(ne=>{const U=ne.account||ne.name||ne.id;U&&(ae.set(U,ne),X.has(U)||X.set(U,ne))}),re.set(G.id,ae)});const z=Array.from(X.entries()).filter(([G])=>te.length===0||te.includes(String(G))).map(([G,ae])=>{const ne={};return k.forEach(U=>{var L;const B=(L=re.get(U.id))==null?void 0:L.get(G);ne[U.id]=B?f(B,t,U.stacking,r,{roundCountStats:p}):"-"}),{key:G,row:ae,values:ne}}).sort((G,ae)=>{var Re,ie;if(!O)return String(G.key).localeCompare(String(ae.key));const ne=k.find(Ue=>Ue.id===O),U=ne?(Re=re.get(ne.id))==null?void 0:Re.get(G.key):null,B=ne?(ie=re.get(ne.id))==null?void 0:ie.get(ae.key):null,L=U?h(U,t,ne==null?void 0:ne.stacking,r):0,Q=B?h(B,t,ne==null?void 0:ne.stacking,r):0;return(_.dir==="desc"?Q-L:L-Q)||String(G.key).localeCompare(String(ae.key))});return u.jsx(ps,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:O,sortDirection:_.dir,onSortColumn:G=>{T(ae=>({columnId:G,dir:ae.columnId===G&&ae.dir==="desc"?"asc":"desc"}))},columns:k.map(G=>({id:G.id,label:u.jsx(Er,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:z.map((G,ae)=>({id:`${G.key}-${ae}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ae+1}),m(G.row.profession,G.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.row.account||G.row.name||G.key})]}),values:G.values}))})})()})]}):u.jsx(Eo,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Er,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(Do,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Er,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Tn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>W("value"),className:`text-right transition-colors ${P.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",P.key==="value"?P.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>W("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,O)=>(()=>{const re=P.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),X=P.key==="fightTime"?Number(O.activeTimeMs||0):h(O,t,o.stacking,r);return(P.dir==="desc"?X-re:re-X)||String(k.account||"").localeCompare(String(O.account||""))})()).map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${O}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},bie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v,sidebarListClass:b})=>{var A;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((A=t[0])==null?void 0:A.id)||"value",dir:"desc"}),P=f==="defense-detailed",[D,_]=x.useState([]),[T,F]=x.useState([]),M=t.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),ee=t.map(j=>({id:j.id,label:j.label})),te=ee.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),ue=D.length>0?t.filter(j=>D.includes(j.id)):t,J=Array.from(new Map(e.defensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),Y=new Set([...D.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),I=j=>{S(W=>({key:j,dir:W.key===j&&W.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:v("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...ee.map(j=>({...j,type:"column"})),...J.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):F(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:Y,className:"w-full sm:w-64"}),u.jsx(vr,{options:te,selectedIds:D,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:J,selectedIds:T,onToggle:j=>{F(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const W=((k=ee.find(O=>O.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>F(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var re,X;const j=z=>Math.max(1,(z.activeMs||0)/1e3),W=(z,Z)=>{const $=Z.isPercent,ae=c(z,l&&!$&&s==="total"?0:2);return $?`${ae}%`:ae},k=((re=ue.find(z=>z.id===C.columnId))==null?void 0:re.id)||((X=ue[0])==null?void 0:X.id)||"",O=[...e.defensePlayers].filter(z=>T.length===0||T.includes(z.account)).map(z=>{const Z={},$={};return ue.forEach(G=>{var B;const ae=((B=z.defenseTotals)==null?void 0:B[G.id])||0,ne=G.isPercent,U=s==="total"||ne?ae:s==="per1s"?ae/j(z):ae*60/j(z);$[G.id]=U,Z[G.id]=W(U,G)}),{row:z,values:Z,numericValues:$}}).sort((z,Z)=>{const $=z.numericValues[k]??0,G=Z.numericValues[k]??0;return(C.dir==="desc"?G-$:$-G)||String(z.row.account||"").localeCompare(String(Z.row.account||""))});return u.jsx(ps,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:k,sortDirection:C.dir,onSortColumn:z=>{N(Z=>({columnId:z,dir:Z.columnId===z&&Z.dir==="desc"?"asc":"desc"}))},columns:ue.map(z=>({id:z.id,label:z.label,align:"right",minWidth:90})),rows:O.map((z,Z)=>({id:`${z.row.account}-${Z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Z+1}),d(z.row.profession,z.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:z.row.account})]}),values:z.values}))})})()})]}):u.jsx(Eo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:M.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):M.map(j=>u.jsx("button",{onClick:()=>a(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(O=>O.id===i)||t[0],W=O=>Math.max(1,(O.activeMs||0)/1e3),k=[...e.defensePlayers].map(O=>{var re,X,z;return{...O,total:((re=O.defenseTotals)==null?void 0:re[j.id])||0,per1s:(((X=O.defenseTotals)==null?void 0:X[j.id])||0)/W(O),per60s:(((z=O.defenseTotals)==null?void 0:z[j.id])||0)*60/W(O)}}).sort((O,re)=>{const X=w.key==="fightTime"?Number(O.activeMs||0):Number(s==="total"?O.total:s==="per1s"?O.per1s:O.per60s),z=w.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s);return(w.dir==="desc"?z-X:X-z)||O.account.localeCompare(re.account)});return u.jsx(Do,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:k.map((O,re)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(O.profession,O.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const X=s==="total"?O.total:s==="per1s"?O.per1s:O.per60s;return c(X,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:O.activeMs?`${(O.activeMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${O.account}-${re}`))})})})()})})]})},wie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var ae,ne;const C=((ae=t.find(U=>U.id==="totalMitigation"))==null?void 0:ae.id)||((ne=t[0])==null?void 0:ne.id)||"totalMitigation",[N,P]=x.useState({key:"value",dir:"desc"}),[D,_]=x.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[F,M]=x.useState([]),[ee,te]=x.useState([]),[le,ue]=x.useState([]),J=e.damageMitigationPlayers||[],Y=e.damageMitigationMinions||[],I=l==="minions"?Y:J,A=J.length>0||Y.length>0,j=t.filter(U=>U.label.toLowerCase().includes(n.trim().toLowerCase())),W=t.map(U=>({id:U.id,label:U.label})),k=W.filter(U=>U.label.toLowerCase().includes(n.trim().toLowerCase())),re=F.length>0?t.filter(U=>F.includes(U.id)):t,X=Array.from(new Map(I.map(U=>[U.account,U])).values()).map(U=>({id:U.account,label:U.account,icon:h(U.profession,U.professionList,"w-3 h-3")})),z=Array.from(new Map(Y.map(U=>[U.minion,U])).values()).filter(U=>U==null?void 0:U.minion).map(U=>({id:String(U.minion),label:String(U.minion)})),Z=new Set([...F.map(U=>`column:${U}`),...ee.map(U=>`player:${U}`)]),$=U=>{P(B=>({key:U,dir:B.key===U&&B.dir==="desc"?"asc":"desc"}))},G=U=>f(U,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":v("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),A?T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...W.map(U=>({...U,type:"column"})),...X.map(U=>({...U,type:"player"}))],onSelect:U=>{U.type==="column"?M(B=>B.includes(U.id)?B.filter(L=>L!==U.id):[...B,U.id]):te(B=>B.includes(U.id)?B.filter(L=>L!==U.id):[...B,U.id])},selectedIds:Z,className:"w-full sm:w-64"}),u.jsx(vr,{options:k,selectedIds:F,onToggle:U=>{M(B=>B.includes(U)?B.filter(L=>L!==U):[...B,U])},onClear:()=>M([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:X,selectedIds:ee,onToggle:U=>{te(B=>B.includes(U)?B.filter(L=>L!==U):[...B,U])},onClear:()=>te([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(vr,{options:z,selectedIds:le,onToggle:U=>{ue(B=>B.includes(U)?B.filter(L=>L!==U):[...B,U])},onClear:()=>ue([]),buttonLabel:"Minions"}),u.jsx(Tn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(F.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),te([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),F.map(U=>{var L;const B=((L=W.find(Q=>Q.id===U))==null?void 0:L.label)||U;return u.jsxs("button",{type:"button",onClick:()=>M(Q=>Q.filter(we=>we!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},U)}),ee.map(U=>u.jsxs("button",{type:"button",onClick:()=>te(B=>B.filter(L=>L!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},U))]}),l==="minions"&&le.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>ue([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),le.map(U=>u.jsxs("button",{type:"button",onClick:()=>ue(B=>B.filter(L=>L!==U)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},U))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var Q,we;const U=Re=>Math.max(1,(Re.activeMs||0)/1e3),B=((Q=re.find(Re=>Re.id===D.columnId))==null?void 0:Q.id)||((we=re[0])==null?void 0:we.id)||"",L=[...I].filter(Re=>ee.length===0||ee.includes(Re.account)).filter(Re=>l!=="minions"||!le.length?!0:le.includes(String(Re.minion||""))).map(Re=>{const ie={},Ue={};return re.forEach(De=>{var Nn;const nt=((Nn=Re.mitigationTotals)==null?void 0:Nn[De.id])||0,on=s==="total"?nt:s==="per1s"?nt/U(Re):nt*60/U(Re);Ue[De.id]=on,ie[De.id]=G(on)}),{row:Re,values:ie,numericValues:Ue}}).sort((Re,ie)=>{const Ue=Re.numericValues[B]??0,De=ie.numericValues[B]??0;return(D.dir==="desc"?De-Ue:Ue-De)||String(Re.row.account||"").localeCompare(String(ie.row.account||""))});return u.jsx(ps,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:D.dir,onSortColumn:Re=>{_(ie=>({columnId:Re,dir:ie.columnId===Re&&ie.dir==="desc"?"asc":"desc"}))},columns:re.map(Re=>({id:Re.id,label:Re.label,align:"right",minWidth:90})),rows:L.map((Re,ie)=>({id:`${Re.row.account}-${Re.row.minion||"player"}-${ie}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ie+1}),h(Re.row.profession,Re.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Re.row.account}),Re.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Re.row.minion})]})]}),values:Re.values}))})})()})]}):u.jsx(Eo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:U=>r(U.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(U=>u.jsx("button",{onClick:()=>a(U.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===U.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:U.label},U.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const U=t.find(Q=>Q.id===i)||t[0],B=Q=>Math.max(1,(Q.activeMs||0)/1e3),L=[...I].map(Q=>{var we,Re,ie;return{...Q,total:((we=Q.mitigationTotals)==null?void 0:we[U.id])||0,per1s:(((Re=Q.mitigationTotals)==null?void 0:Re[U.id])||0)/B(Q),per60s:(((ie=Q.mitigationTotals)==null?void 0:ie[U.id])||0)*60/B(Q)}}).filter(Q=>l!=="minions"||!le.length?!0:le.includes(String(Q.minion||""))).sort((Q,we)=>{const Re=N.key==="fightTime"?Number(Q.activeMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s),ie=N.key==="fightTime"?Number(we.activeMs||0):Number(s==="total"?we.total:s==="per1s"?we.per1s:we.per60s);return(N.dir==="desc"?ie-Re:Re-ie)||Q.account.localeCompare(we.account)});return u.jsx(Do,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:U.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Tn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:L.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:L.map((Q,we)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:we+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(Q.profession,Q.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Q.account}),Q.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Q.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Re=s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s;return G(Re)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.activeMs?`${(Q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${U.id}-${Q.account}-${Q.minion||"player"}-${we}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},kie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var W;const[C,N]=x.useState({key:"value",dir:"desc"}),[P,D]=x.useState({columnId:((W=t[0])==null?void 0:W.id)||"value",dir:"desc"}),_=m==="support-detailed",[T,F]=x.useState([]),[M,ee]=x.useState([]),te=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(k=>({id:k.id,label:k.label})),ue=le.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),Y=T.length>0?t.filter(k=>T.includes(k.id)):t,I=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),A=new Set([...T.map(k=>`column:${k}`),...M.map(k=>`player:${k}`)]),j=k=>{N(O=>({key:k,dir:O.key===k&&O.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":v("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...le.map(k=>({...k,type:"column"})),...I.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?F(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id]):ee(O=>O.includes(k.id)?O.filter(re=>re!==k.id):[...O,k.id])},selectedIds:A,className:"w-full sm:w-64"}),u.jsx(vr,{options:ue,selectedIds:T,onToggle:k=>{F(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>F([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:I,selectedIds:M,onToggle:k=>{ee(O=>O.includes(k)?O.filter(re=>re!==k):[...O,k])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(Tn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||M.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{F([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var re;const O=((re=le.find(X=>X.id===k))==null?void 0:re.label)||k;return u.jsxs("button",{type:"button",onClick:()=>F(X=>X.filter(z=>z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:O}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>ee(O=>O.filter(re=>re!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:te.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var Z,$;const k=(G,ae)=>{var ne,U,B;if(ae==="condiCleanse"){const L=((ne=G.supportTotals)==null?void 0:ne.condiCleanse)||0,Q=((U=G.supportTotals)==null?void 0:U.condiCleanseSelf)||0;return l==="all"?L+Q:L}return((B=G.supportTotals)==null?void 0:B[ae])||0},O=G=>Math.max(1,(G.activeMs||0)/1e3),re=(G,ae)=>{const ne=G.isTime?1:d&&s==="total"?0:2;return f(ae,ne)},X=((Z=Y.find(G=>G.id===P.columnId))==null?void 0:Z.id)||(($=Y[0])==null?void 0:$.id)||"",z=[...e.supportPlayers].filter(G=>M.length===0||M.includes(G.account)).map(G=>{const ae={},ne={};return Y.forEach(U=>{const B=k(G,U.id),L=s==="total"?B:s==="per1s"?B/O(G):B*60/O(G);ne[U.id]=L,ae[U.id]=re(U,L)}),{row:G,values:ae,numericValues:ne}}).sort((G,ae)=>{const ne=G.numericValues[X]??0,U=ae.numericValues[X]??0;return(P.dir==="desc"?U-ne:ne-U)||String(G.row.account||"").localeCompare(String(ae.row.account||""))});return u.jsx(ps,{title:"Support - Dense View",subtitle:"Support",sortColumnId:X,sortDirection:P.dir,onSortColumn:G=>{D(ae=>({columnId:G,dir:ae.columnId===G&&ae.dir==="desc"?"asc":"desc"}))},columns:Y.map(G=>({id:G.id,label:G.label,align:"right",minWidth:90})),rows:z.map((G,ae)=>({id:`${G.row.account}-${ae}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ae+1}),h(G.row.profession,G.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.row.account})]}),values:G.values}))})})()})]}):u.jsx(Eo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:te.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):te.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(z=>z.id===i)||t[0],O=z=>{var Z,$,G;if(k.id==="condiCleanse"){const ae=((Z=z.supportTotals)==null?void 0:Z.condiCleanse)||0,ne=(($=z.supportTotals)==null?void 0:$.condiCleanseSelf)||0;return l==="all"?ae+ne:ae}return((G=z.supportTotals)==null?void 0:G[k.id])||0},re=z=>Math.max(1,(z.activeMs||0)/1e3),X=[...e.supportPlayers].map(z=>({...z,total:O(z),per1s:O(z)/re(z),per60s:O(z)*60/re(z)})).sort((z,Z)=>{const $=C.key==="fightTime"?Number(z.activeMs||0):Number(s==="total"?z.total:s==="per1s"?z.per1s:z.per60s),G=C.key==="fightTime"?Number(Z.activeMs||0):Number(s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s);return(C.dir==="desc"?G-$:$-G)||z.account.localeCompare(Z.account)});return u.jsx(Do,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Tn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>j("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>j("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:X.map((z,Z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(z.profession,z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:z.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const $=s==="total"?z.total:s==="per1s"?z.per1s:z.per60s,G=k.isTime?1:d&&s==="total"?0:2;return f($,G)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:z.activeMs?`${(z.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${z.account}-${Z}`))})})})()})})]})},Sie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v})=>{var ue;const[b,w]=x.useState({key:"value",dir:"desc"}),[S,C]=x.useState({columnId:((ue=t[0])==null?void 0:ue.id)||"value",dir:"desc"}),N=f==="healing-stats",[P,D]=x.useState([]),[_,T]=x.useState([]),F=Array.from(new Map(e.healingPlayers.map(J=>[J.account,J])).values()).map(J=>({id:J.account,label:J.account,icon:d(J.profession,J.professionList,"w-3 h-3")})),M=new Set([..._.map(J=>`column:${J}`),...P.map(J=>`player:${J}`)]),ee=t.map(J=>({id:J.id,label:J.label})),te=_.length>0?t.filter(J=>_.includes(J.id)):t,le=J=>{w(Y=>({key:J,dir:Y.key===J&&Y.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:v("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(uO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...ee.map(J=>({...J,type:"column"})),...F.map(J=>({...J,type:"player"}))],onSelect:J=>{J.type==="column"?T(Y=>Y.includes(J.id)?Y.filter(I=>I!==J.id):[...Y,J.id]):D(Y=>Y.includes(J.id)?Y.filter(I=>I!==J.id):[...Y,J.id])},selectedIds:M,className:"w-full sm:w-64"}),u.jsx(Tn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(vr,{options:ee,selectedIds:_,onToggle:J=>{T(Y=>Y.includes(J)?Y.filter(I=>I!==J):[...Y,J])},onClear:()=>T([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(J=>({value:J.id,label:J.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(vr,{options:F,selectedIds:P,onToggle:J=>{D(Y=>Y.includes(J)?Y.filter(I=>I!==J):[...Y,J])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})})]}),(_.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(J=>{var I;const Y=((I=ee.find(A=>A.id===J))==null?void 0:I.label)||J;return u.jsxs("button",{type:"button",onClick:()=>T(A=>A.filter(j=>j!==J)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Y}),u.jsx("span",{className:"text-gray-400",children:""})]},J)}),P.map(J=>u.jsxs("button",{type:"button",onClick:()=>D(Y=>Y.filter(I=>I!==J)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:J}),u.jsx("span",{className:"text-gray-400",children:""})]},J))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var j,W;const J=k=>Math.max(1,(k.activeMs||0)/1e3),Y=k=>{const O=k.baseField==="resUtility",re=O||i==="total"?"":i==="offSquad"?"offSquad":i;return O?s==="all"?"resUtility":`resUtility_${s}`:re?`${re}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},I=[...e.healingPlayers].filter(k=>P.length===0||P.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{const O={},re={};return te.forEach(X=>{var G;const z=Y(X),Z=Number(((G=k.healingTotals)==null?void 0:G[z])??0),$=X.perSecond?Z/J(k):Z;re[X.id]=$,O[X.id]=c($,X.decimals)}),{row:k,values:O,numericValues:re}}).sort((k,O)=>{var $,G;const re=(($=te.find(ae=>ae.id===S.columnId))==null?void 0:$.id)||((G=te[0])==null?void 0:G.id)||"",X=k.numericValues[re]??0,z=O.numericValues[re]??0;return(S.dir==="desc"?z-X:X-z)||String(k.row.account||"").localeCompare(String(O.row.account||""))}),A=((j=te.find(k=>k.id===S.columnId))==null?void 0:j.id)||((W=te[0])==null?void 0:W.id)||"";return u.jsx(ps,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:A,sortDirection:S.dir,onSortColumn:k=>{C(O=>({columnId:k,dir:O.columnId===k&&O.dir==="desc"?"asc":"desc"}))},columns:te.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:I.map((k,O)=>({id:`${k.row.account}-${O}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:O+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(Eo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(J=>u.jsx("button",{onClick:()=>r(J.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===J.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:J.label},J.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const J=t.find(k=>k.id===n)||t[0],Y=J.baseField==="resUtility",I=k=>Math.max(1,(k.activeMs||0)/1e3),A=Y||i==="total"?"":i==="offSquad"?"offSquad":i,j=Y?s==="all"?"resUtility":`resUtility_${s}`:A?`${A}${J.baseField[0].toUpperCase()}${J.baseField.slice(1)}`:J.baseField,W=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(O=>Number(O)>0)).map(k=>{var X;const O=Number(((X=k.healingTotals)==null?void 0:X[j])??0),re=J.perSecond?O/I(k):O;return{...k,value:re}}).sort((k,O)=>{const re=b.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),X=b.key==="fightTime"?Number(O.activeMs||0):Number(O.value||0);return(b.dir==="desc"?X-re:re-X)||k.account.localeCompare(O.account)});return u.jsx(Do,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:J.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[Y&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Tn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!Y&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Tn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>le("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[J.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>le("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:W.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):W.map((k,O)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:O+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,J.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${J.id}-${k.account}-${O}`))})})})()})})]})},Nie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Cie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[v,b]=x.useState("total"),[w,S]=x.useState("desc"),[C,N]=x.useState({columnId:"",dir:"desc"}),P=c==="special-buffs",[D,_]=x.useState([]),[T,F]=x.useState([]),M=e.specialTables||[],te=D.length>0?M.filter(j=>D.includes(j.id)):M,le=r.map(j=>({id:j.id,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ue=Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:l(j.profession,j.professionList,"w-3 h-3")})),J=new Set([...D.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),Y=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((W,k)=>{const O=Number((W==null?void 0:W[v])??0),re=Number((k==null?void 0:k[v])??0),X=w==="desc"?re-O:O-re;return X!==0?X:String((W==null?void 0:W.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),j},[s,v,w]),I=j=>{if(v===j){S(W=>W==="desc"?"asc":"desc");return}b(j),S("desc")},A=j=>v!==j?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(u0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(gs,{options:[...M.map(j=>({id:j.id,label:j.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,type:"player",icon:l(j.profession,j.professionList,"w-3 h-3")}))],onSelect:j=>{j.type==="column"?_(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id]):F(W=>W.includes(j.id)?W.filter(k=>k!==j.id):[...W,j.id])},selectedIds:J,className:"w-full sm:w-64"}),u.jsx(vr,{options:le,selectedIds:D,onToggle:j=>{_(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>_([]),buttonIcon:u.jsx(ms,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:ue,selectedIds:T,onToggle:j=>{F(W=>W.includes(j)?W.filter(k=>k!==j):[...W,j])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:u.jsx(Tr,{className:"h-3.5 w-3.5"})}),u.jsx(Tn,{value:v,onChange:j=>b(j),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(j=>{var k;const W=((k=M.find(O=>O.id===j))==null?void 0:k.name)||j;return u.jsxs("button",{type:"button",onClick:()=>_(O=>O.filter(re=>re!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>F(W=>W.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:M.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var z,Z;const j=te,W=new Map,k=new Map;j.forEach($=>{const G=new Map;$.rows.forEach(ae=>{const ne=ae.account||ae.name||ae.id;ne&&(G.set(ne,ae),k.has(ne)||k.set(ne,ae))}),W.set($.id,G)});const O=Array.from(k.entries()).filter(([$])=>T.length===0||T.includes(String($))).map(([$,G])=>{const ae={},ne={};return j.forEach(U=>{var we;const B=(we=W.get(U.id))==null?void 0:we.get($);if(!B){ae[U.id]="-",ne[U.id]=0;return}if(v==="duration"){ae[U.id]=B.duration?`${B.duration.toFixed(1)}s`:"-",ne[U.id]=Number(B.duration||0);return}const L=v==="total"?B.total:B.perSecond,Q=v==="total"?0:1;ne[U.id]=Number(L||0),ae[U.id]=o(L||0,Q)}),{key:$,row:G,values:ae,numericValues:ne}}),re=((z=j.find($=>$.id===C.columnId))==null?void 0:z.id)||(i&&j.some($=>$.id===i)?i:void 0)||((Z=j[0])==null?void 0:Z.id)||"",X=[...O].sort(($,G)=>{if(!re)return String($.key).localeCompare(String(G.key));const ae=$.numericValues[re]??0,ne=G.numericValues[re]??0;return(C.dir==="desc"?ne-ae:ae-ne)||String($.key).localeCompare(String(G.key))});return u.jsx(ps,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:re,sortDirection:C.dir,onSortColumn:$=>{N(G=>({columnId:$,dir:G.columnId===$&&G.dir==="desc"?"asc":"desc"}))},columns:j.map($=>({id:$.id,label:u.jsx(Er,{name:$.name,iconUrl:$.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:X.map(($,G)=>({id:`${$.key}-${G}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:G+1}),l($.row.profession,$.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$.row.account||$.row.name||$.key})]}),values:$.values}))})})()})]}):u.jsx(Eo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(j=>u.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Er,{name:Nie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(Do,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Er,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("total"),className:`text-right transition-colors ${v==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",A("total")]}),u.jsxs("button",{type:"button",onClick:()=>I("perSecond"),className:`text-right transition-colors ${v==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",A("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>I("duration"),className:`text-right transition-colors ${v==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A("duration")]})]}),rows:u.jsx(u.Fragment,{children:Y.map((j,W)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(j.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(j.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.duration?`${j.duration.toFixed(1)}s`:"-"})]},`${s.id}-${j.account}-${W}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},jie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Pie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[v,b]=x.useState("desc"),w=c==="sigil-relic-uptime",S=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,P)=>{const D=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),_=Number((P==null?void 0:P.uptimePerSecond)??(P==null?void 0:P.perSecond)??0),T=v==="desc"?_-D:D-_;return T!==0?T:String((N==null?void 0:N.account)||"").localeCompare(String((P==null?void 0:P.account)||""))}),C},[s,v]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]}),e?u.jsx(Eo,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Er,{name:jie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(Do,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Er,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",v==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const P=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(P,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Aie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Tie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=x.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Tn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Tx,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Tx,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Tx,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},VA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Eie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=VA[r]||VA.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Die=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},WA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Mie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(tc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(h6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(u0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Lp,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:WA(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,v,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(v=m.data)==null?void 0:v.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:WA(w.val,s)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",v=m?" /s":"",b=[{icon:x6,title:`Down Contribution${v}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Mu,title:`${y}Barrier${v}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:uO,title:`${y}Healing${v}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:j6,title:`${y}Dodges${v}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Sf,title:`${y}Strips${v}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:g6,title:`${y}Cleanses${v}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:v6,title:`${y}CC${v}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:hO,title:`${y}Stab Gen${v}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:m6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?s(S):o(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var _,T,F,M;const C=i==="all",N=Die((g==null?void 0:g[S.statKey])||[],S.higherIsBetter),P=N[0],D=P?{...S.data,value:Number(P.value||0),player:P.account||((_=S.data)==null?void 0:_.player)||"-",count:P.count||((T=S.data)==null?void 0:T.count)||0,profession:P.profession||((F=S.data)==null?void 0:F.profession)||"Unknown",professionList:P.professionList||((M=S.data)==null?void 0:M.professionList)||[]}:S.data;return u.jsx(Eie,{...S,data:D,active:C,onClick:()=>a(ee=>ee==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Oie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=x.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const v=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-v||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=x.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Er,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(c6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var v;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Er,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((v=e.topIncomingSkills[0])==null?void 0:v.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Iie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Tr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Jb,{children:[u.jsx(Ag,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(Uu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(c0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Jb,{children:[u.jsx(Ag,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(Uu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},_ie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Tr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Og,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Wf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(eo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(eo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Lie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Jb,{children:[u.jsx(Ag,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Uu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(yc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(_I,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),HA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:v,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:P,setSelectedSpikeFightIndex:D,spikeDrilldownTitle:_,spikeDrilldownData:T,spikeDrilldownDownIndices:F,spikeDrilldownDeathIndices:M,spikeFightSkillRows:ee=[],spikeFightSkillTitle:te="Skill Damage (Selected Fight)",formatWithCommas:le,renderProfessionIcon:ue})=>{const[J,Y]=x.useState(null),[I,A]=x.useState(null),j=L=>String(L||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=s===e,k=S?nc(S.profession):"#fda4af",O=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",re=L=>y==="hit"?L.peakHit:y==="1s"?L.peak1s:y==="5s"?L.peak5s:L.peak30s,X=g.flatMap(L=>L.players.map(Q=>({...Q,groupProfession:L.profession}))).sort((L,Q)=>{const we=re(Q)-re(L);return we!==0?we:L.displayName.localeCompare(Q.displayName)}),z=C.reduce((L,Q)=>!L||Q.damage>L.damage?Q:L,null),Z=L=>{if(!Number.isFinite(L)||L<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(L))}catch{return""}},$=T.reduce((L,Q)=>Math.max(L,Number(Q.value||0)),0),G=Math.max(1,$),ae=new Set(F),ne=new Set(M),U=T.map((L,Q)=>({...L,downMarker:ae.has(Q)?Math.max(Number(L.value||0),G*.88):null,deathMarker:ne.has(Q)?Math.max(Number(L.value||0),G*.96):null})),B=L=>Q=>{const we=Number(Q==null?void 0:Q.cx),Re=Number(Q==null?void 0:Q.cy),ie=Number(Q==null?void 0:Q.index);if(!Number.isFinite(we)||!Number.isFinite(Re)||!Number.isFinite(ie))return null;const Ue=(Q==null?void 0:Q.payload)||{},De=L==="down"?Ue==null?void 0:Ue.downMarker:Ue==null?void 0:Ue.deathMarker;if(!Number.isFinite(Number(De)))return null;const nt=`${L}-${ie}`,on=J===nt,Nn=L==="down"?"#facc15":"#ef4444",In=L==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{Y(nt),A({x:we,y:Re,kind:L,label:String((Ue==null?void 0:Ue.label)||"")})},onMouseLeave:()=>{Y(de=>de===nt?null:de),A(de=>(de==null?void 0:de.kind)===L&&(de==null?void 0:de.label)===String((Ue==null?void 0:Ue.label)||"")?null:de)},children:[u.jsx("circle",{cx:we,cy:Re,r:on?10:7,fill:In,opacity:on?.35:.18}),u.jsx("circle",{cx:we,cy:Re,r:on?7:5.5,fill:Nn,stroke:"#0f172a",strokeWidth:on?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${W?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:W?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sf,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${W?"pr-10 md:pr-0":""}`,children:[u.jsx(Tn,{value:y,onChange:L=>v(L),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>W?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${W?"absolute top-2 right-2 md:static":""}`,"aria-label":W?`Close ${t}`:`Expand ${t}`,title:W?"Close":"Expand",children:W?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(Ea,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:L=>p(L.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:X.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:X.map(L=>{const Q=b===L.key;return u.jsx("button",{type:"button",onClick:()=>w(L.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${Q?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ue(L.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:L.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:L.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[L.characterName||L.displayName,"  ",L.logs," ",L.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:le(re(L)||0,0)})]})},L.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",O]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Og,{data:C,onClick:L=>{const Q=Number(L==null?void 0:L.activeTooltipIndex);Number.isFinite(Q)&&D(P===Q?null:Q)},children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:L=>le(L,0)}),u.jsx(yc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,Q)=>[le(Number(L||0),0),String(Q||"")],labelFormatter:(L,Q)=>{var ie;const we=(ie=Q==null?void 0:Q[0])==null?void 0:ie.payload;if(!we)return"";const Re=j(we.fullLabel||"");return y==="hit"&&we.skillName?`${Re}  ${we.skillName}`:Re}}),u.jsx(eo,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:k,strokeWidth:3,dot:L=>{var Re;const Q=Number((Re=L==null?void 0:L.payload)==null?void 0:Re.index);if(!Number.isFinite(Q))return null;const we=P===Q;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ie=>{ie.stopPropagation(),D(we?null:Q)},children:[u.jsx("circle",{cx:L.cx,cy:L.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:L.cx,cy:L.cy,r:we?4:3,fill:k,stroke:we?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:we?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(eo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ue(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${O}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:le(re(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const L=j((z==null?void 0:z.fullLabel)||S.peakFightLabel||"N/A"),Q=Z(Number((z==null?void 0:z.timestamp)||0)),we=Q?`${Q} - ${L}`:L;return y!=="hit"?we:S.peakSkillName?`${S.peakSkillName}  ${we}`:we})()})]})]}),S&&P!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),u.jsx("button",{type:"button",onClick:()=>D(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(pc,{width:"100%",height:"100%",children:u.jsxs(Og,{data:U,children:[u.jsx(zf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Vf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:L=>le(L,0)}),u.jsx(yc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(L,Q)=>{const we=String(Q||"");return we==="Down"?["Downed","Event"]:we==="Death"?["Dead","Event"]:[le(Number(L||0),0),"Damage"]},labelFormatter:L=>String(L||"")}),u.jsx(eo,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(eo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("down")}),u.jsx(eo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("death")})]})}),I&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,I.x)}px`,top:`${Math.max(8,I.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${I.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:I.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:I.label})]})]})})]}),S&&P!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${ee.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:te}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[ee.length," ",ee.length===1?"skill":"skills"]})]}),ee.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:ee.map((L,Q)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[L.icon?u.jsx("img",{src:L.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:L.skillName,children:L.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:le(Number(L.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:le(Number(L.hits||0),0)})]},`${L.skillName}-${Q}`))})]})]})]})},$ie=10,Ex=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},Fie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(""),[o,l]=x.useState("squad"),[c,d]=x.useState("desc"),f=a.trim().toLowerCase(),h=x.useMemo(()=>{const g=e.filter(v=>{if(!f)return!0;const b=String(v.account||"").toLowerCase(),w=(v.characterNames||[]).join(" ").toLowerCase(),S=(v.classTimes||[]).map(C=>String(C.profession||"").toLowerCase()).join(" ");return b.includes(f)||w.includes(f)||S.includes(f)}),y=v=>Number(o==="fight"?v.combatTimeMs??v.squadTimeMs??0:v.squadTimeMs??0);return[...g].sort((v,b)=>{const w=y(b)-y(v);return w!==0?c==="desc"?w:-w:String(v.account||"").localeCompare(String(b.account||""))})},[e,f,c,o]),m=g=>{if(o===g){d(y=>y==="desc"?"asc":"desc");return}l(g),d("desc")},p=h.length>$ie;return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(kf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:a,onChange:g=>s(g.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(g=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:g.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:g.characterNames.length>0?g.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:g.classTimes.length>0?g.classTimes.map(y=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?u.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:y.profession}),u.jsx("span",{className:"text-gray-400",children:Ex(y.timeMs)})]},`${g.account}-${y.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ex(Number(g.combatTimeMs??g.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ex(g.squadTimeMs)})]},g.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Rie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Bie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null),[o,l]=x.useState(""),c=o.trim().toLowerCase(),d=tm("svg/commander_tag.svg");x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=x.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Tr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Rie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},zie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Uie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null);x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=x.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=x.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Go,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",zie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Vie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(dO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(tc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(u0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(C6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(k6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Wie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=x.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(b6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(fO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(pO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Hie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),qie=({embedded:e,uiTheme:t="classic",mobileNavOpen:n,setMobileNavOpen:r,tocGroups:i,tocItems:a,activeNavId:s,scrollToSection:o,stepSection:l})=>{var v;const c=t==="matte",d=t==="modern",f=t==="crt",h=c?"rounded-2xl border border-white/10 bg-[#222629] shadow-[-4px_-4px_8px_rgba(255,255,255,0.03),6px_6px_12px_rgba(0,0,0,0.45)]":f?"rounded-sm border border-green-400/35 bg-[#07110c]":d?"rounded-2xl border border-white/15 bg-[#1b2430]":"rounded-2xl border border-white/25 bg-white/5 backdrop-blur-2xl shadow-[0_24px_65px_rgba(0,0,0,0.55)]",m=c?"rounded-xl bg-[#2a2e31] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200 shadow-[inset_1px_1px_2px_rgba(255,255,255,0.04),inset_-1px_-1px_2px_rgba(0,0,0,0.35)]":f?"rounded-sm bg-[#0b1a12] border border-green-400/35 text-[10px] uppercase tracking-widest text-green-200":d?"rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200":"rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",p=c?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/15 bg-[#222629] flex flex-col overflow-hidden":f?"w-full max-w-sm max-h-[68vh] rounded-sm p-4 border border-green-400/35 bg-[#07110c] flex flex-col overflow-hidden":d?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden":"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-white/5 shadow-[0_22px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl flex flex-col overflow-hidden",[g,y]=x.useState({});return x.useEffect(()=>{i.length!==0&&y(b=>{if(Object.keys(b).length>0)return b;const w={};return i.forEach((S,C)=>{w[S.id]=C===0}),w})},[i]),x.useEffect(()=>{const b=i.find(w=>w.items.some(S=>S.id===s));b&&y(w=>w[b.id]?w:{...w,[b.id]:!0})},[s,i]),e?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:u.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 ${h}`,children:[u.jsxs("button",{onClick:()=>l(-1),className:`flex items-center gap-2 px-3 py-1.5 ${m}`,children:[u.jsx(ql,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),u.jsxs("button",{onClick:()=>r(b=>!b),className:`flex items-center gap-2 px-4 py-1.5 ${m}`,children:[u.jsx("span",{className:"truncate max-w-[160px]",children:((v=a.find(b=>b.id===s))==null?void 0:v.label)||"Sections"}),u.jsx(ql,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${n?"rotate-180":""}`})]}),u.jsxs("button",{onClick:()=>l(1),className:`flex items-center gap-2 px-3 py-1.5 ${m}`,children:["Next",u.jsx(ql,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),n&&u.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:b=>{b.target===b.currentTarget&&r(!1)},children:u.jsxs("div",{"data-stats-mobile-nav":"panel",className:p,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),u.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:u.jsx(qi,{className:"w-4 h-4"})})]}),u.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:u.jsx("div",{className:"space-y-3",children:i.map(b=>{const w=b.icon,S=g[b.id]??!1,C=b.items.some(N=>N.id===s);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>y(N=>({...N,[b.id]:!S})),className:`w-full text-left flex items-center gap-2 px-2 py-2 rounded-lg border transition-colors ${C?"bg-white/10 border-white/15 text-white":"bg-white/5 border-white/10 text-gray-200 hover:bg-white/[0.08]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(w,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] truncate",children:b.label}),u.jsx(ql,{className:`ml-auto w-4 h-4 text-gray-300 transition-transform ${S?"rotate-180":""}`})]}),S&&u.jsx("div",{className:"space-y-1 pl-2",children:b.items.map(N=>{const P=N.icon,D=N.id===s;return u.jsxs("button",{onClick:()=>o(N.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 rounded-md ${D?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(P,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:N.label})]},N.id)})})]},b.id)})})})]})})]})},Cs="space-y-1 pr-1 max-h-72 overflow-y-auto",Kie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Gie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Yie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,aggregationResult:p}){var AN,TN;const g=n||TO,y=r||eb,v=a||qU,b=y.showTopStats,w=y.showMvp,S=y.roundCountStats,C=y.topStatsMode||"total",[N,P]=x.useState(y.topSkillsMetric||"damage"),D=(i?y.topSkillsMetric:N)||"damage",_=v.uploading,T=v.message,F=v.url,M=v.buildStatus,ee=!c&&!1,te=!!p,{result:le}=e8({logs:te?[]:e,precomputedStats:te?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ue=p||le,{stats:J,skillUsageData:Y}=ue,I=x.useMemo(()=>{var ut,Jt,Nt,en,st,_n;const R=J&&typeof J=="object"?J:{},q=je=>Array.isArray(je)?je:[],ge=je=>je&&typeof je=="object"?je:{},Fe=(je,It)=>je&&typeof je=="object"?je:It,Ee={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Pe={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},oe={...R,total:Number(R.total||0),timelineData:q(R.timelineData),mapData:q(R.mapData),fightBreakdown:q(R.fightBreakdown),topSkills:q(R.topSkills),topIncomingSkills:q(R.topIncomingSkills),leaderboards:ge(R.leaderboards),topStatsPerSecond:ge(R.topStatsPerSecond),topStatsLeaderboardsPerSecond:ge(R.topStatsLeaderboardsPerSecond),maxDownContrib:Fe(R.maxDownContrib,Ee),maxBarrier:Fe(R.maxBarrier,Ee),maxHealing:Fe(R.maxHealing,Ee),maxDodges:Fe(R.maxDodges,Ee),maxStrips:Fe(R.maxStrips,Ee),maxCleanses:Fe(R.maxCleanses,Ee),maxCC:Fe(R.maxCC,Ee),maxStab:Fe(R.maxStab,Ee),closestToTag:Fe(R.closestToTag,Ee),mvp:{...Pe,...ge(R.mvp),topStats:q((ut=R==null?void 0:R.mvp)==null?void 0:ut.topStats)},silver:Fe(R.silver,Pe),bronze:Fe(R.bronze,Pe),avgMvpScore:Number(R.avgMvpScore||0),offensePlayers:q(R.offensePlayers),defensePlayers:q(R.defensePlayers),damageMitigationPlayers:q(R.damageMitigationPlayers),damageMitigationMinions:q(R.damageMitigationMinions),supportPlayers:q(R.supportPlayers),healingPlayers:q(R.healingPlayers),boonTables:q(R.boonTables),specialTables:q(R.specialTables),outgoingConditionSummary:q(R.outgoingConditionSummary),outgoingConditionPlayers:q(R.outgoingConditionPlayers),incomingConditionSummary:q(R.incomingConditionSummary),incomingConditionPlayers:q(R.incomingConditionPlayers),squadClassData:q(R.squadClassData),enemyClassData:q(R.enemyClassData),attendanceData:q(R.attendanceData),squadCompByFight:q(R.squadCompByFight),playerSkillBreakdowns:q(R.playerSkillBreakdowns)},hn=q((Jt=oe.leaderboards)==null?void 0:Jt.downContrib).map(je=>({...je,value:Number((je==null?void 0:je.value)??0)})).filter(je=>Number.isFinite(je.value)).sort((je,It)=>It.value-je.value||String((je==null?void 0:je.account)||"").localeCompare(String((It==null?void 0:It.account)||"")))[0];return hn&&(oe.maxDownContrib={...oe.maxDownContrib||{},value:Number(hn.value||0),player:String(hn.account||((Nt=oe.maxDownContrib)==null?void 0:Nt.player)||"-"),count:Number(hn.count||((en=oe.maxDownContrib)==null?void 0:en.count)||0),profession:String(hn.profession||((st=oe.maxDownContrib)==null?void 0:st.profession)||"Unknown"),professionList:Array.isArray(hn.professionList)?hn.professionList:((_n=oe.maxDownContrib)==null?void 0:_n.professionList)||[]}),oe},[J]);x.useEffect(()=>{var ge;if(!((ge=window==null?void 0:window.electronAPI)!=null&&ge.fetchImageAsDataUrl))return;const R=new Set,q=Fe=>{if(Fe){if(typeof Fe=="string"){/^https?:\/\//i.test(Fe)&&R.add(Fe);return}if(Array.isArray(Fe)){Fe.forEach(q);return}typeof Fe=="object"&&Object.entries(Fe).forEach(([Ee,Pe])=>{if((Ee==="icon"||Ee==="iconUrl")&&typeof Pe=="string"){/^https?:\/\//i.test(Pe)&&R.add(Pe);return}q(Pe)})}};q(I),R.size>0&&oie(Array.from(R))},[I]);const A=x.useMemo(()=>{const R=(l==null?void 0:l.skillUsageData)??Y;return{logRecords:Array.isArray(R==null?void 0:R.logRecords)?R.logRecords:[],players:Array.isArray(R==null?void 0:R.players)?R.players:[],skillOptions:Array.isArray(R==null?void 0:R.skillOptions)?R.skillOptions:[],resUtilitySkills:Array.isArray(R==null?void 0:R.resUtilitySkills)?R.resUtilitySkills:[]}},[Y,l==null?void 0:l.skillUsageData]),j=A.players.length>0;x.useEffect(()=>{i||P(y.topSkillsMetric||"damage")},[y.topSkillsMetric,i]);const W=R=>{if(i){i({...y,topSkillsMetric:R});return}P(R)},{mobileNavOpen:k,setMobileNavOpen:O,activeNavId:re,scrollContainerRef:X,tocGroups:z,tocItems:Z,scrollToSection:$,stepSection:G}=A6(c),{devMockUploadState:ae,webCopyStatus:ne,setWebCopyStatus:U,handleWebUpload:B,handleDevMockUpload:L}=T6({logs:e,stats:I,skillUsageData:A,activeStatsViewSettings:r||eb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:Q,handleShare:we}=SU(c),Re={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},ie=R=>{const q=Re[R];return q?g[q]>0:!0},[Ue,De]=x.useState(null),[nt,on]=x.useState(null),[Nn,In]=x.useState("totalBuffs"),[de,Be]=x.useState("total"),[ct,nn]=x.useState(""),[rn,wr]=x.useState(null),[Bn,ni]=x.useState(""),[ir,ri]=x.useState(null),[pn,mn]=x.useState(""),[yi,cn]=x.useState(""),[_r,Hr]=x.useState(""),[od,Ec]=x.useState(""),[kl,Dc]=x.useState(""),[zs,Sl]=x.useState(""),[Us,K]=x.useState(""),[he,ke]=x.useState("outgoing"),[ot,yt]=x.useState(""),[Vt,Yt]=x.useState("damage"),[Mt,jt]=x.useState("damageTaken"),[xn,Lr]=x.useState("totalMitigation"),[_e,Et]=x.useState("all"),[un,gn]=x.useState({key:"damage",dir:"desc"}),qr=!(_e!=="all"&&Kie.has(_e)),jn=qr?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",bi=qr?un:{key:"applications",dir:un.key==="applications"?un.dir:"desc"},[Nl,Nv]=x.useState("condiCleanse"),[Cv,jv]=x.useState("healing"),[E,V]=x.useState("total"),[H,Ae]=x.useState("all"),[me,Ve]=x.useState("total"),[Ce,lt]=x.useState("total"),[ht,St]=x.useState("total"),[Kt,Xt]=x.useState("total"),[Dn,Qe]=x.useState("all"),[Ze,mt]=x.useState("squad"),[Bt,Zt]=x.useState("player"),[ve,Se]=x.useState(""),[$e,Le]=x.useState(""),[Ye,pe]=x.useState(null),[Me,Je]=x.useState([]),[ye,it]=x.useState(null),[_t,Pn]=x.useState(null),[Qt,$r]=x.useState("hit"),[vt,Un]=x.useState(null),[se,Oe]=x.useState(null),[Xe,zt]=x.useState("hit"),[Pt,ce]=x.useState([]),[Te,qe]=x.useState(null),[Ge,Ut]=x.useState(!1),bt=x.useRef(null),[xt,Dt]=x.useState("sizes"),[Ot,Ht]=x.useState("total"),Lt=Ot==="perSecond",[At,Ie]=x.useState(null),[tt,wt]=x.useState("total"),[pt,ln]=x.useState(null),[bn,kr]=x.useState(null),[Gn,Qa]=x.useState(null),[Vs,Mc]=x.useState(""),[da,Ws]=x.useState(null),[Rm,ld]=x.useState(null),[Da,Cl]=x.useState(null),[Bm,zm]=x.useState(""),[Um,Vm]=x.useState("player"),[Ne,He]=x.useState(null),[Ke,at]=x.useState(null),[$t,Vn]=x.useState(null),{apmSpecBuckets:Yn}=t8(A),fr=I.playerSkillBreakdowns||[],Ki=x.useMemo(()=>{const R=new Map;return fr.forEach(q=>R.set(q.key,q)),R},[fr]),fa=x.useMemo(()=>{const R=new Map;return fr.forEach(q=>{const ge=q.profession||"Unknown";R.has(ge)||R.set(ge,{profession:ge,players:[],skills:new Map});const Fe=R.get(ge);Fe.players.push(q),q.skills.forEach(Ee=>{var oe;const Pe=Fe.skills.get(Ee.id)||{...Ee,damage:0,downContribution:0};Pe.damage+=Number(Ee.damage||0),Pe.downContribution+=Number(Ee.downContribution||0),!Pe.icon&&Ee.icon&&(Pe.icon=Ee.icon),(oe=Pe.name)!=null&&oe.startsWith("Skill ")&&!Ee.name.startsWith("Skill ")&&(Pe.name=Ee.name),Fe.skills.set(Ee.id,Pe)})}),Array.from(R.values()).map(q=>{const ge=Array.from(q.skills.values()).sort((Ee,Pe)=>Pe.damage-Ee.damage),Fe=ge.reduce((Ee,Pe)=>(Ee[Pe.id]=Pe,Ee),{});return{profession:q.profession,players:q.players,skills:ge,skillMap:Fe}}).sort((q,ge)=>q.profession.localeCompare(ge.profession))},[fr]),Ii=da&&Ki.get(da)||null,jl=Ii&&Da&&((AN=Ii.skillMap)==null?void 0:AN[Da])||null,Hs=x.useMemo(()=>{const R=new Map;return fa.forEach(q=>R.set(q.profession,q)),R},[fa]),Dr=Ne&&Hs.get(Ne)||null,Wm=Dr&&$t&&((TN=Dr.skillMap)==null?void 0:TN[$t])||null,di=x.useMemo(()=>{const R=je=>String(je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=je=>R(je).toLowerCase().split(/[^a-z0-9]+/i).map(It=>It.trim()).filter(Boolean).map(It=>It.length>3&&It.endsWith("s")?It.slice(0,-1):It),ge=(je,It)=>{const be=R(je),Ln=R(It);if(!Ln)return be;if(!be)return Ln;const Kr=q(be),Sr=q(Ln),mr=new Set(Kr),kn=new Set(Sr),Li=Sr.length>0&&Sr.every(Xn=>mr.has(Xn)),Tt=Kr.length>0&&Kr.every(Xn=>kn.has(Xn));return Li||Tt?be:`${be} - ${Ln}`},Fe=je=>{if(je==null||je==="")return 0;if(typeof je=="number")return!Number.isFinite(je)||je<=0?0:je>1e12?je:je*1e3;if(je instanceof Date){const mr=je.getTime();return Number.isFinite(mr)&&mr>0?mr:0}const It=String(je).trim();if(!It)return 0;const be=Number(It);if(Number.isFinite(be)&&be>0)return be>1e12?be:be*1e3;const Ln=Date.parse(It);if(Number.isFinite(Ln)&&Ln>0)return Ln;const Kr=It.replace(/([+-]\d{2})$/,"$1:00"),Sr=Date.parse(Kr);return Number.isFinite(Sr)&&Sr>0?Sr:0},Ee=(je,It)=>Fe((je==null?void 0:je.uploadTime)??(It==null?void 0:It.uploadTime)??(je==null?void 0:je.timeStartStd)??(je==null?void 0:je.timeStart)??(je==null?void 0:je.timeEndStd)??(je==null?void 0:je.timeEnd)),Pe=I==null?void 0:I.spikeDamage,oe=Array.isArray(Pe==null?void 0:Pe.fights)?Pe.fights:[],et=Array.isArray(Pe==null?void 0:Pe.players)?Pe.players:[],hn=oe.some(je=>(je!=null&&je.values&&typeof je.values=="object"?Object.values(je.values):[]).some(be=>be&&typeof be=="object"&&(Number(be.burst1s||0)>0||Number(be.burst5s||0)>0||Number(be.burst30s||0)>0)))||et.some(je=>Number((je==null?void 0:je.peak1s)||0)>0||Number((je==null?void 0:je.peak5s)||0)>0||Number((je==null?void 0:je.peak30s)||0)>0);if((oe.length>0||et.length>0)&&(hn||e.length===0)){const je=oe.map((be,Ln)=>{const Kr=be!=null&&be.values&&typeof be.values=="object"?be.values:{},Sr={};return Object.entries(Kr).forEach(([mr,kn])=>{if(kn&&typeof kn=="object"){const Li=Number(kn.damage||0);Sr[mr]={hit:Number(kn.hit??Li),burst1s:Number(kn.burst1s||0),burst5s:Number(kn.burst5s||0),burst30s:Number(kn.burst30s||0),skillName:String(kn.skillName||""),buckets5s:Array.isArray(kn.buckets5s)?kn.buckets5s.map(Tt=>Number(Tt||0)):void 0,downIndices5s:Array.isArray(kn.downIndices5s)?kn.downIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,deathIndices5s:Array.isArray(kn.deathIndices5s)?kn.deathIndices5s.map(Tt=>Number(Tt)).filter(Tt=>Number.isFinite(Tt)&&Tt>=0):void 0,skillRows:Array.isArray(kn.skillRows)?kn.skillRows.map(Tt=>({skillName:String((Tt==null?void 0:Tt.skillName)||(Tt==null?void 0:Tt.name)||"Unknown Skill"),damage:Number((Tt==null?void 0:Tt.damage)||0),hits:Number((Tt==null?void 0:Tt.hits)||0),icon:typeof(Tt==null?void 0:Tt.icon)=="string"?Tt.icon:void 0})).filter(Tt=>Number.isFinite(Tt.damage)&&Tt.damage>0):void 0};return}Sr[mr]={hit:Number(kn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((be==null?void 0:be.id)||`fight-${Ln+1}`),shortLabel:String((be==null?void 0:be.shortLabel)||`F${Ln+1}`),fullLabel:R((be==null?void 0:be.fullLabel)||`Fight ${Ln+1}`),timestamp:Number((be==null?void 0:be.timestamp)||0),values:Sr,maxHit:Number((be==null?void 0:be.maxHit)??(be==null?void 0:be.maxDamage)??0),max1s:Number((be==null?void 0:be.max1s)||0),max5s:Number((be==null?void 0:be.max5s)||0),max30s:Number((be==null?void 0:be.max30s)||0)}}),It=et.map(be=>({key:String((be==null?void 0:be.key)||""),account:String((be==null?void 0:be.account)||"Unknown"),displayName:String((be==null?void 0:be.displayName)||(be==null?void 0:be.account)||"Unknown"),characterName:String((be==null?void 0:be.characterName)||(be==null?void 0:be.name)||(be==null?void 0:be.character_name)||(be==null?void 0:be.display_name)||""),profession:String((be==null?void 0:be.profession)||"Unknown"),professionList:Array.isArray(be==null?void 0:be.professionList)?be.professionList.map(Ln=>String(Ln)):[],logs:Number((be==null?void 0:be.logs)||0),peakHit:Number((be==null?void 0:be.peakHit)||0),peak1s:Number((be==null?void 0:be.peak1s)||0),peak5s:Number((be==null?void 0:be.peak5s)||0),peak30s:Number((be==null?void 0:be.peak30s)||0),peakFightLabel:R((be==null?void 0:be.peakFightLabel)||""),peakSkillName:String((be==null?void 0:be.peakSkillName)||"")}));return{fights:je,players:It}}const Jt=(je,It)=>{const be=(It==null?void 0:It.skillMap)||{},Ln=(It==null?void 0:It.buffMap)||{};let Kr=0,Sr="";const mr=Tt=>{const Xn=Number(Tt);if(!Number.isFinite(Xn))return String(Tt||"Unknown Skill");const an=(be==null?void 0:be[`s${Xn}`])||(be==null?void 0:be[`${Xn}`]);if(an!=null&&an.name)return String(an.name);const gt=(Ln==null?void 0:Ln[`b${Xn}`])||(Ln==null?void 0:Ln[`${Xn}`]);return gt!=null&&gt.name?String(gt.name):`Skill ${Xn}`},kn=Tt=>{if(!Tt||typeof Tt!="object")return;const Xn=[Number(Tt.max),Number(Tt.maxDamage),Number(Tt.maxHit)].filter(gt=>Number.isFinite(gt)),an=Xn.length>0?Math.max(...Xn):0;an>Kr&&(Kr=an,Sr=mr(Tt.id))};let Li=!1;return Array.isArray(je==null?void 0:je.targetDamageDist)&&je.targetDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(Xn=>{Array.isArray(Xn)&&Xn.forEach(an=>{Li=!0,kn(an)})})}),(!Li||Kr<=0)&&Array.isArray(je==null?void 0:je.totalDamageDist)&&je.totalDamageDist.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(Xn=>kn(Xn))}),{peak:Kr,skillName:Sr||"Unknown Skill"}},Nt=(je,It)=>{const be=an=>{if(!Array.isArray(an)||an.length===0)return[];const gt=[];for(let qt=0;qt<an.length;qt+=1){const Nr=Number(an[qt]||0),Zn=qt>0?Number(an[qt-1]||0):0;gt.push(Math.max(0,Nr-Zn))}return gt},Ln=(an,gt)=>{if(!Array.isArray(an)||an.length===0||gt<=0)return 0;let qt=0,Nr=0;for(let Zn=0;Zn<an.length;Zn+=1)qt+=Number(an[Zn]||0),Zn>=gt&&(qt-=Number(an[Zn-gt]||0)),Zn>=gt-1&&qt>Nr&&(Nr=qt);return Math.max(0,Nr)},Kr=an=>{if(!Array.isArray(an))return[];const gt=an.reduce((Nr,Zn)=>Math.max(Nr,Array.isArray(Zn)?Zn.length:0),0);if(gt<=0)return[];const qt=new Array(gt).fill(0);return an.forEach(Nr=>{if(Array.isArray(Nr))for(let Zn=0;Zn<gt;Zn+=1)qt[Zn]+=Number(Nr[Zn]||0)}),qt},Sr=an=>Array.isArray(an)?an.map(gt=>Number(gt||0)):null,kn=(an=>{if(!Array.isArray(an)||an.length===0)return null;const gt=an[0];if(!Array.isArray(gt))return null;if(Array.isArray(gt[0])&&Array.isArray(gt[0][0]))return Kr(gt);if(Array.isArray(gt[0])&&!Array.isArray(gt[0][0])){const qt=an.map(Nr=>Sr(Array.isArray(Nr)?Nr[0]:null)).filter(Nr=>Array.isArray(Nr)&&Nr.length>0);if(qt.length>0)return Kr(qt)}return null})(je==null?void 0:je.targetDamage1S),Li=Array.isArray(je==null?void 0:je.damage1S)&&Array.isArray(je.damage1S[0])?je.damage1S[0]:null,Tt=kn||(Array.isArray(Li)?Li.map(an=>Number(an||0)):[]),Xn=be(Tt);return Ln(Xn,It)},en=[],st=new Map;e.forEach(je=>{const It=je==null?void 0:je.details;if(!It)return;const be=en.length+1,Ln=R(It.fightName||je.fightName||`Fight ${be}`),Kr=It.zone||It.mapName||It.map||It.location||"",Sr=ge(Ln,String(Kr||"")),mr={};(Array.isArray(It.players)?It.players:[]).forEach(gt=>{if(gt!=null&&gt.notInSquad)return;const qt=String((gt==null?void 0:gt.account)||(gt==null?void 0:gt.name)||"Unknown"),Nr=String((gt==null?void 0:gt.character_name)||(gt==null?void 0:gt.display_name)||(gt==null?void 0:gt.name)||""),Zn=String((gt==null?void 0:gt.profession)||"Unknown"),$c=`${qt}|${Zn}`,Zm=Jt(gt,It),Fc=Number(Zm.peak||0),Rc=Number(Nt(gt,1)||0),ud=Number(Nt(gt,5)||0),El=Number(Nt(gt,30)||0);mr[$c]={hit:Fc,burst1s:Rc,burst5s:ud,burst30s:El,skillName:Zm.skillName};const Cr=st.get($c)||{key:$c,account:qt,displayName:qt,characterName:Nr,profession:Zn,professionList:[Zn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Cr.logs+=1,Cr.professionList.includes(Zn)||Cr.professionList.push(Zn),!Cr.characterName&&Nr&&(Cr.characterName=Nr),Fc>Cr.peakHit&&(Cr.peakHit=Fc,Cr.peakFightLabel=Sr,Cr.peakSkillName=Zm.skillName),Rc>Cr.peak1s&&(Cr.peak1s=Rc),ud>Cr.peak5s&&(Cr.peak5s=ud),El>Cr.peak30s&&(Cr.peak30s=El),st.set($c,Cr)});const Li=Object.values(mr).reduce((gt,qt)=>Math.max(gt,Number((qt==null?void 0:qt.hit)||0)),0),Tt=Object.values(mr).reduce((gt,qt)=>Math.max(gt,Number((qt==null?void 0:qt.burst1s)||0)),0),Xn=Object.values(mr).reduce((gt,qt)=>Math.max(gt,Number((qt==null?void 0:qt.burst5s)||0)),0),an=Object.values(mr).reduce((gt,qt)=>Math.max(gt,Number((qt==null?void 0:qt.burst30s)||0)),0);en.push({id:je.filePath||je.id||`fight-${be}`,shortLabel:`F${be}`,fullLabel:Sr,timestamp:Ee(It,je),values:mr,maxHit:Li,max1s:Tt,max5s:Xn,max30s:an})});const _n=Array.from(st.values()).sort((je,It)=>It.peakHit!==je.peakHit?It.peakHit-je.peakHit:je.displayName.localeCompare(It.displayName));return{fights:en,players:_n}},[e,I]),ar=x.useMemo(()=>{const R=oe=>String(oe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=I==null?void 0:I.incomingStrikeDamage,ge=Array.isArray(q==null?void 0:q.fights)?q.fights:[],Fe=Array.isArray(q==null?void 0:q.players)?q.players:[];if(ge.length===0&&Fe.length===0)return{fights:[],players:[]};const Ee=ge.map((oe,et)=>{const hn=oe!=null&&oe.values&&typeof oe.values=="object"?oe.values:{},ut={};return Object.entries(hn).forEach(([Jt,Nt])=>{if(Nt&&typeof Nt=="object"){const en=Number(Nt.damage||0);ut[Jt]={hit:Number(Nt.hit??en),burst1s:Number(Nt.burst1s||0),burst5s:Number(Nt.burst5s||0),burst30s:Number(Nt.burst30s||0),skillName:String(Nt.skillName||""),buckets5s:Array.isArray(Nt.buckets5s)?Nt.buckets5s.map(st=>Number(st||0)):void 0,downIndices5s:Array.isArray(Nt.downIndices5s)?Nt.downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,deathIndices5s:Array.isArray(Nt.deathIndices5s)?Nt.deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):void 0,skillRows:Array.isArray(Nt.skillRows)?Nt.skillRows.map(st=>({skillName:String((st==null?void 0:st.skillName)||(st==null?void 0:st.name)||"Unknown Skill"),damage:Number((st==null?void 0:st.damage)||0),hits:Number((st==null?void 0:st.hits)||0),icon:typeof(st==null?void 0:st.icon)=="string"?st.icon:void 0})).filter(st=>Number.isFinite(st.damage)&&st.damage>0):void 0};return}ut[Jt]={hit:Number(Nt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((oe==null?void 0:oe.id)||`fight-${et+1}`),shortLabel:String((oe==null?void 0:oe.shortLabel)||`F${et+1}`),fullLabel:R((oe==null?void 0:oe.fullLabel)||`Fight ${et+1}`),timestamp:Number((oe==null?void 0:oe.timestamp)||0),values:ut,maxHit:Number((oe==null?void 0:oe.maxHit)??(oe==null?void 0:oe.maxDamage)??0),max1s:Number((oe==null?void 0:oe.max1s)||0),max5s:Number((oe==null?void 0:oe.max5s)||0),max30s:Number((oe==null?void 0:oe.max30s)||0)}}),Pe=Fe.map(oe=>({key:String((oe==null?void 0:oe.key)||""),account:String((oe==null?void 0:oe.account)||"Unknown"),displayName:String((oe==null?void 0:oe.displayName)||(oe==null?void 0:oe.account)||"Unknown"),characterName:String((oe==null?void 0:oe.characterName)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.character_name)||(oe==null?void 0:oe.display_name)||""),profession:String((oe==null?void 0:oe.profession)||"Unknown"),professionList:Array.isArray(oe==null?void 0:oe.professionList)?oe.professionList.map(et=>String(et)):[],logs:Number((oe==null?void 0:oe.logs)||0),peakHit:Number((oe==null?void 0:oe.peakHit)||0),peak1s:Number((oe==null?void 0:oe.peak1s)||0),peak5s:Number((oe==null?void 0:oe.peak5s)||0),peak30s:Number((oe==null?void 0:oe.peak30s)||0),peakFightLabel:R((oe==null?void 0:oe.peakFightLabel)||""),peakSkillName:String((oe==null?void 0:oe.peakSkillName)||"")}));return{fights:Ee,players:Pe}},[I]),Ma=x.useMemo(()=>{const R=new Map;return di.players.forEach(q=>R.set(q.key,q)),R},[di.players]),Hm=x.useMemo(()=>{const R=Ee=>Qt==="hit"?Ee.peakHit:Qt==="1s"?Ee.peak1s:Qt==="5s"?Ee.peak5s:Ee.peak30s,q=zs.trim().toLowerCase(),ge=q?di.players.filter(Ee=>Ee.displayName.toLowerCase().includes(q)||Ee.account.toLowerCase().includes(q)||Ee.profession.toLowerCase().includes(q)):di.players,Fe=new Map;return ge.forEach(Ee=>{const Pe=Ee.profession||"Unknown",oe=Fe.get(Pe)||[];oe.push(Ee),Fe.set(Pe,oe)}),Array.from(Fe.entries()).map(([Ee,Pe])=>({profession:Ee,players:[...Pe].sort((oe,et)=>R(et)-R(oe)||oe.displayName.localeCompare(et.displayName))})).sort((Ee,Pe)=>Ee.profession.localeCompare(Pe.profession))},[di.players,zs,Qt]),qm=ye&&Ma.get(ye)||null,ma=x.useMemo(()=>{if(!ye)return[];const R=ge=>ge?Number(Qt==="hit"?ge.hit||0:Qt==="1s"?ge.burst1s||0:Qt==="5s"?ge.burst5s||0:ge.burst30s||0):0,q=ge=>Number(Qt==="hit"?ge.maxHit||0:Qt==="1s"?ge.max1s||0:Qt==="5s"?ge.max5s||0:ge.max30s||0);return di.fights.map((ge,Fe)=>{var Ee;return{index:Fe,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:R(ge.values[ye]),maxDamage:q(ge),skillName:String(((Ee=ge.values[ye])==null?void 0:Ee.skillName)||"")}})},[di.fights,ye,Qt]),Km=x.useMemo(()=>{const R=ma.reduce((ge,Fe)=>Math.max(ge,Number(Fe.damage||0)),0),q=ma.reduce((ge,Fe)=>Math.max(ge,Number(Fe.maxDamage||0)),0);return Math.max(1,R,q)},[ma]),Pl=x.useMemo(()=>{var DN,MN,ON,IN,_N,LN,$N,FN,RN;const R=_t===null?null:ma.find(xe=>xe.index===_t)||null;if(!R||!ye)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const q=di.fights.find((xe,rt)=>String(xe.id||"")===String(R.fightId||"")||rt===R.index)||null,[ge,Fe]=ye.split("|"),Ee=e.find(xe=>String((xe==null?void 0:xe.filePath)||(xe==null?void 0:xe.id)||"")===String(R.fightId||"")),Pe=Ee==null?void 0:Ee.details,oe=xe=>Array.isArray(xe)?xe.map(rt=>Array.isArray(rt)?[Number(rt[0]),Number(rt[1])]:rt&&typeof rt=="object"?[Number(rt.time),Number(rt.value)]:null).filter(rt=>!!rt&&Number.isFinite(rt[0])&&rt[0]>=0):[],et=xe=>String(xe||"").trim().toLowerCase(),hn=et(ge),ut=et(Fe),Jt=Ma.get(ye),Nt=new Set([et(Jt==null?void 0:Jt.displayName),et(Jt==null?void 0:Jt.characterName),et(Jt==null?void 0:Jt.account)].filter(Boolean)),en=Array.isArray(Pe==null?void 0:Pe.players)&&((DN=Pe.players.map(xe=>{const rt=et(xe==null?void 0:xe.account),Gt=et(xe==null?void 0:xe.name),Qn=et(xe==null?void 0:xe.profession),Cn=!!rt&&rt===hn,Mn=!!Gt&&(Gt===hn||Nt.has(Gt)),Xi=!!rt&&Nt.has(rt),Oo=!ut||Qn===ut;let es=0;return Cn&&(es+=100),Mn&&(es+=90),Xi&&(es+=80),Oo&&(es+=20),{player:xe,score:es}}).filter(xe=>xe.score>0).sort((xe,rt)=>rt.score-xe.score)[0])==null?void 0:DN.player)||null,st=(()=>{const xe=en==null?void 0:en.combatReplayData;return Array.isArray(xe)?xe.filter(rt=>rt&&typeof rt=="object"):xe&&typeof xe=="object"?[xe]:[]})(),_n=st.flatMap(xe=>oe(xe==null?void 0:xe.down).map(([rt])=>rt)),je=st.flatMap(xe=>oe(xe==null?void 0:xe.dead).map(([rt])=>rt)),It=st.map(xe=>Number(xe==null?void 0:xe.start)).filter(xe=>Number.isFinite(xe)&&xe>=0),be=Array.isArray(Pe==null?void 0:Pe.players)?Pe.players.flatMap(xe=>{const rt=xe==null?void 0:xe.combatReplayData;return Array.isArray(rt)?rt.map(Gt=>Number(Gt==null?void 0:Gt.start)):[Number(rt==null?void 0:rt.start)]}).filter(xe=>Number.isFinite(xe)&&xe>=0).reduce((xe,rt)=>Math.min(xe,rt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Ln=[0,Number((Pe==null?void 0:Pe.logStartOffset)||0),...It,Number.isFinite(be)?be:0].filter(xe=>Number.isFinite(xe)&&xe>=0),Kr=xe=>{const rt=Math.max(0,Math.floor(Number(xe||0)/1e3)),Gt=Math.floor(rt/5)*5;return`${Gt}s-${Gt+5}s`},Sr=(xe,rt)=>{if(xe.length===0||rt.length===0)return[];const Gt=rt.length*5e3,Qn=hr=>hr.reduce((ks,Bc)=>Bc>=0&&Bc<=Gt+2e3?ks+1:ks,0),Cn=[],Mn=xe.map(hr=>Number(hr||0)).filter(hr=>Number.isFinite(hr)&&hr>=0);if(Mn.length===0)return[];Cn.push(Mn);const Xi=Mn.reduce((hr,ks)=>Math.max(hr,ks),0),Oo=Mn.reduce((hr,ks)=>Math.min(hr,ks),Number.POSITIVE_INFINITY);Xi>Gt*20&&Cn.push(Mn.map(hr=>hr/1e3)),Xi<=Gt*2&&Oo>=0&&Xi>0&&Xi<Math.max(120,rt.length*5+10)&&Cn.push(Mn.map(hr=>hr*1e3));let es=Mn,BN=0,zN=-1;return Cn.forEach(hr=>{const ks=new Set(Ln),Bc=hr.reduce((Dl,Av)=>Math.min(Dl,Av),Number.POSITIVE_INFINITY);if(Number.isFinite(Bc)&&Gt>0&&Bc>Gt){const Dl=Math.floor(Bc/Gt)*Gt;ks.add(Dl),ks.add(Math.max(0,Dl-Gt))}ks.forEach(Dl=>{const Av=hr.map(NR=>NR-Dl),UN=Qn(Av);UN>zN&&(zN=UN,BN=Dl,es=hr)})}),es.map(hr=>hr-BN).filter(hr=>Number.isFinite(hr)&&hr>=0)},mr=(xe,rt)=>{if(xe.length===0||rt.length===0)return[];const Gt=Sr(rt,xe),Qn=new Map;xe.forEach(Mn=>{const Xi=/^(\d+)s-/.exec(String(Mn));if(!Xi)return;const Oo=Number(Xi[1]);Number.isFinite(Oo)&&Qn.set(Oo,Mn)});const Cn=[];return Gt.forEach(Mn=>{const Xi=Math.max(0,Math.floor(Number(Mn||0)/1e3)),Oo=Math.floor(Xi/5)*5,es=Qn.get(Oo)||Kr(Mn);xe.includes(es)&&Cn.push(es)}),Array.from(new Set(Cn))},kn=(xe,rt)=>{if(xe<=0||rt.length===0)return[];const Gt=Array.from({length:xe},(Mn,Xi)=>`${Xi*5}s-${(Xi+1)*5}s`),Cn=Sr(rt,Gt).map(Mn=>Math.floor(Math.max(0,Number(Mn||0))/5e3)).filter(Mn=>Number.isFinite(Mn)&&Mn>=0&&Mn<xe);return Array.from(new Set(Cn))},Li=Array.isArray((ON=(MN=q==null?void 0:q.values)==null?void 0:MN[ye])==null?void 0:ON.buckets5s)?((_N=(IN=q==null?void 0:q.values)==null?void 0:IN[ye])==null?void 0:_N.buckets5s)||[]:[],Tt=Array.isArray(($N=(LN=q==null?void 0:q.values)==null?void 0:LN[ye])==null?void 0:$N.downIndices5s)?q.values[ye].downIndices5s.map(xe=>Number(xe)).filter(xe=>Number.isFinite(xe)&&xe>=0):[],Xn=Array.isArray((RN=(FN=q==null?void 0:q.values)==null?void 0:FN[ye])==null?void 0:RN.deathIndices5s)?q.values[ye].deathIndices5s.map(xe=>Number(xe)).filter(xe=>Number.isFinite(xe)&&xe>=0):[];if(Li.length>0){const xe=Math.max(0,Math.ceil(Number((Pe==null?void 0:Pe.durationMS)||0)/5e3)),rt=Math.max(Li.length,xe),Gt=Array.from({length:rt},(Cn,Mn)=>({label:`${Mn*5}s-${(Mn+1)*5}s`,value:Number(Li[Mn]||0)})),Qn=Gt.map(Cn=>Cn.label);return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:Gt,downLabels:mr(Qn,_n),deathLabels:mr(Qn,je),downIndices:Tt.length>0?Tt.filter(Cn=>Cn<Gt.length):kn(Gt.length,_n),deathIndices:Xn.length>0?Xn.filter(Cn=>Cn<Gt.length):kn(Gt.length,je)}}const an=R.shortLabel||"Fight";if(!Pe||!Array.isArray(Pe.players))return{title:`Fight Breakdown - ${an}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const gt=Pe.players.find(xe=>String((xe==null?void 0:xe.account)||(xe==null?void 0:xe.name)||"Unknown")===ge&&String((xe==null?void 0:xe.profession)||"Unknown")===Fe);if(!gt)return{title:`Fight Breakdown - ${an}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const qt=gt,Nr=xe=>{if(!Array.isArray(xe)||xe.length===0)return[];const rt=[];for(let Gt=0;Gt<xe.length;Gt+=1){const Qn=Number(xe[Gt]||0),Cn=Gt>0?Number(xe[Gt-1]||0):0;rt.push(Math.max(0,Qn-Cn))}return rt},Zn=xe=>{if(!Array.isArray(xe))return[];const rt=xe.reduce((Qn,Cn)=>Math.max(Qn,Array.isArray(Cn)?Cn.length:0),0);if(rt<=0)return[];const Gt=new Array(rt).fill(0);return xe.forEach(Qn=>{if(Array.isArray(Qn))for(let Cn=0;Cn<rt;Cn+=1)Gt[Cn]+=Number(Qn[Cn]||0)}),Gt},$c=xe=>Array.isArray(xe)?xe.map(rt=>Number(rt||0)):null,Fc=(xe=>{if(!Array.isArray(xe)||xe.length===0)return null;const rt=xe[0];if(!Array.isArray(rt))return null;if(Array.isArray(rt[0])&&Array.isArray(rt[0][0]))return Zn(rt);if(Array.isArray(rt[0])&&!Array.isArray(rt[0][0])){const Gt=xe.map(Qn=>$c(Array.isArray(Qn)?Qn[0]:null)).filter(Qn=>Array.isArray(Qn)&&Qn.length>0);if(Gt.length>0)return Zn(Gt)}return null})(qt==null?void 0:qt.targetDamage1S),Rc=Array.isArray(qt==null?void 0:qt.damage1S)&&Array.isArray(qt.damage1S[0])?qt.damage1S[0]:null,ud=Fc||(Array.isArray(Rc)?Rc.map(xe=>Number(xe||0)):[]),El=Nr(ud),Cr=5,wR=Math.max(0,Math.ceil(Number((Pe==null?void 0:Pe.durationMS)||0)/(Cr*1e3))),kR=Math.max(0,Math.ceil(El.length/Cr)),SR=Math.max(wR,kR),dd=[];for(let xe=0;xe<SR;xe+=1){const rt=xe*Cr,Gt=Math.min(rt+Cr,El.length),Qn=El.slice(rt,Gt).reduce((Cn,Mn)=>Cn+Number(Mn||0),0);dd.push({label:`${rt}s-${rt+Cr}s`,value:Qn})}const EN=dd.map(xe=>xe.label);return{title:`Fight Breakdown - ${an} (5s Damage Buckets)`,data:dd,downLabels:mr(EN,_n),deathLabels:mr(EN,je),downIndices:kn(dd.length,_n),deathIndices:kn(dd.length,je)}},[_t,ma,ye,e,di.fights,Ma]),Oc=x.useMemo(()=>{const R=new Map;return ar.players.forEach(q=>R.set(q.key,q)),R},[ar.players]),Ic=x.useMemo(()=>{const R=Ee=>Xe==="hit"?Ee.peakHit:Xe==="1s"?Ee.peak1s:Xe==="5s"?Ee.peak5s:Ee.peak30s,q=Us.trim().toLowerCase(),ge=q?ar.players.filter(Ee=>Ee.displayName.toLowerCase().includes(q)||Ee.account.toLowerCase().includes(q)||Ee.profession.toLowerCase().includes(q)):ar.players,Fe=new Map;return ge.forEach(Ee=>{const Pe=Ee.profession||"Unknown",oe=Fe.get(Pe)||[];oe.push(Ee),Fe.set(Pe,oe)}),Array.from(Fe.entries()).map(([Ee,Pe])=>({profession:Ee,players:[...Pe].sort((oe,et)=>R(et)-R(oe)||oe.displayName.localeCompare(et.displayName))})).sort((Ee,Pe)=>Ee.profession.localeCompare(Pe.profession))},[ar.players,Us,Xe]),Gi=vt&&Oc.get(vt)||null,wi=x.useMemo(()=>{if(!vt)return[];const R=ge=>ge?Number(Xe==="hit"?ge.hit||0:Xe==="1s"?ge.burst1s||0:Xe==="5s"?ge.burst5s||0:ge.burst30s||0):0,q=ge=>Number(Xe==="hit"?ge.maxHit||0:Xe==="1s"?ge.max1s||0:Xe==="5s"?ge.max5s||0:ge.max30s||0);return ar.fights.map((ge,Fe)=>{var Ee;return{index:Fe,fightId:ge.id,shortLabel:ge.shortLabel,fullLabel:ge.fullLabel,timestamp:Number(ge.timestamp||0),damage:R(ge.values[vt]),maxDamage:q(ge),skillName:String(((Ee=ge.values[vt])==null?void 0:Ee.skillName)||"")}})},[ar.fights,vt,Xe]),Al=x.useMemo(()=>{const R=wi.reduce((ge,Fe)=>Math.max(ge,Number(Fe.damage||0)),0),q=wi.reduce((ge,Fe)=>Math.max(ge,Number(Fe.maxDamage||0)),0);return Math.max(1,R,q)},[wi]),ws=x.useMemo(()=>{var Pe,oe,et,hn,ut,Jt,Nt,en;const R=se===null?null:wi.find(st=>st.index===se)||null;if(!R||!vt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const q=ar.fights.find((st,_n)=>String(st.id||"")===String(R.fightId||"")||_n===R.index)||null,ge=Array.isArray((oe=(Pe=q==null?void 0:q.values)==null?void 0:Pe[vt])==null?void 0:oe.buckets5s)?((hn=(et=q==null?void 0:q.values)==null?void 0:et[vt])==null?void 0:hn.buckets5s)||[]:[],Fe=Array.isArray((Jt=(ut=q==null?void 0:q.values)==null?void 0:ut[vt])==null?void 0:Jt.downIndices5s)?q.values[vt].downIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[],Ee=Array.isArray((en=(Nt=q==null?void 0:q.values)==null?void 0:Nt[vt])==null?void 0:en.deathIndices5s)?q.values[vt].deathIndices5s.map(st=>Number(st)).filter(st=>Number.isFinite(st)&&st>=0):[];if(ge.length>0){const st=ge.map((_n,je)=>({label:`${je*5}s-${(je+1)*5}s`,value:Number(_n||0)}));return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:st,downLabels:[],deathLabels:[],downIndices:Fe.filter(_n=>_n<st.length),deathIndices:Ee.filter(_n=>_n<st.length)}}return{title:`Fight Breakdown - ${R.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[se,wi,vt,ar.fights]),Tl=x.useMemo(()=>{var Fe,Ee;if(se===null||!vt)return[];const R=wi.find(Pe=>Pe.index===se);if(!R)return[];const q=ar.fights.find((Pe,oe)=>String(Pe.id||"")===String(R.fightId||"")||oe===R.index);return[...((Ee=(Fe=q==null?void 0:q.values)==null?void 0:Fe[vt])==null?void 0:Ee.skillRows)||[]].filter(Pe=>Number((Pe==null?void 0:Pe.damage)||0)>0).sort((Pe,oe)=>Number(oe.damage||0)-Number(Pe.damage||0)).slice(0,30)},[se,vt,wi,ar.fights]),RF=x.useMemo(()=>{var Fe,Ee;if(_t===null||!ye)return[];const R=ma.find(Pe=>Pe.index===_t);if(!R)return[];const q=di.fights.find((Pe,oe)=>String(Pe.id||"")===String(R.fightId||"")||oe===R.index);return[...((Ee=(Fe=q==null?void 0:q.values)==null?void 0:Fe[ye])==null?void 0:Ee.skillRows)||[]].filter(Pe=>Number((Pe==null?void 0:Pe.damage)||0)>0).sort((Pe,oe)=>Number(oe.damage||0)-Number(Pe.damage||0)).slice(0,30)},[_t,ye,ma,di.fights]);x.useEffect(()=>{if(fr.length===0){da!==null&&Ws(null),Da!==null&&Cl(null);return}if(!da||!Ki.has(da)){const R=fr[0].key;Ws(R),ld(null)}},[fr,Ki,da,Da]),x.useEffect(()=>{if(!Ii||Ii.skills.length===0){Da!==null&&Cl(null);return}const R=Ii.skills.some(q=>q.id===Da);(!Da||!R)&&Cl(Ii.skills[0].id)},[Ii,Da]),x.useEffect(()=>{if(fa.length===0){Ne!==null&&He(null),$t!==null&&Vn(null);return}if(!Ne||!Hs.has(Ne)){const R=fa[0].profession;He(R),at(null)}},[fa,Hs,Ne,$t]),x.useEffect(()=>{if(!Dr||Dr.skills.length===0){$t!==null&&Vn(null);return}const R=Dr.skills.some(q=>q.id===$t);(!$t||!R)&&Vn(Dr.skills[0].id)},[Dr,$t]),x.useEffect(()=>{if(di.players.length===0){ye!==null&&it(null);return}(!ye||!Ma.has(ye))&&ye!==null&&it(null)},[di.players,Ma,ye]),x.useEffect(()=>{Pn(null)},[ye,Qt]),x.useEffect(()=>{if(_t===null)return;ma.some(q=>q.index===_t)||Pn(null)},[ma,_t]),x.useEffect(()=>{if(ar.players.length===0){vt!==null&&Un(null);return}(!vt||!Oc.has(vt))&&vt!==null&&Un(null)},[ar.players,Oc,vt]),x.useEffect(()=>{Oe(null)},[vt,Xe]),x.useEffect(()=>{if(se===null)return;wi.some(q=>q.index===se)||Oe(null)},[wi,se]);const BF=x.useMemo(()=>new Set(Me),[Me]),{playerMapByKey:qs,playerTotalsForSkill:_c,skillChartData:zF,skillChartMaxY:UF,groupedSkillUsagePlayers:VF}=n8({skillUsageData:A,selectedSkillId:Ye,selectedPlayers:BF,skillUsageView:Ot==="perSecond"?"perSecond":"total"}),xN=x.useMemo(()=>{const R=new Map,q=Pe=>{Pe.forEach(oe=>{const et=Gc(oe==null?void 0:oe.name)||(oe==null?void 0:oe.name);et&&oe!=null&&oe.icon&&!R.has(et)&&R.set(et,oe.icon)})},ge=Pe=>{Pe.forEach(oe=>{Object.entries((oe==null?void 0:oe.conditions)||{}).forEach(([et,hn])=>{const ut=Gc(et)||et;hn!=null&&hn.icon&&!R.has(ut)&&R.set(ut,hn.icon)})})},Fe=Pe=>{const oe=new Map;return Pe.forEach(et=>{const hn=Gc(et==null?void 0:et.name)||(et==null?void 0:et.name);if(!hn)return;const ut=oe.get(hn)||{name:hn,icon:(et==null?void 0:et.icon)||R.get(hn)||ph(hn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};ut.applications+=Number((et==null?void 0:et.applications)||0),ut.damage+=Number((et==null?void 0:et.damage)||0),et!=null&&et.applicationsFromUptime&&(ut.applicationsFromUptime+=Number(et.applicationsFromUptime||0)),et!=null&&et.applicationsFromBuffs&&(ut.applicationsFromBuffs+=Number(et.applicationsFromBuffs||0)),et!=null&&et.applicationsFromBuffsActive&&(ut.applicationsFromBuffsActive+=Number(et.applicationsFromBuffsActive||0)),!ut.icon&&(et!=null&&et.icon)&&(ut.icon=et.icon),ut.icon||(ut.icon=ph(hn)),oe.set(hn,ut)}),Array.from(oe.values())},Ee=Pe=>Pe.map(oe=>{const et={};return Object.entries((oe==null?void 0:oe.conditions)||{}).forEach(([hn,ut])=>{const Jt=Gc(hn)||hn;if(!Jt)return;const Nt=et[Jt]||{icon:(ut==null?void 0:ut.icon)||R.get(Jt)||ph(Jt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Nt.applications+=Number((ut==null?void 0:ut.applications)||0),Nt.damage+=Number((ut==null?void 0:ut.damage)||0),ut!=null&&ut.applicationsFromUptime&&(Nt.applicationsFromUptime+=Number(ut.applicationsFromUptime||0)),ut!=null&&ut.applicationsFromBuffs&&(Nt.applicationsFromBuffs+=Number(ut.applicationsFromBuffs||0)),ut!=null&&ut.applicationsFromBuffsActive&&(Nt.applicationsFromBuffsActive+=Number(ut.applicationsFromBuffsActive||0)),!Nt.icon&&(ut!=null&&ut.icon)&&(Nt.icon=ut.icon),Nt.icon||(Nt.icon=ph(Jt)),Object.values((ut==null?void 0:ut.skills)||{}).forEach(en=>{const st=(en==null?void 0:en.name)||"Unknown",_n=Nt.skills[st]||{name:st,hits:0,damage:0,icon:en==null?void 0:en.icon};_n.hits+=Number((en==null?void 0:en.hits)||0),_n.damage+=Number((en==null?void 0:en.damage)||0),!_n.icon&&(en!=null&&en.icon)&&(_n.icon=en.icon),Nt.skills[st]=_n}),et[Jt]=Nt}),{...oe,conditions:et}});return(Pe,oe)=>(q(Pe),ge(oe),{summary:Fe(Pe),players:Ee(oe)})},[]),yN=he==="outgoing"?I.outgoingConditionSummary:I.incomingConditionSummary,bN=he==="outgoing"?I.outgoingConditionPlayers:I.incomingConditionPlayers,{summary:Gm,players:WF}=x.useMemo(()=>xN(yN||[],bN||[]),[xN,yN,bN]);x.useEffect(()=>{if(_e==="all"||Gm.some(q=>q.name===_e))return;const R=Gc(_e);R&&Gm.some(q=>q.name===R)?Et(R):Et("all")},[_e,Gm,Et]);const HF=x.useMemo(()=>{const R={};return _c.forEach((q,ge)=>{const Fe=qs.get(ge);if(!Fe)return;const Ee=Fe.profession;(!R[Ee]||q>R[Ee])&&(R[Ee]=q)}),R},[_c,qs]),Ft=x.useCallback(R=>d?d(R):!0,[d]),sr=x.useCallback((R,q)=>{const ge=Ft(R);return d?`${q} ${ge?"":"hidden"}`:`${q} transition-[opacity,transform] duration-700 ease-in-out ${ge?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Ft,d]),wN=x.useMemo(()=>Gie.find(R=>Ft(R))||null,[Ft]),or=x.useCallback(R=>R===wN,[wN]),qF=x.useMemo(()=>{const R=new Map,q=new Map;return Me.forEach(ge=>{const Fe=qs.get(ge);if(!Fe)return;const Ee=_c.get(ge)??0,Pe=q.get(Fe.profession)||[];Pe.push({key:ge,total:Ee}),q.set(Fe.profession,Pe)}),q.forEach(ge=>{ge.sort((Fe,Ee)=>Ee.total-Fe.total),ge.forEach((Fe,Ee)=>{R.set(Fe.key,Ee)})}),R},[Me,qs,_c]),kN=["0","12 3","8 3","6 3","4 3","2 3"],KF=R=>{const q=qs.get(R),ge=nc((q==null?void 0:q.profession)||""),Fe=_c.get(R)??0,Ee=q!=null&&q.profession&&HF[q.profession]||1,oe=.35+(Ee>0?Fe/Ee:1)*.65;return Ym(ge,oe)},GF=R=>{const q=qF.get(R)??0;return kN[q%kN.length]},YF=(R,q,ge)=>{if(!ge)return KF(R);const Fe=qs.get(R),Ee=nc((Fe==null?void 0:Fe.profession)||"");return q?Ym(Ee,1.2):Ym(Ee,.5)},Ym=(R,q)=>{const ge=R.replace("#","");if(ge.length!==6)return R;const Fe=ut=>Math.max(0,Math.min(255,ut)),Ee=ut=>Number.parseInt(ge.slice(ut,ut+2),16),Pe=ut=>Fe(Math.round(ut)).toString(16).padStart(2,"0"),oe=Ee(0),et=Ee(2),hn=Ee(4);return`#${Pe(oe*q)}${Pe(et*q)}${Pe(hn*q)}`},SN=x.useMemo(()=>{const R=new Map;return A.skillOptions.forEach(q=>{R.set(q.id,{name:q.name,icon:q.icon})}),R},[A.skillOptions]),cd=x.useMemo(()=>{var ut;if(Me.length===0)return[];const R=new Map,q=new Map;let ge=0;Me.forEach(Jt=>{const Nt=qs.get(Jt);if(!Nt)return;ge+=Nt.totalActiveSeconds||0,Object.entries(Nt.skillTotals||{}).forEach(([st,_n])=>{R.set(st,(R.get(st)||0)+Number(_n||0))});const en=Nt.profession||"Unknown";q.set(en,(q.get(en)||0)+(Nt.totalActiveSeconds||0))});const Fe=$e.trim().toLowerCase(),Ee=Ot==="perSecond",Pe=((ut=Array.from(q.entries()).sort((Jt,Nt)=>Nt[1]-Jt[1])[0])==null?void 0:ut[0])||"Unknown",oe=nc(Pe),et="#64748b";return Array.from(R.entries()).map(([Jt,Nt])=>{const en=SN.get(Jt),st=(en==null?void 0:en.name)||Jt,_n=Ee&&ge>0?Nt/ge:Nt;return{skillId:Jt,name:st,icon:en==null?void 0:en.icon,total:_n}}).filter(Jt=>Jt.total>0&&(!Fe||Jt.name.toLowerCase().includes(Fe))).sort((Jt,Nt)=>Nt.total-Jt.total).map((Jt,Nt)=>({...Jt,color:Nt===0?oe:Ym(oe,.85-Math.min(Nt*.06,.4))||et}))},[Me,qs,$e,Ot,SN]);x.useEffect(()=>{if(cd.length===0){Ye!==null&&pe(null);return}(!Ye||!cd.some(R=>R.skillId===Ye))&&pe(cd[0].skillId)},[cd,Ye,pe]);const Lc=A.skillOptions.find(R=>R.id===Ye),XF=(Lc==null?void 0:Lc.name)||"",ZF=(Lc==null?void 0:Lc.icon)||null,QF=j&&!!Ye&&Me.length>0,Xm="__all__",JF=j&&Yn.length>0,Ks=x.useMemo(()=>Yn.find(R=>R.profession===pt)??null,[Yn,pt]),eR=Gn===Xm,tR=x.useMemo(()=>{var R;return((R=Ks==null?void 0:Ks.skills)==null?void 0:R.find(q=>q.id===Gn))??null},[Ks,Gn]);x.useEffect(()=>{if(Yn.length===0){pt!==null&&ln(null),bn!==null&&kr(null);return}if(!pt||!Yn.some(R=>R.profession===pt)){const R=Yn[0].profession;ln(R),kr(null)}},[Yn,pt,bn]),x.useEffect(()=>{if(!Ks||Ks.skills.length===0){Gn!==null&&Qa(null);return}const R=Ks.skills.some(q=>q.id===Gn);(!Gn||!R&&Gn!==Xm)&&Qa(Xm)},[Ks,Gn]);const nR=R=>{Je(q=>q.includes(R)?q.filter(ge=>ge!==R):[...q,R])},rR=R=>{Je(q=>q.filter(ge=>ge!==R))},iR=x.useMemo(()=>{const R=ct.trim().toLowerCase(),q=I.boonTables||[];return R?q.filter(ge=>ge.name.toLowerCase().includes(R)):q},[I.boonTables,ct]),aR=x.useMemo(()=>nt?(I.boonTables||[]).find(R=>R.id===nt)??null:null,[I.boonTables,nt]),sR=x.useMemo(()=>{const R=Bn.trim().toLowerCase(),q=[...I.specialTables||[]].sort((ge,Fe)=>ge.name.localeCompare(Fe.name));return R?q.filter(ge=>ge.name.toLowerCase().includes(R)):q},[I.specialTables,Bn]),Ja=x.useMemo(()=>[...I.specialTables||[]].filter(q=>/\b(sigil|relic)\b/i.test(String((q==null?void 0:q.name)||""))).sort((q,ge)=>q.name.localeCompare(ge.name)),[I.specialTables]),oR=x.useMemo(()=>{const R=pn.trim().toLowerCase();return R?Ja.filter(q=>q.name.toLowerCase().includes(R)):Ja},[Ja,pn]),lR=x.useMemo(()=>rn?(I.specialTables||[]).find(R=>R.id===rn)??null:null,[I.specialTables,rn]),cR=x.useMemo(()=>ir?Ja.find(R=>R.id===ir)??null:null,[Ja,ir]);x.useEffect(()=>{!I.boonTables||I.boonTables.length===0||(!nt||!I.boonTables.some(R=>R.id===nt))&&on(I.boonTables[0].id)},[I.boonTables,nt]),x.useEffect(()=>{!I.specialTables||I.specialTables.length===0||(!rn||!I.specialTables.some(R=>R.id===rn))&&wr(I.specialTables[0].id)},[I.specialTables,rn]),x.useEffect(()=>{if(!Ja||Ja.length===0){ir!==null&&ri(null);return}(!ir||!Ja.some(R=>R.id===ir))&&ri(Ja[0].id)},[Ja,ir]),x.useEffect(()=>{const R=()=>{const ge=window.getSelection();ge&&ge.rangeCount>0&&ge.removeAllRanges()},q=ge=>{var Ee;const Fe=ge.target;(Ee=Fe==null?void 0:Fe.closest)!=null&&Ee.call(Fe,".recharts-wrapper")&&(ge.preventDefault(),R())};return document.addEventListener("selectstart",q),document.addEventListener("mousedown",q),document.addEventListener("mousemove",q),document.addEventListener("dragstart",q),()=>{document.removeEventListener("selectstart",q),document.removeEventListener("mousedown",q),document.removeEventListener("mousemove",q),document.removeEventListener("dragstart",q)}},[]);const Yi=R=>{bt.current&&(window.clearTimeout(bt.current),bt.current=null),Ut(!1),qe(R)},ki=()=>{Te&&(bt.current&&window.clearTimeout(bt.current),Ut(!0),bt.current=window.setTimeout(()=>{qe(null),Ut(!1),bt.current=null},160))};x.useEffect(()=>{if(!Te)return;const R=Fe=>{Fe.key==="Escape"&&ki()},q=document.body.style.overflow,ge=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),document.body.style.overflow=q,document.documentElement.style.overflow=ge}},[Te]);const NN=(R,q)=>{const ge=((q==null?void 0:q.value)||0)-((R==null?void 0:R.value)||0);return ge!==0?ge:String((R==null?void 0:R.name)||"").localeCompare(String((q==null?void 0:q.name)||""))},CN=Array.isArray(I==null?void 0:I.squadClassData)?I.squadClassData:[],jN=Array.isArray(I==null?void 0:I.enemyClassData)?I.enemyClassData:[],uR=Array.isArray(I==null?void 0:I.attendanceData)?I.attendanceData:[],Pv=Array.isArray(I==null?void 0:I.squadCompByFight)?I.squadCompByFight:[],PN=Array.isArray(I==null?void 0:I.fightBreakdown)?I.fightBreakdown:[],dR=x.useMemo(()=>{const R=new Map;return PN.forEach(q=>{const ge=String((q==null?void 0:q.id)||"");ge&&R.set(ge,q)}),Pv.map(q=>{const ge=R.get(String((q==null?void 0:q.id)||""))||null;return{...q,enemyClassCounts:(ge==null?void 0:ge.enemyClassCounts)||{}}})},[Pv,PN]),fR=x.useMemo(()=>[...CN].sort(NN),[CN]),mR=x.useMemo(()=>[...jN].sort(NN),[jN]),hR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",pR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Te?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Te?"":"backdrop-blur-2xl"}`,gR=c&&h!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,vR=R=>Ot==="perSecond"?R.toFixed(1):Math.round(R).toLocaleString(),xR=R=>R.toFixed(1),yR=R=>Math.round(R).toLocaleString(),bR=R=>typeof R=="number"&&Number.isFinite(R)?R.toFixed(1):"0.0",_i=fie;return u.jsxs("div",{className:hR,children:[Te&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Ge?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ki}),u.jsx(Vie,{embedded:c,dashboardTitle:f,totalLogs:I.total,onBack:t,devMockAvailable:ee,devMockUploadState:ae,onDevMockUpload:L,uploadingWeb:_,onWebUpload:B,sharing:Q,canShareDiscord:m,onShare:we}),u.jsx(Wie,{embedded:c,webUploadMessage:T,webUploadUrl:F,webUploadBuildStatus:M,webCopyStatus:ne,setWebCopyStatus:U}),u.jsx(Hie,{embedded:c,devMockAvailable:ee,devMockUploadState:ae}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:X,className:`${pR} ${c?"":"flex-1"}`,style:gR,children:[u.jsxs(u.Fragment,{children:[Ft("overview")&&u.jsx(Aie,{stats:I,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("fight-breakdown")&&u.jsx(Tie,{stats:I,fightBreakdownTab:xt,setFightBreakdownTab:Dt,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("top-players")&&u.jsx(Mie,{stats:I,showTopStats:b,showMvp:w,topStatsMode:C,expandedLeader:Ue,setExpandedLeader:De,formatTopStatValue:Lo,formatWithCommas:$a,isMvpStatEnabled:ie,renderProfessionIcon:_i,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("top-skills-outgoing")&&u.jsx(Oie,{stats:I,topSkillsMetric:D,onTopSkillsMetricChange:W,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("squad-composition")&&u.jsx(Iie,{sortedSquadClassData:fR,sortedEnemyClassData:mR,getProfessionIconPath:Kl,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("attendance-ledger")&&u.jsx(Fie,{attendanceRows:uR,getProfessionIconPath:Kl,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("squad-comp-fight")&&u.jsx(Bie,{fights:Pv,getProfessionIconPath:Kl,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("fight-comp")&&u.jsx(Uie,{fights:dR,getProfessionIconPath:Kl,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("timeline")&&u.jsx(_ie,{timelineData:I.timelineData,timelineFriendlyScope:Ze,setTimelineFriendlyScope:mt,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("map-distribution")&&u.jsx(Lie,{mapData:I.mapData,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("offense-detailed")&&u.jsx(vie,{stats:I,OFFENSE_METRICS:aO,roundCountStats:S,offenseSearch:yi,setOffenseSearch:cn,activeOffenseStat:Vt,setActiveOffenseStat:Yt,offenseViewMode:me,setOffenseViewMode:Ve,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("player-breakdown")&&u.jsx(gie,{expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs,viewMode:Um,setViewMode:Vm,playerSkillBreakdowns:fr,classSkillBreakdowns:fa,activePlayerKey:da,setActivePlayerKey:Ws,expandedPlayerKey:Rm,setExpandedPlayerKey:ld,activePlayerSkillId:Da,setActivePlayerSkillId:Cl,activeClassKey:Ne,setActiveClassKey:He,expandedClassKey:Ke,setExpandedClassKey:at,activeClassSkillId:$t,setActiveClassSkillId:Vn,skillSearch:Bm,setSkillSearch:zm,activePlayerBreakdown:Ii,activePlayerSkill:jl,activeClassBreakdown:Dr,activeClassSkill:Wm,renderProfessionIcon:_i}),Ft("spike-damage")&&u.jsx(HA,{expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,spikePlayerFilter:zs,setSpikePlayerFilter:Sl,groupedSpikePlayers:Hm,spikeMode:Qt,setSpikeMode:$r,selectedSpikePlayerKey:ye,setSelectedSpikePlayerKey:it,selectedSpikePlayer:qm,spikeChartData:ma,spikeChartMaxY:Km,selectedSpikeFightIndex:_t,setSelectedSpikeFightIndex:Pn,spikeDrilldownTitle:Pl.title,spikeDrilldownData:Pl.data,spikeDrilldownDownIndices:Pl.downIndices,spikeDrilldownDeathIndices:Pl.deathIndices,spikeFightSkillRows:RF,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:$a,renderProfessionIcon:_i}),Ft("conditions-outgoing")&&u.jsx(xie,{conditionSummary:Gm,conditionPlayers:WF,conditionSearch:kl,setConditionSearch:Dc,activeConditionName:_e,setActiveConditionName:Et,conditionDirection:he,setConditionDirection:ke,conditionGridClass:jn,effectiveConditionSort:bi,setConditionSort:gn,showConditionDamage:qr,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("defense-detailed")&&u.jsx(bie,{stats:I,DEFENSE_METRICS:sO,defenseSearch:_r,setDefenseSearch:Hr,activeDefenseStat:Mt,setActiveDefenseStat:jt,defenseViewMode:Ce,setDefenseViewMode:lt,roundCountStats:S,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("incoming-strike-damage")&&u.jsx(HA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,spikePlayerFilter:Us,setSpikePlayerFilter:K,groupedSpikePlayers:Ic,spikeMode:Xe,setSpikeMode:zt,selectedSpikePlayerKey:vt,setSelectedSpikePlayerKey:Un,selectedSpikePlayer:Gi,spikeChartData:wi,spikeChartMaxY:Al,selectedSpikeFightIndex:se,setSelectedSpikeFightIndex:Oe,spikeDrilldownTitle:ws.title,spikeDrilldownData:ws.data,spikeDrilldownDownIndices:ws.downIndices,spikeDrilldownDeathIndices:ws.deathIndices,spikeFightSkillRows:Tl,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:$a,renderProfessionIcon:_i}),Ft("defense-mitigation")&&u.jsx(wie,{stats:I,DAMAGE_MITIGATION_METRICS:t6,damageMitigationSearch:od,setDamageMitigationSearch:Ec,activeDamageMitigationStat:xn,setActiveDamageMitigationStat:Lr,damageMitigationViewMode:ht,setDamageMitigationViewMode:St,damageMitigationScope:Bt,setDamageMitigationScope:Zt,roundCountStats:S,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("boon-output")&&u.jsx(yie,{stats:I,activeBoonCategory:Nn,setActiveBoonCategory:R=>In(R),activeBoonMetric:de,setActiveBoonMetric:Be,activeBoonTab:nt,setActiveBoonTab:on,activeBoonTable:aR,filteredBoonTables:iR,boonSearch:ct,setBoonSearch:nn,formatBoonMetricDisplay:jU,getBoonMetricValue:PO,renderProfessionIcon:_i,roundCountStats:S,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("support-detailed")&&u.jsx(kie,{stats:I,SUPPORT_METRICS:oO,supportSearch:ot,setSupportSearch:yt,activeSupportStat:Nl,setActiveSupportStat:Nv,supportViewMode:Kt,setSupportViewMode:Xt,cleanseScope:Dn,setCleanseScope:Qe,roundCountStats:S,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("healing-stats")&&u.jsx(Sie,{stats:I,HEALING_METRICS:n6,activeHealingMetric:Cv,setActiveHealingMetric:jv,healingCategory:E,setHealingCategory:V,activeResUtilitySkill:H,setActiveResUtilitySkill:Ae,skillUsageData:A,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr}),Ft("special-buffs")&&u.jsx(Cie,{stats:I,specialSearch:Bn,setSpecialSearch:ni,filteredSpecialTables:sR,activeSpecialTab:rn,setActiveSpecialTab:wr,activeSpecialTable:lR,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("sigil-relic-uptime")&&u.jsx(Pie,{hasSigilRelicTables:Ja.length>0,sigilRelicSearch:pn,setSigilRelicSearch:mn,filteredSigilRelicTables:oR,activeSigilRelicTab:ir,setActiveSigilRelicTab:ri,activeSigilRelicTable:cR,formatWithCommas:$a,renderProfessionIcon:_i,expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs}),Ft("skill-usage")&&u.jsx(mie,{expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,selectedPlayers:Me,setSelectedPlayers:Je,removeSelectedPlayer:rR,playerMapByKey:qs,groupedSkillUsagePlayers:VF,expandedSkillUsageClass:At,setExpandedSkillUsageClass:Ie,togglePlayerSelection:nR,skillUsagePlayerFilter:ve,setSkillUsagePlayerFilter:Se,skillUsageView:Ot,setSkillUsageView:Ht,skillUsageData:A,skillUsageSkillFilter:$e,setSkillUsageSkillFilter:Le,selectedSkillId:Ye,setSelectedSkillId:pe,skillBarData:cd,selectedSkillName:XF,selectedSkillIcon:ZF,skillUsageReady:QF,skillUsageAvailable:j,isSkillUsagePerSecond:Lt,skillChartData:zF,skillChartMaxY:UF,playerTotalsForSkill:_c,hoveredSkillPlayer:Pt,setHoveredSkillPlayer:ce,getLineStrokeColor:YF,getLineDashForPlayer:GF,formatSkillUsageValue:vR,renderProfessionIcon:_i}),Ft("apm-stats")&&u.jsx(pie,{expandedSection:Te,expandedSectionClosing:Ge,openExpandedSection:Yi,closeExpandedSection:ki,isSectionVisible:Ft,isFirstVisibleSection:or,sectionClass:sr,sidebarListClass:Cs,apmSpecAvailable:JF,skillUsageAvailable:j,apmSpecTables:Yn,activeApmSpec:pt,setActiveApmSpec:ln,expandedApmSpec:bn,setExpandedApmSpec:kr,activeApmSkillId:Gn,setActiveApmSkillId:Qa,ALL_SKILLS_KEY:Xm,apmSkillSearch:Vs,setApmSkillSearch:Mc,activeApmSpecTable:Ks,activeApmSkill:tR,isAllApmSkills:eR,apmView:tt,setApmView:wt,formatApmValue:bR,formatCastRateValue:xR,formatCastCountValue:yR,renderProfessionIcon:_i})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),u.jsx(qie,{embedded:c,uiTheme:h,mobileNavOpen:k,setMobileNavOpen:O,tocGroups:z,tocItems:Z,activeNavId:re,scrollToSection:$,stepSection:G})]})}const Xie="Arcane",Zie="CRT",ap="MatteSlate",sp={id:Xie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Qie={id:ap,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Jie=[sp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],eae={id:Zie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Ad=[...Jie,eae,Qie];function tae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const nae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iae={};function qA(e,t){return(iae.jsx?rae:nae).test(e)}const aae=/[ \t\n\f\r]/g;function sae(e){return typeof e=="object"?e.type==="text"?KA(e.value):!1:KA(e)}function KA(e){return e.replace(aae,"")===""}class Mm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Mm.prototype.normal={};Mm.prototype.property={};Mm.prototype.space=void 0;function mL(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mm(n,r,t)}function ew(e){return e.toLowerCase()}class ua{constructor(t,n){this.attribute=n,this.property=t}}ua.prototype.attribute="";ua.prototype.booleanish=!1;ua.prototype.boolean=!1;ua.prototype.commaOrSpaceSeparated=!1;ua.prototype.commaSeparated=!1;ua.prototype.defined=!1;ua.prototype.mustUseProperty=!1;ua.prototype.number=!1;ua.prototype.overloadedBoolean=!1;ua.prototype.property="";ua.prototype.spaceSeparated=!1;ua.prototype.space=void 0;let oae=0;const sn=Pc(),Rr=Pc(),tw=Pc(),We=Pc(),Wn=Pc(),Nu=Pc(),pa=Pc();function Pc(){return 2**++oae}const nw=Object.freeze(Object.defineProperty({__proto__:null,boolean:sn,booleanish:Rr,commaOrSpaceSeparated:pa,commaSeparated:Nu,number:We,overloadedBoolean:tw,spaceSeparated:Wn},Symbol.toStringTag,{value:"Module"})),Dx=Object.keys(nw);class MS extends ua{constructor(t,n,r,i){let a=-1;if(super(t,n),GA(this,"space",i),typeof r=="number")for(;++a<Dx.length;){const s=Dx[a];GA(this,Dx[a],(r&nw[s])===nw[s])}}}MS.prototype.defined=!0;function GA(e,t,n){n&&(e[t]=n)}function ad(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new MS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ew(r)]=r,n[ew(a.attribute)]=r}return new Mm(t,n,e.space)}const hL=ad({properties:{ariaActiveDescendant:null,ariaAtomic:Rr,ariaAutoComplete:null,ariaBusy:Rr,ariaChecked:Rr,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:Wn,ariaCurrent:null,ariaDescribedBy:Wn,ariaDetails:null,ariaDisabled:Rr,ariaDropEffect:Wn,ariaErrorMessage:null,ariaExpanded:Rr,ariaFlowTo:Wn,ariaGrabbed:Rr,ariaHasPopup:null,ariaHidden:Rr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Wn,ariaLevel:We,ariaLive:null,ariaModal:Rr,ariaMultiLine:Rr,ariaMultiSelectable:Rr,ariaOrientation:null,ariaOwns:Wn,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:Rr,ariaReadOnly:Rr,ariaRelevant:null,ariaRequired:Rr,ariaRoleDescription:Wn,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:Rr,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pL(e,t){return t in e?e[t]:t}function gL(e,t){return pL(e,t.toLowerCase())}const lae=ad({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nu,acceptCharset:Wn,accessKey:Wn,action:null,allow:null,allowFullScreen:sn,allowPaymentRequest:sn,allowUserMedia:sn,alt:null,as:null,async:sn,autoCapitalize:null,autoComplete:Wn,autoFocus:sn,autoPlay:sn,blocking:Wn,capture:null,charSet:null,checked:sn,cite:null,className:Wn,cols:We,colSpan:null,content:null,contentEditable:Rr,controls:sn,controlsList:Wn,coords:We|Nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:sn,defer:sn,dir:null,dirName:null,disabled:sn,download:tw,draggable:Rr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:sn,formTarget:null,headers:Wn,height:We,hidden:tw,high:We,href:null,hrefLang:null,htmlFor:Wn,httpEquiv:Wn,id:null,imageSizes:null,imageSrcSet:null,inert:sn,inputMode:null,integrity:null,is:null,isMap:sn,itemId:null,itemProp:Wn,itemRef:Wn,itemScope:sn,itemType:Wn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:sn,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:sn,muted:sn,name:null,nonce:null,noModule:sn,noValidate:sn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:sn,optimum:We,pattern:null,ping:Wn,placeholder:null,playsInline:sn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:sn,referrerPolicy:null,rel:Wn,required:sn,reversed:sn,rows:We,rowSpan:We,sandbox:Wn,scope:null,scoped:sn,seamless:sn,selected:sn,shadowRootClonable:sn,shadowRootDelegatesFocus:sn,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:Rr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:sn,useMap:null,value:Rr,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Wn,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:sn,declare:sn,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:sn,noHref:sn,noShade:sn,noWrap:sn,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:Rr,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:sn,disableRemotePlayback:sn,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:gL}),cae=ad({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pa,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:Wn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:sn,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nu,g2:Nu,glyphName:Nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:pa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Wn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pa,rev:pa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pa,requiredFeatures:pa,requiredFonts:pa,requiredFormats:pa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:pa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pa,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pL}),vL=ad({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xL=ad({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gL}),yL=ad({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),uae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},dae=/[A-Z]/g,YA=/-[a-z]/g,fae=/^data[-\w.:]+$/i;function mae(e,t){const n=ew(t);let r=t,i=ua;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&fae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(YA,pae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!YA.test(a)){let s=a.replace(dae,hae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=MS}return new i(r,t)}function hae(e){return"-"+e.toLowerCase()}function pae(e){return e.charAt(1).toUpperCase()}const gae=mL([hL,lae,vL,xL,yL],"html"),OS=mL([hL,cae,vL,xL,yL],"svg");function vae(e){return e.join(" ").trim()}var IS={},XA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,xae=/\n/g,yae=/^\s*/,bae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,wae=/^:\s*/,kae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Sae=/^[;\s]*/,Nae=/^\s+|\s+$/g,Cae=`
`,ZA="/",QA="*",Ul="",jae="comment",Pae="declaration";function Aae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(xae);g&&(n+=g.length);var y=p.lastIndexOf(Cae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(yae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(ZA!=e.charAt(0)||QA!=e.charAt(1))){for(var g=2;Ul!=e.charAt(g)&&(QA!=e.charAt(g)||ZA!=e.charAt(g+1));)++g;if(g+=2,Ul===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:jae,comment:y})}}function h(){var p=a(),g=l(bae);if(g){if(f(),!l(wae))return o("property missing ':'");var y=l(kae),v=p({type:Pae,property:JA(g[0].replace(XA,Ul)),value:y?JA(y[0].replace(XA,Ul)):Ul});return l(Sae),v}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function JA(e){return e?e.replace(Nae,Ul):Ul}var Tae=Aae,Eae=dp&&dp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(IS,"__esModule",{value:!0});IS.default=Mae;const Dae=Eae(Tae);function Mae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Dae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.camelCase=void 0;var Oae=/^--[a-zA-Z0-9_-]+$/,Iae=/-([a-z])/g,_ae=/^[^-]+$/,Lae=/^-(webkit|moz|ms|o|khtml)-/,$ae=/^-(ms)-/,Fae=function(e){return!e||_ae.test(e)||Oae.test(e)},Rae=function(e,t){return t.toUpperCase()},eT=function(e,t){return"".concat(t,"-")},Bae=function(e,t){return t===void 0&&(t={}),Fae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace($ae,eT):e=e.replace(Lae,eT),e.replace(Iae,Rae))};dv.camelCase=Bae;var zae=dp&&dp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Uae=zae(IS),Vae=dv;function rw(e,t){var n={};return!e||typeof e!="string"||(0,Uae.default)(e,function(r,i){r&&i&&(n[(0,Vae.camelCase)(r,t)]=i)}),n}rw.default=rw;var Wae=rw;const Hae=vs(Wae),bL=wL("end"),_S=wL("start");function wL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function qae(e){const t=_S(e),n=bL(e);if(t&&n)return{start:t,end:n}}function Zd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tT(e.position):"start"in e||"end"in e?tT(e):"line"in e||"column"in e?iw(e):""}function iw(e){return nT(e&&e.line)+":"+nT(e&&e.column)}function tT(e){return iw(e&&e.start)+"-"+iw(e&&e.end)}function nT(e){return e&&typeof e=="number"?e:1}class Oi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Zd(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Oi.prototype.file="";Oi.prototype.name="";Oi.prototype.reason="";Oi.prototype.message="";Oi.prototype.stack="";Oi.prototype.column=void 0;Oi.prototype.line=void 0;Oi.prototype.ancestors=void 0;Oi.prototype.cause=void 0;Oi.prototype.fatal=void 0;Oi.prototype.place=void 0;Oi.prototype.ruleId=void 0;Oi.prototype.source=void 0;const LS={}.hasOwnProperty,Kae=new Map,Gae=/[A-Z]/g,Yae=new Set(["table","tbody","thead","tfoot","tr"]),Xae=new Set(["td","th"]),kL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Zae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ase(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ise(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?OS:gae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=SL(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function SL(e,t,n){if(t.type==="element")return Qae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Jae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return tse(e,t,n);if(t.type==="mdxjsEsm")return ese(e,t);if(t.type==="root")return nse(e,t,n);if(t.type==="text")return rse(e,t)}function Qae(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=OS,e.schema=i),e.ancestors.push(t);const a=CL(e,t.tagName,!1),s=sse(e,t);let o=FS(e,t);return Yae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!sae(l):!0})),NL(e,s,a,t),$S(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Jae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Hf(e,t.position)}function ese(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Hf(e,t.position)}function tse(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=OS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:CL(e,t.name,!0),s=ose(e,t),o=FS(e,t);return NL(e,s,a,t),$S(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function nse(e,t,n){const r={};return $S(r,FS(e,t)),e.create(t,e.Fragment,r,n)}function rse(e,t){return t.value}function NL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function $S(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ise(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function ase(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=_S(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function sse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&LS.call(t.properties,i)){const a=lse(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Xae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ose(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Hf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Hf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function FS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Kae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=SL(e,a,s);o!==void 0&&n.push(o)}return n}function lse(e,t,n){const r=mae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?tae(n):vae(n)),r.property==="style"){let i=typeof n=="object"?n:cse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=use(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?uae[r.property]||r.property:r.attribute,n]}}function cse(e,t){try{return Hae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Oi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=kL+"#cannot-parse-style-attribute",i}}function CL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=qA(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=qA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return LS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Hf(e)}function Hf(e,t){const n=new Oi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=kL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function use(e){const t={};let n;for(n in e)LS.call(e,n)&&(t[dse(n)]=e[n]);return t}function dse(e){let t=e.replace(Gae,fse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function fse(e){return"-"+e.toLowerCase()}const Mx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mse={};function RS(e,t){const n=mse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return jL(e,r,i)}function jL(e,t,n){if(hse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rT(e.children,t,n)}return Array.isArray(e)?rT(e,t,n):""}function rT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=jL(e[i],t,n);return r.join("")}function hse(e){return!!(e&&typeof e=="object")}const iT=document.createElement("i");function BS(e){const t="&"+e+";";iT.innerHTML=t;const n=iT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Na(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Ua(e,t){return e.length>0?(Na(e,e.length,0,t),e):t}const aT={}.hasOwnProperty;function PL(e){const t={};let n=-1;for(;++n<e.length;)pse(t,e[n]);return t}function pse(e,t){let n;for(n in t){const i=(aT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){aT.call(i,s)||(i[s]=[]);const o=a[s];gse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function gse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Na(e,0,0,r)}function AL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ds(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ri=bl(/[A-Za-z]/),Di=bl(/[\dA-Za-z]/),vse=bl(/[#-'*+\--9=?A-Z^-~]/);function Ig(e){return e!==null&&(e<32||e===127)}const aw=bl(/\d/),xse=bl(/[\dA-Fa-f]/),yse=bl(/[!-/:-@[-`{-~]/);function Rt(e){return e!==null&&e<-2}function Fn(e){return e!==null&&(e<0||e===32)}function dn(e){return e===-2||e===-1||e===32}const fv=bl(new RegExp("\\p{P}|\\p{S}","u")),kc=bl(/\s/);function bl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Di(e.charCodeAt(n+1))&&Di(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return dn(l)?(e.enter(n),o(l)):t(l)}function o(l){return dn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const bse={tokenize:wse};function wse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Rt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const kse={tokenize:Sse},sT={tokenize:Nse};function Sse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}v(r);let P=S;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return Na(t.events,C+1,0,t.events.slice(S)),t.events.length=P,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sT,d,f)(w)}function d(w){return i&&b(),v(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(sT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return Rt(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const P=t.events.length;let D=P,_,T;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(_){T=t.events[D][1].end;break}_=!0}for(v(r),N=P;N<t.events.length;)t.events[N][1].end={...T},N++;Na(t.events,D+1,0,t.events.slice(P)),t.events.length=N}}function v(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Nse(e,t,n){return vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Vu(e){if(e===null||Fn(e)||kc(e))return 1;if(fv(e))return 2}function mv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const sw={name:"attention",resolveAll:Cse,tokenize:jse};function Cse(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};oT(f,-l),oT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ua(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ua(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Ua(c,mv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ua(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Ua(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Na(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function jse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Vu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Vu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function oT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Pse={name:"autolink",tokenize:Ase};function Ase(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Ri(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Di(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Di(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ig(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):vse(m)?(e.consume(m),c):n(m)}function d(m){return Di(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Di(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Om={partial:!0,tokenize:Tse};function Tse(e,t,n){return r;function r(a){return dn(a)?vn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Rt(a)?t(a):n(a)}}const TL={continuation:{tokenize:Dse},exit:Mse,name:"blockQuote",tokenize:Ese};function Ese(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return dn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Dse(e,t,n){const r=this;return i;function i(s){return dn(s)?vn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(TL,t,n)(s)}}function Mse(e){e.exit("blockQuote")}const EL={name:"characterEscape",tokenize:Ose};function Ose(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return yse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const DL={name:"characterReference",tokenize:Ise};function Ise(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Di,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=xse,d):(e.enter("characterReferenceValue"),a=7,s=aw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Di&&!BS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const lT={partial:!0,tokenize:Lse},cT={concrete:!0,name:"codeFenced",tokenize:_se};function _se(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),dn(N)?vn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Rt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(lT,g,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):dn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||Rt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,S,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return a>0&&dn(N)?vn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||Rt(N)?e.check(lT,g,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Rt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,P,D){let _=0;return T;function T(le){return N.enter("lineEnding"),N.consume(le),N.exit("lineEnding"),F}function F(le){return N.enter("codeFencedFence"),dn(le)?vn(N,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):M(le)}function M(le){return le===o?(N.enter("codeFencedFenceSequence"),ee(le)):D(le)}function ee(le){return le===o?(_++,N.consume(le),ee):_>=s?(N.exit("codeFencedFenceSequence"),dn(le)?vn(N,te,"whitespace")(le):te(le)):D(le)}function te(le){return le===null||Rt(le)?(N.exit("codeFencedFence"),P(le)):D(le)}}}function Lse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Ox={name:"codeIndented",tokenize:Fse},$se={partial:!0,tokenize:Rse};function Fse(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),vn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Rt(c)?e.attempt($se,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Rt(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function Rse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Rt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):vn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Rt(s)?i(s):n(s)}}const Bse={name:"codeText",previous:Use,resolve:zse,tokenize:Vse};function zse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Use(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Rt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Rt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Wse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Td(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Td(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Td(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Td(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Td(this.left,n.reverse())}}}function Td(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ML(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Wse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Hse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Na(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Hse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const v=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const qse={resolve:Gse,tokenize:Yse},Kse={partial:!0,tokenize:Xse};function Gse(e){return ML(e),e}function Yse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Rt(o)?e.check(Kse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Xse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),vn(e,a,"linePrefix")}function a(s){if(s===null||Rt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function OL(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||Ig(v)?n(v):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||Rt(v)?n(v):(e.consume(v),v===92?p:m)}function p(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function g(v){return!d&&(v===null||v===41||Fn(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(v)):d<c&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||Ig(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function IL(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Rt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Rt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!dn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function _L(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Rt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),vn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Rt(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Qd(e,t){let n;return r;function r(i){return Rt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):dn(i)?vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Zse={name:"definition",tokenize:Jse},Qse={partial:!0,tokenize:eoe};function Jse(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return IL.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=ds(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Fn(m)?Qd(e,c)(m):c(m)}function c(m){return OL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Qse,f,f)(m)}function f(m){return dn(m)?vn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Rt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function eoe(e,t,n){return r;function r(o){return Fn(o)?Qd(e,i)(o):n(o)}function i(o){return _L(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return dn(o)?vn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Rt(o)?t(o):n(o)}}const toe={name:"hardBreakEscape",tokenize:noe};function noe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Rt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const roe={name:"headingAtx",resolve:ioe,tokenize:aoe};function ioe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Na(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function aoe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Fn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Rt(d)?(e.exit("atxHeading"),t(d)):dn(d)?vn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Fn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const soe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uT=["pre","script","style","textarea"],ooe={concrete:!0,name:"htmlFlow",resolveTo:uoe,tokenize:doe},loe={partial:!0,tokenize:moe},coe={partial:!0,tokenize:foe};function uoe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function doe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:A):Ri(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Ri(k)?(e.consume(k),i=4,r.interrupt?t:A):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:A):n(k)}function p(k){const O="CDATA[";return k===O.charCodeAt(o++)?(e.consume(k),o===O.length?r.interrupt?t:M:p):n(k)}function g(k){return Ri(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Fn(k)){const O=k===47,re=s.toLowerCase();return!O&&!a&&uT.includes(re)?(i=1,r.interrupt?t(k):M(k)):soe.includes(s.toLowerCase())?(i=6,O?(e.consume(k),v):r.interrupt?t(k):M(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?b(k):w(k))}return k===45||Di(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function v(k){return k===62?(e.consume(k),r.interrupt?t:M):n(k)}function b(k){return dn(k)?(e.consume(k),b):T(k)}function w(k){return k===47?(e.consume(k),T):k===58||k===95||Ri(k)?(e.consume(k),S):dn(k)?(e.consume(k),w):T(k)}function S(k){return k===45||k===46||k===58||k===95||Di(k)?(e.consume(k),S):C(k)}function C(k){return k===61?(e.consume(k),N):dn(k)?(e.consume(k),C):w(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,P):dn(k)?(e.consume(k),N):D(k)}function P(k){return k===l?(e.consume(k),l=null,_):k===null||Rt(k)?n(k):(e.consume(k),P)}function D(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Fn(k)?C(k):(e.consume(k),D)}function _(k){return k===47||k===62||dn(k)?w(k):n(k)}function T(k){return k===62?(e.consume(k),F):n(k)}function F(k){return k===null||Rt(k)?M(k):dn(k)?(e.consume(k),F):n(k)}function M(k){return k===45&&i===2?(e.consume(k),ue):k===60&&i===1?(e.consume(k),J):k===62&&i===4?(e.consume(k),j):k===63&&i===3?(e.consume(k),A):k===93&&i===5?(e.consume(k),I):Rt(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(loe,W,ee)(k)):k===null||Rt(k)?(e.exit("htmlFlowData"),ee(k)):(e.consume(k),M)}function ee(k){return e.check(coe,te,W)(k)}function te(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),le}function le(k){return k===null||Rt(k)?ee(k):(e.enter("htmlFlowData"),M(k))}function ue(k){return k===45?(e.consume(k),A):M(k)}function J(k){return k===47?(e.consume(k),s="",Y):M(k)}function Y(k){if(k===62){const O=s.toLowerCase();return uT.includes(O)?(e.consume(k),j):M(k)}return Ri(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),Y):M(k)}function I(k){return k===93?(e.consume(k),A):M(k)}function A(k){return k===62?(e.consume(k),j):k===45&&i===2?(e.consume(k),A):M(k)}function j(k){return k===null||Rt(k)?(e.exit("htmlFlowData"),W(k)):(e.consume(k),j)}function W(k){return e.exit("htmlFlow"),t(k)}}function foe(e,t,n){const r=this;return i;function i(s){return Rt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function moe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Om,t,n)}}const hoe={name:"htmlText",tokenize:poe};function poe(e,t,n){const r=this;let i,a,s;return o;function o(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),l}function l(A){return A===33?(e.consume(A),c):A===47?(e.consume(A),C):A===63?(e.consume(A),w):Ri(A)?(e.consume(A),D):n(A)}function c(A){return A===45?(e.consume(A),d):A===91?(e.consume(A),a=0,p):Ri(A)?(e.consume(A),b):n(A)}function d(A){return A===45?(e.consume(A),m):n(A)}function f(A){return A===null?n(A):A===45?(e.consume(A),h):Rt(A)?(s=f,J(A)):(e.consume(A),f)}function h(A){return A===45?(e.consume(A),m):f(A)}function m(A){return A===62?ue(A):A===45?h(A):f(A)}function p(A){const j="CDATA[";return A===j.charCodeAt(a++)?(e.consume(A),a===j.length?g:p):n(A)}function g(A){return A===null?n(A):A===93?(e.consume(A),y):Rt(A)?(s=g,J(A)):(e.consume(A),g)}function y(A){return A===93?(e.consume(A),v):g(A)}function v(A){return A===62?ue(A):A===93?(e.consume(A),v):g(A)}function b(A){return A===null||A===62?ue(A):Rt(A)?(s=b,J(A)):(e.consume(A),b)}function w(A){return A===null?n(A):A===63?(e.consume(A),S):Rt(A)?(s=w,J(A)):(e.consume(A),w)}function S(A){return A===62?ue(A):w(A)}function C(A){return Ri(A)?(e.consume(A),N):n(A)}function N(A){return A===45||Di(A)?(e.consume(A),N):P(A)}function P(A){return Rt(A)?(s=P,J(A)):dn(A)?(e.consume(A),P):ue(A)}function D(A){return A===45||Di(A)?(e.consume(A),D):A===47||A===62||Fn(A)?_(A):n(A)}function _(A){return A===47?(e.consume(A),ue):A===58||A===95||Ri(A)?(e.consume(A),T):Rt(A)?(s=_,J(A)):dn(A)?(e.consume(A),_):ue(A)}function T(A){return A===45||A===46||A===58||A===95||Di(A)?(e.consume(A),T):F(A)}function F(A){return A===61?(e.consume(A),M):Rt(A)?(s=F,J(A)):dn(A)?(e.consume(A),F):_(A)}function M(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),i=A,ee):Rt(A)?(s=M,J(A)):dn(A)?(e.consume(A),M):(e.consume(A),te)}function ee(A){return A===i?(e.consume(A),i=void 0,le):A===null?n(A):Rt(A)?(s=ee,J(A)):(e.consume(A),ee)}function te(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Fn(A)?_(A):(e.consume(A),te)}function le(A){return A===47||A===62||Fn(A)?_(A):n(A)}function ue(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):n(A)}function J(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),Y}function Y(A){return dn(A)?vn(e,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):I(A)}function I(A){return e.enter("htmlTextData"),s(A)}}const zS={name:"labelEnd",resolveAll:yoe,resolveTo:boe,tokenize:woe},goe={tokenize:koe},voe={tokenize:Soe},xoe={tokenize:Noe};function yoe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Na(e,0,e.length,n),e}function boe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Ua(o,e.slice(a+1,a+r+3)),o=Ua(o,[["enter",d,t]]),o=Ua(o,mv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Ua(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=Ua(o,e.slice(s+1)),o=Ua(o,[["exit",l,t]]),Na(e,a,e.length,o),e}function woe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(ds(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(goe,d,s?d:f)(h):h===91?e.attempt(voe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(xoe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function koe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Fn(f)?Qd(e,a)(f):a(f)}function a(f){return f===41?d(f):OL(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Fn(f)?Qd(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?_L(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Fn(f)?Qd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Soe(e,t,n){const r=this;return i;function i(o){return IL.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ds(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Noe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Coe={name:"labelStartImage",resolveAll:zS.resolveAll,tokenize:joe};function joe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Poe={name:"labelStartLink",resolveAll:zS.resolveAll,tokenize:Aoe};function Aoe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ix={name:"lineEnding",tokenize:Toe};function Toe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vn(e,t,"linePrefix")}}const op={name:"thematicBreak",tokenize:Eoe};function Eoe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Rt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),dn(c)?vn(e,o,"whitespace")(c):o(c))}}const Qi={continuation:{tokenize:Ioe},exit:Loe,name:"list",tokenize:Ooe},Doe={partial:!0,tokenize:$oe},Moe={partial:!0,tokenize:_oe};function Ooe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:aw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(op,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return aw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Om,r.interrupt?n:d,e.attempt(Doe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return dn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Ioe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Om,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!dn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Moe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(e,e.attempt(Qi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function _oe(e,t,n){const r=this;return vn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Loe(e){e.exit(this.containerState.type)}function $oe(e,t,n){const r=this;return vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!dn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const dT={name:"setextUnderline",resolveTo:Foe,tokenize:Roe};function Foe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Roe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),dn(c)?vn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Rt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Boe={tokenize:zoe};function zoe(e){const t=this,n=e.attempt(Om,r,e.attempt(this.parser.constructs.flowInitial,i,vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(qse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Uoe={resolveAll:$L()},Voe=LL("string"),Woe=LL("text");function LL(e){return{resolveAll:$L(e==="text"?Hoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function $L(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Hoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const qoe={42:Qi,43:Qi,45:Qi,48:Qi,49:Qi,50:Qi,51:Qi,52:Qi,53:Qi,54:Qi,55:Qi,56:Qi,57:Qi,62:TL},Koe={91:Zse},Goe={[-2]:Ox,[-1]:Ox,32:Ox},Yoe={35:roe,42:op,45:[dT,op],60:ooe,61:dT,95:op,96:cT,126:cT},Xoe={38:DL,92:EL},Zoe={[-5]:Ix,[-4]:Ix,[-3]:Ix,33:Coe,38:DL,42:sw,60:[Pse,hoe],91:Poe,92:[toe,EL],93:zS,95:sw,96:Bse},Qoe={null:[sw,Uoe]},Joe={null:[42,95]},ele={null:[]},tle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Joe,contentInitial:Koe,disable:ele,document:qoe,flow:Yoe,flowInitial:Goe,insideSpan:Qoe,string:Xoe,text:Zoe},Symbol.toStringTag,{value:"Module"}));function nle(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:P(C),check:P(N),consume:b,enter:w,exit:S,interrupt:P(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(F){return s=Ua(s,F),y(),s[s.length-1]!==null?[]:(D(t,0),c.events=mv(a,c.events,c),c.events)}function h(F,M){return ile(m(F),M)}function m(F){return rle(s,F)}function p(){const{_bufferIndex:F,_index:M,line:ee,column:te,offset:le}=r;return{_bufferIndex:F,_index:M,line:ee,column:te,offset:le}}function g(F){i[F.line]=F.column,T()}function y(){let F;for(;r._index<s.length;){const M=s[r._index];if(typeof M=="string")for(F=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===F&&r._bufferIndex<M.length;)v(M.charCodeAt(r._bufferIndex));else v(M)}}function v(F){d=d(F)}function b(F){Rt(F)?(r.line++,r.column=1,r.offset+=F===-3?2:1,T()):F!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=F}function w(F,M){const ee=M||{};return ee.type=F,ee.start=p(),c.events.push(["enter",ee,c]),o.push(ee),ee}function S(F){const M=o.pop();return M.end=p(),c.events.push(["exit",M,c]),M}function C(F,M){D(F,M.from)}function N(F,M){M.restore()}function P(F,M){return ee;function ee(te,le,ue){let J,Y,I,A;return Array.isArray(te)?W(te):"tokenize"in te?W([te]):j(te);function j(X){return z;function z(Z){const $=Z!==null&&X[Z],G=Z!==null&&X.null,ae=[...Array.isArray($)?$:$?[$]:[],...Array.isArray(G)?G:G?[G]:[]];return W(ae)(Z)}}function W(X){return J=X,Y=0,X.length===0?ue:k(X[Y])}function k(X){return z;function z(Z){return A=_(),I=X,X.partial||(c.currentConstruct=X),X.name&&c.parser.constructs.disable.null.includes(X.name)?re():X.tokenize.call(M?Object.assign(Object.create(c),M):c,l,O,re)(Z)}}function O(X){return F(I,A),le}function re(X){return A.restore(),++Y<J.length?k(J[Y]):ue}}}function D(F,M){F.resolveAll&&!a.includes(F)&&a.push(F),F.resolve&&Na(c.events,M,c.events.length-M,F.resolve(c.events.slice(M),c)),F.resolveTo&&(c.events=F.resolveTo(c.events,c))}function _(){const F=p(),M=c.previous,ee=c.currentConstruct,te=c.events.length,le=Array.from(o);return{from:te,restore:ue};function ue(){r=F,c.previous=M,c.currentConstruct=ee,c.events.length=te,o=le,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rle(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function ile(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function ale(e){const r={constructs:PL([tle,...(e||{}).extensions||[]]),content:i(bse),defined:[],document:i(kse),flow:i(Boe),lazy:{},string:i(Voe),text:i(Woe)};return r;function i(a){return s;function s(o){return nle(r,a,o)}}}function sle(e){for(;!ML(e););return e}const fT=/[\0\t\n\r]/g;function ole(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(fT.lastIndex=f,c=fT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const lle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function cle(e){return e.replace(lle,ule)}function ule(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return AL(n.slice(a?2:1),a?16:10)}return BS(n)||e}const FL={}.hasOwnProperty;function dle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),fle(n)(sle(ale(n).document().write(ole()(e,t,!0))))}function fle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ie),autolinkProtocol:_,autolinkEmail:_,atxHeading:a(L),blockQuote:a(G),characterEscape:_,characterReference:_,codeFenced:a(ae),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ae,s),codeText:a(ne,s),codeTextData:_,data:_,codeFlowValue:_,definition:a(U),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(B),hardBreakEscape:a(Q),hardBreakTrailing:a(Q),htmlFlow:a(we,s),htmlFlowData:_,htmlText:a(we,s),htmlTextData:_,image:a(Re),label:s,link:a(ie),listItem:a(De),listItemValue:h,listOrdered:a(Ue,f),listUnordered:a(Ue),paragraph:a(nt),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(L),strong:a(on),thematicBreak:a(In)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:$,autolinkProtocol:Z,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:re,characterReferenceMarkerNumeric:re,characterReferenceValue:X,characterReference:z,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(v),codeText:l(le),codeTextData:T,data:T,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(ee),htmlFlowData:T,htmlText:l(te),htmlTextData:T,image:l(J),label:I,labelText:Y,lineEnding:F,link:l(ue),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:O,resourceDestinationString:A,resourceTitleString:j,resource:W,setextHeading:l(D),setextHeadingLineSequence:P,setextHeadingText:N,strong:l(),thematicBreak:l()}};RL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(de){let Be={type:"root",children:[]};const ct={stack:[Be],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},nn=[];let rn=-1;for(;++rn<de.length;)if(de[rn][1].type==="listOrdered"||de[rn][1].type==="listUnordered")if(de[rn][0]==="enter")nn.push(rn);else{const wr=nn.pop();rn=i(de,wr,rn)}for(rn=-1;++rn<de.length;){const wr=t[de[rn][0]];FL.call(wr,de[rn][1].type)&&wr[de[rn][1].type].call(Object.assign({sliceSerialize:de[rn][2].sliceSerialize},ct),de[rn][1])}if(ct.tokenStack.length>0){const wr=ct.tokenStack[ct.tokenStack.length-1];(wr[1]||mT).call(ct,void 0,wr[0])}for(Be.position={start:_o(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:_o(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},rn=-1;++rn<t.transforms.length;)Be=t.transforms[rn](Be)||Be;return Be}function i(de,Be,ct){let nn=Be-1,rn=-1,wr=!1,Bn,ni,ir,ri;for(;++nn<=ct;){const pn=de[nn];switch(pn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pn[0]==="enter"?rn++:rn--,ri=void 0;break}case"lineEndingBlank":{pn[0]==="enter"&&(Bn&&!ri&&!rn&&!ir&&(ir=nn),ri=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ri=void 0}if(!rn&&pn[0]==="enter"&&pn[1].type==="listItemPrefix"||rn===-1&&pn[0]==="exit"&&(pn[1].type==="listUnordered"||pn[1].type==="listOrdered")){if(Bn){let mn=nn;for(ni=void 0;mn--;){const yi=de[mn];if(yi[1].type==="lineEnding"||yi[1].type==="lineEndingBlank"){if(yi[0]==="exit")continue;ni&&(de[ni][1].type="lineEndingBlank",wr=!0),yi[1].type="lineEnding",ni=mn}else if(!(yi[1].type==="linePrefix"||yi[1].type==="blockQuotePrefix"||yi[1].type==="blockQuotePrefixWhitespace"||yi[1].type==="blockQuoteMarker"||yi[1].type==="listItemIndent"))break}ir&&(!ni||ir<ni)&&(Bn._spread=!0),Bn.end=Object.assign({},ni?de[ni][1].start:pn[1].end),de.splice(ni||nn,0,["exit",Bn,pn[2]]),nn++,ct++}if(pn[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},pn[1].start),end:void 0};Bn=mn,de.splice(nn,0,["enter",mn,pn[2]]),nn++,ct++,ir=void 0,ri=!0}}}return de[Be][1]._spread=wr,ct}function a(de,Be){return ct;function ct(nn){o.call(this,de(nn),nn),Be&&Be.call(this,nn)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(de,Be,ct){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Be,ct||void 0]),de.position={start:_o(Be.start),end:void 0}}function l(de){return Be;function Be(ct){de&&de.call(this,ct),c.call(this,ct)}}function c(de,Be){const ct=this.stack.pop(),nn=this.tokenStack.pop();if(nn)nn[0].type!==de.type&&(Be?Be.call(this,de,nn[0]):(nn[1]||mT).call(this,de,nn[0]));else throw new Error("Cannot close `"+de.type+"` ("+Zd({start:de.start,end:de.end})+"): its not open");ct.position.end=_o(de.end)}function d(){return RS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(de){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function m(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=de}function p(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=de}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.value=de.replace(/(\r?\n|\r)$/g,"")}function b(de){const Be=this.resume(),ct=this.stack[this.stack.length-1];ct.label=Be,ct.identifier=ds(this.sliceSerialize(de)).toLowerCase()}function w(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.title=de}function S(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.url=de}function C(de){const Be=this.stack[this.stack.length-1];if(!Be.depth){const ct=this.sliceSerialize(de).length;Be.depth=ct}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(de){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function _(de){const ct=this.stack[this.stack.length-1].children;let nn=ct[ct.length-1];(!nn||nn.type!=="text")&&(nn=Nn(),nn.position={start:_o(de.start),end:void 0},ct.push(nn)),this.stack.push(nn)}function T(de){const Be=this.stack.pop();Be.value+=this.sliceSerialize(de),Be.position.end=_o(de.end)}function F(de){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ct=Be.children[Be.children.length-1];ct.position.end=_o(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Be.type)&&(_.call(this,de),T.call(this,de))}function M(){this.data.atHardBreak=!0}function ee(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.value=de}function te(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.value=de}function le(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.value=de}function ue(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Be,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function J(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Be,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function Y(de){const Be=this.sliceSerialize(de),ct=this.stack[this.stack.length-2];ct.label=cle(Be),ct.identifier=ds(Be).toLowerCase()}function I(){const de=this.stack[this.stack.length-1],Be=this.resume(),ct=this.stack[this.stack.length-1];if(this.data.inReference=!0,ct.type==="link"){const nn=de.children;ct.children=nn}else ct.alt=Be}function A(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.url=de}function j(){const de=this.resume(),Be=this.stack[this.stack.length-1];Be.title=de}function W(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function O(de){const Be=this.resume(),ct=this.stack[this.stack.length-1];ct.label=Be,ct.identifier=ds(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function re(de){this.data.characterReferenceType=de.type}function X(de){const Be=this.sliceSerialize(de),ct=this.data.characterReferenceType;let nn;ct?(nn=AL(Be,ct==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nn=BS(Be);const rn=this.stack[this.stack.length-1];rn.value+=nn}function z(de){const Be=this.stack.pop();Be.position.end=_o(de.end)}function Z(de){T.call(this,de);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(de)}function $(de){T.call(this,de);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(de)}function G(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function U(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function L(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function we(){return{type:"html",value:""}}function Re(){return{type:"image",title:null,url:"",alt:null}}function ie(){return{type:"link",title:null,url:"",children:[]}}function Ue(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function De(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function nt(){return{type:"paragraph",children:[]}}function on(){return{type:"strong",children:[]}}function Nn(){return{type:"text",value:""}}function In(){return{type:"thematicBreak"}}}function _o(e){return{line:e.line,column:e.column,offset:e.offset}}function RL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?RL(e,r):mle(e,r)}}function mle(e,t){let n;for(n in t)if(FL.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function mT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Zd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Zd({start:t.start,end:t.end})+") is still open")}function hle(e){const t=this;t.parser=n;function n(r){return dle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ple(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function gle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function vle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function xle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ble(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function wle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function BL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Sle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BL(e,t);const i={src:sd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Nle(e,t){const n={src:sd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Cle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function jle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BL(e,t);const i={href:sd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Ple(e,t){const n={href:sd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ale(e,t,n){const r=e.all(t),i=n?Tle(n):zL(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Tle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zL(n[r])}return t}function zL(e){const t=e.spread;return t??e.children.length>1}function Ele(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Dle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ole(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ile(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=_S(t.children[1]),l=bL(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function _le(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Lle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const hT=9,pT=32;function $le(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(gT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(gT(t.slice(i),i>0,!1)),a.join("")}function gT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===hT||a===pT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===hT||a===pT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Fle(e,t){const n={type:"text",value:$le(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Rle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ble={blockquote:ple,break:gle,code:vle,delete:xle,emphasis:yle,footnoteReference:ble,heading:wle,html:kle,imageReference:Sle,image:Nle,inlineCode:Cle,linkReference:jle,link:Ple,listItem:Ale,list:Ele,paragraph:Dle,root:Mle,strong:Ole,table:Ile,tableCell:Lle,tableRow:_le,text:Fle,thematicBreak:Rle,toml:Oh,yaml:Oh,definition:Oh,footnoteDefinition:Oh};function Oh(){}const UL=-1,hv=0,Jd=1,_g=2,US=3,VS=4,WS=5,HS=6,VL=7,WL=8,vT=typeof self=="object"?self:globalThis,zle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case hv:case UL:return n(s,i);case Jd:{const o=n([],i);for(const l of s)o.push(r(l));return o}case _g:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case US:return n(new Date(s),i);case VS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case WS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case HS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case VL:{const{name:o,message:l}=s;return n(new vT[o](l),i)}case WL:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new vT[a](s),i)};return r},xT=e=>zle(new Map,e)(0),Kc="",{toString:Ule}={},{keys:Vle}=Object,Ed=e=>{const t=typeof e;if(t!=="object"||!e)return[hv,t];const n=Ule.call(e).slice(8,-1);switch(n){case"Array":return[Jd,Kc];case"Object":return[_g,Kc];case"Date":return[US,Kc];case"RegExp":return[VS,Kc];case"Map":return[WS,Kc];case"Set":return[HS,Kc];case"DataView":return[Jd,n]}return n.includes("Array")?[Jd,n]:n.includes("Error")?[VL,n]:[_g,n]},Ih=([e,t])=>e===hv&&(t==="function"||t==="symbol"),Wle=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Ed(s);switch(o){case hv:{let d=s;switch(l){case"bigint":o=WL,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([UL],s)}return i([o,d],s)}case Jd:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case _g:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Vle(s))(e||!Ih(Ed(s[h])))&&d.push([a(h),a(s[h])]);return f}case US:return i([o,s.toISOString()],s);case VS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case WS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Ih(Ed(h))||Ih(Ed(m))))&&d.push([a(h),a(m)]);return f}case HS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Ih(Ed(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},yT=(e,{json:t,lossy:n}={})=>{const r=[];return Wle(!(t||n),!!t,new Map,r)(e),r},Lg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?xT(yT(e,t)):structuredClone(e):(e,t)=>xT(yT(e,t));function Hle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function qle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Kle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Hle,r=e.options.footnoteBackLabel||qle,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=sd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Lg(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const pv=function(e){if(e==null)return Zle;if(typeof e=="function")return gv(e);if(typeof e=="object")return Array.isArray(e)?Gle(e):Yle(e);if(typeof e=="string")return Xle(e);throw new Error("Expected function, string, or object as test")};function Gle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=pv(e[n]);return gv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Yle(e){const t=e;return gv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Xle(e){return gv(t);function t(n){return n&&n.type===e}}function gv(e){return t;function t(n,r,i){return!!(Qle(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Zle(){return!0}function Qle(e){return e!==null&&typeof e=="object"&&"type"in e}const HL=[],Jle=!0,ow=!1,ece="skip";function qL(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=pv(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=HL,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=tce(n(l,d)),m[0]===ow))return m;if("children"in l&&l.children){const v=l;if(v.children&&m[0]!==ece)for(g=(r?v.children.length:-1)+s,y=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(p=o(b,g,y)(),p[0]===ow)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function tce(e){return Array.isArray(e)?e:typeof e=="number"?[Jle,e]:e==null?HL:[e]}function qS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),qL(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const lw={}.hasOwnProperty,nce={};function rce(e,t){const n=t||nce,r=new Map,i=new Map,a=new Map,s={...Ble,...n.handlers},o={all:c,applyData:ace,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:ice,wrap:oce};return qS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(lw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,v=Lg(y);return v.children=o.all(d),v}return Lg(d)}return(o.options.unknownHandler||sce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=bT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=bT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function ice(e,t){e.position&&(t.position=qae(e))}function ace(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Lg(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function sce(e,t){const n=t.data||{},r="value"in t&&!(lw.call(n,"hProperties")||lw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function wT(e,t){const n=rce(e,t),r=n.one(e,void 0),i=Kle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function lce(e,t){return e&&"run"in e?async function(n,r){const i=wT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return wT(n,{file:r,...e||t})}}function kT(e){if(e)throw e}var lp=Object.prototype.hasOwnProperty,KL=Object.prototype.toString,ST=Object.defineProperty,NT=Object.getOwnPropertyDescriptor,CT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):KL.call(t)==="[object Array]"},jT=function(t){if(!t||KL.call(t)!=="[object Object]")return!1;var n=lp.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&lp.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||lp.call(t,i)},PT=function(t,n){ST&&n.name==="__proto__"?ST(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},AT=function(t,n){if(n==="__proto__")if(lp.call(t,n)){if(NT)return NT(t,n).value}else return;return t[n]},cce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=AT(o,n),i=AT(t,n),o!==i&&(d&&i&&(jT(i)||(a=CT(i)))?(a?(a=!1,s=r&&CT(r)?r:[]):s=r&&jT(r)?r:{},PT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&PT(o,{name:n,newValue:i}));return o};const _x=vs(cce);function cw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?dce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function dce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const As={basename:fce,dirname:mce,extname:hce,join:pce,sep:"/"};function fce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Im(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function mce(e){if(Im(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hce(e){Im(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function pce(...e){let t=-1,n;for(;++t<e.length;)Im(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":gce(n)}function gce(e){Im(e);const t=e.codePointAt(0)===47;let n=vce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function vce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Im(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const xce={cwd:yce};function yce(){return"/"}function uw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function bce(e){if(typeof e=="string")e=new URL(e);else if(!uw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return wce(e)}function wce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Lx=["history","path","basename","stem","extname","dirname"];class GL{constructor(t){let n;t?uw(t)?n={path:t}:typeof t=="string"||kce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":xce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Lx.length;){const a=Lx[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Lx.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?As.basename(this.path):void 0}set basename(t){Fx(t,"basename"),$x(t,"basename"),this.path=As.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?As.dirname(this.path):void 0}set dirname(t){TT(this.basename,"dirname"),this.path=As.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?As.extname(this.path):void 0}set extname(t){if($x(t,"extname"),TT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=As.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){uw(t)&&(t=bce(t)),Fx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?As.basename(this.path,this.extname):void 0}set stem(t){Fx(t,"stem"),$x(t,"stem"),this.path=As.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Oi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function $x(e,t){if(e&&e.includes(As.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+As.sep+"`")}function Fx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function TT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function kce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Sce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Nce={}.hasOwnProperty;class KS extends Sce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uce()}copy(){const t=new KS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_x(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zx("data",this.frozen),this.namespace[t]=n,this):Nce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_h(t),r=this.parser||this.Parser;return Rx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Rx("process",this.parser||this.Parser),Bx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=_h(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Pce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Rx("processSync",this.parser||this.Parser),Bx("processSync",this.compiler||this.Compiler),this.process(t,i),DT("processSync","process",n),r;function i(a,s){n=!0,kT(a),r=s}}run(t,n,r){ET(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=_h(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),DT("runSync","run",r),i;function a(s,o){kT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=_h(n),i=this.compiler||this.Compiler;return Bx("stringify",i),ET(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zx("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=_x(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];cw(g)&&cw(m)&&(m=_x(!0,g,m)),r[h]=[c,m,...p]}}}}const Cce=new KS().freeze();function Rx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Bx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ET(e){if(!cw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function DT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _h(e){return jce(e)?e:new GL(e)}function jce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Pce(e){return typeof e=="string"||Ace(e)}function Ace(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Tce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",MT=[],OT={allowDangerousHtml:!0},Ece=/^(https?|ircs?|mailto|xmpp)$/i,Dce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Mce(e){const t=Oce(e),n=Ice(e);return _ce(t.runSync(t.parse(n),n),e)}function Oce(e){const t=e.rehypePlugins||MT,n=e.remarkPlugins||MT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...OT}:OT;return Cce().use(hle).use(n).use(lce,r).use(t)}function Ice(e){const t=e.children||"",n=new GL;return typeof t=="string"&&(n.value=t),n}function _ce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Lce;for(const d of Dce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Tce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),qS(e,c),Zae(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mx)if(Object.hasOwn(Mx,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Mx[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Lce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Ece.test(e.slice(0,t))?e:""}function IT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function $ce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Fce(e,t,n){const i=pv((n||{}).ignore||[]),a=Rce(t);let s=-1;for(;++s<a.length;)qL(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=S+1:(p!==S&&b.push({type:"text",value:c.value.slice(p,S)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=S+w[0].length,v=!0),!h.global)break;w=h.exec(c.value)}return v?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function Rce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Bce(i[0]),zce(i[1])])}return t}function Bce(e){return typeof e=="string"?new RegExp($ce(e),"g"):e}function zce(e){return typeof e=="function"?e:function(){return e}}const Ux="phrasing",Vx=["autolink","link","image","label"];function Uce(){return{transforms:[Yce],enter:{literalAutolink:Wce,literalAutolinkEmail:Wx,literalAutolinkHttp:Wx,literalAutolinkWww:Wx},exit:{literalAutolink:Gce,literalAutolinkEmail:Kce,literalAutolinkHttp:Hce,literalAutolinkWww:qce}}}function Vce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ux,notInConstruct:Vx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ux,notInConstruct:Vx},{character:":",before:"[ps]",after:"\\/",inConstruct:Ux,notInConstruct:Vx}]}}function Wce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Wx(e){this.config.enter.autolinkProtocol.call(this,e)}function Hce(e){this.config.exit.autolinkProtocol.call(this,e)}function qce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Kce(e){this.config.exit.autolinkEmail.call(this,e)}function Gce(e){this.exit(e)}function Yce(e){Fce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Xce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Zce]],{ignore:["link","linkReference"]})}function Xce(e,t,n,r,i){let a="";if(!YL(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Qce(n)))return!1;const s=Jce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Zce(e,t,n,r){return!YL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Qce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Jce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=IT(e,"(");let a=IT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function YL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||kc(n)||fv(n))&&(!t||n!==47)}XL.peek=lue;function eue(){this.buffer()}function tue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function nue(){this.buffer()}function rue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function iue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ds(this.sliceSerialize(e)).toLowerCase(),n.label=t}function aue(e){this.exit(e)}function sue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ds(this.sliceSerialize(e)).toLowerCase(),n.label=t}function oue(e){this.exit(e)}function lue(){return"["}function XL(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function cue(){return{enter:{gfmFootnoteCallString:eue,gfmFootnoteCall:tue,gfmFootnoteDefinitionLabelString:nue,gfmFootnoteDefinition:rue},exit:{gfmFootnoteCallString:iue,gfmFootnoteCall:aue,gfmFootnoteDefinitionLabelString:sue,gfmFootnoteDefinition:oue}}}function uue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:XL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?ZL:due))),c(),l}}function due(e,t,n){return t===0?e:ZL(e,t,n)}function ZL(e,t,n){return(n?"":"    ")+e}const fue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QL.peek=vue;function mue(){return{canContainEols:["delete"],enter:{strikethrough:pue},exit:{strikethrough:gue}}}function hue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fue}],handlers:{delete:QL}}}function pue(e){this.enter({type:"delete",children:[]},e)}function gue(e){this.exit(e)}function QL(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function vue(){return"~"}function xue(e){return e.length}function yue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||xue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let v=-1;for(e[d].length>c&&(c=e[d].length);++v<e[d].length;){const b=bue(e[d][v]);if(n.alignDelimiters!==!1){const w=i(b);y[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=_T(r[f]);else{const g=_T(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-v.length);const w=y+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const v=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(b),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function bue(e){return e==null?"":String(e)}function _T(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function wue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),kue);return i(),s}function kue(e,t,n){return">"+(n?"":" ")+e}function Sue(e,t){return LT(e,t.inConstruct,!0)&&!LT(e,t.notInConstruct,!1)}function LT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function $T(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Sue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Nue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Cue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function jue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Pue(e,t,n,r){const i=jue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Cue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Aue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Nue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Aue(e,t,n){return(n?"":"    ")+e}function GS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Tue(e,t,n,r){const i=GS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function Eue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function qf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function $g(e,t,n){const r=Vu(e),i=Vu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}JL.peek=Due;function JL(e,t,n,r){const i=Eue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=$g(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=qf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=$g(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+qf(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Due(e,t,n){return n.options.emphasis||"*"}function Mue(e,t){let n=!1;return qS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ow}),!!((!e.depth||e.depth<3)&&RS(e)&&(t.options.setext||n))}function Oue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Mue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=qf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}e$.peek=Iue;function e$(e){return e.value||""}function Iue(){return"<"}t$.peek=_ue;function t$(e,t,n,r){const i=GS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function _ue(){return"!"}n$.peek=Lue;function n$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Lue(){return"!"}r$.peek=$ue;function r$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function $ue(){return"`"}function i$(e,t){const n=RS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}a$.peek=Fue;function a$(e,t,n,r){const i=GS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(i$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Fue(e,t,n){return i$(e,n)?"<":"["}s$.peek=Rue;function s$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Rue(){return"["}function YS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Bue(e){const t=YS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function zue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function o$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Uue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?zue(n):YS(n);const o=e.ordered?s==="."?")":".":Bue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),o$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Vue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Wue(e,t,n,r){const i=Vue(n);let a=n.bulletCurrent||YS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Hue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const que=pv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Kue(e,t,n,r){return(e.children.some(function(s){return que(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Gue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}l$.peek=Yue;function l$(e,t,n,r){const i=Gue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=$g(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=qf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=$g(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+qf(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Yue(e,t,n){return n.options.strong||"*"}function Xue(e,t,n,r){return n.safe(e.value,r)}function Zue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Que(e,t,n){const r=(o$(n)+(n.options.ruleSpaces?" ":"")).repeat(Zue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const c$={blockquote:wue,break:$T,code:Pue,definition:Tue,emphasis:JL,hardBreak:$T,heading:Oue,html:e$,image:t$,imageReference:n$,inlineCode:r$,link:a$,linkReference:s$,list:Uue,listItem:Wue,paragraph:Hue,root:Kue,strong:l$,text:Xue,thematicBreak:Que};function Jue(){return{enter:{table:ede,tableData:FT,tableHeader:FT,tableRow:nde},exit:{codeText:rde,table:tde,tableData:Hx,tableHeader:Hx,tableRow:Hx}}}function ede(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function tde(e){this.exit(e),this.data.inTable=void 0}function nde(e){this.enter({type:"tableRow",children:[]},e)}function Hx(e){this.exit(e)}function FT(e){this.enter({type:"tableCell",children:[]},e)}function rde(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ide));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ide(e,t){return t==="|"?t:e}function ade(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const v=f(m,g,y),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const v=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),v(),w}function c(m,p){return yue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let v=-1;const b=[],w=p.enter("table");for(;++v<y.length;)b[v]=f(y[v],p,g);return w(),b}function f(m,p,g){const y=m.children;let v=-1;const b=[],w=p.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],m,p,g);return w(),b}function h(m,p,g){let y=c$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function sde(){return{exit:{taskListCheckValueChecked:RT,taskListCheckValueUnchecked:RT,paragraph:lde}}}function ode(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cde}}}function RT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function lde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function cde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=c$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function ude(){return[Uce(),cue(),mue(),Jue(),sde()]}function dde(e){return{extensions:[Vce(),uue(e),hue(),ade(e),ode()]}}const fde={tokenize:xde,partial:!0},u$={tokenize:yde,partial:!0},d$={tokenize:bde,partial:!0},f$={tokenize:wde,partial:!0},mde={tokenize:kde,partial:!0},m$={name:"wwwAutolink",tokenize:gde,previous:p$},h$={name:"protocolAutolink",tokenize:vde,previous:g$},Mo={name:"emailAutolink",tokenize:pde,previous:v$},Bs={};function hde(){return{text:Bs}}let Ml=48;for(;Ml<123;)Bs[Ml]=Mo,Ml++,Ml===58?Ml=65:Ml===91&&(Ml=97);Bs[43]=Mo;Bs[45]=Mo;Bs[46]=Mo;Bs[95]=Mo;Bs[72]=[Mo,h$];Bs[104]=[Mo,h$];Bs[87]=[Mo,m$];Bs[119]=[Mo,m$];function pde(e,t,n){const r=this;let i,a;return s;function s(f){return!dw(f)||!v$.call(r,r.previous)||XS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return dw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(mde,d,c)(f):f===45||f===95||Di(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Ri(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function gde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!p$.call(r,r.previous)||XS(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(fde,e.attempt(u$,e.attempt(d$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function vde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&g$.call(r,r.previous)&&!XS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ri(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Ig(f)||Fn(f)||kc(f)||fv(f)?n(f):e.attempt(u$,e.attempt(d$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function xde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function yde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(f$,l,o)(c):c===null||Fn(c)||kc(c)||c!==45&&fv(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function bde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(f$,t,a)(s):s===null||Fn(s)||kc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function wde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Fn(o)||kc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Fn(o)||kc(o)?t(o):r(o)}function a(o){return Ri(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ri(o)?(e.consume(o),s):n(o)}}function kde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Di(a)?n(a):t(a)}}function p$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fn(e)}function g$(e){return!Ri(e)}function v$(e){return!(e===47||dw(e))}function dw(e){return e===43||e===45||e===46||e===95||Di(e)}function XS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Sde={tokenize:Dde,partial:!0};function Nde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ade,continuation:{tokenize:Tde},exit:Ede}},text:{91:{name:"gfmFootnoteCall",tokenize:Pde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Cde,resolveTo:jde}}}}function Cde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=ds(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function jde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Pde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Fn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ds(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Fn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Ade(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Fn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=ds(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Fn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),vn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Tde(e,t,n){return e.check(Om,t,e.attempt(Sde,t,n))}function Ede(e){e.exit("gfmFootnoteDefinition")}function Dde(e,t,n){const r=this;return vn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Mde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Na(h,h.length,0,mv(m,s.slice(c+1,l),o)),Na(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Na(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Vu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),v=Vu(p);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,o(p)}}}class Ode{constructor(){this.map=[]}add(t,n,r){Ide(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Ide(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function _de(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Lde(){return{flow:{null:{name:"table",tokenize:$de,resolveAll:Fde}}}}function $de(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let F=r.events.length-1;for(;F>-1;){const te=r.events[F][1].type;if(te==="lineEnding"||te==="linePrefix")F--;else break}const M=F>-1?r.events[F][1].type:null,ee=M==="tableHead"||M==="tableRow"?N:l;return ee===N&&r.parser.lazy[r.now().line]?n(T):ee(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Rt(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):dn(T)?vn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Fn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,dn(T)?vn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return dn(T)?vn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),v):T===45?(a+=1,v(T)):T===null||Rt(T)?S(T):C(T)}function v(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):C(T)}function b(T){return T===45?(e.consume(T),b):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return dn(T)?vn(e,S,"whitespace")(T):S(T)}function S(T){return T===124?p(T):T===null||Rt(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function N(T){return e.enter("tableRow"),P(T)}function P(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),P):T===null||Rt(T)?(e.exit("tableRow"),t(T)):dn(T)?vn(e,P,"whitespace")(T):(e.enter("data"),D(T))}function D(T){return T===null||T===124||Fn(T)?(e.exit("data"),P(T)):(e.consume(T),T===92?_:D)}function _(T){return T===92||T===124?(e.consume(T),D):D(T)}}function Fde(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Ode;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(BT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Lh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Lh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Lh(h,t,a,i,n,f)):s[1]!==0&&(f=Lh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&BT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=_de(t.events,n))}return e}function Lh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Xc(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Xc(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=Xc(t.events,n[2]),d=Xc(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Xc(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function BT(e,t,n,r,i){const a=[],s=Xc(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Xc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Rde={name:"tasklistCheck",tokenize:zde};function Bde(){return{text:{91:Rde}}}function zde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Fn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Rt(l)?t(l):dn(l)?e.check({tokenize:Ude},t,n)(l):n(l)}}function Ude(e,t,n){return vn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Vde(e){return PL([hde(),Nde(),Mde(e),Lde(),Bde()])}const Wde={};function Hde(e){const t=this,n=e||Wde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Vde(n)),a.push(ude()),s.push(dde(n))}const qx='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',x$=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vv=x.createContext({}),ZS=x.createContext(null),xv=typeof document<"u",qde=xv?x.useLayoutEffect:x.useEffect,y$=x.createContext({strict:!1}),QS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Kde="framerAppearId",b$="data-"+QS(Kde);function Gde(e,t,n,r){const{visualElement:i}=x.useContext(vv),a=x.useContext(y$),s=x.useContext(ZS),o=x.useContext(x$).reducedMotion,l=x.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,s)});const d=x.useRef(!!(n[b$]&&!window.HandoffComplete));return qde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yde(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):du(n)&&(n.current=r))},[t])}function Kf(e){return typeof e=="string"||Array.isArray(e)}function yv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const JS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eN=["initial",...JS];function bv(e){return yv(e.animate)||eN.some(t=>Kf(e[t]))}function w$(e){return!!(bv(e)||e.variants)}function Xde(e,t){if(bv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Kf(n)?n:void 0,animate:Kf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Zde(e){const{initial:t,animate:n}=Xde(e,x.useContext(vv));return x.useMemo(()=>({initial:t,animate:n}),[zT(t),zT(n)])}function zT(e){return Array.isArray(e)?e.join(" "):e}const UT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gf={};for(const e in UT)Gf[e]={isEnabled:t=>UT[e].some(n=>!!t[n])};function Qde(e){for(const t in e)Gf[t]={...Gf[t],...e[t]}}const k$=x.createContext({}),S$=x.createContext({}),Jde=Symbol.for("motionComponentSymbol");function efe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Qde(e);function a(o,l){let c;const d={...x.useContext(x$),...o,layoutId:tfe(o)},{isStatic:f}=d,h=Zde(o),m=r(o,f);if(!f&&xv){h.visualElement=Gde(i,m,d,t);const p=x.useContext(S$),g=x.useContext(y$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return x.createElement(vv.Provider,{value:h},c&&h.visualElement?x.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Yde(m,h.visualElement,l),m,f,h.visualElement))}const s=x.forwardRef(a);return s[Jde]=i,s}function tfe({layoutId:e}){const t=x.useContext(k$).id;return t&&e!==void 0?t+"-"+e:e}function nfe(e){function t(r,i={}){return efe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const rfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tN(e){return typeof e!="string"||e.includes("-")?!1:!!(rfe.indexOf(e)>-1||/[A-Z]/.test(e))}const Fg={};function ife(e){Object.assign(Fg,e)}const _m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ac=new Set(_m);function N$(e,{layout:t,layoutId:n}){return Ac.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Fg[e]||e==="opacity")}const oa=e=>!!(e&&e.getVelocity),afe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sfe=_m.length;function ofe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<sfe;s++){const o=_m[s];if(e[o]!==void 0){const l=afe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const C$=e=>t=>typeof t=="string"&&t.startsWith(e),j$=C$("--"),fw=C$("var(--"),lfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,cfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,dl=(e,t,n)=>Math.min(Math.max(n,e),t),Tc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ef={...Tc,transform:e=>dl(0,1,e)},$h={...Tc,default:1},tf=e=>Math.round(e*1e5)/1e5,wv=/(-)?([\d]*\.?[\d])+/g,P$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ufe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lm(e){return typeof e=="string"}const $m=e=>({test:t=>Lm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$o=$m("deg"),_s=$m("%"),Wt=$m("px"),dfe=$m("vh"),ffe=$m("vw"),VT={..._s,parse:e=>_s.parse(e)/100,transform:e=>_s.transform(e*100)},WT={...Tc,transform:Math.round},A$={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,size:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,rotate:$o,rotateX:$o,rotateY:$o,rotateZ:$o,scale:$h,scaleX:$h,scaleY:$h,scaleZ:$h,skew:$o,skewX:$o,skewY:$o,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:ef,originX:VT,originY:VT,originZ:Wt,zIndex:WT,fillOpacity:ef,strokeOpacity:ef,numOctaves:WT};function nN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(j$(f)){a[f]=h;continue}const m=A$[f],p=cfe(h,m);if(Ac.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=ofe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const rN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function T$(e,t,n){for(const r in t)!oa(t[r])&&!N$(r,n)&&(e[r]=t[r])}function mfe({transformTemplate:e},t,n){return x.useMemo(()=>{const r=rN();return nN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function hfe(e,t,n){const r=e.style||{},i={};return T$(i,r,e),Object.assign(i,mfe(e,t,n)),e.transformValues?e.transformValues(i):i}function pfe(e,t,n){const r={},i=hfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const gfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||gfe.has(e)}let E$=e=>!Rg(e);function vfe(e){e&&(E$=t=>t.startsWith("on")?!Rg(t):e(t))}try{vfe(require("@emotion/is-prop-valid").default)}catch{}function xfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(E$(i)||n===!0&&Rg(i)||!t&&!Rg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function HT(e,t,n){return typeof e=="string"?e:Wt.transform(t+n*e)}function yfe(e,t,n){const r=HT(t,e.x,e.width),i=HT(n,e.y,e.height);return`${r} ${i}`}const bfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},wfe={offset:"strokeDashoffset",array:"strokeDasharray"};function kfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?bfe:wfe;e[a.offset]=Wt.transform(-r);const s=Wt.transform(t),o=Wt.transform(n);e[a.array]=`${s} ${o}`}function iN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(nN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=yfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&kfe(m,s,o,l,!1)}const D$=()=>({...rN(),attrs:{}}),aN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Sfe(e,t,n,r){const i=x.useMemo(()=>{const a=D$();return iN(a,t,{enableHardwareAcceleration:!1},aN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};T$(a,e.style,e),i.style={...a,...i.style}}return i}function Nfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(tN(n)?Sfe:pfe)(r,a,s,n),d={...xfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=x.useMemo(()=>oa(f)?f.get():f,[f]);return x.createElement(n,{...d,children:h})}}function M$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const O$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I$(e,t,n,r){M$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(O$.has(i)?i:QS(i),t.attrs[i])}function sN(e,t){const{style:n}=e,r={};for(const i in n)(oa(n[i])||t.style&&oa(t.style[i])||N$(i,e))&&(r[i]=n[i]);return r}function _$(e,t){const n=sN(e,t);for(const r in e)if(oa(e[r])||oa(t[r])){const i=_m.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function oN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Cfe(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bg=e=>Array.isArray(e),jfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Pfe=e=>Bg(e)?e[e.length-1]||0:e;function cp(e){const t=oa(e)?e.get():e;return jfe(t)?t.toValue():t}function Afe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Tfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const L$=e=>(t,n)=>{const r=x.useContext(vv),i=x.useContext(ZS),a=()=>Afe(e,t,r,i);return n?a():Cfe(a)};function Tfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=cp(a[h]);let{initial:s,animate:o}=e;const l=bv(e),c=w$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!yv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=oN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...v}=p;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Ir=e=>e;class qT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Efe(e){let t=new qT,n=new qT,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Fh=["prepare","read","update","preRender","render","postRender"],Dfe=40;function Mfe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Fh.reduce((f,h)=>(f[h]=Efe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Dfe),1),i.timestamp=f,i.isProcessing=!0,Fh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Fh.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Fh.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:rr,cancel:ko,state:Ci,steps:Kx}=Mfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0),Ofe={useVisualState:L$({scrapeMotionValuesFromProps:_$,createRenderState:D$,onMount:(e,t,{renderState:n,latestValues:r})=>{rr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),rr.render(()=>{iN(n,r,{enableHardwareAcceleration:!1},aN(t.tagName),e.transformTemplate),I$(t,n)})}})},Ife={useVisualState:L$({scrapeMotionValuesFromProps:sN,createRenderState:rN})};function _fe(e,{forwardMotionProps:t=!1},n,r){return{...tN(e)?Ofe:Ife,preloadedFeatures:n,useRender:Nfe(t),createVisualElement:r,Component:e}}function ao(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const $$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function kv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Lfe=e=>t=>$$(t)&&e(t,kv(t));function co(e,t,n,r){return ao(e,t,Lfe(n),r)}const $fe=(e,t)=>n=>t(e(n)),sl=(...e)=>e.reduce($fe);function F$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const KT=F$("dragHorizontal"),GT=F$("dragVertical");function R$(e){let t=!1;if(e==="y")t=GT();else if(e==="x")t=KT();else{const n=KT(),r=GT();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function B$(){const e=R$(!0);return e?(e(),!1):!0}class wl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function YT(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||B$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&rr.update(()=>o[r](a,s))};return co(e.current,n,i,{passive:!e.getProps()[r]})}class Ffe extends wl{mount(){this.unmount=sl(YT(this.node,!0),YT(this.node,!1))}unmount(){}}class Rfe extends wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sl(ao(this.node.current,"focus",()=>this.onFocus()),ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const z$=(e,t)=>t?e===t?!0:z$(e,t.parentElement):!1;function Gx(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,kv(n))}class Bfe extends wl{constructor(){super(...arguments),this.removeStartListeners=Ir,this.removeEndListeners=Ir,this.removeAccessibleListeners=Ir,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=co(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();rr.update(()=>{!f&&!z$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=co(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=sl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Gx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&rr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=ao(this.node.current,"keyup",s),Gx("down",(o,l)=>{this.startPress(o,l)})},n=ao(this.node.current,"keydown",t),r=()=>{this.isPressing&&Gx("cancel",(a,s)=>this.cancelPress(a,s))},i=ao(this.node.current,"blur",r);this.removeAccessibleListeners=sl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&rr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!B$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&rr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=co(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ao(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=sl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const mw=new WeakMap,Yx=new WeakMap,zfe=e=>{const t=mw.get(e.target);t&&t(e)},Ufe=e=>{e.forEach(zfe)};function Vfe({root:e,...t}){const n=e||document;Yx.has(n)||Yx.set(n,{});const r=Yx.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ufe,{root:e,...t})),r[i]}function Wfe(e,t,n){const r=Vfe(t);return mw.set(e,n),r.observe(e),()=>{mw.delete(e),r.unobserve(e)}}const Hfe={some:0,all:1};class qfe extends wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Hfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Wfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Kfe(t,n))&&this.startObserver()}unmount(){}}function Kfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Gfe={inView:{Feature:qfe},tap:{Feature:Bfe},focus:{Feature:Rfe},hover:{Feature:Ffe}};function U$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Yfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Xfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Sv(e,t,n){const r=e.getProps();return oN(r,t,n!==void 0?n:r.custom,Yfe(e),Xfe(e))}let lN=Ir;const sc=e=>e*1e3,uo=e=>e/1e3,Zfe={current:!1},V$=e=>Array.isArray(e)&&typeof e[0]=="number";function W$(e){return!!(!e||typeof e=="string"&&H$[e]||V$(e)||Array.isArray(e)&&e.every(W$))}const Rd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,H$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rd([0,.65,.55,1]),circOut:Rd([.55,0,1,.45]),backIn:Rd([.31,.01,.66,-.59]),backOut:Rd([.33,1.53,.69,.99])};function q$(e){if(e)return V$(e)?Rd(e):Array.isArray(e)?e.map(q$):H$[e]}function Qfe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=q$(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Jfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const K$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eme=1e-7,tme=12;function nme(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=K$(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>eme&&++o<tme);return s}function Fm(e,t,n,r){if(e===t&&n===r)return Ir;const i=a=>nme(a,0,1,e,n);return a=>a===0||a===1?a:K$(i(a),t,r)}const rme=Fm(.42,0,1,1),ime=Fm(0,0,.58,1),G$=Fm(.42,0,.58,1),ame=e=>Array.isArray(e)&&typeof e[0]!="number",Y$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,X$=e=>t=>1-e(1-t),cN=e=>1-Math.sin(Math.acos(e)),Z$=X$(cN),sme=Y$(cN),Q$=Fm(.33,1.53,.69,.99),uN=X$(Q$),ome=Y$(uN),lme=e=>(e*=2)<1?.5*uN(e):.5*(2-Math.pow(2,-10*(e-1))),cme={linear:Ir,easeIn:rme,easeInOut:G$,easeOut:ime,circIn:cN,circInOut:sme,circOut:Z$,backIn:uN,backInOut:ome,backOut:Q$,anticipate:lme},XT=e=>{if(Array.isArray(e)){lN(e.length===4);const[t,n,r,i]=e;return Fm(t,n,r,i)}else if(typeof e=="string")return cme[e];return e},dN=(e,t)=>n=>!!(Lm(n)&&ufe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),J$=(e,t,n)=>r=>{if(!Lm(r))return r;const[i,a,s,o]=r.match(wv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ume=e=>dl(0,255,e),Xx={...Tc,transform:e=>Math.round(ume(e))},Ql={test:dN("rgb","red"),parse:J$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xx.transform(e)+", "+Xx.transform(t)+", "+Xx.transform(n)+", "+tf(ef.transform(r))+")"};function dme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hw={test:dN("#"),parse:dme,transform:Ql.transform},fu={test:dN("hsl","hue"),parse:J$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_s.transform(tf(t))+", "+_s.transform(tf(n))+", "+tf(ef.transform(r))+")"},$i={test:e=>Ql.test(e)||hw.test(e)||fu.test(e),parse:e=>Ql.test(e)?Ql.parse(e):fu.test(e)?fu.parse(e):hw.parse(e),transform:e=>Lm(e)?e:e.hasOwnProperty("red")?Ql.transform(e):fu.transform(e)},gr=(e,t,n)=>-n*e+n*t+e;function Zx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Zx(l,o,e+1/3),a=Zx(l,o,e),s=Zx(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Qx=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},mme=[hw,Ql,fu],hme=e=>mme.find(t=>t.test(e));function ZT(e){const t=hme(e);let n=t.parse(e);return t===fu&&(n=fme(n)),n}const eF=(e,t)=>{const n=ZT(e),r=ZT(t),i={...n};return a=>(i.red=Qx(n.red,r.red,a),i.green=Qx(n.green,r.green,a),i.blue=Qx(n.blue,r.blue,a),i.alpha=gr(n.alpha,r.alpha,a),Ql.transform(i))};function pme(e){var t,n;return isNaN(e)&&Lm(e)&&(((t=e.match(wv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(P$))===null||n===void 0?void 0:n.length)||0)>0}const tF={regex:lfe,countKey:"Vars",token:"${v}",parse:Ir},nF={regex:P$,countKey:"Colors",token:"${c}",parse:$i.parse},rF={regex:wv,countKey:"Numbers",token:"${n}",parse:Tc.parse};function Jx(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function zg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jx(n,tF),Jx(n,nF),Jx(n,rF),n}function iF(e){return zg(e).values}function aF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=zg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(tF.token,s[l]):l<r+n?o=o.replace(nF.token,$i.transform(s[l])):o=o.replace(rF.token,tf(s[l]));return o}}const gme=e=>typeof e=="number"?0:e;function vme(e){const t=iF(e);return aF(e)(t.map(gme))}const fl={test:pme,parse:iF,createTransformer:aF,getAnimatableNone:vme},sF=(e,t)=>n=>`${n>0?t:e}`;function oF(e,t){return typeof e=="number"?n=>gr(e,t,n):$i.test(e)?eF(e,t):e.startsWith("var(")?sF(e,t):cF(e,t)}const lF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>oF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},xme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=oF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},cF=(e,t)=>{const n=fl.createTransformer(t),r=zg(e),i=zg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?sl(lF(r.values,i.values),n):sF(e,t)},Yf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},QT=(e,t)=>n=>gr(e,t,n);function yme(e){return typeof e=="number"?QT:typeof e=="string"?$i.test(e)?eF:cF:Array.isArray(e)?lF:typeof e=="object"?xme:QT}function bme(e,t,n){const r=[],i=n||yme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ir:t;o=sl(l,o)}r.push(o)}return r}function uF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(lN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=bme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Yf(e[d],e[d+1],c);return s[d](f)};return n?c=>l(dl(e[0],e[a-1],c)):l}function wme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yf(0,t,r);e.push(gr(n,1,i))}}function kme(e){const t=[0];return wme(t,e.length-1),t}function Sme(e,t){return e.map(n=>n*t)}function Nme(e,t){return e.map(()=>t||G$).splice(0,e.length-1)}function Ug({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=ame(r)?r.map(XT):XT(r),a={done:!1,value:t[0]},s=Sme(n&&n.length===t.length?n:kme(t),e),o=uF(s,t,{ease:Array.isArray(i)?i:Nme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function dF(e,t){return t?e*(1e3/t):0}const Cme=5;function fF(e,t,n){const r=Math.max(t-Cme,0);return dF(n-e(r),t-r)}const ey=.001,jme=.01,Pme=10,Ame=.05,Tme=1;function Eme({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=dl(Ame,Tme,s),e=dl(jme,Pme,uo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=pw(c,s),p=Math.exp(-f);return ey-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=pw(Math.pow(c,2),s);return(-i(c)+ey>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ey+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Mme(i,a,o);if(e=sc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Dme=12;function Mme(e,t,n){let r=n;for(let i=1;i<Dme;i++)r=r-e(r)/t(r);return r}function pw(e,t){return e*Math.sqrt(1-t*t)}const Ome=["duration","bounce"],Ime=["stiffness","damping","mass"];function JT(e,t){return t.some(n=>e[n]!==void 0)}function _me(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!JT(e,Ime)&&JT(e,Ome)){const n=Eme(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function mF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=_me({...r,velocity:-uo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=uo(Math.sqrt(o/c)),v=Math.abs(g)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let b;if(p<1){const w=pw(y,p);b=S=>{const C=Math.exp(-p*y*S);return a-C*((m+p*y*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*y*S),N=Math.min(w*S,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=fF(b,w,S):C=0);const N=Math.abs(C)<=n,P=Math.abs(a-S)<=t;s.done=N&&P}return s.value=s.done?a:S,s}}}function eE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=D=>o!==void 0&&D<o||l!==void 0&&D>l,p=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let g=n*t;const y=f+g,v=s===void 0?y:s(y);v!==y&&(g=v-f);const b=D=>-g*Math.exp(-D/r),w=D=>v+b(D),S=D=>{const _=b(D),T=w(D);h.done=Math.abs(_)<=c,h.value=h.done?v:T};let C,N;const P=D=>{m(h.value)&&(C=D,N=mF({keyframes:[h.value,p(h.value)],velocity:fF(w,D,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return P(0),{calculatedDuration:null,next:D=>{let _=!1;return!N&&C===void 0&&(_=!0,S(D),P(D)),C!==void 0&&D>C?N.next(D-C):(!_&&S(D),h)}}}const Lme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>rr.update(t,!0),stop:()=>ko(t),now:()=>Ci.isProcessing?Ci.timestamp:performance.now()}},tE=2e4;function nE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<tE;)t+=n,r=e.next(t);return t>=tE?1/0:t}const $me={decay:eE,inertia:eE,tween:Ug,keyframes:Ug,spring:mF};function Vg({autoplay:e=!0,delay:t=0,driver:n=Lme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const v=()=>{y=new Promise(j=>{g=j})};v();let b;const w=$me[i]||Ug;let S;w!==Ug&&typeof r[0]!="number"&&(S=uF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let P="idle",D=null,_=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=nE(C));const{calculatedDuration:F}=C;let M=1/0,ee=1/0;F!==null&&(M=F+s,ee=M*(a+1)-s);let te=0;const le=j=>{if(_===null)return;m>0&&(_=Math.min(_,j)),m<0&&(_=Math.min(j-ee/m,_)),D!==null?te=D:te=Math.round(j-_)*m;const W=te-t*(m>=0?1:-1),k=m>=0?W<0:W>ee;te=Math.max(W,0),P==="finished"&&D===null&&(te=ee);let O=te,re=C;if(a){const $=Math.min(te,ee)/M;let G=Math.floor($),ae=$%1;!ae&&$>=1&&(ae=1),ae===1&&G--,G=Math.min(G,a+1),!!(G%2)&&(o==="reverse"?(ae=1-ae,s&&(ae-=s/M)):o==="mirror"&&(re=N)),O=dl(0,1,ae)*M}const X=k?{done:!1,value:r[0]}:re.next(O);S&&(X.value=S(X.value));let{done:z}=X;!k&&F!==null&&(z=m>=0?te>=ee:te<=0);const Z=D===null&&(P==="finished"||P==="running"&&z);return f&&f(X.value),Z&&Y(),X},ue=()=>{b&&b.stop(),b=void 0},J=()=>{P="idle",ue(),g(),v(),_=T=null},Y=()=>{P="finished",d&&d(),ue(),g()},I=()=>{if(p)return;b||(b=n(le));const j=b.now();l&&l(),D!==null?_=j-D:(!_||P==="finished")&&(_=j),P==="finished"&&v(),T=_,D=null,P="running",b.start()};e&&I();const A={then(j,W){return y.then(j,W)},get time(){return uo(te)},set time(j){j=sc(j),te=j,D!==null||!b||m===0?D=j:_=b.now()-j/m},get duration(){const j=C.calculatedDuration===null?nE(C):C.calculatedDuration;return uo(j)},get speed(){return m},set speed(j){j===m||!b||(m=j,A.time=uo(te))},get state(){return P},play:I,pause:()=>{P="paused",D=te},stop:()=>{p=!0,P!=="idle"&&(P="idle",c&&c(),J())},cancel:()=>{T!==null&&le(T),J()},complete:()=>{P="finished"},sample:j=>(_=0,le(j))};return A}function Fme(e){let t;return()=>(t===void 0&&(t=e()),t)}const Rme=Fme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rh=10,zme=2e4,Ume=(e,t)=>t.type==="spring"||e==="backgroundColor"||!W$(t.ease);function Vme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Rme()&&Bme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Ume(t,i)){const w=Vg({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const C=[];let N=0;for(;!S.done&&N<zme;)S=w.sample(N),C.push(S.value),N+=Rh;p=void 0,f=C,h=N-Rh,m="linear"}const g=Qfe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},v=()=>{c=!0,rr.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(Jfe(f,i)),r&&r(),v())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Ir},get time(){return uo(g.currentTime||0)},set time(w){g.currentTime=sc(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return uo(h)},play:()=>{s||(g.play(),ko(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=Vg({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Rh).value,S.sample(w).value,Rh)}v()},complete:()=>{c||g.finish()},cancel:v}}function Wme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ir,pause:Ir,stop:Ir,then:a=>(a(),Promise.resolve()),cancel:Ir,complete:Ir});return t?Vg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Hme={type:"spring",stiffness:500,damping:25,restSpeed:10},qme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kme={type:"keyframes",duration:.8},Gme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yme=(e,{keyframes:t})=>t.length>2?Kme:Ac.has(e)?e.startsWith("scale")?qme(t[1]):Hme:Gme,gw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fl.test(t)||t==="0")&&!t.startsWith("url(")),Xme=new Set(["brightness","contrast","saturate","opacity"]);function Zme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(wv)||[];if(!r)return e;const i=n.replace(r,"");let a=Xme.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Qme=/([a-z-]*)\(.*?\)/g,vw={...fl,getAnimatableNone:e=>{const t=e.match(Qme);return t?t.map(Zme).join(" "):e}},Jme={...A$,color:$i,backgroundColor:$i,outlineColor:$i,fill:$i,stroke:$i,borderColor:$i,borderTopColor:$i,borderRightColor:$i,borderBottomColor:$i,borderLeftColor:$i,filter:vw,WebkitFilter:vw},fN=e=>Jme[e];function hF(e,t){let n=fN(e);return n!==vw&&(n=fl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pF=e=>/^0[^.\s]+$/.test(e);function ehe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||pF(e)}function the(e,t,n,r){const i=gw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),ehe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=hF(t,o)}return a}function nhe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function mN(e,t){return e[t]||e.default||e}const rhe={skipAnimations:!1},hN=(e,t,n,r={})=>i=>{const a=mN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-sc(s);const l=the(t,e,n,a),c=l[0],d=l[l.length-1],f=gw(e,c),h=gw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(nhe(a)||(m={...m,...Yme(e,m)}),m.duration&&(m.duration=sc(m.duration)),m.repeatDelay&&(m.repeatDelay=sc(m.repeatDelay)),!f||!h||Zfe.current||a.type===!1||rhe.skipAnimations)return Wme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Vme(t,e,m);if(p)return p}return Vg(m)};function Wg(e){return!!(oa(e)&&e.add)}const gF=e=>/^\-?\d*\.?\d+$/.test(e);function pN(e,t){e.indexOf(t)===-1&&e.push(t)}function gN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vN{constructor(){this.subscriptions=[]}add(t){return pN(this.subscriptions,t),()=>gN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ihe=e=>!isNaN(parseFloat(e));class ahe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Ci;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,rr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ihe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vN);const r=this.events[t].add(n);return t==="change"?()=>{r(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wu(e,t){return new ahe(e,t)}const vF=e=>t=>t.test(e),she={test:e=>e==="auto",parse:e=>e},xF=[Tc,Wt,_s,$o,ffe,dfe,she],Dd=e=>xF.find(vF(e)),ohe=[...xF,$i,fl],lhe=e=>ohe.find(vF(e));function che(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wu(n))}function uhe(e,t){const n=Sv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Pfe(a[s]);che(e,s,o)}}function dhe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(gF(d)||pF(d))?d=parseFloat(d):!lhe(d)&&fl.test(c)&&(d=hF(l,c)),e.addValue(l,Wu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function fhe(e,t){return t?(t[e]||t.default||t).from:void 0}function mhe(e,t,n){const r={};for(const i in e){const a=fhe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function hhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function phe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function yF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&hhe(d,f))continue;const p={delay:n,elapsed:0,...mN(a||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[b$];if(v){const b=window.HandoffAppearAnimations(v,f,h,rr);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!phe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(hN(f,h,m,e.shouldReduceMotion&&Ac.has(f)?{type:!1}:p));const y=h.animation;Wg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&uhe(e,s)}),c}function xw(e,t,n={}){const r=Sv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(yF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return ghe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function ghe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(vhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(xw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function vhe(e,t){return e.sortNodePosition(t)}function xhe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>xw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=xw(e,t,n);else{const i=typeof t=="function"?Sv(e,t,n.custom):t;r=Promise.all(yF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const yhe=[...JS].reverse(),bhe=JS.length;function whe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>xhe(e,n,r)))}function khe(e){let t=whe(e);const n=Nhe();let r=!0;const i=(l,c)=>{const d=Sv(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let v=0;v<bhe;v++){const b=yhe[v],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Kf(S),N=b===c?w.isActive:null;N===!1&&(g=v);let P=S===f[b]&&S!==d[b]&&C;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&N===null||!S&&!w.prevProp||yv(S)||typeof S=="boolean")continue;let _=She(w.prevProp,S)||b===c&&w.isActive&&!P&&C||v>g&&C,T=!1;const F=Array.isArray(S)?S:[S];let M=F.reduce(i,{});N===!1&&(M={});const{prevResolvedValues:ee={}}=w,te={...ee,...M},le=ue=>{_=!0,m.has(ue)&&(T=!0,m.delete(ue)),w.needsAnimating[ue]=!0};for(const ue in te){const J=M[ue],Y=ee[ue];if(p.hasOwnProperty(ue))continue;let I=!1;Bg(J)&&Bg(Y)?I=!U$(J,Y):I=J!==Y,I?J!==void 0?le(ue):m.add(ue):J!==void 0&&m.has(ue)?le(ue):w.protectedKeys[ue]=!0}w.prevProp=S,w.prevResolvedValues=M,w.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(_=!1),_&&(!P||T)&&h.push(...F.map(ue=>({animation:ue,options:{type:b,...l}})))}if(m.size){const v={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(v[b]=w)}),h.push({animation:v})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function She(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!U$(t,e):!1}function Ol(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nhe(){return{animate:Ol(!0),whileInView:Ol(),whileHover:Ol(),whileTap:Ol(),whileDrag:Ol(),whileFocus:Ol(),exit:Ol()}}class Che extends wl{constructor(t){super(t),t.animationState||(t.animationState=khe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),yv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let jhe=0;class Phe extends wl{constructor(){super(...arguments),this.id=jhe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ahe={animation:{Feature:Che},exit:{Feature:Phe}},rE=(e,t)=>Math.abs(e-t);function The(e,t){const n=rE(e.x,t.x),r=rE(e.y,t.y);return Math.sqrt(n**2+r**2)}class bF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ny(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=The(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=Ci;this.history.push({...p,timestamp:g});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ty(h,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ny(f.type==="pointercancel"?this.lastMoveEventInfo:ty(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!$$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=kv(t),o=ty(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ci;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,ny(o,this.history)),this.removeListeners=sl(co(this.contextWindow,"pointermove",this.handlePointerMove),co(this.contextWindow,"pointerup",this.handlePointerUp),co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ko(this.updatePoint)}}function ty(e,t){return t?{point:t(e.point)}:e}function iE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ny({point:e},t){return{point:e,delta:iE(e,wF(t)),offset:iE(e,Ehe(t)),velocity:Dhe(t,.1)}}function Ehe(e){return e[0]}function wF(e){return e[e.length-1]}function Dhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=wF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>sc(t)));)n--;if(!r)return{x:0,y:0};const a=uo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Pa(e){return e.max-e.min}function yw(e,t=0,n=.01){return Math.abs(e-t)<=n}function aE(e,t,n,r=.5){e.origin=r,e.originPoint=gr(t.min,t.max,e.origin),e.scale=Pa(n)/Pa(t),(yw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gr(n.min,n.max,e.origin)-e.originPoint,(yw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function nf(e,t,n,r){aE(e.x,t.x,n.x,r?r.originX:void 0),aE(e.y,t.y,n.y,r?r.originY:void 0)}function sE(e,t,n){e.min=n.min+t.min,e.max=e.min+Pa(t)}function Mhe(e,t,n){sE(e.x,t.x,n.x),sE(e.y,t.y,n.y)}function oE(e,t,n){e.min=t.min-n.min,e.max=e.min+Pa(t)}function rf(e,t,n){oE(e.x,t.x,n.x),oE(e.y,t.y,n.y)}function Ohe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gr(n,e,r.max):Math.min(e,n)),e}function lE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ihe(e,{top:t,left:n,bottom:r,right:i}){return{x:lE(e.x,n,i),y:lE(e.y,t,r)}}function cE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function _he(e,t){return{x:cE(e.x,t.x),y:cE(e.y,t.y)}}function Lhe(e,t){let n=.5;const r=Pa(e),i=Pa(t);return i>r?n=Yf(t.min,t.max-r,e.min):r>i&&(n=Yf(e.min,e.max-i,t.min)),dl(0,1,n)}function $he(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const bw=.35;function Fhe(e=bw){return e===!1?e=0:e===!0&&(e=bw),{x:uE(e,"left","right"),y:uE(e,"top","bottom")}}function uE(e,t,n){return{min:dE(e,t),max:dE(e,n)}}function dE(e,t){return typeof e=="number"?e:e[t]||0}const fE=()=>({translate:0,scale:1,origin:0,originPoint:0}),mu=()=>({x:fE(),y:fE()}),mE=()=>({min:0,max:0}),Fr=()=>({x:mE(),y:mE()});function Ra(e){return[e("x"),e("y")]}function kF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Rhe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Bhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ry(e){return e===void 0||e===1}function ww({scale:e,scaleX:t,scaleY:n}){return!ry(e)||!ry(t)||!ry(n)}function Bl(e){return ww(e)||SF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function SF(e){return hE(e.x)||hE(e.y)}function hE(e){return e&&e!=="0%"}function Hg(e,t,n){const r=e-n,i=t*r;return n+i}function pE(e,t,n,r,i){return i!==void 0&&(e=Hg(e,i,r)),Hg(e,n,r)+t}function kw(e,t=0,n=1,r,i){e.min=pE(e.min,t,n,r,i),e.max=pE(e.max,t,n,r,i)}function NF(e,{x:t,y:n}){kw(e.x,t.translate,t.scale,t.originPoint),kw(e.y,n.translate,n.scale,n.originPoint)}function zhe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&hu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,NF(e,s)),r&&Bl(a.latestValues)&&hu(e,a.latestValues))}t.x=gE(t.x),t.y=gE(t.y)}function gE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Uo(e,t){e.min=e.min+t,e.max=e.max+t}function vE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=gr(e.min,e.max,a);kw(e,t[n],t[r],s,t.scale)}const Uhe=["x","scaleX","originX"],Vhe=["y","scaleY","originY"];function hu(e,t){vE(e.x,t,Uhe),vE(e.y,t,Vhe)}function CF(e,t){return kF(Bhe(e.getBoundingClientRect(),t))}function Whe(e,t,n){const r=CF(e,n),{scroll:i}=t;return i&&(Uo(r.x,i.offset.x),Uo(r.y,i.offset.y)),r}const jF=({current:e})=>e?e.ownerDocument.defaultView:null,Hhe=new WeakMap;class qhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=R$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ra(y=>{let v=this.getAxisMotionValue(y).get()||0;if(_s.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=Pa(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&rr.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Khe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ra(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&rr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Bh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Ohe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&du(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ihe(i.layoutBox,n):this.constraints=!1,this.elastic=Fhe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ra(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=$he(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!du(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Whe(r,i.root,this.visualElement.getTransformPagePoint());let s=_he(i.layout.layoutBox,a);if(n){const o=n(Rhe(s));this.hasMutatedConstraints=!!o,o&&(s=kF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ra(d=>{if(!Bh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(hN(t,r,0,n))}stopAnimation(){Ra(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ra(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ra(n=>{const{drag:r}=this.getProps();if(!Bh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-gr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!du(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ra(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Lhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ra(s=>{if(!Bh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(gr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Hhe.set(this.visualElement,this);const t=this.visualElement.current,n=co(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();du(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ao(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ra(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=bw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Bh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Khe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ghe extends wl{constructor(t){super(t),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new qhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const xE=e=>(t,n)=>{e&&rr.update(()=>e(t,n))};class Yhe extends wl{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(t){this.session=new bF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xE(t),onStart:xE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&rr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=co(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Xhe(){const e=x.useContext(ZS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const up={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Md={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=yE(e,t.target.x),r=yE(e,t.target.y);return`${n}% ${r}%`}},Zhe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=fl.parse(e);if(i.length>5)return r;const a=fl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=gr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Qhe extends Kg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;ife(Jhe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),up.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||rr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PF(e){const[t,n]=Xhe(),r=x.useContext(k$);return Kg.createElement(Qhe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(S$),isPresent:t,safeToRemove:n})}const Jhe={borderRadius:{...Md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Md,borderTopRightRadius:Md,borderBottomLeftRadius:Md,borderBottomRightRadius:Md,boxShadow:Zhe},AF=["TopLeft","TopRight","BottomLeft","BottomRight"],epe=AF.length,bE=e=>typeof e=="string"?parseFloat(e):e,wE=e=>typeof e=="number"||Wt.test(e);function tpe(e,t,n,r,i,a){i?(e.opacity=gr(0,n.opacity!==void 0?n.opacity:1,npe(r)),e.opacityExit=gr(t.opacity!==void 0?t.opacity:1,0,rpe(r))):a&&(e.opacity=gr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<epe;s++){const o=`border${AF[s]}Radius`;let l=kE(t,o),c=kE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||wE(l)===wE(c)?(e[o]=Math.max(gr(bE(l),bE(c),r),0),(_s.test(c)||_s.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=gr(t.rotate||0,n.rotate||0,r))}function kE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const npe=TF(0,.5,Z$),rpe=TF(.5,.95,Ir);function TF(e,t,n){return r=>r<e?0:r>t?1:n(Yf(e,t,r))}function SE(e,t){e.min=t.min,e.max=t.max}function _a(e,t){SE(e.x,t.x),SE(e.y,t.y)}function NE(e,t,n,r,i){return e-=t,e=Hg(e,1/n,r),i!==void 0&&(e=Hg(e,1/i,r)),e}function ipe(e,t=0,n=1,r=.5,i,a=e,s=e){if(_s.test(t)&&(t=parseFloat(t),t=gr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=gr(a.min,a.max,r);e===a&&(o-=t),e.min=NE(e.min,t,n,o,i),e.max=NE(e.max,t,n,o,i)}function CE(e,t,[n,r,i],a,s){ipe(e,t[n],t[r],t[i],t.scale,a,s)}const ape=["x","scaleX","originX"],spe=["y","scaleY","originY"];function jE(e,t,n,r){CE(e.x,t,ape,n?n.x:void 0,r?r.x:void 0),CE(e.y,t,spe,n?n.y:void 0,r?r.y:void 0)}function PE(e){return e.translate===0&&e.scale===1}function EF(e){return PE(e.x)&&PE(e.y)}function ope(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function DF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function AE(e){return Pa(e.x)/Pa(e.y)}class lpe{constructor(){this.members=[]}add(t){pN(this.members,t),t.scheduleRender()}remove(t){if(gN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const cpe=(e,t)=>e.depth-t.depth;class upe{constructor(){this.children=[],this.isDirty=!1}add(t){pN(this.children,t),this.isDirty=!0}remove(t){gN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cpe),this.isDirty=!1,this.children.forEach(t)}}function dpe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ko(r),e(a-t))};return rr.read(r,!0),()=>ko(r)}function fpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function mpe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function hpe(e,t,n){const r=oa(e)?e:Wu(e);return r.start(hN("",r,t,n)),r.animation}const EE=["","X","Y","Z"],ppe={visibility:"hidden"},DE=1e3;let gpe=0;const zl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function MF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=gpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zl.totalNodes=zl.resolvedTargetDeltas=zl.recalculatedProjection=0,this.nodes.forEach(ype),this.nodes.forEach(Npe),this.nodes.forEach(Cpe),this.nodes.forEach(bpe),fpe(zl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new upe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new vN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mpe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=dpe(h,250),up.hasAnimatedSinceResize&&(up.hasAnimatedSinceResize=!1,this.nodes.forEach(OE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Epe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!DF(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...mN(g,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||OE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jpe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ME);return}this.isUpdating||this.nodes.forEach(kpe),this.isUpdating=!1,this.nodes.forEach(Spe),this.nodes.forEach(vpe),this.nodes.forEach(xpe),this.clearAllSnapshots();const o=performance.now();Ci.delta=dl(0,1e3/60,o-Ci.timestamp),Ci.timestamp=o,Ci.isProcessing=!0,Kx.update.process(Ci),Kx.preRender.process(Ci),Kx.render.process(Ci),Ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(wpe),this.sharedNodes.forEach(Ppe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!EF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Bl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Dpe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Fr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Uo(o.x,l.offset.x),Uo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Fr();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){_a(o,s);const{scroll:h}=this.root;h&&(Uo(o.x,-h.offset.x),Uo(o.y,-h.offset.y))}Uo(o.x,d.offset.x),Uo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Fr();_a(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Bl(d.latestValues)&&hu(l,d.latestValues)}return Bl(this.latestValues)&&hu(l,this.latestValues),l}removeTransform(s){const o=Fr();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Bl(c.latestValues))continue;ww(c.latestValues)&&c.updateSnapshot();const d=Fr(),f=c.measurePageBox();_a(d,f),jE(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Bl(this.latestValues)&&jE(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ci.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),rf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fr(),this.targetWithTransforms=Fr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mhe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),NF(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fr(),this.relativeTargetOrigin=Fr(),rf(this.relativeTargetOrigin,this.target,m.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ww(this.parent.latestValues)||SF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ci.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_a(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;zhe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=mu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=mu(),this.projectionDeltaWithTransform=mu());const g=this.projectionTransform;nf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=TE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),zl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Fr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),v=!y||y.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Tpe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;IE(f.x,s.x,C),IE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ape(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&ope(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Fr()),_a(w,this.relativeTarget)),g&&(this.animationValues=d,tpe(d,c,this.latestValues,C,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{up.hasAnimatedSinceResize=!0,this.currentAnimation=hpe(0,DE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&OF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fr();const f=Pa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Pa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}_a(o,l),hu(o,d),nf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new lpe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<EE.length;d++){const f="rotate"+EE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ppe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=cp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=cp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Bl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=TE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Fg){if(h[g]===void 0)continue;const{correct:y,applyTo:v}=Fg[g],b=c.transform==="none"?h[g]:y(h[g],f);if(v){const w=v.length;for(let S=0;S<w;S++)c[v[S]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?cp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(ME),this.root.sharedNodes.clear()}}}function vpe(e){e.updateLayout()}function xpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Ra(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Pa(h);h.min=r[f].min,h.max=h.min+m}):OF(a,n.layoutBox,r)&&Ra(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Pa(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=mu();nf(o,r,n.layoutBox);const l=mu();s?nf(l,e.applyTransform(i,!0),n.measuredBox):nf(l,r,n.layoutBox);const c=!EF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Fr();rf(p,n.layoutBox,h.layoutBox);const g=Fr();rf(g,r,m.layoutBox),DF(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ype(e){zl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wpe(e){e.clearSnapshot()}function ME(e){e.clearMeasurements()}function kpe(e){e.isLayoutDirty=!1}function Spe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Npe(e){e.resolveTargetDelta()}function Cpe(e){e.calcProjection()}function jpe(e){e.resetRotation()}function Ppe(e){e.removeLeadSnapshot()}function IE(e,t,n){e.translate=gr(t.translate,0,n),e.scale=gr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _E(e,t,n,r){e.min=gr(t.min,n.min,r),e.max=gr(t.max,n.max,r)}function Ape(e,t,n,r){_E(e.x,t.x,n.x,r),_E(e.y,t.y,n.y,r)}function Tpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Epe={duration:.45,ease:[.4,0,.1,1]},LE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$E=LE("applewebkit/")&&!LE("chrome/")?Math.round:Ir;function FE(e){e.min=$E(e.min),e.max=$E(e.max)}function Dpe(e){FE(e.x),FE(e.y)}function OF(e,t,n){return e==="position"||e==="preserve-aspect"&&!yw(AE(t),AE(n),.2)}const Mpe=MF({attachResizeListener:(e,t)=>ao(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},IF=MF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iy.current){const e=new Mpe({});e.mount(window),e.setOptions({layoutScroll:!0}),iy.current=e}return iy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ope={pan:{Feature:Yhe},drag:{Feature:Ghe,ProjectionNode:IF,MeasureLayout:PF}},Ipe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function _pe(e){const t=Ipe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Sw(e,t,n=1){const[r,i]=_pe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return gF(s)?parseFloat(s):s}else return fw(i)?Sw(i,t,n+1):i}function Lpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!fw(a))return;const s=Sw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!fw(a))continue;const s=Sw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const $pe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_F=e=>$pe.has(e),Fpe=e=>Object.keys(e).some(_F),RE=e=>e===Tc||e===Wt,BE=(e,t)=>parseFloat(e.split(", ")[t]),zE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return BE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?BE(a[1],e):0}},Rpe=new Set(["x","y","z"]),Bpe=_m.filter(e=>!Rpe.has(e));function zpe(e){const t=[];return Bpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Hu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zE(4,13),y:zE(5,14)};Hu.translateX=Hu.x;Hu.translateY=Hu.y;const Upe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Hu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Hu[c](l,a)}),e},Vpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(_F);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Dd(d);const h=t[l];let m;if(Bg(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Dd(d);for(let y=g;y<p&&h[y]!==null;y++)m?lN(Dd(h[y])===m):m=Dd(h[y])}else m=Dd(h);if(f!==m)if(RE(f)&&RE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Wt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=zpe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Upe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),xv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Wpe(e,t,n,r){return Fpe(t)?Vpe(e,t,n,r):{target:t,transitionEnd:r}}const Hpe=(e,t,n,r)=>{const i=Lpe(e,t,r);return t=i.target,r=i.transitionEnd,Wpe(e,t,n,r)},Nw={current:null},LF={current:!1};function qpe(){if(LF.current=!0,!!xv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Nw.current=e.matches;e.addListener(t),t()}else Nw.current=!1}function Kpe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(oa(a))e.addValue(i,a),Wg(r)&&r.add(i);else if(oa(s))e.addValue(i,Wu(a,{owner:e})),Wg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Wu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const UE=new WeakMap,$F=Object.keys(Gf),Gpe=$F.length,VE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ype=eN.length;class Xpe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=bv(n),this.isVariantNode=w$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&oa(h)&&(h.set(o[f],!1),Wg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,UE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LF.current||qpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UE.delete(this.current),this.projection&&this.projection.unmount(),ko(this.notifyUpdate),ko(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ac.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&rr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Gpe;l++){const c=$F[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Gf[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&du(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<VE.length;r++){const i=VE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Kpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Ype;r++){const i=eN[r],a=this.props[i];(Kf(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=oN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!oa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class FF extends Xpe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=mhe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){dhe(this,r,s);const o=Hpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Zpe(e){return window.getComputedStyle(e)}class Qpe extends FF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ac.has(n)){const r=fN(n);return r&&r.default||0}else{const r=Zpe(t),i=(j$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return CF(t,n)}build(t,n,r,i){nN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return sN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;oa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){M$(t,n,r,i)}}class Jpe extends FF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ac.has(n)){const r=fN(n);return r&&r.default||0}return n=O$.has(n)?n:QS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Fr()}scrapeMotionValuesFromProps(t,n){return _$(t,n)}build(t,n,r,i){iN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){I$(t,n,r,i)}mount(t){this.isSVGTag=aN(t.tagName),super.mount(t)}}const ege=(e,t)=>tN(e)?new Jpe(t,{enableHardwareAcceleration:!1}):new Qpe(t,{enableHardwareAcceleration:!0}),tge={layout:{ProjectionNode:IF,MeasureLayout:PF}},nge={...Ahe,...Gfe,...Ope,...tge},js=nfe((e,t)=>_fe(e,t,nge,ege));function rge({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:v=>v.target===v.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onFocus:s,onBlur:v=>o(v.relatedTarget),onKeyDown:v=>{v.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((v,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(v)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:v.section}),u.jsx("div",{className:"truncate",children:d(v.text,n)})]},`${v.hitId}-${b}-${v.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(qi,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((v,b)=>{const w=v.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${v.level===1?"proof-of-work-toc-item--l1":v.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":v.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(v),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:v.text})]},`${v.id}-${v.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Il="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",ay="arcbridge_web_theme_override",WE="__default__",ige=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},age=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},sge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},HE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},oge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},qE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),lge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},cge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function uge(){var Us;const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,a]=x.useState(null),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,f]=x.useState(null),[h,m]=x.useState(null),[p,g]=x.useState(!1),[y,v]=x.useState(!1),[b,w]=x.useState("classic"),[S,C]=x.useState("classic"),[N,P]=x.useState(sp.id),[D,_]=x.useState(null),[T,F]=x.useState(!1),[M,ee]=x.useState(!1),[te,le]=x.useState(""),[ue,J]=x.useState(""),[Y,I]=x.useState([]),[A,j]=x.useState(!1),[W,k]=x.useState("overview"),[O,re]=x.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),X=x.useRef(null),z=x.useRef(null),Z=x.useRef(null),$=x.useRef(null),G=x.useRef(null),ae=x.useRef(new Map),ne=x.useRef(null),U=x.useRef(null),B=x.useMemo(()=>{let K=window.location.pathname||"/";const he=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return K.endsWith("/index.html")&&(K=K.slice(0,-11)),K.includes("/reports/")&&(K=K.replace(/\/reports\/[^/]+\/?$/,"")),he&&(K=K.replace(/^\/web\/web(?=\/|$)/,"/web")),K.endsWith("/")||(K=`${K}/`),K},[]),L=x.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Q=x.useMemo(()=>{const he=[B,"./","/"],ke=[];return he.forEach(ot=>{let yt=ot||"/";yt!=="./"&&!yt.endsWith("/")&&(yt=`${yt}/`),ke.includes(yt)||ke.push(yt)}),ke},[B,L]),[we,Re]=x.useState(Q[0]||"/"),ie=K=>{var he;return typeof K=="string"||typeof K=="number"?String(K):Array.isArray(K)?K.map(ie).join(""):K&&typeof K=="object"&&"props"in K?ie((he=K.props)==null?void 0:he.children):""},Ue=K=>{const he=qE(K||"section")||"section",ke=ae.current,ot=(ke.get(he)??0)+1;return ke.set(he,ot),ot===1?he:`${he}-${ot}`},De=x.useMemo(()=>{const K=qx.split(`
`),he=new Map,ke=[],ot=yt=>{const Vt=qE(yt||"section")||"section",Yt=(he.get(Vt)??0)+1;return he.set(Vt,Yt),Yt===1?Vt:`${Vt}-${Yt}`};for(const yt of K){const Vt=/^(#{1,3})\s+(.*)\s*$/.exec(yt);if(!Vt)continue;const Yt=Vt[1].length,Mt=Vt[2].trim();Mt&&ke.push({level:Yt,text:Mt,id:ot(Mt)})}return ke},[qx]),nt=(K,he)=>{const ke=K==="./"?"./":K.endsWith("/")?K:`${K}/`,ot=String(he||"").replace(/^\/+/,"");return`${ke}${ot}`};x.useEffect(()=>{const K=ige(ay);if(K)try{const he=JSON.parse(K),ke=typeof(he==null?void 0:he.themeId)=="string"?he.themeId:null;ke&&Ad.some(ot=>ot.id===ke)&&_(ke)}catch{}},[]),x.useEffect(()=>{const K=D||N,he=Ad.find(ke=>ke.id===K)||sp;f(he)},[D,N]),x.useEffect(()=>{if(!D){w(S);return}if(D===ap){w("matte");return}if(D==="CRT"){w("crt");return}w("classic")},[D,S]),x.useEffect(()=>{Re(Q[0]||"/");let K=!0;return(async()=>{for(const ke of Q)try{if((await fetch(nt(ke,"ui-theme.json"),{cache:"no-store"})).ok){K&&Re(ke);return}}catch{}})(),()=>{K=!1}},[Q]);const on=(K,he)=>{const ke=he.trim();if(!ke)return K;const ot=K.toLowerCase(),yt=ke.toLowerCase(),Vt=ot.indexOf(yt);if(Vt===-1)return K;const Yt=K.slice(0,Vt),Mt=K.slice(Vt,Vt+ke.length),jt=K.slice(Vt+ke.length);return u.jsxs(u.Fragment,{children:[Yt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:Mt}),jt]})},Nn=(K,he)=>{const ke=z.current;if(!ke)return;let ot=ke.querySelector(`[data-search-hit="${K}"]`);if(!ot&&he){const yt=he.trim().replace(/\s+/g," "),Vt=Array.from(ke.querySelectorAll("h1, h2, h3, p, li, code"));ot=Vt.find(Yt=>(Yt.textContent||"").trim().replace(/\s+/g," ")===yt)||null,ot||(ot=Vt.find(Yt=>(Yt.textContent||"").toLowerCase().includes(yt.toLowerCase()))||null)}ot&&requestAnimationFrame(()=>{const yt=ke.getBoundingClientRect(),Vt=ot.getBoundingClientRect(),Yt=Math.max(0,ke.scrollTop+(Vt.top-yt.top)-12);ke.scrollTop=Yt,ot.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),G.current&&window.clearTimeout(G.current),G.current=window.setTimeout(()=>{ot.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},In=K=>{const he=z.current,ke=K.trim().toLowerCase();if(!he||ke.length<2){I([]);return}const ot=Array.from(he.querySelectorAll("h1, h2, h3, p, li, code"));ot.forEach(Yt=>Yt.removeAttribute("data-search-hit"));const yt=[];let Vt=0;ot.forEach((Yt,Mt)=>{const jt=(Yt.textContent||"").trim();if(jt&&jt.toLowerCase().includes(ke)){let xn="";for(let Lr=Mt;Lr>=0;Lr-=1){const _e=ot[Lr];if(_e&&["H1","H2","H3"].includes(_e.tagName)){xn=(_e.textContent||"").trim();break}}Yt.setAttribute("data-search-hit",String(Vt)),yt.push({index:Mt,text:jt,section:xn||"Unlabeled Section",hitId:Vt}),Vt+=1}}),I(yt.slice(0,12))};x.useEffect(()=>{var he;if(!M)return;le(((he=De[0])==null?void 0:he.id)||"");const K=ke=>{var yt;const ot=ke.target;ot&&((yt=Z.current)!=null&&yt.contains(ot)||(j(!1),I([])))};return window.addEventListener("mousedown",K),()=>{window.removeEventListener("mousedown",K)}},[M,De]),x.useEffect(()=>{if(!M){le("");return}const K=z.current;if(!K)return;let he=0;const ke=()=>{var gn;const yt=Array.from(K.querySelectorAll("[data-heading-id]"));if(yt.length===0)return;const Yt=K.getBoundingClientRect().top+18,Mt=yt.map((zn,qr)=>({index:qr,id:zn.dataset.headingId||zn.id||"",top:zn.getBoundingClientRect().top})).filter(zn=>!!zn.id);if(Mt.length===0)return;let jt=0,xn=!1;for(const zn of Mt){if(zn.top<=Yt){jt=zn.index,xn=!0;continue}xn||(jt=zn.index);break}K.scrollTop+K.clientHeight>=K.scrollHeight-2&&(jt=Math.max(0,Mt.length-1));const _e=De[jt],Et=((gn=Mt[jt])==null?void 0:gn.id)||"",un=(_e==null?void 0:_e.id)||Et;un&&le(un)};ke();const ot=()=>{he&&cancelAnimationFrame(he),he=requestAnimationFrame(ke)};return K.addEventListener("scroll",ot,{passive:!0}),window.addEventListener("resize",ot),()=>{he&&cancelAnimationFrame(he),K.removeEventListener("scroll",ot),window.removeEventListener("resize",ot)}},[M,De]);const de=x.useMemo(()=>[{id:"overview",label:"Overview",icon:y6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:tc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Go},{id:"top-players",label:"Top Players",icon:tc},{id:"top-skills-outgoing",label:"Top Skills",icon:y1},{id:"squad-composition",label:"Classes",icon:Tr},{id:"timeline",label:"Squad vs Enemy Size",icon:Tr},{id:"map-distribution",label:"Map Distribution",icon:k1}]},{id:"roster",label:"Roster Intel",icon:kf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:kf},{id:"squad-comp-fight",label:"Squad Comp",icon:Tr},{id:"fight-comp",label:"Fight Comp",icon:Go}]},{id:"offense",label:"Offensive Stats",icon:Go,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:fL},{id:"player-breakdown",label:"Player Breakdown",icon:w1},{id:"spike-damage",label:"Spike Damage",icon:Sf},{id:"conditions-outgoing",label:"Conditions",icon:c0}]},{id:"defense",label:"Defensive Stats",icon:Mu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Mu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Sf},{id:"defense-mitigation",label:"Damage Mitigation",icon:j1},{id:"boon-output",label:"Boon Output",icon:C1},{id:"support-detailed",label:"Support Detailed",icon:S1},{id:"healing-stats",label:"Healing Stats",icon:mO}]},{id:"other",label:"Other Metrics",icon:u0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Lp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:P1},{id:"skill-usage",label:"Skill Usage",icon:b1},{id:"apm-stats",label:"APM Breakdown",icon:N1}]}],[]),Be=x.useMemo(()=>{const K=new Map;return de.forEach(he=>{K.set(he.id.toLowerCase(),he.id),(he.sectionIds||[]).forEach(ke=>K.set(String(ke).toLowerCase(),he.id)),(he.items||[]).forEach(ke=>K.set(String(ke.id).toLowerCase(),he.id))}),K.set("report-top","overview"),K.set("overview","overview"),K.set("kdr","overview"),K},[de]),ct=x.useMemo(()=>de.find(K=>K.id===W)||de[0],[de,W]),nn=x.useMemo(()=>{const he=((ct==null?void 0:ct.sectionIds)||((ct==null?void 0:ct.items)||[]).map(ke=>ke.id)).map(ke=>ke==="kdr"?"overview":ke);return new Set(he)},[ct]),rn=K=>{if(K==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const he=K==="kdr"?"overview":K,ke=he==="overview"&&K!=="kdr"?"report-top":he,ot=document.getElementById(ke);if(!ot||!(ot.getAttribute("data-section-visible")!=="false")||!ot.offsetParent)return!1;const Vt=ot.getBoundingClientRect();if(Vt.height<=0)return!1;let Yt=0;if(ke==="stats-view-top"){const jt=document.getElementById("report-top");jt&&(Yt=jt.getBoundingClientRect().height+12)}const Mt=Vt.top+window.scrollY-12-Yt;return window.scrollTo({top:Math.max(0,Mt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${ke}`),!0},wr=(K,he=0)=>{rn(K)||he>=12||window.setTimeout(()=>{requestAnimationFrame(()=>wr(K,he+1))},40)};x.useEffect(()=>{if(!e)return;const K=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ke=>{ke.scrollHeight})});return()=>cancelAnimationFrame(K)},[e]),x.useEffect(()=>{const K=ne.current;if(!K)return;let he=0;const ke=()=>{if(rn(K)){ne.current=null;return}if(he+=1,he>=20){ne.current=null;return}window.setTimeout(()=>requestAnimationFrame(ke),40)};requestAnimationFrame(ke)},[W]),x.useEffect(()=>{const K=()=>{const he=(window.location.hash||"").replace(/^#/,"").trim();if(!he)return;let ke=he;try{ke=decodeURIComponent(he)}catch{ke=he}const ot=ke.toLowerCase(),yt=Be.get(ot);yt&&(k(yt),re(()=>{const Vt={};return de.forEach(Yt=>{Vt[Yt.id]=Yt.id===yt}),Vt}),ne.current=ot==="report-top"?"kdr":ot)};return K(),window.addEventListener("hashchange",K),()=>{window.removeEventListener("hashchange",K)}},[Be,de]);const Bn=b==="matte",ni=d??sp,ir=ni.rgb,ri=Bn?"#d8e1eb":"var(--accent)",pn={"--accent":`rgb(${ir})`,"--accent-rgb":ir,"--accent-soft":`rgba(${ir}, 0.32)`,"--accent-strong":`rgba(${ir}, 0.95)`,"--accent-border":`rgba(${ir}, 0.4)`,"--accent-glow":`rgba(${ir}, 0.18)`,"--accent-glow-soft":`rgba(${ir}, 0.08)`},mn=b==="modern"||b==="matte",yi=ni.pattern?Bn?void 0:mn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${ni.pattern}`:ni.pattern:void 0,cn=Bn?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:mn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};x.useEffect(()=>{var Yt;let K=!0;const ke=new URLSearchParams(window.location.search).get("report")||((Yt=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:Yt[1])||null,ot=ke?`${B}reports/${ke}/report.json`:`${B}report.json`;ke&&o(ot);const yt=Mt=>{var Lr,_e,Et;const jt=new Set((((Lr=Mt==null?void 0:Mt.meta)==null?void 0:Lr.commanders)||[]).map(un=>String(un)));if(jt.size===0)return Mt;const xn=Mt.stats;return(_e=xn==null?void 0:xn.leaderboards)!=null&&_e.closestToTag&&(xn.leaderboards.closestToTag=xn.leaderboards.closestToTag.map(un=>jt.has(String(un==null?void 0:un.account))?{...un,value:0}:un)),(Et=xn==null?void 0:xn.closestToTag)!=null&&Et.player&&jt.has(String(xn.closestToTag.player))&&(xn.closestToTag={...xn.closestToTag,value:0}),Mt},Vt=Mt=>{var Et,un,gn,zn,qr;const jt=Mt==null?void 0:Mt.stats;if(!jt||typeof jt!="object")return Mt;const xn=Array.isArray((Et=jt==null?void 0:jt.leaderboards)==null?void 0:Et.downContrib)?jt.leaderboards.downContrib:[];if(!xn.length)return Mt;const _e=xn.map(jn=>({...jn,value:Number((jn==null?void 0:jn.value)??0)})).filter(jn=>Number.isFinite(jn.value)).sort((jn,bi)=>bi.value-jn.value||String((jn==null?void 0:jn.account)||"").localeCompare(String((bi==null?void 0:bi.account)||"")))[0];return _e&&(jt.maxDownContrib={...jt.maxDownContrib||{},value:Number(_e.value||0),player:String(_e.account||((un=jt.maxDownContrib)==null?void 0:un.player)||"-"),count:Number(_e.count||((gn=jt.maxDownContrib)==null?void 0:gn.count)||0),profession:String(_e.profession||((zn=jt.maxDownContrib)==null?void 0:zn.profession)||"Unknown"),professionList:Array.isArray(_e.professionList)?_e.professionList:((qr=jt.maxDownContrib)==null?void 0:qr.professionList)||[]}),Mt};return fetch(ot,{cache:"no-store"}).then(Mt=>Mt.ok?Mt.json():Promise.reject()).then(Mt=>{var Lr,_e,Et;if(!K)return;const jt=Vt(yt(Mt));t(jt);const xn=(Lr=jt==null?void 0:jt.stats)==null?void 0:Lr.uiTheme;xn==="modern"||xn==="classic"||xn==="crt"||xn==="matte"?C(xn):((_e=jt==null?void 0:jt.stats)==null?void 0:_e.webThemeId)===ap&&C("matte"),typeof((Et=jt==null?void 0:jt.stats)==null?void 0:Et.webThemeId)=="string"&&jt.stats.webThemeId&&P(jt.stats.webThemeId)}).catch(()=>{if(ke){if(!K)return;a("Report not found yet. It may still be deploying.")}fetch(`${B}reports/index.json`,{cache:"no-store"}).then(Mt=>Mt.ok?Mt.json():Promise.reject()).then(Mt=>{K&&r(Array.isArray(Mt)?Mt:[])}).catch(()=>{K&&a("No report data found.")})}),()=>{K=!1}},[B]),x.useEffect(()=>{if(e){const K=e.meta.dateLabel||HE(e.meta.dateStart,e.meta.dateEnd);document.title=K?`ArcBridge  ${e.meta.title}  ${K}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),x.useEffect(()=>{var he;const K=(he=e==null?void 0:e.stats)==null?void 0:he.webThemeId;typeof K=="string"&&K&&P(K)},[e]),x.useEffect(()=>{const K=document.body;K.classList.add("web-report"),K.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),Bn?K.classList.add("theme-matte"):b==="modern"?K.classList.add("theme-modern"):b==="crt"?K.classList.add("theme-crt"):K.classList.add("theme-classic")},[b,Bn]),x.useEffect(()=>{var he;if(L&&((he=e==null?void 0:e.stats)!=null&&he.webThemeId))return;let K=!0;return fetch(nt(we,"theme.json"),{cache:"no-store"}).then(ke=>ke.ok?ke.json():Promise.reject()).then(ke=>{K&&typeof(ke==null?void 0:ke.id)=="string"&&ke.id&&P(ke.id)}).catch(()=>{}),()=>{K=!1}},[we,L,e]),x.useEffect(()=>{var Vt,Yt;const K=(Vt=e==null?void 0:e.stats)==null?void 0:Vt.webThemeId,he=(Yt=e==null?void 0:e.stats)==null?void 0:Yt.uiTheme;if((he==="modern"||he==="classic"||he==="crt"||he==="matte")&&!(K===ap&&he!=="matte"||K==="CRT"&&he!=="crt"))return;let yt=!0;return fetch(nt(we,"ui-theme.json"),{cache:"no-store"}).then(Mt=>Mt.ok?Mt.json():Promise.reject()).then(Mt=>{if(!yt)return;const jt=Mt==null?void 0:Mt.theme;(jt==="modern"||jt==="classic"||jt==="crt"||jt==="matte")&&C(jt)}).catch(()=>{}),()=>{yt=!1}},[we,e]),x.useEffect(()=>{let K=!0;return fetch(nt(we,"logo.json"),{cache:"no-store"}).then(he=>he.ok?he.json():Promise.reject()).then(he=>{if(!K)return;const ke="svg/ArcBridge.svg",ot=he!=null&&he.path?String(he.path):ke,yt=he!=null&&he.updatedAt?String(he.updatedAt):"",Vt=nt(we,ot),Yt=yt?`${Vt}?v=${encodeURIComponent(yt)}`:Vt;m(Yt),g(!(he!=null&&he.path)||ot===ke)}).catch(()=>{K&&(m(null),g(!1))}),()=>{K=!1}},[we]);const _r=x.useMemo(()=>n?[...n].sort((K,he)=>{const ke=new Date(K.dateEnd||K.dateStart).getTime();return new Date(he.dateEnd||he.dateStart).getTime()-ke}):[],[n]),Hr=x.useMemo(()=>{if(!_r.length)return[];const K=l.trim().toLowerCase();return K?_r.filter(he=>{var yt;const ke=((yt=he.commanders)==null?void 0:yt.join(" "))||"";return`${he.title} ${ke} ${he.dateLabel}`.toLowerCase().includes(K)}):_r},[_r,l]),od=K=>{if(!K){sge(ay);return}age(ay,JSON.stringify({themeId:K}))},Ec=K=>{const he=K===WE?null:K;he&&!Ad.some(ke=>ke.id===he)||(_(he),od(he),F(!1))};x.useEffect(()=>{const K=ke=>{$.current&&($.current.contains(ke.target)||F(!1))},he=ke=>{ke.key==="Escape"&&F(!1)};return window.addEventListener("mousedown",K),window.addEventListener("keydown",he),()=>{window.removeEventListener("mousedown",K),window.removeEventListener("keydown",he)}},[]),x.useEffect(()=>()=>{U.current!==null&&(cancelAnimationFrame(U.current),U.current=null)},[]);const kl=x.useMemo(()=>{if(!D)return"Default";const K=Ad.find(he=>he.id===D);return(K==null?void 0:K.label)||"Default"},[D]),Dc=u.jsxs("div",{className:"relative flex items-center gap-2",ref:$,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>F(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:kl}),u.jsx("span",{className:`transition-transform ${T?"rotate-180":""}`,children:""})]}),T&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Ec(WE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Ad.map(K=>u.jsx("button",{type:"button",onClick:()=>Ec(K.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===K.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:K.label},K.id))]})]}),zs=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Dc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:K=>{K.preventDefault(),ee(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Sl=u.jsxs(rge,{isOpen:M,onClose:()=>ee(!1),searchValue:ue,searchFocused:A,searchResults:Y,onSearchChange:K=>{J(K),requestAnimationFrame(()=>In(K))},onSearchFocus:()=>{j(!0),requestAnimationFrame(()=>In(ue))},onSearchBlur:K=>{var he;K&&((he=Z.current)!=null&&he.contains(K))||j(!1)},onSearchEnter:()=>{Y.length>0&&Nn(Y[0].hitId,Y[0].text)},onSearchResultMouseDown:K=>{j(!0),Nn(K.hitId,K.text)},renderHighlightedMatch:on,searchRef:Z,tocItems:De,activeTocId:te,onTocClick:K=>{const he=z.current;if(!he)return;let ke=he.querySelector(`[data-heading-id="${K.id}"]`);if(!ke){const ot=K.text.trim().replace(/\s+/g," ");ke=Array.from(he.querySelectorAll("h1, h2, h3")).find(Vt=>(Vt.textContent||"").trim().replace(/\s+/g," ")===ot)||null}ke&&(le(K.id),requestAnimationFrame(()=>{const ot=he.getBoundingClientRect(),yt=ke.getBoundingClientRect(),Vt=he.scrollTop+(yt.top-ot.top)-12;he.scrollTop=Math.max(0,Vt)}))},contentRef:z,children:[(ae.current=new Map,null),u.jsx(Mce,{remarkPlugins:[Hde],components:{h1:({children:K})=>{const he=ie(K),ke=Ue(he);return u.jsx("h1",{id:ke,"data-heading-id":ke,className:"text-2xl font-bold text-white scroll-mt-6",children:K})},h2:({children:K})=>{const he=ie(K),ke=Ue(he);return u.jsx("h2",{id:ke,"data-heading-id":ke,className:"text-xl font-semibold text-white scroll-mt-6",children:K})},h3:({children:K})=>{const he=ie(K),ke=Ue(he);return u.jsx("h3",{id:ke,"data-heading-id":ke,className:"text-lg font-semibold text-white scroll-mt-6",children:K})},p:({children:K})=>u.jsx("p",{className:"leading-6 text-gray-200",children:K}),ul:({children:K})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:K}),ol:({children:K})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:K}),li:({children:K})=>u.jsx("li",{className:"leading-6",children:K}),blockquote:({children:K})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:K}),a:({href:K,children:he})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:K,target:"_blank",rel:"noreferrer",children:he}),table:({children:K})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:K})}),th:({children:K})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:K}),td:({children:K})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:K}),pre:({children:K})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:K}),code:K=>{const{inline:he,children:ke}=K;return he===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:ke}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:ke})}},children:qx})]});if(e){const K=nt(we,"svg/ArcBridge.svg"),he=()=>{U.current!==null&&(cancelAnimationFrame(U.current),U.current=null);const _e=window.scrollY||window.pageYOffset||0;if(_e<=1){window.scrollTo({top:0,behavior:"auto"});return}const Et=320,un=performance.now(),gn=zn=>{const qr=zn-un,jn=Math.min(1,qr/Et),bi=1-Math.pow(1-jn,3),Nl=Math.max(0,Math.round(_e*(1-bi)));window.scrollTo({top:Nl,behavior:"auto"}),jn<1?U.current=requestAnimationFrame(gn):(U.current=null,window.scrollTo({top:0,behavior:"auto"}))};U.current=requestAnimationFrame(gn)},ke=_e=>{re(()=>{const Et={};return de.forEach(un=>{Et[un.id]=un.id===_e}),Et})},ot=_e=>{ne.current=null,k(_e),he()},yt=_e=>{if(!!!O[_e]){ke(_e),ot(_e);return}if(_e!==W){ot(_e);return}re(un=>({...un,[_e]:!1}))},Vt=(_e,Et)=>{O[_e]||ke(_e);const un=_e===W;un||(ne.current=Et,k(_e),requestAnimationFrame(()=>wr(Et))),un&&requestAnimationFrame(()=>wr(Et))},Yt=_e=>{const Et=_e.currentTarget;if(!(Et.scrollHeight>Et.clientHeight)){window.scrollBy({top:_e.deltaY,behavior:"auto"}),_e.preventDefault();return}const gn=Et.scrollTop<=0,zn=Et.scrollTop+Et.clientHeight>=Et.scrollHeight-1;(gn&&_e.deltaY<0||zn&&_e.deltaY>0)&&(window.scrollBy({top:_e.deltaY,behavior:"auto"}),_e.preventDefault())},Mt=_e=>{const Et=X.current;if(!Et)return;const un=_e.target;if(!un||!Et.contains(un))return;let gn=un;for(;gn&&gn!==Et;){const qr=window.getComputedStyle(gn).overflowY;if((qr==="auto"||qr==="scroll")&&gn.scrollHeight>gn.clientHeight+1){const bi=gn.scrollTop<=0,Nl=gn.scrollTop+gn.clientHeight>=gn.scrollHeight-1;(_e.deltaY<0&&bi||_e.deltaY>0&&Nl)&&(window.scrollBy({top:_e.deltaY,behavior:"auto"}),_e.preventDefault());return}gn=gn.parentElement}},jt=_e=>{const Et=Math.max(0,6-_e);return{accordionDuration:.5+Et*.07,itemDuration:.34+Et*.035,stagger:.05+Et*.01,delayChildren:.06+Et*.015}},xn=_e=>{const Et=jt(_e);return{open:{transition:{staggerChildren:Et.stagger,delayChildren:Et.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,Et.stagger*.7),staggerDirection:-1}}}},Lr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Bn?"var(--bg-base)":mn?"#0f141c":"#0f172a",backgroundImage:Bn?"none":yi,...pn},children:[!Bn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>v(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Yt,children:de.map(_e=>{const Et=_e.icon,un=_e.id===W,gn=!!O[_e.id],zn=jt(_e.items.length),qr=xn(_e.items.length);return u.jsxs(js.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>yt(_e.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${un?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Et,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:_e.label}),u.jsx(js.span,{className:"ml-auto inline-flex",animate:{rotate:gn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(ql,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(js.div,{initial:!1,animate:gn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:zn.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(js.div,{variants:qr,initial:!1,animate:gn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:_e.items.map(jn=>{const bi=jn.icon;return u.jsxs(js.button,{variants:Lr,transition:{duration:zn.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Vt(_e.id,jn.id),v(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(bi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),jn.label]},jn.id)})})},`${_e.id}-submenu-mobile`)]},_e.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ri,maskImage:`url(${K})`,WebkitMaskImage:`url(${K})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Yt,children:de.map(_e=>{const Et=_e.icon,un=_e.id===W,gn=!!O[_e.id],zn=jt(_e.items.length),qr=xn(_e.items.length);return u.jsxs(js.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>yt(_e.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${un?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Et,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:_e.label}),u.jsx(js.span,{className:"ml-auto inline-flex",animate:{rotate:gn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(ql,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(js.div,{initial:!1,animate:gn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:zn.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(js.div,{variants:qr,initial:!1,animate:gn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:_e.items.map(jn=>{const bi=jn.icon;return u.jsxs(js.button,{variants:Lr,transition:{duration:zn.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Vt(_e.id,jn.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(bi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),jn.label]},jn.id)})})},`${_e.id}-submenu-desktop`)]},_e.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Il} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:cn,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ri,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||HE(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>v(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(J2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(d6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Tr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(hO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ct==null?void 0:ct.items)||[]).map(_e=>{const Et=_e.icon;return u.jsxs("button",{onClick:()=>Vt((ct==null?void 0:ct.id)||"overview",_e.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(Et,{className:"w-3 h-3 text-[color:var(--accent)]"})}),_e.label]},`chip-${_e.id}`)})})]}),u.jsx("div",{ref:X,onWheelCapture:Mt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Yie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(Us=e.stats)==null?void 0:Us.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:_e=>nn.has(_e),dashboardTitle:`Statistics Dashboard - ${(ct==null?void 0:ct.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:zs})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(dO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(J2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(u6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Sl]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Bn?"var(--bg-base)":mn?"#0f141c":"#0f172a",backgroundImage:Bn?"none":yi,...pn},children:[!Bn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Il} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:cn,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ri,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Hr.length," Reports"]})})]}),u.jsxs("div",{className:`${Il} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:cn,children:[u.jsx("input",{type:"search",value:l,onChange:K=>c(K.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Hr.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:_r.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:cn,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${Il} p-6 text-gray-300`,style:cn,children:"Loading reports..."}),Hr.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Hr.map(K=>{var he,ke,ot,yt;return u.jsx("a",{href:K.url,className:`${Il} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:cn,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:K.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:oge(K.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Tr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:K.commanders.length?K.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(he=K.summary)!=null&&he.mapSlices&&K.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(lge,{slices:K.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(cge,{value:(ke=K.summary)==null?void 0:ke.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((ot=K.summary)==null?void 0:ot.avgSquadSize)??"--"," / ",((yt=K.summary)==null?void 0:yt.avgEnemySize)??"--"]})]}),u.jsx(p6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},K.id)})}),!i&&n&&_r.length===0&&u.jsx("div",{className:`${Il} p-6 text-gray-300`,style:cn,children:"No reports uploaded yet."}),!i&&n&&_r.length>0&&Hr.length===0&&u.jsx("div",{className:`${Il} p-6 text-gray-300`,style:cn,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:zs})]}),Sl]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");sy.createRoot(document.getElementById("root")).render(u.jsx(Kg.StrictMode,{children:u.jsx(uge,{})}));
