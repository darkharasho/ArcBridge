var TR=Object.defineProperty;var ER=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mx=(e,t,n)=>ER(e,typeof t!="symbol"?t+"":t,n);function DR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ws(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nD={exports:{}},Qg={},rD={exports:{}},pn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),MR=Symbol.for("react.portal"),OR=Symbol.for("react.fragment"),IR=Symbol.for("react.strict_mode"),_R=Symbol.for("react.profiler"),LR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),FR=Symbol.for("react.forward_ref"),RR=Symbol.for("react.suspense"),BR=Symbol.for("react.memo"),zR=Symbol.for("react.lazy"),qN=Symbol.iterator;function UR(e){return e===null||typeof e!="object"?null:(e=qN&&e[qN]||e["@@iterator"],typeof e=="function"?e:null)}var iD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aD=Object.assign,sD={};function Zu(e,t,n){this.props=e,this.context=t,this.refs=sD,this.updater=n||iD}Zu.prototype.isReactComponent={};Zu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oD(){}oD.prototype=Zu.prototype;function Pw(e,t,n){this.props=e,this.context=t,this.refs=sD,this.updater=n||iD}var Tw=Pw.prototype=new oD;Tw.constructor=Pw;aD(Tw,Zu.prototype);Tw.isPureReactComponent=!0;var KN=Array.isArray,lD=Object.prototype.hasOwnProperty,Ew={current:null},cD={key:!0,ref:!0,__self:!0,__source:!0};function uD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)lD.call(t,r)&&!cD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:rm,type:e,key:a,ref:s,props:i,_owner:Ew.current}}function VR(e,t){return{$$typeof:rm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dw(e){return typeof e=="object"&&e!==null&&e.$$typeof===rm}function WR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var GN=/\/+/g;function Ox(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WR(""+e.key):t.toString(36)}function Hh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case rm:case MR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ox(s,0):r,KN(i)?(n="",e!=null&&(n=e.replace(GN,"$&/")+"/"),Hh(i,t,n,"",function(c){return c})):i!=null&&(Dw(i)&&(i=VR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(GN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",KN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Ox(a,o);s+=Hh(a,t,n,l,i)}else if(l=UR(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Ox(a,o++),s+=Hh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function th(e,t,n){if(e==null)return e;var r=[],i=0;return Hh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function HR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wi={current:null},qh={transition:null},qR={ReactCurrentDispatcher:Wi,ReactCurrentBatchConfig:qh,ReactCurrentOwner:Ew};function dD(){throw Error("act(...) is not supported in production builds of React.")}pn.Children={map:th,forEach:function(e,t,n){th(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return th(e,function(){t++}),t},toArray:function(e){return th(e,function(t){return t})||[]},only:function(e){if(!Dw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pn.Component=Zu;pn.Fragment=OR;pn.Profiler=_R;pn.PureComponent=Pw;pn.StrictMode=IR;pn.Suspense=RR;pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;pn.act=dD;pn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=aD({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Ew.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)lD.call(t,l)&&!cD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:rm,type:e.type,key:i,ref:a,props:r,_owner:s}};pn.createContext=function(e){return e={$$typeof:$R,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LR,_context:e},e.Consumer=e};pn.createElement=uD;pn.createFactory=function(e){var t=uD.bind(null,e);return t.type=e,t};pn.createRef=function(){return{current:null}};pn.forwardRef=function(e){return{$$typeof:FR,render:e}};pn.isValidElement=Dw;pn.lazy=function(e){return{$$typeof:zR,_payload:{_status:-1,_result:e},_init:HR}};pn.memo=function(e,t){return{$$typeof:BR,type:e,compare:t===void 0?null:t}};pn.startTransition=function(e){var t=qh.transition;qh.transition={};try{e()}finally{qh.transition=t}};pn.unstable_act=dD;pn.useCallback=function(e,t){return Wi.current.useCallback(e,t)};pn.useContext=function(e){return Wi.current.useContext(e)};pn.useDebugValue=function(){};pn.useDeferredValue=function(e){return Wi.current.useDeferredValue(e)};pn.useEffect=function(e,t){return Wi.current.useEffect(e,t)};pn.useId=function(){return Wi.current.useId()};pn.useImperativeHandle=function(e,t,n){return Wi.current.useImperativeHandle(e,t,n)};pn.useInsertionEffect=function(e,t){return Wi.current.useInsertionEffect(e,t)};pn.useLayoutEffect=function(e,t){return Wi.current.useLayoutEffect(e,t)};pn.useMemo=function(e,t){return Wi.current.useMemo(e,t)};pn.useReducer=function(e,t,n){return Wi.current.useReducer(e,t,n)};pn.useRef=function(e){return Wi.current.useRef(e)};pn.useState=function(e){return Wi.current.useState(e)};pn.useSyncExternalStore=function(e,t,n){return Wi.current.useSyncExternalStore(e,t,n)};pn.useTransition=function(){return Wi.current.useTransition()};pn.version="18.3.1";rD.exports=pn;var v=rD.exports;const Zg=ws(v),KR=DR({__proto__:null,default:Zg},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=v,YR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),QR=Object.prototype.hasOwnProperty,ZR=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JR={key:!0,ref:!0,__self:!0,__source:!0};function fD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)QR.call(t,r)&&!JR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:YR,type:e,key:a,ref:s,props:i,_owner:ZR.current}}Qg.Fragment=XR;Qg.jsx=fD;Qg.jsxs=fD;nD.exports=Qg;var u=nD.exports,ly={},mD={exports:{}},Da={},hD={exports:{}},pD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,_){var T=G.length;G.push(_);e:for(;0<T;){var A=T-1>>>1,te=G[A];if(0<i(te,_))G[A]=_,G[T]=te,T=A;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var _=G[0],T=G.pop();if(T!==_){G[0]=T;e:for(var A=0,te=G.length,S=te>>>1;A<S;){var z=2*(A+1)-1,W=G[z],J=z+1,q=G[J];if(0>i(W,T))J<te&&0>i(q,W)?(G[A]=q,G[J]=T,A=J):(G[A]=W,G[z]=T,A=z);else if(J<te&&0>i(q,T))G[A]=q,G[J]=T,A=J;else break e}}return _}function i(G,_){var T=G.sortIndex-_.sortIndex;return T!==0?T:G.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=G)r(c),_.sortIndex=_.expirationTime,t(l,_);else break;_=n(c)}}function k(G){if(g=!1,w(G),!p)if(n(l)!==null)p=!0,ue(C);else{var _=n(c);_!==null&&Q(k,_.startTime-G)}}function C(G,_){p=!1,g&&(g=!1,x(E),E=-1),m=!0;var T=h;try{for(w(_),f=n(l);f!==null&&(!(f.expirationTime>_)||G&&!M());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var te=A(f.expirationTime<=_);_=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),w(_)}else r(l);f=n(l)}if(f!==null)var S=!0;else{var z=n(c);z!==null&&Q(k,z.startTime-_),S=!1}return S}finally{f=null,h=T,m=!1}}var N=!1,j=null,E=-1,L=5,P=-1;function M(){return!(e.unstable_now()-P<L)}function O(){if(j!==null){var G=e.unstable_now();P=G;var _=!0;try{_=j(!0,G)}finally{_?Z():(N=!1,j=null)}}else N=!1}var Z;if(typeof b=="function")Z=function(){b(O)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ae=ee.port2;ee.port1.onmessage=O,Z=function(){ae.postMessage(null)}}else Z=function(){y(O,0)};function ue(G){j=G,N||(N=!0,Z())}function Q(G,_){E=y(function(){G(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ue(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var T=h;h=_;try{return G()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,_){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var T=h;h=G;try{return _()}finally{h=T}},e.unstable_scheduleCallback=function(G,_,T){var A=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?A+T:A):T=A,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=T+te,G={id:d++,callback:_,priorityLevel:G,startTime:T,expirationTime:te,sortIndex:-1},T>A?(G.sortIndex=T,t(c,G),n(l)===null&&G===n(c)&&(g?(x(E),E=-1):g=!0,Q(k,T-A))):(G.sortIndex=te,t(l,G),p||m||(p=!0,ue(C))),G},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(G){var _=h;return function(){var T=h;h=_;try{return G.apply(this,arguments)}finally{h=T}}}})(pD);hD.exports=pD;var eB=hD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tB=v,Pa=eB;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gD=new Set,ff={};function Cc(e,t){Du(e,t),Du(e+"Capture",t)}function Du(e,t){for(ff[e]=t,e=0;e<t.length;e++)gD.add(t[e])}var fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=Object.prototype.hasOwnProperty,nB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YN={},XN={};function rB(e){return cy.call(XN,e)?!0:cy.call(YN,e)?!1:nB.test(e)?XN[e]=!0:(YN[e]=!0,!1)}function iB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aB(e,t,n,r){if(t===null||typeof t>"u"||iB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pi[e]=new Hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pi[t]=new Hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pi[e]=new Hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pi[e]=new Hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pi[e]=new Hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pi[e]=new Hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pi[e]=new Hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pi[e]=new Hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pi[e]=new Hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mw=/[\-:]([a-z])/g;function Ow(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mw,Ow);pi[t]=new Hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mw,Ow);pi[t]=new Hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mw,Ow);pi[t]=new Hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pi[e]=new Hi(e,1,!1,e.toLowerCase(),null,!1,!1)});pi.xlinkHref=new Hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pi[e]=new Hi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Iw(e,t,n,r){var i=pi.hasOwnProperty(t)?pi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aB(t,n,i,r)&&(n=null),r||i===null?rB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var So=tB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),ru=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),uy=Symbol.for("react.profiler"),xD=Symbol.for("react.provider"),vD=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),$w=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),yD=Symbol.for("react.offscreen"),QN=Symbol.iterator;function xd(e){return e===null||typeof e!="object"?null:(e=QN&&e[QN]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Ix;function Fd(e){if(Ix===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ix=t&&t[1]||""}return`
`+Ix+e}var _x=!1;function Lx(e,t){if(!e||_x)return"";_x=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{_x=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fd(e):""}function sB(e){switch(e.tag){case 5:return Fd(e.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return e=Lx(e.type,!1),e;case 11:return e=Lx(e.type.render,!1),e;case 1:return e=Lx(e.type,!0),e;default:return""}}function my(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case iu:return"Fragment";case ru:return"Portal";case uy:return"Profiler";case _w:return"StrictMode";case dy:return"Suspense";case fy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vD:return(e.displayName||"Context")+".Consumer";case xD:return(e._context.displayName||"Context")+".Provider";case Lw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $w:return t=e.displayName||null,t!==null?t:my(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return my(e(t))}catch{}}return null}function oB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(t);case 8:return t===_w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lB(e){var t=bD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rh(e){e._valueTracker||(e._valueTracker=lB(e))}function wD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hy(e,t){var n=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ZN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kD(e,t){t=t.checked,t!=null&&Iw(e,"checked",t,!1)}function py(e,t){kD(e,t);var n=ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gy(e,t.type,n):t.hasOwnProperty("defaultValue")&&gy(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function JN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gy(e,t,n){(t!=="number"||xp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rd=Array.isArray;function wu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ll(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ye(92));if(Rd(n)){if(1<n.length)throw Error(Ye(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ll(n)}}function SD(e,t){var n=ll(t.value),r=ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function t2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ND(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ND(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ih,CD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ih=ih||document.createElement("div"),ih.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ih.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cB=["Webkit","ms","Moz","O"];Object.keys(Kd).forEach(function(e){cB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kd[t]=Kd[e]})});function jD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kd.hasOwnProperty(e)&&Kd[e]?(""+t).trim():t+"px"}function AD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var uB=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yy(e,t){if(t){if(uB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function by(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=null;function Fw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ky=null,ku=null,Su=null;function n2(e){if(e=sm(e)){if(typeof ky!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=r0(t),ky(e.stateNode,e.type,t))}}function PD(e){ku?Su?Su.push(e):Su=[e]:ku=e}function TD(){if(ku){var e=ku,t=Su;if(Su=ku=null,n2(e),t)for(e=0;e<t.length;e++)n2(t[e])}}function ED(e,t){return e(t)}function DD(){}var $x=!1;function MD(e,t,n){if($x)return e(t,n);$x=!0;try{return ED(e,t,n)}finally{$x=!1,(ku!==null||Su!==null)&&(DD(),TD())}}function hf(e,t){var n=e.stateNode;if(n===null)return null;var r=r0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ye(231,t,typeof n));return n}var Sy=!1;if(fo)try{var vd={};Object.defineProperty(vd,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{Sy=!1}function dB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Gd=!1,vp=null,yp=!1,Ny=null,fB={onError:function(e){Gd=!0,vp=e}};function mB(e,t,n,r,i,a,s,o,l){Gd=!1,vp=null,dB.apply(fB,arguments)}function hB(e,t,n,r,i,a,s,o,l){if(mB.apply(this,arguments),Gd){if(Gd){var c=vp;Gd=!1,vp=null}else throw Error(Ye(198));yp||(yp=!0,Ny=c)}}function jc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function OD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function r2(e){if(jc(e)!==e)throw Error(Ye(188))}function pB(e){var t=e.alternate;if(!t){if(t=jc(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return r2(i),e;if(a===r)return r2(i),t;a=a.sibling}throw Error(Ye(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ye(189))}}if(n.alternate!==r)throw Error(Ye(190))}if(n.tag!==3)throw Error(Ye(188));return n.stateNode.current===n?e:t}function ID(e){return e=pB(e),e!==null?_D(e):null}function _D(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_D(e);if(t!==null)return t;e=e.sibling}return null}var LD=Pa.unstable_scheduleCallback,i2=Pa.unstable_cancelCallback,gB=Pa.unstable_shouldYield,xB=Pa.unstable_requestPaint,Mr=Pa.unstable_now,vB=Pa.unstable_getCurrentPriorityLevel,Rw=Pa.unstable_ImmediatePriority,$D=Pa.unstable_UserBlockingPriority,bp=Pa.unstable_NormalPriority,yB=Pa.unstable_LowPriority,FD=Pa.unstable_IdlePriority,Jg=null,Ls=null;function bB(e){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(Jg,e,void 0,(e.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:SB,wB=Math.log,kB=Math.LN2;function SB(e){return e>>>=0,e===0?32:31-(wB(e)/kB|0)|0}var ah=64,sh=4194304;function Bd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Bd(o):(a&=s,a!==0&&(r=Bd(a)))}else s=n&~i,s!==0?r=Bd(s):a!==0&&(r=Bd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ds(t),i=1<<n,r|=e[n],t&=~i;return r}function NB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ds(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=NB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Cy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RD(){var e=ah;return ah<<=1,!(ah&4194240)&&(ah=64),e}function Fx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function im(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ds(t),e[t]=n}function jB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ds(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Bw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ds(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rn=0;function BD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zD,zw,UD,VD,WD,jy=!1,oh=[],Qo=null,Zo=null,Jo=null,pf=new Map,gf=new Map,Wo=[],AB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a2(e,t){switch(e){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":pf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(t.pointerId)}}function yd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=sm(t),t!==null&&zw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function PB(e,t,n,r,i){switch(t){case"focusin":return Qo=yd(Qo,e,t,n,r,i),!0;case"dragenter":return Zo=yd(Zo,e,t,n,r,i),!0;case"mouseover":return Jo=yd(Jo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return pf.set(a,yd(pf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gf.set(a,yd(gf.get(a)||null,e,t,n,r,i)),!0}return!1}function HD(e){var t=ql(e.target);if(t!==null){var n=jc(t);if(n!==null){if(t=n.tag,t===13){if(t=OD(n),t!==null){e.blockedOn=t,WD(e.priority,function(){UD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ay(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wy=r,n.target.dispatchEvent(r),wy=null}else return t=sm(n),t!==null&&zw(t),e.blockedOn=n,!1;t.shift()}return!0}function s2(e,t,n){Kh(e)&&n.delete(t)}function TB(){jy=!1,Qo!==null&&Kh(Qo)&&(Qo=null),Zo!==null&&Kh(Zo)&&(Zo=null),Jo!==null&&Kh(Jo)&&(Jo=null),pf.forEach(s2),gf.forEach(s2)}function bd(e,t){e.blockedOn===t&&(e.blockedOn=null,jy||(jy=!0,Pa.unstable_scheduleCallback(Pa.unstable_NormalPriority,TB)))}function xf(e){function t(i){return bd(i,e)}if(0<oh.length){bd(oh[0],e);for(var n=1;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qo!==null&&bd(Qo,e),Zo!==null&&bd(Zo,e),Jo!==null&&bd(Jo,e),pf.forEach(t),gf.forEach(t),n=0;n<Wo.length;n++)r=Wo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wo.length&&(n=Wo[0],n.blockedOn===null);)HD(n),n.blockedOn===null&&Wo.shift()}var Nu=So.ReactCurrentBatchConfig,kp=!0;function EB(e,t,n,r){var i=Rn,a=Nu.transition;Nu.transition=null;try{Rn=1,Uw(e,t,n,r)}finally{Rn=i,Nu.transition=a}}function DB(e,t,n,r){var i=Rn,a=Nu.transition;Nu.transition=null;try{Rn=4,Uw(e,t,n,r)}finally{Rn=i,Nu.transition=a}}function Uw(e,t,n,r){if(kp){var i=Ay(e,t,n,r);if(i===null)Gx(e,t,r,Sp,n),a2(e,r);else if(PB(i,e,t,n,r))r.stopPropagation();else if(a2(e,r),t&4&&-1<AB.indexOf(e)){for(;i!==null;){var a=sm(i);if(a!==null&&zD(a),a=Ay(e,t,n,r),a===null&&Gx(e,t,r,Sp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Gx(e,t,r,null,n)}}var Sp=null;function Ay(e,t,n,r){if(Sp=null,e=Fw(r),e=ql(e),e!==null)if(t=jc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=OD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sp=e,null}function qD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vB()){case Rw:return 1;case $D:return 4;case bp:case yB:return 16;case FD:return 536870912;default:return 16}default:return 16}}var Ko=null,Vw=null,Gh=null;function KD(){if(Gh)return Gh;var e,t=Vw,n=t.length,r,i="value"in Ko?Ko.value:Ko.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Gh=i.slice(e,1<r?1-r:void 0)}function Yh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lh(){return!0}function o2(){return!1}function Ma(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?lh:o2,this.isPropagationStopped=o2,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),t}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ww=Ma(Ju),am=yr({},Ju,{view:0,detail:0}),MB=Ma(am),Rx,Bx,wd,e0=yr({},am,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wd&&(wd&&e.type==="mousemove"?(Rx=e.screenX-wd.screenX,Bx=e.screenY-wd.screenY):Bx=Rx=0,wd=e),Rx)},movementY:function(e){return"movementY"in e?e.movementY:Bx}}),l2=Ma(e0),OB=yr({},e0,{dataTransfer:0}),IB=Ma(OB),_B=yr({},am,{relatedTarget:0}),zx=Ma(_B),LB=yr({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),$B=Ma(LB),FB=yr({},Ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RB=Ma(FB),BB=yr({},Ju,{data:0}),c2=Ma(BB),zB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VB[e])?!!t[e]:!1}function Hw(){return WB}var HB=yr({},am,{key:function(e){if(e.key){var t=zB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(e){return e.type==="keypress"?Yh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qB=Ma(HB),KB=yr({},e0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u2=Ma(KB),GB=yr({},am,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),YB=Ma(GB),XB=yr({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),QB=Ma(XB),ZB=yr({},e0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JB=Ma(ZB),ez=[9,13,27,32],qw=fo&&"CompositionEvent"in window,Yd=null;fo&&"documentMode"in document&&(Yd=document.documentMode);var tz=fo&&"TextEvent"in window&&!Yd,GD=fo&&(!qw||Yd&&8<Yd&&11>=Yd),d2=" ",f2=!1;function YD(e,t){switch(e){case"keyup":return ez.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var au=!1;function nz(e,t){switch(e){case"compositionend":return XD(t);case"keypress":return t.which!==32?null:(f2=!0,d2);case"textInput":return e=t.data,e===d2&&f2?null:e;default:return null}}function rz(e,t){if(au)return e==="compositionend"||!qw&&YD(e,t)?(e=KD(),Gh=Vw=Ko=null,au=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GD&&t.locale!=="ko"?null:t.data;default:return null}}var iz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iz[e.type]:t==="textarea"}function QD(e,t,n,r){PD(r),t=Np(t,"onChange"),0<t.length&&(n=new Ww("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xd=null,vf=null;function az(e){lM(e,0)}function t0(e){var t=lu(e);if(wD(t))return e}function sz(e,t){if(e==="change")return t}var ZD=!1;if(fo){var Ux;if(fo){var Vx="oninput"in document;if(!Vx){var h2=document.createElement("div");h2.setAttribute("oninput","return;"),Vx=typeof h2.oninput=="function"}Ux=Vx}else Ux=!1;ZD=Ux&&(!document.documentMode||9<document.documentMode)}function p2(){Xd&&(Xd.detachEvent("onpropertychange",JD),vf=Xd=null)}function JD(e){if(e.propertyName==="value"&&t0(vf)){var t=[];QD(t,vf,e,Fw(e)),MD(az,t)}}function oz(e,t,n){e==="focusin"?(p2(),Xd=t,vf=n,Xd.attachEvent("onpropertychange",JD)):e==="focusout"&&p2()}function lz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return t0(vf)}function cz(e,t){if(e==="click")return t0(t)}function uz(e,t){if(e==="input"||e==="change")return t0(t)}function dz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ps=typeof Object.is=="function"?Object.is:dz;function yf(e,t){if(ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cy.call(t,i)||!ps(e[i],t[i]))return!1}return!0}function g2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x2(e,t){var n=g2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g2(n)}}function eM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tM(){for(var e=window,t=xp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xp(e.document)}return t}function Kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fz(e){var t=tM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eM(n.ownerDocument.documentElement,n)){if(r!==null&&Kw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=x2(n,a);var s=x2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mz=fo&&"documentMode"in document&&11>=document.documentMode,su=null,Py=null,Qd=null,Ty=!1;function v2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||su==null||su!==xp(r)||(r=su,"selectionStart"in r&&Kw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qd&&yf(Qd,r)||(Qd=r,r=Np(Py,"onSelect"),0<r.length&&(t=new Ww("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=su)))}function ch(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ou={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},Wx={},nM={};fo&&(nM=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function n0(e){if(Wx[e])return Wx[e];if(!ou[e])return e;var t=ou[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nM)return Wx[e]=t[n];return e}var rM=n0("animationend"),iM=n0("animationiteration"),aM=n0("animationstart"),sM=n0("transitionend"),oM=new Map,y2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(e,t){oM.set(e,t),Cc(t,[e])}for(var Hx=0;Hx<y2.length;Hx++){var qx=y2[Hx],hz=qx.toLowerCase(),pz=qx[0].toUpperCase()+qx.slice(1);hl(hz,"on"+pz)}hl(rM,"onAnimationEnd");hl(iM,"onAnimationIteration");hl(aM,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(sM,"onTransitionEnd");Du("onMouseEnter",["mouseout","mouseover"]);Du("onMouseLeave",["mouseout","mouseover"]);Du("onPointerEnter",["pointerout","pointerover"]);Du("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gz=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function b2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hB(r,t,void 0,e),e.currentTarget=null}function lM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;b2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;b2(i,o,c),a=l}}}if(yp)throw e=Ny,yp=!1,Ny=null,e}function rr(e,t){var n=t[Iy];n===void 0&&(n=t[Iy]=new Set);var r=e+"__bubble";n.has(r)||(cM(t,e,2,!1),n.add(r))}function Kx(e,t,n){var r=0;t&&(r|=4),cM(n,e,r,t)}var uh="_reactListening"+Math.random().toString(36).slice(2);function bf(e){if(!e[uh]){e[uh]=!0,gD.forEach(function(n){n!=="selectionchange"&&(gz.has(n)||Kx(n,!1,e),Kx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uh]||(t[uh]=!0,Kx("selectionchange",!1,t))}}function cM(e,t,n,r){switch(qD(t)){case 1:var i=EB;break;case 4:i=DB;break;default:i=Uw}n=i.bind(null,t,n,e),i=void 0,!Sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gx(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=ql(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}MD(function(){var c=a,d=Fw(n),f=[];e:{var h=oM.get(e);if(h!==void 0){var m=Ww,p=e;switch(e){case"keypress":if(Yh(n)===0)break e;case"keydown":case"keyup":m=qB;break;case"focusin":p="focus",m=zx;break;case"focusout":p="blur",m=zx;break;case"beforeblur":case"afterblur":m=zx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=l2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=IB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YB;break;case rM:case iM:case aM:m=$B;break;case sM:m=QB;break;case"scroll":m=MB;break;case"wheel":m=JB;break;case"copy":case"cut":case"paste":m=RB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=u2}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=hf(b,x),k!=null&&g.push(wf(b,k,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==wy&&(p=n.relatedTarget||n.fromElement)&&(ql(p)||p[mo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?ql(p):null,p!==null&&(y=jc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=l2,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=u2,k="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:lu(m),w=p==null?h:lu(p),h=new g(k,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,k=null,ql(d)===c&&(g=new g(x,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,k=g),y=k,m&&p)t:{for(g=m,x=p,b=0,w=g;w;w=Kc(w))b++;for(w=0,k=x;k;k=Kc(k))w++;for(;0<b-w;)g=Kc(g),b--;for(;0<w-b;)x=Kc(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Kc(g),x=Kc(x)}g=null}else g=null;m!==null&&w2(f,h,m,g,!1),p!==null&&y!==null&&w2(f,y,p,g,!0)}}e:{if(h=c?lu(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=sz;else if(m2(h))if(ZD)C=uz;else{C=lz;var N=oz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=cz);if(C&&(C=C(e,c))){QD(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&gy(h,"number",h.value)}switch(N=c?lu(c):window,e){case"focusin":(m2(N)||N.contentEditable==="true")&&(su=N,Py=c,Qd=null);break;case"focusout":Qd=Py=su=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,v2(f,n,d);break;case"selectionchange":if(mz)break;case"keydown":case"keyup":v2(f,n,d)}var j;if(qw)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else au?YD(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(GD&&n.locale!=="ko"&&(au||E!=="onCompositionStart"?E==="onCompositionEnd"&&au&&(j=KD()):(Ko=d,Vw="value"in Ko?Ko.value:Ko.textContent,au=!0)),N=Np(c,E),0<N.length&&(E=new c2(E,e,null,n,d),f.push({event:E,listeners:N}),j?E.data=j:(j=XD(n),j!==null&&(E.data=j)))),(j=tz?nz(e,n):rz(e,n))&&(c=Np(c,"onBeforeInput"),0<c.length&&(d=new c2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=j))}lM(f,t)})}function wf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Np(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=hf(e,n),a!=null&&r.unshift(wf(e,a,i)),a=hf(e,t),a!=null&&r.push(wf(e,a,i))),e=e.return}return r}function Kc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=hf(n,a),l!=null&&s.unshift(wf(n,l,o))):i||(l=hf(n,a),l!=null&&s.push(wf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var xz=/\r\n?/g,vz=/\u0000|\uFFFD/g;function k2(e){return(typeof e=="string"?e:""+e).replace(xz,`
`).replace(vz,"")}function dh(e,t,n){if(t=k2(t),k2(e)!==t&&n)throw Error(Ye(425))}function Cp(){}var Ey=null,Dy=null;function My(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,yz=typeof clearTimeout=="function"?clearTimeout:void 0,S2=typeof Promise=="function"?Promise:void 0,bz=typeof queueMicrotask=="function"?queueMicrotask:typeof S2<"u"?function(e){return S2.resolve(null).then(e).catch(wz)}:Oy;function wz(e){setTimeout(function(){throw e})}function Yx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),xf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xf(t)}function el(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function N2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ed=Math.random().toString(36).slice(2),Is="__reactFiber$"+ed,kf="__reactProps$"+ed,mo="__reactContainer$"+ed,Iy="__reactEvents$"+ed,kz="__reactListeners$"+ed,Sz="__reactHandles$"+ed;function ql(e){var t=e[Is];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[Is]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=N2(e);e!==null;){if(n=e[Is])return n;e=N2(e)}return t}e=n,n=e.parentNode}return null}function sm(e){return e=e[Is]||e[mo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function r0(e){return e[kf]||null}var _y=[],cu=-1;function pl(e){return{current:e}}function ar(e){0>cu||(e.current=_y[cu],_y[cu]=null,cu--)}function Xn(e,t){cu++,_y[cu]=e.current,e.current=t}var cl={},Pi=pl(cl),na=pl(!1),cc=cl;function Mu(e,t){var n=e.type.contextTypes;if(!n)return cl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ra(e){return e=e.childContextTypes,e!=null}function jp(){ar(na),ar(Pi)}function C2(e,t,n){if(Pi.current!==cl)throw Error(Ye(168));Xn(Pi,t),Xn(na,n)}function uM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ye(108,oB(e)||"Unknown",i));return yr({},n,r)}function Ap(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,cc=Pi.current,Xn(Pi,e),Xn(na,na.current),!0}function j2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ye(169));n?(e=uM(e,t,cc),r.__reactInternalMemoizedMergedChildContext=e,ar(na),ar(Pi),Xn(Pi,e)):ar(na),Xn(na,n)}var Xs=null,i0=!1,Xx=!1;function dM(e){Xs===null?Xs=[e]:Xs.push(e)}function Nz(e){i0=!0,dM(e)}function gl(){if(!Xx&&Xs!==null){Xx=!0;var e=0,t=Rn;try{var n=Xs;for(Rn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xs=null,i0=!1}catch(i){throw Xs!==null&&(Xs=Xs.slice(e+1)),LD(Rw,gl),i}finally{Rn=t,Xx=!1}}return null}var uu=[],du=0,Pp=null,Tp=0,za=[],Ua=0,uc=null,to=1,no="";function Fl(e,t){uu[du++]=Tp,uu[du++]=Pp,Pp=e,Tp=t}function fM(e,t,n){za[Ua++]=to,za[Ua++]=no,za[Ua++]=uc,uc=e;var r=to;e=no;var i=32-ds(r)-1;r&=~(1<<i),n+=1;var a=32-ds(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,to=1<<32-ds(t)+i|n<<i|r,no=a+e}else to=1<<a|n<<i|r,no=e}function Gw(e){e.return!==null&&(Fl(e,1),fM(e,1,0))}function Yw(e){for(;e===Pp;)Pp=uu[--du],uu[du]=null,Tp=uu[--du],uu[du]=null;for(;e===uc;)uc=za[--Ua],za[Ua]=null,no=za[--Ua],za[Ua]=null,to=za[--Ua],za[Ua]=null}var Na=null,ka=null,ur=!1,os=null;function mM(e,t){var n=Wa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function A2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Na=e,ka=el(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Na=e,ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uc!==null?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Na=e,ka=null,!0):!1;default:return!1}}function Ly(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $y(e){if(ur){var t=ka;if(t){var n=t;if(!A2(e,t)){if(Ly(e))throw Error(Ye(418));t=el(n.nextSibling);var r=Na;t&&A2(e,t)?mM(r,n):(e.flags=e.flags&-4097|2,ur=!1,Na=e)}}else{if(Ly(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,ur=!1,Na=e}}}function P2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Na=e}function fh(e){if(e!==Na)return!1;if(!ur)return P2(e),ur=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!My(e.type,e.memoizedProps)),t&&(t=ka)){if(Ly(e))throw hM(),Error(Ye(418));for(;t;)mM(e,t),t=el(t.nextSibling)}if(P2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ka=el(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ka=null}}else ka=Na?el(e.stateNode.nextSibling):null;return!0}function hM(){for(var e=ka;e;)e=el(e.nextSibling)}function Ou(){ka=Na=null,ur=!1}function Xw(e){os===null?os=[e]:os.push(e)}var Cz=So.ReactCurrentBatchConfig;function kd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ye(309));var r=n.stateNode}if(!r)throw Error(Ye(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ye(284));if(!n._owner)throw Error(Ye(290,e))}return e}function mh(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function T2(e){var t=e._init;return t(e._payload)}function pM(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=il(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,k){return b===null||b.tag!==6?(b=rv(w,x.mode,k),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,k){var C=w.type;return C===iu?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ro&&T2(C)===b.type)?(k=i(b,w.props),k.ref=kd(x,b,w),k.return=x,k):(k=np(w.type,w.key,w.props,null,x.mode,k),k.ref=kd(x,b,w),k.return=x,k)}function c(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=iv(w,x.mode,k),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,C){return b===null||b.tag!==7?(b=nc(w,x.mode,k,C),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rv(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nh:return w=np(b.type,b.key,b.props,null,x.mode,w),w.ref=kd(x,null,b),w.return=x,w;case ru:return b=iv(b,x.mode,w),b.return=x,b;case Ro:var k=b._init;return f(x,k(b._payload),w)}if(Rd(b)||xd(b))return b=nc(b,x.mode,w,null),b.return=x,b;mh(x,b)}return null}function h(x,b,w,k){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case nh:return w.key===C?l(x,b,w,k):null;case ru:return w.key===C?c(x,b,w,k):null;case Ro:return C=w._init,h(x,b,C(w._payload),k)}if(Rd(w)||xd(w))return C!==null?null:d(x,b,w,k,null);mh(x,w)}return null}function m(x,b,w,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,o(b,x,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nh:return x=x.get(k.key===null?w:k.key)||null,l(b,x,k,C);case ru:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,C);case Ro:var N=k._init;return m(x,b,w,N(k._payload),C)}if(Rd(k)||xd(k))return x=x.get(w)||null,d(b,x,k,C,null);mh(b,k)}return null}function p(x,b,w,k){for(var C=null,N=null,j=b,E=b=0,L=null;j!==null&&E<w.length;E++){j.index>E?(L=j,j=null):L=j.sibling;var P=h(x,j,w[E],k);if(P===null){j===null&&(j=L);break}e&&j&&P.alternate===null&&t(x,j),b=a(P,b,E),N===null?C=P:N.sibling=P,N=P,j=L}if(E===w.length)return n(x,j),ur&&Fl(x,E),C;if(j===null){for(;E<w.length;E++)j=f(x,w[E],k),j!==null&&(b=a(j,b,E),N===null?C=j:N.sibling=j,N=j);return ur&&Fl(x,E),C}for(j=r(x,j);E<w.length;E++)L=m(j,x,E,w[E],k),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?E:L.key),b=a(L,b,E),N===null?C=L:N.sibling=L,N=L);return e&&j.forEach(function(M){return t(x,M)}),ur&&Fl(x,E),C}function g(x,b,w,k){var C=xd(w);if(typeof C!="function")throw Error(Ye(150));if(w=C.call(w),w==null)throw Error(Ye(151));for(var N=C=null,j=b,E=b=0,L=null,P=w.next();j!==null&&!P.done;E++,P=w.next()){j.index>E?(L=j,j=null):L=j.sibling;var M=h(x,j,P.value,k);if(M===null){j===null&&(j=L);break}e&&j&&M.alternate===null&&t(x,j),b=a(M,b,E),N===null?C=M:N.sibling=M,N=M,j=L}if(P.done)return n(x,j),ur&&Fl(x,E),C;if(j===null){for(;!P.done;E++,P=w.next())P=f(x,P.value,k),P!==null&&(b=a(P,b,E),N===null?C=P:N.sibling=P,N=P);return ur&&Fl(x,E),C}for(j=r(x,j);!P.done;E++,P=w.next())P=m(j,x,E,P.value,k),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?E:P.key),b=a(P,b,E),N===null?C=P:N.sibling=P,N=P);return e&&j.forEach(function(O){return t(x,O)}),ur&&Fl(x,E),C}function y(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===iu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case nh:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===iu){if(N.tag===7){n(x,N.sibling),b=i(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ro&&T2(C)===N.type){n(x,N.sibling),b=i(N,w.props),b.ref=kd(x,N,w),b.return=x,x=b;break e}n(x,N);break}else t(x,N);N=N.sibling}w.type===iu?(b=nc(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=np(w.type,w.key,w.props,null,x.mode,k),k.ref=kd(x,b,w),k.return=x,x=k)}return s(x);case ru:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=iv(w,x.mode,k),b.return=x,x=b}return s(x);case Ro:return N=w._init,y(x,b,N(w._payload),k)}if(Rd(w))return p(x,b,w,k);if(xd(w))return g(x,b,w,k);mh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=rv(w,x.mode,k),b.return=x,x=b),s(x)):n(x,b)}return y}var Iu=pM(!0),gM=pM(!1),Ep=pl(null),Dp=null,fu=null,Qw=null;function Zw(){Qw=fu=Dp=null}function Jw(e){var t=Ep.current;ar(Ep),e._currentValue=t}function Fy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cu(e,t){Dp=e,Qw=fu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function Ka(e){var t=e._currentValue;if(Qw!==e)if(e={context:e,memoizedValue:t,next:null},fu===null){if(Dp===null)throw Error(Ye(308));fu=e,Dp.dependencies={lanes:0,firstContext:e}}else fu=fu.next=e;return t}var Kl=null;function e1(e){Kl===null?Kl=[e]:Kl.push(e)}function xM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,e1(t)):(n.next=i.next,i.next=n),t.interleaved=n,ho(e,r)}function ho(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bo=!1;function t1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,kn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ho(e,n)}return i=r.interleaved,i===null?(t.next=t,e1(r)):(t.next=i.next,i.next=t),r.interleaved=t,ho(e,n)}function Xh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bw(e,n)}}function E2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mp(e,t,n,r){var i=e.updateQueue;Bo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=yr({},f,h);break e;case 2:Bo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);fc|=s,e.lanes=s,e.memoizedState=f}}function D2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ye(191,i));i.call(r)}}}var om={},$s=pl(om),Sf=pl(om),Nf=pl(om);function Gl(e){if(e===om)throw Error(Ye(174));return e}function n1(e,t){switch(Xn(Nf,t),Xn(Sf,e),Xn($s,om),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vy(t,e)}ar($s),Xn($s,t)}function _u(){ar($s),ar(Sf),ar(Nf)}function yM(e){Gl(Nf.current);var t=Gl($s.current),n=vy(t,e.type);t!==n&&(Xn(Sf,e),Xn($s,n))}function r1(e){Sf.current===e&&(ar($s),ar(Sf))}var pr=pl(0);function Op(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qx=[];function i1(){for(var e=0;e<Qx.length;e++)Qx[e]._workInProgressVersionPrimary=null;Qx.length=0}var Qh=So.ReactCurrentDispatcher,Zx=So.ReactCurrentBatchConfig,dc=0,vr=null,Hr=null,ri=null,Ip=!1,Zd=!1,Cf=0,jz=0;function yi(){throw Error(Ye(321))}function a1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ps(e[n],t[n]))return!1;return!0}function s1(e,t,n,r,i,a){if(dc=a,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qh.current=e===null||e.memoizedState===null?Ez:Dz,e=n(r,i),Zd){a=0;do{if(Zd=!1,Cf=0,25<=a)throw Error(Ye(301));a+=1,ri=Hr=null,t.updateQueue=null,Qh.current=Mz,e=n(r,i)}while(Zd)}if(Qh.current=_p,t=Hr!==null&&Hr.next!==null,dc=0,ri=Hr=vr=null,Ip=!1,t)throw Error(Ye(300));return e}function o1(){var e=Cf!==0;return Cf=0,e}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?vr.memoizedState=ri=e:ri=ri.next=e,ri}function Ga(){if(Hr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Hr.next;var t=ri===null?vr.memoizedState:ri.next;if(t!==null)ri=t,Hr=e;else{if(e===null)throw Error(Ye(310));Hr=e,e={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ri===null?vr.memoizedState=ri=e:ri=ri.next=e}return ri}function jf(e,t){return typeof t=="function"?t(e):t}function Jx(e){var t=Ga(),n=t.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=e;var r=Hr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((dc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,vr.lanes|=d,fc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ps(r,t.memoizedState)||(ea=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,vr.lanes|=a,fc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ev(e){var t=Ga(),n=t.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ps(a,t.memoizedState)||(ea=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function bM(){}function wM(e,t){var n=vr,r=Ga(),i=t(),a=!ps(r.memoizedState,i);if(a&&(r.memoizedState=i,ea=!0),r=r.queue,l1(NM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ri!==null&&ri.memoizedState.tag&1){if(n.flags|=2048,Af(9,SM.bind(null,n,r,i,t),void 0,null),ii===null)throw Error(Ye(349));dc&30||kM(n,t,i)}return i}function kM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function SM(e,t,n,r){t.value=n,t.getSnapshot=r,CM(t)&&jM(e)}function NM(e,t,n){return n(function(){CM(t)&&jM(e)})}function CM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ps(e,n)}catch{return!0}}function jM(e){var t=ho(e,1);t!==null&&fs(t,e,1,-1)}function M2(e){var t=Ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jf,lastRenderedState:e},t.queue=e,e=e.dispatch=Tz.bind(null,vr,e),[t.memoizedState,e]}function Af(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function AM(){return Ga().memoizedState}function Zh(e,t,n,r){var i=Ds();vr.flags|=e,i.memoizedState=Af(1|t,n,void 0,r===void 0?null:r)}function a0(e,t,n,r){var i=Ga();r=r===void 0?null:r;var a=void 0;if(Hr!==null){var s=Hr.memoizedState;if(a=s.destroy,r!==null&&a1(r,s.deps)){i.memoizedState=Af(t,n,a,r);return}}vr.flags|=e,i.memoizedState=Af(1|t,n,a,r)}function O2(e,t){return Zh(8390656,8,e,t)}function l1(e,t){return a0(2048,8,e,t)}function PM(e,t){return a0(4,2,e,t)}function TM(e,t){return a0(4,4,e,t)}function EM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DM(e,t,n){return n=n!=null?n.concat([e]):null,a0(4,4,EM.bind(null,t,e),n)}function c1(){}function MM(e,t){var n=Ga();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function OM(e,t){var n=Ga();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function IM(e,t,n){return dc&21?(ps(n,t)||(n=RD(),vr.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=n)}function Az(e,t){var n=Rn;Rn=n!==0&&4>n?n:4,e(!0);var r=Zx.transition;Zx.transition={};try{e(!1),t()}finally{Rn=n,Zx.transition=r}}function _M(){return Ga().memoizedState}function Pz(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LM(e))$M(t,n);else if(n=xM(e,t,n,r),n!==null){var i=zi();fs(n,e,r,i),FM(n,t,r)}}function Tz(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LM(e))$M(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ps(o,s)){var l=t.interleaved;l===null?(i.next=i,e1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=xM(e,t,i,r),n!==null&&(i=zi(),fs(n,e,r,i),FM(n,t,r))}}function LM(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function $M(e,t){Zd=Ip=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bw(e,n)}}var _p={readContext:Ka,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},Ez={readContext:Ka,useCallback:function(e,t){return Ds().memoizedState=[e,t===void 0?null:t],e},useContext:Ka,useEffect:O2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zh(4194308,4,EM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zh(4,2,e,t)},useMemo:function(e,t){var n=Ds();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ds();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pz.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=Ds();return e={current:e},t.memoizedState=e},useState:M2,useDebugValue:c1,useDeferredValue:function(e){return Ds().memoizedState=e},useTransition:function(){var e=M2(!1),t=e[0];return e=Az.bind(null,e[1]),Ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,i=Ds();if(ur){if(n===void 0)throw Error(Ye(407));n=n()}else{if(n=t(),ii===null)throw Error(Ye(349));dc&30||kM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,O2(NM.bind(null,r,a,e),[e]),r.flags|=2048,Af(9,SM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ds(),t=ii.identifierPrefix;if(ur){var n=no,r=to;n=(r&~(1<<32-ds(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dz={readContext:Ka,useCallback:MM,useContext:Ka,useEffect:l1,useImperativeHandle:DM,useInsertionEffect:PM,useLayoutEffect:TM,useMemo:OM,useReducer:Jx,useRef:AM,useState:function(){return Jx(jf)},useDebugValue:c1,useDeferredValue:function(e){var t=Ga();return IM(t,Hr.memoizedState,e)},useTransition:function(){var e=Jx(jf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:bM,useSyncExternalStore:wM,useId:_M,unstable_isNewReconciler:!1},Mz={readContext:Ka,useCallback:MM,useContext:Ka,useEffect:l1,useImperativeHandle:DM,useInsertionEffect:PM,useLayoutEffect:TM,useMemo:OM,useReducer:ev,useRef:AM,useState:function(){return ev(jf)},useDebugValue:c1,useDeferredValue:function(e){var t=Ga();return Hr===null?t.memoizedState=e:IM(t,Hr.memoizedState,e)},useTransition:function(){var e=ev(jf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:bM,useSyncExternalStore:wM,useId:_M,unstable_isNewReconciler:!1};function as(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ry(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var s0={isMounted:function(e){return(e=e._reactInternals)?jc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zi(),i=rl(e),a=so(r,i);a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(fs(t,e,i,r),Xh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zi(),i=rl(e),a=so(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(fs(t,e,i,r),Xh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zi(),r=rl(e),i=so(n,r);i.tag=2,t!=null&&(i.callback=t),t=tl(e,i,r),t!==null&&(fs(t,e,r,n),Xh(t,e,r))}};function I2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!yf(n,r)||!yf(i,a):!0}function RM(e,t,n){var r=!1,i=cl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ka(a):(i=ra(t)?cc:Pi.current,r=t.contextTypes,a=(r=r!=null)?Mu(e,i):cl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=s0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&s0.enqueueReplaceState(t,t.state,null)}function By(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},t1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ka(a):(a=ra(t)?cc:Pi.current,i.context=Mu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ry(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&s0.enqueueReplaceState(i,i.state,null),Mp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lu(e,t){try{var n="",r=t;do n+=sB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function tv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Oz=typeof WeakMap=="function"?WeakMap:Map;function BM(e,t,n){n=so(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$p||($p=!0,Qy=r),zy(e,t)},n}function zM(e,t,n){n=so(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){zy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zy(e,t),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function L2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Oz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Kz.bind(null,e,t,n),t.then(e,e))}function $2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function F2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=so(-1,1),t.tag=2,tl(n,t,1))),n.lanes|=1),e)}var Iz=So.ReactCurrentOwner,ea=!1;function Fi(e,t,n,r){t.child=e===null?gM(t,null,n,r):Iu(t,e.child,n,r)}function R2(e,t,n,r,i){n=n.render;var a=t.ref;return Cu(t,i),r=s1(e,t,n,r,a,i),n=o1(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(ur&&n&&Gw(t),t.flags|=1,Fi(e,t,r,i),t.child)}function B2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!x1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,UM(e,t,a,r,i)):(e=np(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:yf,n(s,r)&&e.ref===t.ref)return po(e,t,i)}return t.flags|=1,e=il(a,r),e.ref=t.ref,e.return=t,t.child=e}function UM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(yf(a,r)&&e.ref===t.ref)if(ea=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,po(e,t,i)}return Uy(e,t,n,r,i)}function VM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn(hu,ya),ya|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xn(hu,ya),ya|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Xn(hu,ya),ya|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Xn(hu,ya),ya|=r;return Fi(e,t,i,n),t.child}function WM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uy(e,t,n,r,i){var a=ra(n)?cc:Pi.current;return a=Mu(t,a),Cu(t,i),n=s1(e,t,n,r,a,i),r=o1(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,po(e,t,i)):(ur&&r&&Gw(t),t.flags|=1,Fi(e,t,n,i),t.child)}function z2(e,t,n,r,i){if(ra(n)){var a=!0;Ap(t)}else a=!1;if(Cu(t,i),t.stateNode===null)Jh(e,t),RM(t,n,r),By(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ka(c):(c=ra(n)?cc:Pi.current,c=Mu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&_2(t,s,r,c),Bo=!1;var h=t.memoizedState;s.state=h,Mp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||na.current||Bo?(typeof d=="function"&&(Ry(t,n,d,r),l=t.memoizedState),(o=Bo||I2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:as(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ka(l):(l=ra(n)?cc:Pi.current,l=Mu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&_2(t,s,r,l),Bo=!1,h=t.memoizedState,s.state=h,Mp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||na.current||Bo?(typeof m=="function"&&(Ry(t,n,m,r),p=t.memoizedState),(c=Bo||I2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Vy(e,t,n,r,a,i)}function Vy(e,t,n,r,i,a){WM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&j2(t,n,!1),po(e,t,a);r=t.stateNode,Iz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Iu(t,e.child,null,a),t.child=Iu(t,null,o,a)):Fi(e,t,o,a),t.memoizedState=r.state,i&&j2(t,n,!0),t.child}function HM(e){var t=e.stateNode;t.pendingContext?C2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C2(e,t.context,!1),n1(e,t.containerInfo)}function U2(e,t,n,r,i){return Ou(),Xw(i),t.flags|=256,Fi(e,t,n,r),t.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function Hy(e){return{baseLanes:e,cachePool:null,transitions:null}}function qM(e,t,n){var r=t.pendingProps,i=pr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xn(pr,i&1),e===null)return $y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=c0(s,r,0,null),e=nc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hy(n),t.memoizedState=Wy,e):u1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return _z(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=il(o,a):(a=nc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Hy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Wy,r}return a=e.child,e=a.sibling,r=il(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function u1(e,t){return t=c0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hh(e,t,n,r){return r!==null&&Xw(r),Iu(t,e.child,null,n),e=u1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _z(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=tv(Error(Ye(422))),hh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=c0({mode:"visible",children:r.children},i,0,null),a=nc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Iu(t,e.child,null,s),t.child.memoizedState=Hy(s),t.memoizedState=Wy,a);if(!(t.mode&1))return hh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ye(419)),r=tv(a,r,void 0),hh(e,t,s,r)}if(o=(s&e.childLanes)!==0,ea||o){if(r=ii,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ho(e,i),fs(r,e,i,-1))}return g1(),r=tv(Error(Ye(421))),hh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Gz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ka=el(i.nextSibling),Na=t,ur=!0,os=null,e!==null&&(za[Ua++]=to,za[Ua++]=no,za[Ua++]=uc,to=e.id,no=e.overflow,uc=t),t=u1(t,r.children),t.flags|=4096,t)}function V2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fy(e.return,t,n)}function nv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function KM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fi(e,t,r.children,n),r=pr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V2(e,n,t);else if(e.tag===19)V2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xn(pr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Op(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Op(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nv(t,!0,n,null,a);break;case"together":nv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function po(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lz(e,t,n){switch(t.tag){case 3:HM(t),Ou();break;case 5:yM(t);break;case 1:ra(t.type)&&Ap(t);break;case 4:n1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xn(Ep,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xn(pr,pr.current&1),t.flags|=128,null):n&t.child.childLanes?qM(e,t,n):(Xn(pr,pr.current&1),e=po(e,t,n),e!==null?e.sibling:null);Xn(pr,pr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return KM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xn(pr,pr.current),r)break;return null;case 22:case 23:return t.lanes=0,VM(e,t,n)}return po(e,t,n)}var GM,qy,YM,XM;GM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qy=function(){};YM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gl($s.current);var a=null;switch(n){case"input":i=hy(e,i),r=hy(e,r),a=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),a=[];break;case"textarea":i=xy(e,i),r=xy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cp)}yy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ff.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ff.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};XM=function(e,t,n,r){n!==r&&(t.flags|=4)};function Sd(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $z(e,t,n){var r=t.pendingProps;switch(Yw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(t),null;case 1:return ra(t.type)&&jp(),bi(t),null;case 3:return r=t.stateNode,_u(),ar(na),ar(Pi),i1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,os!==null&&(eb(os),os=null))),qy(e,t),bi(t),null;case 5:r1(t);var i=Gl(Nf.current);if(n=t.type,e!==null&&t.stateNode!=null)YM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ye(166));return bi(t),null}if(e=Gl($s.current),fh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Is]=t,r[kf]=a,e=(t.mode&1)!==0,n){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(i=0;i<zd.length;i++)rr(zd[i],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":ZN(r,a),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},rr("invalid",r);break;case"textarea":e2(r,a),rr("invalid",r)}yy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&dh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&dh(r.textContent,o,e),i=["children",""+o]):ff.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&rr("scroll",r)}switch(n){case"input":rh(r),JN(r,a,!0);break;case"textarea":rh(r),t2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Cp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ND(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Is]=t,e[kf]=r,GM(e,t,!1,!1),t.stateNode=e;e:{switch(s=by(n,r),n){case"dialog":rr("cancel",e),rr("close",e),i=r;break;case"iframe":case"object":case"embed":rr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)rr(zd[i],e);i=r;break;case"source":rr("error",e),i=r;break;case"img":case"image":case"link":rr("error",e),rr("load",e),i=r;break;case"details":rr("toggle",e),i=r;break;case"input":ZN(e,r),i=hy(e,r),rr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),rr("invalid",e);break;case"textarea":e2(e,r),i=xy(e,r),rr("invalid",e);break;default:i=r}yy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?AD(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mf(e,l):typeof l=="number"&&mf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ff.hasOwnProperty(a)?l!=null&&a==="onScroll"&&rr("scroll",e):l!=null&&Iw(e,a,l,s))}switch(n){case"input":rh(e),JN(e,r,!1);break;case"textarea":rh(e),t2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ll(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?wu(e,!!r.multiple,a,!1):r.defaultValue!=null&&wu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bi(t),null;case 6:if(e&&t.stateNode!=null)XM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ye(166));if(n=Gl(Nf.current),Gl($s.current),fh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Is]=t,(a=r.nodeValue!==n)&&(e=Na,e!==null))switch(e.tag){case 3:dh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Is]=t,t.stateNode=r}return bi(t),null;case 13:if(ar(pr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ur&&ka!==null&&t.mode&1&&!(t.flags&128))hM(),Ou(),t.flags|=98560,a=!1;else if(a=fh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ye(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ye(317));a[Is]=t}else Ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bi(t),a=!1}else os!==null&&(eb(os),os=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?Kr===0&&(Kr=3):g1())),t.updateQueue!==null&&(t.flags|=4),bi(t),null);case 4:return _u(),qy(e,t),e===null&&bf(t.stateNode.containerInfo),bi(t),null;case 10:return Jw(t.type._context),bi(t),null;case 17:return ra(t.type)&&jp(),bi(t),null;case 19:if(ar(pr),a=t.memoizedState,a===null)return bi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Sd(a,!1);else{if(Kr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Op(e),s!==null){for(t.flags|=128,Sd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xn(pr,pr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Mr()>$u&&(t.flags|=128,r=!0,Sd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Op(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ur)return bi(t),null}else 2*Mr()-a.renderingStartTime>$u&&n!==1073741824&&(t.flags|=128,r=!0,Sd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Mr(),t.sibling=null,n=pr.current,Xn(pr,r?n&1|2:n&1),t):(bi(t),null);case 22:case 23:return p1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ya&1073741824&&(bi(t),t.subtreeFlags&6&&(t.flags|=8192)):bi(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function Fz(e,t){switch(Yw(t),t.tag){case 1:return ra(t.type)&&jp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _u(),ar(na),ar(Pi),i1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return r1(t),null;case 13:if(ar(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));Ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ar(pr),null;case 4:return _u(),null;case 10:return Jw(t.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var ph=!1,Si=!1,Rz=typeof WeakSet=="function"?WeakSet:Set,xt=null;function mu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jr(e,t,r)}else n.current=null}function Ky(e,t,n){try{n()}catch(r){jr(e,t,r)}}var W2=!1;function Bz(e,t){if(Ey=kp,e=tM(),Kw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dy={focusedElem:e,selectionRange:n},kp=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){t=xt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:as(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(k){jr(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}return p=W2,W2=!1,p}function Jd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ky(t,n,a)}i=i.next}while(i!==r)}}function o0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function QM(e){var t=e.alternate;t!==null&&(e.alternate=null,QM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Is],delete t[kf],delete t[Iy],delete t[kz],delete t[Sz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ZM(e){return e.tag===5||e.tag===3||e.tag===4}function H2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ZM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cp));else if(r!==4&&(e=e.child,e!==null))for(Yy(e,t,n),e=e.sibling;e!==null;)Yy(e,t,n),e=e.sibling}function Xy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xy(e,t,n),e=e.sibling;e!==null;)Xy(e,t,n),e=e.sibling}var di=null,ss=!1;function _o(e,t,n){for(n=n.child;n!==null;)JM(e,t,n),n=n.sibling}function JM(e,t,n){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(Jg,n)}catch{}switch(n.tag){case 5:Si||mu(n,t);case 6:var r=di,i=ss;di=null,_o(e,t,n),di=r,ss=i,di!==null&&(ss?(e=di,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):di.removeChild(n.stateNode));break;case 18:di!==null&&(ss?(e=di,n=n.stateNode,e.nodeType===8?Yx(e.parentNode,n):e.nodeType===1&&Yx(e,n),xf(e)):Yx(di,n.stateNode));break;case 4:r=di,i=ss,di=n.stateNode.containerInfo,ss=!0,_o(e,t,n),di=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ky(n,t,s),i=i.next}while(i!==r)}_o(e,t,n);break;case 1:if(!Si&&(mu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jr(n,t,o)}_o(e,t,n);break;case 21:_o(e,t,n);break;case 22:n.mode&1?(Si=(r=Si)||n.memoizedState!==null,_o(e,t,n),Si=r):_o(e,t,n);break;default:_o(e,t,n)}}function q2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rz),t.forEach(function(r){var i=Yz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function is(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:di=o.stateNode,ss=!1;break e;case 3:di=o.stateNode.containerInfo,ss=!0;break e;case 4:di=o.stateNode.containerInfo,ss=!0;break e}o=o.return}if(di===null)throw Error(Ye(160));JM(a,s,i),di=null,ss=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){jr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eO(t,e),t=t.sibling}function eO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(is(t,e),As(e),r&4){try{Jd(3,e,e.return),o0(3,e)}catch(g){jr(e,e.return,g)}try{Jd(5,e,e.return)}catch(g){jr(e,e.return,g)}}break;case 1:is(t,e),As(e),r&512&&n!==null&&mu(n,n.return);break;case 5:if(is(t,e),As(e),r&512&&n!==null&&mu(n,n.return),e.flags&32){var i=e.stateNode;try{mf(i,"")}catch(g){jr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&kD(i,a),by(o,s);var c=by(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?AD(i,f):d==="dangerouslySetInnerHTML"?CD(i,f):d==="children"?mf(i,f):Iw(i,d,f,c)}switch(o){case"input":py(i,a);break;case"textarea":SD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?wu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?wu(i,!!a.multiple,a.defaultValue,!0):wu(i,!!a.multiple,a.multiple?[]:"",!1))}i[kf]=a}catch(g){jr(e,e.return,g)}}break;case 6:if(is(t,e),As(e),r&4){if(e.stateNode===null)throw Error(Ye(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){jr(e,e.return,g)}}break;case 3:if(is(t,e),As(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xf(t.containerInfo)}catch(g){jr(e,e.return,g)}break;case 4:is(t,e),As(e);break;case 13:is(t,e),As(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(m1=Mr())),r&4&&q2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Si=(c=Si)||d,is(t,e),Si=c):is(t,e),As(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(xt=e,d=e.child;d!==null;){for(f=xt=d;xt!==null;){switch(h=xt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Jd(4,h,h.return);break;case 1:mu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){jr(r,n,g)}}break;case 5:mu(h,h.return);break;case 22:if(h.memoizedState!==null){G2(f);continue}}m!==null?(m.return=h,xt=m):G2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=jD("display",s))}catch(g){jr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){jr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:is(t,e),As(e),r&4&&q2(e);break;case 21:break;default:is(t,e),As(e)}}function As(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ZM(n)){var r=n;break e}n=n.return}throw Error(Ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mf(i,""),r.flags&=-33);var a=H2(e);Xy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=H2(e);Yy(e,o,s);break;default:throw Error(Ye(161))}}catch(l){jr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zz(e,t,n){xt=e,tO(e)}function tO(e,t,n){for(var r=(e.mode&1)!==0;xt!==null;){var i=xt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ph;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Si;o=ph;var c=Si;if(ph=s,(Si=l)&&!c)for(xt=i;xt!==null;)s=xt,l=s.child,s.tag===22&&s.memoizedState!==null?Y2(i):l!==null?(l.return=s,xt=l):Y2(i);for(;a!==null;)xt=a,tO(a),a=a.sibling;xt=i,ph=o,Si=c}K2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xt=a):K2(e)}}function K2(e){for(;xt!==null;){var t=xt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Si||o0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Si)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&D2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Si||t.flags&512&&Gy(t)}catch(h){jr(t,t.return,h)}}if(t===e){xt=null;break}if(n=t.sibling,n!==null){n.return=t.return,xt=n;break}xt=t.return}}function G2(e){for(;xt!==null;){var t=xt;if(t===e){xt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xt=n;break}xt=t.return}}function Y2(e){for(;xt!==null;){var t=xt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{o0(4,t)}catch(l){jr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){jr(t,i,l)}}var a=t.return;try{Gy(t)}catch(l){jr(t,a,l)}break;case 5:var s=t.return;try{Gy(t)}catch(l){jr(t,s,l)}}}catch(l){jr(t,t.return,l)}if(t===e){xt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,xt=o;break}xt=t.return}}var Uz=Math.ceil,Lp=So.ReactCurrentDispatcher,d1=So.ReactCurrentOwner,qa=So.ReactCurrentBatchConfig,kn=0,ii=null,Rr=null,hi=0,ya=0,hu=pl(0),Kr=0,Pf=null,fc=0,l0=0,f1=0,ef=null,Ji=null,m1=0,$u=1/0,Ys=null,$p=!1,Qy=null,nl=null,gh=!1,Go=null,Fp=0,tf=0,Zy=null,ep=-1,tp=0;function zi(){return kn&6?Mr():ep!==-1?ep:ep=Mr()}function rl(e){return e.mode&1?kn&2&&hi!==0?hi&-hi:Cz.transition!==null?(tp===0&&(tp=RD()),tp):(e=Rn,e!==0||(e=window.event,e=e===void 0?16:qD(e.type)),e):1}function fs(e,t,n,r){if(50<tf)throw tf=0,Zy=null,Error(Ye(185));im(e,n,r),(!(kn&2)||e!==ii)&&(e===ii&&(!(kn&2)&&(l0|=n),Kr===4&&Ho(e,hi)),ia(e,r),n===1&&kn===0&&!(t.mode&1)&&($u=Mr()+500,i0&&gl()))}function ia(e,t){var n=e.callbackNode;CB(e,t);var r=wp(e,e===ii?hi:0);if(r===0)n!==null&&i2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&i2(n),t===1)e.tag===0?Nz(X2.bind(null,e)):dM(X2.bind(null,e)),bz(function(){!(kn&6)&&gl()}),n=null;else{switch(BD(r)){case 1:n=Rw;break;case 4:n=$D;break;case 16:n=bp;break;case 536870912:n=FD;break;default:n=bp}n=cO(n,nO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nO(e,t){if(ep=-1,tp=0,kn&6)throw Error(Ye(327));var n=e.callbackNode;if(ju()&&e.callbackNode!==n)return null;var r=wp(e,e===ii?hi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rp(e,r);else{t=r;var i=kn;kn|=2;var a=iO();(ii!==e||hi!==t)&&(Ys=null,$u=Mr()+500,tc(e,t));do try{Hz();break}catch(o){rO(e,o)}while(!0);Zw(),Lp.current=a,kn=i,Rr!==null?t=0:(ii=null,hi=0,t=Kr)}if(t!==0){if(t===2&&(i=Cy(e),i!==0&&(r=i,t=Jy(e,i))),t===1)throw n=Pf,tc(e,0),Ho(e,r),ia(e,Mr()),n;if(t===6)Ho(e,r);else{if(i=e.current.alternate,!(r&30)&&!Vz(i)&&(t=Rp(e,r),t===2&&(a=Cy(e),a!==0&&(r=a,t=Jy(e,a))),t===1))throw n=Pf,tc(e,0),Ho(e,r),ia(e,Mr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ye(345));case 2:Rl(e,Ji,Ys);break;case 3:if(Ho(e,r),(r&130023424)===r&&(t=m1+500-Mr(),10<t)){if(wp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Oy(Rl.bind(null,e,Ji,Ys),t);break}Rl(e,Ji,Ys);break;case 4:if(Ho(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ds(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uz(r/1960))-r,10<r){e.timeoutHandle=Oy(Rl.bind(null,e,Ji,Ys),r);break}Rl(e,Ji,Ys);break;case 5:Rl(e,Ji,Ys);break;default:throw Error(Ye(329))}}}return ia(e,Mr()),e.callbackNode===n?nO.bind(null,e):null}function Jy(e,t){var n=ef;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),e=Rp(e,t),e!==2&&(t=Ji,Ji=n,t!==null&&eb(t)),e}function eb(e){Ji===null?Ji=e:Ji.push.apply(Ji,e)}function Vz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ps(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ho(e,t){for(t&=~f1,t&=~l0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ds(t),r=1<<n;e[n]=-1,t&=~r}}function X2(e){if(kn&6)throw Error(Ye(327));ju();var t=wp(e,0);if(!(t&1))return ia(e,Mr()),null;var n=Rp(e,t);if(e.tag!==0&&n===2){var r=Cy(e);r!==0&&(t=r,n=Jy(e,r))}if(n===1)throw n=Pf,tc(e,0),Ho(e,t),ia(e,Mr()),n;if(n===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e,Ji,Ys),ia(e,Mr()),null}function h1(e,t){var n=kn;kn|=1;try{return e(t)}finally{kn=n,kn===0&&($u=Mr()+500,i0&&gl())}}function mc(e){Go!==null&&Go.tag===0&&!(kn&6)&&ju();var t=kn;kn|=1;var n=qa.transition,r=Rn;try{if(qa.transition=null,Rn=1,e)return e()}finally{Rn=r,qa.transition=n,kn=t,!(kn&6)&&gl()}}function p1(){ya=hu.current,ar(hu)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yz(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(Yw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jp();break;case 3:_u(),ar(na),ar(Pi),i1();break;case 5:r1(r);break;case 4:_u();break;case 13:ar(pr);break;case 19:ar(pr);break;case 10:Jw(r.type._context);break;case 22:case 23:p1()}n=n.return}if(ii=e,Rr=e=il(e.current,null),hi=ya=t,Kr=0,Pf=null,f1=l0=fc=0,Ji=ef=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Kl=null}return e}function rO(e,t){do{var n=Rr;try{if(Zw(),Qh.current=_p,Ip){for(var r=vr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ip=!1}if(dc=0,ri=Hr=vr=null,Zd=!1,Cf=0,d1.current=null,n===null||n.return===null){Kr=1,Pf=t,Rr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=hi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$2(s);if(m!==null){m.flags&=-257,F2(m,s,o,a,t),m.mode&1&&L2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){L2(a,c,t),g1();break e}l=Error(Ye(426))}}else if(ur&&o.mode&1){var y=$2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),F2(y,s,o,a,t),Xw(Lu(l,o));break e}}a=l=Lu(l,o),Kr!==4&&(Kr=2),ef===null?ef=[a]:ef.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=BM(a,l,t);E2(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nl===null||!nl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=zM(a,o,t);E2(a,k);break e}}a=a.return}while(a!==null)}sO(n)}catch(C){t=C,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function iO(){var e=Lp.current;return Lp.current=_p,e===null?_p:e}function g1(){(Kr===0||Kr===3||Kr===2)&&(Kr=4),ii===null||!(fc&268435455)&&!(l0&268435455)||Ho(ii,hi)}function Rp(e,t){var n=kn;kn|=2;var r=iO();(ii!==e||hi!==t)&&(Ys=null,tc(e,t));do try{Wz();break}catch(i){rO(e,i)}while(!0);if(Zw(),kn=n,Lp.current=r,Rr!==null)throw Error(Ye(261));return ii=null,hi=0,Kr}function Wz(){for(;Rr!==null;)aO(Rr)}function Hz(){for(;Rr!==null&&!gB();)aO(Rr)}function aO(e){var t=lO(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?sO(e):Rr=t,d1.current=null}function sO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fz(n,t),n!==null){n.flags&=32767,Rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kr=6,Rr=null;return}}else if(n=$z(n,t,ya),n!==null){Rr=n;return}if(t=t.sibling,t!==null){Rr=t;return}Rr=t=e}while(t!==null);Kr===0&&(Kr=5)}function Rl(e,t,n){var r=Rn,i=qa.transition;try{qa.transition=null,Rn=1,qz(e,t,n,r)}finally{qa.transition=i,Rn=r}return null}function qz(e,t,n,r){do ju();while(Go!==null);if(kn&6)throw Error(Ye(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(jB(e,a),e===ii&&(Rr=ii=null,hi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gh||(gh=!0,cO(bp,function(){return ju(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=qa.transition,qa.transition=null;var s=Rn;Rn=1;var o=kn;kn|=4,d1.current=null,Bz(e,n),eO(n,e),fz(Dy),kp=!!Ey,Dy=Ey=null,e.current=n,zz(n),xB(),kn=o,Rn=s,qa.transition=a}else e.current=n;if(gh&&(gh=!1,Go=e,Fp=i),a=e.pendingLanes,a===0&&(nl=null),bB(n.stateNode),ia(e,Mr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($p)throw $p=!1,e=Qy,Qy=null,e;return Fp&1&&e.tag!==0&&ju(),a=e.pendingLanes,a&1?e===Zy?tf++:(tf=0,Zy=e):tf=0,gl(),null}function ju(){if(Go!==null){var e=BD(Fp),t=qa.transition,n=Rn;try{if(qa.transition=null,Rn=16>e?16:e,Go===null)var r=!1;else{if(e=Go,Go=null,Fp=0,kn&6)throw Error(Ye(331));var i=kn;for(kn|=4,xt=e.current;xt!==null;){var a=xt,s=a.child;if(xt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(xt=c;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:Jd(8,d,a)}var f=d.child;if(f!==null)f.return=d,xt=f;else for(;xt!==null;){d=xt;var h=d.sibling,m=d.return;if(QM(d),d===c){xt=null;break}if(h!==null){h.return=m,xt=h;break}xt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,xt=s;else e:for(;xt!==null;){if(a=xt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jd(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,xt=x;break e}xt=a.return}}var b=e.current;for(xt=b;xt!==null;){s=xt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,xt=w;else e:for(s=b;xt!==null;){if(o=xt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:o0(9,o)}}catch(C){jr(o,o.return,C)}if(o===s){xt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,xt=k;break e}xt=o.return}}if(kn=i,gl(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(Jg,e)}catch{}r=!0}return r}finally{Rn=n,qa.transition=t}}return!1}function Q2(e,t,n){t=Lu(n,t),t=BM(e,t,1),e=tl(e,t,1),t=zi(),e!==null&&(im(e,1,t),ia(e,t))}function jr(e,t,n){if(e.tag===3)Q2(e,e,n);else for(;t!==null;){if(t.tag===3){Q2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){e=Lu(n,e),e=zM(t,e,1),t=tl(t,e,1),e=zi(),t!==null&&(im(t,1,e),ia(t,e));break}}t=t.return}}function Kz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zi(),e.pingedLanes|=e.suspendedLanes&n,ii===e&&(hi&n)===n&&(Kr===4||Kr===3&&(hi&130023424)===hi&&500>Mr()-m1?tc(e,0):f1|=n),ia(e,t)}function oO(e,t){t===0&&(e.mode&1?(t=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):t=1);var n=zi();e=ho(e,t),e!==null&&(im(e,t,n),ia(e,n))}function Gz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oO(e,n)}function Yz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ye(314))}r!==null&&r.delete(t),oO(e,n)}var lO;lO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||na.current)ea=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ea=!1,Lz(e,t,n);ea=!!(e.flags&131072)}else ea=!1,ur&&t.flags&1048576&&fM(t,Tp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jh(e,t),e=t.pendingProps;var i=Mu(t,Pi.current);Cu(t,n),i=s1(null,t,r,e,i,n);var a=o1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ra(r)?(a=!0,Ap(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t1(t),i.updater=s0,t.stateNode=i,i._reactInternals=t,By(t,r,e,n),t=Vy(null,t,r,!0,a,n)):(t.tag=0,ur&&a&&Gw(t),Fi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Qz(r),e=as(r,e),i){case 0:t=Uy(null,t,r,e,n);break e;case 1:t=z2(null,t,r,e,n);break e;case 11:t=R2(null,t,r,e,n);break e;case 14:t=B2(null,t,r,as(r.type,e),n);break e}throw Error(Ye(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),Uy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),z2(e,t,r,i,n);case 3:e:{if(HM(t),e===null)throw Error(Ye(387));r=t.pendingProps,a=t.memoizedState,i=a.element,vM(e,t),Mp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Lu(Error(Ye(423)),t),t=U2(e,t,r,n,i);break e}else if(r!==i){i=Lu(Error(Ye(424)),t),t=U2(e,t,r,n,i);break e}else for(ka=el(t.stateNode.containerInfo.firstChild),Na=t,ur=!0,os=null,n=gM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ou(),r===i){t=po(e,t,n);break e}Fi(e,t,r,n)}t=t.child}return t;case 5:return yM(t),e===null&&$y(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,My(r,i)?s=null:a!==null&&My(r,a)&&(t.flags|=32),WM(e,t),Fi(e,t,s,n),t.child;case 6:return e===null&&$y(t),null;case 13:return qM(e,t,n);case 4:return n1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Iu(t,null,r,n):Fi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),R2(e,t,r,i,n);case 7:return Fi(e,t,t.pendingProps,n),t.child;case 8:return Fi(e,t,t.pendingProps.children,n),t.child;case 12:return Fi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Xn(Ep,r._currentValue),r._currentValue=s,a!==null)if(ps(a.value,s)){if(a.children===i.children&&!na.current){t=po(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=so(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Fy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ye(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Fy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Fi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Cu(t,n),i=Ka(i),r=r(i),t.flags|=1,Fi(e,t,r,n),t.child;case 14:return r=t.type,i=as(r,t.pendingProps),i=as(r.type,i),B2(e,t,r,i,n);case 15:return UM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:as(r,i),Jh(e,t),t.tag=1,ra(r)?(e=!0,Ap(t)):e=!1,Cu(t,n),RM(t,r,i),By(t,r,i,n),Vy(null,t,r,!0,e,n);case 19:return KM(e,t,n);case 22:return VM(e,t,n)}throw Error(Ye(156,t.tag))};function cO(e,t){return LD(e,t)}function Xz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(e,t,n,r){return new Xz(e,t,n,r)}function x1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qz(e){if(typeof e=="function")return x1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lw)return 11;if(e===$w)return 14}return 2}function il(e,t){var n=e.alternate;return n===null?(n=Wa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function np(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")x1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case iu:return nc(n.children,i,a,t);case _w:s=8,i|=8;break;case uy:return e=Wa(12,n,t,i|2),e.elementType=uy,e.lanes=a,e;case dy:return e=Wa(13,n,t,i),e.elementType=dy,e.lanes=a,e;case fy:return e=Wa(19,n,t,i),e.elementType=fy,e.lanes=a,e;case yD:return c0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xD:s=10;break e;case vD:s=9;break e;case Lw:s=11;break e;case $w:s=14;break e;case Ro:s=16,r=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=Wa(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function nc(e,t,n,r){return e=Wa(7,e,r,t),e.lanes=n,e}function c0(e,t,n,r){return e=Wa(22,e,r,t),e.elementType=yD,e.lanes=n,e.stateNode={isHidden:!1},e}function rv(e,t,n){return e=Wa(6,e,null,t),e.lanes=n,e}function iv(e,t,n){return t=Wa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(e,t,n,r,i,a,s,o,l){return e=new Zz(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Wa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t1(a),e}function Jz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ru,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uO(e){if(!e)return cl;e=e._reactInternals;e:{if(jc(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var n=e.type;if(ra(n))return uM(e,n,t)}return t}function dO(e,t,n,r,i,a,s,o,l){return e=v1(n,r,!0,e,i,a,s,o,l),e.context=uO(null),n=e.current,r=zi(),i=rl(n),a=so(r,i),a.callback=t??null,tl(n,a,i),e.current.lanes=i,im(e,i,r),ia(e,r),e}function u0(e,t,n,r){var i=t.current,a=zi(),s=rl(i);return n=uO(n),t.context===null?t.context=n:t.pendingContext=n,t=so(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tl(i,t,s),e!==null&&(fs(e,i,s,a),Xh(e,i,s)),s}function Bp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function y1(e,t){Z2(e,t),(e=e.alternate)&&Z2(e,t)}function e6(){return null}var fO=typeof reportError=="function"?reportError:function(e){console.error(e)};function b1(e){this._internalRoot=e}d0.prototype.render=b1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));u0(e,t,null,null)};d0.prototype.unmount=b1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mc(function(){u0(null,e,null,null)}),t[mo]=null}};function d0(e){this._internalRoot=e}d0.prototype.unstable_scheduleHydration=function(e){if(e){var t=VD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wo.length&&t!==0&&t<Wo[n].priority;n++);Wo.splice(n,0,e),n===0&&HD(e)}};function w1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function J2(){}function t6(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Bp(s);a.call(c)}}var s=dO(t,r,e,0,null,!1,!1,"",J2);return e._reactRootContainer=s,e[mo]=s.current,bf(e.nodeType===8?e.parentNode:e),mc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Bp(l);o.call(c)}}var l=v1(e,0,!1,null,null,!1,!1,"",J2);return e._reactRootContainer=l,e[mo]=l.current,bf(e.nodeType===8?e.parentNode:e),mc(function(){u0(t,l,n,r)}),l}function m0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Bp(s);o.call(l)}}u0(t,s,e,i)}else s=t6(n,t,e,i,r);return Bp(s)}zD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bd(t.pendingLanes);n!==0&&(Bw(t,n|1),ia(t,Mr()),!(kn&6)&&($u=Mr()+500,gl()))}break;case 13:mc(function(){var r=ho(e,1);if(r!==null){var i=zi();fs(r,e,1,i)}}),y1(e,1)}};zw=function(e){if(e.tag===13){var t=ho(e,134217728);if(t!==null){var n=zi();fs(t,e,134217728,n)}y1(e,134217728)}};UD=function(e){if(e.tag===13){var t=rl(e),n=ho(e,t);if(n!==null){var r=zi();fs(n,e,t,r)}y1(e,t)}};VD=function(){return Rn};WD=function(e,t){var n=Rn;try{return Rn=e,t()}finally{Rn=n}};ky=function(e,t,n){switch(t){case"input":if(py(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r0(r);if(!i)throw Error(Ye(90));wD(r),py(r,i)}}}break;case"textarea":SD(e,n);break;case"select":t=n.value,t!=null&&wu(e,!!n.multiple,t,!1)}};ED=h1;DD=mc;var n6={usingClientEntryPoint:!1,Events:[sm,lu,r0,PD,TD,h1]},Nd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r6={bundleType:Nd.bundleType,version:Nd.version,rendererPackageName:Nd.rendererPackageName,rendererConfig:Nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ID(e),e===null?null:e.stateNode},findFiberByHostInstance:Nd.findFiberByHostInstance||e6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Jg=xh.inject(r6),Ls=xh}catch{}}Da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n6;Da.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w1(t))throw Error(Ye(200));return Jz(e,t,null,n)};Da.createRoot=function(e,t){if(!w1(e))throw Error(Ye(299));var n=!1,r="",i=fO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=v1(e,1,!1,null,null,n,!1,r,i),e[mo]=t.current,bf(e.nodeType===8?e.parentNode:e),new b1(t)};Da.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=ID(t),e=e===null?null:e.stateNode,e};Da.flushSync=function(e){return mc(e)};Da.hydrate=function(e,t,n){if(!f0(t))throw Error(Ye(200));return m0(null,e,t,!0,n)};Da.hydrateRoot=function(e,t,n){if(!w1(e))throw Error(Ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=fO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dO(t,null,e,1,n??null,i,!1,a,s),e[mo]=t.current,bf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new d0(t)};Da.render=function(e,t,n){if(!f0(t))throw Error(Ye(200));return m0(null,e,t,!1,n)};Da.unmountComponentAtNode=function(e){if(!f0(e))throw Error(Ye(40));return e._reactRootContainer?(mc(function(){m0(null,null,e,!1,function(){e._reactRootContainer=null,e[mo]=null})}),!0):!1};Da.unstable_batchedUpdates=h1;Da.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!f0(n))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return m0(e,t,n,!1,r)};Da.version="18.3.1-next-f1338f8080-20240426";function mO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mO)}catch(e){console.error(e)}}mO(),mD.exports=Da;var td=mD.exports,eC=td;ly.createRoot=eC.createRoot,ly.hydrateRoot=eC.hydrateRoot;const i6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),hO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],pO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],a6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],gO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],s6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],o6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],l6=new Set([10244]),c6=(e,t)=>{var i;if(l6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return o6.some(a=>r.includes(a))},u6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},vh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},xO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,vO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},va=(e,t=2)=>Number.isFinite(e)?xO()&&Math.abs(e)>=1e4?vO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",$o=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return xO()&&t>=1e4?vO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var d6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),en=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>v.createElement("svg",{ref:c,...d6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${f6(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},yO=en("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),m6=en("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),k1=en("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),bO=en("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),h6=en("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),p6=en("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),wO=en("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tb=en("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),g6=en("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),gs=en("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),x6=en("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),v6=en("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),y6=en("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),b6=en("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Tf=en("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),w6=en("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),S1=en("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),k6=en("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),kO=en("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),S6=en("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),N1=en("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),N6=en("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),C1=en("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),C6=en("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),j1=en("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),la=en("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),tC=en("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),j6=en("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),A6=en("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),P6=en("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),SO=en("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Fu=en("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),h0=en("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),p0=en("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),zp=en("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),T6=en("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Yo=en("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),rc=en("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),E6=en("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Pr=en("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),D6=en("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),NO=en("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),qi=en("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ef=en("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),A1=({className:e})=>u.jsx(j6,{className:e,strokeWidth:3.2}),lm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},P1=({className:e=""})=>{const t=lm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},T1=({className:e=""})=>{const t=lm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},E1=({className:e=""})=>{const t=lm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},D1=({className:e=""})=>{const t=lm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},M6=[{id:"overview",label:"Overview",icon:rc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yo},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:k1},{id:"squad-composition",label:"Classes",icon:Pr},{id:"timeline",label:"Squad vs Enemy",icon:Pr},{id:"map-distribution",label:"Map Distribution",icon:j1}]},{id:"roster",label:"Roster Intel",icon:Tf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Tf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Pr},{id:"fight-comp",label:"Fight Comp",icon:Yo}]},{id:"offense",label:"Offensive Stats",icon:Yo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Yo},{id:"player-breakdown",label:"Player Breakdown",icon:C1},{id:"spike-damage",label:"Spike Damage",icon:Ef},{id:"conditions-outgoing",label:"Conditions",icon:h0}]},{id:"defense",label:"Defensive Stats",icon:Fu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:P6},{id:"defense-detailed",label:"Defense Detailed",icon:Fu},{id:"defense-mitigation",label:"Damage Mitigation",icon:E1},{id:"support-detailed",label:"Support Detailed",icon:A1},{id:"healing-stats",label:"Healing Stats",icon:kO},{id:"boon-output",label:"Boon Output",icon:T1}]},{id:"other",label:"Other Metrics",icon:zp,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:S1},{id:"special-buffs",label:"Special Buffs",icon:zp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:D1},{id:"skill-usage",label:"Skill Usage",icon:N1},{id:"apm-stats",label:"APM Breakdown",icon:P1}]}],O6=(e,t=!0)=>{const[n,r]=v.useState(!1),[i,a]=v.useState("overview"),s=v.useRef(null),o=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>M6,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const p=m==="kdr"?"overview":m,g=s.current,y=document.getElementById(p);if(g&&y){const x=g.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+g.scrollTop,k=Math.max(0,g.scrollHeight-g.clientHeight),C=Math.min(Math.max(w-16,0),k);g.scrollTo({top:C,behavior:"smooth"}),a(p)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(p));r(!1)};v.useEffect(()=>{if(e)return;const m=p=>{const g=s.current;if(!g)return;const y=p.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&g.contains(y))&&p.deltaY!==0&&!(g.scrollHeight<=g.clientHeight)){if(l.current+=p.deltaY,o.current===null){const x=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,o.current=null;return}const w=b*.2;l.current=b-w,g.scrollBy({top:w,behavior:"auto"}),o.current=requestAnimationFrame(x)};o.current=requestAnimationFrame(x)}p.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),l.current=0}},[e]);const h=m=>{var x;const p=Math.max(0,d.findIndex(b=>b.id===i)),g=Math.min(Math.max(p+m,0),d.length-1),y=(x=d[g])==null?void 0:x.id;y&&f(y)};return v.useEffect(()=>{if(!t)return;const m=s.current;if(!m)return;let p=0;const g=()=>{var w;const x=m.getBoundingClientRect().top;let b=((w=d[0])==null?void 0:w.id)||"overview";d.forEach(k=>{const C=document.getElementById(k.id);if(!C)return;C.getBoundingClientRect().top-x<=24&&(b=k.id)}),a(k=>k===b?k:b)},y=()=>{p&&cancelAnimationFrame(p),p=requestAnimationFrame(g)};return g(),m.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{p&&cancelAnimationFrame(p),m.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:i,setActiveNavId:a,scrollContainerRef:s,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:h}},nC=["selfBuffs","groupBuffs","squadBuffs"],Gs=(e,t,n=0)=>t?e/t:n,rC=e=>e!=null&&e.classification?e.classification==="Boon":!0,CO=e=>`b${e}`,I6=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},jO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},_6=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Gs(a-i,i,1):t==="squadBuffs"?h=Gs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Gs(d,r):Gs(d,r)*100,p=n?Gs(f,r):Gs(f,r)*100;else{const g=Gs(d,r)/(h||1),y=Gs(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},AO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=_6(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Gs(i,s):a},L6=(e,t,n,r,i)=>{const a=AO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},$6=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,b=I6(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=x,w.squadSupported+=f,nC.forEach(k=>{(m[k]||[]).forEach(N=>{var ee,ae,ue,Q;if(typeof(N==null?void 0:N.id)!="number")return;const j=CO(N.id),E=l[j];if(!rC(E))return;const L=(E==null?void 0:E.stacking)??!1,P=((ae=(ee=N.buffData)==null?void 0:ee[0])==null?void 0:ae.generation)??0,M=((Q=(ue=N.buffData)==null?void 0:ue[0])==null?void 0:Q.wasted)??0,{generationMs:O,wastedMs:Z}=jO(k,L,P,M,o,x,f);!O&&!Z||(t.has(j)||t.set(j,E||{}),w.boons[j]||(w.boons[j]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[j][k].generationMs+=O,w.boons[j][k].wastedMs+=Z)})})})}),{boonTables:Array.from(t.keys()).filter(a=>rC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!nC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},iC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[CO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return jO(t,d,f,h,r,i,a)},F6={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},R6={methods:F6},B6=R6,M1="count",z6=e=>(e||0)/1e3,U6=(e,t)=>{var i;if(!e)return 0;const n=(i=B6.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},PO=(e,t,n)=>n==="duration"?z6(t):n==="tiered"?U6(e,t):e;function V6(e,t=M1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return PO(r,i,t)}function W6(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=iC(o,"selfBuffs",1122,n,l,a,r),d=iC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function H6(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function q6(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function K6(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const aC=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},sC=(e,t=M1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return PO(r,i,t)},oC=e=>H6(e),lC=e=>K6(e),cC=e=>q6(e),uC=(e,t=M1)=>V6(e,t),G6=(e,t)=>W6(e,t),Y6="count",TO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},nb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},X6={uploading:!1,message:null,url:null,buildStatus:"idle"},dC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),EO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},yh=e=>{if(e)return EO[e]},Df=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=dC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=dC.get(i);if(a)return a}return null},eu=e=>Df(e),DO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Df(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(EO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},rp=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Df(i);if(a)return a}return e?Df(e):null},Q6=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},Z6=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},J6=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},eU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||Q6,s=DO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,b=r[`${y.id}`].icon||b));const w=rp(x,y.id,i);if(!w)return;const k=i==null?void 0:i[`b${y.id}`],C=k==null?void 0:k.name,N=s.get(w)||(k==null?void 0:k.icon),j=x.startsWith("Skill ")?C||w:x,E=b||(k==null?void 0:k.icon),L=Number(y.connectedHits??0),P=Number(y.hits??0),M=L>0?L:P,O=Number(y.totalDamage??0);if(!Number.isFinite(M)&&!Number.isFinite(O))return;const Z=l[w]||{name:w,icon:N,applications:0,damage:0};Z.applications+=Number.isFinite(M)?M:0,Z.damage+=Number.isFinite(O)?O:0,!Z.icon&&N&&(Z.icon=N),l[w]=Z;const ee=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};ee.applications+=Number.isFinite(M)?M:0,ee.damage+=Number.isFinite(O)?O:0;const ae=ee.skills[j]||{name:j,hits:0,damage:0,icon:E};ae.hits+=Number.isFinite(M)?M:0,ae.damage+=Number.isFinite(O)?O:0,!ae.icon&&E&&(ae.icon=E),ee.skills[j]=ae,!ee.icon&&N&&(ee.icon=N),o[p][w]=ee})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],x=Df(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const b=x;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([k,C])=>{var M;const N=c.get(k);if(!N)return;f+=1;const j=Z6(C),E=J6(C);d+=j;const L=((M=o[N])==null?void 0:M[b])||{applications:0,damage:0,skills:{}};L.applicationsFromBuffs=(L.applicationsFromBuffs||0)+j,L.applicationsFromBuffsActive=(L.applicationsFromBuffsActive||0)+E,o[N]=o[N]||{},o[N][b]=L;const P=l[b]||{name:b,applications:0,damage:0};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+j,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+E,l[b]=P})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Mf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},tU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ic(e){return Mf[e]||Mf.Unknown}function nU(e){return e?tU[e]||e:"Unknown"}function Yl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Mf[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=nU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const rU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Li=(e,t)=>rU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Ud=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0),s=r||nb,o=n||TO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=k=>Array.isArray(k)&&k.some(C=>C&&Number(C.count)>0),p=new Map,g=new Map;e.forEach(k=>{var j;const C=(k==null?void 0:k.filePath)||(k==null?void 0:k.id);C&&p.set(String(C),k);const N=(k==null?void 0:k.permalink)||((j=k==null?void 0:k.details)==null?void 0:j.permalink);typeof N=="string"&&N.trim()&&g.set(N.trim(),k)});const y=h.map(k=>{var P;if(!k||typeof k!="object")return k;const C=k.id?String(k.id):"",N=typeof k.permalink=="string"?k.permalink.trim():"",j=(C?p.get(C):void 0)||(N?g.get(N):void 0);if(!j)return k;let E=k;if(Number(k.timestamp)<=0){const M=Li(j==null?void 0:j.details,j);M&&(E={...E,timestamp:M})}const L=(P=j==null?void 0:j.details)==null?void 0:P.teamBreakdown;return m(L)&&(E={...E,teamBreakdown:L}),E}),x=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],w=x.some(k=>Array.isArray(k==null?void 0:k.targetFocus)&&k.targetFocus.some(C=>Number((C==null?void 0:C.damage)||0)>0||Number((C==null?void 0:C.hits)||0)>0))?x:y.map((k,C)=>{const N=k&&typeof k.enemyClassCounts=="object"&&k.enemyClassCounts?k.enemyClassCounts:{},j=Object.entries(N).map(([Q,G])=>({label:String(Q||"Unknown"),count:Number(G||0)})).filter(Q=>Q.count>0).sort((Q,G)=>G.count-Q.count||Q.label.localeCompare(G.label)),E=j.reduce((Q,G)=>Q+G.count,0),L=j.map(Q=>({label:Q.label,damage:Q.count,hits:0,share:E>0?Q.count/E:0})),P=Number((k==null?void 0:k.enemyDowns)||0),M=Number((k==null?void 0:k.enemyDeaths)||0),O=Number((k==null?void 0:k.alliesDown)||0),Z=Number((k==null?void 0:k.alliesDead)||0),ee=Number((k==null?void 0:k.totalOutgoingDamage)||0),ae=Number((k==null?void 0:k.totalIncomingDamage)||0),ue=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:k!=null&&k.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((k==null?void 0:k.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((k==null?void 0:k.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Z>0?M/Z:M},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:M},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:P},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Z},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:O},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ee-ae},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ee},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ae},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((k==null?void 0:k.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((k==null?void 0:k.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((k==null?void 0:k.alliesRevived)||0)}];return{id:String((k==null?void 0:k.id)||`fight-${C+1}`),shortLabel:`F${C+1}`,fullLabel:`${String((k==null?void 0:k.mapName)||(k==null?void 0:k.label)||"Unknown Map")}  ${String((k==null?void 0:k.duration)||"--:--")}`,mapName:String((k==null?void 0:k.mapName)||""),timestamp:Number((k==null?void 0:k.timestamp)||0),duration:String((k==null?void 0:k.duration)||"--:--"),isWin:!!(k!=null&&k.isWin),targetFocus:L,squadMetrics:ue}});return{...f,fightBreakdown:y,fightDiffMode:w}},c=(()=>{if(t)return l(t);const f=i||Y6,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,x=0,b=0,w=0,k=0,C=0,N=0;const j=D=>{const K=((D==null?void 0:D.players)||[]).filter(ct=>!ct.notInSquad);let De=0,fe=0,ze=0,Ce=0;return K.forEach(ct=>{var Vt;const ht=(Vt=ct.defenses)==null?void 0:Vt[0];if(!ht)return;const Nt=Number(ht.downCount||0),Gt=Number(ht.deadCount||0);De+=Nt+Gt,ze+=Gt}),K.forEach(ct=>{!ct.statsTargets||ct.statsTargets.length===0||ct.statsTargets.forEach(ht=>{const Nt=ht==null?void 0:ht[0];if(!Nt)return;const Gt=Number(Nt.downed||0),Vt=Number(Nt.killed||0);fe+=Gt+Vt,Ce+=Vt})}),{squadDownsDeaths:De,enemyDownsDeaths:fe,squadDeaths:ze,enemyDeaths:Ce}},E=D=>{const{squadDownsDeaths:H,enemyDownsDeaths:K}=j(D);return H>0||K>0?K>H:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},L=new Map,P=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),M={},O={},Z=new Map,ee={},ae={},ue={},Q=new Map,G=new Map,_=new Set(Object.keys(Mf)),T=Object.keys(Mf).filter(D=>D&&D!=="Unknown").sort((D,H)=>H.length-D.length),A=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],te=D=>{if(!D)return"Unknown";const H=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(_.has(H))return H;const K=H.toLowerCase();for(const fe of T)if(K.includes(fe.toLowerCase()))return fe;return A.find(fe=>K.includes(fe.toLowerCase()))||H||"Unknown"},S=D=>D!=null&&D.classification?D.classification==="Boon":!0,z=new Map,W=new Map,J=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),q=D=>{const H=Number(D);return Number.isFinite(H)?H:0},re=D=>{const H=String(D).split("|"),K=H[0]||"Unknown",De=te(H[1]||"Unknown"),fe=H[2]||K||"Unknown";return{name:K,profession:De,account:fe}},$=(D,H,K)=>{let De=D.get(H);return De?K.profession&&!De.professionList.includes(K.profession)&&De.professionList.push(K.profession):(De={account:K.account,name:K.name,profession:K.profession,professionList:K.profession?[K.profession]:[],activeMs:0,mitigationTotals:J()},D.set(H,De)),De},V=(D,H,K)=>{let De=D.get(H);return De?K.profession&&!De.professionList.includes(K.profession)&&De.professionList.push(K.profession):(De={account:K.account,name:K.name,profession:K.profession,professionList:K.profession?[K.profession]:[],activeMs:0,mitigationTotals:J(),minion:K.minion},D.set(H,De)),De},le=(D,H)=>{D.totalHits+=q((H==null?void 0:H.skill_hits)??(H==null?void 0:H.skillHits)),D.blocked+=q(H==null?void 0:H.blocked),D.evaded+=q(H==null?void 0:H.evaded),D.glanced+=q(H==null?void 0:H.glanced),D.missed+=q(H==null?void 0:H.missed),D.invulned+=q(H==null?void 0:H.invulned),D.interrupted+=q(H==null?void 0:H.interrupted),D.totalMitigation+=q((H==null?void 0:H.avoided_damage)??(H==null?void 0:H.avoidedDamage)),D.minMitigation+=q((H==null?void 0:H.min_avoided_damage)??(H==null?void 0:H.minAvoidedDamage))},ie=D=>Object.values(D).some(H=>H>0),F=(D,H,K)=>{var ze,Ce,ct,ht;const De=`s${D}`;if((ze=H==null?void 0:H[De])!=null&&ze.name)return H[De].name;if((Ce=H==null?void 0:H[String(D)])!=null&&Ce.name)return H[String(D)].name;const fe=`b${D}`;return(ct=K==null?void 0:K[fe])!=null&&ct.name?K[fe].name:(ht=K==null?void 0:K[String(D)])!=null&&ht.name?K[String(D)].name:`Unknown Skill ${D}`},B=new Map,I=D=>{const H=B.get(D);if(!H)return{hasSkill:!1,avg:1,min:1,hits:0};const K=H.connectedHits||0,De=K>0?H.totalDamage/K:0,fe=H.minCount>0?H.minTotal/H.minCount:0;return{hasSkill:!0,avg:De,min:fe,hits:K}},ne="Ashtonlightstone.9145",ke="Illusionary Warden",Re=[],se=[],He=[],Oe=[],wt=new Map,qt=new Map,gn=(D,H,K)=>{const De=D.get(H)||J();return De.totalHits+=K.totalHits,De.blocked+=K.blocked,De.evaded+=K.evaded,De.glanced+=K.glanced,De.missed+=K.missed,De.invulned+=K.invulned,De.interrupted+=K.interrupted,D.set(H,De),De};a.forEach(D=>{const H=D.details;if(!H)return;(H.targets||[]).forEach(De=>{const fe=(De==null?void 0:De.totalDamageDist)||[],ze=Array.isArray(fe)?fe[0]:null;ze==null||ze.forEach(Ce=>{if(!(Ce!=null&&Ce.id))return;const ct=Number(Ce.id),ht=B.get(ct)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ht.totalDamage+=Number(Ce.totalDamage||0),ht.connectedHits+=Number(Ce.connectedHits||0);const Nt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;ht.minTotal+=Nt,ht.minCount+=1,B.set(ct,ht)})})}),a.forEach((D,H)=>{var nn,ln;const K=D.details;if(!K)return;const De=K.players,fe=K.targets||[],ze=K.skillMap||{},Ce=K.buffMap||{},ct=new Map,ht=new Map;fe.forEach(U=>{const ce=(U==null?void 0:U.totalDamageDist)||[],Me=Array.isArray(ce)?ce[0]:null;Me==null||Me.forEach(Ke=>{var Lt;if(!(Ke!=null&&Ke.id))return;const Te=Number(Ke.id),oe=((Lt=ze==null?void 0:ze[Te])==null?void 0:Lt.name)||Ke.name||Ke.skillName||String(Te),Ie=ct.get(Te)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ie.totalDamage+=Number(Ke.totalDamage||0),Ie.connectedHits+=Number(Ke.connectedHits||0);const Ne=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;Ie.minTotal+=Ne,Ie.minCount+=1,ct.set(Te,Ie);const it=ht.get(oe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};it.totalDamage+=Number(Ke.totalDamage||0),it.connectedHits+=Number(Ke.connectedHits||0);const zt=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;it.minTotal+=zt,it.minCount+=1,ht.set(oe,it)})});const Nt=U=>{const ce=ct.get(U);if(!ce||ce.connectedHits<=0)return{avg:1,min:1};const Me=ce.connectedHits>0?ce.totalDamage/ce.connectedHits:0,Ke=ce.minCount>0?ce.minTotal/ce.minCount:Me;return{avg:Me||1,min:Ke||1}},Gt=U=>{const ce=ht.get(U);if(!ce||ce.connectedHits<=0)return{avg:1,min:1};const Me=ce.connectedHits>0?ce.totalDamage/ce.connectedHits:0,Ke=ce.minCount>0?ce.minTotal/ce.minCount:Me;return{avg:Me||1,min:Ke||1}},Vt=K.combatReplayMetaData||{},wn=(Vt==null?void 0:Vt.inchToPixel)>0?Vt.inchToPixel:1,qe=(Vt==null?void 0:Vt.pollingRate)>0?Vt.pollingRate:1,Ze=5e3,at=U=>Array.isArray(U)?U.map(ce=>Array.isArray(ce)?[Number(ce[0]),Number(ce[1])]:null).filter(ce=>!!ce&&Number.isFinite(ce[0])):[];let Mt=[],ut=K.durationMS||0,ve=!1;const ye=De.find(U=>(U==null?void 0:U.hasCommanderTag)&&!(U!=null&&U.notInSquad));(nn=ye==null?void 0:ye.combatReplayData)!=null&&nn.positions&&(Mt=ye.combatReplayData.positions,at(ye.combatReplayData.dead).forEach(([ce])=>{ce>0&&(ve=!0,ut=Math.min(ut,ce))}));const Be=U=>{var it;const ce=(it=U.statsAll)==null?void 0:it[0];if((ce==null?void 0:ce.distToCom)!==void 0&&(ce==null?void 0:ce.distToCom)!=="Infinity")return Math.round(Number(ce.distToCom));if((ce==null?void 0:ce.stackDist)!==void 0)return Math.round(Number(ce.stackDist))||0;if(U.hasCommanderTag)return 0;const Me=U.combatReplayData;if(!(Me!=null&&Me.positions)||!Mt.length)return 0;const Ke=Me.positions,Te=at(Me.dead),oe=at(Me.down),Ie=Math.floor((Me.start||0)/qe);let Ne=0;if(Te.length&&oe.length)for(const[zt]of Te){if(zt<0)continue;const Lt=Math.max(0,Math.floor(zt/qe))-Ie;for(const[mt,Dt]of oe){if(zt!==Dt)continue;const Ut=ve&&mt>ut?Math.max(1,Math.floor(ut/qe)):Lt,Kt=Math.max(0,Math.min(Ut,Ke.length,Mt.length));if(Kt<=0)continue;let Ct=0;for(let Et=0;Et<Kt;Et++){const[$e,st]=Ke[Et],[pt,jt]=Mt[Et];Ct+=Math.hypot($e-pt,st-jt)}Ne=Math.round(Ct/Kt/wn)}}return Ne},je=De.filter(U=>!U.notInSquad);x+=je.length,b+=fe.filter(U=>!U.isFake).length,G6(De,{durationMS:K.durationMS,buffMap:K.buffMap});const{squadDeaths:rt,enemyDeaths:de}=j(K);w+=rt,k+=de,N+=rt,C+=de,E(K)?g++:y++;const et=K.skillMap?Number((ln=Object.keys(K.skillMap).find(U=>{var ce,Me;return((Me=(ce=K.skillMap)==null?void 0:ce[U])==null?void 0:Me.name)==="Battle Standard"}))==null?void 0:ln.replace(/^s/,"")):null;De.forEach((U,ce)=>{var Hs,qs,Rc,Cl,ha,Bc,qm,md,Oa,jl,Ja,es,zc;if(U.notInSquad)return;const Me=U.account||"Unknown",Ke=Me!=="Unknown"?Me:U.name||"Unknown",Te=U.name||"Unknown";L.has(Ke)||L.set(Ke,{name:Te,account:Ke,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:U.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const oe=L.get(Ke);if(U.hasCommanderTag&&(oe.isCommander=!0),Te!=="Unknown"&&oe.characterNames.add(String(Te)),U.profession&&U.profession!=="Unknown"){oe.profession=U.profession,oe.professions.add(U.profession);const Ee=Array.isArray(U.activeTimes)&&typeof U.activeTimes[0]=="number"?U.activeTimes[0]:K.durationMS||0;oe.professionTimeMs[U.profession]=(oe.professionTimeMs[U.profession]||0)+Ee}oe.logsJoined++,oe.downContrib+=oC(U),oe.cleanses+=aC(U),oe.strips+=sC(U,f),oe.healing+=lC(U),oe.barrier+=cC(U),oe.cc+=uC(U,f),oe.stab+=U.stabGeneration||0;const Ie=Be(U);Ie<=Ze&&(oe.totalDist+=Ie,oe.distCount++),(Hs=U.defenses)!=null&&Hs[0]&&(oe.dodges+=U.defenses[0].dodgeCount||0,oe.downs+=U.defenses[0].downCount||0,oe.deaths+=U.defenses[0].deadCount||0),K.durationMS&&(oe.totalFightMs+=K.durationMS);const Ne=Array.isArray(U.activeTimes)&&typeof U.activeTimes[0]=="number"?U.activeTimes[0]:K.durationMS||0;oe.squadActiveMs+=Ne;const it=Li(K,D),zt=Number((K==null?void 0:K.durationMS)||0);if(it>0&&((oe.firstSeenFightTs<=0||it<oe.firstSeenFightTs)&&(oe.firstSeenFightTs=it),oe.lastSeenFightTs<=0||it>oe.lastSeenFightTs?(oe.lastSeenFightTs=it,oe.lastSeenFightDurationMs=zt):it===oe.lastSeenFightTs&&zt>oe.lastSeenFightDurationMs&&(oe.lastSeenFightDurationMs=zt)),oe.defenseActiveMs+=Ne,oe.supportActiveMs+=Ne,oe.healingActiveMs+=Ne,Array.isArray(U.buffUptimes)&&U.buffUptimes.length>0&&U.buffUptimes.forEach(Ee=>{var pa,Km,Tl,Gm,Ym,Xm;if(typeof(Ee==null?void 0:Ee.id)!="number")return;const Ge=`b${Ee.id}`,Xe=((pa=K.buffMap)==null?void 0:pa[Ge])||((Km=K.buffMap)==null?void 0:Km[String(Ee.id)]);if(!Xe||S(Xe))return;const tt=Number(((Gm=(Tl=Ee.buffData)==null?void 0:Tl[0])==null?void 0:Gm.uptime)??0),bt=Number(((Xm=(Ym=Ee.buffData)==null?void 0:Ym[0])==null?void 0:Xm.presence)??0);if((!Number.isFinite(tt)||tt<=0)&&(!Number.isFinite(bt)||bt<=0))return;const Pn=(Xe==null?void 0:Xe.stacking)??!1,Tn=(Pn?Number.isFinite(tt)?tt:0:Number.isFinite(tt)?tt/100:0)*Ne,Kn=Pn?bt:tt,Mi=Math.min(Math.max(Number.isFinite(Kn)?Kn:0,0),100)/100*Ne,ts=Number.isFinite(Tn)&&Tn>0,vi=Number.isFinite(Mi)&&Mi>0;if(!ts&&!vi)return;const Yi=eu(Xe==null?void 0:Xe.name);if(Yi&&i6.has(Yi)&&(!(Xe!=null&&Xe.classification)||Xe.classification==="Condition")){const Xi=Tn/1e3,Vr=Xe==null?void 0:Xe.icon,El=ee[Yi]||{name:Yi,icon:Vr,applications:0,damage:0};El.applicationsFromUptime=(El.applicationsFromUptime||0)+Xi,!El.icon&&Vr&&(El.icon=Vr),ee[Yi]=El;const Dl=oe.outgoingConditions[Yi]||{applications:0,damage:0,skills:{},icon:Vr};Dl.applicationsFromUptime=(Dl.applicationsFromUptime||0)+Xi,!Dl.icon&&Vr&&(Dl.icon=Vr),oe.outgoingConditions[Yi]=Dl;const Ml=ae[Yi]||{name:Yi,icon:Vr,applications:0,damage:0};Ml.applicationsFromUptime=(Ml.applicationsFromUptime||0)+Xi,!Ml.icon&&Vr&&(Ml.icon=Vr),ae[Yi]=Ml;const Oo=oe.incomingConditions[Yi]||{applications:0,damage:0,skills:{},icon:Vr};Oo.applicationsFromUptime=(Oo.applicationsFromUptime||0)+Xi,!Oo.icon&&Vr&&(Oo.icon=Vr),oe.incomingConditions[Yi]=Oo}Q.has(Ge)||Q.set(Ge,{name:Xe==null?void 0:Xe.name,stacking:Pn,icon:Xe==null?void 0:Xe.icon}),G.has(Ge)||G.set(Ge,new Map);const Al=G.get(Ge),Pl=oe.account||U.account||U.name||"Unknown";let Ia=Al.get(Pl);Ia||(Ia={account:Pl,profession:oe.profession||U.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Al.set(Pl,Ia));const Mo=U.profession||oe.profession;Mo&&Mo!=="Unknown"&&(Ia.professions.add(Mo),Ia.professionTimeMs[Mo]=(Ia.professionTimeMs[Mo]||0)+Ne,Ia.profession=Mo),Ia.totalMs+=ts?Tn:0,Ia.uptimeMs+=vi?Mi:0,Ia.durationMs+=Ne}),(qs=U.defenses)!=null&&qs[0]){const Ee=tt=>{let bt=String(tt||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return bt.toUpperCase().includes("UNKNOWN")&&(bt="Unknown"),bt},Xe=(()=>{const tt=Array.isArray(U==null?void 0:U.minions)?U.minions:[];if(tt.length===0)return{total:0,byMinion:{}};let bt=0;const Pn={};return tt.forEach($n=>{const Tn=Array.isArray($n==null?void 0:$n.totalDamageTakenDist)?$n.totalDamageTakenDist:[],Kn=Array.isArray(Tn[0])?Tn[0]:[],Di=Ee($n==null?void 0:$n.name);Kn.forEach(Mi=>{const ts=Number((Mi==null?void 0:Mi.totalDamage)??(Mi==null?void 0:Mi.damageTaken)??0);Number.isFinite(ts)&&(bt+=ts,Pn[Di]=(Pn[Di]||0)+ts)})}),{total:bt,byMinion:Pn}})();Xe.byMinion&&typeof Xe.byMinion=="object"&&Object.entries(Xe.byMinion).forEach(([tt,bt])=>{const Pn=Number(bt||0);!Number.isFinite(Pn)||Pn<=0||(oe.defenseMinionDamageTaken[tt]=(oe.defenseMinionDamageTaken[tt]||0)+Pn)}),pO.forEach(tt=>{const bt=tt.id==="minionDamageTaken"?Xe.total:Number(U.defenses[0][tt.field]??0);Number.isFinite(bt)&&(oe.defenseTotals[tt.id]=(oe.defenseTotals[tt.id]||0)+bt)})}(Rc=U.support)!=null&&Rc[0]&&gO.forEach(Ee=>{let Ge=Number(U.support[0][Ee.field]??0);Number.isFinite(Ge)&&(P.has(Ee.field)&&Ge>999999&&(Ge=0),oe.supportTotals[Ee.id]=(oe.supportTotals[Ee.id]||0)+Ge)});const Lt=(Ee,Ge)=>{Number.isFinite(Ge)&&(oe.healingTotals[Ee]=(oe.healingTotals[Ee]||0)+Ge)},mt=(Ee,Ge)=>Array.isArray(Ee)?Ee.reduce((Xe,tt)=>Xe+Number((tt==null?void 0:tt[Ge])??0),0):0,Dt=(Ee,Ge,Xe)=>{if(!Number.isFinite(Xe)||Xe<=0)return;const tt=De[Ge],bt=Ge===ce,Pn=tt==null?void 0:tt.notInSquad,$n=!Pn,Tn=$n&&(tt==null?void 0:tt.group)!=null&&tt.group===U.group;Lt(Ee,Xe),$n&&Lt(`squad${Ee[0].toUpperCase()}${Ee.slice(1)}`,Xe),Tn&&Lt(`group${Ee[0].toUpperCase()}${Ee.slice(1)}`,Xe),bt&&Lt(`self${Ee[0].toUpperCase()}${Ee.slice(1)}`,Xe),Pn&&Lt(`offSquad${Ee[0].toUpperCase()}${Ee.slice(1)}`,Xe)};if(Array.isArray(U.rotation)){let Ee=0;U.rotation.forEach(Ge=>{var tt;if(!(Ge!=null&&Ge.id)||!c6(Ge.id,K.skillMap))return;const Xe=((tt=Ge.skills)==null?void 0:tt.length)||0;Xe>0&&(Ee+=Xe,Lt(`resUtility_s${Ge.id}`,Xe))}),Ee>0&&Lt("resUtility",Ee)}const Ut=(Cl=U.extHealingStats)==null?void 0:Cl.outgoingHealingAllies;Array.isArray(Ut)&&Ut.forEach((Ee,Ge)=>{const Xe=mt(Ee,"healing"),tt=mt(Ee,"downedHealing");Dt("healing",Ge,Xe),Dt("downedHealing",Ge,tt)});const Kt=(ha=U.extBarrierStats)==null?void 0:ha.outgoingBarrierAllies;Array.isArray(Kt)&&Kt.forEach((Ee,Ge)=>{const Xe=mt(Ee,"barrier");Dt("barrier",Ge,Xe)});const Ct=(Bc=U.statsAll)==null?void 0:Bc[0],Et=(qm=U.dpsAll)==null?void 0:qm[0],$e=(md=U.support)==null?void 0:md[0];if(hO.forEach(Ee=>{if(Ee.id==="downContributionPercent"||!Ee.field)return;let Ge=0,Xe=0;Ee.source==="dpsAll"&&Et?Ge=Number(Et[Ee.field]??0):Ee.source==="statsAll"&&Ct?(Ge=Number(Ct[Ee.field]??0),Xe=Number(Ct[Ee.denomField||Ee.weightField||"connectedDamageCount"]??0)):Ee.source==="support"&&$e?Ge=Number($e[Ee.field]??0):U.statsTargets&&U.statsTargets.forEach(tt=>{tt!=null&&tt[0]&&(Ge+=Number(tt[0][Ee.field]??0),Xe+=Number(tt[0][Ee.denomField||Ee.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ge)&&(oe.offenseTotals[Ee.id]=(oe.offenseTotals[Ee.id]||0)+Ge,Ee.isRate&&Xe>0&&(oe.offenseRateWeights[Ee.id]=(oe.offenseRateWeights[Ee.id]||0)+Xe))}),U.targetDamageDist&&Number.isFinite(et)){const Ee=U.targetDamageDist.flatMap(Ge=>Ge||[]).flatMap(Ge=>Ge||[]).reduce((Ge,Xe)=>Xe!=null&&Xe.id&&Xe.id===et?Ge+((Xe==null?void 0:Xe.connectedHits)||0):Ge,0);oe.offenseTotals.battleStandardHits=(oe.offenseTotals.battleStandardHits||0)+Ee}oe.revives+=((jl=(Oa=U.support)==null?void 0:Oa[0])==null?void 0:jl.resurrects)||0,Et&&(oe.damage+=Et.damage||0,oe.dps+=Et.dps||0);const st=Ee=>{var bt,Pn,$n,Tn;let Ge=`Skill ${Ee.id}`;const Xe=((bt=K.skillMap)==null?void 0:bt[`s${Ee.id}`])||((Pn=K.skillMap)==null?void 0:Pn[`${Ee.id}`]);let tt=Xe==null?void 0:Xe.icon;if(Xe!=null&&Xe.name&&(Ge=Xe.name),Ge.startsWith("Skill ")){const Kn=rp(Ge,Ee.id,K.buffMap);Kn&&(Ge=Kn,tt=((Tn=($n=K.buffMap)==null?void 0:$n[`b${Ee.id}`])==null?void 0:Tn.icon)||tt)}return{name:Ge,icon:tt}},pt=Ee=>{if(!(Ee!=null&&Ee.id))return;const{name:Ge,icon:Xe}=st(Ee);M[Ee.id]||(M[Ee.id]={name:Ge,icon:Xe,damage:0,hits:0,downContribution:0}),M[Ee.id].name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(M[Ee.id].name=Ge),!M[Ee.id].icon&&Xe&&(M[Ee.id].icon=Xe),M[Ee.id].damage+=Ee.totalDamage,M[Ee.id].hits+=Ee.connectedHits,M[Ee.id].downContribution+=Number(Ee.downContribution||0)},jt=U.account||U.name||"Unknown",mn=U.profession||"Unknown",An=`${jt}|${mn}`;let zn=Z.get(An);zn||(zn={key:An,account:jt,displayName:jt,profession:mn,professionList:[mn],totalFightMs:0,skills:new Map},Z.set(An,zn)),zn.professionList.includes(mn)||zn.professionList.push(mn),zn.totalFightMs+=K.durationMS||0;const _r=Ee=>{if(!(Ee!=null&&Ee.id))return;const{name:Ge,icon:Xe}=st(Ee),tt=`s${Ee.id}`;let bt=zn.skills.get(tt);bt||(bt={id:tt,name:Ge,icon:Xe,damage:0,downContribution:0},zn.skills.set(tt,bt)),bt.name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(bt.name=Ge),!bt.icon&&Xe&&(bt.icon=Xe),bt.damage+=Number(Ee.totalDamage||0),bt.downContribution+=Number(Ee.downContribution||0)};if(h==="total")(Ja=U.totalDamageDist)==null||Ja.forEach(Ee=>{Ee==null||Ee.forEach(Ge=>{pt(Ge),_r(Ge)})});else{const Ee=new Map;(es=U.targetDamageDist)==null||es.forEach(Xe=>{Xe==null||Xe.forEach(tt=>{tt==null||tt.forEach(bt=>{const Pn=Number(bt==null?void 0:bt.id);if(Number.isFinite(Pn)){const $n=Ee.get(Pn)||{damage:0,hits:0,downContribution:0};$n.damage+=Number((bt==null?void 0:bt.totalDamage)||0),$n.hits+=Number((bt==null?void 0:bt.connectedHits)||0),$n.downContribution+=Number((bt==null?void 0:bt.downContribution)||0),Ee.set(Pn,$n)}pt(bt),_r(bt)})})}),!(K!=null&&K.detailedWvW)&&((zc=U.totalDamageDist)==null||zc.forEach(Xe=>{Xe==null||Xe.forEach(tt=>{const bt=Number(tt==null?void 0:tt.id);if(!Number.isFinite(bt))return;const Pn=Ee.get(bt);if(!Pn){pt(tt),_r(tt);return}const $n=Number((tt==null?void 0:tt.totalDamage)||0),Tn=Number((tt==null?void 0:tt.connectedHits)||0),Kn=Number((tt==null?void 0:tt.downContribution)||0),Di=$n-Number(Pn.damage||0),Mi=Tn-Number(Pn.hits||0),ts=Kn-Number(Pn.downContribution||0);if(Di<=0&&Mi<=0&&ts<=0)return;const vi={...tt,totalDamage:Math.max(0,Di),connectedHits:Math.max(0,Mi),downContribution:Math.max(0,ts)};pt(vi),_r(vi)})}))}U.totalDamageTaken&&U.totalDamageTaken.forEach(Ee=>{Ee==null||Ee.forEach(Ge=>{var Pn,$n,Tn,Kn;if(!(Ge!=null&&Ge.id))return;let Xe=`Skill ${Ge.id}`;const tt=((Pn=K.skillMap)==null?void 0:Pn[`s${Ge.id}`])||(($n=K.skillMap)==null?void 0:$n[`${Ge.id}`]);let bt=tt==null?void 0:tt.icon;if(tt!=null&&tt.name&&(Xe=tt.name),Xe.startsWith("Skill ")){const Di=rp(Xe,Ge.id,K.buffMap);Di&&(Xe=Di,bt=((Kn=(Tn=K.buffMap)==null?void 0:Tn[`b${Ge.id}`])==null?void 0:Kn.icon)||bt)}O[Ge.id]||(O[Ge.id]={name:Xe,icon:bt,damage:0,hits:0}),(!O[Ge.id].name.startsWith("Skill ")||Xe.startsWith("Skill "))&&(O[Ge.id].name=Xe),!O[Ge.id].icon&&bt&&(O[Ge.id].icon=bt),O[Ge.id].damage+=Ge.totalDamage,O[Ge.id].hits+=Ge.hits})})}),fe.forEach(U=>{if(U!=null&&U.isFake)return;const ce=te((U==null?void 0:U.profession)||(U==null?void 0:U.name)||(U==null?void 0:U.id));ce&&(ue[ce]=(ue[ce]||0)+1)});const Le=eU({players:De,targets:fe,skillMap:K.skillMap,buffMap:K.buffMap,getPlayerKey:U=>U.account&&U.account!=="Unknown"?U.account:U.name||null}),Je=DO(K.buffMap);Object.entries(Le.playerConditions).forEach(([U,ce])=>{const Me=L.get(U);Me&&Object.entries(ce).forEach(([Ke,Te])=>{const oe=Me.outgoingConditions[Ke]||{applications:0,damage:0,skills:{},icon:Te.icon};oe.applications+=Number(Te.applications||0),oe.damage+=Number(Te.damage||0),Te.applicationsFromBuffs&&(oe.applicationsFromBuffs=(oe.applicationsFromBuffs||0)+Te.applicationsFromBuffs),Te.applicationsFromBuffsActive&&(oe.applicationsFromBuffsActive=(oe.applicationsFromBuffsActive||0)+Te.applicationsFromBuffsActive),Object.entries(Te.skills||{}).forEach(([Ie,Ne])=>{const it=oe.skills[Ie]||{name:Ne.name,hits:0,damage:0,icon:Ne.icon};it.hits+=Number(Ne.hits||0),it.damage+=Number(Ne.damage||0),!it.icon&&Ne.icon&&(it.icon=Ne.icon),oe.skills[Ie]=it}),!oe.icon&&Te.icon&&(oe.icon=Te.icon),Me.outgoingConditions[Ke]=oe})}),Object.entries(Le.summary).forEach(([U,ce])=>{const Me=ee[U]||{name:ce.name||U,icon:ce.icon,applications:0,damage:0};Me.applications+=Number(ce.applications||0),Me.damage+=Number(ce.damage||0),ce.applicationsFromBuffs&&(Me.applicationsFromBuffs=(Me.applicationsFromBuffs||0)+ce.applicationsFromBuffs),ce.applicationsFromBuffsActive&&(Me.applicationsFromBuffsActive=(Me.applicationsFromBuffsActive||0)+ce.applicationsFromBuffsActive),!Me.icon&&ce.icon&&(Me.icon=ce.icon),ee[U]=Me}),je.forEach(U=>{const ce=U.account&&U.account!=="Unknown"?U.account:U.name||"Unknown",Me=L.get(ce);!Me||!U.totalDamageTaken||U.totalDamageTaken.forEach(Ke=>Ke==null?void 0:Ke.forEach(Te=>{var Et,$e,st,pt,jt,mn;if(!(Te!=null&&Te.id))return;let oe=`Skill ${Te.id}`;const Ie=((Et=K.skillMap)==null?void 0:Et[`s${Te.id}`])||(($e=K.skillMap)==null?void 0:$e[`${Te.id}`]);Ie!=null&&Ie.name&&(oe=Ie.name);const Ne=rp(oe,Te.id,K.buffMap);if(!Ne)return;const it=(pt=(st=K.buffMap)==null?void 0:st[`b${Te.id}`])==null?void 0:pt.name,zt=Je.get(Ne)||((mn=(jt=K.buffMap)==null?void 0:jt[`b${Te.id}`])==null?void 0:mn.icon),Lt=(Ie==null?void 0:Ie.icon)||zt;oe.startsWith("Skill ")&&(it||Ne)&&(oe=it||Ne);const mt=Number(Te.hits??0),Dt=Number(Te.totalDamage??0),Ut=ae[Ne]||{name:Ne,icon:zt,applications:0,damage:0};Ut.applications+=Number.isFinite(mt)?mt:0,Ut.damage+=Number.isFinite(Dt)?Dt:0,!Ut.icon&&zt&&(Ut.icon=zt),ae[Ne]=Ut;const Kt=Me.incomingConditions[Ne]||{applications:0,damage:0,skills:{},icon:zt};Kt.applications+=Number.isFinite(mt)?mt:0,Kt.damage+=Number.isFinite(Dt)?Dt:0;const Ct=Kt.skills[oe]||{name:oe,hits:0,damage:0,icon:Lt};Ct.hits+=Number.isFinite(mt)?mt:0,Ct.damage+=Number.isFinite(Dt)?Dt:0,!Ct.icon&&Lt&&(Ct.icon=Lt),Kt.skills[oe]=Ct,!Kt.icon&&zt&&(Kt.icon=zt),Me.incomingConditions[Ne]=Kt}))});const Xt=K.player_damage_mitigation||K.playerDamageMitigation,Ln=Xt&&typeof Xt=="object"&&Object.keys(Xt).length>0;Ln&&Object.entries(Xt).forEach(([U,ce])=>{if(!ce||typeof ce!="object")return;const Me=re(U),Ke=$(z,Me.account,Me);Object.values(ce).forEach(Te=>{q((Te==null?void 0:Te.avoided_damage)??(Te==null?void 0:Te.avoidedDamage))<=0||le(Ke.mitigationTotals,Te)})});const Nn=K.player_minion_damage_mitigation||K.playerMinionDamageMitigation,an=Nn&&typeof Nn=="object"&&Object.keys(Nn).length>0;an&&Object.entries(Nn).forEach(([U,ce])=>{if(!ce||typeof ce!="object")return;const Me=re(U);Object.entries(ce).forEach(([Ke,Te])=>{if(!Te||typeof Te!="object")return;const oe=`${Me.account}::${Ke}`,Ie=V(W,oe,{...Me,minion:String(Ke||"Unknown")});Object.values(Te).forEach(Ne=>{le(Ie.mitigationTotals,Ne)})})}),(!Ln||!an)&&(Ln||je.forEach(U=>{const ce=(U==null?void 0:U.totalDamageTaken)||[];if(!Array.isArray(ce)||ce.length===0)return;const Me=U.account||U.name||"Unknown",Ke={account:Me,name:U.name||Me,profession:te(U.profession||"Unknown")};$(z,Me,Ke);const Te=K.skillMap||{},oe=K.buffMap||{},Ie=Array.isArray(ce)?ce[0]:null;if(Ie==null||Ie.forEach(Ne=>{if(!(Ne!=null&&Ne.id))return;const it=q(Ne.blocked),zt=q(Ne.evaded),Lt=q(Ne.glance??Ne.glanced),mt=q(Ne.missed),Dt=q(Ne.invulned),Ut=q(Ne.interrupted),Kt=q(Ne.hits??Ne.connectedHits),Ct=Number(Ne.id),Et=F(Ct,Te,oe);if(gn(wt,`${Me}::${Ct}`,{totalHits:Kt,blocked:it,evaded:zt,glanced:Lt,missed:mt,invulned:Dt,interrupted:Ut}),Me===ne){const $e=B.get(Ct),st=I(Ct),pt=st.hasSkill?st.hits>0?st.avg:0:1,jt=st.hasSkill?st.min||0:1,mn=st.hits>0?Lt*pt/2+(it+zt+mt+Dt+Ut)*pt:0,An=st.hits>0?Lt*jt/2+(it+zt+mt+Dt+Ut)*jt:0;He.push({logId:D.filePath||D.id||H,skillId:Ne.id,skillName:Et,blocked:it,evaded:zt,glanced:Lt,missed:mt,invulned:Dt,interrupted:Ut,totalAvoids:it+zt+Lt+mt+Dt+Ut,avg:pt,min:jt,enemyHits:($e==null?void 0:$e.connectedHits)??0,enemyTotalDmg:($e==null?void 0:$e.totalDamage)??0,avoidDmg:mn,avoidMinDmg:An})}}),Me===ne){const Ne=(it,zt)=>{let Lt=0,mt=0,Dt=0;if(!Array.isArray(it))return{total:Lt,minTotal:mt,hits:Dt};for(const Ut of it){if(!(Ut!=null&&Ut.id))continue;const Kt=q(Ut.blocked),Ct=q(Ut.evaded),Et=q(Ut.glance??Ut.glanced),$e=q(Ut.missed),st=q(Ut.invulned),pt=q(Ut.interrupted),jt=F(Number(Ut.id),ze,Ce),mn=zt(Number(Ut.id),jt);(mn.hits??0)>0&&(Lt+=Et*mn.avg/2+(Kt+Ct+$e+st+pt)*mn.avg,mt+=Et*mn.min/2+(Kt+Ct+$e+st+pt)*mn.min),Dt+=q(Ut.hits??Ut.connectedHits)}return{total:Lt,minTotal:mt,hits:Dt}};Oe.push({logId:D.filePath||D.id||H,variant:"current_global_name_taken0",...Ne(Ie,(it,zt)=>{const Lt=I(it),mt=Lt.hasSkill?Lt.hits>0?Lt.avg:0:1,Dt=Lt.hasSkill?Lt.min||0:1;return{avg:mt,min:Dt,hits:Lt.hits}})})}}),an||je.forEach(U=>{const ce=(U==null?void 0:U.minions)||[];if(!Array.isArray(ce)||ce.length===0)return;const Me=U.account||U.name||"Unknown",Ke={account:Me,name:U.name||Me,profession:te(U.profession||"Unknown")},Te=K.skillMap||{},oe=K.buffMap||{};ce.forEach(Ie=>{const Ne=(Ie==null?void 0:Ie.totalDamageTakenDist)||[];if(!Array.isArray(Ne)||Ne.length===0)return;let it=String((Ie==null?void 0:Ie.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";it.toUpperCase().includes("UNKNOWN")&&(it="Unknown");const zt=`${Me}::${it}`;V(W,zt,{...Ke,minion:it});const Lt=Array.isArray(Ne)?Ne[0]:null;if(Lt==null||Lt.forEach(mt=>{if(!(mt!=null&&mt.id))return;const Dt=q(mt.blocked),Ut=q(mt.evaded),Kt=q(mt.glance??mt.glanced),Ct=q(mt.missed),Et=q(mt.invulned),$e=q(mt.interrupted),st=q(mt.hits??mt.connectedHits),pt=Number(mt.id),jt=F(pt,Te,oe);if(gn(qt,`${zt}::${pt}`,{totalHits:st,blocked:Dt,evaded:Ut,glanced:Kt,missed:Ct,invulned:Et,interrupted:$e}),Me===ne&&it===ke){const mn=B.get(pt),An=I(pt),zn=An.hasSkill?An.hits>0?An.avg:0:1,_r=An.hasSkill?An.min||0:1,Hs=An.hits>0?Kt*zn/2+(Dt+Ut+Ct+Et+$e)*zn:0,qs=An.hits>0?Kt*_r/2+(Dt+Ut+Ct+Et+$e)*_r:0;Re.push({logId:D.filePath||D.id||H,skillId:mt.id,skillName:jt,blocked:Dt,evaded:Ut,glanced:Kt,missed:Ct,invulned:Et,interrupted:$e,totalAvoids:Dt+Ut+Kt+Ct+Et+$e,avg:zn,min:_r,enemyHits:(mn==null?void 0:mn.connectedHits)??0,enemyTotalDmg:(mn==null?void 0:mn.totalDamage)??0,avoidDmg:Hs,avoidMinDmg:qs})}}),Me===ne&&it===ke){const mt=(Ct,Et)=>{let $e=0,st=0,pt=0;if(!Array.isArray(Ct))return{total:$e,minTotal:st,hits:pt};for(const jt of Ct){if(!(jt!=null&&jt.id))continue;const mn=q(jt.blocked),An=q(jt.evaded),zn=q(jt.glance??jt.glanced),_r=q(jt.missed),Hs=q(jt.invulned),qs=q(jt.interrupted),Rc=F(Number(jt.id),ze,Ce),{avg:Cl,min:ha}=Et(Number(jt.id),Rc);q(jt.hits??jt.connectedHits)>0&&($e+=zn*Cl/2+(mn+An+_r+Hs+qs)*Cl,st+=zn*ha/2+(mn+An+_r+Hs+qs)*ha),pt+=q(jt.hits??jt.connectedHits)}return{total:$e,minTotal:st,hits:pt}},Dt=Array.isArray(Ne)?Ne[0]||[]:[],Ut=Array.isArray(Ne)?Ne.flat():[],Kt=Array.isArray(Ie==null?void 0:Ie.totalDamageTaken)?Ie.totalDamageTaken[0]||[]:[];se.push({logId:D.filePath||D.id||H,variant:"current_global_name_dist0",...mt(Dt,(Ct,Et)=>{const $e=I(Ct),st=$e.hasSkill?$e.hits>0?$e.avg:0:1,pt=$e.hasSkill&&$e.min||0;return{avg:st,min:pt}})}),se.push({logId:D.filePath||D.id||H,variant:"local_name_dist0",...mt(Dt,(Ct,Et)=>Gt(Et))}),se.push({logId:D.filePath||D.id||H,variant:"local_id_dist0",...mt(Dt,Ct=>Nt(Ct))}),se.push({logId:D.filePath||D.id||H,variant:"global_name_alllists",...mt(Ut,(Ct,Et)=>{const $e=I(Ct),st=$e.hasSkill?$e.hits>0?$e.avg:0:1,pt=$e.hasSkill&&$e.min||0;return{avg:st,min:pt}})}),se.push({logId:D.filePath||D.id||H,variant:"global_name_taken0",...mt(Kt,(Ct,Et)=>{const $e=I(Ct),st=$e.hasSkill?$e.hits>0?$e.avg:0:1,pt=$e.hasSkill&&$e.min||0;return{avg:st,min:pt}})})}})}))}),Re.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Re),se.length>0&&console.table(se),console.groupEnd()),He.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(He),Oe.length>0&&console.table(Oe),console.groupEnd());const Bn=(D,H)=>{const K=new Map,De=fe=>{let ze=K.get(fe);return ze||(ze=J(),K.set(fe,ze)),ze};H.forEach((fe,ze)=>{const Ce=ze.lastIndexOf("::"),ct=Ce>-1?ze.slice(0,Ce):ze,ht=Ce>-1?Number(ze.slice(Ce+2)):Number.NaN,Nt=Number.isFinite(ht)?I(ht):{hasSkill:!1,avg:0,min:0,hits:0};if(!Nt.hasSkill||Nt.hits<=0)return;const Gt=Nt.avg,Vt=Nt.min,wn=fe.glanced*Gt/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*Gt,qe=fe.glanced*Vt/2+(fe.blocked+fe.evaded+fe.missed+fe.invulned+fe.interrupted)*Vt;if(wn<=0)return;const Ze=De(ct);Ze.totalHits+=fe.totalHits,Ze.blocked+=fe.blocked,Ze.evaded+=fe.evaded,Ze.glanced+=fe.glanced,Ze.missed+=fe.missed,Ze.invulned+=fe.invulned,Ze.interrupted+=fe.interrupted,Ze.totalMitigation+=wn,Ze.minMitigation+=qe}),D.forEach((fe,ze)=>{const Ce=K.get(ze)||J();fe.mitigationTotals.totalHits=Ce.totalHits,fe.mitigationTotals.blocked=Ce.blocked,fe.mitigationTotals.evaded=Ce.evaded,fe.mitigationTotals.glanced=Ce.glanced,fe.mitigationTotals.missed=Ce.missed,fe.mitigationTotals.invulned=Ce.invulned,fe.mitigationTotals.interrupted=Ce.interrupted,fe.mitigationTotals.totalMitigation=Ce.totalMitigation,fe.mitigationTotals.minMitigation=Ce.minMitigation})};Bn(z,wt),Bn(W,qt);const xe=p>0?Math.round(x/p):0,_e=p>0?Math.round(b/p):0,kt=w>0?(k/w).toFixed(2):k>0?"":"0.00",Zt=C>0?(N/C).toFixed(2):N>0?"":"0.00",Wt=(D,H)=>{const De=D.filter(Ce=>Number.isFinite(Ce.value)&&(H?Ce.value>0:Ce.value>=0)).sort((Ce,ct)=>{const ht=H?ct.value-Ce.value:Ce.value-ct.value;return ht!==0?ht:Ce.account.localeCompare(ct.account)});let fe=null,ze=0;return De.map((Ce,ct)=>((fe===null||Ce.value!==fe)&&(ze=ct+1,fe=Ce.value),{rank:ze,...Ce}))},Sn=Array.from(L.values()).map(D=>{const H=Array.from(D.professions).filter(K=>K!=="Unknown");if(D.professionList=H,H.length>0){let K=H[0],De=D.professionTimeMs[K]||0;H.forEach(fe=>{const ze=D.professionTimeMs[fe]||0;ze>De&&(De=ze,K=fe)}),D.profession=K}return{key:D.account,stat:D}}),Ki=D=>{const H=L.get(D.account);if(!H){const fe=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:fe}}const K=H.professionList&&H.professionList.length>0?H.professionList:Array.from(H.professions||[]).filter(fe=>fe&&fe!=="Unknown"),De=H.profession||D.profession;return{...D,profession:De,professionList:K.length>0?K:De?[De]:[],activeMs:H.defenseActiveMs||H.totalFightMs||D.activeMs}},gi=Array.from(z.values()).map(Ki).filter(D=>ie(D.mitigationTotals)).sort((D,H)=>D.account.localeCompare(H.account)),fa=Array.from(W.values()).map(Ki).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,H)=>{const K=D.account.localeCompare(H.account);return K!==0?K:String(D.minion||"").localeCompare(String(H.minion||""))}),lr=(D,H)=>{switch(H){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},xn=(D,H)=>Wt(Sn.map(({stat:K})=>({account:K.account,profession:K.profession,professionList:K.professionList,value:lr(K,D),count:K.logsJoined})),H),Yt={downContrib:xn("downContrib",!0),barrier:xn("barrier",!0),healing:xn("healing",!0),dodges:xn("dodges",!0),strips:xn("strips",!0),cleanses:xn("cleanses",!0),cc:xn("cc",!0),stability:xn("stability",!0),revives:xn("revives",!0),participation:xn("participation",!0),dps:xn("dps",!0),damage:xn("damage",!0),closestToTag:xn("closestToTag",!1).filter(D=>Number.isFinite(D.value))},Er={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},vn=D=>{const H=D==null?void 0:D[0];return{value:(H==null?void 0:H.value)??0,player:(H==null?void 0:H.account)??"-",count:(H==null?void 0:H.count)??0,profession:(H==null?void 0:H.profession)??"Unknown",professionList:(H==null?void 0:H.professionList)??[]}},Ei={maxDownContrib:vn([]),maxBarrier:vn([]),maxHealing:vn([]),maxDodges:vn([]),maxStrips:vn([]),maxCleanses:vn([]),maxCC:vn([]),maxStab:vn([]),closestToTag:vn([])},Ir={},Mc=(D,H)=>{if(H==="closestToTag")return lr(D,H);const K=Math.max(1,(D.totalFightMs||0)/1e3);return lr(D,H)/K};Object.values(Er).forEach(D=>{const H=D!=="closestToTag";Ir[D]=Wt(Sn.map(({stat:K})=>({account:K.account,profession:K.profession,professionList:K.professionList,value:Mc(K,D),count:K.logsJoined})),H)}),Ei.maxDownContrib=vn(Ir.downContrib),Ei.maxBarrier=vn(Ir.barrier),Ei.maxHealing=vn(Ir.healing),Ei.maxDodges=vn(Ir.dodges),Ei.maxStrips=vn(Ir.strips),Ei.maxCleanses=vn(Ir.cleanses),Ei.maxCC=vn(Ir.cc),Ei.maxStab=vn(Ir.stability),Ei.closestToTag=vn(Ir.closestToTag);const Gi={maxDownContrib:vn(Yt.downContrib),maxBarrier:vn(Yt.barrier),maxHealing:vn(Yt.healing),maxDodges:vn(Yt.dodges),maxStrips:vn(Yt.strips),maxCleanses:vn(Yt.cleanses),maxCC:vn(Yt.cc),maxStab:vn(Yt.stability),closestToTag:vn(Yt.closestToTag)};let ma={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Cs,Oc,Sl=0;if(s!=null&&s.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},H=ze=>{const Ce=D[ze];return Ce?Number(o[Ce]||0)>0:!1},K=[],De=ze=>[...ze||[]].filter(Ce=>H(Ce==null?void 0:Ce.name)).sort((Ce,ct)=>ct.ratio-Ce.ratio||Ce.rank-ct.rank||Ce.name.localeCompare(ct.name)).slice(0,3),fe=ze=>{var ct;if(!ze)return;const Ce=De(ze.contribs);return{...ze,player:ze.name,reason:((ct=Ce[0])==null?void 0:ct.name)||"Top Performance",topStats:Ce}};Sn.forEach(({stat:ze})=>{let Ce=0;const ct=[],ht=(Nt,Gt,Vt,wn,qe=!0)=>{var at,Mt;if(Vt<=0)return;const Ze=((at=Gt[0])==null?void 0:at.value)||0;if(Ze&&Number.isFinite(Nt)&&(qe?Nt>0:Nt<Number.POSITIVE_INFINITY)){const ut=qe?Nt/Ze:Ze/Nt;Ce+=ut*Vt;const ve=((Mt=Gt.find(ye=>ye.account===ze.account))==null?void 0:Mt.rank)||0;ct.push({name:wn,ratio:ut,val:Nt.toLocaleString(),rank:ve})}};ht(ze.downContrib,Yt.downContrib,o.downContribution,"Down Contribution"),ht(ze.healing,Yt.healing,o.healing,"Healing"),ht(ze.cleanses,Yt.cleanses,o.cleanses,"Cleanses"),ht(ze.strips,Yt.strips,o.strips,"Strips"),ht(ze.stab,Yt.stability,o.stability,"Stability"),ht(ze.cc,Yt.cc,o.cc,"CC"),ht(ze.revives,Yt.revives,o.revives,"Revives"),ht(lr(ze,"closestToTag"),Yt.closestToTag,o.distanceToTag,"Distance to Tag",!1),ht(ze.logsJoined,Yt.participation,o.participation,"Participation"),ht(ze.dodges,Yt.dodges,o.dodging,"Dodging"),ht(ze.dps,Yt.dps,o.dps,"DPS"),ht(ze.damage,Yt.damage,o.damage,"Damage"),K.push({...ze,score:Ce,contribs:ct.filter(Nt=>H(Nt.name))})}),K.sort((ze,Ce)=>Ce.score-ze.score),K[0]&&K[0].score>0&&(ma=fe(K[0])||ma),Cs=fe(K[1]),Oc=fe(K[2]),Sl=K.length>0?K.reduce((ze,Ce)=>ze+Ce.score,0)/K.length:0}const Ic=Object.values(M).sort((D,H)=>H.damage-D.damage||H.hits-D.hits||String(D.name||"").localeCompare(String(H.name||""))).slice(0,25),_c=Object.values(M).sort((D,H)=>H.downContribution-D.downContribution||H.hits-D.hits||String(D.name||"").localeCompare(String(H.name||""))).slice(0,25),Lc=m==="downContribution"?_c:Ic,$c=Object.values(O).sort((D,H)=>H.damage-D.damage).slice(0,25),Fc=D=>{const H=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),K=H.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return K?`${K[1]} Borderlands`:H||"Unknown"},Y=(D,H)=>Fc((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||(H==null?void 0:H.fightName)||(H==null?void 0:H.encounterName)||"Unknown"),ge=(D,H)=>{const K=(H==null?void 0:H.permalink)||(D==null?void 0:D.permalink);if(typeof K=="string"&&K.trim().length>0)return K.trim();const De=D==null?void 0:D.uploadLinks;if(!Array.isArray(De))return"";for(const fe of De){if(typeof fe=="string"&&fe.trim().length>0)return fe.trim();if(fe&&typeof fe=="object"){const ze=fe.permalink||fe.link||fe.url||fe.reportLink;if(typeof ze=="string"&&ze.trim().length>0)return ze.trim()}}return""},Se={};a.forEach(D=>{const H=Y(D==null?void 0:D.details,D);Se[H]=(Se[H]||0)+1});const lt=Object.entries(Se).map(([D,H])=>{const K=String(D).trim(),De=/eternal battlegrounds|^ebg$/i.test(K);let fe="#64748b";return De?fe="#ffffff":/red/i.test(K)?fe="#ef4444":/blue/i.test(K)?fe="#3b82f6":/green/i.test(K)&&(fe="#22c55e"),{name:D,value:H,color:fe}}).sort((D,H)=>H.value-D.value),{boonTables:It}=$6(a),Rt=a.map((D,H)=>{var De,fe;const K=((De=D.details)==null?void 0:De.players)||[];return{index:H+1,label:`Log ${H+1}`,timestamp:Li(D.details,D),squadCount:K.filter(ze=>!ze.notInSquad).length,friendlyCount:K.length,enemies:((fe=D.details)==null?void 0:fe.targets).filter(ze=>!ze.isFake).length}}).sort((D,H)=>D.timestamp-H.timestamp),tn={};Array.from(L.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(tn[D.profession]=(tn[D.profession]||0)+1)});const St=Object.entries(tn).map(([D,H])=>({name:D,value:H,color:ic(D)})).sort((D,H)=>H.value-D.value),ot={};Object.keys(ue).length===0&&a.forEach(D=>{var H,K;(K=(H=D.details)==null?void 0:H.targets)==null||K.forEach(De=>{if(De.isFake)return;const fe=De.profession&&De.profession!=="Unknown"?De.profession:De.name||De.id||"Unknown",ze=te(fe);ot[ze]=(ot[ze]||0)+1})});const yn=Object.keys(ue).length>0?ue:ot,Jr=Object.entries(yn).map(([D,H])=>({name:D,value:H,color:ic(D)})).sort((D,H)=>H.value-D.value),We=a.map((D,H)=>({log:D,originalIndex:H})).sort((D,H)=>Li(D.log.details,D.log)-Li(H.log.details,H.log)),_t=We.map(({log:D},H)=>{const K=D.details;if(!K)return null;const De=K.players||[],fe=De.filter(de=>!de.notInSquad),ze=De.filter(de=>de.notInSquad),ct=(K.targets||[]).filter(de=>!de.isFake),ht=fe.reduce((de,Ue)=>{var et,Le;return de+(((Le=(et=Ue.dpsAll)==null?void 0:et[0])==null?void 0:Le.damage)||0)},0),Nt=fe.reduce((de,Ue)=>{var et,Le;return de+(((Le=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Le.damageTaken)||0)},0),{enemyDeaths:Gt,enemyDownsDeaths:Vt}=j(K),wn=E(K),qe=Li(K,D),Ze=Y(K,D),at=de=>{if(!de||typeof de!="object")return;const Ue=de.teamID??de.teamId??de.team??de.teamColor??de.team_color;if(Ue!=null)return Ue;const et=Object.keys(de).find(Le=>/^team/i.test(Le));return et?de[et]:void 0},Mt=(de,Ue)=>{const et={};return de.forEach(Le=>{const Je=Ue(Le),Xt=te(Je);Xt&&(et[Xt]=(et[Xt]||0)+1)}),et},ut=Mt(fe,de=>(de==null?void 0:de.profession)||(de==null?void 0:de.name)),ve=Mt(ze,de=>(de==null?void 0:de.profession)||(de==null?void 0:de.name)),ye=Mt(ct,de=>(de==null?void 0:de.profession)||(de==null?void 0:de.name)||(de==null?void 0:de.id)),Be=new Set;fe.forEach(de=>{const Ue=at(de);Ue!=null&&Be.add(String(Ue))});const je=new Map;ct.forEach(de=>{if((de==null?void 0:de.enemyPlayer)===!1)return;const Ue=at(de);if(Ue==null)return;const et=String(Ue);Be.has(et)||je.set(et,(je.get(et)||0)+1)});const rt=Array.from(je.entries()).sort((de,Ue)=>{const et=Ue[1]-de[1];return et!==0?et:de[0].localeCompare(Ue[0],void 0,{numeric:!0})}).slice(0,3).map(([de,Ue])=>({teamId:de,count:Ue}));return{id:D.filePath||`fight-${H}`,label:D.encounterName||`Fight ${H+1}`,permalink:ge(K,D),timestamp:qe,mapName:Ze,duration:vh(K.durationMS),isWin:wn,squadCount:fe.length,allyCount:ze.length,enemyCount:ct.length,teamBreakdown:rt,alliesDown:fe.reduce((de,Ue)=>{var et,Le;return de+(((Le=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Le.downCount)||0)},0),alliesDead:fe.reduce((de,Ue)=>{var et,Le;return de+(((Le=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Le.deadCount)||0)},0),alliesRevived:fe.reduce((de,Ue)=>{var et,Le;return Number(((Le=(et=Ue.statsAll)==null?void 0:et[0])==null?void 0:Le.saved)||0)>0?de+1:de},0),rallies:0,enemyDeaths:Gt,enemyDowns:Math.max(0,Vt-Gt),totalOutgoingDamage:ht,totalIncomingDamage:Nt,incomingBarrierAbsorbed:fe.reduce((de,Ue)=>{var et,Le;return de+(((Le=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Le.damageBarrier)||0)},0),outgoingBarrierAbsorbed:fe.reduce((de,Ue)=>{var Je;const et=(Je=Ue.extBarrierStats)==null?void 0:Je.outgoingBarrier;if(!Array.isArray(et))return de;let Le=0;return et.forEach(Xt=>{if(Array.isArray(Xt)){Xt.forEach(Ln=>{Le+=Number((Ln==null?void 0:Ln.barrier)||0)});return}Le+=Number((Xt==null?void 0:Xt.barrier)||0)}),de+Le},0),squadClassCountsFight:ut,allyClassCountsFight:ve,enemyClassCounts:ye}}).filter(Boolean),rn=We.map(({log:D},H)=>{const K=D.details;if(!K)return null;const fe=(Array.isArray(K.players)?K.players:[]).filter(U=>!U.notInSquad),ze=Array.isArray(K.targets)?K.targets:[],Ce=Li(K,D),ct=Y(K,D),ht=Number(K.durationMS||0),{squadDownsDeaths:Nt,enemyDownsDeaths:Gt,squadDeaths:Vt,enemyDeaths:wn}=j(K),qe=new Map,Ze=(U,ce,Me)=>{const Ke=qe.get(U)||{label:U,damage:0,hits:0};Ke.damage+=ce,Ke.hits+=Me,qe.set(U,Ke)};if(fe.forEach(U=>{(Array.isArray(U==null?void 0:U.statsTargets)?U.statsTargets:[]).forEach((Me,Ke)=>{const Te=Array.isArray(Me)?Me[0]:Me,oe=Number((Te==null?void 0:Te.damage)??(Te==null?void 0:Te.totalDmg)??(Te==null?void 0:Te.connectedDmg)??0),Ie=Number((Te==null?void 0:Te.connectedHits)??(Te==null?void 0:Te.connectedDamageCount)??(Te==null?void 0:Te.hits)??0);if(oe<=0&&Ie<=0)return;const Ne=ze[Ke];if(Ne!=null&&Ne.isFake)return;const it=(Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.id)||`Target ${Ke+1}`,zt=te(it);Ze(zt||String(it),oe,Ie)})}),qe.size===0){const U=new Map,ce=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ke=Me[0];if(Array.isArray(Ke)&&Array.isArray(Ke[0])){if(typeof Ke[0][0]=="number")return Ke;if(Array.isArray(Ke[0])&&typeof Ke[0][0]=="number")return Me.map(Te=>Array.isArray(Te)?Te[0]||[]:[])}return[]};fe.forEach(Me=>{ce(Me==null?void 0:Me.targetDamage1S).forEach((Te,oe)=>{if(!Array.isArray(Te)||Te.length===0)return;const Ie=Te.map(it=>Number(it)).filter(it=>Number.isFinite(it)&&it>=0);if(Ie.length===0)return;const Ne=Math.max(0,Ie[Ie.length-1]||0);Ne<=0||U.set(oe,(U.get(oe)||0)+Ne)})}),U.forEach((Me,Ke)=>{if(Me<=0)return;const Te=ze[Ke];if(Te!=null&&Te.isFake)return;const oe=(Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id)||`Target ${Ke+1}`,Ie=te(oe);Ze(Ie||String(oe),Me,0)})}if(qe.size===0&&ze.forEach((U,ce)=>{if(U!=null&&U.isFake)return;const Me=Array.isArray(U==null?void 0:U.totalDamageTaken)?U.totalDamageTaken:Array.isArray(U==null?void 0:U.totalDamageDist)?U.totalDamageDist:[];let Ke=0,Te=0;if(Me.forEach(Ne=>{Ke+=Number((Ne==null?void 0:Ne.totalDamage)||(Ne==null?void 0:Ne.damage)||0),Te+=Number((Ne==null?void 0:Ne.connectedHits)||(Ne==null?void 0:Ne.hits)||0)}),Ke<=0&&Number((U==null?void 0:U.damageTaken)||0)>0&&(Ke=Number(U.damageTaken||0)),Ke<=0&&Te<=0)return;const oe=(U==null?void 0:U.profession)||(U==null?void 0:U.name)||(U==null?void 0:U.id)||`Target ${ce+1}`,Ie=te(oe);Ze(Ie||String(oe),Ke,Te)}),qe.size===0){const U=new Map;ze.forEach((ce,Me)=>{if(ce!=null&&ce.isFake)return;const Ke=(ce==null?void 0:ce.profession)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.id)||`Target ${Me+1}`,Te=te(Ke)||String(Ke);U.set(Te,(U.get(Te)||0)+1)}),U.forEach((ce,Me)=>{ce>0&&Ze(Me,ce,0)})}const at=Array.from(qe.values()).sort((U,ce)=>ce.damage-U.damage||ce.hits-U.hits||U.label.localeCompare(ce.label)),Mt=at.reduce((U,ce)=>U+ce.damage,0),ut=at.map(U=>({label:U.label,damage:U.damage,hits:U.hits,share:Mt>0?U.damage/Mt:0})),ve=ze.filter(U=>!(U!=null&&U.isFake)).length,ye=fe.length,Be=fe.reduce((U,ce)=>{var Me,Ke;return U+Number(((Ke=(Me=ce==null?void 0:ce.dpsAll)==null?void 0:Me[0])==null?void 0:Ke.damage)||0)},0),je=fe.reduce((U,ce)=>{var Me,Ke;return U+Number(((Ke=(Me=ce==null?void 0:ce.defenses)==null?void 0:Me[0])==null?void 0:Ke.damageTaken)||0)},0),rt=fe.reduce((U,ce)=>{var Me,Ke;return U+Number(((Ke=(Me=ce==null?void 0:ce.defenses)==null?void 0:Me[0])==null?void 0:Ke.damageBarrier)||0)},0),de=fe.reduce((U,ce)=>{var Te;const Me=(Te=ce==null?void 0:ce.extBarrierStats)==null?void 0:Te.outgoingBarrier;if(!Array.isArray(Me))return U;let Ke=0;return Me.forEach(oe=>{Array.isArray(oe)?oe.forEach(Ie=>{Ke+=Number((Ie==null?void 0:Ie.barrier)||0)}):Ke+=Number((oe==null?void 0:oe.barrier)||0)}),U+Ke},0),Ue=fe.reduce((U,ce)=>{var Me,Ke;return Number(((Ke=(Me=ce==null?void 0:ce.statsAll)==null?void 0:Me[0])==null?void 0:Ke.saved)||0)>0?U+1:U},0),et=fe.reduce((U,ce)=>U+Number(aC(ce)||0),0),Le=fe.reduce((U,ce)=>U+Number(sC(ce)||0),0),Je=fe.reduce((U,ce)=>U+Number((ce==null?void 0:ce.stabGeneration)||0),0),Xt=fe.reduce((U,ce)=>U+Number(lC(ce)||0),0),Ln=fe.reduce((U,ce)=>U+Number(cC(ce)||0),0),Nn=fe.reduce((U,ce)=>U+Number(uC(ce)||0),0),an=fe.reduce((U,ce)=>U+Number(oC(ce)||0),0),nn=Vt>0?wn/Vt:wn,ln=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:E(K)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:ye},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:ve},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:nn},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:wn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Gt-wn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Vt},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,Nt-Vt)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Be-je},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Be},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:je},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:et},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:Le},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:Je},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Xt},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:Ln},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:rt},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:de},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:Nn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:an},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Ue}];return{id:D.filePath||D.id||`fight-${H+1}`,shortLabel:`F${H+1}`,fullLabel:`${ct||D.encounterName||"Unknown Map"}  ${vh(ht)}`,mapName:ct,timestamp:Ce,duration:vh(ht),isWin:E(K),targetFocus:ut,squadMetrics:ln}}).filter(Boolean),dn=Array.from(L.values()).map(D=>{const H=Object.entries(D.professionTimeMs||{}).map(([K,De])=>({profession:K,timeMs:Number(De||0)})).filter(K=>K.profession&&K.profession!=="Unknown"&&K.timeMs>0).sort((K,De)=>{const fe=De.timeMs-K.timeMs;return fe!==0?fe:K.profession.localeCompare(De.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((K,De)=>K.localeCompare(De)),classTimes:H,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const K=Number(D.firstSeenFightTs||0),De=Number(D.lastSeenFightTs||0),fe=Math.max(0,Number(D.lastSeenFightDurationMs||0));return K>0&&De>0?Math.max(0,De+fe-K):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,H)=>{const K=H.squadTimeMs-D.squadTimeMs;return K!==0?K:String(D.account).localeCompare(String(H.account))}),_n=a.map(D=>D).sort((D,H)=>Li(D.details,D)-Li(H.details,H)).map((D,H)=>{const K=D==null?void 0:D.details,De=Array.isArray(K==null?void 0:K.players)?K.players.filter(Ce=>!(Ce!=null&&Ce.notInSquad)):[],fe=new Map;De.forEach(Ce=>{const ct=Number(Ce==null?void 0:Ce.group),ht=Number.isFinite(ct)&&ct>0?ct:0;fe.has(ht)||fe.set(ht,{party:ht,players:[],classCounts:{}});const Nt=te((Ce==null?void 0:Ce.profession)||(Ce==null?void 0:Ce.name)||"Unknown"),Gt=String((Ce==null?void 0:Ce.account)||"Unknown"),Vt=String((Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.character_name)||""),wn=!!(Ce!=null&&Ce.hasCommanderTag),qe=fe.get(ht);qe.players.push({account:Gt,characterName:Vt,profession:Nt,isCommander:wn}),qe.classCounts[Nt]=(qe.classCounts[Nt]||0)+1});const ze=Array.from(fe.values()).map(Ce=>({...Ce,players:Ce.players.sort((ct,ht)=>{const Nt=+!!ht.isCommander-+!!ct.isCommander;if(Nt!==0)return Nt;const Gt=String(ct.profession).localeCompare(String(ht.profession));return Gt!==0?Gt:String(ct.account).localeCompare(String(ht.account))})})).sort((Ce,ct)=>Ce.party===0&&ct.party!==0?1:ct.party===0&&Ce.party!==0?-1:Ce.party-ct.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${H+1}`),label:`F${H+1}`,timestamp:Li(K,D),mapName:Y(K,D),duration:vh(Number((K==null?void 0:K.durationMS)||0)),parties:ze}}),oi=(D,H)=>{const K=(H==null?void 0:H.skillMap)||{},De=(H==null?void 0:H.buffMap)||{};let fe=0,ze="";const Ce=Nt=>{const Gt=Number(Nt);if(!Number.isFinite(Gt))return String(Nt||"Unknown Skill");const Vt=(K==null?void 0:K[`s${Gt}`])||(K==null?void 0:K[`${Gt}`]);if(Vt!=null&&Vt.name)return String(Vt.name);const wn=(De==null?void 0:De[`b${Gt}`])||(De==null?void 0:De[`${Gt}`]);return wn!=null&&wn.name?String(wn.name):`Skill ${Gt}`},ct=Nt=>{if(!Nt||typeof Nt!="object")return;const Gt=[Number(Nt.max),Number(Nt.maxDamage),Number(Nt.maxHit)].filter(wn=>Number.isFinite(wn)),Vt=Gt.length>0?Math.max(...Gt):0;Vt>fe&&(fe=Vt,ze=Ce(Nt.id))};let ht=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(Nt=>{Array.isArray(Nt)&&Nt.forEach(Gt=>{Array.isArray(Gt)&&Gt.forEach(Vt=>{ht=!0,ct(Vt)})})}),(!ht||fe<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(Nt=>{Array.isArray(Nt)&&Nt.forEach(Gt=>ct(Gt))}),{peak:fe,skillName:ze||"Unknown Skill"}},jn=(()=>{const D=qe=>String(qe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=qe=>D(qe).toLowerCase().split(/[^a-z0-9]+/i).map(Ze=>Ze.trim()).filter(Boolean).map(Ze=>Ze.length>3&&Ze.endsWith("s")?Ze.slice(0,-1):Ze),K=(qe,Ze)=>{const at=D(qe),Mt=D(Ze);if(!Mt)return at;if(!at)return Mt;const ut=H(at),ve=H(Mt),ye=new Set(ut),Be=new Set(ve),je=ve.length>0&&ve.every(de=>ye.has(de)),rt=ut.length>0&&ut.every(de=>Be.has(de));return je||rt?at:`${at} - ${Mt}`},De=[],fe=new Map,ze=qe=>{const Ze=je=>{if(!Array.isArray(je)||je.length===0)return[];const rt=[];for(let de=0;de<je.length;de+=1){const Ue=Number(je[de]||0),et=de>0?Number(je[de-1]||0):0;rt.push(Math.max(0,Ue-et))}return rt},at=je=>{if(!Array.isArray(je))return[];const rt=je.reduce((Ue,et)=>Math.max(Ue,Array.isArray(et)?et.length:0),0);if(rt<=0)return[];const de=new Array(rt).fill(0);return je.forEach(Ue=>{if(Array.isArray(Ue))for(let et=0;et<rt;et+=1)de[et]+=Number(Ue[et]||0)}),de},Mt=je=>Array.isArray(je)?je.map(rt=>Number(rt||0)):null,ve=(je=>{if(!Array.isArray(je)||je.length===0)return null;const rt=je[0];if(!Array.isArray(rt))return null;if(Array.isArray(rt[0])&&Array.isArray(rt[0][0]))return at(rt);if(Array.isArray(rt[0])&&!Array.isArray(rt[0][0])){const de=je.map(Ue=>Mt(Array.isArray(Ue)?Ue[0]:null)).filter(Ue=>Array.isArray(Ue)&&Ue.length>0);if(de.length>0)return at(de)}return null})(qe==null?void 0:qe.targetDamage1S),ye=Array.isArray(qe==null?void 0:qe.damage1S)&&Array.isArray(qe.damage1S[0])?qe.damage1S[0]:null,Be=ve||(Array.isArray(ye)?ye.map(je=>Number(je||0)):[]);return Ze(Be)},Ce=(qe,Ze)=>{if(!Array.isArray(qe)||qe.length===0||Ze<=0)return 0;let at=0,Mt=0;for(let ut=0;ut<qe.length;ut+=1)at+=Number(qe[ut]||0),ut>=Ze&&(at-=Number(qe[ut-Ze]||0)),ut>=Ze-1&&at>Mt&&(Mt=at);return Math.max(0,Mt)},ct=(qe,Ze)=>{if(!Array.isArray(qe)||qe.length===0||Ze<=0)return[];const at=[];for(let Mt=0;Mt<qe.length;Mt+=Ze){const ut=Math.min(Mt+Ze,qe.length),ve=qe.slice(Mt,ut).reduce((ye,Be)=>ye+Number(Be||0),0);at.push(ve)}return at},ht=(qe,Ze)=>{const at=Number(qe);if(!Number.isFinite(at))return{name:String(qe||"Unknown Skill"),icon:void 0};const Mt=(Ze==null?void 0:Ze.skillMap)||{},ut=(Ze==null?void 0:Ze.buffMap)||{},ve=(Mt==null?void 0:Mt[`s${at}`])||(Mt==null?void 0:Mt[`${at}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const ye=(ut==null?void 0:ut[`b${at}`])||(ut==null?void 0:ut[`${at}`]);return ye!=null&&ye.name?{name:String(ye.name),icon:ye==null?void 0:ye.icon}:{name:`Skill ${at}`,icon:void 0}},Nt=qe=>Array.isArray(qe)?qe.map(Ze=>Array.isArray(Ze)?[Number(Ze[0]),Number(Ze[1])]:Ze&&typeof Ze=="object"?[Number(Ze.time),Number(Ze.value)]:null).filter(Ze=>!!Ze&&Number.isFinite(Ze[0])&&Ze[0]>=0):[],Gt=(qe,Ze,at,Mt,ut)=>{if(!qe.length||Mt<=0)return[];const ve=Math.max(Mt*5e3,ut||0),ye=Je=>Je.reduce((Xt,Ln)=>Ln>=0&&Ln<=ve+2e3?Xt+1:Xt,0),Be=qe.map(Je=>Number(Je||0)).filter(Je=>Number.isFinite(Je)&&Je>=0);if(!Be.length)return[];const je=[Be],rt=Be.reduce((Je,Xt)=>Math.max(Je,Xt),0),de=Be.reduce((Je,Xt)=>Math.min(Je,Xt),Number.POSITIVE_INFINITY);rt>ve*20&&je.push(Be.map(Je=>Je/1e3)),rt<=ve*2&&de>=0&&rt>0&&rt<Math.max(120,Mt*5+10)&&je.push(Be.map(Je=>Je*1e3));let Ue=Be,et=0,Le=-1;return je.forEach(Je=>{const Xt=Je.reduce((Nn,an)=>Math.min(Nn,an),Number.POSITIVE_INFINITY),Ln=new Set([0,...Ze,...at]);if(Number.isFinite(Xt)&&ve>0&&Xt>ve){const Nn=Math.floor(Xt/ve)*ve;Ln.add(Nn),Ln.add(Math.max(0,Nn-ve))}Ln.forEach(Nn=>{const an=Je.map(ln=>ln-Nn),nn=ye(an);nn>Le&&(Le=nn,et=Nn,Ue=Je)})}),Ue.map(Je=>Je-et).filter(Je=>Number.isFinite(Je)&&Je>=0)},Vt=(qe,Ze,at,Mt,ut)=>{const ve=Gt(qe,Ze,at,Mt,ut);return Array.from(new Set(ve.map(ye=>Math.floor(ye/5e3)).filter(ye=>Number.isFinite(ye)&&ye>=0&&ye<Mt)))};a.map(qe=>({log:qe,ts:Li(qe==null?void 0:qe.details,qe)})).sort((qe,Ze)=>qe.ts-Ze.ts).forEach(({log:qe},Ze)=>{const at=qe==null?void 0:qe.details;if(!at)return;const Mt=D(at.fightName||qe.fightName||`Fight ${Ze+1}`),ut=Y(at,qe),ve=K(Mt,String(ut||"")),ye={},Be=Array.isArray(at.players)?at.players:[],je=Be.flatMap(Le=>{const Je=Le==null?void 0:Le.combatReplayData;return Array.isArray(Je)?Je.map(Xt=>Number(Xt==null?void 0:Xt.start)):[Number(Je==null?void 0:Je.start)]}).filter(Le=>Number.isFinite(Le)&&Le>=0);Be.forEach(Le=>{if(Le!=null&&Le.notInSquad)return;const Je=String((Le==null?void 0:Le.account)||(Le==null?void 0:Le.name)||"Unknown"),Xt=String((Le==null?void 0:Le.character_name)||(Le==null?void 0:Le.display_name)||(Le==null?void 0:Le.name)||""),Ln=String((Le==null?void 0:Le.profession)||"Unknown"),Nn=`${Je}|${Ln}`,an=oi(Le,at),nn=Number(an.peak||0),ln=ze(Le),U=Number(Ce(ln,1)||0),ce=Number(Ce(ln,5)||0),Me=Number(Ce(ln,30)||0),Ke=Math.max(0,Math.ceil(Number((at==null?void 0:at.durationMS)||0)/5e3)),Te=Math.max(0,Math.ceil(ln.length/5)),oe=Math.max(Ke,Te),Ie=ct(ln,5),Ne=Array.from({length:oe},($e,st)=>Number(Ie[st]||0)),it=new Map,zt=$e=>{if(!$e||typeof $e!="object"||$e.indirectDamage)return;const st=Number($e.totalDamage||0);if(!Number.isFinite(st)||st<=0)return;const pt=Number($e.connectedHits||$e.hits||0),jt=ht($e.id,at),mn=jt.name,An=it.get(mn)||{skillName:mn,damage:0,hits:0,icon:jt.icon};An.damage+=st,An.hits+=Number.isFinite(pt)?pt:0,!An.icon&&jt.icon&&(An.icon=jt.icon),it.set(mn,An)},Lt=new Map;Array.isArray(Le==null?void 0:Le.targetDamageDist)&&Le.targetDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(st=>{Array.isArray(st)&&st.forEach(pt=>{const jt=Number(pt==null?void 0:pt.id),mn=Number((pt==null?void 0:pt.totalDamage)||0);if(Number.isFinite(jt)){const An=Lt.get(jt)||{damage:0,hits:0};An.damage+=Number.isFinite(mn)?mn:0,An.hits+=Number((pt==null?void 0:pt.connectedHits)||(pt==null?void 0:pt.hits)||0),Lt.set(jt,An)}zt(pt)})})}),!(at!=null&&at.detailedWvW)&&Array.isArray(Le==null?void 0:Le.totalDamageDist)&&Le.totalDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(st=>{const pt=Number(st==null?void 0:st.id);if(!Number.isFinite(pt)){zt(st);return}const jt=Lt.get(pt);if(!jt){zt(st);return}const mn=Number((st==null?void 0:st.totalDamage)||0),An=Number((st==null?void 0:st.connectedHits)||(st==null?void 0:st.hits)||0),zn=mn-Number(jt.damage||0),_r=An-Number(jt.hits||0);zn<=0&&_r<=0||zt({...st,totalDamage:Math.max(0,zn),connectedHits:Math.max(0,_r),hits:Math.max(0,_r)})})});const Dt=(()=>{const $e=Le==null?void 0:Le.combatReplayData;return Array.isArray($e)?$e.filter(st=>st&&typeof st=="object"):$e&&typeof $e=="object"?[$e]:[]})(),Ut=Dt.map($e=>Number($e==null?void 0:$e.start)).filter($e=>Number.isFinite($e)&&$e>=0),Kt=Dt.flatMap($e=>Nt($e==null?void 0:$e.down).map(([st])=>Number(st||0))),Ct=Dt.flatMap($e=>Nt($e==null?void 0:$e.dead).map(([st])=>Number(st||0)));ye[Nn]={hit:nn,burst1s:U,burst5s:ce,burst30s:Me,skillName:an.skillName,buckets5s:Ne,downIndices5s:Vt(Kt,Ut,je,oe,Number((at==null?void 0:at.durationMS)||0)),deathIndices5s:Vt(Ct,Ut,je,oe,Number((at==null?void 0:at.durationMS)||0)),skillRows:Array.from(it.values()).sort(($e,st)=>st.damage-$e.damage).slice(0,50)};const Et=fe.get(Nn)||{key:Nn,account:Je,displayName:Je,characterName:Xt,profession:Ln,professionList:[Ln],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Et.logs+=1,Et.professionList.includes(Ln)||Et.professionList.push(Ln),!Et.characterName&&Xt&&(Et.characterName=Xt),nn>Et.peakHit&&(Et.peakHit=nn,Et.peakFightLabel=ve,Et.peakSkillName=an.skillName),U>Et.peak1s&&(Et.peak1s=U),ce>Et.peak5s&&(Et.peak5s=ce),Me>Et.peak30s&&(Et.peak30s=Me),fe.set(Nn,Et)});const rt=Object.values(ye).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.hit)||0)),0),de=Object.values(ye).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.burst1s)||0)),0),Ue=Object.values(ye).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.burst5s)||0)),0),et=Object.values(ye).reduce((Le,Je)=>Math.max(Le,Number((Je==null?void 0:Je.burst30s)||0)),0);De.push({id:qe.filePath||qe.id||`fight-${Ze+1}`,shortLabel:`F${Ze+1}`,fullLabel:ve,timestamp:Li(at,qe),values:ye,maxHit:rt,max1s:de,max5s:Ue,max30s:et})});const wn=Array.from(fe.values()).sort((qe,Ze)=>Ze.peakHit!==qe.peakHit?Ze.peakHit-qe.peakHit:qe.displayName.localeCompare(Ze.displayName));return{fights:De,players:wn}})(),xi=(()=>{const D=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=ve=>D(ve).toLowerCase().split(/[^a-z0-9]+/i).map(ye=>ye.trim()).filter(Boolean).map(ye=>ye.length>3&&ye.endsWith("s")?ye.slice(0,-1):ye),K=(ve,ye)=>{const Be=D(ve),je=D(ye);if(!je)return Be;if(!Be)return je;const rt=H(Be),de=H(je),Ue=new Set(rt),et=new Set(de),Le=de.length>0&&de.every(Xt=>Ue.has(Xt)),Je=rt.length>0&&rt.every(Xt=>et.has(Xt));return Le||Je?Be:`${Be} - ${je}`},De=[],fe=new Map,ze=(ve,ye)=>{const Be=Number(ve);if(!Number.isFinite(Be))return{name:String(ve||"Unknown Skill"),icon:void 0};const je=(ye==null?void 0:ye.skillMap)||{},rt=(ye==null?void 0:ye.buffMap)||{},de=(je==null?void 0:je[`s${Be}`])||(je==null?void 0:je[`${Be}`]);if(de!=null&&de.name)return{name:String(de.name),icon:de==null?void 0:de.icon};const Ue=(rt==null?void 0:rt[`b${Be}`])||(rt==null?void 0:rt[`${Be}`]);return Ue!=null&&Ue.name?{name:String(Ue.name),icon:Ue==null?void 0:Ue.icon}:{name:`Skill ${Be}`,icon:void 0}},Ce=(ve,ye)=>{let Be=0,je="";const rt=de=>{if(!de||typeof de!="object"||de.indirectDamage)return;const Ue=[Number(de.max),Number(de.maxDamage),Number(de.maxHit)].filter(Le=>Number.isFinite(Le)),et=Ue.length>0?Math.max(...Ue):0;et>Be&&(Be=et,je=ze(de.id,ye).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(de=>{Array.isArray(de)&&de.forEach(Ue=>rt(Ue))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(de=>{Array.isArray(de)&&de.forEach(Ue=>{Array.isArray(Ue)&&Ue.forEach(et=>rt(et))})}),{peak:Be,skillName:je||"Unknown Skill"}},ct=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=[];for(let Be=0;Be<ve.length;Be+=1){const je=Number(ve[Be]||0),rt=Be>0?Number(ve[Be-1]||0):0;ye.push(Math.max(0,je-rt))}return ye},ht=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=ve.reduce((je,rt)=>Math.max(je,Array.isArray(rt)?rt.length:0),0);if(ye<=0)return[];const Be=new Array(ye).fill(0);return ve.forEach(je=>{if(Array.isArray(je))for(let rt=0;rt<ye;rt+=1)Be[rt]+=Number(je[rt]||0)}),Be},Nt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const ye=ve[0];if(typeof ye=="number")return ve.map(Be=>Number(Be||0));if(Array.isArray(ye)&&ye.length>0){if(typeof ye[0]=="number")return ye.map(Be=>Number(Be||0));if(Array.isArray(ye[0])){const Be=ye.map(je=>Array.isArray(je)?je.map(rt=>Number(rt||0)):null).filter(je=>Array.isArray(je)&&je.length>0);if(Be.length>0)return ht(Be)}}return[]},Gt=ve=>{const ye=Nt(ve==null?void 0:ve.powerDamage1S),Be=Nt(ve==null?void 0:ve.damage1S),je=ye.length>0?ye:Be;return ct(je)},Vt=(ve,ye)=>{const Be=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(Be)||!Array.isArray(Be[ye]))return[];const je=Be[ye];if(!Array.isArray(je)||je.length===0)return[];if(typeof je[0]=="number")return je.map(rt=>Number(rt||0));if(Array.isArray(je[0])&&!Array.isArray(je[0][0]))return je[0].map(rt=>Number(rt||0));if(Array.isArray(je[0])&&Array.isArray(je[0][0])){const de=je[0].map(Ue=>Array.isArray(Ue)?Ue.map(et=>Number(et||0)):null).filter(Ue=>Array.isArray(Ue)&&Ue.length>0);return ht(de)}return[]},wn=(ve,ye)=>{if(!Array.isArray(ve)||ve.length===0||ye<=0)return 0;let Be=0,je=0;for(let rt=0;rt<ve.length;rt+=1)Be+=Number(ve[rt]||0),rt>=ye&&(Be-=Number(ve[rt-ye]||0)),rt>=ye-1&&Be>je&&(je=Be);return Math.max(0,je)},qe=(ve,ye)=>{if(!Array.isArray(ve)||ve.length===0||ye<=0)return[];const Be=[];for(let je=0;je<ve.length;je+=ye){const rt=Math.min(je+ye,ve.length),de=ve.slice(je,rt).reduce((Ue,et)=>Ue+Number(et||0),0);Be.push(de)}return Be},Ze=ve=>Array.isArray(ve)?ve.map(ye=>Array.isArray(ye)?[Number(ye[0]),Number(ye[1])]:ye&&typeof ye=="object"?[Number(ye.time),Number(ye.value)]:null).filter(ye=>!!ye&&Number.isFinite(ye[0])&&ye[0]>=0):[],at=(ve,ye,Be,je,rt)=>{if(!ve.length||je<=0)return[];const de=Math.max(je*5e3,rt||0),Ue=nn=>nn.reduce((ln,U)=>U>=0&&U<=de+2e3?ln+1:ln,0),et=ve.map(nn=>Number(nn||0)).filter(nn=>Number.isFinite(nn)&&nn>=0);if(!et.length)return[];const Le=[et],Je=et.reduce((nn,ln)=>Math.max(nn,ln),0),Xt=et.reduce((nn,ln)=>Math.min(nn,ln),Number.POSITIVE_INFINITY);Je>de*20&&Le.push(et.map(nn=>nn/1e3)),Je<=de*2&&Xt>=0&&Je>0&&Je<Math.max(120,je*5+10)&&Le.push(et.map(nn=>nn*1e3));let Ln=et,Nn=0,an=-1;return Le.forEach(nn=>{const ln=nn.reduce((ce,Me)=>Math.min(ce,Me),Number.POSITIVE_INFINITY),U=new Set([0,...ye,...Be]);if(Number.isFinite(ln)&&de>0&&ln>de){const ce=Math.floor(ln/de)*de;U.add(ce),U.add(Math.max(0,ce-de))}U.forEach(ce=>{const Me=nn.map(Te=>Te-ce),Ke=Ue(Me);Ke>an&&(an=Ke,Nn=ce,Ln=nn)})}),Ln.map(nn=>nn-Nn).filter(nn=>Number.isFinite(nn)&&nn>=0)},Mt=(ve,ye,Be,je,rt)=>{const de=at(ve,ye,Be,je,rt);return Array.from(new Set(de.map(Ue=>Math.floor(Ue/5e3)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0&&Ue<je)))};a.map(ve=>({log:ve,ts:Li(ve==null?void 0:ve.details,ve)})).sort((ve,ye)=>ve.ts-ye.ts).forEach(({log:ve},ye)=>{const Be=ve==null?void 0:ve.details;if(!Be)return;const je=D(Be.fightName||ve.fightName||`Fight ${ye+1}`),rt=Y(Be,ve),de=K(je,String(rt||"")),Ue={},Le=(Array.isArray(Be.players)?Be.players:[]).filter(oe=>!(oe!=null&&oe.notInSquad)),Je=Le.flatMap(oe=>{const Ie=oe==null?void 0:oe.combatReplayData;return Array.isArray(Ie)?Ie.map(Ne=>Number(Ne==null?void 0:Ne.start)):[Number(Ie==null?void 0:Ie.start)]}).filter(oe=>Number.isFinite(oe)&&oe>=0),Xt=Le.flatMap(oe=>{const Ie=oe==null?void 0:oe.combatReplayData;return(Array.isArray(Ie)?Ie:Ie?[Ie]:[]).flatMap(it=>Ze(it==null?void 0:it.down).map(([zt])=>Number(zt||0)))}),Ln=Le.flatMap(oe=>{const Ie=oe==null?void 0:oe.combatReplayData;return(Array.isArray(Ie)?Ie:Ie?[Ie]:[]).flatMap(it=>Ze(it==null?void 0:it.dead).map(([zt])=>Number(zt||0)))}),Nn=new Map,an=new Map,nn=new Map;(Array.isArray(Be.targets)?Be.targets:[]).forEach((oe,Ie)=>{if(!oe||oe.isFake||!oe.enemyPlayer)return;const Ne=te((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id))||"Unknown";nn.set(Ne,(nn.get(Ne)||0)+1);const it=an.get(Ne)||new Map;Array.isArray(oe==null?void 0:oe.totalDamageDist)&&oe.totalDamageDist.forEach(Kt=>{Array.isArray(Kt)&&Kt.forEach(Ct=>{if(!Ct||typeof Ct!="object"||Ct.indirectDamage)return;const Et=Number(Ct.totalDamage||0);if(!Number.isFinite(Et)||Et<=0)return;const $e=Number(Ct.connectedHits||Ct.hits||0),st=ze(Ct.id,Be),pt=st.name,jt=it.get(pt)||{skillName:pt,damage:0,hits:0,icon:st.icon};jt.damage+=Et,jt.hits+=Number.isFinite($e)?$e:0,!jt.icon&&st.icon&&(jt.icon=st.icon),it.set(pt,jt)})}),an.set(Ne,it);const zt=ht(Le.map(Kt=>Vt(Kt,Ie))),Lt=zt.length>0?ct(zt):Gt(oe),mt=Ce(oe,Be);let Dt=Nn.get(Ne);Dt||(Dt={perSecond:[],hit:0,skillName:""},Nn.set(Ne,Dt)),Lt.length>Dt.perSecond.length&&(Dt.perSecond.length=Lt.length);for(let Kt=0;Kt<Lt.length;Kt+=1)Dt.perSecond[Kt]=Number(Dt.perSecond[Kt]||0)+Number(Lt[Kt]||0);const Ut=Number(mt.peak||0);Ut>Dt.hit&&(Dt.hit=Ut,Dt.skillName=mt.skillName||"Unknown Skill")});const U=Array.from(Nn.values()).some(oe=>Array.isArray(oe.perSecond)&&oe.perSecond.some(Ie=>Number(Ie||0)>0));if(Nn.size===0||!U){const oe=ht(Le.map(Ne=>{const it=Nt(Ne==null?void 0:Ne.powerDamageTaken1S);return ct(it)})),Ie=Array.from(nn.values()).reduce((Ne,it)=>Ne+Number(it||0),0);oe.length>0&&Ie>0&&nn.forEach((Ne,it)=>{const zt=Number(Ne||0)/Ie,Lt=oe.map(Dt=>Number(Dt||0)*zt),mt=Nn.get(it);Nn.set(it,{perSecond:Lt,hit:Number((mt==null?void 0:mt.hit)||0),skillName:String((mt==null?void 0:mt.skillName)||"")})})}Nn.forEach((oe,Ie)=>{var st;const Ne=Ie,it=Number(oe.hit||0),zt=Number(wn(oe.perSecond,1)||0),Lt=Number(wn(oe.perSecond,5)||0),mt=Number(wn(oe.perSecond,30)||0),Dt=Math.max(0,Math.ceil(Number((Be==null?void 0:Be.durationMS)||0)/5e3)),Ut=Math.max(0,Math.ceil(oe.perSecond.length/5)),Kt=Math.max(Dt,Ut),Ct=qe(oe.perSecond,5),Et=Array.from({length:Kt},(pt,jt)=>Number(Ct[jt]||0));Ue[Ne]={hit:it,burst1s:zt,burst5s:Lt,burst30s:mt,skillName:oe.skillName||"Unknown Skill",buckets5s:Et,downIndices5s:Mt(Xt,[],Je,Kt,Number((Be==null?void 0:Be.durationMS)||0)),deathIndices5s:Mt(Ln,[],Je,Kt,Number((Be==null?void 0:Be.durationMS)||0)),skillRows:Array.from(((st=an.get(Ie))==null?void 0:st.values())||[]).sort((pt,jt)=>jt.damage-pt.damage).slice(0,50)};const $e=fe.get(Ne)||{key:Ne,account:Ie,displayName:Ie,characterName:"",profession:Ie,professionList:[Ie],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};$e.logs+=1,it>$e.peakHit&&($e.peakHit=it,$e.peakFightLabel=de,$e.peakSkillName=oe.skillName||"Unknown Skill"),zt>$e.peak1s&&($e.peak1s=zt),Lt>$e.peak5s&&($e.peak5s=Lt),mt>$e.peak30s&&($e.peak30s=mt),fe.set(Ne,$e)});const ce=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.hit)||0)),0),Me=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.burst1s)||0)),0),Ke=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.burst5s)||0)),0),Te=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.burst30s)||0)),0);De.push({id:ve.filePath||ve.id||`fight-${ye+1}`,shortLabel:`F${ye+1}`,fullLabel:de,timestamp:Li(Be,ve),values:Ue,maxHit:ce,max1s:Me,max5s:Ke,max30s:Te})});const ut=Array.from(fe.values()).sort((ve,ye)=>ye.peakHit!==ve.peakHit?ye.peakHit-ve.peakHit:ve.displayName.localeCompare(ye.displayName));return{fights:De,players:ut}})(),Nl=Array.from(G.entries()).map(([D,H])=>{const K=Q.get(D)||{},De=Array.from(H.values()).map(fe=>{var wn,qe;const ze=Array.from(fe.professions||[]).filter(Ze=>Ze&&Ze!=="Unknown");let Ce=fe.profession||"Unknown";if(ze.length>0){Ce=ze[0];let Ze=((wn=fe.professionTimeMs)==null?void 0:wn[Ce])||0;ze.forEach(at=>{var ut;const Mt=((ut=fe.professionTimeMs)==null?void 0:ut[at])||0;Mt>Ze&&(Ze=Mt,Ce=at)})}const ct=fe.durationMs||0,ht=fe.totalMs/1e3,Nt=ct>0?fe.totalMs/ct:0,Gt=((qe=L.get(fe.account))==null?void 0:qe.supportActiveMs)||ct,Vt=Gt>0?fe.uptimeMs/Gt:0;return{account:fe.account,profession:Ce,professionList:ze,total:ht,perSecond:Nt,uptimePerSecond:Vt,duration:ct/1e3}}).filter(fe=>fe.total>0||fe.perSecond>0);return{id:D,name:K.name||D,icon:K.icon,rows:De}}).filter(D=>D.rows.length>0),Tx=Array.from(Z.values()).map(D=>{const H=Array.from(D.skills.values()).sort((De,fe)=>fe.damage-De.damage),K=H.reduce((De,fe)=>(De[fe.id]=fe,De),{});return{key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:H,skillMap:K}}).sort((D,H)=>D.displayName.localeCompare(H.displayName));return{total:p,wins:g,losses:y,avgSquadSize:xe,avgEnemies:_e,squadKDR:kt,enemyKDR:Zt,totalSquadKills:k,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:Yt,...Gi,outgoingConditionSummary:Object.values(ee).sort((D,H)=>H.damage-D.damage),incomingConditionSummary:Object.values(ae).sort((D,H)=>H.damage-D.damage),outgoingConditionPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:Lc,topIncomingSkills:$c,topSkillsByDamage:Ic,topSkillsByDownContribution:_c,playerSkillBreakdowns:Tx,topSkillsMetric:m,mapData:lt,timelineData:Rt,boonTables:It,offensePlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs,minionDamageTakenByMinion:D.defenseMinionDamageTaken})),damageMitigationPlayers:gi,damageMitigationMinions:fa,supportPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from(L.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:ma,silver:Cs,bronze:Oc,squadClassData:St,enemyClassData:Jr,fightBreakdown:_t,fightDiffMode:rn,attendanceData:dn,squadCompByFight:_n,spikeDamage:jn,incomingStrikeDamage:xi,specialTables:Nl,topStatsPerSecond:Ei,topStatsLeaderboardsPerSecond:Ir,avgMvpScore:Sl}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(x=>{const b=x.details;if(!b)return;const w=b.skillMap||{},k=b.fightName||"Log",C=Li(b,x)||Date.now(),N={id:x.filePath||x.id||k,label:k,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(E=>{if(E.notInSquad)return;const L=E.account||E.name||"Unknown",P=E.profession||"Unknown",M=`${L}|${P}`;let O=h.get(M);O||(O={key:M,account:L,displayName:L,profession:P,professionList:[P],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(M,O)),O.logs++;const Z=(Array.isArray(E.activeTimes)?E.activeTimes[0]:0)/1e3;O.totalActiveSeconds=(O.totalActiveSeconds||0)+Z,N.playerActiveSeconds[M]=Z,(E.rotation||[]).forEach(ee=>{var _,T,A;if(!(ee!=null&&ee.id))return;const ae=((_=ee.skills)==null?void 0:_.length)||0;if(ae<=0)return;const ue=`s${ee.id}`,Q=((T=w[ue])==null?void 0:T.name)||`Skill ${ee.id}`,G=(A=w[ue])==null?void 0:A.icon;O.skillTotals[ue]=(O.skillTotals[ue]||0)+ae,f.set(ue,(f.get(ue)||0)+ae),p.set(ue,Q),G&&!g.has(ue)&&g.set(ue,G),N.skillEntries[ue]||(N.skillEntries[ue]={name:Q,icon:G,players:{}}),!N.skillEntries[ue].icon&&G&&(N.skillEntries[ue].icon=G),N.skillEntries[ue].players[M]=(N.skillEntries[ue].players[M]||0)+ae})}),m.push(N)});const y=Array.from(f.entries()).map(([x,b])=>({id:x,name:p.get(x)||x,total:b,icon:g.get(x)})).sort((x,b)=>b.total-x.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},iU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const g=new Set;let y=null,x=null;e.forEach(P=>{const M=P.details;if(!M)return;const O=M.timeStartStd||M.timeStart||M.uploadTime||P.uploadTime,Z=M.timeEndStd||M.timeEnd||M.uploadTime||P.uploadTime,ee=O?new Date(O):null,ae=Z?new Date(Z):null;ee&&!Number.isNaN(ee.getTime())&&(!y||ee<y)&&(y=ee),ae&&!Number.isNaN(ae.getTime())&&(!x||ae>x)&&(x=ae),(M.players||[]).forEach(Q=>{if(!(Q!=null&&Q.notInSquad)&&Q!=null&&Q.hasCommanderTag){const G=(Q==null?void 0:Q.name)||(Q==null?void 0:Q.account)||"Unknown";g.add(G)}})});const b=Array.from(g).sort((P,M)=>P.localeCompare(M)),w=y||new Date,k=x||w,C=w.toISOString(),N=k.toISOString(),j=`${w.toLocaleString()} - ${k.toLocaleString()}`,E=P=>String(P).padStart(2,"0");return{id:`${w.getFullYear()}${E(w.getMonth()+1)}${E(w.getDate())}-${E(w.getHours())}${E(w.getMinutes())}${E(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:C,dateEnd:N,dateLabel:j,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=Ud({logs:e,statsViewSettings:r}),b=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...g,fightDiffMode:b}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),b=await window.electronAPI.mockWebReport({meta:y,stats:x});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function aU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const sU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function al(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Gc=null;function MO(e={}){return Gc||(e.includeStyleProperties?(Gc=e.includeStyleProperties,Gc):(Gc=al(window.getComputedStyle(document.documentElement)),Gc))}function Up(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function oU(e){const t=Up(e,"border-left-width"),n=Up(e,"border-right-width");return e.clientWidth+t+n}function lU(e){const t=Up(e,"border-top-width"),n=Up(e,"border-bottom-width");return e.clientHeight+t+n}function OO(e,t={}){const n=t.width||oU(e),r=t.height||lU(e);return{width:n,height:r}}function cU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ga=16384;function uU(e){(e.width>ga||e.height>ga)&&(e.width>ga&&e.height>ga?e.width>e.height?(e.height*=ga/e.width,e.width=ga):(e.width*=ga/e.height,e.height=ga):e.width>ga?(e.height*=ga/e.width,e.width=ga):(e.width*=ga/e.height,e.height=ga))}function Vp(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function dU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function fU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),dU(i)}const aa=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||aa(n,t)};function mU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function hU(e,t){return MO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function pU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?mU(n):hU(n,r);return document.createTextNode(`${i}{${a}}`)}function fC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=sU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(pU(s,n,i,r)),t.appendChild(o)}function gU(e,t,n){fC(e,t,":before",n),fC(e,t,":after",n)}const mC="application/font-woff",hC="image/jpeg",xU={woff:mC,woff2:mC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:hC,jpeg:hC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function vU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function O1(e){const t=vU(e).toLowerCase();return xU[t]||""}function yU(e){return e.split(/,/)[1]}function rb(e){return e.search(/^(data:)/)!==-1}function bU(e,t){return`data:${t};base64,${e}`}async function IO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const av={};function wU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function I1(e,t,n){const r=wU(e,t,n.includeQueryParams);if(av[r]!=null)return av[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await IO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),yU(o)));i=bU(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return av[r]=i,i}async function kU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Vp(t)}async function SU(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Vp(o)}const n=e.poster,r=O1(n),i=await I1(n,r,t);return Vp(i)}async function NU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await g0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function CU(e,t){return aa(e,HTMLCanvasElement)?kU(e):aa(e,HTMLVideoElement)?SU(e,t):aa(e,HTMLIFrameElement)?NU(e,t):e.cloneNode(_O(e))}const jU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",_O=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function AU(e,t,n){var r,i;if(_O(t))return t;let a=[];return jU(e)&&e.assignedNodes?a=al(e.assignedNodes()):aa(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=al(e.contentDocument.body.childNodes):a=al(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||aa(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>g0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function PU(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):MO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),aa(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function TU(e,t){aa(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),aa(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function EU(e,t){if(aa(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function DU(e,t,n){return aa(t,Element)&&(PU(e,t,n),gU(e,t,n),TU(e,t),EU(e,t)),t}async function MU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await g0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function g0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>CU(r,t)).then(r=>AU(e,r,t)).then(r=>DU(e,r,t)).then(r=>MU(r,t))}const LO=/url\((['"]?)([^'"]+?)\1\)/g,OU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,IU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function _U(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function LU(e){const t=[];return e.replace(LO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!rb(n))}async function $U(e,t,n,r,i){try{const a=n?aU(t,n):t,s=O1(t);let o;return i||(o=await I1(a,s,r)),e.replace(_U(t),`$1${o}$3`)}catch{}return e}function FU(e,{preferredFontFormat:t}){return t?e.replace(IU,n=>{for(;;){const[r,,i]=OU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function $O(e){return e.search(LO)!==-1}async function FO(e,t,n){if(!$O(e))return e;const r=FU(e,n);return LU(r).reduce((a,s)=>a.then(o=>$U(o,s,t,n)),Promise.resolve(r))}async function Yc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await FO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function RU(e,t){await Yc("background",e,t)||await Yc("background-image",e,t),await Yc("mask",e,t)||await Yc("-webkit-mask",e,t)||await Yc("mask-image",e,t)||await Yc("-webkit-mask-image",e,t)}async function BU(e,t){const n=aa(e,HTMLImageElement);if(!(n&&!rb(e.src))&&!(aa(e,SVGImageElement)&&!rb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await I1(r,O1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function zU(e,t){const r=al(e.childNodes).map(i=>RO(i,t));await Promise.all(r).then(()=>e)}async function RO(e,t){aa(e,Element)&&(await RU(e,t),await BU(e,t),await zU(e,t))}function UU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const pC={};async function gC(e){let t=pC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},pC[e]=t,t}async function xC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),IO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function vC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function VU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=gC(l).then(d=>xC(d,t)).then(d=>vC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(gC(i.href).then(o=>xC(o,t)).then(o=>vC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function WU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>$O(t.style.getPropertyValue("src")))}async function HU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=al(e.ownerDocument.styleSheets),r=await VU(n,t);return WU(r)}function BO(e){return e.trim().replace(/["']/g,"")}function qU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(BO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function KU(e,t){const n=await HU(e,t),r=qU(e);return(await Promise.all(n.filter(a=>r.has(BO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return FO(a.cssText,s,t)}))).join(`
`)}async function GU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await KU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function YU(e,t={}){const{width:n,height:r}=OO(e,t),i=await g0(e,t,!0);return await GU(i,t),await RO(i,t),UU(i,t),await fU(i,n,r)}async function XU(e,t={}){const{width:n,height:r}=OO(e,t),i=await YU(e,t),a=await Vp(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||cU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||uU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function QU(e,t={}){return(await XU(e,t)).toDataURL()}const ZU=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=g,b=!1;for(const k of y){const C=k[1];if(!C)continue;const N=await c(C);N&&(x=x.replace(k[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>QU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},JU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>Ud(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,y]=v.useState(0),[x,b]=v.useState(null),w=v.useRef(0),[k,C]=v.useState(0),N=v.useRef(null),j=v.useRef(null),[E,L]=v.useState(!1),P=v.useRef(null),M=v.useRef(""),O=v.useRef(void 0),Z=v.useRef(""),ee=v.useMemo(()=>{if(!r){M.current="",O.current=void 0;return}const _={...r};delete _.topSkillsMetric;const T=JSON.stringify(_);return M.current!==T&&(M.current=T,O.current=_),O.current},[r]),ae=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),[e,t,n,ee,i]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!E&&s)return j.current||(j.current=new Worker(new URL(""+new URL("statsWorker-DQyIirLr.js",import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=_=>{var T;((T=_.data)==null?void 0:T.type)==="result"&&(l(_.data.result),typeof _.data.computeId=="number"?d(_.data.computeId):d(A=>A+1),typeof _.data.logCount=="number"&&h(_.data.logCount),typeof _.data.token=="number"&&p(_.data.token),typeof _.data.completedAt=="number"&&y(_.data.completedAt),typeof _.data.flushId=="number"&&b(_.data.flushId))},j.current.onerror=_=>{var T;console.warn("[StatsWorker] Worker error. Falling back to main thread.",_),(T=j.current)==null||T.terminate(),j.current=null,L(!0)},j.current.onmessageerror=_=>{var T;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",_),(T=j.current)==null||T.terminate(),j.current=null,L(!0)},N.current!==null&&j.current.postMessage({type:"flush",flushId:N.current})),()=>{var _;(_=j.current)==null||_.terminate(),j.current=null}},[E,s]),v.useEffect(()=>{var _;if(!(!j.current||E||!s))try{w.current+=1,C(w.current),j.current.postMessage({type:"reset",token:w.current}),j.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}}),P.current&&(window.clearTimeout(P.current),P.current=null);let T=0;const A=()=>{if(!j.current)return;const te=5;for(let S=0;S<te&&T<e.length;S+=1,T+=1)j.current.postMessage({type:"log",payload:e[T]});T<e.length?P.current=window.setTimeout(A,0):(P.current=null,j.current.postMessage({type:"flush"}))};A()}catch(T){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",T),(_=j.current)==null||_.terminate(),j.current=null,L(!0)}},[ae,e,t,n,ee,i,s]);const ue=v.useMemo(()=>!E&&typeof Worker<"u"&&s?null:Ud({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),[E,e,t,n,ee,i,s]),Q=v.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return"worker";const _=e[0],T=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(_==null?void 0:_.filePath)||(_==null?void 0:_.name)||"",lastLogPath:(T==null?void 0:T.filePath)||(T==null?void 0:T.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:M.current})},[E,s,e,t,i]);return v.useEffect(()=>{!E&&typeof Worker<"u"&&s||Z.current!==Q&&(Z.current=Q,d(_=>_+1),h(e.length),p(w.current),y(Date.now()))},[Q,E,e.length,s]),{result:E||typeof Worker>"u"||!s?ue??Ud({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}):o,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:k,lastComputedAt:g,lastComputedFlushId:x,requestFlush:()=>{const _=Date.now();return N.current=_,j.current&&!E&&j.current.postMessage({type:"flush",flushId:_}),_}}},e8=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=u6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const j=Number(N);if(!Number.isFinite(j)||j<=0)return;const E=r.get(C),L=(E==null?void 0:E.name)||C,P=E==null?void 0:E.icon,M=a(L,C);f+=j,M&&(h+=j);let O=l.skillMap.get(C);O||(O={id:C,name:L,icon:P,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&P&&(O.icon=P),O.totalCasts+=j;const Z=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(Z,j)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,k={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:b,apsNoAuto:w};l.playerRows.push(k)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var k;const y=Number(((k=d.playerCounts)==null?void 0:k.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(g.totalActiveSeconds||0),b=x>0?y/(x/60):0,w=x>0?y/x:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),t8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,b=!1;if(Object.entries(g.players).forEach(([w,k])=>{var N;if(n.size>0&&!n.has(w))return;let C=k;if(f){const j=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=j>0?k/j:0}y[w]=C,C>d&&(d=C),x=!0,b=!0}),n.size>0){if(!b)return null}else if(!x)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function zO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Mn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zO(e))&&(r&&(r+=" "),r+=t);return r}var n8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _1(e){if(typeof e!="string")return!1;var t=n8;return t.includes(e)}var r8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],i8=new Set(r8);function UO(e){return typeof e!="string"?!1:i8.has(e)}function VO(e){return typeof e=="string"&&e.startsWith("data-")}function Ya(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(UO(n)||VO(n))&&(t[n]=e[n]);return t}function Ru(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ya(t)}return typeof e=="object"&&!Array.isArray(e)?Ya(e):null}function Ui(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(UO(n)||VO(n)||_1(n))&&(t[n]=e[n]);return t}function a8(e){return e==null?null:v.isValidElement(e)?Ui(e.props):typeof e=="object"&&!Array.isArray(e)?Ui(e):null}var s8=["children","width","height","viewBox","className","style","title","desc"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,i=l8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var L1=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=o8(e,s8),f=a||{width:r,height:i,x:0,y:0},h=Mn("recharts-surface",s);return v.createElement("svg",ib({},Ui(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),c8=["children","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function u8(e,t){if(e==null)return{};var n,r,i=d8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sa=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=u8(e,c8),a=Mn("recharts-layer",r);return v.createElement("g",ab({className:a},Ui(i),{ref:t}),n)}),WO=v.createContext(null),f8=()=>v.useContext(WO);function Yn(e){return function(){return e}}const HO=Math.cos,Wp=Math.sin,ks=Math.sqrt,Hp=Math.PI,x0=2*Hp,sb=Math.PI,ob=2*sb,Bl=1e-6,m8=ob-Bl;function qO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function h8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return qO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class p8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?qO:h8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Bl)if(!(Math.abs(f*l-c*d)>Bl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,x=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((sb-Math.acos((g+h-y)/(2*x*b)))/2),k=w/b,C=w/x;Math.abs(k-1)>Bl&&this._append`L${t+k*d},${n+k*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Bl||Math.abs(this._y1-d)>Bl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%ob+ob),h>m8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Bl&&this._append`A${r},${r},0,${+(h>=sb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new p8(t)}function F1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function v0(e){return new KO(e)}function GO(e){return e[0]}function YO(e){return e[1]}function XO(e,t){var n=Yn(!0),r=null,i=v0,a=null,s=$1(o);e=typeof e=="function"?e:e===void 0?GO:Yn(e),t=typeof t=="function"?t:t===void 0?YO:Yn(t);function o(l){var c,d=(l=F1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Yn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Yn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Yn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function bh(e,t,n){var r=null,i=Yn(!0),a=null,s=v0,o=null,l=$1(c);e=typeof e=="function"?e:e===void 0?GO:Yn(+e),t=typeof t=="function"?t:Yn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?YO:Yn(+n);function c(f){var h,m,p,g=(f=F1(f)).length,y,x=!1,b,w=new Array(g),k=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],k[p]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+e(y,h,f),k[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):k[h]))}if(b)return o=null,b+""||null}function d(){return XO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Yn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class QO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function g8(e){return new QO(e,!0)}function x8(e){return new QO(e,!1)}const R1={draw(e,t){const n=ks(t/Hp);e.moveTo(n,0),e.arc(0,0,n,0,x0)}},v8={draw(e,t){const n=ks(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ZO=ks(1/3),y8=ZO*2,b8={draw(e,t){const n=ks(t/y8),r=n*ZO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},w8={draw(e,t){const n=ks(t),r=-n/2;e.rect(r,r,n,n)}},k8=.8908130915292852,JO=Wp(Hp/10)/Wp(7*Hp/10),S8=Wp(x0/10)*JO,N8=-HO(x0/10)*JO,C8={draw(e,t){const n=ks(t*k8),r=S8*n,i=N8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=x0*a/5,o=HO(s),l=Wp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},sv=ks(3),j8={draw(e,t){const n=-ks(t/(sv*3));e.moveTo(0,n*2),e.lineTo(-sv*n,-n),e.lineTo(sv*n,-n),e.closePath()}},_a=-.5,La=ks(3)/2,lb=1/ks(12),A8=(lb/2+1)*3,P8={draw(e,t){const n=ks(t/A8),r=n/2,i=n*lb,a=r,s=n*lb+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(_a*r-La*i,La*r+_a*i),e.lineTo(_a*a-La*s,La*a+_a*s),e.lineTo(_a*o-La*l,La*o+_a*l),e.lineTo(_a*r+La*i,_a*i-La*r),e.lineTo(_a*a+La*s,_a*s-La*a),e.lineTo(_a*o+La*l,_a*l-La*o),e.closePath()}};function T8(e,t){let n=null,r=$1(i);e=typeof e=="function"?e:Yn(e||R1),t=typeof t=="function"?t:Yn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Yn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Yn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function qp(){}function Kp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function e5(e){this._context=e}e5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E8(e){return new e5(e)}function t5(e){this._context=e}t5.prototype={areaStart:qp,areaEnd:qp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D8(e){return new t5(e)}function n5(e){this._context=e}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Kp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M8(e){return new n5(e)}function r5(e){this._context=e}r5.prototype={areaStart:qp,areaEnd:qp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O8(e){return new r5(e)}function yC(e){return e<0?-1:1}function bC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(yC(a)+yC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ov(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Gp(e){this._context=e}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ov(this,this._t0,wC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ov(this,wC(this,n=bC(this,e,t)),n);break;default:ov(this,this._t0,n=bC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function i5(e){this._context=new a5(e)}(i5.prototype=Object.create(Gp.prototype)).point=function(e,t){Gp.prototype.point.call(this,t,e)};function a5(e){this._context=e}a5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function I8(e){return new Gp(e)}function _8(e){return new i5(e)}function s5(e){this._context=e}s5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=kC(e),i=kC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function L8(e){return new s5(e)}function y0(e,t){this._context=e,this._t=t}y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function $8(e){return new y0(e,.5)}function F8(e){return new y0(e,0)}function R8(e){return new y0(e,1)}function hc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function B8(e,t){return e[t]}function z8(e){const t=[];return t.key=e,t}function U8(){var e=Yn([]),t=cb,n=hc,r=B8;function i(a){var s=Array.from(e.apply(this,arguments),z8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=F1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Yn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Yn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?cb:typeof a=="function"?a:Yn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??hc,i):n},i}function V8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}hc(e,t)}}function W8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}hc(e,t)}}function H8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,x=g[r-1][1]||0;m+=y-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,hc(e,t)}}var b0={},o5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(o5);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(B1);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(w0);var k0={},l5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(l5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l5,n=w0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(k0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5,n=B1,r=w0,i=k0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(b0);var q8=b0.get;const pc=ws(q8);var K8=4;function Xo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Xo(o)+a:i+a},"")}var ji=e=>e===0?0:e>0?1:-1,Bs=e=>typeof e=="number"&&e!=+e,go=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Tt=e=>(typeof e=="number"||e instanceof Number)&&!Bs(e),zs=e=>Tt(e)||typeof e=="string",G8=0,Of=e=>{var t=++G8;return"".concat(e||"").concat(t)},Ca=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(t)&&typeof t!="string")return r;var a;if(go(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Bs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},c5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ci(e,t,n){return Tt(e)&&Tt(t)?Xo(e+n*(t-e)):t}function u5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):pc(r,t))===n)}var Gr=e=>e===null||typeof e>"u",cm=e=>Gr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Y8(e){return e!=null}function um(){}var X8=["type","size","sizeType"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){Q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q8(e,t,n){return(t=Z8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eV(e,t){if(e==null)return{};var n,r,i=tV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var d5={symbolCircle:R1,symbolCross:v8,symbolDiamond:b8,symbolSquare:w8,symbolStar:C8,symbolTriangle:j8,symbolWye:P8},nV=Math.PI/180,rV=e=>{var t="symbol".concat(cm(e));return d5[t]||R1},iV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*nV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aV=(e,t)=>{d5["symbol".concat(cm(e))]=t},z1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=eV(e,X8),a=NC(NC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=rV(s),m=T8().type(h).size(iV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Ui(a);return Tt(c)&&Tt(d)&&Tt(n)?v.createElement("path",ub({},f,{className:Mn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};z1.registerSymbol=aV;var f5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,U1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_1(i)&&(r[i]=a=>n[i](n,a))}),r},sV=(e,t,n)=>r=>(e(t,n,r),null),V1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];_1(i)&&typeof a=="function"&&(r||(r={}),r[i]=sV(a,t,n))}),r};function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){lV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lV(e,t,n){return(t=cV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var n=oV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yp.apply(null,arguments)}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){fV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fV(e,t,n){return(t=mV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ra=32,pV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function gV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ra/2,a=Ra/6,s=Ra/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:Ra,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ra,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ra/8,"h").concat(Ra,"v").concat(Ra*3/4,"h").concat(-Ra,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=dV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(z1,{fill:o,cx:i,cy:i,size:Ra,sizeType:"diameter",type:l})}function xV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ra,height:Ra},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Mn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",Yp({className:m,style:l,key:"legend-item-".concat(f)},V1(e,d,f)),v.createElement(L1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},v.createElement(gV,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var vV=e=>{var t=Yr(e,pV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(xV,Yp({},t,{payload:n})))},m5={},h5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(h5);var p5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(p5);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(W1);var g5={},S0={},x5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(x5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(S0);var v5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(v5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,n=v5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(g5);var y5={},b5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(b5);var w5={},H1={},k5={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(q1);var K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(K1);var G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(G1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=K1,r=G1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,x,b,w){const k=h(p,g,y,x,b,w);return k!==void 0?!!k:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let k=!1;if(h(w,y,g,d,f,m)&&(k=!0),k){p.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(k5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(H1);var S5={},Y1={},N5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(N5);var N0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(N0);var X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",E="[object BigInt64Array]",L="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=L,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(X1);var C5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(C5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5,n=N0,r=X1,i=K1,a=C5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,o(b,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(S5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=S5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(w5);var j5={},A5={},P5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=N0,r=X1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(P5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(A5);var T5={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Q1);var E5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(E5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=Q1,r=E5,i=k0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(T5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=w0,r=A5,i=b0,a=T5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(j5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=b5,r=w5,i=j5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h5,n=p5,r=W1,i=g5,a=y5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(m5);var yV=m5.uniqBy;const AC=ws(yV);function D5(e,t,n){return t===!0?AC(e,n):typeof t=="function"?AC(e,t):e}var M5={exports:{}},O5={},I5={exports:{}},_5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=v;function bV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wV=typeof Object.is=="function"?Object.is:bV,kV=Bu.useState,SV=Bu.useEffect,NV=Bu.useLayoutEffect,CV=Bu.useDebugValue;function jV(e,t){var n=t(),r=kV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return NV(function(){i.value=n,i.getSnapshot=t,lv(i)&&a({inst:i})},[e,n,t]),SV(function(){return lv(i)&&a({inst:i}),e(function(){lv(i)&&a({inst:i})})},[e]),CV(n),n}function lv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wV(e,n)}catch{return!0}}function AV(e,t){return t()}var PV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AV:jV;_5.useSyncExternalStore=Bu.useSyncExternalStore!==void 0?Bu.useSyncExternalStore:PV;I5.exports=_5;var TV=I5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=v,EV=TV;function DV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MV=typeof Object.is=="function"?Object.is:DV,OV=EV.useSyncExternalStore,IV=C0.useRef,_V=C0.useEffect,LV=C0.useMemo,$V=C0.useDebugValue;O5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=IV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=LV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,MV(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=OV(e,a[0],a[1]);return _V(function(){s.hasValue=!0,s.value=o},[o]),$V(o),o};M5.exports=O5;var FV=M5.exports,Z1=v.createContext(null),RV=e=>e,Qn=()=>{var e=v.useContext(Z1);return e?e.store.dispatch:RV},ip=()=>{},BV=()=>ip,zV=(e,t)=>e===t;function At(e){var t=v.useContext(Z1);return FV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:BV,t?t.store.getState:ip,t?t.store.getState:ip,t?e:ip,zV)}function UV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function VV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function WV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var PC=e=>Array.isArray(e)?e:[e];function HV(e){const t=Array.isArray(e[0])?e[0]:e;return WV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var KV=class{constructor(e){this.value=e}deref(){return this.value}},GV=typeof WeakRef<"u"?WeakRef:KV,YV=0,TC=1;function wh(){return{s:YV,v:void 0,o:null,p:null}}function L5(e,t={}){let n=wh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=wh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=wh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===TC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new GV(d):d}return c.s=TC,c.v=d,d}return s.clearCache=()=>{n=wh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function XV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),UV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=L5,argsMemoizeOptions:p=[]}=d,g=PC(h),y=PC(p),x=HV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=qV(x,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var pe=XV(L5),QV=Object.assign((e,t=pe)=>{VV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>QV}),$5={},F5={},R5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(R5);var B5={},J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(J1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(B5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5,n=B5,r=k0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(F5);var z5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(z5);var ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,n=S0,r=q1,i=G1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5,n=z5,r=ek;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})($5);var ZV=$5.sortBy;const j0=ws(ZV);var U5=e=>e.legend.settings,JV=e=>e.legend.size,e9=e=>e.legend.payload,t9=pe([e9,U5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?j0(r,n):r});function n9(){return At(t9)}var kh=1;function V5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>kh||Math.abs(s.left-t.left)>kh||Math.abs(s.top-t.top)>kh||Math.abs(s.width-t.width)>kh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ui(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var r9=typeof Symbol=="function"&&Symbol.observable||"@@observable",EC=r9,cv=()=>Math.random().toString(36).substring(7).split("").join("."),i9={INIT:`@@redux/INIT${cv()}`,REPLACE:`@@redux/REPLACE${cv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cv()}`},Xp=i9;function tk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function W5(e,t,n){if(typeof e!="function")throw new Error(ui(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ui(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ui(1));return n(W5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(ui(3));return i}function f(y){if(typeof y!="function")throw new Error(ui(4));if(l)throw new Error(ui(5));let x=!0;c();const b=o++;return s.set(b,y),function(){if(x){if(l)throw new Error(ui(6));x=!1,c(),s.delete(b),a=null}}}function h(y){if(!tk(y))throw new Error(ui(7));if(typeof y.type>"u")throw new Error(ui(8));if(typeof y.type!="string")throw new Error(ui(17));if(l)throw new Error(ui(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(ui(10));r=y,h({type:Xp.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ui(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:y(b)}},[EC](){return this}}}return h({type:Xp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[EC]:p}}function a9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Xp.INIT})>"u")throw new Error(ui(12));if(typeof n(void 0,{type:Xp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ui(13))})}function H5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{a9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(ui(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Qp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function s9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ui(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Qp(...o)(i.dispatch),{...i,dispatch:a}}}function q5(e){return tk(e)&&"type"in e&&typeof e.type=="string"}var K5=Symbol.for("immer-nothing"),DC=Symbol.for("immer-draftable"),Vi=Symbol.for("immer-state");function ls(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sa=Object,zu=Sa.getPrototypeOf,Zp="constructor",A0="prototype",db="configurable",Jp="enumerable",ap="writable",If="value",xo=e=>!!e&&!!e[Vi];function xs(e){var t;return e?G5(e)||T0(e)||!!e[DC]||!!((t=e[Zp])!=null&&t[DC])||E0(e)||D0(e):!1}var o9=Sa[A0][Zp].toString(),MC=new WeakMap;function G5(e){if(!e||!nk(e))return!1;const t=zu(e);if(t===null||t===Sa[A0])return!0;const n=Sa.hasOwnProperty.call(t,Zp)&&t[Zp];if(n===Object)return!0;if(!tu(n))return!1;let r=MC.get(n);return r===void 0&&(r=Function.toString.call(n),MC.set(n,r)),r===o9}function P0(e,t,n=!0){dm(e)===0?(n?Reflect.ownKeys(e):Sa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function dm(e){const t=e[Vi];return t?t.type_:T0(e)?1:E0(e)?2:D0(e)?3:0}var OC=(e,t,n=dm(e))=>n===2?e.has(t):Sa[A0].hasOwnProperty.call(e,t),fb=(e,t,n=dm(e))=>n===2?e.get(t):e[t],eg=(e,t,n,r=dm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function l9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var T0=Array.isArray,E0=e=>e instanceof Map,D0=e=>e instanceof Set,nk=e=>typeof e=="object",tu=e=>typeof e=="function",uv=e=>typeof e=="boolean";function c9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Qs=e=>e.copy_||e.base_,rk=e=>e.modified_?e.copy_:e.base_;function mb(e,t){if(E0(e))return new Map(e);if(D0(e))return new Set(e);if(T0(e))return Array[A0].slice.call(e);const n=G5(e);if(t===!0||t==="class_only"&&!n){const r=Sa.getOwnPropertyDescriptors(e);delete r[Vi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[ap]===!1&&(o[ap]=!0,o[db]=!0),(o.get||o.set)&&(r[s]={[db]:!0,[ap]:!0,[Jp]:o[Jp],[If]:e[s]})}return Sa.create(zu(e),r)}else{const r=zu(e);if(r!==null&&n)return{...e};const i=Sa.create(r);return Sa.assign(i,e)}}function ik(e,t=!1){return M0(e)||xo(e)||!xs(e)||(dm(e)>1&&Sa.defineProperties(e,{set:Sh,add:Sh,clear:Sh,delete:Sh}),Sa.freeze(e),t&&P0(e,(n,r)=>{ik(r,!0)},!1)),e}function u9(){ls(2)}var Sh={[If]:u9};function M0(e){return e===null||!nk(e)?!0:Sa.isFrozen(e)}var tg="MapSet",hb="Patches",IC="ArrayMethods",Y5={};function gc(e){const t=Y5[e];return t||ls(0,e),t}var _C=e=>!!Y5[e],_f,X5=()=>_f,d9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_C(tg)?gc(tg):void 0,arrayMethodsPlugin_:_C(IC)?gc(IC):void 0});function LC(e,t){t&&(e.patchPlugin_=gc(hb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pb(e){gb(e),e.drafts_.forEach(f9),e.drafts_=null}function gb(e){e===_f&&(_f=e.parent_)}var $C=e=>_f=d9(_f,e);function f9(e){const t=e[Vi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function FC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Vi].modified_&&(pb(t),ls(4)),xs(e)&&(e=RC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Vi].base_,e,t)}else e=RC(t,n);return m9(t,e,!0),pb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==K5?e:void 0}function RC(e,t){if(M0(t))return t;const n=t[Vi];if(!n)return ng(t,e.handledSet_,e);if(!O0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);J5(n,e)}return n.copy_}function m9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ik(t,n)}function Q5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var O0=(e,t)=>e.scope_===t,h9=[];function Z5(e,t,n,r){const i=Qs(e),a=e.type_;if(r!==void 0&&fb(i,r,a)===t){eg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;P0(i,(l,c)=>{if(xo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??h9;for(const o of s)eg(i,o,n,a)}function p9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!O0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=rk(a);Z5(e,a.draft_??a,s,n),J5(a,i)})}function J5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}Q5(e)}}function g9(e,t,n){const{scope_:r}=e;if(xo(n)){const i=n[Vi];O0(i,r)&&i.callbacks_.push(function(){sp(e);const s=rk(i);Z5(e,n,s,t)})}else xs(n)&&e.callbacks_.push(function(){const a=Qs(e);e.type_===3?a.has(n)&&ng(n,r.handledSet_,r):fb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ng(fb(e.copy_,t,e.type_),r.handledSet_,r)})}function ng(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||xo(e)||t.has(e)||!xs(e)||M0(e)||(t.add(e),P0(e,(r,i)=>{if(xo(i)){const a=i[Vi];if(O0(a,n)){const s=rk(a);eg(e,r,s,e.type_),Q5(a)}}else xs(i)&&ng(i,t,n)})),e}function x9(e,t){const n=T0(e),r={type_:n?1:0,scope_:t?t.scope_:X5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=rg;n&&(i=[r],a=Lf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var rg={get(e,t){if(t===Vi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Qs(e);if(!OC(i,t,e.type_))return v9(e,i,t);const a=i[t];if(e.finalized_||!xs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&c9(t))return a;if(a===dv(e.base_,t)){sp(e);const s=e.type_===1?+t:t,o=vb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Qs(e)},ownKeys(e){return Reflect.ownKeys(Qs(e))},set(e,t,n){const r=eI(Qs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=dv(Qs(e),t),a=i==null?void 0:i[Vi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(l9(n,i)&&(n!==void 0||OC(e.base_,t,e.type_)))return!0;sp(e),xb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),g9(e,t,n)),!0},deleteProperty(e,t){return sp(e),dv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[ap]:!0,[db]:e.type_!==1||t!=="length",[Jp]:r[Jp],[If]:n[t]}},defineProperty(){ls(11)},getPrototypeOf(e){return zu(e.base_)},setPrototypeOf(){ls(12)}},Lf={};for(let e in rg){let t=rg[e];Lf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Lf.deleteProperty=function(e,t){return Lf.set.call(this,e,t,void 0)};Lf.set=function(e,t,n){return rg.set.call(this,e[0],t,n,e[0])};function dv(e,t){const n=e[Vi];return(n?Qs(n):e)[t]}function v9(e,t,n){var i;const r=eI(t,n);return r?If in r?r[If]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function eI(e,t){if(!(t in e))return;let n=zu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=zu(n)}}function xb(e){e.modified_||(e.modified_=!0,e.parent_&&xb(e.parent_))}function sp(e){e.copy_||(e.assigned_=new Map,e.copy_=mb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var y9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(tu(n)&&!tu(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}tu(r)||ls(6),i!==void 0&&!tu(i)&&ls(7);let a;if(xs(n)){const s=$C(this),o=vb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?pb(s):gb(s)}return LC(s,i),FC(a,s)}else if(!n||!nk(n)){if(a=r(n),a===void 0&&(a=n),a===K5&&(a=void 0),this.autoFreeze_&&ik(a,!0),i){const s=[],o=[];gc(hb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ls(1,n)},this.produceWithPatches=(n,r)=>{if(tu(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},uv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),uv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),uv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xs(t)||ls(8),xo(t)&&(t=ms(t));const n=$C(this),r=vb(n,t,void 0);return r[Vi].isManual_=!0,gb(n),r}finishDraft(t,n){const r=t&&t[Vi];(!r||!r.isManual_)&&ls(9);const{scope_:i}=r;return LC(i,n),FC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=gc(hb).applyPatches_;return xo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function vb(e,t,n,r){const[i,a]=E0(t)?gc(tg).proxyMap_(t,n):D0(t)?gc(tg).proxySet_(t,n):x9(t,n);return((n==null?void 0:n.scope_)??X5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?p9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function ms(e){return xo(e)||ls(10,e),tI(e)}function tI(e){if(!xs(e)||M0(e))return e;const t=e[Vi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mb(e,!0);return P0(n,(i,a)=>{eg(n,i,tI(a))},r),t&&(t.finalized_=!1),n}var b9=new y9,nI=b9.produce;function rI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var w9=rI(),k9=rI,S9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qp:Qp.apply(null,arguments)};function Xa(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ja(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>q5(r)&&r.type===e,n}var iI=class Vd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vd.prototype)}static get[Symbol.species](){return Vd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vd(...t[0].concat(this)):new Vd(...t.concat(this))}};function BC(e){return xs(e)?nI(e,()=>{}):e}function Nh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function N9(e){return typeof e=="boolean"}var C9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new iI;return n&&(N9(n)?s.push(w9):s.push(k9(n.extraArgument))),s},aI="RTK_autoBatch",cr=()=>e=>({payload:e,meta:{[aI]:!0}}),zC=e=>t=>{setTimeout(t,e)},sI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zC(10):e.type==="callback"?e.queueNotification:zC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[aI]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},j9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new iI(e);return r&&i.push(sI(typeof r=="object"?r:void 0)),i};function A9(e){const t=C9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(tk(n))o=H5(n);else throw new Error(ja(1));let l;typeof r=="function"?l=r(t):l=t();let c=Qp;i&&(c=S9({trace:!1,...typeof i=="object"&&i}));const d=s9(...l),f=j9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return W5(o,a,m)}function oI(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ja(28));if(o in t)throw new Error(ja(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function P9(e){return typeof e=="function"}function T9(e,t){let[n,r,i]=oI(t),a;if(P9(e))a=()=>BC(e());else{const o=BC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(xo(d)){const m=f(d,l);return m===void 0?d:m}else{if(xs(d))return nI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var E9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D9=(e=21)=>{let t="",n=e;for(;n--;)t+=E9[Math.random()*64|0];return t},M9=Symbol.for("rtk-slice-createasyncthunk");function O9(e,t){return`${e}/${t}`}function I9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[M9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ja(11));const o=(typeof i.reducers=="function"?i.reducers(L9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,C){const N=typeof k=="string"?k:k.type;if(!N)throw new Error(ja(12));if(N in c.sliceCaseReducersByType)throw new Error(ja(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(k,C){return c.sliceMatchers.push({matcher:k,reducer:C}),d},exposeAction(k,C){return c.actionCreators[k]=C,d},exposeCaseReducer(k,C){return c.sliceCaseReducersByName[k]=C,d}};l.forEach(k=>{const C=o[k],N={reducerName:k,type:O9(a,k),createNotation:typeof i.reducers=="function"};F9(C)?B9(N,C,d,t):$9(N,C,d)});function f(){const[k={},C=[],N=void 0]=typeof i.extraReducers=="function"?oI(i.extraReducers):[i.extraReducers],j={...k,...c.sliceCaseReducersByType};return T9(i.initialState,E=>{for(let L in j)E.addCase(L,j[L]);for(let L of c.sliceMatchers)E.addMatcher(L.matcher,L.reducer);for(let L of C)E.addMatcher(L.matcher,L.reducer);N&&E.addDefaultCase(N)})}const h=k=>k,m=new Map,p=new WeakMap;let g;function y(k,C){return g||(g=f()),g(k,C)}function x(){return g||(g=f()),g.getInitialState()}function b(k,C=!1){function N(E){let L=E[k];return typeof L>"u"&&C&&(L=Nh(p,N,x)),L}function j(E=h){const L=Nh(m,C,()=>new WeakMap);return Nh(L,E,()=>{const P={};for(const[M,O]of Object.entries(i.selectors??{}))P[M]=_9(O,E,()=>Nh(p,E,x),C);return P})}return{reducerPath:k,getSelectors:j,get selectors(){return j(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(k,{reducerPath:C,...N}={}){const j=C??s;return k.inject({reducerPath:j,reducer:y},N),{...w,...b(j,!0)}}};return w}}function _9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var ca=I9();function L9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function $9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!R9(r))throw new Error(ja(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Xa(e,s):Xa(e))}function F9(e){return e._reducerDefinitionType==="asyncThunk"}function R9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function B9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ja(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||Ch,pending:o||Ch,rejected:l||Ch,settled:c||Ch})}function Ch(){}var z9="task",lI="listener",cI="completed",ak="cancelled",U9=`task-${ak}`,V9=`task-${cI}`,yb=`${lI}-${ak}`,W9=`${lI}-${cI}`,I0=class{constructor(e){Mx(this,"name","TaskAbortError");Mx(this,"message");this.code=e,this.message=`${z9} ${ak} (reason: ${e})`}},sk=(e,t)=>{if(typeof e!="function")throw new TypeError(ja(32))},ig=()=>{},uI=(e,t=ig)=>(e.catch(t),e),dI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ac=e=>{if(e.aborted)throw new I0(e.reason)};function fI(e,t){let n=ig;return new Promise((r,i)=>{const a=()=>i(new I0(e.reason));if(e.aborted){a();return}n=dI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ig})}var H9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof I0?"cancelled":"rejected",error:n}}finally{t==null||t()}},ag=e=>t=>uI(fI(e,t).then(n=>(ac(e),n))),mI=e=>{const t=ag(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,UC={},_0="listenerMiddleware",q9=(e,t)=>{const n=r=>dI(e,()=>r.abort(e.reason));return(r,i)=>{sk(r);const a=new AbortController;n(a);const s=H9(async()=>{ac(e),ac(a.signal);const o=await r({pause:ag(a.signal),delay:mI(a.signal),signal:a.signal});return ac(a.signal),o},()=>a.abort(V9));return i!=null&&i.autoJoin&&t.push(s.catch(ig)),{result:ag(e)(s),cancel(){a.abort(U9)}}}},K9=(e,t)=>{const n=async(r,i)=>{ac(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await fI(t,Promise.race(o));return ac(t),l}finally{a()}};return(r,i)=>uI(n(r,i))},hI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Xa(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ja(21));return sk(a),{predicate:i,type:t,effect:a}},pI=Au(e=>{const{type:t,predicate:n,effect:r}=hI(e);return{id:D9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ja(22))}}},{withTypes:()=>pI}),VC=(e,t)=>{const{type:n,effect:r,predicate:i}=hI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},bb=e=>{e.pending.forEach(t=>{t.abort(yb)})},G9=(e,t)=>()=>{for(const n of t.keys())bb(n);e.clear()},WC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},gI=Au(Xa(`${_0}/add`),{withTypes:()=>gI}),Y9=Xa(`${_0}/removeAll`),xI=Au(Xa(`${_0}/remove`),{withTypes:()=>xI}),X9=(...e)=>{console.error(`${_0}/error`,...e)},fm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=X9}=e;sk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&bb(m)}),l=m=>{const p=VC(t,m)??pI(m);return o(p)};Au(l,{withTypes:()=>l});const c=m=>{const p=VC(t,m);return p&&(p.unsubscribe(),m.cancelActive&&bb(p)),!!p};Au(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const x=new AbortController,b=K9(l,x.signal),w=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,Au({},g,{getOriginalState:y,condition:(k,C)=>b(k,C).then(Boolean),take:b,delay:mI(x.signal),pause:ag(x.signal),extra:a,signal:x.signal,fork:q9(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,C,N)=>{k!==x&&(k.abort(yb),N.delete(k))})},cancel:()=>{x.abort(yb),m.pending.delete(x)},throwIfCancelled:()=>{ac(x.signal)}})))}catch(k){k instanceof I0||WC(s,k,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(W9),i(m),m.pending.delete(x)}},f=G9(t,n);return{middleware:m=>p=>g=>{if(!q5(g))return p(g);if(gI.match(g))return l(g.payload);if(Y9.match(g)){f();return}if(xI.match(g))return c(g.payload);let y=m.getState();const x=()=>{if(y===UC)throw new Error(ja(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),k=Array.from(t.values());for(const C of k){let N=!1;try{N=C.predicate(g,w,y)}catch(j){N=!1,WC(s,j,{raisedBy:"predicate"})}N&&d(C,g,m,x)}}}finally{y=UC}return b},startListening:l,stopListening:c,clearListeners:f}};function ja(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vI=ca({name:"chartLayout",initialState:Q9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Z9,setLayout:J9,setChartSize:eW,setScale:tW}=vI.actions,nW=vI.reducer;function yI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ur(e){return Number.isFinite(e)}function Us(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){rW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rW(e,t,n){return(t=iW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t,n){return Gr(e)||Gr(t)?n:zs(t)?pc(e,t,n):typeof t=="function"?t(e):n}var sW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Tt(e[a]))return pu(pu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Tt(e[s]))return pu(pu({},e),{},{[s]:e[s]+(i||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",bI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},wI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?ji(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,b)=>{var w=r?r.indexOf(x):x;return{coordinate:s(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!Bs(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:s(x)+g,value:x,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+g,value:x,offset:g,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+g,value:r?r[x]:x,index:b,offset:g}))},qC=1e-4,oW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-qC,a=Math.max(r[0],r[1])+qC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},lW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=Bs(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},cW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=Bs(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},uW={sign:lW,expand:V8,none:hc,silhouette:W8,wiggle:H8,positive:cW},dW=(e,t,n)=>{var r,i=(r=uW[n])!==null&&r!==void 0?r:hc,a=U8().keys(t).value((o,l)=>Number(sr(o,l,0))).order(cb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=sr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Tt(f[0])&&Tt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function KC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gr(i[t.dataKey])){var o=u5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=sr(i,Gr(s)?t.dataKey:s);return Gr(l)?null:t.scale(l)}var fW=e=>{var t=e.flat(2).filter(Tt);return[Math.min(...t),Math.max(...t)]},mW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hW=(e,t,n)=>{if(e!=null)return mW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=yI(c,t,n),f=fW(d);return!Ur(f[0])||!Ur(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},GC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=j0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function XC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return pu(pu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function L0(e,t){if(e)return String(e);if(typeof t=="string")return t}var pW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},gW=(e,t)=>t==="centric"?e.angle:e.radius,No=e=>e.layout.width,Co=e=>e.layout.height,xW=e=>e.layout.scale,kI=e=>e.layout.margin,$0=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),F0=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),SI="data-recharts-item-index",NI="data-recharts-item-id",mm=60;function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){vW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vW(e,t,n){return(t=yW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wW=e=>e.brush.height;function kW(e){var t=F0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:mm;return n+i}return n},0)}function SW(e){var t=F0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:mm;return n+i}return n},0)}function NW(e){var t=$0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function CW(e){var t=$0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ai=pe([No,Co,kI,wW,kW,SW,NW,CW,U5,JV],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=jh(jh({},f),d),m=h.bottom;h.bottom+=r,h=sW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return jh(jh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),jW=pe(ai,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),CI=pe(No,Co,(e,t)=>({x:0,y:0,width:e,height:t})),AW=v.createContext(null),ua=()=>v.useContext(AW)!=null,R0=e=>e.brush,B0=pe([R0,ai,kI],(e,t,n)=>({height:e.height,x:Tt(e.x)?e.x:t.left,y:Tt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Tt(e.width)?e.width:t.width})),jI={},AI={},PI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return x.schedule=m,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(PI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(AI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(jI);var PW=jI.throttle;const TW=ws(PW);var og=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},TI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=go(r)?e:Number(r),l=go(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},EW={width:0,height:0,overflow:"visible"},DW={width:0,overflowX:"visible"},MW={height:0,overflowY:"visible"},OW={},IW=e=>{var{width:t,height:n}=e,r=go(t),i=go(n);return r&&i?EW:r?DW:i?MW:OW};function _W(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(r){LW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EI=v.createContext({width:-1,height:-1});function RW(e){return Us(e.width)&&Us(e.height)}function DI(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return RW(i)?v.createElement(EI.Provider,{value:i},t):null}var ok=()=>v.useContext(EI),BW=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),y=v.useRef();y.current=m,v.useImperativeHandle(t,()=>g.current);var[x,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((E,L)=>{b(P=>{var M=Math.round(E),O=Math.round(L);return P.containerWidth===M&&P.containerHeight===O?P:{containerWidth:M,containerHeight:O}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return um;var E=O=>{var Z,{width:ee,height:ae}=O[0].contentRect;w(ee,ae),(Z=y.current)===null||Z===void 0||Z.call(y,ee,ae)};d>0&&(E=TW(E,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(E),{width:P,height:M}=g.current.getBoundingClientRect();return w(P,M),L.observe(g.current),()=>{L.disconnect()}},[w,d]);var{containerWidth:k,containerHeight:C}=x;og(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:j}=TI(k,C,{width:i,height:a,aspect:n,maxHeight:l});return og(N!=null&&N>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,j,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Mn("recharts-responsive-container",h),style:JC(JC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:IW({width:i,height:a})},v.createElement(DI,{width:N,height:j},c)))}),xc=v.forwardRef((e,t)=>{var n=ok();if(Us(n.width)&&Us(n.height))return e.children;var{width:r,height:i}=_W({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=TI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Tt(a)&&Tt(s)?v.createElement(DI,{width:a,height:s},e.children):v.createElement(BW,wb({},e,{width:r,height:i,ref:t}))});function MI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var z0=()=>{var e,t=ua(),n=At(jW),r=At(B0),i=(e=At(R0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},zW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OI=()=>{var e;return(e=At(ai))!==null&&e!==void 0?e:zW},lk=()=>At(No),ck=()=>At(Co),UW=()=>At(e=>e.layout.margin),Vn=e=>e.layout.layoutType,hm=()=>At(Vn),VW=()=>{var e=hm();return e!==void 0},U0=e=>{var t=Qn(),n=ua(),{width:r,height:i}=e,a=ok(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&Us(s)&&Us(o)&&t(eW({width:s,height:o}))},[t,n,s,o]),null},II=Symbol.for("immer-nothing"),ej=Symbol.for("immer-draftable"),Ta=Symbol.for("immer-state");function cs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $f=Object.getPrototypeOf;function Uu(e){return!!e&&!!e[Ta]}function vc(e){var t;return e?_I(e)||Array.isArray(e)||!!e[ej]||!!((t=e.constructor)!=null&&t[ej])||pm(e)||W0(e):!1}var WW=Object.prototype.constructor.toString(),tj=new WeakMap;function _I(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tj.get(n);return r===void 0&&(r=Function.toString.call(n),tj.set(n,r)),r===WW}function lg(e,t,n=!0){V0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function V0(e){const t=e[Ta];return t?t.type_:Array.isArray(e)?1:pm(e)?2:W0(e)?3:0}function kb(e,t){return V0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LI(e,t,n){const r=V0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function HW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pm(e){return e instanceof Map}function W0(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function Sb(e,t){if(pm(e))return new Map(e);if(W0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=_I(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ta];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create($f(e),r)}else{const r=$f(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function uk(e,t=!1){return H0(e)||Uu(e)||!vc(e)||(V0(e)>1&&Object.defineProperties(e,{set:Ah,add:Ah,clear:Ah,delete:Ah}),Object.freeze(e),t&&Object.values(e).forEach(n=>uk(n,!0))),e}function qW(){cs(2)}var Ah={value:qW};function H0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KW={};function yc(e){const t=KW[e];return t||cs(0,e),t}var Ff;function $I(){return Ff}function GW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nj(e,t){t&&(yc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nb(e){Cb(e),e.drafts_.forEach(YW),e.drafts_=null}function Cb(e){e===Ff&&(Ff=e.parent_)}function rj(e){return Ff=GW(Ff,e)}function YW(e){const t=e[Ta];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ij(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ta].modified_&&(Nb(t),cs(4)),vc(e)&&(e=cg(t,e),t.parent_||ug(t,e)),t.patches_&&yc("Patches").generateReplacementPatches_(n[Ta].base_,e,t.patches_,t.inversePatches_)):e=cg(t,n,[]),Nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==II?e:void 0}function cg(e,t,n){if(H0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ta];if(!i)return lg(t,(a,s)=>aj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return ug(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),lg(s,(l,c)=>aj(e,i,a,l,c,n,o),r),ug(e,a,!1),n&&e.patches_&&yc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function aj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=H0(i);if(!(o&&!s)){if(Uu(i)){const l=a&&t&&t.type_!==3&&!kb(t.assigned_,r)?a.concat(r):void 0,c=cg(e,i,l);if(LI(n,r,c),Uu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(vc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;cg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(pm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ug(e,i)}}}function ug(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uk(t,n)}function XW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:$I(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=dk;n&&(i=[r],a=Rf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var dk={get(e,t){if(t===Ta)return e;const n=zl(e);if(!kb(n,t))return QW(e,n,t);const r=n[t];return e.finalized_||!vc(r)?r:r===fv(e.base_,t)?(mv(e),e.copy_[t]=Ab(r,e)):r},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,n){const r=FI(zl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=fv(zl(e),t),a=i==null?void 0:i[Ta];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(HW(n,i)&&(n!==void 0||kb(e.base_,t)))return!0;mv(e),jb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mv(e),jb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){cs(11)},getPrototypeOf(e){return $f(e.base_)},setPrototypeOf(){cs(12)}},Rf={};lg(dk,(e,t)=>{Rf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Rf.deleteProperty=function(e,t){return Rf.set.call(this,e,t,void 0)};Rf.set=function(e,t,n){return dk.set.call(this,e[0],t,n,e[0])};function fv(e,t){const n=e[Ta];return(n?zl(n):e)[t]}function QW(e,t,n){var i;const r=FI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function FI(e,t){if(!(t in e))return;let n=$f(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$f(n)}}function jb(e){e.modified_||(e.modified_=!0,e.parent_&&jb(e.parent_))}function mv(e){e.copy_||(e.copy_=Sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ZW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&cs(6),r!==void 0&&typeof r!="function"&&cs(7);let i;if(vc(t)){const a=rj(this),s=Ab(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Nb(a):Cb(a)}return nj(a,r),ij(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===II&&(i=void 0),this.autoFreeze_&&uk(i,!0),r){const a=[],s=[];yc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else cs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vc(e)||cs(8),Uu(e)&&(e=JW(e));const t=rj(this),n=Ab(e,void 0);return n[Ta].isManual_=!0,Cb(t),n}finishDraft(e,t){const n=e&&e[Ta];(!n||!n.isManual_)&&cs(9);const{scope_:r}=n;return nj(r,t),ij(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=yc("Patches").applyPatches_;return Uu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ab(e,t){const n=pm(e)?yc("MapSet").proxyMap_(e,t):W0(e)?yc("MapSet").proxySet_(e,t):XW(e,t);return(t?t.scope_:$I()).drafts_.push(n),n}function JW(e){return Uu(e)||cs(10,e),RI(e)}function RI(e){if(!vc(e)||H0(e))return e;const t=e[Ta];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Sb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Sb(e,!0);return lg(n,(i,a)=>{LI(n,i,RI(a))},r),t&&(t.finalized_=!1),n}var eH=new ZW;eH.produce;var tH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BI=ca({name:"legend",initialState:tH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:cr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ms(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:cr()},removeLegendPayload:{reducer(e,t){var n=ms(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:cr()}}}),{setLegendSize:sj,setLegendSettings:nH,addLegendPayload:zI,replaceLegendPayload:UI,removeLegendPayload:VI}=BI.actions,rH=BI.reducer,iH=["contextPayload"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t){if(e==null)return{};var n,r,i=cH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uH(e){return e.value}function dH(e){var{contextPayload:t}=e,n=lH(e,iH),r=D5(t,e.payloadUniqBy,uH),i=Vu(Vu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(vV,i)}function fH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Vu(Vu({},c),d)}function mH(e){var t=Qn();return v.useEffect(()=>{t(nH(e))},[t,e]),null}function hH(e){var t=Qn();return v.useEffect(()=>(t(sj(e)),()=>{t(sj({width:0,height:0}))}),[t,e]),null}function pH(e,t,n,r){return e==="vertical"&&Tt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var gH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function WI(e){var t=Yr(e,gH),n=n9(),r=f8(),i=UW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=V5([n]),f=lk(),h=ck();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=pH(t.layout,s,a,m),g=l?o:Vu(Vu({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},fH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(mH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(hH,{width:c.width,height:c.height}),v.createElement(dH,Pb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return td.createPortal(x,y)}WI.displayName="Legend";function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bH(e){return Array.isArray(e)&&zs(e[0])&&zs(e[1])?e.join(" ~ "):e}var wH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?j0(a,o):a).map((j,E)=>{if(j.type==="none")return null;var L=j.formatter||s||bH,{value:P,name:M}=j,O=P,Z=M;if(L){var ee=L(P,M,j,E,a);if(Array.isArray(ee))[O,Z]=ee;else if(ee!=null)O=ee;else return null}var ae=hv({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ae},zs(Z)?v.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,zs(Z)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=hv({margin:0},i),y=!Gr(d),x=y?d:"",b=Mn("recharts-default-tooltip",l),w=Mn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var k=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Tb({className:b,style:p},k),v.createElement("p",{className:w,style:g},v.isValidElement(x)?x:"".concat(x)),m())},Cd="recharts-tooltip-wrapper",kH={visibility:"hidden"};function SH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Mn(Cd,{["".concat(Cd,"-right")]:Tt(n)&&t&&Tt(t.x)&&n>=t.x,["".concat(Cd,"-left")]:Tt(n)&&t&&Tt(t.x)&&n<t.x,["".concat(Cd,"-bottom")]:Tt(r)&&t&&Tt(t.y)&&r>=t.y,["".concat(Cd,"-top")]:Tt(r)&&t&&Tt(t.y)&&r<t.y})}function cj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Tt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function NH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function CH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=cj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=cj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=NH({translateX:d,translateY:f,useTranslate3d:o})):c=kH,{cssProperties:c,cssClasses:SH({translateX:d,translateY:f,coordinate:n})}}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){Eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eb(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PH extends v.PureComponent{constructor(){super(...arguments),Eb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Eb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=CH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),k=x?{}:Ph(Ph({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Ph(Ph({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var HI=()=>{var e;return(e=At(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){TH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TH(e,t,n){return(t=EH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mj={curveBasisClosed:D8,curveBasisOpen:M8,curveBasis:E8,curveBumpX:g8,curveBumpY:x8,curveLinearClosed:O8,curveLinear:v0,curveMonotoneX:I8,curveMonotoneY:_8,curveNatural:L8,curveStep:$8,curveStepAfter:R8,curveStepBefore:F8},dg=e=>Ur(e.x)&&Ur(e.y),hj=e=>e.base!=null&&dg(e.base)&&dg(e),jd=e=>e.x,Ad=e=>e.y,MH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(cm(e));return(n==="curveMonotone"||n==="curveBump")&&t?mj["".concat(n).concat(t==="vertical"?"Y":"X")]:mj[n]||v0},OH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=MH(t,i),o=a?n.filter(dg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>fj(fj({},m),{},{base:r[p]}));i==="vertical"?l=bh().y(Ad).x1(jd).x0(m=>m.base.x):l=bh().x(jd).y1(Ad).y0(m=>m.base.y);var d=l.defined(hj).curve(s),f=a?c.filter(hj):c;return d(f)}i==="vertical"&&Tt(r)?l=bh().y(Ad).x1(jd).x0(r):Tt(r)?l=bh().x(jd).y1(Ad).y0(r):l=XO().x(jd).y(Ad);var h=l.defined(dg).curve(s);return h(o)},fk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=hm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?OH(s):r;return v.createElement("path",Db({},Ya(e),U1(e),{className:Mn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},IH=["x","y","top","left","width","height","className"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){LH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LH(e,t,n){return(t=$H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $H(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e,t){if(e==null)return{};var n,r,i=BH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),UH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=RH(e,IH),c=_H({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Tt(t)||!Tt(n)||!Tt(a)||!Tt(s)||!Tt(r)||!Tt(i)?null:v.createElement("path",Mb({},Ui(c),{className:Mn("recharts-cross",o),d:zH(t,n,a,s,r,i)}))};function VH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){WH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WH(e,t,n){return(t=HH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qI=(e,t,n)=>e.map(r=>"".concat(KH(r)," ").concat(t,"ms ").concat(n)).join(","),GH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Bf=(e,t)=>Object.keys(t).reduce((n,r)=>xj(xj({},n),{},{[r]:e(r,t[r])}),{});function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){YH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t,n){return(t=XH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg=(e,t,n)=>e+(t-e)*n,Ob=e=>{var{from:t,to:n}=e;return t!==n},KI=(e,t,n)=>{var r=Bf((i,a)=>{if(Ob(a)){var[s,o]=e(a.from,a.to,a.velocity);return qr(qr({},a),{},{from:s,velocity:o})}return a},t);return n<1?Bf((i,a)=>Ob(a)&&r[i]!=null?qr(qr({},a),{},{velocity:fg(a.velocity,r[i].velocity,n),from:fg(a.from,r[i].from,n)}):a,t):KI(e,r,n-1)};function ZH(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>qr(qr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Bf((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Ob).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=KI(n,o,p),i(qr(qr(qr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function JH(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:qr(qr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=Bf((g,y)=>fg(...y,n(h)),l);if(a(qr(qr(qr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Bf((g,y)=>fg(...y,n(1)),l);a(qr(qr(qr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const e7=(e,t,n,r,i,a)=>{var s=GH(e,t);return n==null?()=>(i(qr(qr({},e),t)),()=>{}):n.isStepper===!0?ZH(e,t,n,s,i,a):JH(e,t,n,r,s,i,a)};var mg=1e-4,GI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),yj=(e,t)=>n=>{var r=GI(e,t);return YI(r,n)},t7=(e,t)=>n=>{var r=GI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return YI(i,n)},n7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},r7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=n7(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},i7=(e,t,n,r)=>{var i=yj(e,n),a=yj(t,r),s=t7(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<mg||p<mg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},bj=function(){return i7(...r7(...arguments))},a7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<mg&&Math.abs(f)<mg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},s7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bj(e);case"spring":return a7();default:if(e.split("(")[0]==="cubic-bezier")return bj(e)}return typeof e=="function"?e:null};function o7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class l7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function c7(){return o7(new l7)}var u7=v.createContext(c7);function d7(e,t){var n=v.useContext(u7);return v.useMemo(()=>t??n(e),[e,t,n])}var f7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),q0={isSsr:f7()},m7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wj={t:0},pv={t:1};function K0(e){var t=Yr(e,m7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!q0.isSsr:n,f=d7(t.animationId,t.animationManager),[h,m]=v.useState(d?wj:pv),p=v.useRef(null);return v.useEffect(()=>{d||m(pv)},[d]),v.useEffect(()=>{if(!d||!r)return um;var g=e7(wj,pv,s7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function G0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Of(t)),r=v.useRef(e);return r.current!==e&&(n.current=Of(t),r.current=e),n.current}var h7=["radius"],p7=["radius"],kj,Sj,Nj,Cj,jj,Aj,Pj,Tj,Ej,Dj;function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=x7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(null,arguments)}function Ij(e,t){if(e==null)return{};var n,r,i=y7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ps(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _j=(e,t,n,r,i)=>{var a=Xo(n),s=Xo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Cr(kj||(kj=Ps(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Cr(Sj||(Sj=Ps(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Cr(Nj||(Nj=Ps(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Cr(Cj||(Cj=Ps(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Cr(jj||(jj=Ps(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Cr(Aj||(Aj=Ps(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Cr(Pj||(Pj=Ps(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Cr(Tj||(Tj=Ps(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Cr(Ej||(Ej=Ps(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=Cr(Dj||(Dj=Ps(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Lj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XI=e=>{var t=Yr(e,Lj),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=v.useRef(o),x=v.useRef(l),b=v.useRef(a),w=v.useRef(s),k=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=G0(k,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Mn("recharts-rectangle",d);if(!g){var j=Ui(t),{radius:E}=j,L=Ij(j,h7);return v.createElement("path",hg({},L,{x:Xo(a),y:Xo(s),width:Xo(o),height:Xo(l),radius:typeof c=="number"?c:void 0,className:N,d:_j(a,s,o,l,c)}))}var P=y.current,M=x.current,O=b.current,Z=w.current,ee="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),ue=qI(["strokeDasharray"],h,typeof f=="string"?f:Lj.animationEasing);return v.createElement(K0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},Q=>{var G=Ci(P,o,Q),_=Ci(M,l,Q),T=Ci(O,a,Q),A=Ci(Z,s,Q);n.current&&(y.current=G,x.current=_,b.current=T,w.current=A);var te;p?Q>0?te={transition:ue,strokeDasharray:ae}:te={strokeDasharray:ee}:te={strokeDasharray:ae};var S=Ui(t),{radius:z}=S,W=Ij(S,p7);return v.createElement("path",hg({},W,{radius:typeof c=="number"?c:void 0,className:N,d:_j(T,A,G,_,c),ref:n,style:Oj(Oj({},te),t.style)}))})};function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return(t=w7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=Math.PI/180,S7=e=>e*180/Math.PI,Br=(e,t,n,r)=>({x:e+Math.cos(-pg*r)*n,y:t+Math.sin(-pg*r)*n}),QI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},N7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},C7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=N7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:S7(l),angleInRadian:l}},j7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},A7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},P7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=C7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=j7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Fj(Fj({},t),{},{radius:i,angle:A7(d,t)}):null};function ZI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Br(t,n,r,i),o=Br(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Rj,Bj,zj,Uj,Vj,Wj,Hj;function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(null,arguments)}function Xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T7=(e,t)=>{var n=ji(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Th=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/pg,f=l?i:i+a*d,h=Br(t,n,c,f),m=Br(t,n,r,f),p=l?i-a*d:i,g=Br(t,n,c*Math.cos(d*pg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},JI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=T7(a,s),l=a+o,c=Br(t,n,i,a),d=Br(t,n,i,l),f=Cr(Rj||(Rj=Xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Br(t,n,r,a),m=Br(t,n,r,l);f+=Cr(Bj||(Bj=Xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Cr(zj||(zj=Xl(["L ",","," Z"])),t,n);return f},E7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=ji(c-l),{circleTangency:f,lineTangency:h,theta:m}=Th({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Th({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(x<0)return s?Cr(Uj||(Uj=Xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):JI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=Cr(Vj||(Vj=Xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:k,theta:C}=Th({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:j,theta:E}=Th({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),L=o?Math.abs(l-c):Math.abs(l-c)-C-E;if(L<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Cr(Wj||(Wj=Xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),N.x,N.y,r,r,+(L>180),+(d>0),w.x,w.y,a,a,+(d<0),k.x,k.y)}else b+=Cr(Hj||(Hj=Xl(["L",",","Z"])),t,n);return b},D7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e_=e=>{var t=Yr(e,D7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Mn("recharts-sector",f),m=a-i,p=Ca(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=E7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=JI({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",Ib({},Ui(t),{className:h,d:g}))};function M7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(f5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Br(r,i,a,o),c=Br(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return ZI(t)}}var t_={},n_={},r_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(r_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(n_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek,n=n_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(t_);var O7=t_.range;const i_=ws(O7);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function I7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mk(e){let t,n,r;e.length!==2?(t=sl,n=(o,l)=>sl(e(o),l),r=(o,l)=>e(o)-l):(t=e===sl||e===I7?e:_7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function _7(){return 0}function a_(e){return e===null?NaN:+e}function*L7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $7=mk(sl),gm=$7.right;mk(a_).center;class qj extends Map{constructor(t,n=B7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Kj(this,t))}has(t){return super.has(Kj(this,t))}set(t,n){return super.set(F7(this,t),n)}delete(t){return super.delete(R7(this,t))}}function Kj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function F7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function R7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function B7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function z7(e=sl){if(e===sl)return s_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function s_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const U7=Math.sqrt(50),V7=Math.sqrt(10),W7=Math.sqrt(2);function gg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=U7?10:a>=V7?5:a>=W7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?gg(e,t,n*2):[o,l,c]}function _b(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?gg(t,e,n):gg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Lb(e,t,n){return t=+t,e=+e,n=+n,gg(e,t,n)[2]}function $b(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Lb(t,e,n):Lb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Yj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function o_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?s_:z7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));o_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Pd(e,n,t),i(e[r],a)>0&&Pd(e,n,r);s<o;){for(Pd(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Pd(e,n,o):(++o,Pd(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Pd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function H7(e,t,n){if(e=Float64Array.from(L7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Yj(e);if(t>=1)return Gj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Gj(o_(e,a).subarray(0,a+1)),o=Yj(e.subarray(a+1));return s+(o-s)*(i-a)}}function q7(e,t,n=a_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function K7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Za(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fb=Symbol("implicit");function hk(){var e=new qj,t=[],n=[],r=Fb;function i(a){let s=e.get(a);if(s===void 0){if(r!==Fb)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hk(t,n).unknown(r)},Za.apply(i,arguments),i}function pk(){var e=hk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=K7(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return pk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Za.apply(f(),arguments)}function l_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return l_(t())},e}function G7(){return l_(pk.apply(null,arguments).paddingInner(1))}function gk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function c_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xm(){}var zf=.7,xg=1/zf,Pu="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Y7=/^#([0-9a-f]{3,8})$/,X7=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),Q7=new RegExp(`^rgb\\(${Fs},${Fs},${Fs}\\)$`),Z7=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${Uf}\\)$`),J7=new RegExp(`^rgba\\(${Fs},${Fs},${Fs},${Uf}\\)$`),eq=new RegExp(`^hsl\\(${Uf},${Fs},${Fs}\\)$`),tq=new RegExp(`^hsla\\(${Uf},${Fs},${Fs},${Uf}\\)$`),Xj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk(xm,Vf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qj,formatHex:Qj,formatHex8:nq,formatHsl:rq,formatRgb:Zj,toString:Zj});function Qj(){return this.rgb().formatHex()}function nq(){return this.rgb().formatHex8()}function rq(){return u_(this).formatHsl()}function Zj(){return this.rgb().formatRgb()}function Vf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Y7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Jj(t):n===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Eh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Eh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=X7.exec(e))?new ta(t[1],t[2],t[3],1):(t=Q7.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Z7.exec(e))?Eh(t[1],t[2],t[3],t[4]):(t=J7.exec(e))?Eh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eq.exec(e))?nA(t[1],t[2]/100,t[3]/100,1):(t=tq.exec(e))?nA(t[1],t[2]/100,t[3]/100,t[4]):Xj.hasOwnProperty(e)?Jj(Xj[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function Jj(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function Eh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ta(e,t,n,r)}function iq(e){return e instanceof xm||(e=Vf(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function Rb(e,t,n,r){return arguments.length===1?iq(e):new ta(e,t,n,r??1)}function ta(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gk(ta,Rb,c_(xm,{brighter(e){return e=e==null?xg:Math.pow(xg,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zf:Math.pow(zf,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(sc(this.r),sc(this.g),sc(this.b),vg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eA,formatHex:eA,formatHex8:aq,formatRgb:tA,toString:tA}));function eA(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}`}function aq(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}${Ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function tA(){const e=vg(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function vg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ql(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function nA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new us(e,t,n,r)}function u_(e){if(e instanceof us)return new us(e.h,e.s,e.l,e.opacity);if(e instanceof xm||(e=Vf(e)),!e)return new us;if(e instanceof us)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new us(s,o,l,e.opacity)}function sq(e,t,n,r){return arguments.length===1?u_(e):new us(e,t,n,r??1)}function us(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gk(us,sq,c_(xm,{brighter(e){return e=e==null?xg:Math.pow(xg,e),new us(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zf:Math.pow(zf,e),new us(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ta(gv(e>=240?e-240:e+120,i,r),gv(e,i,r),gv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new us(rA(this.h),Dh(this.s),Dh(this.l),vg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vg(this.opacity);return`${e===1?"hsl(":"hsla("}${rA(this.h)}, ${Dh(this.s)*100}%, ${Dh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rA(e){return e=(e||0)%360,e<0?e+360:e}function Dh(e){return Math.max(0,Math.min(1,e||0))}function gv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xk=e=>()=>e;function oq(e,t){return function(n){return e+n*t}}function lq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function cq(e){return(e=+e)==1?d_:function(t,n){return n-t?lq(t,n,e):xk(isNaN(t)?n:t)}}function d_(e,t){var n=t-e;return n?oq(e,n):xk(isNaN(e)?t:e)}const iA=function e(t){var n=cq(t);function r(i,a){var s=n((i=Rb(i)).r,(a=Rb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=d_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function uq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function dq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=nd(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function mq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nd(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Bb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xv=new RegExp(Bb.source,"g");function pq(e){return function(){return e}}function gq(e){return function(t){return e(t)+""}}function xq(e,t){var n=Bb.lastIndex=xv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Bb.exec(e))&&(i=xv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:yg(r,i)})),n=xv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?gq(l[0].x):pq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function nd(e,t){var n=typeof t,r;return t==null||n==="boolean"?xk(t):(n==="number"?yg:n==="string"?(r=Vf(t))?(t=r,iA):xq:t instanceof Vf?iA:t instanceof Date?mq:dq(t)?uq:Array.isArray(t)?fq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hq:yg)(e,t)}function vk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vq(e,t){t===void 0&&(t=e,e=nd);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function yq(e){return function(){return e}}function bg(e){return+e}var aA=[0,1];function Bi(e){return e}function zb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yq(isNaN(t)?NaN:.5)}function bq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=zb(i,r),a=n(s,a)):(r=zb(r,i),a=n(a,s)),function(o){return a(r(o))}}function kq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=zb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=gm(e,o,1,r)-1;return a[l](i[l](o))}}function vm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Y0(){var e=aA,t=aA,n=nd,r,i,a,s=Bi,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Bi&&(s=bq(e[0],e[h-1])),o=h>2?kq:wq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),yg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,bg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=vk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Bi,d()):s!==Bi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function yk(){return Y0()(Bi,Bi)}function Sq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Wu(e){return e=wg(Math.abs(e)),e?e[1]:NaN}function Nq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Cq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wf(e){if(!(t=jq.exec(e)))throw new Error("invalid format: "+e);var t;return new bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wf.prototype=bk.prototype;function bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var kg;function Pq(e,t){var n=wg(e,t);if(!n)return kg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(kg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+wg(e,Math.max(0,t+a-1))[0]}function sA(e,t){var n=wg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sA(e*100,t),r:sA,s:Pq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lA(e){return e}var cA=Array.prototype.map,uA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tq(e){var t=e.grouping===void 0||e.thousands===void 0?lA:Nq(cA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lA:Cq(cA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=Wf(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,w=f.comma,k=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):oA[N]||(k===void 0&&(k=12),C=!0,N="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),E=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),L=oA[N],P=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function M(O){var Z=j,ee=E,ae,ue,Q;if(N==="c")ee=L(O)+ee,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:L(Math.abs(O),k),C&&(O=Aq(O)),G&&+O==0&&g!=="+"&&(G=!1),Z=(G?g==="("?g:o:g==="-"||g==="("?"":g)+Z,ee=(N==="s"&&!isNaN(O)&&kg!==void 0?uA[8+kg/3]:"")+ee+(G&&g==="("?")":""),P){for(ae=-1,ue=O.length;++ae<ue;)if(Q=O.charCodeAt(ae),48>Q||Q>57){ee=(Q===46?i+O.slice(ae+1):O.slice(ae))+ee,O=O.slice(0,ae);break}}}w&&!x&&(O=t(O,1/0));var _=Z.length+O.length+ee.length,T=_<b?new Array(b-_+1).join(m):"";switch(w&&x&&(O=t(T+O,T.length?b-ee.length:1/0),T=""),p){case"<":O=Z+O+ee+T;break;case"=":O=Z+T+O+ee;break;case"^":O=T.slice(0,_=T.length>>1)+Z+O+ee+T.slice(_);break;default:O=T+Z+O+ee;break}return a(O)}return M.toString=function(){return f+""},M}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Wu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=Wf(f),f.type="f",f),{suffix:uA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Mh,wk,f_;Eq({thousands:",",grouping:[3],currency:["$",""]});function Eq(e){return Mh=Tq(e),wk=Mh.format,f_=Mh.formatPrefix,Mh}function Dq(e){return Math.max(0,-Wu(Math.abs(e)))}function Mq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wu(t)/3)))*3-Wu(Math.abs(e)))}function Oq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wu(t)-Wu(e))+1}function m_(e,t,n,r){var i=$b(e,t,n),a;switch(r=Wf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Mq(i,s))&&(r.precision=a),f_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Oq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Dq(i))&&(r.precision=a-(r.type==="%")*2);break}}return wk(r)}function vl(e){var t=e.domain;return e.ticks=function(n){var r=t();return _b(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return m_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Lb(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function h_(){var e=yk();return e.copy=function(){return vm(e,h_())},Za.apply(e,arguments),vl(e)}function p_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,bg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return p_(e).unknown(t)},e=arguments.length?Array.from(e,bg):[0,1],vl(n)}function g_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function dA(e){return Math.log(e)}function fA(e){return Math.exp(e)}function Iq(e){return-Math.log(-e)}function _q(e){return-Math.exp(-e)}function Lq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $q(e){return e===10?Lq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mA(e){return(t,n)=>-e(-t,n)}function kk(e){const t=e(dA,fA),n=t.domain;let r=10,i,a;function s(){return i=Fq(r),a=$q(r),n()[0]<0?(i=mA(i),a=mA(a),e(Iq,_q)):e(dA,fA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=_b(c,d,y))}else x=_b(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Wf(l)).precision==null&&(l.trim=!0),l=wk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(g_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function x_(){const e=kk(Y0()).domain([1,10]);return e.copy=()=>vm(e,x_()).base(e.base()),Za.apply(e,arguments),e}function hA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sk(e){var t=1,n=e(hA(t),pA(t));return n.constant=function(r){return arguments.length?e(hA(t=+r),pA(t)):t},vl(n)}function v_(){var e=Sk(Y0());return e.copy=function(){return vm(e,v_()).constant(e.constant())},Za.apply(e,arguments)}function gA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Bq(e){return e<0?-e*e:e*e}function Nk(e){var t=e(Bi,Bi),n=1;function r(){return n===1?e(Bi,Bi):n===.5?e(Rq,Bq):e(gA(n),gA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},vl(t)}function Ck(){var e=Nk(Y0());return e.copy=function(){return vm(e,Ck()).exponent(e.exponent())},Za.apply(e,arguments),e}function zq(){return Ck.apply(null,arguments).exponent(.5)}function xA(e){return Math.sign(e)*e*e}function Uq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function y_(){var e=yk(),t=[0,1],n=!1,r;function i(a){var s=Uq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(xA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,bg)).map(xA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return y_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Za.apply(i,arguments),vl(i)}function b_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=q7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[gm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(sl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return b_().domain(e).range(t).unknown(r)},Za.apply(a,arguments)}function w_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[gm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return w_().domain([e,t]).range(i).unknown(a)},Za.apply(vl(s),arguments)}function k_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[gm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return k_().domain(e).range(t).unknown(n)},Za.apply(i,arguments)}const vv=new Date,yv=new Date;function Xr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Xr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(vv.setTime(+a),yv.setTime(+s),e(vv),e(yv),Math.floor(n(vv,yv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Sg=Xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Sg);Sg.range;const ro=1e3,Ha=ro*60,io=Ha*60,vo=io*24,jk=vo*7,vA=vo*30,bv=vo*365,Zl=Xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ro)},(e,t)=>(t-e)/ro,e=>e.getUTCSeconds());Zl.range;const Ak=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ro)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getMinutes());Ak.range;const Pk=Xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCMinutes());Pk.range;const Tk=Xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ro-e.getMinutes()*Ha)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getHours());Tk.range;const Ek=Xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCHours());Ek.range;const ym=Xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ha)/vo,e=>e.getDate()-1);ym.range;const X0=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vo,e=>e.getUTCDate()-1);X0.range;const S_=Xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vo,e=>Math.floor(e/vo));S_.range;function Ac(e){return Xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ha)/jk)}const Q0=Ac(0),Ng=Ac(1),Vq=Ac(2),Wq=Ac(3),Hu=Ac(4),Hq=Ac(5),qq=Ac(6);Q0.range;Ng.range;Vq.range;Wq.range;Hu.range;Hq.range;qq.range;function Pc(e){return Xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jk)}const Z0=Pc(0),Cg=Pc(1),Kq=Pc(2),Gq=Pc(3),qu=Pc(4),Yq=Pc(5),Xq=Pc(6);Z0.range;Cg.range;Kq.range;Gq.range;qu.range;Yq.range;Xq.range;const Dk=Xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dk.range;const Mk=Xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mk.range;const yo=Xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yo.range;const bo=Xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bo.range;function N_(e,t,n,r,i,a){const s=[[Zl,1,ro],[Zl,5,5*ro],[Zl,15,15*ro],[Zl,30,30*ro],[a,1,Ha],[a,5,5*Ha],[a,15,15*Ha],[a,30,30*Ha],[i,1,io],[i,3,3*io],[i,6,6*io],[i,12,12*io],[r,1,vo],[r,2,2*vo],[n,1,jk],[t,1,vA],[t,3,3*vA],[e,1,bv]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=mk(([,,y])=>y).right(s,h);if(m===s.length)return e.every($b(c/bv,d/bv,f));if(m===0)return Sg.every(Math.max($b(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[Qq,Zq]=N_(bo,Mk,Z0,S_,Ek,Pk),[Jq,eK]=N_(yo,Dk,Q0,ym,Tk,Ak);function wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Td(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Ed(i),d=Dd(i),f=Ed(a),h=Dd(a),m=Ed(s),p=Dd(s),g=Ed(o),y=Dd(o),x=Ed(l),b=Dd(l),w={a:Q,A:G,b:_,B:T,c:null,d:NA,e:NA,f:NK,g:IK,G:LK,H:wK,I:kK,j:SK,L:C_,m:CK,M:jK,p:A,q:te,Q:AA,s:PA,S:AK,u:PK,U:TK,V:EK,w:DK,W:MK,x:null,X:null,y:OK,Y:_K,Z:$K,"%":jA},k={a:S,A:z,b:W,B:J,c:null,d:CA,e:CA,f:zK,g:QK,G:JK,H:FK,I:RK,j:BK,L:A_,m:UK,M:VK,p:q,q:re,Q:AA,s:PA,S:WK,u:HK,U:qK,V:KK,w:GK,W:YK,x:null,X:null,y:XK,Y:ZK,Z:eG,"%":jA},C={a:P,A:M,b:O,B:Z,c:ee,d:kA,e:kA,f:xK,g:wA,G:bA,H:SA,I:SA,j:mK,L:gK,m:fK,M:hK,p:L,q:dK,Q:yK,s:bK,S:pK,u:sK,U:oK,V:lK,w:aK,W:cK,x:ae,X:ue,y:wA,Y:bA,Z:uK,"%":vK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),k.x=N(n,k),k.X=N(r,k),k.c=N(t,k);function N($,V){return function(le){var ie=[],F=-1,B=0,I=$.length,ne,ke,Re;for(le instanceof Date||(le=new Date(+le));++F<I;)$.charCodeAt(F)===37&&(ie.push($.slice(B,F)),(ke=yA[ne=$.charAt(++F)])!=null?ne=$.charAt(++F):ke=ne==="e"?" ":"0",(Re=V[ne])&&(ne=Re(le,ke)),ie.push(ne),B=F+1);return ie.push($.slice(B,F)),ie.join("")}}function j($,V){return function(le){var ie=Td(1900,void 0,1),F=E(ie,$,le+="",0),B,I;if(F!=le.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(V&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(B=kv(Td(ie.y,0,1)),I=B.getUTCDay(),B=I>4||I===0?Cg.ceil(B):Cg(B),B=X0.offset(B,(ie.V-1)*7),ie.y=B.getUTCFullYear(),ie.m=B.getUTCMonth(),ie.d=B.getUTCDate()+(ie.w+6)%7):(B=wv(Td(ie.y,0,1)),I=B.getDay(),B=I>4||I===0?Ng.ceil(B):Ng(B),B=ym.offset(B,(ie.V-1)*7),ie.y=B.getFullYear(),ie.m=B.getMonth(),ie.d=B.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),I="Z"in ie?kv(Td(ie.y,0,1)).getUTCDay():wv(Td(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(I+5)%7:ie.w+ie.U*7-(I+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,kv(ie)):wv(ie)}}function E($,V,le,ie){for(var F=0,B=V.length,I=le.length,ne,ke;F<B;){if(ie>=I)return-1;if(ne=V.charCodeAt(F++),ne===37){if(ne=V.charAt(F++),ke=C[ne in yA?V.charAt(F++):ne],!ke||(ie=ke($,le,ie))<0)return-1}else if(ne!=le.charCodeAt(ie++))return-1}return ie}function L($,V,le){var ie=c.exec(V.slice(le));return ie?($.p=d.get(ie[0].toLowerCase()),le+ie[0].length):-1}function P($,V,le){var ie=m.exec(V.slice(le));return ie?($.w=p.get(ie[0].toLowerCase()),le+ie[0].length):-1}function M($,V,le){var ie=f.exec(V.slice(le));return ie?($.w=h.get(ie[0].toLowerCase()),le+ie[0].length):-1}function O($,V,le){var ie=x.exec(V.slice(le));return ie?($.m=b.get(ie[0].toLowerCase()),le+ie[0].length):-1}function Z($,V,le){var ie=g.exec(V.slice(le));return ie?($.m=y.get(ie[0].toLowerCase()),le+ie[0].length):-1}function ee($,V,le){return E($,t,V,le)}function ae($,V,le){return E($,n,V,le)}function ue($,V,le){return E($,r,V,le)}function Q($){return s[$.getDay()]}function G($){return a[$.getDay()]}function _($){return l[$.getMonth()]}function T($){return o[$.getMonth()]}function A($){return i[+($.getHours()>=12)]}function te($){return 1+~~($.getMonth()/3)}function S($){return s[$.getUTCDay()]}function z($){return a[$.getUTCDay()]}function W($){return l[$.getUTCMonth()]}function J($){return o[$.getUTCMonth()]}function q($){return i[+($.getUTCHours()>=12)]}function re($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var V=N($+="",w);return V.toString=function(){return $},V},parse:function($){var V=j($+="",!1);return V.toString=function(){return $},V},utcFormat:function($){var V=N($+="",k);return V.toString=function(){return $},V},utcParse:function($){var V=j($+="",!0);return V.toString=function(){return $},V}}}var yA={"-":"",_:" ",0:"0"},si=/^\s*\d+/,nK=/^%/,rK=/[\\^$*+?|[\]().{}]/g;function Cn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function iK(e){return e.replace(rK,"\\$&")}function Ed(e){return new RegExp("^(?:"+e.map(iK).join("|")+")","i")}function Dd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function aK(e,t,n){var r=si.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=si.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function bA(e,t,n){var r=si.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wA(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dK(e,t,n){var r=si.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function fK(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kA(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=si.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SA(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=si.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=si.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=si.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vK(e,t,n){var r=nK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yK(e,t,n){var r=si.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bK(e,t,n){var r=si.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NA(e,t){return Cn(e.getDate(),t,2)}function wK(e,t){return Cn(e.getHours(),t,2)}function kK(e,t){return Cn(e.getHours()%12||12,t,2)}function SK(e,t){return Cn(1+ym.count(yo(e),e),t,3)}function C_(e,t){return Cn(e.getMilliseconds(),t,3)}function NK(e,t){return C_(e,t)+"000"}function CK(e,t){return Cn(e.getMonth()+1,t,2)}function jK(e,t){return Cn(e.getMinutes(),t,2)}function AK(e,t){return Cn(e.getSeconds(),t,2)}function PK(e){var t=e.getDay();return t===0?7:t}function TK(e,t){return Cn(Q0.count(yo(e)-1,e),t,2)}function j_(e){var t=e.getDay();return t>=4||t===0?Hu(e):Hu.ceil(e)}function EK(e,t){return e=j_(e),Cn(Hu.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function DK(e){return e.getDay()}function MK(e,t){return Cn(Ng.count(yo(e)-1,e),t,2)}function OK(e,t){return Cn(e.getFullYear()%100,t,2)}function IK(e,t){return e=j_(e),Cn(e.getFullYear()%100,t,2)}function _K(e,t){return Cn(e.getFullYear()%1e4,t,4)}function LK(e,t){var n=e.getDay();return e=n>=4||n===0?Hu(e):Hu.ceil(e),Cn(e.getFullYear()%1e4,t,4)}function $K(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cn(t/60|0,"0",2)+Cn(t%60,"0",2)}function CA(e,t){return Cn(e.getUTCDate(),t,2)}function FK(e,t){return Cn(e.getUTCHours(),t,2)}function RK(e,t){return Cn(e.getUTCHours()%12||12,t,2)}function BK(e,t){return Cn(1+X0.count(bo(e),e),t,3)}function A_(e,t){return Cn(e.getUTCMilliseconds(),t,3)}function zK(e,t){return A_(e,t)+"000"}function UK(e,t){return Cn(e.getUTCMonth()+1,t,2)}function VK(e,t){return Cn(e.getUTCMinutes(),t,2)}function WK(e,t){return Cn(e.getUTCSeconds(),t,2)}function HK(e){var t=e.getUTCDay();return t===0?7:t}function qK(e,t){return Cn(Z0.count(bo(e)-1,e),t,2)}function P_(e){var t=e.getUTCDay();return t>=4||t===0?qu(e):qu.ceil(e)}function KK(e,t){return e=P_(e),Cn(qu.count(bo(e),e)+(bo(e).getUTCDay()===4),t,2)}function GK(e){return e.getUTCDay()}function YK(e,t){return Cn(Cg.count(bo(e)-1,e),t,2)}function XK(e,t){return Cn(e.getUTCFullYear()%100,t,2)}function QK(e,t){return e=P_(e),Cn(e.getUTCFullYear()%100,t,2)}function ZK(e,t){return Cn(e.getUTCFullYear()%1e4,t,4)}function JK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qu(e):qu.ceil(e),Cn(e.getUTCFullYear()%1e4,t,4)}function eG(){return"+0000"}function jA(){return"%"}function AA(e){return+e}function PA(e){return Math.floor(+e/1e3)}var Xc,T_,E_;tG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tG(e){return Xc=tK(e),T_=Xc.format,Xc.parse,E_=Xc.utcFormat,Xc.utcParse,Xc}function nG(e){return new Date(e)}function rG(e){return e instanceof Date?+e:+new Date(+e)}function Ok(e,t,n,r,i,a,s,o,l,c){var d=yk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),k=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?x:b:n(N)<N?w:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,rG)):h().map(nG)},d.ticks=function(N){var j=h();return e(j[0],j[j.length-1],N??10)},d.tickFormat=function(N,j){return j==null?C:c(j)},d.nice=function(N){var j=h();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?h(g_(j,N)):d},d.copy=function(){return vm(d,Ok(e,t,n,r,i,a,s,o,l,c))},d}function iG(){return Za.apply(Ok(Jq,eK,yo,Dk,Q0,ym,Tk,Ak,Zl,T_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aG(){return Za.apply(Ok(Qq,Zq,bo,Mk,Z0,X0,Ek,Pk,Zl,E_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function J0(){var e=0,t=1,n,r,i,a,s=Bi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(nd),c.rangeRound=d(vk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function D_(){var e=vl(J0()(Bi));return e.copy=function(){return yl(e,D_())},jo.apply(e,arguments)}function M_(){var e=kk(J0()).domain([1,10]);return e.copy=function(){return yl(e,M_()).base(e.base())},jo.apply(e,arguments)}function O_(){var e=Sk(J0());return e.copy=function(){return yl(e,O_()).constant(e.constant())},jo.apply(e,arguments)}function Ik(){var e=Nk(J0());return e.copy=function(){return yl(e,Ik()).exponent(e.exponent())},jo.apply(e,arguments)}function sG(){return Ik.apply(null,arguments).exponent(.5)}function I_(){var e=[],t=Bi;function n(r){if(r!=null&&!isNaN(r=+r))return t((gm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>H7(e,a/r))},n.copy=function(){return I_(t).domain(e)},jo.apply(n,arguments)}function ex(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Bi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,c=vq(g,[x,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(nd),m.rangeRound=p(vk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function __(){var e=vl(ex()(Bi));return e.copy=function(){return yl(e,__())},jo.apply(e,arguments)}function L_(){var e=kk(ex()).domain([.1,1,10]);return e.copy=function(){return yl(e,L_()).base(e.base())},jo.apply(e,arguments)}function $_(){var e=Sk(ex());return e.copy=function(){return yl(e,$_()).constant(e.constant())},jo.apply(e,arguments)}function _k(){var e=Nk(ex());return e.copy=function(){return yl(e,_k()).exponent(e.exponent())},jo.apply(e,arguments)}function oG(){return _k.apply(null,arguments).exponent(.5)}const Wd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pk,scaleDiverging:__,scaleDivergingLog:L_,scaleDivergingPow:_k,scaleDivergingSqrt:oG,scaleDivergingSymlog:$_,scaleIdentity:p_,scaleImplicit:Fb,scaleLinear:h_,scaleLog:x_,scaleOrdinal:hk,scalePoint:G7,scalePow:Ck,scaleQuantile:b_,scaleQuantize:w_,scaleRadial:y_,scaleSequential:D_,scaleSequentialLog:M_,scaleSequentialPow:Ik,scaleSequentialQuantile:I_,scaleSequentialSqrt:sG,scaleSequentialSymlog:O_,scaleSqrt:zq,scaleSymlog:v_,scaleThreshold:k_,scaleTime:iG,scaleUtc:aG,tickFormat:m_},Symbol.toStringTag,{value:"Module"}));var bl=e=>e.chartData,Lk=pe([bl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$k=(e,t,n,r)=>r?Lk(e):bl(e);function ul(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ur(t)&&Ur(n))return!0}return!1}function TA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function F_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Ur(n))i=n;else if(typeof n=="function")return;if(Ur(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ul(s))return s}}function lG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ul(r))return TA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Tt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&GC.test(i)){var l=GC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Tt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&YC.test(a)){var d=YC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ul(h))return t==null?h:TA(h,t,n)}}}var rd=1e9,cG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rk,dr=!0,Qa="[DecimalError] ",oc=Qa+"Invalid argument: ",Fk=Qa+"Exponent out of range: ",id=Math.floor,Ul=Math.pow,uG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa,ni=1e7,ir=7,R_=9007199254740991,jg=id(R_/ir),vt={};vt.absoluteValue=vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};vt.comparedTo=vt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};vt.decimalPlaces=vt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ir;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};vt.dividedBy=vt.div=function(e){return oo(this,new this.constructor(e))};vt.dividedToIntegerBy=vt.idiv=function(e){var t=this,n=t.constructor;return Wn(oo(t,new n(e),0,1),n.precision)};vt.equals=vt.eq=function(e){return!this.cmp(e)};vt.exponent=function(){return zr(this)};vt.greaterThan=vt.gt=function(e){return this.cmp(e)>0};vt.greaterThanOrEqualTo=vt.gte=function(e){return this.cmp(e)>=0};vt.isInteger=vt.isint=function(){return this.e>this.d.length-2};vt.isNegative=vt.isneg=function(){return this.s<0};vt.isPositive=vt.ispos=function(){return this.s>0};vt.isZero=function(){return this.s===0};vt.lessThan=vt.lt=function(e){return this.cmp(e)<0};vt.lessThanOrEqualTo=vt.lte=function(e){return this.cmp(e)<1};vt.logarithm=vt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(wa))throw Error(Qa+"NaN");if(n.s<1)throw Error(Qa+(n.s?"NaN":"-Infinity"));return n.eq(wa)?new r(0):(dr=!1,t=oo(Hf(n,a),Hf(e,a),a),dr=!0,Wn(t,i))};vt.minus=vt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U_(t,e):B_(t,(e.s=-e.s,e))};vt.modulo=vt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Qa+"NaN");return n.s?(dr=!1,t=oo(n,e,0,1).times(e),dr=!0,n.minus(t)):Wn(new r(n),i)};vt.naturalExponential=vt.exp=function(){return z_(this)};vt.naturalLogarithm=vt.ln=function(){return Hf(this)};vt.negated=vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};vt.plus=vt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B_(t,e):U_(t,(e.s=-e.s,e))};vt.precision=vt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oc+e);if(t=zr(i)+1,r=i.d.length-1,n=r*ir+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};vt.squareRoot=vt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Qa+"NaN")}for(e=zr(o),dr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=_s(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=id((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(oo(o,a,s+2)).times(.5),_s(a.d).slice(0,s)===(t=_s(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Wn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return dr=!0,Wn(r,n)};vt.times=vt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ni|0,t=o/ni|0;a[i]=(a[i]+t)%ni|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,dr?Wn(e,f.precision):e};vt.toDecimalPlaces=vt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Vs(e,0,rd),t===void 0?t=r.rounding:Vs(t,0,8),Wn(n,e+zr(n)+1,t))};vt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=bc(r,!0):(Vs(e,0,rd),t===void 0?t=i.rounding:Vs(t,0,8),r=Wn(new i(r),e+1,t),n=bc(r,!0,e+1)),n};vt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?bc(i):(Vs(e,0,rd),t===void 0?t=a.rounding:Vs(t,0,8),r=Wn(new a(i),e+zr(i)+1,t),n=bc(r.abs(),!1,e+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};vt.toInteger=vt.toint=function(){var e=this,t=e.constructor;return Wn(new t(e),zr(e)+1,t.rounding)};vt.toNumber=function(){return+this};vt.toPower=vt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(wa);if(o=new l(o),!o.s){if(e.s<1)throw Error(Qa+"Infinity");return o}if(o.eq(wa))return o;if(r=l.precision,e.eq(wa))return Wn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=R_){for(i=new l(wa),t=Math.ceil(r/ir+4),dr=!1;n%2&&(i=i.times(o),DA(i.d,t)),n=id(n/2),n!==0;)o=o.times(o),DA(o.d,t);return dr=!0,e.s<0?new l(wa).div(i):Wn(i,r)}}else if(a<0)throw Error(Qa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,dr=!1,i=e.times(Hf(o,r+c)),dr=!0,i=z_(i),i.s=a,i};vt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=zr(i),r=bc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Vs(e,1,rd),t===void 0?t=a.rounding:Vs(t,0,8),i=Wn(new a(i),e,t),n=zr(i),r=bc(i,e<=n||n<=a.toExpNeg,e)),r};vt.toSignificantDigits=vt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Vs(e,1,rd),t===void 0?t=r.rounding:Vs(t,0,8)),Wn(new r(n),e,t)};vt.toString=vt.valueOf=vt.val=vt.toJSON=vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zr(e),n=e.constructor;return bc(e,t<=n.toExpNeg||t>=n.toExpPos)};function B_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),dr?Wn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/ir),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ni|0,l[a]%=ni;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,dr?Wn(t,f):t}function Vs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(oc+e)}function _s(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=ir-r.length,n&&(a+=zo(n)),a+=r;s=e[t],r=s+"",n=ir-r.length,n&&(a+=zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var oo=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ni|0,s=a/ni|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ni+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,x,b,w,k,C,N,j,E,L=r.constructor,P=r.s==i.s?1:-1,M=r.d,O=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Qa+"Division by zero");for(l=r.e-i.e,j=O.length,C=M.length,m=new L(P),p=m.d=[],c=0;O[c]==(M[c]||0);)++c;if(O[c]>(M[c]||0)&&--l,a==null?b=a=L.precision:s?b=a+(zr(r)-zr(i))+1:b=a,b<0)return new L(0);if(b=b/ir+2|0,c=0,j==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*ni+(M[c]||0),p[c]=w/O|0,d=w%O|0;else{for(d=ni/(O[0]+1)|0,d>1&&(O=e(O,d),M=e(M,d),j=O.length,C=M.length),k=j,g=M.slice(0,j),y=g.length;y<j;)g[y++]=0;E=O.slice(),E.unshift(0),N=O[0],O[1]>=ni/2&&++N;do d=0,o=t(O,g,j,y),o<0?(x=g[0],j!=y&&(x=x*ni+(g[1]||0)),d=x/N|0,d>1?(d>=ni&&(d=ni-1),f=e(O,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,j<h?E:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(O,g,j,y),o<1&&(d++,n(g,j<y?E:O,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=M[k]||0:(g=[M[k]],y=1);while((k++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,Wn(m,s?a+zr(m)+1:a)}}();function z_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(zr(e)>16)throw Error(Fk+zr(e));if(!e.s)return new d(wa);for(dr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(Ul(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(wa),d.precision=o;;){if(i=Wn(i.times(e),o),n=n.times(++l),s=a.plus(oo(i,n,o)),_s(s.d).slice(0,o)===_s(a.d).slice(0,o)){for(;c--;)a=Wn(a.times(a),o);return d.precision=f,t==null?(dr=!0,Wn(a,f)):a}a=s}}function zr(e){for(var t=e.e*ir,n=e.d[0];n>=10;n/=10)t++;return t}function Sv(e,t,n){if(t>e.LN10.sd())throw dr=!0,n&&(e.precision=n),Error(Qa+"LN10 precision limit exceeded");return Wn(new e(e.LN10),t)}function zo(e){for(var t="";e--;)t+="0";return t}function Hf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Qa+(m.s?"NaN":"-Infinity"));if(m.eq(wa))return new g(0);if(t==null?(dr=!1,c=y):c=t,m.eq(10))return t==null&&(dr=!0),Sv(g,c);if(c+=h,g.precision=c,n=_s(p),r=n.charAt(0),a=zr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=_s(m.d),r=n.charAt(0),f++;a=zr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=Sv(g,c+2,y).times(a+""),m=Hf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(dr=!0,Wn(m,y)):m;for(o=s=m=oo(m.minus(wa),m.plus(wa),c),d=Wn(m.times(m),c),i=3;;){if(s=Wn(s.times(d),c),l=o.plus(oo(s,new g(i),c)),_s(l.d).slice(0,c)===_s(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Sv(g,c+2,y).times(a+""))),o=oo(o,new g(f),c),g.precision=y,t==null?(dr=!0,Wn(o,y)):o;o=l,i+=2}}function EA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=id(n/ir),e.d=[],r=(n+1)%ir,n<0&&(r+=ir),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ir;r<i;)e.d.push(+t.slice(r,r+=ir));t=t.slice(r),r=ir-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),dr&&(e.e>jg||e.e<-jg))throw Error(Fk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=ir,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/ir),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=ir,i=r-ir+s}if(n!==void 0&&(a=Ul(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Ul(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=zr(e),f.length=1,t=t-a-1,f[0]=Ul(10,(ir-t%ir)%ir),e.e=id(-t/ir)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ul(10,ir-r),f[d]=i>0?(c/Ul(10,s-i)%Ul(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ni&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ni)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(dr&&(e.e>jg||e.e<-jg))throw Error(Fk+zr(e));return e}function U_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),dr?Wn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/ir),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ni-1;--l[a],l[i]+=ni}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,dr?Wn(t,m):t):new h(0)}function bc(e,t,n){var r,i=zr(e),a=_s(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+zo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zo(-i-1)+a,n&&(r=n-s)>0&&(a+=zo(r))):i>=s?(a+=zo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+zo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=zo(r))),e.s<0?"-"+a:a}function DA(e,t){if(e.length>t)return e.length=t,!0}function V_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(oc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return EA(s,a.toString())}else if(typeof a!="string")throw Error(oc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,uG.test(a))EA(s,a);else throw Error(oc+a)}if(i.prototype=vt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=V_,i.config=i.set=dG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function dG(e){if(!e||typeof e!="object")throw Error(Qa+"Object expected");var t,n,r,i=["precision",1,rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(id(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(oc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(oc+n+": "+r);return this}var Rk=V_(cG);wa=new Rk(1);const Fn=Rk;var fG=e=>e,W_={},H_=e=>e===W_,MA=e=>function t(){return arguments.length===0||arguments.length===1&&H_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},q_=(e,t)=>e===1?t:MA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==W_).length;return a>=e?t(...r):q_(e-a,MA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>H_(d)?o.shift():d);return t(...c,...o)}))}),mG=e=>q_(e.length,e),Ub=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},hG=mG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),pG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return fG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function K_(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function G_(e,t,n){for(var r=new Fn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Y_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},X_=(e,t,n)=>{if(e.lte(0))return new Fn(0);var r=K_(e.toNumber()),i=new Fn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Fn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Fn(l.toNumber()):new Fn(Math.ceil(l.toNumber()))},gG=(e,t,n)=>{var r=new Fn(1),i=new Fn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Fn(10).pow(K_(e)-1),i=new Fn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Fn(Math.floor(e)))}else e===0?i=new Fn(Math.floor((t-1)/2)):n||(i=new Fn(Math.floor(e)));var s=Math.floor((t-1)/2),o=pG(hG(l=>i.add(new Fn(l-s).mul(r)).toNumber()),Ub);return o(0,t)},Q_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var s=X_(new Fn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Fn(0):(o=new Fn(t).add(n).div(2),o=o.sub(new Fn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Fn(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?Q_(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Fn(l).mul(s)),tickMax:o.add(new Fn(c).mul(s))})},xG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=Y_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Ub(0,i-1).map(()=>1/0)]:[...Ub(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return gG(o,i,a);var{step:d,tickMin:f,tickMax:h}=Q_(o,l,s,a,0),m=G_(f,h.add(new Fn(.1).mul(d)),d);return n>r?m.reverse():m},vG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=Y_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=X_(new Fn(o).sub(s).div(l-1),a,0),d=[...G_(new Fn(s),new Fn(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},yG=e=>e.rootProps.barCategoryGap,bm=e=>e.rootProps.stackOffset,Z_=e=>e.rootProps.reverseStackOrder,Bk=e=>e.options.chartName,zk=e=>e.rootProps.syncId,J_=e=>e.rootProps.syncMethod,Uk=e=>e.options.eventEmitter,mi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ba={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zs.angleAxisId,includeHidden:!1,name:void 0,reversed:Zs.reversed,scale:Zs.scale,tick:Zs.tick,tickCount:void 0,ticks:void 0,type:Zs.type,unit:void 0},wG={allowDataOverflow:ba.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ba.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ba.scale,tick:ba.tick,tickCount:ba.tickCount,ticks:void 0,type:ba.type,unit:void 0},kG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zs.scale,tick:Zs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SG={allowDataOverflow:ba.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ba.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ba.scale,tick:ba.tick,tickCount:ba.tickCount,ticks:void 0,type:"category",unit:void 0},Vk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?kG:bG,Wk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SG:wG,nx=e=>e.polarOptions,Hk=pe([No,Co,ai],QI),e3=pe([nx,Hk],(e,t)=>{if(e!=null)return Ca(e.innerRadius,t,0)}),t3=pe([nx,Hk],(e,t)=>{if(e!=null)return Ca(e.outerRadius,t,t*.8)}),NG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},n3=pe([nx],NG);pe([Vk,n3],tx);var r3=pe([Hk,e3,t3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});pe([Wk,r3],tx);var i3=pe([Vn,nx,e3,t3,No,Co],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Ca(s,i,i/2),cy:Ca(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),fr=(e,t)=>t,wm=(e,t,n)=>n;function a3(e){return e==null?void 0:e.id}function s3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=a3(o);c.forEach((f,h)=>{var m=a==null||i?h:String(sr(f,a,null)),p=sr(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function qk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var rx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ix(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function CG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qr=e=>{var t=Vn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ad=e=>e.tooltip.settings.axisId;function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){jG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jG(e,t,n){return(t=AG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vb=[0,"auto"],ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},o3=(e,t)=>e.cartesianAxis.xAxis[t],Ao=(e,t)=>{var n=o3(e,t);return n??ei},ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mm},l3=(e,t)=>e.cartesianAxis.yAxis[t],Po=(e,t)=>{var n=l3(e,t);return n??ti},TG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Kk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??TG},br=(e,t,n)=>{switch(t){case"xAxis":return Ao(e,n);case"yAxis":return Po(e,n);case"zAxis":return Kk(e,n);case"angleAxis":return Vk(e,n);case"radiusAxis":return Wk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},EG=(e,t,n)=>{switch(t){case"xAxis":return Ao(e,n);case"yAxis":return Po(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},km=(e,t,n)=>{switch(t){case"xAxis":return Ao(e,n);case"yAxis":return Po(e,n);case"angleAxis":return Vk(e,n);case"radiusAxis":return Wk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},c3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Gk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var u3=e=>e.graphicalItems.cartesianItems,DG=pe([fr,wm],Gk),Yk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Sm=pe([u3,br,DG],Yk,{memoizeOptions:{resultEqualityCheck:ix}}),d3=pe([Sm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qk)),f3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MG=pe([Sm],f3),Xk=e=>e.map(t=>t.data).filter(Boolean).flat(1),OG=pe([Sm],Xk,{memoizeOptions:{resultEqualityCheck:ix}}),Qk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Zk=pe([OG,$k],Qk),Jk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:sr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:sr(i,r)}))):e.map(r=>({value:r})),ax=pe([Zk,br,Sm],Jk);function m3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function op(e){if(zs(e)||e instanceof Date){var t=Number(e);if(Ur(t))return t}}function IA(e){if(Array.isArray(e)){var t=[op(e[0]),op(e[1])];return ul(t)?t:void 0}var n=op(e);if(n!=null)return[n,n]}function wo(e){return e.map(op).filter(Y8)}function IG(e,t,n){return!n||typeof t!="number"||Bs(t)?[]:n.length?wo(n.flatMap(r=>{var i=sr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ur(a)||!Ur(s)))return[t-a,t+s]})):[]}var Zr=e=>{var t=Qr(e),n=ad(e);return km(e,t,n)},Nm=pe([Zr],e=>e==null?void 0:e.dataKey),_G=pe([d3,$k,Zr],s3),h3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(a3);return[o,{stackedData:dW(e,d,n),graphicalItems:c}]}))},LG=pe([_G,d3,bm,Z_],h3),p3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=hW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},$G=pe([br],e=>e.allowDataOverflow),eS=e=>{var t;if(e==null||!("domain"in e))return Vb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=wo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vb},tS=pe([br],eS),nS=pe([tS,$G],F_),FG=pe([LG,bl,fr,nS],p3,{memoizeOptions:{resultEqualityCheck:rx}}),sx=e=>e.errorBars,RG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>m3(n,r)),Pg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},rS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>m3(i,x)),h=sr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=IG(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=IA(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=IA(sr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Ur(a)&&Ur(s))return[a,s]},BG=pe([Zk,br,MG,sx,fr],rS,{memoizeOptions:{resultEqualityCheck:rx}});function zG(e){var{value:t}=e;if(zs(t)||t instanceof Date)return t}var UG=(e,t,n)=>{var r=e.map(zG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&c5(r))?i_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},g3=e=>e.referenceElements.dots,sd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),VG=pe([g3,fr,wm],sd),x3=e=>e.referenceElements.areas,WG=pe([x3,fr,wm],sd),v3=e=>e.referenceElements.lines,HG=pe([v3,fr,wm],sd),y3=(e,t)=>{if(e!=null){var n=wo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qG=pe(VG,fr,y3),b3=(e,t)=>{if(e!=null){var n=wo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KG=pe([WG,fr],b3);function GG(e){var t;if(e.x!=null)return wo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:wo(n)}function YG(e){var t;if(e.y!=null)return wo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:wo(n)}var w3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?GG(r):YG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},XG=pe([HG,fr],w3),QG=pe(qG,XG,KG,(e,t,n)=>Pg(e,n,t)),iS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Pg(r,a,i):Pg(a,i);return lG(t,c,e.allowDataOverflow)},ZG=pe([br,tS,nS,FG,BG,QG,Vn,fr],iS,{memoizeOptions:{resultEqualityCheck:rx}}),JG=[0,1],aS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=xl(t,a);if(c&&o==null){var d;return i_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?UG(r,e,c):i==="expand"?JG:s}},sS=pe([br,Vn,Zk,ax,bm,fr,ZG],aS),k3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(cm(a));return o in Wd?o:"point"}}},od=pe([br,Vn,c3,Bk,fr],k3);function eY(e){if(e!=null){if(e in Wd)return Wd[e]();var t="scale".concat(cm(e));if(t in Wd)return Wd[t]()}}function oS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=eY(t);if(i!=null){var a=i.domain(n).range(r);return oW(a),a}}}var lS=(e,t,n)=>{var r=eS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(e))return xG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ul(e))return vG(e,t.tickCount,t.allowDecimals)}},cS=pe([sS,km,od],lS),uS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ul(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},tY=pe([br,sS,cS,fr],uS),nY=pe(ax,br,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),S3=pe(nY,Vn,yG,ai,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ur(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ca(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),rY=(e,t,n)=>{var r=Ao(e,t);return r==null||typeof r.padding!="string"?0:S3(e,"xAxis",t,n,r.padding)},iY=(e,t,n)=>{var r=Po(e,t);return r==null||typeof r.padding!="string"?0:S3(e,"yAxis",t,n,r.padding)},aY=pe(Ao,rY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),sY=pe(Po,iY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),oY=pe([ai,aY,B0,R0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),lY=pe([ai,Vn,sY,B0,R0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Cm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return oY(e,n,r);case"yAxis":return lY(e,n,r);case"zAxis":return(i=Kk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return n3(e);case"radiusAxis":return r3(e,n);default:return}},N3=pe([br,Cm],tx),ox=pe([br,od,tY,N3],oS);pe([Sm,sx,fr],RG);function C3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lx=(e,t)=>t,cx=(e,t,n)=>n,cY=pe($0,lx,cx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(C3)),uY=pe(F0,lx,cx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(C3)),j3=(e,t)=>({width:e.width,height:t.height}),dY=(e,t)=>{var n=typeof t.width=="number"?t.width:mm;return{width:n,height:e.height}},fY=pe(ai,Ao,j3),mY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},hY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},pY=pe(Co,ai,cY,lx,cx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=j3(t,o);s==null&&(s=mY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),gY=pe(No,ai,uY,lx,cx,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=dY(t,o);s==null&&(s=hY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),xY=(e,t)=>{var n=Ao(e,t);if(n!=null)return pY(e,n.orientation,n.mirror)},vY=pe([ai,Ao,xY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),yY=(e,t)=>{var n=Po(e,t);if(n!=null)return gY(e,n.orientation,n.mirror)},bY=pe([ai,Po,yY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),wY=pe(ai,Po,(e,t)=>{var n=typeof t.width=="number"?t.width:mm;return{width:n,height:e.height}}),A3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=xl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&c5(l))return l}},dS=pe([Vn,ax,br,fr],A3),P3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=xl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},fS=pe([Vn,ax,km,fr],P3),_A=pe([Vn,EG,od,ox,dS,fS,Cm,cS,fr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=xl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),kY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=xl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?ji(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:r(w)+p,value:x,offset:p}});return y.filter(x=>Ur(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:r(x)+p,value:x,index:b,offset:p})).filter(x=>Ur(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,b)=>({coordinate:r(x)+p,value:s?s[x]:x,index:b,offset:p}))}},T3=pe([Vn,km,od,ox,cS,Cm,dS,fS,fr],kY),SY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=xl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?ji(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},E3=pe([Vn,km,ox,Cm,dS,fS,fr],SY),D3=pe(br,ox,(e,t)=>{if(!(e==null||t==null))return Ag(Ag({},e),{},{scale:t})}),NY=pe([br,od,sS,N3],oS);pe((e,t,n)=>Kk(e,n),NY,(e,t)=>{if(!(e==null||t==null))return Ag(Ag({},e),{},{scale:t})});var CY=pe([Vn,$0,F0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),M3=e=>e.options.defaultTooltipEventType,O3=e=>e.options.validateTooltipEventTypes;function I3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function mS(e,t){var n=M3(e),r=O3(e);return I3(t,n,r)}function jY(e){return At(t=>mS(t,e))}var _3=(e,t)=>{var n,r=Number(t);if(!(Bs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},AY=e=>e.tooltip.settings,qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},PY={itemInteraction:{click:qo,hover:qo},axisInteraction:{click:qo,hover:qo},keyboardInteraction:qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},L3=ca({name:"tooltip",initialState:PY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:cr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ms(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:cr()},removeTooltipEntrySettings:{reducer(e,t){var n=ms(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:cr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:TY,replaceTooltipEntrySettings:EY,removeTooltipEntrySettings:DY,setTooltipSettingsState:MY,setActiveMouseOverItemIndex:$3,mouseLeaveItem:OY,mouseLeaveChart:F3,setActiveClickItemIndex:IY,setMouseOverAxisIndex:R3,setMouseClickAxisIndex:_Y,setSyncInteraction:Wb,setKeyboardInteraction:Hb}=L3.actions,LY=L3.reducer;function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){$Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Y(e,t,n){return(t=FY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function zY(e){return e.index!=null}var B3=(e,t,n,r)=>{if(t==null)return qo;var i=BY(e,t,n);if(i==null)return qo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(zY(i)){if(a)return Oh(Oh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Oh(Oh({},qo),{},{coordinate:i.coordinate})};function UY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function VY(e,t){var n=UY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function WY(e,t,n){if(n==null||t==null)return!0;var r=sr(e,t);return r==null||!ul(n)?!0:VY(r,n)}var hS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Ur(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||WY(c,n,r)?String(l):null},z3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},U3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},jm=e=>e.options.tooltipPayloadSearcher,ld=e=>e.tooltip;function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){HY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HY(e,t,n){return(t=qY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GY(e,t){return e??t}var V3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,x=GY(g,o),b=Array.isArray(x)?yI(x,c,d):x,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,k=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=u5(b,r,i):C=a(b,t,l,k),Array.isArray(C))C.forEach(j=>{var E=FA(FA({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(XC({tooltipEntrySettings:E,dataKey:j.dataKey,payload:j.payload,value:sr(j.payload,j.dataKey),name:j.name}))});else{var N;h.push(XC({tooltipEntrySettings:y,dataKey:w,payload:C,value:sr(C,w),name:(N=sr(C,k))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},pS=pe([Zr,Vn,c3,Bk,Qr],k3),YY=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),XY=pe([Qr,ad],Gk),cd=pe([YY,Zr,XY],Yk,{memoizeOptions:{resultEqualityCheck:ix}}),QY=pe([cd],e=>e.filter(qk)),ZY=pe([cd],Xk,{memoizeOptions:{resultEqualityCheck:ix}}),ud=pe([ZY,bl],Qk),JY=pe([QY,bl,Zr],s3),gS=pe([ud,Zr,cd],Jk),W3=pe([Zr],eS),eX=pe([Zr],e=>e.allowDataOverflow),H3=pe([W3,eX],F_),tX=pe([cd],e=>e.filter(qk)),nX=pe([JY,tX,bm,Z_],h3),rX=pe([nX,bl,Qr,H3],p3),iX=pe([cd],f3),aX=pe([ud,Zr,iX,sx,Qr],rS,{memoizeOptions:{resultEqualityCheck:rx}}),sX=pe([g3,Qr,ad],sd),oX=pe([sX,Qr],y3),lX=pe([x3,Qr,ad],sd),cX=pe([lX,Qr],b3),uX=pe([v3,Qr,ad],sd),dX=pe([uX,Qr],w3),fX=pe([oX,dX,cX],Pg),mX=pe([Zr,W3,H3,rX,aX,fX,Vn,Qr],iS),Am=pe([Zr,Vn,ud,gS,bm,Qr,mX],aS),hX=pe([Am,Zr,pS],lS),pX=pe([Zr,Am,hX,Qr],uS),q3=e=>{var t=Qr(e),n=ad(e),r=!1;return Cm(e,t,n,r)},K3=pe([Zr,q3],tx),G3=pe([Zr,pS,pX,K3],oS),gX=pe([Vn,gS,Zr,Qr],A3),xX=pe([Vn,gS,Zr,Qr],P3),vX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=xl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ji(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},To=pe([Vn,Zr,pS,G3,q3,gX,xX,Qr],vX),xS=pe([M3,O3,AY],(e,t,n)=>I3(n.shared,e,t)),Y3=e=>e.tooltip.settings.trigger,vS=e=>e.tooltip.settings.defaultIndex,Pm=pe([ld,xS,Y3,vS],B3),Ku=pe([Pm,ud,Nm,Am],hS),X3=pe([To,Ku],_3),Q3=pe([Pm],e=>{if(e)return e.dataKey}),yX=pe([Pm],e=>{if(e)return e.graphicalItemId}),Z3=pe([ld,xS,Y3,vS],U3),bX=pe([No,Co,Vn,ai,To,vS,Z3,jm],z3),wX=pe([Pm,bX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),kX=pe([Pm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),SX=pe([Z3,Ku,bl,Nm,X3,jm,xS],V3),NX=pe([SX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){CX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CX(e,t,n){return(t=jX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PX=()=>At(Zr),TX=()=>{var e=PX(),t=At(To),n=At(G3);return sg(!e||!n?void 0:BA(BA({},e),{},{scale:n}),t)};function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){EX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EX(e,t,n){return(t=DX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DX(e){var t=MX(e,"string");return typeof t=="symbol"?t:t+""}function MX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},IX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Qc(Qc(Qc({},r),Br(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Qc(Qc(Qc({},r),Br(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function _X(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var J3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(ji(p-m)!==ji(g-p)){var x=[];if(ji(g-p)===ji(i[1]-i[0])){y=g;var b=p+i[1]-i[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var k=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>k[0]&&e<=k[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),j=Math.max(m,g);if(e>(N+p)/2&&e<=(j+p)/2){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var L=0;L<s;L++){var P=t[L];if(P!=null){var M=t[L+1],O=t[L-1];if(L===0&&M!=null&&e<=(P.coordinate+M.coordinate)/2||L===s-1&&O!=null&&e>(P.coordinate+O.coordinate)/2||L>0&&L<s-1&&O!=null&&M!=null&&e>(P.coordinate+O.coordinate)/2&&e<=(P.coordinate+M.coordinate)/2)return P.index}}return-1},LX=()=>At(Bk),yS=(e,t)=>t,eL=(e,t,n)=>n,bS=(e,t,n,r)=>r,$X=pe(To,e=>j0(e,t=>t.coordinate)),wS=pe([ld,yS,eL,bS],B3),kS=pe([wS,ud,Nm,Am],hS),FX=(e,t,n)=>{if(t!=null){var r=ld(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},tL=pe([ld,yS,eL,bS],U3),Tg=pe([No,Co,Vn,ai,To,bS,tL,jm],z3),RX=pe([wS,Tg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),nL=pe([To,kS],_3),BX=pe([tL,kS,bl,Nm,nL,jm,yS],V3),zX=pe([wS,kS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),UX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&_X(e,s)){var o=pW(e,t),l=J3(o,a,i,n,r),c=OX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},VX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=P7(e,n);if(o){var l=gW(o,t),c=J3(l,s,a,r,i),d=IX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},WX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?UX(e,t,r,i,a,s,o):VX(e,t,n,r,i,a,s)},HX=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),qX=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(mi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:CG}});function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){KX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XX={},QX={zIndexMap:Object.values(mi).reduce((e,t)=>VA(VA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),XX)},ZX=new Set(Object.values(mi));function JX(e){return ZX.has(e)}var rL=ca({name:"zIndex",initialState:QX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:cr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!JX(n)&&delete e.zIndexMap[n])},prepare:cr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:cr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:cr()}}}),{registerZIndexPortal:eQ,unregisterZIndexPortal:tQ,registerZIndexPortalElement:nQ,unregisterZIndexPortalElement:rQ}=rL.actions,iQ=rL.reducer;function Ss(e){var{zIndex:t,children:n}=e,r=VW(),i=r&&t!==void 0&&t!==0,a=ua(),s=Qn();v.useLayoutEffect(()=>i?(s(eQ({zIndex:t})),()=>{s(tQ({zIndex:t}))}):um,[s,t,i]);var o=At(l=>HX(l,t,a));return i?o?td.createPortal(n,o):null:n}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){aQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aQ(e,t,n){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function cQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=UH,y=mi.cursorLine;else if(d==="BarChart")p=VH(o,f,a,s),g=XI,y=mi.cursorRectangle;else if(o==="radial"&&f5(f)){var{cx:x,cy:b,radius:w,startAngle:k,endAngle:C}=ZI(f);p={cx:x,cy:b,startAngle:k,endAngle:C,innerRadius:w,outerRadius:w},g=e_,y=mi.cursorLine}else p={points:M7(o,f,a)},g=fk,y=mi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,j=Ih(Ih(Ih(Ih({stroke:"#ccc",pointerEvents:"none"},a),p),Ru(l)),{},{payload:h,payloadIndex:m,className:Mn("recharts-tooltip-cursor",N)});return v.createElement(Ss,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(lQ,{cursor:l,cursorComp:g,cursorProps:j}))}function uQ(e){var t=TX(),n=OI(),r=hm(),i=LX();return t==null||n==null||r==null||i==null?null:v.createElement(cQ,qb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var iL=v.createContext(null),dQ=()=>v.useContext(iL),aL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var k=y.length,C;for(w=0;w<k;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(aL);var fQ=aL.exports;const mQ=ws(fQ);var qf=new mQ,Kb="recharts.syncEvent.tooltip",HA="recharts.syncEvent.brush";function sL(e,t){if(t){var n=Number.parseInt(t,10);if(!Bs(n))return e==null?void 0:e[n]}}var hQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oL=ca({name:"options",initialState:hQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pQ=oL.reducer,{createEventEmitter:gQ}=oL.actions;function xQ(e){return e.tooltip.syncInteraction}var vQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lL=ca({name:"chartData",initialState:vQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:qA,setDataStartEndIndexes:yQ,setComputedData:pge}=lL.actions,bQ=lL.reducer,wQ=["x","y"];function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){kQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kQ(e,t,n){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CQ(e,t){if(e==null)return{};var n,r,i=jQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AQ(){var e=At(zk),t=At(Uk),n=Qn(),r=At(J_),i=At(To),a=hm(),s=z0(),o=At(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return um;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=CQ(m,wQ),{x,y:b,width:w,height:k}=d.payload.sourceViewBox,C=Zc(Zc({},y),{},{x:s.x+(w?(p-x)/w:0)*s.width,y:s.y+(k?(g-b)/k:0)*s.height});n(Zc(Zc({},d),{},{payload:Zc(Zc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,j);N=i[E]}else r==="value"&&(N=i.find(ue=>String(ue.value)===d.payload.label));var{coordinate:L}=d.payload;if(N==null||d.payload.active===!1||L==null||s==null){n(Wb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:M}=L,O=Math.min(P,s.x+s.width),Z=Math.min(M,s.y+s.height),ee={x:a==="horizontal"?N.coordinate:O,y:a==="horizontal"?Z:N.coordinate},ae=Wb({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ae)}}};return qf.on(Kb,l),()=>{qf.off(Kb,l)}},[o,n,t,e,r,i,a,s])}function PQ(){var e=At(zk),t=At(Uk),n=Qn();v.useEffect(()=>{if(e==null)return um;var r=(i,a,s)=>{t!==s&&e===i&&n(yQ(a))};return qf.on(HA,r),()=>{qf.off(HA,r)}},[n,t,e])}function TQ(){var e=Qn();v.useEffect(()=>{e(gQ())},[e]),AQ(),PQ()}function EQ(e,t,n,r,i,a){var s=At(m=>FX(m,e,t)),o=At(Uk),l=At(zk),c=At(J_),d=At(xQ),f=d==null?void 0:d.active,h=z0();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Wb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});qf.emit(Kb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){DQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DQ(e,t,n){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e){return e.dataKey}function _Q(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(wH,t)}var XA=[],LQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wc(e){var t,n,r=Yr(e,LQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:k,portal:C,axisId:N}=r,j=Qn(),E=typeof k=="number"?String(k):k;v.useEffect(()=>{j(MY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:E}))},[j,b,w,N,i,E]);var L=z0(),P=HI(),M=jY(b),{activeIndex:O,isActive:Z}=(t=At(q=>zX(q,M,w,E)))!==null&&t!==void 0?t:{},ee=At(q=>BX(q,M,w,E)),ae=At(q=>nL(q,M,w,E)),ue=At(q=>RX(q,M,w,E)),Q=ee,G=dQ(),_=(n=i??Z)!==null&&n!==void 0?n:!1,[T,A]=V5([Q,_]),te=M==="axis"?ae:void 0;EQ(M,w,ue,te,O,_);var S=C??G;if(S==null||L==null||M==null)return null;var z=Q??XA;_||(z=XA),c&&z.length&&(z=D5(z.filter(q=>q.value!=null&&(q.hide!==!0||r.includeHidden)),h,IQ));var W=z.length>0,J=v.createElement(PH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:_,coordinate:ue,hasPayload:W,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:L,wrapperStyle:y,lastBoundingBox:T,innerRef:A,hasPortalFromProps:!!C},_Q(l,YA(YA({},r),{},{payload:z,label:te,active:_,activeIndex:O,coordinate:ue,accessibilityLayer:P})));return v.createElement(v.Fragment,null,td.createPortal(J,S),_&&v.createElement(uQ,{cursor:x,tooltipEventType:M,coordinate:ue,payload:z,index:O}))}var Gu=e=>null;Gu.displayName="Cell";function $Q(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BQ{constructor(t){$Q(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){UQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UQ(e,t,n){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HQ={cacheSize:2e3,enableCache:!0},cL=zQ({},HQ),ZA=new BQ(cL.cacheSize),qQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JA="recharts_measurement_span";function KQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var eP=(e,t)=>{try{var n=document.getElementById(JA);n||(n=document.createElement("span"),n.setAttribute("id",JA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,qQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||q0.isSsr)return{width:0,height:0};if(!cL.enableCache)return eP(t,n);var r=KQ(t,n),i=ZA.get(r);if(i)return i;var a=eP(t,n);return ZA.set(r,a),a},uL;function GQ(e,t,n){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eZ=["cm","mm","pt","pc","in","Q","px"];function tZ(e){return eZ.includes(e)}var gu="NaN";function nZ(e,t){return e*JQ[t]}class fi{static parse(t){var n,[,r,i]=(n=ZQ.exec(t))!==null&&n!==void 0?n:[];return r==null?fi.NaN:new fi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Bs(t)&&(this.unit=""),n!==""&&!QQ.test(n)&&(this.num=NaN,this.unit=""),tZ(n)&&(this.num=nZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new fi(NaN,""):new fi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new fi(NaN,""):new fi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fi(NaN,""):new fi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fi(NaN,""):new fi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bs(this.num)}}uL=fi;GQ(fi,"NaN",new uL(NaN,""));function dL(e){if(e==null||e.includes(gu))return gu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=tP.exec(t))!==null&&n!==void 0?n:[],s=fi.parse(r??""),o=fi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return gu;t=t.replace(tP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=nP.exec(t))!==null&&c!==void 0?c:[],m=fi.parse(d??""),p=fi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return gu;t=t.replace(nP,g.toString())}return t}var rP=/\(([^()]*)\)/;function rZ(e){for(var t=e,n;(n=rP.exec(t))!=null;){var[,r]=n;t=t.replace(rP,dL(r))}return t}function iZ(e){var t=e.replace(/\s+/g,"");return t=rZ(t),t=dL(t),t}function aZ(e){try{return iZ(e)}catch{return gu}}function Nv(e){var t=aZ(e.slice(5,-1));return t===gu?"":t}var sZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oZ=["dx","dy","angle","className","breakAll"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function iP(e,t){if(e==null)return{};var n,r,i=lZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fL=/[ \f\n\r\t\v\u2028\u2029]+/,mL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Gr(t)||(n?i=t.toString().split(""):i=t.toString().split(fL));var a=i.map(o=>({word:o,width:nf(o,r).width})),s=n?0:nf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function cZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),pL=e=>e.reduce((t,n)=>t.width>n.width?t:n),uZ="",aP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=mL({breakAll:n,style:r,children:l+uZ});if(!c)return[!1,[]];var d=hL(c.wordsWithComputedWidth,a,s,o),f=d.length>i||pL(d).width>Number(a);return[f,d]},dZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Tt(a),d=String(s),f=hL(t,r,n,i);if(!c||i)return f;var h=f.length>a||pL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),b=x-1,[w,k]=aP(d,b,l,o,a,r,n,i),[C]=aP(d,x,l,o,a,r,n,i);if(!w&&!C&&(m=x+1),w&&C&&(p=x-1),!w&&C){y=k;break}g++}return y||f},sP=e=>{var t=Gr(e)?[]:e.toString().split(fL);return[{words:t,width:void 0}]},fZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!q0.isSsr){var o,l,c=mL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return sP(r);return dZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return sP(r)},gL="#808080",mZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:gL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ux=v.forwardRef((e,t)=>{var n=Yr(e,mZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=iP(n,sZ),h=v.useMemo(()=>fZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:x}=f,b=iP(f,oZ);if(!zs(r)||!zs(i)||h.length===0)return null;var w=Number(r)+(Tt(m)?m:0),k=Number(i)+(Tt(p)?p:0);if(!Ur(w)||!Ur(k))return null;var C;switch(d){case"start":C=Nv("calc(".concat(s,")"));break;case"middle":C=Nv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=Nv("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var j=h[0].width,{width:E}=f;N.push("scale(".concat(Tt(E)&&Tt(j)?E/j:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(k,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",Gb({},Ui(b),{ref:t,x:w,y:k,className:Mn("recharts-text",y),textAnchor:c,fill:o.includes("url")?gL:o}),h.map((L,P)=>{var M=L.words.join(x?"":" ");return v.createElement("tspan",{x:w,dy:P===0?C:a,key:"".concat(M,"-").concat(P)},M)}))});ux.displayName="Text";var hZ=["labelRef"],pZ=["content"];function oP(e,t){if(e==null)return{};var n,r,i=gZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(r){xZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=yZ(e,"string");return typeof t=="symbol"?t:t+""}function yZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(null,arguments)}var xL=v.createContext(null),bZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(xL.Provider,{value:l},o)},vL=()=>{var e=v.useContext(xL),t=z0();return e||MI(t)},wZ=v.createContext(null),kZ=()=>{var e=v.useContext(wZ),t=At(i3);return e||t},SZ=e=>{var{value:t,formatter:n}=e,r=Gr(e.children)?t:e.children;return typeof n=="function"?n(r):r},SS=e=>e!=null&&typeof e=="function",NZ=(e,t)=>{var n=ji(t-e),r=Math.min(Math.abs(t-e),360);return n*r},CZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=NZ(f,h),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=h-y*a,b=!m;break;case"end":x=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Br(o,l,p,x),k=Br(o,l,p,x+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),N=Gr(e.id)?Of("recharts-radial-line-"):e.id;return v.createElement("text",Js({},r,{dominantBaseline:"central",className:Mn("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},jZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Br(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Br(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Yb=e=>"cx"in e&&Tt(e.cx),AZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Yb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,x=y*r,b=y>0?"end":"start",w=y>0?"start":"end",k=l>=0?1:-1,C=k*r,N=k>0?"end":"start",j=k>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return Dr(Dr({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var L={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:w};return Dr(Dr({},L),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var P={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Dr(Dr({},P),a?{width:Math.max(P.x-a.x,0),height:d}:{})}if(i==="right"){var M={x:m+p+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Dr(Dr({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Dr({x:m+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideRight"?Dr({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?Dr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:w},O):i==="insideBottom"?Dr({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?Dr({x:f+C,y:o+x,textAnchor:j,verticalAnchor:w},O):i==="insideTopRight"?Dr({x:f+l-C,y:o+x,textAnchor:N,verticalAnchor:w},O):i==="insideBottomLeft"?Dr({x:h+C,y:o+d-x,textAnchor:j,verticalAnchor:b},O):i==="insideBottomRight"?Dr({x:h+c-C,y:o+d-x,textAnchor:N,verticalAnchor:b},O):i&&typeof i=="object"&&(Tt(i.x)||go(i.x))&&(Tt(i.y)||go(i.y))?Dr({x:s+Ca(i.x,p),y:o+Ca(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Dr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},PZ={angle:0,offset:5,zIndex:mi.label,position:"middle",textBreakAll:!1};function Uo(e){var t=Yr(e,PZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=kZ(),f=vL(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:Yb(n)?m=n:m=MI(n),!m||Gr(i)&&Gr(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Dr(Dr({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=y,b=oP(y,hZ);return v.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,k=oP(y,pZ);if(p=v.createElement(s,k),v.isValidElement(p))return p}else p=SZ(t);var C=Ui(t);if(Yb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return CZ(t,r,p,C,m);g=jZ(m,t.offset,t.position)}else g=AZ(t,m);return v.createElement(Ss,{zIndex:t.zIndex},v.createElement(ux,Js({ref:c,className:Mn("recharts-label",o)},C,g,{textAnchor:cZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}Uo.displayName="Label";var TZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Uo,Js({key:"label-implicit"},r)):zs(e)?v.createElement(Uo,Js({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Uo?v.cloneElement(e,Dr({key:"label-implicit"},r)):v.createElement(Uo,Js({key:"label-implicit",content:e},r)):SS(e)?v.createElement(Uo,Js({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Uo,Js({},e,{key:"label-implicit"},r)):null};function EZ(e){var{label:t,labelRef:n}=e,r=vL();return TZ(t,r,n)||null}var yL={},bL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(bL);var wL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(wL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bL,n=wL,r=S0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(yL);var DZ=yL.last;const MZ=ws(DZ);var OZ=["valueAccessor"],IZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(null,arguments)}function cP(e,t){if(e==null)return{};var n,r,i=_Z(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LZ=e=>Array.isArray(e.value)?MZ(e.value):e.value,kL=v.createContext(void 0),$Z=kL.Provider,SL=v.createContext(void 0),FZ=SL.Provider;function RZ(){return v.useContext(kL)}function BZ(){return v.useContext(SL)}function lp(e){var{valueAccessor:t=LZ}=e,n=cP(e,OZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=cP(n,IZ),c=RZ(),d=BZ(),f=c||d;return!f||!f.length?null:v.createElement(Ss,{zIndex:o??mi.label},v.createElement(sa,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Gr(r)?t(h,m):sr(h&&h.payload,r),y=Gr(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(Uo,Eg({key:"label-".concat(m)},Ui(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}lp.displayName="LabelList";function NL(e){var{label:t}=e;return t?t===!0?v.createElement(lp,{key:"labelList-implicit"}):v.isValidElement(t)||SS(t)?v.createElement(lp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(lp,Eg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}var CL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Mn("recharts-dot",i);return Tt(t)&&Tt(n)&&Tt(r)?v.createElement("circle",Xb({},Ya(e),U1(e),{className:a,cx:t,cy:n,r})):null},jL=e=>e.graphicalItems.polarItems,zZ=pe([fr,wm],Gk),dx=pe([jL,br,zZ],Yk),UZ=pe([dx],Xk),fx=pe([UZ,Lk],Qk),VZ=pe([fx,br,dx],Jk);pe([fx,br,dx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=sr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:sr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var uP=()=>{},WZ=pe([fx,br,dx,sx,fr],rS),HZ=pe([br,tS,nS,uP,WZ,uP,Vn,fr],iS),AL=pe([br,Vn,fx,VZ,bm,fr,HZ],aS),qZ=pe([AL,br,od],lS);pe([br,AL,qZ,fr],uS);var KZ={radiusAxis:{},angleAxis:{}},PL=ca({name:"polarAxis",initialState:KZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:gge,removeRadiusAxis:xge,addAngleAxis:vge,removeAngleAxis:yge}=PL.actions,GZ=PL.reducer;function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){YZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZZ=(e,t)=>t,NS=pe([jL,ZZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),JZ=[],CS=(e,t,n)=>(n==null?void 0:n.length)===0?JZ:n,TL=pe([Lk,NS,CS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>fP(fP({},t.presentationProps),a.props))),i!=null)return i}}),eJ=pe([TL,NS,CS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=sr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:L0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),tJ=pe([TL,NS,CS,ai],(e,t,n,r)=>{if(!(t==null||e==null))return hee({offset:r,pieSettings:t,displayedData:e,cells:n})}),EL={exports:{}},qn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx=60103,hx=60106,Tm=60107,Em=60108,Dm=60114,Mm=60109,Om=60110,Im=60112,_m=60113,jS=60120,Lm=60115,$m=60116,DL=60121,ML=60122,OL=60117,IL=60129,_L=60131;if(typeof Symbol=="function"&&Symbol.for){var ci=Symbol.for;mx=ci("react.element"),hx=ci("react.portal"),Tm=ci("react.fragment"),Em=ci("react.strict_mode"),Dm=ci("react.profiler"),Mm=ci("react.provider"),Om=ci("react.context"),Im=ci("react.forward_ref"),_m=ci("react.suspense"),jS=ci("react.suspense_list"),Lm=ci("react.memo"),$m=ci("react.lazy"),DL=ci("react.block"),ML=ci("react.server.block"),OL=ci("react.fundamental"),IL=ci("react.debug_trace_mode"),_L=ci("react.legacy_hidden")}function Ns(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mx:switch(e=e.type,e){case Tm:case Dm:case Em:case _m:case jS:return e;default:switch(e=e&&e.$$typeof,e){case Om:case Im:case $m:case Lm:case Mm:return e;default:return t}}case hx:return t}}}var nJ=Mm,rJ=mx,iJ=Im,aJ=Tm,sJ=$m,oJ=Lm,lJ=hx,cJ=Dm,uJ=Em,dJ=_m;qn.ContextConsumer=Om;qn.ContextProvider=nJ;qn.Element=rJ;qn.ForwardRef=iJ;qn.Fragment=aJ;qn.Lazy=sJ;qn.Memo=oJ;qn.Portal=lJ;qn.Profiler=cJ;qn.StrictMode=uJ;qn.Suspense=dJ;qn.isAsyncMode=function(){return!1};qn.isConcurrentMode=function(){return!1};qn.isContextConsumer=function(e){return Ns(e)===Om};qn.isContextProvider=function(e){return Ns(e)===Mm};qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mx};qn.isForwardRef=function(e){return Ns(e)===Im};qn.isFragment=function(e){return Ns(e)===Tm};qn.isLazy=function(e){return Ns(e)===$m};qn.isMemo=function(e){return Ns(e)===Lm};qn.isPortal=function(e){return Ns(e)===hx};qn.isProfiler=function(e){return Ns(e)===Dm};qn.isStrictMode=function(e){return Ns(e)===Em};qn.isSuspense=function(e){return Ns(e)===_m};qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tm||e===Dm||e===IL||e===Em||e===_m||e===jS||e===_L||typeof e=="object"&&e!==null&&(e.$$typeof===$m||e.$$typeof===Lm||e.$$typeof===Mm||e.$$typeof===Om||e.$$typeof===Im||e.$$typeof===OL||e.$$typeof===DL||e[0]===ML)};qn.typeOf=Ns;EL.exports=qn;var fJ=EL.exports,mP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",hP=null,Cv=null,LL=e=>{if(e===hP&&Array.isArray(Cv))return Cv;var t=[];return v.Children.forEach(e,n=>{Gr(n)||(fJ.isFragment(n)?t=t.concat(LL(n.props.children)):t.push(n))}),Cv=t,hP=e,t};function $L(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>mP(i)):r=[mP(t)],LL(e).forEach(i=>{var a=pc(i,"type.displayName")||pc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var FL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,RL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(RL);var mJ=RL.isPlainObject;const hJ=ws(mJ);var pP,gP,xP,vP,yP;function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){pJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pJ(e,t,n){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}function Md(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kP=(e,t,n,r,i)=>{var a=n-r,s;return s=Cr(pP||(pP=Md(["M ",",",""])),e,t),s+=Cr(gP||(gP=Md(["L ",",",""])),e+n,t),s+=Cr(xP||(xP=Md(["L ",",",""])),e+n-a/2,t+i),s+=Cr(vP||(vP=Md(["L ",",",""])),e+n-a/2-r,t+i),s+=Cr(yP||(yP=Md(["L ",","," Z"])),e,t),s},vJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yJ=e=>{var t=Yr(e,vJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),b=v.useRef(n),w=v.useRef(r),k=G0(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ee=h.current.getTotalLength();ee&&p(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Mn("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",Dg({},Ui(t),{className:C,d:kP(n,r,i,a,s)})));var N=g.current,j=y.current,E=x.current,L=b.current,P=w.current,M="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),Z=qI(["strokeDasharray"],c,l);return v.createElement(K0,{animationId:k,key:k,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},ee=>{var ae=Ci(N,i,ee),ue=Ci(j,a,ee),Q=Ci(E,s,ee),G=Ci(L,n,ee),_=Ci(P,r,ee);h.current&&(g.current=ae,y.current=ue,x.current=Q,b.current=G,w.current=_);var T=ee>0?{transition:Z,strokeDasharray:O}:{strokeDasharray:M};return v.createElement("path",Dg({},Ui(t),{className:C,d:kP(G,_,ae,ue,Q),ref:h,style:wP(wP({},T),t.style)}))})},bJ=["option","shapeType","activeClassName"];function wJ(e,t){if(e==null)return{};var n,r,i=kJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jJ(e,t){return Mg(Mg({},t),e)}function AJ(e,t){return e==="symbols"}function NP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(XI,n);case"trapezoid":return v.createElement(yJ,n);case"sector":return v.createElement(e_,n);case"symbols":if(AJ(t))return v.createElement(z1,n);break;case"curve":return v.createElement(fk,n);default:return null}}function PJ(e){return v.isValidElement(e)?e.props:e}function BL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=wJ(e,bJ),a;if(v.isValidElement(t))a=v.cloneElement(t,Mg(Mg({},i),PJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(hJ(t)&&typeof t!="boolean"){var s=jJ(t,i);a=v.createElement(NP,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(NP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(sa,{className:r},a):a}var TJ=(e,t,n)=>{var r=Qn();return(i,a)=>s=>{e==null||e(i,a,s),r($3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},EJ=e=>{var t=Qn();return(n,r)=>i=>{e==null||e(n,r,i),t(OY())}},DJ=(e,t,n)=>{var r=Qn();return(i,a)=>s=>{e==null||e(i,a,s),r(IY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function zL(e){var{tooltipEntrySettings:t}=e,n=Qn(),r=ua(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(TY(t)):i.current!==t&&n(EY({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(DY(i.current)),i.current=null)},[n]),null}function MJ(e){var{legendPayload:t}=e,n=Qn(),r=ua(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(zI(t)):i.current!==t&&n(UI({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(VI(i.current)),i.current=null)},[n]),null}function OJ(e){var{legendPayload:t}=e,n=Qn(),r=At(Vn),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(zI(t)):i.current!==t&&n(UI({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(VI(i.current)),i.current=null)},[n]),null}var jv,IJ=()=>{var[e]=v.useState(()=>Of("uid-"));return e},_J=(jv=KR.useId)!==null&&jv!==void 0?jv:IJ;function LJ(e,t){var n=_J();return t||(e?"".concat(e,"-").concat(n):n)}var $J=v.createContext(void 0),UL=e=>{var{id:t,type:n,children:r}=e,i=LJ("recharts-".concat(n),t);return v.createElement($J.Provider,{value:i},r(i))},FJ={cartesianItems:[],polarItems:[]},VL=ca({name:"graphicalItems",initialState:FJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:cr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ms(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:cr()},removeCartesianGraphicalItem:{reducer(e,t){var n=ms(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:cr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:cr()},removePolarGraphicalItem:{reducer(e,t){var n=ms(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:cr()}}}),{addCartesianGraphicalItem:RJ,replaceCartesianGraphicalItem:BJ,removeCartesianGraphicalItem:zJ,addPolarGraphicalItem:UJ,removePolarGraphicalItem:VJ}=VL.actions,WJ=VL.reducer,HJ=e=>{var t=Qn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(RJ(e)):n.current!==e&&t(BJ({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(zJ(n.current)),n.current=null)},[t]),null},qJ=v.memo(HJ);function KJ(e){var t=Qn();return v.useLayoutEffect(()=>(t(UJ(e)),()=>{t(VJ(e))}),[t,e]),null}var GJ=["key"],YJ=["onMouseEnter","onClick","onMouseLeave"],XJ=["id"],QJ=["id"];function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){ZJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZJ(e,t,n){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JJ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}function px(e,t){if(e==null)return{};var n,r,i=tee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nee(e){var t=v.useMemo(()=>$L(e.children,Gu),[e.children]),n=At(r=>eJ(r,e.id,t));return n==null?null:v.createElement(OJ,{legendPayload:n})}var ree=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:L0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return v.createElement(zL,{tooltipEntrySettings:f})}),iee=(e,t)=>e>t?"start":e<t?"end":"middle",aee=(e,t,n)=>Ca(typeof t=="function"?t(e):t,n,n*.8),see=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=QI(a,s),l=i+Ca(e.cx,a,a/2),c=r+Ca(e.cy,s,s/2),d=Ca(e.innerRadius,o,0),f=aee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},oee=(e,t)=>{var n=ji(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function lee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var cee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Mn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=px(t,GJ);return v.createElement(fk,dl({},i,{type:"linear",className:n}))},uee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=Mn("recharts-pie-label-text",lee(e));return v.createElement(ux,dl({},t,{alignmentBaseline:"middle",className:i}),r)};function dee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ya(n),l=Ru(i),c=Ru(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Br(h.cx,h.cy,h.outerRadius+d,p),y=Ar(Ar(Ar(Ar({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:iee(g.x,h.cx)},g),x=Ar(Ar(Ar(Ar({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Br(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(Ss,{zIndex:mi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(sa,null,a&&cee(a,x),uee(i,y,sr(h,s))))});return v.createElement(sa,{className:"recharts-pie-labels"},f)}function fee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(NL,{label:i}):v.createElement(dee,{sectors:t,props:n,showLabels:r})}function mee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=At(Ku),l=At(Q3),c=At(yX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=px(i,YJ),p=TJ(d,i.dataKey,s),g=EJ(h),y=DJ(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,k=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&k?n:C,j=Ar(Ar({},x),{},{stroke:x.stroke,tabIndex:-1,[SI]:b,[NI]:s});return v.createElement(sa,dl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},V1(m,x,b),{onMouseEnter:p(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),v.createElement(BL,dl({option:a??N,index:b,shapeType:"sector",isActive:k},j)))}))}function hee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=oee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>sr(N,c,0)!==0).length,x=(p>=360?y:y-1)*g,b=p-y*h-x,w=r.reduce((N,j)=>{var E=sr(j,c,0);return N+(Tt(E)?E:0)},0),k;if(w>0){var C;k=r.map((N,j)=>{var E=sr(N,c,0),L=sr(N,d,j),P=see(n,a,N),M=(Tt(E)?E:0)/w,O,Z=Ar(Ar({},N),i&&i[j]&&i[j].props);j?O=C.endAngle+ji(m)*g*(E!==0?1:0):O=o;var ee=O+ji(m)*((E!==0?h:0)+M*b),ae=(O+ee)/2,ue=(P.innerRadius+P.outerRadius)/2,Q=[{name:L,value:E,payload:Z,dataKey:c,type:f,graphicalItemId:n.id}],G=Br(P.cx,P.cy,ue,ae);return C=Ar(Ar(Ar(Ar({},n.presentationProps),{},{percent:M,cornerRadius:typeof s=="string"?parseFloat(s):s,name:L,tooltipPayload:Q,midAngle:ae,middleRadius:ue,tooltipPosition:G},Z),P),{},{value:E,dataKey:c,startAngle:O,endAngle:ee,payload:Z,paddingAngle:ji(m)*g}),C})}return k}function pee(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(FZ,{value:t?i:void 0},r)}function gee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=G0(t,"recharts-pie-"),p=n.current,[g,y]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=v.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return v.createElement(pee,{showLabels:!g,sectors:i},v.createElement(K0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},w=>{var k=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((j,E)=>{var L=p&&p[E],P=E>0?pc(j,"paddingAngle",0):0;if(L){var M=Ci(L.endAngle-L.startAngle,j.endAngle-j.startAngle,w),O=Ar(Ar({},j),{},{startAngle:N+P,endAngle:N+M+P});k.push(O),N=O.endAngle}else{var{endAngle:Z,startAngle:ee}=j,ae=Ci(0,Z-ee,w),ue=Ar(Ar({},j),{},{startAngle:N+P,endAngle:N+ae+P});k.push(ue),N=ue.endAngle}}),n.current=k,v.createElement(sa,null,v.createElement(mee,{sectors:k,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(fee,{showLabels:!g,sectors:i,props:t}),t.children)}var xee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:mi.area};function vee(e){var{id:t}=e,n=px(e,XJ),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>$L(e.children,Gu),[e.children]),o=At(d=>tJ(d,t,s)),l=v.useRef(null),c=Mn("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(sa,{tabIndex:a,className:c})):v.createElement(Ss,{zIndex:e.zIndex},v.createElement(ree,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(sa,{tabIndex:a,className:c},v.createElement(gee,{props:Ar(Ar({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Og(e){var t=Yr(e,xee),{id:n}=t,r=px(t,QJ),i=Ya(r);return v.createElement(UL,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(KJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement(nee,dl({},r,{id:a})),v.createElement(vee,dl({},r,{id:a}))))}Og.displayName="Pie";var yee=["points"];function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return(t=wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ig.apply(null,arguments)}function See(e,t){if(e==null)return{};var n,r,i=Nee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Mn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=See(a,yee);return v.createElement(CL,Ig({},o,{className:i}))}function jee(e,t){return e==null?!1:t?!0:e.length===1}function Aee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=mi.scatter}=e;if(!jee(t,n))return null;var d=FL(n),f=a8(n),h=t.map((p,g)=>{var y,x,b=Av(Av(Av({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement(Cee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(Ss,{zIndex:c},v.createElement(sa,Ig({className:r},m),h))}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Pee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pee(e,t,n){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tee(e){var t=Eee(e,"string");return typeof t=="symbol"?t:t+""}function Eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dee={xAxis:{},yAxis:{},zAxis:{}},WL=ca({name:"cartesianAxis",initialState:Dee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:cr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:cr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:cr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:cr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:cr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:cr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:cr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:cr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:cr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=PP(PP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Mee,replaceXAxis:Oee,removeXAxis:Iee,addYAxis:_ee,replaceYAxis:Lee,removeYAxis:$ee,addZAxis:bge,replaceZAxis:wge,removeZAxis:kge,updateYAxisWidth:Fee}=WL.actions,Ree=WL.reducer,Bee=pe([ai],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),zee=pe([Bee,No,Co],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),AS=()=>At(zee),Uee=()=>At(NX);function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wee(e){var t=Hee(e,"string");return typeof t=="symbol"?t:t+""}function Hee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Pv(Pv(Pv({},o),Ru(i)),U1(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(CL,l),v.createElement(sa,{className:"recharts-active-dot",clipPath:s},c)};function Kee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=mi.activeDot}=e,o=At(Ku),l=Uee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Gr(c)?null:v.createElement(Ss,{zIndex:s},v.createElement(qee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var HL=e=>{var{chartData:t}=e,n=Qn(),r=ua();return v.useEffect(()=>r?()=>{}:(n(qA(t)),()=>{n(qA(void 0))}),[t,n,r]),null},EP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qL=ca({name:"brush",initialState:EP,reducers:{setBrushSettings(e,t){return t.payload==null?EP:t.payload}}}),{setBrushSettings:Sge}=qL.actions,Gee=qL.reducer;function Yee(e,t,n){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xee(e){var t=Qee(e,"string");return typeof t=="symbol"?t:t+""}function Qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PS{static create(t){return new PS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Yee(PS,"EPS",1e-4);function Zee(e){return(e%180+180)%180}var Jee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Zee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},ete={dots:[],areas:[],lines:[]},KL=ca({name:"referenceElements",initialState:ete,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ms(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ms(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ms(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Nge,removeDot:Cge,addArea:jge,removeArea:Age,addLine:Pge,removeLine:Tge}=KL.actions,tte=KL.reducer,nte=v.createContext(void 0),rte=e=>{var{children:t}=e,[n]=v.useState("".concat(Of("recharts"),"-clip")),r=AS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(nte.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function GL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ite(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Jee(r,n)}function ate(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Kf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function ste(e,t){return GL(e,t+1)}function ote(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:GL(r,c)};var g=l,y,x=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Kf(e,b,x,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function lte(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,k,C=()=>(k===void 0&&(k=n(b,w)),k),N=b.coordinate,j=p===d||Kf(e,N,C,f,l);if(!j)return h=!1,1;j&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cte(e,t,n){return(t=ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=ki(ki({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=ki(ki({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Kf(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=ki(ki({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function mte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=ki(ki({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Kf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=ki(ki({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],k,C=()=>(k===void 0&&(k=n(w,b)),k);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=ki(ki({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=ki(ki({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var j=Kf(e,w.tickCoord,C,l,c);j&&(l=w.tickCoord+e*(C()/2+i),s[b]=ki(ki({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function TS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Tt(l)||q0.isSsr){var h;return(h=ste(i,Tt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?nf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,k)=>{var C=typeof c=="function"?c(w.value,k):w.value;return p==="width"?ite(nf(C,{fontSize:t,letterSpacing:n}),g,f):nf(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?ji(i[1].coordinate-i[0].coordinate):1,b=ate(a,x,p);return l==="equidistantPreserveStart"?ote(x,b,y,i,s):l==="equidistantPreserveEnd"?lte(x,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=mte(x,b,y,i,s,l==="preserveStartEnd"):m=fte(x,b,y,i,s),m.filter(w=>w.isShow))}var hte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},pte=["axisLine","width","height","className","hide","ticks","axisType"];function gte(e,t){if(e==null)return{};var n,r,i=xte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){vte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vte(e,t,n){return(t=yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:mi.axis};function wte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Fr(Fr(Fr({},l),Ya(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Fr(Fr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Fr(Fr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",kc({},c,{className:Mn("recharts-cartesian-axis-line",pc(o,"className"))}))}function kte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,x=Tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=x;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function Ste(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Cte(e){var{option:t,tickProps:n,value:r}=e,i,a=Mn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Fr(Fr({},n),{},{className:a}));else if(typeof t=="function")i=t(Fr(Fr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Mn(s,t==null?void 0:t.className)),i=v.createElement(ux,kc({},n,{className:s}),r)}return i}var jte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:k,events:C,axisType:N}=e,j=TS(Fr(Fr({},k),{},{ticks:n}),b,w),E=Ste(d,f),L=Nte(d,f),P=Ya(k),M=Ru(r),O={};typeof i=="object"&&(O=i);var Z=Fr(Fr({},P),{},{fill:"none"},O),ee=j.map(Q=>Fr({entry:Q},kte(Q,h,m,p,g,d,y,f,x))),ae=ee.map(Q=>{var{entry:G,line:_}=Q;return v.createElement(sa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&v.createElement("line",kc({},Z,_,{className:Mn("recharts-cartesian-axis-tick-line",pc(i,"className"))})))}),ue=ee.map((Q,G)=>{var{entry:_,tick:T}=Q,A=Fr(Fr(Fr(Fr({textAnchor:E,verticalAnchor:L},P),{},{stroke:"none",fill:a},M),T),{},{index:G,payload:_,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return v.createElement(sa,kc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},V1(C,_,G)),r&&v.createElement(Cte,{option:r,tickProps:A,value:"".concat(typeof s=="function"?s(_.value,G):_.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ue.length>0&&v.createElement(Ss,{zIndex:mi.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ue)),ae.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ae))}),Ate=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=gte(e,pte),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return hte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),k=w.fontSize,C=w.letterSpacing;(k!==d||C!==h)&&(f(k),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Ss,{zIndex:e.zIndex},v.createElement(sa,{className:Mn("recharts-cartesian-axis",a)},v.createElement(wte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ya(e)}),v.createElement(jte,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(bZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(EZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),ES=v.forwardRef((e,t)=>{var n=Yr(e,lo);return v.createElement(Ate,kc({},n,{ref:t}))});ES.displayName="CartesianAxis";var Pte=["x1","y1","x2","y2","key"],Tte=["offset"],Ete=["xAxisId","yAxisId"],Dte=["xAxisId","yAxisId"];function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){Mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mte(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(null,arguments)}function _g(e,t){if(e==null)return{};var n,r,i=_te(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YL(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=_g(n,Pte),f=(i=Ya(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=_g(f,Tte);r=v.createElement("line",Jl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function $te(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=_g(e,Ete),l=i.map((c,d)=>{var f=Ni(Ni({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(YL,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Fte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=_g(e,Dte),l=i.map((c,d)=>{var f=Ni(Ni({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(YL,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Rte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Bte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var zte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return bI(TS(Ni(Ni(Ni({},lo),n),{},{ticks:wI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Ute=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return bI(TS(Ni(Ni(Ni({},lo),n),{},{ticks:wI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Vte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:mi.grid};function Gf(e){var t=lk(),n=ck(),r=OI(),i=Ni(Ni({},Yr(e,Vte)),{},{x:Tt(e.x)?e.x:r.left,y:Tt(e.y)?e.y:r.top,width:Tt(e.width)?e.width:r.width,height:Tt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ua(),g=At(L=>_A(L,"xAxis",a,p)),y=At(L=>_A(L,"yAxis",s,p));if(!Us(c)||!Us(d)||!Tt(o)||!Tt(l))return null;var x=i.verticalCoordinatesGenerator||zte,b=i.horizontalCoordinatesGenerator||Ute,{horizontalPoints:w,verticalPoints:k}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?Ni(Ni({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);og(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!k||!k.length)&&typeof x=="function"){var j=m&&m.length,E=x({xAxis:g?Ni(Ni({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},j?!0:f);og(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(k=E)}return v.createElement(Ss,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Lte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Rte,Jl({},i,{horizontalPoints:w})),v.createElement(Bte,Jl({},i,{verticalPoints:k})),v.createElement($te,Jl({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),v.createElement(Fte,Jl({},i,{offset:r,verticalPoints:k,xAxis:g,yAxis:y}))))}Gf.displayName="CartesianGrid";var Wte={},XL=ca({name:"errorBars",initialState:Wte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Ege,replaceErrorBar:Dge,removeErrorBar:Mge}=XL.actions,Hte=XL.reducer,qte=["children"];function Kte(e,t){if(e==null)return{};var n,r,i=Gte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xte=v.createContext(Yte);function Qte(e){var{children:t}=e,n=Kte(e,qte);return v.createElement(Xte.Provider,{value:n},t)}function QL(e,t){var n,r,i=At(c=>Ao(c,e)),a=At(c=>Po(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ei.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ti.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Zte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=AS(),{needClipX:a,needClipY:s,needClip:o}=QL(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var ZL=(e,t,n,r)=>D3(e,"xAxis",t,r),JL=(e,t,n,r)=>E3(e,"xAxis",t,r),e4=(e,t,n,r)=>D3(e,"yAxis",n,r),t4=(e,t,n,r)=>E3(e,"yAxis",n,r),Jte=pe([Vn,ZL,e4,JL,t4],(e,t,n,r,i)=>xl(e,"xAxis")?sg(t,r,!1):sg(n,i,!1)),ene=(e,t,n,r,i)=>i;function tne(e){return e.type==="line"}var nne=pe([u3,ene],(e,t)=>e.filter(tne).find(n=>n.id===t)),rne=pe([Vn,ZL,e4,JL,t4,nne,Jte,$k],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Gne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function ine(e){var t=Ru(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var ane={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=v;function sne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var one=typeof Object.is=="function"?Object.is:sne,lne=Fm.useSyncExternalStore,cne=Fm.useRef,une=Fm.useEffect,dne=Fm.useMemo,fne=Fm.useDebugValue;ane.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=cne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=dne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,one(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=lne(e,a[0],a[1]);return une(function(){s.hasValue=!0,s.value=o},[o]),fne(o),o};function mne(e){e()}function hne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var IP={notify(){},get:()=>[]};function pne(e,t){let n,r=IP,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=hne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=IP)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var gne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xne=gne(),vne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yne=vne(),bne=()=>xne||yne?v.useLayoutEffect:v.useEffect,wne=bne();function _P(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function kne(e,t){if(_P(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!_P(e[n[i]],t[n[i]]))return!1;return!0}var Tv=Symbol.for("react-redux-context"),Ev=typeof globalThis<"u"?globalThis:{};function Sne(){if(!v.createContext)return{};const e=Ev[Tv]??(Ev[Tv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Nne=Sne();function Cne(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=pne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);wne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Nne;return v.createElement(o.Provider,{value:a},t)}var jne=Cne,Ane=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Pne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function DS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ane.has(r)){if(e[r]==null&&t[r]==null)continue;if(!kne(e[r],t[r]))return!1}else if(!Pne(e[r],t[r]))return!1;return!0}var Tne=["id"],Ene=["type","layout","connectNulls","needClip","shape"],Dne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(null,arguments)}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){Mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mne(e,t,n){return(t=One(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function One(e){var t=Ine(e,"string");return typeof t=="symbol"?t:t+""}function Ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MS(e,t){if(e==null)return{};var n,r,i=_ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lne=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:L0(n,t),payload:e}]},$ne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:L0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(zL,{tooltipEntrySettings:f})}),n4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Fne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Rne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return n4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...Fne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Bne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=MS(r,Tne),c=Ya(l);return v.createElement(Aee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function zne(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Os(Os({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement($Z,{value:t?i:void 0},n)}function $P(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=MS(a,Ene),h=Os(Os({},Ui(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(BL,Yf({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement(Bne,{points:r,clipPathId:t,props:a}))}function Une(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Vne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,x=i.current,b=G0(s,"recharts-line-"),w=v.useRef(b),[k,C]=v.useState(!1),N=!k,j=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),E=v.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),L=Une(r.current),P=v.useRef(0);w.current!==b&&(P.current=a.current,w.current=b);var M=P.current;return v.createElement(zne,{points:s,showLabels:N},n.children,v.createElement(K0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:E,key:b},O=>{var Z=Ci(M,L+M,O),ee=Math.min(Z,L),ae;if(l)if(o){var ue="".concat(o).split(/[,\s]+/gim).map(_=>parseFloat(_));ae=Rne(ee,L,ue)}else ae=n4(L,ee);else ae=o==null?void 0:String(o);if(O>0&&L>0&&(i.current=s,a.current=Math.max(a.current,ee)),x){var Q=x.length/s.length,G=O===1?s:s.map((_,T)=>{var A=Math.floor(T*Q);if(x[A]){var te=x[A];return Os(Os({},_),{},{x:Ci(te.x,_.x,O),y:Ci(te.y,_.y,O)})}return h?Os(Os({},_),{},{x:Ci(m*2,_.x,O),y:Ci(p/2,_.y,O)}):Os(Os({},_),{},{x:_.x,y:_.y})});return i.current=G,v.createElement($P,{props:n,points:G,clipPathId:t,pathRef:r,strokeDasharray:ae})}return v.createElement($P,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ae})}),v.createElement(NL,{label:n.label}))}function Wne(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(Vne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Hne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:sr(e.payload,t)}};class qne extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Mn("recharts-line",i),g=f,{r:y,strokeWidth:x}=ine(n),b=FL(n),w=y*2+x,k=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return v.createElement(Ss,{zIndex:m},v.createElement(sa,{className:p},h&&v.createElement("defs",null,v.createElement(Zte,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),v.createElement(Qte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Hne,errorBarOffset:0},v.createElement(Wne,{props:this.props,clipPathId:g}))),v.createElement(Kee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var r4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:mi.line,type:"linear"};function Kne(e){var t=Yr(e,r4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=MS(t,Dne),{needClip:x}=QL(m,p),b=AS(),w=hm(),k=ua(),C=At(P=>rne(P,m,p,k,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:j,x:E,y:L}=b;return v.createElement(qne,Yf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:j,left:E,top:L,needClip:x}))}function Gne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=sr(c,s);if(t==="horizontal"){var h=KC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Gr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Gr(f)?null:n.scale(f),g=KC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Yne(e){var t=Yr(e,r4),n=ua();return v.createElement(UL,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(MJ,{legendPayload:Lne(t)}),v.createElement($ne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(qJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Kne,Yf({},t,{id:r}))))}var eo=v.memo(Yne,DS);eo.displayName="Line";var Xne=["domain","range"],Qne=["domain","range"];function FP(e,t){if(e==null)return{};var n,r,i=Zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function i4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=FP(e,Xne),{domain:a,range:s}=t,o=FP(t,Qne);return!RP(n,a)||!RP(r,s)?!1:DS(i,o)}var Jne=["dangerouslySetInnerHTML","ticks","scale"],ere=["id","scale"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function BP(e,t){if(e==null)return{};var n,r,i=tre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nre(e){var t=Qn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Oee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Iee(n.current)),n.current=null)},[t]),null}var rre=e=>{var{xAxisId:t,className:n}=e,r=At(CI),i=ua(),a="xAxis",s=At(x=>T3(x,a,t,i)),o=At(x=>fY(x,t)),l=At(x=>vY(x,t)),c=At(x=>o3(x,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=BP(e,Jne),{id:p,scale:g}=c,y=BP(c,ere);return v.createElement(ES,Qb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Mn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},ire={allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,angle:ei.angle,axisLine:lo.axisLine,height:ei.height,hide:!1,includeHidden:ei.includeHidden,interval:ei.interval,minTickGap:ei.minTickGap,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,tickLine:lo.tickLine,tickSize:lo.tickSize,type:ei.type,xAxisId:0},are=e=>{var t=Yr(e,ire);return v.createElement(v.Fragment,null,v.createElement(nre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(rre,t))},Xf=v.memo(are,i4);Xf.displayName="XAxis";var sre=["dangerouslySetInnerHTML","ticks","scale"],ore=["id","scale"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function zP(e,t){if(e==null)return{};var n,r,i=lre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cre(e){var t=Qn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(_ee(e)):n.current!==e&&t(Lee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t($ee(n.current)),n.current=null)},[t]),null}var ure=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=At(CI),l=ua(),c=Qn(),d="yAxis",f=At(N=>wY(N,t)),h=At(N=>bY(N,t)),m=At(N=>T3(N,d,t,l)),p=At(N=>l3(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||SS(i)||v.isValidElement(i)||p==null)){var N=a.current;if(N){var j=N.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(Fee({id:t,width:j}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,b=zP(e,sre),{id:w,scale:k}=p,C=zP(p,ore);return v.createElement(ES,Zb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Mn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},dre={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,angle:ti.angle,axisLine:lo.axisLine,hide:!1,includeHidden:ti.includeHidden,interval:ti.interval,minTickGap:ti.minTickGap,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,tickLine:lo.tickLine,tickSize:lo.tickSize,type:ti.type,width:ti.width,yAxisId:0},fre=e=>{var t=Yr(e,dre);return v.createElement(v.Fragment,null,v.createElement(cre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(ure,t))},Qf=v.memo(fre,i4);Qf.displayName="YAxis";var mre=(e,t)=>t,OS=pe([mre,Vn,i3,Qr,K3,To,$X,ai],WX),IS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},a4=Xa("mouseClick"),s4=fm();s4.startListening({actionCreator:a4,effect:(e,t)=>{var n=e.payload,r=OS(t.getState(),IS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(_Y({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Jb=Xa("mouseMove"),o4=fm(),_h=null;o4.startListening({actionCreator:Jb,effect:(e,t)=>{var n=e.payload;_h!==null&&cancelAnimationFrame(_h);var r=IS(n);_h=requestAnimationFrame(()=>{var i=t.getState(),a=mS(i,i.tooltip.settings.shared);if(a==="axis"){var s=OS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(R3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(F3())}_h=null})}});function hre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var UP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},l4=ca({name:"rootProps",initialState:UP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:UP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pre=l4.reducer,{updateOptions:gre}=l4.actions,c4=ca({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xre}=c4.actions,vre=c4.reducer,u4=Xa("keyDown"),d4=Xa("focus"),_S=fm();_S.startListening({actionCreator:u4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=hS(i,ud(n),Nm(n),Am(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=To(n);if(a==="Enter"){var c=Tg(n,"axis","hover",String(i.index));t.dispatch(Hb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=CY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=Tg(n,"axis","hover",String(m));t.dispatch(Hb({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});_S.startListening({actionCreator:d4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Tg(n,"axis","hover",String(a));t.dispatch(Hb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Fa=Xa("externalEvent"),f4=fm(),Dv=new Map;f4.startListening({actionCreator:Fa,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Dv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:wX(o),activeDataKey:Q3(o),activeIndex:Ku(o),activeLabel:X3(o),activeTooltipIndex:Ku(o),isTooltipActive:kX(o)};n(l,r)}finally{Dv.delete(i)}});Dv.set(i,s)}}});var yre=pe([ld],e=>e.tooltipItemPayloads),bre=pe([yre,jm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),m4=Xa("touchMove"),h4=fm();h4.startListening({actionCreator:m4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=mS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=OS(r,IS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(R3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(SI),f=(o=c.getAttribute(NI))!==null&&o!==void 0?o:void 0,h=cd(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=bre(r,d,f);t.dispatch($3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var wre=H5({brush:Gee,cartesianAxis:Ree,chartData:bQ,errorBars:Hte,graphicalItems:WJ,layout:nW,legend:rH,options:pQ,polarAxis:GZ,polarOptions:vre,referenceElements:tte,rootProps:pre,tooltip:LY,zIndex:iQ}),kre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return A9({reducer:wre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([s4.middleware,o4.middleware,_S.middleware,f4.middleware,h4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(sI({type:"raf"}))},devTools:{serialize:{replacer:hre},name:"recharts-".concat(n)}})};function p4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ua(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=kre(t,r));var s=Z1;return v.createElement(jne,{context:s,store:a.current},n)}function Sre(e){var{layout:t,margin:n}=e,r=Qn(),i=ua();return v.useEffect(()=>{i||(r(J9(t)),r(Z9(n)))},[r,i,t,n]),null}var g4=v.memo(Sre,DS);function x4(e){var t=Qn();return v.useEffect(()=>{t(gre(e))},[t,e]),null}function VP(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Qn();return v.useLayoutEffect(()=>(r.current&&i(nQ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(rQ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function WP(e){var{children:t,isPanorama:n}=e,r=At(qX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(VP,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(VP,{key:s,zIndex:s,isPanorama:n})))}var Nre=["children"];function Cre(e,t){if(e==null)return{};var n,r,i=jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lg.apply(null,arguments)}var Are={width:"100%",height:"100%",display:"block"},Pre=v.forwardRef((e,t)=>{var n=lk(),r=ck(),i=HI();if(!Us(n)||!Us(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(L1,Lg({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Are,ref:t}),a)}),Tre=e=>{var{children:t}=e,n=At(B0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(L1,{width:r,height:i,x:s,y:a},t)},HP=v.forwardRef((e,t)=>{var{children:n}=e,r=Cre(e,Nre),i=ua();return i?v.createElement(Tre,null,v.createElement(WP,{isPanorama:!0},n)):v.createElement(Pre,Lg({ref:t},r),v.createElement(WP,{isPanorama:!1},n))});function Ere(){var e=Qn(),[t,n]=v.useState(null),r=At(xW);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ur(a)&&a!==r&&e(tW(a))}},[t,e,r]),n}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){Mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mre(e,t,n){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ore(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}var _re=()=>(TQ(),null);function $g(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Lre=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:$g((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:$g((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(U0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Sc({ref:l},e)))}),$re=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:$g(n),containerHeight:$g(r)}),s=v.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(U0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Sc({ref:o},e)))}),Fre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(U0,{width:n,height:r}),v.createElement("div",Sc({ref:t},e)))}),Rre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return go(n)||go(r)?v.createElement($re,Sc({},e,{ref:t})):v.createElement(Fre,Sc({},e,{ref:t}))});function Bre(e){return e===!0?Lre:Rre}var zre=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,k=v.useRef(null),C=Qn(),[N,j]=v.useState(null),[E,L]=v.useState(null),P=Ere(),M=ok(),O=(M==null?void 0:M.width)>0?M.width:x,Z=(M==null?void 0:M.height)>0?M.height:i,ee=v.useCallback($=>{P($),typeof t=="function"&&t($),j($),L($),$!=null&&(k.current=$)},[P,t,j,L]),ae=v.useCallback($=>{C(a4($)),C(Fa({handler:a,reactEvent:$}))},[C,a]),ue=v.useCallback($=>{C(Jb($)),C(Fa({handler:c,reactEvent:$}))},[C,c]),Q=v.useCallback($=>{C(F3()),C(Fa({handler:d,reactEvent:$}))},[C,d]),G=v.useCallback($=>{C(Jb($)),C(Fa({handler:f,reactEvent:$}))},[C,f]),_=v.useCallback(()=>{C(d4())},[C]),T=v.useCallback($=>{C(u4($.key))},[C]),A=v.useCallback($=>{C(Fa({handler:s,reactEvent:$}))},[C,s]),te=v.useCallback($=>{C(Fa({handler:o,reactEvent:$}))},[C,o]),S=v.useCallback($=>{C(Fa({handler:l,reactEvent:$}))},[C,l]),z=v.useCallback($=>{C(Fa({handler:h,reactEvent:$}))},[C,h]),W=v.useCallback($=>{C(Fa({handler:g,reactEvent:$}))},[C,g]),J=v.useCallback($=>{w&&C(m4($)),C(Fa({handler:p,reactEvent:$}))},[C,w,p]),q=v.useCallback($=>{C(Fa({handler:m,reactEvent:$}))},[C,m]),re=Bre(b);return v.createElement(iL.Provider,{value:N},v.createElement(WO.Provider,{value:E},v.createElement(re,{width:O??(y==null?void 0:y.width),height:Z??(y==null?void 0:y.height),className:Mn("recharts-wrapper",r),style:Dre({position:"relative",cursor:"default",width:O,height:Z},y),onClick:ae,onContextMenu:A,onDoubleClick:te,onFocus:_,onKeyDown:T,onMouseDown:S,onMouseEnter:ue,onMouseLeave:Q,onMouseMove:G,onMouseUp:z,onTouchEnd:q,onTouchMove:J,onTouchStart:W,ref:ee},v.createElement(_re,null),n)))}),Ure=["width","height","responsive","children","className","style","compact","title","desc"];function Vre(e,t){if(e==null)return{};var n,r,i=Wre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var v4=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Vre(e,Ure),h=Ya(f);return l?v.createElement(v.Fragment,null,v.createElement(U0,{width:n,height:r}),v.createElement(HP,{otherAttributes:h,title:c,desc:d},a)):v.createElement(zre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(HP,{otherAttributes:h,title:c,desc:d,ref:t},v.createElement(rte,null,a)))});function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}var Hre={top:5,right:5,bottom:5,left:5},qre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Hre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Kre=v.forwardRef(function(t,n){var r,i=Yr(t.categoricalChartProps,qre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(p4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(HL,{chartData:c.data}),v.createElement(g4,{layout:i.layout,margin:i.margin}),v.createElement(x4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(v4,ew({},i,{ref:n})))}),Gre=["axis"],Fg=v.forwardRef((e,t)=>v.createElement(Kre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gre,tooltipPayloadSearcher:sL,categoricalChartProps:e,ref:t}));function Yre(e){var t=Qn();return v.useEffect(()=>{t(xre(e))},[t,e]),null}var Xre=["layout"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function Qre(e,t){if(e==null)return{};var n,r,i=Zre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jre={top:5,right:5,bottom:5,left:5},y4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},eie=v.forwardRef(function(t,n){var r,i=Yr(t.categoricalChartProps,y4),{layout:a}=i,s=Qre(i,Xre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(p4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(HL,{chartData:i.data}),v.createElement(g4,{layout:a,margin:i.margin}),v.createElement(x4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(Yre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(v4,tw({},s,{ref:n})))});function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){tie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tie(e,t,n){return(t=nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iie=["item"],aie=GP(GP({},y4),{},{layout:"centric",startAngle:0,endAngle:360}),nw=v.forwardRef((e,t)=>{var n=Yr(e,aie);return v.createElement(eie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:iie,tooltipPayloadSearcher:sL,categoricalChartProps:n,ref:t})});const Dn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),YP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",rf=new Map,Tu=new Map,sie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(rf.has(r)||Tu.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&rf.set(r,s),s})();Tu.set(r,i);try{await i}finally{Tu.delete(r)}}))},oie=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:rf.get(e)||YP:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=rf.get(e);if(r){n(r);return}let i=!0;const a=Tu.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&rf.set(e,l),l})();return Tu.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(YP)}}).finally(()=>{Tu.delete(e)}),()=>{i=!1}},[e]),t},lie=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(E=>{let L=(E==null?void 0:E.parentElement)||null;for(;L;){const P=window.getComputedStyle(L),M=`${P.overflow}${P.overflowY}${P.overflowX}`;if(/(auto|scroll|hidden)/.test(M))return L;L=L.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,x=f.top-g.top,b=y<h.height+8&&x>y?"top":"bottom";a(b);const w=6,k=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,j=Math.min(Math.max(k,C),N);o(j-k)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},cie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},b4=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,x),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},uie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Yl(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=lie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>ic(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Yl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},die=(e,t,n="w-4 h-4 object-contain")=>u.jsx(uie,{profession:e,professionList:t,className:n}),Mv=({count:e,classCounts:t,label:n,className:r})=>{const i=cie(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=b4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&td.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Yl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Tr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=oie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?u.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},XP=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),c=b4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&td.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Tr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},fie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:k,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:j,skillBarData:E,selectedSkillName:L,selectedSkillIcon:P,skillUsageReady:M,skillUsageAvailable:O,isSkillUsagePerSecond:Z,skillChartData:ee,skillChartMaxY:ae,playerTotalsForSkill:ue,hoveredSkillPlayer:Q,setHoveredSkillPlayer:G,getLineStrokeColor:_,getLineDashForPlayer:T,formatSkillUsageValue:A,renderProfessionIcon:te})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Dn,{value:x,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(S=>{const z=d.get(S);return z?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:z.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[z.logs," ",z.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(z.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(NO,{className:"w-3 h-3"})})]},z.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:S=>y(S.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(S=>{const z=h===S.profession,W=S.players.map(q=>q.key),J=W.length>0&&W.every(q=>o.includes(q));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(z){m(null);return}m(S.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${z?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(S.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:S.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[S.players.length,"p"]}),z?u.jsx(tb,{className:"w-3.5 h-3.5"}):u.jsx(g6,{className:"w-3.5 h-3.5"})]})]})}),z&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[S.players.length," ",S.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(q=>{if(J)return q.filter($=>!W.includes($));const re=new Set(q);return W.forEach($=>re.add($)),Array.from(re)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:J?"Clear All":"Select All"})]}),S.players.map(q=>{const re=o.includes(q.key);return u.jsx("button",{type:"button",onClick:()=>p(q.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${re?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:q.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[q.account,"  ",q.profession,"  ",q.logs," ",q.logs===1?"log":"logs"]})]}),re&&u.jsx(wO,{className:"w-4 h-4 text-cyan-300"})]})},q.key)})]})]},S.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${Z?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:k,onChange:S=>C(S.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):E.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const S=E.reduce((z,W)=>Math.max(z,W.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:E.map((z,W)=>{const J=Math.min(100,z.total/S*100),q=N===z.skillId;return u.jsxs("button",{type:"button",onClick:()=>j(z.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${q?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${W+1}`}),u.jsx(Tr,{name:z.name,iconUrl:z.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:A(z.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${J}%`,backgroundColor:z.color}})})]},z.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:M?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L?u.jsx(Tr,{name:L,iconUrl:P,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",Z?"casts per second":"casts per log",")"]})]}),u.jsx(xc,{width:"100%",height:250,children:u.jsxs(Fg,{data:ee,children:[u.jsx(Gf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Xf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:S=>{const z=ee[S],W=String((z==null?void 0:z.shortLabel)??S);return W.length>20?`${W.slice(0,20)}`:W}}),u.jsx(Qf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ae)],allowDecimals:!1}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:S,payload:z,label:W})=>{var $;if(!S||!z||z.length===0)return null;const J=[...z].sort((V,le)=>(le.value||0)-(V.value||0)),q=J[0],re=(($=q==null?void 0:q.payload)==null?void 0:$.fullLabel)||W;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:re}),u.jsx("div",{className:"space-y-1",children:J.map(V=>{const le=String(V.name||""),ie=d.get(le),F=(ie==null?void 0:ie.displayName)||le||"Player",B=A(Number(V.value||0)),I=V.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:I},children:F}),u.jsx("span",{className:"text-gray-200 font-mono",children:B})]},`${F}-${B}`)})})]})}}),o.map(S=>{const z=Q.includes(S),W=Q.length>0,J=_(S,z,W),q=T(S),re=Q.length>0&&!z;return u.jsx(eo,{dataKey:S,stroke:J,strokeWidth:z?4:3,strokeDasharray:q,opacity:re?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},S)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((S,z)=>(ue.get(z)||0)-(ue.get(S)||0)).map(S=>{const z=d.get(S),W=ue.get(S)??0,J=Q.includes(S),q=Q.length>0,re=_(S,J,q);return u.jsxs("button",{type:"button",onClick:()=>{G($=>$.includes(S)?$.filter(V=>V!==S):[...$,S])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${J?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":J,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:re,strokeWidth:"2",strokeDasharray:T(S),strokeLinecap:"round"})}),te(z==null?void 0:z.profession,z==null?void 0:z.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(z==null?void 0:z.displayName)||S}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(z==null?void 0:z.logs)??0," ",((z==null?void 0:z.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:A(W)})]},S)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),mie=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:k,scrollLeft:C}=h,N=w>k,j=n.current,E=(j==null?void 0:j.clientWidth)||0;if(!E){m=window.requestAnimationFrame(p);return}if(!N){i(E),s(0);return}const L=k/w,P=Math.max(20,Math.floor(E*L)),M=w-k,O=Math.max(0,E-P),Z=M>0?Math.floor(C/M*O):0;i(P),s(Z)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const x=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,x.width-r),k=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?k/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,x=Math.max(0,g.width-r),b=Math.min(x,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?b/x*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},vs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(mie,{containerRef:c})]})},ys=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(b=>b.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((b,w)=>{x.set(`${b.type}-${b.id}`,w)}),x},[p]),y=v.useMemo(()=>{const x=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:x,players:b}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[c];if(!x)return;const b=`${x.type}-${x.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},xr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},hie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:k,activeApmSkill:C,isAllApmSkills:N,apmView:j,setApmView:E,formatApmValue:L,formatCastRateValue:P,formatCastCountValue:M,renderProfessionIcon:O})=>{var q;const[Z,ee]=v.useState({key:"apm",dir:"desc"}),ae=e==="apm-stats",[ue,Q]=v.useState({columnId:"",dir:"desc"}),[G,_]=v.useState([]),[T,A]=v.useState([]),[te,S]=v.useState({}),z=ae?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,W=re=>{ee($=>({key:re,dir:$.key===re&&$.dir==="desc"?"asc":"desc"}))},J=v.useMemo(()=>{const re=[...(k==null?void 0:k.playerRows)||[]];return re.sort(($,V)=>{const le=Z.key==="apm"?Number(j==="perSecond"?$.aps:$.apm):Number(j==="perSecond"?$.apsNoAuto:$.apmNoAuto),ie=Z.key==="apm"?Number(j==="perSecond"?V.aps:V.apm):Number(j==="perSecond"?V.apsNoAuto:V.apmNoAuto);return(Z.dir==="desc"?ie-le:le-ie)||String($.displayName||"").localeCompare(String(V.displayName||""))}),re},[k,Z,j]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:re=>w(re.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:z,children:d.map(re=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const $=f!==re.profession;h(re.profession),p($?re.profession:m===re.profession?null:re.profession),$&&(y(x),_([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===re.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(re.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:re.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[re.players.length,"p"]})})]})}),!ae&&m===re.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:te[re.profession]||"",onChange:$=>{const V=$.target.value;S(le=>({...le,[re.profession]:V}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(re.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===re.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(re.skills||[]).filter($=>{const V=(te[re.profession]||"").trim().toLowerCase();return V?String($.name||"").toLowerCase().includes(V):!0}).map($=>u.jsx("button",{type:"button",onClick:()=>{h(re.profession),y($.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===re.profession&&g===$.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:$.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:$.name})]})},$.id)),(re.skills||[]).filter($=>{const V=(te[re.profession]||"").trim().toLowerCase();return V?String($.name||"").toLowerCase().includes(V):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},re.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:k?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ae&&(()=>{const re=k.skills||[],$=(k.playerRows||[]).map(F=>({id:F.key,label:F.displayName||F.account||F.key,icon:O(F.profession,F.professionList,"w-3 h-3")})),V=re.map(F=>({id:F.id,label:F.name,icon:F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),le=[...re.map(F=>({id:F.id,label:F.name,type:"column",icon:F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-4 w-4"}):void 0})),...(k.playerRows||[]).map(F=>({id:F.key,label:F.displayName||F.account||F.key,type:"player",icon:O(F.profession,F.professionList,"w-3 h-3")}))],ie=new Set([...G.map(F=>`column:${F}`),...T.map(F=>`player:${F}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:le,selectedIds:ie,onSelect:F=>{F.type==="column"?_(B=>B.includes(F.id)?B.filter(I=>I!==F.id):[...B,F.id]):A(B=>B.includes(F.id)?B.filter(I=>I!==F.id):[...B,F.id])},className:"w-full sm:w-64"}),u.jsx(xr,{options:V,selectedIds:G,onToggle:F=>{_(B=>B.includes(F)?B.filter(I=>I!==F):[...B,F])},onClear:()=>_([]),buttonLabel:"Columns",buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:$,selectedIds:T,onToggle:F=>{A(B=>B.includes(F)?B.filter(I=>I!==F):[...B,F])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:j,onChange:E,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(G.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),G.map(F=>{var I;const B=((I=re.find(ne=>ne.id===F))==null?void 0:I.name)||F;return u.jsxs("button",{type:"button",onClick:()=>_(ne=>ne.filter(ke=>ke!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},F)}),T.map(F=>{var I;const B=((I=$.find(ne=>ne.id===F))==null?void 0:I.label)||F;return u.jsxs("button",{type:"button",onClick:()=>A(ne=>ne.filter(ke=>ke!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},F)})]})]})})(),ae?(()=>{var F,B;const re=k.skills||[],$=G.length>0?re.filter(I=>G.includes(I.id)):re,V=T.length>0?(k.playerRows||[]).filter(I=>T.includes(I.key)):k.playerRows||[];if(re.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const le=((F=$.find(I=>I.id===ue.columnId))==null?void 0:F.id)||((B=$[0])==null?void 0:B.id)||"",ie=[...V].map(I=>{const ne={},ke={};return $.forEach(Re=>{var Oe;const se=Number(((Oe=Re.playerCounts)==null?void 0:Oe.get(I.key))||0),He=j==="perSecond"?se/Math.max(1,I.totalActiveSeconds||0):se;ke[Re.id]=He,ne[Re.id]=j==="perSecond"?P(He):M(He)}),{row:I,values:ne,numericValues:ke}}).sort((I,ne)=>{const ke=I.numericValues[le]??0,Re=ne.numericValues[le]??0;return(ue.dir==="desc"?Re-ke:ke-Re)||String(I.row.displayName||"").localeCompare(String(ne.row.displayName||""))});return u.jsx(vs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:le,sortDirection:ue.dir,onSortColumn:I=>{Q(ne=>({columnId:I,dir:ne.columnId===I&&ne.dir==="desc"?"asc":"desc"}))},columns:$.map(I=>({id:I.id,label:u.jsx(Tr,{name:I.name,iconUrl:I.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ie.map((I,ne)=>({id:`${k.profession}-${I.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),O(I.row.profession,I.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.row.displayName})]}),values:I.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(k.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Tr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((q=k.playerRows)==null?void 0:q.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>W("apm"),className:`text-right transition-colors ${Z.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM",Z.key==="apm"?Z.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>W("apmNoAuto"),className:`text-right transition-colors ${Z.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM"," (No Auto)",Z.key==="apmNoAuto"?Z.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:j==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:J.map((re,$)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${$+1}`}),O(re.profession,re.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:re.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(j==="perSecond"?re.aps:re.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(j==="perSecond"?re.apsNoAuto:re.apmNoAuto)})]},`${k.profession}-all-${re.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((re,$)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${$+1}`}),O(re.profession,re.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:re.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:M(Number(re.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(j==="perSecond"?re.aps||0:re.apm||0))})]},`${k.profession}-${C.id}-${re.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},pie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:b,setActiveClassKey:w,expandedClassKey:k,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:j,skillSearch:E,setSkillSearch:L,activePlayerBreakdown:P,activePlayerSkill:M,activeClassBreakdown:O,activeClassSkill:Z,renderProfessionIcon:ee})=>{const ae=d.length,ue=((P==null?void 0:P.skills)||[]).reduce((B,I)=>B+(I.damage||0),0),Q=(O==null?void 0:O.players)||[],[G,_]=v.useState({key:"down",dir:"desc"}),T=e==="player-breakdown",[A,te]=v.useState([]),[S,z]=v.useState([]),[W,J]=v.useState({columnId:"",dir:"desc"}),[q,re]=v.useState({}),[$,V]=v.useState({}),le=T?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ie=v.useMemo(()=>{if(!O||!Z)return Q;const B=[...Q];return B.sort((I,ne)=>{var xe,_e;const ke=(xe=I.skillMap)==null?void 0:xe[Z.id],Re=(_e=ne.skillMap)==null?void 0:_e[Z.id],se=Number((ke==null?void 0:ke.downContribution)||0),He=Number((Re==null?void 0:Re.downContribution)||0),Oe=Number((ke==null?void 0:ke.damage)||0),wt=Number((Re==null?void 0:Re.damage)||0),qt=I.totalFightMs>0?Oe/(I.totalFightMs/1e3):0,gn=ne.totalFightMs>0?wt/(ne.totalFightMs/1e3):0;let Bn=0;return G.key==="down"&&(Bn=se-He),G.key==="damage"&&(Bn=Oe-wt),G.key==="dps"&&(Bn=qt-gn),G.dir==="asc"?Bn:-Bn}),B},[O,Q,Z,G]),F=B=>{_(I=>I.key!==B?{key:B,dir:"desc"}:{key:B,dir:I.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ae," ",ae===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:T?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!T&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(B=>{const I=l===B.id;return u.jsx("button",{type:"button",onClick:()=>c(B.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${I?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:B.label},B.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:E,onChange:B=>L(B.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:le,children:(T?"class":l)==="player"?d.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=h!==B.key;I&&(x(null),te([]),z([])),m(B.key),g(I?B.key:p===B.key?null:B.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===B.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:B.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(B.profession,B.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:B.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[B.skills.length," skills"]})})]})}),!T&&p===B.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:q[B.key]||"",onChange:I=>{const ne=I.target.value;re(ke=>({...ke,[B.key]:ne}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(I=>{const ne=(q[B.key]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{m(B.key),x(I.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===B.key&&y===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:I.name})]})},I.id)),B.skills.filter(I=>{const ne=(q[B.key]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.key)):f.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=b!==B.profession;I&&(j(null),te([]),z([])),w(B.profession),C(I?B.profession:k===B.profession?null:B.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===B.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(B.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[B.players.length,"p"]})})]})}),!T&&k===B.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:$[B.profession]||"",onChange:I=>{const ne=I.target.value;V(ke=>({...ke,[B.profession]:ne}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(I=>{const ne=($[B.profession]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{w(B.profession),j(I.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===B.profession&&N===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:I.name})]})},I.id)),B.skills.filter(I=>{const ne=($[B.profession]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(T?"class":l)==="player"?!P||!T&&!M?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[T&&(()=>{const B=P.skills||[],I=d.map(se=>({id:se.key,label:se.displayName||se.key,icon:ee(se.profession,se.professionList,"w-3 h-3")})),ne=B.map(se=>({id:se.id,label:se.name,icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ke=[...B.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(se=>({id:se.key,label:se.displayName||se.key,type:"player",icon:ee(se.profession,se.professionList,"w-3 h-3")}))],Re=new Set([...A.map(se=>`column:${se}`),...S.map(se=>`player:${se}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:ke,selectedIds:Re,onSelect:se=>{se.type==="column"?te(He=>He.includes(se.id)?He.filter(Oe=>Oe!==se.id):[...He,se.id]):z(He=>He.includes(se.id)?He.filter(Oe=>Oe!==se.id):[...He,se.id])},className:"w-full sm:w-64"}),u.jsx(xr,{options:ne,selectedIds:A,onToggle:se=>{te(He=>He.includes(se)?He.filter(Oe=>Oe!==se):[...He,se])},onClear:()=>te([]),buttonLabel:"Columns",buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:I,selectedIds:S,onToggle:se=>{z(He=>He.includes(se)?He.filter(Oe=>Oe!==se):[...He,se])},onClear:()=>z([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||S.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(se=>{var Oe;const He=((Oe=B.find(wt=>wt.id===se))==null?void 0:Oe.name)||se;return u.jsxs("button",{type:"button",onClick:()=>te(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},se)}),S.map(se=>{var Oe;const He=((Oe=I.find(wt=>wt.id===se))==null?void 0:Oe.label)||se;return u.jsxs("button",{type:"button",onClick:()=>z(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),T?(()=>{var se,He;const B=P.skills||[],I=A.length>0?B.filter(Oe=>A.includes(Oe.id)):B,ne=S.length>0?d.filter(Oe=>S.includes(Oe.key)):d,ke=((se=I.find(Oe=>Oe.id===W.columnId))==null?void 0:se.id)||((He=I[0])==null?void 0:He.id)||"",Re=ne.map(Oe=>{const wt={},qt={};return I.forEach(gn=>{var _e;const Bn=(_e=Oe.skillMap)==null?void 0:_e[gn.id],xe=Number((Bn==null?void 0:Bn.damage)||0);qt[gn.id]=xe,wt[gn.id]=$o(xe)}),{player:Oe,values:wt,numericValues:qt}}).sort((Oe,wt)=>{const qt=Oe.numericValues[ke]??0,gn=wt.numericValues[ke]??0;return(W.dir==="desc"?gn-qt:qt-gn)||String(Oe.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return u.jsx(vs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ke,sortDirection:W.dir,onSortColumn:Oe=>{J(wt=>({columnId:Oe,dir:wt.columnId===Oe&&wt.dir==="desc"?"asc":"desc"}))},columns:I.map(Oe=>({id:Oe.id,label:u.jsx(Tr,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Re.map((Oe,wt)=>({id:`${Oe.player.key}-${wt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),ee(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(P.profession,P.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:P.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Tr,{name:(M==null?void 0:M.name)||"",iconUrl:M==null?void 0:M.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[P.skills.length," skills | ",$o(ue)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:$o((M==null?void 0:M.downContribution)||0)},{label:"Total Damage",value:$o((M==null?void 0:M.damage)||0)},{label:"DPS",value:va(P.totalFightMs>0?((M==null?void 0:M.damage)||0)/(P.totalFightMs/1e3):0,1)}].map(B=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:B.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:B.value})]},B.label))})]})]}):!O||!T&&!Z?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[T&&(()=>{const B=O.skills||[],I=Q.map(se=>({id:se.key,label:se.displayName||se.key,icon:ee(se.profession,se.professionList,"w-3 h-3")})),ne=B.map(se=>({id:se.id,label:se.name,icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ke=[...B.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...Q.map(se=>({id:se.key,label:se.displayName||se.key,type:"player",icon:ee(se.profession,se.professionList,"w-3 h-3")}))],Re=new Set([...A.map(se=>`column:${se}`),...S.map(se=>`player:${se}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:ke,selectedIds:Re,onSelect:se=>{se.type==="column"?te(He=>He.includes(se.id)?He.filter(Oe=>Oe!==se.id):[...He,se.id]):z(He=>He.includes(se.id)?He.filter(Oe=>Oe!==se.id):[...He,se.id])},className:"w-full sm:w-64"}),u.jsx(xr,{options:ne,selectedIds:A,onToggle:se=>{te(He=>He.includes(se)?He.filter(Oe=>Oe!==se):[...He,se])},onClear:()=>te([]),buttonLabel:"Columns",buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:I,selectedIds:S,onToggle:se=>{z(He=>He.includes(se)?He.filter(Oe=>Oe!==se):[...He,se])},onClear:()=>z([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||S.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(se=>{var Oe;const He=((Oe=B.find(wt=>wt.id===se))==null?void 0:Oe.name)||se;return u.jsxs("button",{type:"button",onClick:()=>te(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},se)}),S.map(se=>{var Oe;const He=((Oe=I.find(wt=>wt.id===se))==null?void 0:Oe.label)||se;return u.jsxs("button",{type:"button",onClick:()=>z(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:He}),u.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),T?(()=>{var se,He;const B=O.skills||[],I=A.length>0?B.filter(Oe=>A.includes(Oe.id)):B,ne=S.length>0?Q.filter(Oe=>S.includes(Oe.key)):Q,ke=((se=I.find(Oe=>Oe.id===W.columnId))==null?void 0:se.id)||((He=I[0])==null?void 0:He.id)||"",Re=ne.map(Oe=>{const wt={},qt={};return I.forEach(gn=>{var _e;const Bn=(_e=Oe.skillMap)==null?void 0:_e[gn.id],xe=Number((Bn==null?void 0:Bn.damage)||0);qt[gn.id]=xe,wt[gn.id]=$o(xe)}),{player:Oe,values:wt,numericValues:qt}}).sort((Oe,wt)=>{const qt=Oe.numericValues[ke]??0,gn=wt.numericValues[ke]??0;return(W.dir==="desc"?gn-qt:qt-gn)||String(Oe.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return u.jsx(vs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ke,sortDirection:W.dir,onSortColumn:Oe=>{J(wt=>({columnId:Oe,dir:wt.columnId===Oe&&wt.dir==="desc"?"asc":"desc"}))},columns:I.map(Oe=>({id:Oe.id,label:u.jsx(Tr,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Re.map((Oe,wt)=>({id:`${Oe.player.key}-${wt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),ee(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Tr,{name:(Z==null?void 0:Z.name)||"",iconUrl:Z==null?void 0:Z.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[Q.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:G.key==="down"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>F("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:G.key==="damage"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>F("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:G.key==="dps"?G.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ie.map(B=>{var se;const I=(se=B.skillMap)==null?void 0:se[(Z==null?void 0:Z.id)||""],ne=Number((I==null?void 0:I.downContribution)||0),ke=Number((I==null?void 0:I.damage)||0),Re=B.totalFightMs>0?ke/(B.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(B.profession,B.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:B.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$o(ne)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$o(ke)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:va(Re,1)})]},`${O.profession}-${B.key}`)})})]})]})})]})})]})},w4=({className:e})=>u.jsx(T6,{className:e,style:{transform:"rotate(45deg)"}}),Eo=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),bs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),gie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var T;const[w,k]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((T=t[0])==null?void 0:T.id)||"value",dir:"desc"}),j=f==="offense-detailed",[E,L]=v.useState([]),[P,M]=v.useState([]),O=t.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),Z=t.map(A=>({id:A.id,label:A.label})),ee=Z.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),ue=E.length>0?t.filter(A=>E.includes(A.id)):t,Q=Array.from(new Map(e.offensePlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:d(A.profession,A.professionList,"w-3 h-3")})),G=new Set([...E.map(A=>`column:${A}`),...P.map(A=>`player:${A}`)]),_=A=>{k(te=>({key:A,dir:te.key===A&&te.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...Z.map(A=>({...A,type:"column"})),...Q.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?L(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):M(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(xr,{options:ee,selectedIds:E,onToggle:A=>{L(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>L([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:Q,selectedIds:P,onToggle:A=>{M(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(A=>{var S;const te=((S=Z.find(z=>z.id===A))==null?void 0:S.label)||A;return u.jsxs("button",{type:"button",onClick:()=>L(z=>z.filter(W=>W!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),P.map(A=>u.jsxs("button",{type:"button",onClick:()=>M(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var J,q;const A=re=>Math.max(1,(re.totalFightMs||0)/1e3),te=(re,$,V)=>{var le,ie,F,B,I;if($==="downContributionPercent"){const ne=((le=re.offenseTotals)==null?void 0:le.downContribution)||0,ke=((ie=re.offenseTotals)==null?void 0:ie.damage)||0;return ke>0?ne/ke*100:0}if(V.isRate){const ne=((F=re.offenseRateWeights)==null?void 0:F[$])||0,ke=((B=re.offenseTotals)==null?void 0:B[$])||0;return ne>0?ke/ne*100:0}return((I=re.offenseTotals)==null?void 0:I[$])||0},S=(re,$)=>{const V=n&&!$.isPercent&&o==="total"?0:2,le=c(re,V);return $.isPercent?`${le}%`:le},z=((J=ue.find(re=>re.id===C.columnId))==null?void 0:J.id)||((q=ue[0])==null?void 0:q.id)||"",W=[...e.offensePlayers].filter(re=>P.length===0||P.includes(re.account)).map(re=>{const $={},V={};return ue.forEach(le=>{const ie=te(re,le.id,le),F=o==="total"||le.isPercent||le.isRate?ie:o==="per1s"?ie/A(re):ie*60/A(re);V[le.id]=F,$[le.id]=S(F,le)}),{row:re,values:$,numericValues:V}}).sort((re,$)=>{const V=re.numericValues[z]??0,le=$.numericValues[z]??0;return(C.dir==="desc"?le-V:V-le)||String(re.row.account||"").localeCompare(String($.row.account||""))});return u.jsx(vs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:z,sortDirection:C.dir,onSortColumn:re=>{N($=>({columnId:re,dir:$.columnId===re&&$.dir==="desc"?"asc":"desc"}))},columns:ue.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:W.map((re,$)=>({id:`${re.row.account}-${$}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:$+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:re.row.account})]}),values:re.values}))})})()})]}):u.jsx(Eo,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(A=>u.jsx("button",{onClick:()=>s(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(J=>J.id===a)||t[0],te=J=>Math.max(1,(J.totalFightMs||0)/1e3),S=J=>{var q,re,$,V,le;if(A.id==="downContributionPercent"){const ie=((q=J.offenseTotals)==null?void 0:q.downContribution)||0,F=((re=J.offenseTotals)==null?void 0:re.damage)||0;return F>0?ie/F*100:0}if(A.isRate){const ie=(($=J.offenseRateWeights)==null?void 0:$[A.id])||0,F=((V=J.offenseTotals)==null?void 0:V[A.id])||0;return ie>0?F/ie*100:0}return((le=J.offenseTotals)==null?void 0:le[A.id])||0},z=J=>{const q=n&&!A.isPercent&&o==="total"?0:2,re=c(J,q);return A.isPercent?`${re}%`:re},W=[...e.offensePlayers].map(J=>({...J,total:S(J),per1s:A.isPercent||A.isRate?S(J):S(J)/te(J),per60s:A.isPercent||A.isRate?S(J):S(J)*60/te(J)})).sort((J,q)=>{const re=w.key==="fightTime"?Number(J.totalFightMs||0):Number(o==="total"?J.total:o==="per1s"?J.per1s:J.per60s),$=w.key==="fightTime"?Number(q.totalFightMs||0):Number(o==="total"?q.total:o==="per1s"?q.per1s:q.per60s);return(w.dir==="desc"?$-re:re-$)||J.account.localeCompare(q.account)});return u.jsx(bs,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>_("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>_("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:W.map((J,q)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:q+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(J.profession,J.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const re=o==="total"?J.total:o==="per1s"?J.per1s:J.per60s;return z(re)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:J.totalFightMs?`${(J.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${J.account}-${q}`))})})})()})})]})},xie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var T;const C=m==="conditions-outgoing",[N,j]=v.useState([]),[E,L]=v.useState([]),[P,M]=v.useState({columnId:"all",dir:"desc"}),O=A=>{if(!A)return 0;if(s!=="outgoing"){const W=Number(A.applicationsFromUptime);return Number.isFinite(W)&&W>0?W:Number(A.applications||0)}const te=Number(A.applicationsFromUptime);if(Number.isFinite(te)&&te>0)return te;const S=Number(A.applicationsFromBuffsActive);if(Number.isFinite(S)&&S>0)return S;const z=Number(A.applicationsFromBuffs);return Number.isFinite(z)&&z>0?z:Number(A.applications||0)},Z=[...e||[]].sort((A,te)=>(te.damage||0)-(A.damage||0)),ee=Z.filter(A=>A.name.toLowerCase().includes(n.trim().toLowerCase())),ae=ee.map(A=>({id:A.name,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Q=N.length>0?Z.filter(A=>N.includes(A.name)):Z,G=Array.from(new Map((t||[]).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:h(A.profession,A.professionList,"w-3 h-3")})),_=new Set([...N.map(A=>`column:${A}`),...E.map(A=>`player:${A}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(h0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...Z.map(A=>({id:A.name,label:A.name,type:"column"})),...G.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?j(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):L(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:_,className:"w-full sm:w-64"}),u.jsx(xr,{options:ae,selectedIds:N,onToggle:A=>{j(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>j([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:G,selectedIds:E,onToggle:A=>{L(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Dn,{value:c.key,onChange:A=>d({key:A,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const A=c.key,te=[{id:"all",label:"All Conditions",icon:null},...Q],S=(t||[]).filter(J=>E.length===0||E.includes(J.account)).map(J=>{const q=J.conditions||{},re={},$={};return te.forEach(V=>{if(V.id==="all"||V.name==="All Conditions"){const F=Object.values(q).reduce((I,ne)=>{const ke=O(ne);return I.applications+=Number(ke||0),I.damage+=Number((ne==null?void 0:ne.damage)||0),I},{applications:0,damage:0}),B=A==="applications"?F.applications:F.damage;$.all=B||0,re.all=Math.round(B||0).toLocaleString();return}const le=q[V.name],ie=A==="applications"?O(le):Number((le==null?void 0:le.damage)||0);$[V.name]=Number(ie||0),re[V.name]=Math.round(ie||0).toLocaleString()}),{player:J,values:re,numericValues:$}}).filter(J=>Object.values(J.values).some(q=>q!=="0")),z=["all",...Q.map(J=>J.name)].includes(P.columnId)?P.columnId:"all",W=[...S].sort((J,q)=>{const re=J.numericValues[z]??0,$=q.numericValues[z]??0;return(P.dir==="desc"?$-re:re-$)||String(J.player.account||"").localeCompare(String(q.player.account||""))});return u.jsx(vs,{title:"Conditions - Dense View",subtitle:A==="applications"?"Applications":"Damage",sortColumnId:z,sortDirection:P.dir,onSortColumn:J=>{M(q=>({columnId:J,dir:q.columnId===J&&q.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...Q.map(J=>({id:J.name,label:u.jsx(Tr,{name:J.name,iconUrl:J.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:W.map((J,q)=>({id:`${J.player.account}-${q}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:q+1}),h(J.player.profession,J.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.player.account})]}),values:J.values}))})})()}),(N.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{j([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(A=>u.jsxs("button",{type:"button",onClick:()=>j(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A)),E.map(A=>u.jsxs("button",{type:"button",onClick:()=>L(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}):u.jsx(Eo,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${k} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(A=>u.jsx("button",{type:"button",onClick:()=>a(A.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Tr,{name:A.name,iconUrl:A.icon,iconClassName:"h-5 w-5"})},A.name))]})})]}),content:u.jsx(bs,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Tr,{name:i,iconUrl:(T=e.find(A=>A.name===i))==null?void 0:T.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const te=(t||[]).map(S=>{const z=S.conditions||{};if(i==="all"){const J=Object.values(z).reduce((q,re)=>{const $=O(re);return q.applications+=Number($||0),q.damage+=Number((re==null?void 0:re.damage)||0),q},{applications:0,damage:0});return{...S,applications:J.applications,damage:J.damage}}const W=z[i];return{...S,applications:O(W),damage:Number((W==null?void 0:W.damage)||0)}}).filter(S=>S.applications>0||S.damage>0).sort((S,z)=>{const W=c.key==="applications"?S.applications||0:S.damage||0,J=c.key==="applications"?z.applications||0:z.damage||0,q=c.dir==="desc"?J-W:W-J;if(q!==0)return q;const re=c.key==="applications"?(z.damage||0)-(S.damage||0):(z.applications||0)-(S.applications||0);return re!==0?re:String(S.account||"").localeCompare(String(z.account||""))});return te.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):te.map((S,z)=>{var F;const W=S.conditions||{};let J={};i==="all"?Object.values(W).forEach(B=>{const I=(B==null?void 0:B.skills)||{};Object.values(I).forEach(ne=>{const ke=(ne==null?void 0:ne.name)||"Unknown",Re=Number((ne==null?void 0:ne.hits)||0),se=Number((ne==null?void 0:ne.damage)||0);if((!Number.isFinite(Re)||Re<=0)&&(!Number.isFinite(se)||se<=0))return;const He=J[ke]||{name:ke,hits:0,damage:0,icon:ne==null?void 0:ne.icon};He.hits+=Number.isFinite(Re)?Re:0,He.damage+=Number.isFinite(se)?se:0,!He.icon&&(ne!=null&&ne.icon)&&(He.icon=ne.icon),J[ke]=He})}):J=((F=W[i])==null?void 0:F.skills)||{};const q=Object.values(J).filter(B=>Number.isFinite(B.hits)&&B.hits>0).sort((B,I)=>I.hits-B.hits||B.name.localeCompare(I.name)),re=Object.values(J).filter(B=>Number.isFinite(B.damage)&&B.damage>0).sort((B,I)=>I.damage-B.damage||B.name.localeCompare(I.name)),$=i==="all"&&q.length>0,V=i==="all"&&re.length>0,le=Math.round(S.applications||0).toLocaleString(),ie=Math.round(S.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$?u.jsx(XP,{value:le,label:"Condition Sources",items:q.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.hits).toLocaleString()})),className:"justify-end"}):le}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:V?u.jsx(XP,{value:ie,label:"Condition Damage Sources",items:re.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.damage).toLocaleString()})),className:"justify-end"}):ie}):null]},`${S.account}-${z}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},vie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:k,sectionClass:C,sidebarListClass:N})=>{const[j,E]=v.useState({key:"value",dir:"desc"}),[L,P]=v.useState({columnId:"",dir:"desc"}),M=g==="boon-output",[O,Z]=v.useState([]),[ee,ae]=v.useState([]),ue=e.boonTables||[],G=O.length>0?ue.filter(S=>O.includes(S.id)):ue,_=l.map(S=>({id:S.id,label:S.name,icon:S.icon?u.jsx("img",{src:S.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),T=Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:m(S.profession,S.professionList,"w-3 h-3")})),A=new Set([...O.map(S=>`column:${S}`),...ee.map(S=>`player:${S}`)]),te=S=>{E(z=>({key:S,dir:z.key===S&&z.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":k("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(T1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...ue.map(S=>({id:S.id,label:S.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,type:"player",icon:m(S.profession,S.professionList,"w-3 h-3")}))],onSelect:S=>{S.type==="column"?Z(z=>z.includes(S.id)?z.filter(W=>W!==S.id):[...z,S.id]):ae(z=>z.includes(S.id)?z.filter(W=>W!==S.id):[...z,S.id])},selectedIds:A,className:"w-full sm:w-64"}),u.jsx(xr,{options:_,selectedIds:O,onToggle:S=>{Z(z=>z.includes(S)?z.filter(W=>W!==S):[...z,S])},onClear:()=>Z([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:T,selectedIds:ee,onToggle:S=>{ae(z=>z.includes(S)?z.filter(W=>W!==S):[...z,S])},onClear:()=>ae([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Z([]),ae([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(S=>{var W;const z=((W=ue.find(J=>J.id===S))==null?void 0:W.name)||S;return u.jsxs("button",{type:"button",onClick:()=>Z(J=>J.filter(q=>q!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},S)}),ee.map(S=>u.jsxs("button",{type:"button",onClick:()=>ae(z=>z.filter(W=>W!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:S}),u.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ue.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var re,$;const S=G,z=((re=S.find(V=>V.id===L.columnId))==null?void 0:re.id)||(a&&S.some(V=>V.id===a)?a:void 0)||(($=S[0])==null?void 0:$.id)||"",W=new Map,J=new Map;S.forEach(V=>{const le=new Map;V.rows.forEach(ie=>{const F=ie.account||ie.name||ie.id;F&&(le.set(F,ie),J.has(F)||J.set(F,ie))}),W.set(V.id,le)});const q=Array.from(J.entries()).filter(([V])=>ee.length===0||ee.includes(String(V))).map(([V,le])=>{const ie={};return S.forEach(F=>{var I;const B=(I=W.get(F.id))==null?void 0:I.get(V);ie[F.id]=B?f(B,t,F.stacking,r,{roundCountStats:p}):"-"}),{key:V,row:le,values:ie}}).sort((V,le)=>{var Re,se;if(!z)return String(V.key).localeCompare(String(le.key));const ie=S.find(He=>He.id===z),F=ie?(Re=W.get(ie.id))==null?void 0:Re.get(V.key):null,B=ie?(se=W.get(ie.id))==null?void 0:se.get(le.key):null,I=F?h(F,t,ie==null?void 0:ie.stacking,r):0,ne=B?h(B,t,ie==null?void 0:ie.stacking,r):0;return(L.dir==="desc"?ne-I:I-ne)||String(V.key).localeCompare(String(le.key))});return u.jsx(vs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:z,sortDirection:L.dir,onSortColumn:V=>{P(le=>({columnId:V,dir:le.columnId===V&&le.dir==="desc"?"asc":"desc"}))},columns:S.map(V=>({id:V.id,label:u.jsx(Tr,{name:V.name,iconUrl:V.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:q.map((V,le)=>({id:`${V.key}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),m(V.row.profession,V.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.row.account||V.row.name||V.key})]}),values:V.values}))})})()})]}):u.jsx(Eo,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:S=>d(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(S=>u.jsx("button",{onClick:()=>s(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===S.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Tr,{name:S.name,iconUrl:S.icon,iconClassName:"h-3.5 w-3.5"})},S.id))})]}),content:o?u.jsx(bs,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Tr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${j.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((S,z)=>(()=>{const W=j.key==="fightTime"?Number(S.activeTimeMs||0):h(S,t,o.stacking,r),J=j.key==="fightTime"?Number(z.activeTimeMs||0):h(z,t,o.stacking,r);return(j.dir==="desc"?J-W:W-J)||String(S.account||"").localeCompare(String(z.account||""))})()).map((S,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(S,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeTimeMs?`${(S.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${S.account}-${z}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},yie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var z;const[w,k]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState("combined"),[j,E]=v.useState({columnId:((z=t[0])==null?void 0:z.id)||"value",dir:"desc"}),L=f==="defense-detailed",[P,M]=v.useState([]),[O,Z]=v.useState([]),ee=t.filter(W=>W.label.toLowerCase().includes(n.trim().toLowerCase())),ae=t.map(W=>({id:W.id,label:W.label})),ue=ae.filter(W=>W.label.toLowerCase().includes(n.trim().toLowerCase())),G=P.length>0?t.filter(W=>P.includes(W.id)):t,_=Array.from(new Map(e.defensePlayers.map(W=>[W.account,W])).values()).map(W=>({id:W.account,label:W.account,icon:d(W.profession,W.professionList,"w-3 h-3")})),T=new Set([...P.map(W=>`column:${W}`),...O.map(W=>`player:${W}`)]),A=W=>{k(J=>({key:W,dir:J.key===W&&J.dir==="desc"?"asc":"desc"}))},te=W=>W==="minionDamageTaken",S=(W,J)=>J==="combined"?W.map(q=>({...q,minionList:Object.entries((q==null?void 0:q.minionDamageTakenByMinion)||{}).filter(([,re])=>Number(re||0)>0).sort((re,$)=>Number($[1]||0)-Number(re[1]||0)).map(([re])=>String(re))})):W.flatMap(q=>{const re=Object.entries((q==null?void 0:q.minionDamageTakenByMinion)||{}).filter(([,$])=>Number($||0)>0).sort(($,V)=>Number(V[1]||0)-Number($[1]||0));return re.length===0?[]:re.map(([$,V])=>({...q,minionName:String($),defenseTotals:{...q.defenseTotals||{},minionDamageTaken:Number(V||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Fu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):L?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...ae.map(W=>({...W,type:"column"})),..._.map(W=>({...W,type:"player"}))],onSelect:W=>{W.type==="column"?M(J=>J.includes(W.id)?J.filter(q=>q!==W.id):[...J,W.id]):Z(J=>J.includes(W.id)?J.filter(q=>q!==W.id):[...J,W.id])},selectedIds:T,className:"w-full sm:w-64"}),u.jsx(xr,{options:ue,selectedIds:P,onToggle:W=>{M(J=>J.includes(W)?J.filter(q=>q!==W):[...J,W])},onClear:()=>M([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:_,selectedIds:O,onToggle:W=>{Z(J=>J.includes(W)?J.filter(q=>q!==W):[...J,W])},onClear:()=>Z([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),G.some(W=>te(W.id))&&u.jsx(Dn,{value:C,onChange:W=>N(W),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(W=>{var q;const J=((q=ae.find(re=>re.id===W))==null?void 0:q.label)||W;return u.jsxs("button",{type:"button",onClick:()=>M(re=>re.filter($=>$!==W)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:J}),u.jsx("span",{className:"text-gray-400",children:""})]},W)}),O.map(W=>u.jsxs("button",{type:"button",onClick:()=>Z(J=>J.filter(q=>q!==W)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:W}),u.jsx("span",{className:"text-gray-400",children:""})]},W))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var le,ie;const W=F=>Math.max(1,(F.activeMs||0)/1e3),J=(F,B)=>{const I=B.isPercent,ke=c(F,l&&!I&&s==="total"?0:2);return I?`${ke}%`:ke},q=((le=G.find(F=>F.id===j.columnId))==null?void 0:le.id)||((ie=G[0])==null?void 0:ie.id)||"",re=[...e.defensePlayers].filter(F=>O.length===0||O.includes(F.account)),V=[...G.some(F=>te(F.id))?S(re,C):re].map(F=>{const B={},I={};return G.forEach(ne=>{var He;const ke=((He=F.defenseTotals)==null?void 0:He[ne.id])||0,Re=ne.isPercent,se=s==="total"||Re?ke:s==="per1s"?ke/W(F):ke*60/W(F);I[ne.id]=se,B[ne.id]=J(se,ne)}),{row:F,values:B,numericValues:I}}).sort((F,B)=>{const I=F.numericValues[q]??0,ne=B.numericValues[q]??0;return(j.dir==="desc"?ne-I:I-ne)||String(F.row.account||"").localeCompare(String(B.row.account||""))});return u.jsx(vs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:q,sortDirection:j.dir,onSortColumn:F=>{E(B=>({columnId:F,dir:B.columnId===F&&B.dir==="desc"?"asc":"desc"}))},columns:G.map(F=>({id:F.id,label:F.label,align:"right",minWidth:90})),rows:V.map((F,B)=>({id:`${F.row.account}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),d(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:F.row.account}),C==="combined"&&Array.isArray(F.row.minionList)&&F.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:F.row.minionList.join(", ")}),C==="separate"&&F.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:F.row.minionName})]})]}),values:F.values}))})})()})]}):u.jsx(Eo,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:W=>r(W.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(W=>u.jsx("button",{onClick:()=>a(W.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===W.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:W.label},W.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const W=t.find(V=>V.id===i)||t[0],J=V=>Math.max(1,(V.activeMs||0)/1e3),q=[...e.defensePlayers],$=[...te(W.id)?S(q,C):q].map(V=>{var le,ie,F;return{...V,total:((le=V.defenseTotals)==null?void 0:le[W.id])||0,per1s:(((ie=V.defenseTotals)==null?void 0:ie[W.id])||0)/J(V),per60s:(((F=V.defenseTotals)==null?void 0:F[W.id])||0)*60/J(V)}}).sort((V,le)=>{const ie=w.key==="fightTime"?Number(V.activeMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s),F=w.key==="fightTime"?Number(le.activeMs||0):Number(s==="total"?le.total:s==="per1s"?le.per1s:le.per60s);return(w.dir==="desc"?F-ie:ie-F)||V.account.localeCompare(le.account)});return u.jsx(bs,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:W.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${te(W.id)?"justify-between":"justify-end"}`,children:[te(W.id)&&u.jsx(Dn,{value:C,onChange:V=>N(V),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:$.map((V,le)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:le+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(V.profession,V.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:V.account}),te(W.id)&&C==="combined"&&Array.isArray(V.minionList)&&V.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:V.minionList.join(", ")}),te(W.id)&&C==="separate"&&V.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:V.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ie=s==="total"?V.total:s==="per1s"?V.per1s:V.per60s;return c(ie,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:V.activeMs?`${(V.activeMs/1e3).toFixed(1)}s`:"-"})]},`${W.id}-${V.account}-${le}`))})})})()})})]})},bie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var le,ie;const C=((le=t.find(F=>F.id==="totalMitigation"))==null?void 0:le.id)||((ie=t[0])==null?void 0:ie.id)||"totalMitigation",[N,j]=v.useState({key:"value",dir:"desc"}),[E,L]=v.useState({columnId:C,dir:"desc"}),P=m==="defense-mitigation",[M,O]=v.useState([]),[Z,ee]=v.useState([]),[ae,ue]=v.useState([]),Q=e.damageMitigationPlayers||[],G=e.damageMitigationMinions||[],_=l==="minions"?G:Q,T=Q.length>0||G.length>0,A=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),te=t.map(F=>({id:F.id,label:F.label})),S=te.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),W=M.length>0?t.filter(F=>M.includes(F.id)):t,J=Array.from(new Map(_.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:h(F.profession,F.professionList,"w-3 h-3")})),q=Array.from(new Map(G.map(F=>[F.minion,F])).values()).filter(F=>F==null?void 0:F.minion).map(F=>({id:String(F.minion),label:String(F.minion)})),re=new Set([...M.map(F=>`column:${F}`),...Z.map(F=>`player:${F}`)]),$=F=>{j(B=>({key:F,dir:B.key===F&&B.dir==="desc"?"asc":"desc"}))},V=F=>f(F,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(E1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),T?P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...te.map(F=>({...F,type:"column"})),...J.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?O(B=>B.includes(F.id)?B.filter(I=>I!==F.id):[...B,F.id]):ee(B=>B.includes(F.id)?B.filter(I=>I!==F.id):[...B,F.id])},selectedIds:re,className:"w-full sm:w-64"}),u.jsx(xr,{options:S,selectedIds:M,onToggle:F=>{O(B=>B.includes(F)?B.filter(I=>I!==F):[...B,F])},onClear:()=>O([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:J,selectedIds:Z,onToggle:F=>{ee(B=>B.includes(F)?B.filter(I=>I!==F):[...B,F])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(xr,{options:q,selectedIds:ae,onToggle:F=>{ue(B=>B.includes(F)?B.filter(I=>I!==F):[...B,F])},onClear:()=>ue([]),buttonLabel:"Minions"}),u.jsx(Dn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||Z.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(F=>{var I;const B=((I=te.find(ne=>ne.id===F))==null?void 0:I.label)||F;return u.jsxs("button",{type:"button",onClick:()=>O(ne=>ne.filter(ke=>ke!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},F)}),Z.map(F=>u.jsxs("button",{type:"button",onClick:()=>ee(B=>B.filter(I=>I!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]}),l==="minions"&&ae.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>ue([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ae.map(F=>u.jsxs("button",{type:"button",onClick:()=>ue(B=>B.filter(I=>I!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):A.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ne,ke;const F=Re=>Math.max(1,(Re.activeMs||0)/1e3),B=((ne=W.find(Re=>Re.id===E.columnId))==null?void 0:ne.id)||((ke=W[0])==null?void 0:ke.id)||"",I=[..._].filter(Re=>Z.length===0||Z.includes(Re.account)).filter(Re=>l!=="minions"||!ae.length?!0:ae.includes(String(Re.minion||""))).map(Re=>{const se={},He={};return W.forEach(Oe=>{var gn;const wt=((gn=Re.mitigationTotals)==null?void 0:gn[Oe.id])||0,qt=s==="total"?wt:s==="per1s"?wt/F(Re):wt*60/F(Re);He[Oe.id]=qt,se[Oe.id]=V(qt)}),{row:Re,values:se,numericValues:He}}).sort((Re,se)=>{const He=Re.numericValues[B]??0,Oe=se.numericValues[B]??0;return(E.dir==="desc"?Oe-He:He-Oe)||String(Re.row.account||"").localeCompare(String(se.row.account||""))});return u.jsx(vs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:E.dir,onSortColumn:Re=>{L(se=>({columnId:Re,dir:se.columnId===Re&&se.dir==="desc"?"asc":"desc"}))},columns:W.map(Re=>({id:Re.id,label:Re.label,align:"right",minWidth:90})),rows:I.map((Re,se)=>({id:`${Re.row.account}-${Re.row.minion||"player"}-${se}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:se+1}),h(Re.row.profession,Re.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Re.row.account}),Re.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Re.row.minion})]})]}),values:Re.values}))})})()})]}):u.jsx(Eo,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${k} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:A.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):A.map(F=>u.jsx("button",{onClick:()=>a(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const F=t.find(ne=>ne.id===i)||t[0],B=ne=>Math.max(1,(ne.activeMs||0)/1e3),I=[..._].map(ne=>{var ke,Re,se;return{...ne,total:((ke=ne.mitigationTotals)==null?void 0:ke[F.id])||0,per1s:(((Re=ne.mitigationTotals)==null?void 0:Re[F.id])||0)/B(ne),per60s:(((se=ne.mitigationTotals)==null?void 0:se[F.id])||0)*60/B(ne)}}).filter(ne=>l!=="minions"||!ae.length?!0:ae.includes(String(ne.minion||""))).sort((ne,ke)=>{const Re=N.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s),se=N.key==="fightTime"?Number(ke.activeMs||0):Number(s==="total"?ke.total:s==="per1s"?ke.per1s:ke.per60s);return(N.dir==="desc"?se-Re:Re-se)||ne.account.localeCompare(ke.account)});return u.jsx(bs,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:I.map((ne,ke)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ke+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ne.profession,ne.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ne.account}),ne.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ne.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Re=s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s;return V(Re)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.activeMs?`${(ne.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${ne.account}-${ne.minion||"player"}-${ke}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},wie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var te;const[C,N]=v.useState({key:"value",dir:"desc"}),[j,E]=v.useState({columnId:((te=t[0])==null?void 0:te.id)||"value",dir:"desc"}),L=m==="support-detailed",[P,M]=v.useState([]),[O,Z]=v.useState([]),ee=t.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),ae=t.map(S=>({id:S.id,label:S.label})),ue=ae.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),G=P.length>0?t.filter(S=>P.includes(S.id)):t,_=Array.from(new Map(e.supportPlayers.map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:h(S.profession,S.professionList,"w-3 h-3")})),T=new Set([...P.map(S=>`column:${S}`),...O.map(S=>`player:${S}`)]),A=S=>{N(z=>({key:S,dir:z.key===S&&z.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(A1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):L?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...ae.map(S=>({...S,type:"column"})),..._.map(S=>({...S,type:"player"}))],onSelect:S=>{S.type==="column"?M(z=>z.includes(S.id)?z.filter(W=>W!==S.id):[...z,S.id]):Z(z=>z.includes(S.id)?z.filter(W=>W!==S.id):[...z,S.id])},selectedIds:T,className:"w-full sm:w-64"}),u.jsx(xr,{options:ue,selectedIds:P,onToggle:S=>{M(z=>z.includes(S)?z.filter(W=>W!==S):[...z,S])},onClear:()=>M([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:_,selectedIds:O,onToggle:S=>{Z(z=>z.includes(S)?z.filter(W=>W!==S):[...z,S])},onClear:()=>Z([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(Dn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(S=>{var W;const z=((W=ae.find(J=>J.id===S))==null?void 0:W.label)||S;return u.jsxs("button",{type:"button",onClick:()=>M(J=>J.filter(q=>q!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},S)}),O.map(S=>u.jsxs("button",{type:"button",onClick:()=>Z(z=>z.filter(W=>W!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:S}),u.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var re,$;const S=(V,le)=>{var ie,F,B;if(le==="condiCleanse"){const I=((ie=V.supportTotals)==null?void 0:ie.condiCleanse)||0,ne=((F=V.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?I+ne:I}return((B=V.supportTotals)==null?void 0:B[le])||0},z=V=>Math.max(1,(V.activeMs||0)/1e3),W=(V,le)=>{const ie=V.isTime?1:d&&s==="total"?0:2;return f(le,ie)},J=((re=G.find(V=>V.id===j.columnId))==null?void 0:re.id)||(($=G[0])==null?void 0:$.id)||"",q=[...e.supportPlayers].filter(V=>O.length===0||O.includes(V.account)).map(V=>{const le={},ie={};return G.forEach(F=>{const B=S(V,F.id),I=s==="total"?B:s==="per1s"?B/z(V):B*60/z(V);ie[F.id]=I,le[F.id]=W(F,I)}),{row:V,values:le,numericValues:ie}}).sort((V,le)=>{const ie=V.numericValues[J]??0,F=le.numericValues[J]??0;return(j.dir==="desc"?F-ie:ie-F)||String(V.row.account||"").localeCompare(String(le.row.account||""))});return u.jsx(vs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:J,sortDirection:j.dir,onSortColumn:V=>{E(le=>({columnId:V,dir:le.columnId===V&&le.dir==="desc"?"asc":"desc"}))},columns:G.map(V=>({id:V.id,label:V.label,align:"right",minWidth:90})),rows:q.map((V,le)=>({id:`${V.row.account}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),h(V.row.profession,V.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.row.account})]}),values:V.values}))})})()})]}):u.jsx(Eo,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:S=>r(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${k} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(S=>u.jsx("button",{onClick:()=>a(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===S.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:S.label},S.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const S=t.find(q=>q.id===i)||t[0],z=q=>{var re,$,V;if(S.id==="condiCleanse"){const le=((re=q.supportTotals)==null?void 0:re.condiCleanse)||0,ie=(($=q.supportTotals)==null?void 0:$.condiCleanseSelf)||0;return l==="all"?le+ie:le}return((V=q.supportTotals)==null?void 0:V[S.id])||0},W=q=>Math.max(1,(q.activeMs||0)/1e3),J=[...e.supportPlayers].map(q=>({...q,total:z(q),per1s:z(q)/W(q),per60s:z(q)*60/W(q)})).sort((q,re)=>{const $=C.key==="fightTime"?Number(q.activeMs||0):Number(s==="total"?q.total:s==="per1s"?q.per1s:q.per60s),V=C.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s);return(C.dir==="desc"?V-$:$-V)||q.account.localeCompare(re.account)});return u.jsx(bs,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:S.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[S.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Dn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:J.map((q,re)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(q.profession,q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const $=s==="total"?q.total:s==="per1s"?q.per1s:q.per60s,V=S.isTime?1:d&&s==="total"?0:2;return f($,V)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:q.activeMs?`${(q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${S.id}-${q.account}-${re}`))})})})()})})]})},kie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x})=>{var ue;const[b,w]=v.useState({key:"value",dir:"desc"}),[k,C]=v.useState({columnId:((ue=t[0])==null?void 0:ue.id)||"value",dir:"desc"}),N=f==="healing-stats",[j,E]=v.useState([]),[L,P]=v.useState([]),M=Array.from(new Map(e.healingPlayers.map(Q=>[Q.account,Q])).values()).map(Q=>({id:Q.account,label:Q.account,icon:d(Q.profession,Q.professionList,"w-3 h-3")})),O=new Set([...L.map(Q=>`column:${Q}`),...j.map(Q=>`player:${Q}`)]),Z=t.map(Q=>({id:Q.id,label:Q.label})),ee=L.length>0?t.filter(Q=>L.includes(Q.id)):t,ae=Q=>{w(G=>({key:Q,dir:G.key===Q&&G.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(yO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...Z.map(Q=>({...Q,type:"column"})),...M.map(Q=>({...Q,type:"player"}))],onSelect:Q=>{Q.type==="column"?P(G=>G.includes(Q.id)?G.filter(_=>_!==Q.id):[...G,Q.id]):E(G=>G.includes(Q.id)?G.filter(_=>_!==Q.id):[...G,Q.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(xr,{options:Z,selectedIds:L,onToggle:Q=>{P(G=>G.includes(Q)?G.filter(_=>_!==Q):[...G,Q])},onClear:()=>P([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(Q=>({value:Q.id,label:Q.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(xr,{options:M,selectedIds:j,onToggle:Q=>{E(G=>G.includes(Q)?G.filter(_=>_!==Q):[...G,Q])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})})]}),(L.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(Q=>{var _;const G=((_=Z.find(T=>T.id===Q))==null?void 0:_.label)||Q;return u.jsxs("button",{type:"button",onClick:()=>P(T=>T.filter(A=>A!==Q)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:G}),u.jsx("span",{className:"text-gray-400",children:""})]},Q)}),j.map(Q=>u.jsxs("button",{type:"button",onClick:()=>E(G=>G.filter(_=>_!==Q)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Q}),u.jsx("span",{className:"text-gray-400",children:""})]},Q))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var A,te;const Q=S=>Math.max(1,(S.activeMs||0)/1e3),G=S=>{const z=S.baseField==="resUtility",W=z||i==="total"?"":i==="offSquad"?"offSquad":i;return z?s==="all"?"resUtility":`resUtility_${s}`:W?`${W}${S.baseField[0].toUpperCase()}${S.baseField.slice(1)}`:S.baseField},_=[...e.healingPlayers].filter(S=>j.length===0||j.includes(S.account)).filter(S=>Object.values(S.healingTotals||{}).some(z=>Number(z)>0)).map(S=>{const z={},W={};return ee.forEach(J=>{var V;const q=G(J),re=Number(((V=S.healingTotals)==null?void 0:V[q])??0),$=J.perSecond?re/Q(S):re;W[J.id]=$,z[J.id]=c($,J.decimals)}),{row:S,values:z,numericValues:W}}).sort((S,z)=>{var $,V;const W=(($=ee.find(le=>le.id===k.columnId))==null?void 0:$.id)||((V=ee[0])==null?void 0:V.id)||"",J=S.numericValues[W]??0,q=z.numericValues[W]??0;return(k.dir==="desc"?q-J:J-q)||String(S.row.account||"").localeCompare(String(z.row.account||""))}),T=((A=ee.find(S=>S.id===k.columnId))==null?void 0:A.id)||((te=ee[0])==null?void 0:te.id)||"";return u.jsx(vs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:T,sortDirection:k.dir,onSortColumn:S=>{C(z=>({columnId:S,dir:z.columnId===S&&z.dir==="desc"?"asc":"desc"}))},columns:ee.map(S=>({id:S.id,label:S.label,align:"right",minWidth:90})),rows:_.map((S,z)=>({id:`${S.row.account}-${z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),d(S.row.profession,S.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.row.account})]}),values:S.values}))})})()})]}):u.jsx(Eo,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(Q=>u.jsx("button",{onClick:()=>r(Q.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===Q.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:Q.label},Q.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const Q=t.find(S=>S.id===n)||t[0],G=Q.baseField==="resUtility",_=S=>Math.max(1,(S.activeMs||0)/1e3),T=G||i==="total"?"":i==="offSquad"?"offSquad":i,A=G?s==="all"?"resUtility":`resUtility_${s}`:T?`${T}${Q.baseField[0].toUpperCase()}${Q.baseField.slice(1)}`:Q.baseField,te=[...e.healingPlayers].filter(S=>Object.values(S.healingTotals||{}).some(z=>Number(z)>0)).map(S=>{var J;const z=Number(((J=S.healingTotals)==null?void 0:J[A])??0),W=Q.perSecond?z/_(S):z;return{...S,value:W}}).sort((S,z)=>{const W=b.key==="fightTime"?Number(S.activeMs||0):Number(S.value||0),J=b.key==="fightTime"?Number(z.activeMs||0):Number(z.value||0);return(b.dir==="desc"?J-W:W-J)||S.account.localeCompare(z.account)});return u.jsx(bs,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:Q.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(S=>({value:S.id,label:S.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[Q.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ae("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:te.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):te.map((S,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(S.value,Q.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeMs?`${(S.activeMs/1e3).toFixed(1)}s`:"-"})]},`${Q.id}-${S.account}-${z}`))})})})()})})]})},Sie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Nie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("total"),[w,k]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),j=c==="special-buffs",[E,L]=v.useState([]),[P,M]=v.useState([]),O=e.specialTables||[],ee=E.length>0?O.filter(A=>E.includes(A.id)):O,ae=r.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ue=Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:l(A.profession,A.professionList,"w-3 h-3")})),Q=new Set([...E.map(A=>`column:${A}`),...P.map(A=>`player:${A}`)]),G=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const A=[...s.rows];return A.sort((te,S)=>{const z=Number((te==null?void 0:te[x])??0),W=Number((S==null?void 0:S[x])??0),J=w==="desc"?W-z:z-W;return J!==0?J:String((te==null?void 0:te.account)||"").localeCompare(String((S==null?void 0:S.account)||""))}),A},[s,x,w]),_=A=>{if(x===A){k(te=>te==="desc"?"asc":"desc");return}b(A),k("desc")},T=A=>x!==A?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(p0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(ys,{options:[...O.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:l(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?L(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):M(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:Q,className:"w-full sm:w-64"}),u.jsx(xr,{options:ae,selectedIds:E,onToggle:A=>{L(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>L([]),buttonIcon:u.jsx(gs,{className:"h-3.5 w-3.5"})}),u.jsx(xr,{options:ue,selectedIds:P,onToggle:A=>{M(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(Pr,{className:"h-3.5 w-3.5"})}),u.jsx(Dn,{value:x,onChange:A=>b(A),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(A=>{var S;const te=((S=O.find(z=>z.id===A))==null?void 0:S.name)||A;return u.jsxs("button",{type:"button",onClick:()=>L(z=>z.filter(W=>W!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),P.map(A=>u.jsxs("button",{type:"button",onClick:()=>M(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var q,re;const A=ee,te=new Map,S=new Map;A.forEach($=>{const V=new Map;$.rows.forEach(le=>{const ie=le.account||le.name||le.id;ie&&(V.set(ie,le),S.has(ie)||S.set(ie,le))}),te.set($.id,V)});const z=Array.from(S.entries()).filter(([$])=>P.length===0||P.includes(String($))).map(([$,V])=>{const le={},ie={};return A.forEach(F=>{var ke;const B=(ke=te.get(F.id))==null?void 0:ke.get($);if(!B){le[F.id]="-",ie[F.id]=0;return}if(x==="duration"){le[F.id]=B.duration?`${B.duration.toFixed(1)}s`:"-",ie[F.id]=Number(B.duration||0);return}const I=x==="total"?B.total:B.perSecond,ne=x==="total"?0:1;ie[F.id]=Number(I||0),le[F.id]=o(I||0,ne)}),{key:$,row:V,values:le,numericValues:ie}}),W=((q=A.find($=>$.id===C.columnId))==null?void 0:q.id)||(i&&A.some($=>$.id===i)?i:void 0)||((re=A[0])==null?void 0:re.id)||"",J=[...z].sort(($,V)=>{if(!W)return String($.key).localeCompare(String(V.key));const le=$.numericValues[W]??0,ie=V.numericValues[W]??0;return(C.dir==="desc"?ie-le:le-ie)||String($.key).localeCompare(String(V.key))});return u.jsx(vs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:W,sortDirection:C.dir,onSortColumn:$=>{N(V=>({columnId:$,dir:V.columnId===$&&V.dir==="desc"?"asc":"desc"}))},columns:A.map($=>({id:$.id,label:u.jsx(Tr,{name:$.name,iconUrl:$.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:J.map(($,V)=>({id:`${$.key}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),l($.row.profession,$.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$.row.account||$.row.name||$.key})]}),values:$.values}))})})()})]}):u.jsx(Eo,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:A=>n(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(A=>u.jsx("button",{onClick:()=>a(A.id),title:A.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Tr,{name:Sie(A.name),iconUrl:A.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},A.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(bs,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Tr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>_("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",T("total")]}),u.jsxs("button",{type:"button",onClick:()=>_("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",T("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>_("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T("duration")]})]}),rows:u.jsx(u.Fragment,{children:G.map((A,te)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:te+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(A.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(A.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.duration?`${A.duration.toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${te}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Cie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",jie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("desc"),w=c==="sigil-relic-uptime",k=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,j)=>{const E=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),L=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),P=x==="desc"?L-E:E-L;return P!==0?P:String((N==null?void 0:N.account)||"").localeCompare(String((j==null?void 0:j.account)||""))}),C},[s,x]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(D1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),e?u.jsx(Eo,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Tr,{name:Cie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(bs,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Tr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:k.map((C,N)=>{const j=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(j,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Aie=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,y]=v.useState(null);v.useEffect(()=>{var Z,ee,ae;if(c.length===0){h(""),p("");return}const M=String(((Z=c[0])==null?void 0:Z.id)||""),O=String(((ee=c[1])==null?void 0:ee.id)||((ae=c[0])==null?void 0:ae.id)||"");h(ue=>ue&&c.some(Q=>String(Q.id)===ue)?ue:M),p(ue=>ue&&c.some(Q=>String(Q.id)===ue)?ue:O)},[c]);const x=v.useMemo(()=>c.find(M=>String(M.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(M=>String(M.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!x||!b)return[];const M=new Map,O=(Z,ee,ae,ue)=>{const Q=String(Z||"Unknown"),G=M.get(Q)||{label:Q,aDamage:0,aShare:0,bDamage:0,bShare:0};ee==="a"?(G.aDamage=Number(ae||0),G.aShare=Number(ue||0)):(G.bDamage=Number(ae||0),G.bShare=Number(ue||0)),M.set(Q,G)};return(x.targetFocus||[]).forEach(Z=>O(Z.label,"a",Z.damage,Z.share)),(b.targetFocus||[]).forEach(Z=>O(Z.label,"b",Z.damage,Z.share)),Array.from(M.values()).map(Z=>({...Z,shareDelta:Z.bShare-Z.aShare})).sort((Z,ee)=>Math.abs(ee.shareDelta)-Math.abs(Z.shareDelta)||ee.bDamage+ee.aDamage-(Z.bDamage+Z.aDamage))},[x,b]),k=v.useMemo(()=>{if(!g)return w;const M=g.direction==="asc"?1:-1,O=g.key;return[...w].sort((Z,ee)=>{const ae=(Number(Z[O])-Number(ee[O]))*M;return ae!==0?ae:Z.label.localeCompare(ee.label)})},[w,g]),C=v.useMemo(()=>{if(!x||!b)return[];const M=new Map((x.squadMetrics||[]).map(ee=>[ee.metricId,ee])),O=new Map((b.squadMetrics||[]).map(ee=>[ee.metricId,ee]));return Array.from(new Set([...M.keys(),...O.keys()])).map(ee=>{const ae=M.get(ee),ue=O.get(ee),Q=!!((ae==null?void 0:ae.higherIsBetter)??(ue==null?void 0:ue.higherIsBetter)??!0),G=Number((ae==null?void 0:ae.value)||0),_=Number((ue==null?void 0:ue.value)||0);return{metricId:ee,metricLabel:String((ae==null?void 0:ae.metricLabel)||(ue==null?void 0:ue.metricLabel)||ee),higherIsBetter:Q,a:ae,b:ue,delta:_-G}})},[x,b]),N=M=>`${t((Number(M)||0)*100,1)}%`,j=M=>M==="squadKdr"?2:0,E=M=>{y(O=>!O||O.key!==M?{key:M,direction:"desc"}:{key:M,direction:O.direction==="desc"?"asc":"desc"})},L=M=>(g==null?void 0:g.key)===M?g.direction==="desc"?" ":" ":"",P=M=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===M?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:M=>h(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-a-${M.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:M=>p(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-b-${M.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(bs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:P("aDamage"),onClick:()=>E("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",L("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:P("aShare"),onClick:()=>E("aShare"),children:[x==null?void 0:x.shortLabel," Share",L("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:P("bDamage"),onClick:()=>E("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",L("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:P("bShare"),onClick:()=>E("bShare"),children:[b==null?void 0:b.shortLabel," Share",L("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:P("shareDelta"),onClick:()=>E("shareDelta"),children:["Share Delta",L("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:k.map(M=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${M.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[M.shareDelta>=0?"+":"",N(M.shareDelta)]})]},`focus-${M.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(bs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(M=>{var ee,ae;const O=M.higherIsBetter?M.delta>=0:M.delta<=0,Z=j(M.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ee=M.a)==null?void 0:ee.value)||0),Z)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ae=M.b)==null?void 0:ae.value)||0),Z)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[M.delta>0?"+":"",t(M.delta,Z)]})]},`performer-${M.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Pie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Tie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Dn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},QP={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Eie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=QP[r]||QP.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Die=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},ZP=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Mie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(v6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(p0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(zp,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:ZP(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,x,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(x=m.data)==null?void 0:x.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,k)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:ZP(w.val,s)})]},k))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",b=[{icon:S6,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Fu,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:yO,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:D6,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Ef,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:w6,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:k6,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:SO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:x6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=k=>!m||!Number.isFinite(k)?s(k):o(k,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(k=>{var L,P,M,O;const C=i==="all",N=Die((g==null?void 0:g[k.statKey])||[],k.higherIsBetter),j=N[0],E=j?{...k.data,value:Number(j.value||0),player:j.account||((L=k.data)==null?void 0:L.player)||"-",count:j.count||((P=k.data)==null?void 0:P.count)||0,profession:j.profession||((M=k.data)==null?void 0:M.profession)||"Unknown",professionList:j.professionList||((O=k.data)==null?void 0:O.professionList)||[]}:k.data;return u.jsx(Eie,{...k,data:E,active:C,onClick:()=>a(Z=>Z==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},k.statKey)})})})()]}):null,Oie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const x=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Tr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(m6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var x;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Tr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Iie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Pr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(nw,{children:[u.jsx(Og,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(Gu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(h0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(nw,{children:[u.jsx(Og,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(Gu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},_ie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Pr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Fg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Gf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Xf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Qf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(eo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(eo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Lie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(nw,{children:[u.jsx(Og,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Gu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(WI,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),JP=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:x,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:k,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:j,setSelectedSpikeFightIndex:E,spikeDrilldownTitle:L,spikeDrilldownData:P,spikeDrilldownDownIndices:M,spikeDrilldownDeathIndices:O,spikeFightSkillRows:Z=[],spikeFightSkillTitle:ee="Skill Damage (Selected Fight)",formatWithCommas:ae,renderProfessionIcon:ue})=>{const[Q,G]=v.useState(null),[_,T]=v.useState(null),A=I=>String(I||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=s===e,S=k?ic(k.profession):"#fda4af",z=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",W=I=>y==="hit"?I.peakHit:y==="1s"?I.peak1s:y==="5s"?I.peak5s:I.peak30s,J=g.flatMap(I=>I.players.map(ne=>({...ne,groupProfession:I.profession}))).sort((I,ne)=>{const ke=W(ne)-W(I);return ke!==0?ke:I.displayName.localeCompare(ne.displayName)}),q=C.reduce((I,ne)=>!I||ne.damage>I.damage?ne:I,null),re=I=>{if(!Number.isFinite(I)||I<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(I))}catch{return""}},$=P.reduce((I,ne)=>Math.max(I,Number(ne.value||0)),0),V=Math.max(1,$),le=new Set(M),ie=new Set(O),F=P.map((I,ne)=>({...I,downMarker:le.has(ne)?Math.max(Number(I.value||0),V*.88):null,deathMarker:ie.has(ne)?Math.max(Number(I.value||0),V*.96):null})),B=I=>ne=>{const ke=Number(ne==null?void 0:ne.cx),Re=Number(ne==null?void 0:ne.cy),se=Number(ne==null?void 0:ne.index);if(!Number.isFinite(ke)||!Number.isFinite(Re)||!Number.isFinite(se))return null;const He=(ne==null?void 0:ne.payload)||{},Oe=I==="down"?He==null?void 0:He.downMarker:He==null?void 0:He.deathMarker;if(!Number.isFinite(Number(Oe)))return null;const wt=`${I}-${se}`,qt=Q===wt,gn=I==="down"?"#facc15":"#ef4444",Bn=I==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{G(wt),T({x:ke,y:Re,kind:I,label:String((He==null?void 0:He.label)||"")})},onMouseLeave:()=>{G(xe=>xe===wt?null:xe),T(xe=>(xe==null?void 0:xe.kind)===I&&(xe==null?void 0:xe.label)===String((He==null?void 0:He.label)||"")?null:xe)},children:[u.jsx("circle",{cx:ke,cy:Re,r:qt?10:7,fill:Bn,opacity:qt?.35:.18}),u.jsx("circle",{cx:ke,cy:Re,r:qt?7:5.5,fill:gn,stroke:"#0f172a",strokeWidth:qt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${te?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:te?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ef,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${te?"pr-10 md:pr-0":""}`,children:[u.jsx(Dn,{value:y,onChange:I=>x(I),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>te?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${te?"absolute top-2 right-2 md:static":""}`,"aria-label":te?`Close ${t}`:`Expand ${t}`,title:te?"Close":"Expand",children:te?u.jsx(qi,{className:"w-4 h-4"}):u.jsx(la,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:I=>p(I.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:J.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:J.map(I=>{const ne=b===I.key;return u.jsx("button",{type:"button",onClick:()=>w(I.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ne?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ue(I.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:I.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:I.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[I.characterName||I.displayName,"  ",I.logs," ",I.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ae(W(I)||0,0)})]})},I.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",z]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!k||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Fg,{data:C,onClick:I=>{const ne=Number(I==null?void 0:I.activeTooltipIndex);Number.isFinite(ne)&&E(j===ne?null:ne)},children:[u.jsx(Gf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Xf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Qf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:I=>ae(I,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,ne)=>[ae(Number(I||0),0),String(ne||"")],labelFormatter:(I,ne)=>{var se;const ke=(se=ne==null?void 0:ne[0])==null?void 0:se.payload;if(!ke)return"";const Re=A(ke.fullLabel||"");return y==="hit"&&ke.skillName?`${Re}  ${ke.skillName}`:Re}}),u.jsx(eo,{type:"monotone",dataKey:"damage",name:k.displayName,stroke:S,strokeWidth:3,dot:I=>{var Re;const ne=Number((Re=I==null?void 0:I.payload)==null?void 0:Re.index);if(!Number.isFinite(ne))return null;const ke=j===ne;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:se=>{se.stopPropagation(),E(ke?null:ne)},children:[u.jsx("circle",{cx:I.cx,cy:I.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:I.cx,cy:I.cy,r:ke?4:3,fill:S,stroke:ke?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ke?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(eo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),k&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ue(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${z}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ae(W(k)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const I=A((q==null?void 0:q.fullLabel)||k.peakFightLabel||"N/A"),ne=re(Number((q==null?void 0:q.timestamp)||0)),ke=ne?`${ne} - ${I}`:I;return y!=="hit"?ke:k.peakSkillName?`${k.peakSkillName}  ${ke}`:ke})()})]})]}),k&&j!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:L}),u.jsx("button",{type:"button",onClick:()=>E(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:P.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Fg,{data:F,children:[u.jsx(Gf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Xf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Qf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:I=>ae(I,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,ne)=>{const ke=String(ne||"");return ke==="Down"?["Downed","Event"]:ke==="Death"?["Dead","Event"]:[ae(Number(I||0),0),"Damage"]},labelFormatter:I=>String(I||"")}),u.jsx(eo,{type:"monotone",dataKey:"value",name:"Damage",stroke:S,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(eo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("down")}),u.jsx(eo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("death")})]})}),_&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,_.x)}px`,top:`${Math.max(8,_.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${_.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:_.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:_.label})]})]})})]}),k&&j!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${Z.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ee}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Z.length," ",Z.length===1?"skill":"skills"]})]}),Z.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Z.map((I,ne)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:I.skillName,children:I.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ae(Number(I.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ae(Number(I.hits||0),0)})]},`${I.skillName}-${ne}`))})]})]})]})},$ie=10,Lh=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},eT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Fie=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Rie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const y=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),k=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||k.includes(f)||C.includes(f)}),x=b=>Number(o==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...y].sort((b,w)=>{const k=x(w)-x(b);return k!==0?c==="desc"?k:-k:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>$ie,g=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(j=>{const E=(j.classTimes||[]).map(L=>`${L.profession} (${Lh(L.timeMs)})`).join("; ");return[j.account||"",(j.characterNames||[]).join(", "),E,eT(Number(j.combatTimeMs??j.squadTimeMs??0)),eT(j.squadTimeMs)]}),b=[y,...x].map(j=>j.map(E=>Fie(String(E??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=k,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Tf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(y6,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:Lh(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Lh(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Lh(y.squadTimeMs)})]},y.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Bie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},zie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),c=o.trim().toLowerCase(),d=lm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Pr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Bie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Uie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Vie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Yo,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Uie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Wie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(bO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(rc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(p0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(E6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(A6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Hie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(C6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(wO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(NO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},qie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ts="space-y-1 pr-1 max-h-72 overflow-y-auto",Kie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Gie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Yie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,aggregationResult:p}){var DN,MN;const g=n||TO,y=r||nb,x=a||X6,b=y.showTopStats,w=y.showMvp,k=y.roundCountStats,C=y.topStatsMode||"total",[N,j]=v.useState(y.topSkillsMetric||"damage"),E=(i?y.topSkillsMetric:N)||"damage",L=x.uploading,P=x.message,M=x.url,O=x.buildStatus,Z=!c&&!1,ee=!!p,{result:ae}=JU({logs:ee?[]:e,precomputedStats:ee?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ue=p||ae,{stats:Q,skillUsageData:G}=ue,_=v.useMemo(()=>{var gt,sn,Pt,on,Ft,wr;const R=Q&&typeof Q=="object"?Q:{},X=Pe=>Array.isArray(Pe)?Pe:[],he=Pe=>Pe&&typeof Pe=="object"?Pe:{},Ve=(Pe,dt)=>Pe&&typeof Pe=="object"?Pe:dt,Ae={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Fe={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},me={...R,total:Number(R.total||0),timelineData:X(R.timelineData),mapData:X(R.mapData),fightBreakdown:X(R.fightBreakdown),topSkills:X(R.topSkills),topIncomingSkills:X(R.topIncomingSkills),leaderboards:he(R.leaderboards),topStatsPerSecond:he(R.topStatsPerSecond),topStatsLeaderboardsPerSecond:he(R.topStatsLeaderboardsPerSecond),maxDownContrib:Ve(R.maxDownContrib,Ae),maxBarrier:Ve(R.maxBarrier,Ae),maxHealing:Ve(R.maxHealing,Ae),maxDodges:Ve(R.maxDodges,Ae),maxStrips:Ve(R.maxStrips,Ae),maxCleanses:Ve(R.maxCleanses,Ae),maxCC:Ve(R.maxCC,Ae),maxStab:Ve(R.maxStab,Ae),closestToTag:Ve(R.closestToTag,Ae),mvp:{...Fe,...he(R.mvp),topStats:X((gt=R==null?void 0:R.mvp)==null?void 0:gt.topStats)},silver:Ve(R.silver,Fe),bronze:Ve(R.bronze,Fe),avgMvpScore:Number(R.avgMvpScore||0),offensePlayers:X(R.offensePlayers),defensePlayers:X(R.defensePlayers),damageMitigationPlayers:X(R.damageMitigationPlayers),damageMitigationMinions:X(R.damageMitigationMinions),supportPlayers:X(R.supportPlayers),healingPlayers:X(R.healingPlayers),boonTables:X(R.boonTables),specialTables:X(R.specialTables),outgoingConditionSummary:X(R.outgoingConditionSummary),outgoingConditionPlayers:X(R.outgoingConditionPlayers),incomingConditionSummary:X(R.incomingConditionSummary),incomingConditionPlayers:X(R.incomingConditionPlayers),squadClassData:X(R.squadClassData),enemyClassData:X(R.enemyClassData),attendanceData:X(R.attendanceData),squadCompByFight:X(R.squadCompByFight),fightDiffMode:X(R.fightDiffMode),playerSkillBreakdowns:X(R.playerSkillBreakdowns)},fn=X((sn=me.leaderboards)==null?void 0:sn.downContrib).map(Pe=>({...Pe,value:Number((Pe==null?void 0:Pe.value)??0)})).filter(Pe=>Number.isFinite(Pe.value)).sort((Pe,dt)=>dt.value-Pe.value||String((Pe==null?void 0:Pe.account)||"").localeCompare(String((dt==null?void 0:dt.account)||"")))[0];return fn&&(me.maxDownContrib={...me.maxDownContrib||{},value:Number(fn.value||0),player:String(fn.account||((Pt=me.maxDownContrib)==null?void 0:Pt.player)||"-"),count:Number(fn.count||((on=me.maxDownContrib)==null?void 0:on.count)||0),profession:String(fn.profession||((Ft=me.maxDownContrib)==null?void 0:Ft.profession)||"Unknown"),professionList:Array.isArray(fn.professionList)?fn.professionList:((wr=me.maxDownContrib)==null?void 0:wr.professionList)||[]}),me},[Q]);v.useEffect(()=>{var he;if(!((he=window==null?void 0:window.electronAPI)!=null&&he.fetchImageAsDataUrl))return;const R=new Set,X=Ve=>{if(Ve){if(typeof Ve=="string"){/^https?:\/\//i.test(Ve)&&R.add(Ve);return}if(Array.isArray(Ve)){Ve.forEach(X);return}typeof Ve=="object"&&Object.entries(Ve).forEach(([Ae,Fe])=>{if((Ae==="icon"||Ae==="iconUrl")&&typeof Fe=="string"){/^https?:\/\//i.test(Fe)&&R.add(Fe);return}X(Fe)})}};X(_),R.size>0&&sie(Array.from(R))},[_]);const T=v.useMemo(()=>{const R=(l==null?void 0:l.skillUsageData)??G;return{logRecords:Array.isArray(R==null?void 0:R.logRecords)?R.logRecords:[],players:Array.isArray(R==null?void 0:R.players)?R.players:[],skillOptions:Array.isArray(R==null?void 0:R.skillOptions)?R.skillOptions:[],resUtilitySkills:Array.isArray(R==null?void 0:R.resUtilitySkills)?R.resUtilitySkills:[]}},[G,l==null?void 0:l.skillUsageData]),A=T.players.length>0;v.useEffect(()=>{i||j(y.topSkillsMetric||"damage")},[y.topSkillsMetric,i]);const te=R=>{if(i){i({...y,topSkillsMetric:R});return}j(R)},{scrollContainerRef:S}=O6(c),{devMockUploadState:z,webCopyStatus:W,setWebCopyStatus:J,handleWebUpload:q,handleDevMockUpload:re}=iU({logs:e,stats:_,skillUsageData:T,activeStatsViewSettings:r||nb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:$,handleShare:V}=ZU(c),le={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},ie=R=>{const X=le[R];return X?g[X]>0:!0},[F,B]=v.useState(null),[I,ne]=v.useState(null),[ke,Re]=v.useState("totalBuffs"),[se,He]=v.useState("total"),[Oe,wt]=v.useState(""),[qt,gn]=v.useState(null),[Bn,xe]=v.useState(""),[_e,kt]=v.useState(null),[Zt,Wt]=v.useState(""),[Sn,Ki]=v.useState(""),[gi,fa]=v.useState(""),[lr,xn]=v.useState(""),[Yt,Er]=v.useState(""),[vn,Ei]=v.useState(""),[Ir,Mc]=v.useState(""),[Gi,ma]=v.useState("outgoing"),[Cs,Oc]=v.useState(""),[Sl,Ic]=v.useState("damage"),[_c,Lc]=v.useState("damageTaken"),[$c,Fc]=v.useState("totalMitigation"),[Y,ge]=v.useState("all"),[Se,lt]=v.useState({key:"damage",dir:"desc"}),Rt=!(Y!=="all"&&Kie.has(Y)),tn=Rt?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",St=Rt?Se:{key:"applications",dir:Se.key==="applications"?Se.dir:"desc"},[ot,yn]=v.useState("condiCleanse"),[Jr,We]=v.useState("healing"),[_t,rn]=v.useState("total"),[dn,_n]=v.useState("all"),[oi,jn]=v.useState("total"),[xi,Nl]=v.useState("total"),[Tx,D]=v.useState("total"),[H,K]=v.useState("total"),[De,fe]=v.useState("all"),[ze,Ce]=v.useState("squad"),[ct,ht]=v.useState("player"),[Nt,Gt]=v.useState(""),[Vt,wn]=v.useState(""),[qe,Ze]=v.useState(null),[at,Mt]=v.useState([]),[ut,ve]=v.useState(null),[ye,Be]=v.useState(null),[je,rt]=v.useState("hit"),[de,Ue]=v.useState(null),[et,Le]=v.useState(null),[Je,Xt]=v.useState("hit"),[Ln,Nn]=v.useState([]),[an,nn]=v.useState(null),[ln,U]=v.useState(!1),ce=v.useRef(null),[Me,Ke]=v.useState("sizes"),[Te,oe]=v.useState("total"),Ie=Te==="perSecond",[Ne,it]=v.useState(null),[zt,Lt]=v.useState("total"),[mt,Dt]=v.useState(null),[Ut,Kt]=v.useState(null),[Ct,Et]=v.useState(null),[$e,st]=v.useState(""),[pt,jt]=v.useState(null),[mn,An]=v.useState(null),[zn,_r]=v.useState(null),[Hs,qs]=v.useState(""),[Rc,Cl]=v.useState("player"),[ha,Bc]=v.useState(null),[qm,md]=v.useState(null),[Oa,jl]=v.useState(null),{apmSpecBuckets:Ja}=e8(T),es=_.playerSkillBreakdowns||[],zc=v.useMemo(()=>{const R=new Map;return es.forEach(X=>R.set(X.key,X)),R},[es]),Ee=v.useMemo(()=>{const R=new Map;return es.forEach(X=>{const he=X.profession||"Unknown";R.has(he)||R.set(he,{profession:he,players:[],skills:new Map});const Ve=R.get(he);Ve.players.push(X),X.skills.forEach(Ae=>{var me;const Fe=Ve.skills.get(Ae.id)||{...Ae,damage:0,downContribution:0};Fe.damage+=Number(Ae.damage||0),Fe.downContribution+=Number(Ae.downContribution||0),!Fe.icon&&Ae.icon&&(Fe.icon=Ae.icon),(me=Fe.name)!=null&&me.startsWith("Skill ")&&!Ae.name.startsWith("Skill ")&&(Fe.name=Ae.name),Ve.skills.set(Ae.id,Fe)})}),Array.from(R.values()).map(X=>{const he=Array.from(X.skills.values()).sort((Ae,Fe)=>Fe.damage-Ae.damage),Ve=he.reduce((Ae,Fe)=>(Ae[Fe.id]=Fe,Ae),{});return{profession:X.profession,players:X.players,skills:he,skillMap:Ve}}).sort((X,he)=>X.profession.localeCompare(he.profession))},[es]),Ge=pt&&zc.get(pt)||null,Xe=Ge&&zn&&((DN=Ge.skillMap)==null?void 0:DN[zn])||null,tt=v.useMemo(()=>{const R=new Map;return Ee.forEach(X=>R.set(X.profession,X)),R},[Ee]),bt=ha&&tt.get(ha)||null,Pn=bt&&Oa&&((MN=bt.skillMap)==null?void 0:MN[Oa])||null,$n=(R,X)=>{if(!X)return null;const he=Number(X.index);if(Number.isInteger(he)&&he>=0&&he<R.length)return R[he]||null;const Ve=String(X.fightId||"").trim();return Ve&&R.find(Ae=>String((Ae==null?void 0:Ae.id)||"").trim()===Ve)||null},Tn=v.useMemo(()=>{const R=Pe=>String(Pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=Pe=>R(Pe).toLowerCase().split(/[^a-z0-9]+/i).map(dt=>dt.trim()).filter(Boolean).map(dt=>dt.length>3&&dt.endsWith("s")?dt.slice(0,-1):dt),he=(Pe,dt)=>{const be=R(Pe),On=R(dt);if(!On)return be;if(!be)return On;const Wr=X(be),kr=X(On),mr=new Set(Wr),En=new Set(kr),_i=kr.length>0&&kr.every(er=>mr.has(er)),Ot=Wr.length>0&&Wr.every(er=>En.has(er));return _i||Ot?be:`${be} - ${On}`},Ve=Pe=>{if(Pe==null||Pe==="")return 0;if(typeof Pe=="number")return!Number.isFinite(Pe)||Pe<=0?0:Pe>1e12?Pe:Pe*1e3;if(Pe instanceof Date){const mr=Pe.getTime();return Number.isFinite(mr)&&mr>0?mr:0}const dt=String(Pe).trim();if(!dt)return 0;const be=Number(dt);if(Number.isFinite(be)&&be>0)return be>1e12?be:be*1e3;const On=Date.parse(dt);if(Number.isFinite(On)&&On>0)return On;const Wr=dt.replace(/([+-]\d{2})$/,"$1:00"),kr=Date.parse(Wr);return Number.isFinite(kr)&&kr>0?kr:0},Ae=(Pe,dt)=>Ve((Pe==null?void 0:Pe.uploadTime)??(dt==null?void 0:dt.uploadTime)??(Pe==null?void 0:Pe.timeStartStd)??(Pe==null?void 0:Pe.timeStart)??(Pe==null?void 0:Pe.timeEndStd)??(Pe==null?void 0:Pe.timeEnd)),Fe=_==null?void 0:_.spikeDamage,me=Array.isArray(Fe==null?void 0:Fe.fights)?Fe.fights:[],nt=Array.isArray(Fe==null?void 0:Fe.players)?Fe.players:[],fn=me.some(Pe=>(Pe!=null&&Pe.values&&typeof Pe.values=="object"?Object.values(Pe.values):[]).some(be=>be&&typeof be=="object"&&(Number(be.burst1s||0)>0||Number(be.burst5s||0)>0||Number(be.burst30s||0)>0)))||nt.some(Pe=>Number((Pe==null?void 0:Pe.peak1s)||0)>0||Number((Pe==null?void 0:Pe.peak5s)||0)>0||Number((Pe==null?void 0:Pe.peak30s)||0)>0);if((me.length>0||nt.length>0)&&(fn||e.length===0)){const Pe=me.map((be,On)=>{const Wr=be!=null&&be.values&&typeof be.values=="object"?be.values:{},kr={};return Object.entries(Wr).forEach(([mr,En])=>{if(En&&typeof En=="object"){const _i=Number(En.damage||0);kr[mr]={hit:Number(En.hit??_i),burst1s:Number(En.burst1s||0),burst5s:Number(En.burst5s||0),burst30s:Number(En.burst30s||0),skillName:String(En.skillName||""),buckets5s:Array.isArray(En.buckets5s)?En.buckets5s.map(Ot=>Number(Ot||0)):void 0,downIndices5s:Array.isArray(En.downIndices5s)?En.downIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,deathIndices5s:Array.isArray(En.deathIndices5s)?En.deathIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,skillRows:Array.isArray(En.skillRows)?En.skillRows.map(Ot=>({skillName:String((Ot==null?void 0:Ot.skillName)||(Ot==null?void 0:Ot.name)||"Unknown Skill"),damage:Number((Ot==null?void 0:Ot.damage)||0),hits:Number((Ot==null?void 0:Ot.hits)||0),icon:typeof(Ot==null?void 0:Ot.icon)=="string"?Ot.icon:void 0})).filter(Ot=>Number.isFinite(Ot.damage)&&Ot.damage>0):void 0};return}kr[mr]={hit:Number(En||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((be==null?void 0:be.id)||`fight-${On+1}`),shortLabel:String((be==null?void 0:be.shortLabel)||`F${On+1}`),fullLabel:R((be==null?void 0:be.fullLabel)||`Fight ${On+1}`),timestamp:Number((be==null?void 0:be.timestamp)||0),values:kr,maxHit:Number((be==null?void 0:be.maxHit)??(be==null?void 0:be.maxDamage)??0),max1s:Number((be==null?void 0:be.max1s)||0),max5s:Number((be==null?void 0:be.max5s)||0),max30s:Number((be==null?void 0:be.max30s)||0)}}),dt=nt.map(be=>({key:String((be==null?void 0:be.key)||""),account:String((be==null?void 0:be.account)||"Unknown"),displayName:String((be==null?void 0:be.displayName)||(be==null?void 0:be.account)||"Unknown"),characterName:String((be==null?void 0:be.characterName)||(be==null?void 0:be.name)||(be==null?void 0:be.character_name)||(be==null?void 0:be.display_name)||""),profession:String((be==null?void 0:be.profession)||"Unknown"),professionList:Array.isArray(be==null?void 0:be.professionList)?be.professionList.map(On=>String(On)):[],logs:Number((be==null?void 0:be.logs)||0),peakHit:Number((be==null?void 0:be.peakHit)||0),peak1s:Number((be==null?void 0:be.peak1s)||0),peak5s:Number((be==null?void 0:be.peak5s)||0),peak30s:Number((be==null?void 0:be.peak30s)||0),peakFightLabel:R((be==null?void 0:be.peakFightLabel)||""),peakSkillName:String((be==null?void 0:be.peakSkillName)||"")}));return{fights:Pe,players:dt}}const sn=(Pe,dt)=>{const be=(dt==null?void 0:dt.skillMap)||{},On=(dt==null?void 0:dt.buffMap)||{};let Wr=0,kr="";const mr=Ot=>{const er=Number(Ot);if(!Number.isFinite(er))return String(Ot||"Unknown Skill");const cn=(be==null?void 0:be[`s${er}`])||(be==null?void 0:be[`${er}`]);if(cn!=null&&cn.name)return String(cn.name);const yt=(On==null?void 0:On[`b${er}`])||(On==null?void 0:On[`${er}`]);return yt!=null&&yt.name?String(yt.name):`Skill ${er}`},En=Ot=>{if(!Ot||typeof Ot!="object")return;const er=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(yt=>Number.isFinite(yt)),cn=er.length>0?Math.max(...er):0;cn>Wr&&(Wr=cn,kr=mr(Ot.id))};let _i=!1;return Array.isArray(Pe==null?void 0:Pe.targetDamageDist)&&Pe.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(er=>{Array.isArray(er)&&er.forEach(cn=>{_i=!0,En(cn)})})}),(!_i||Wr<=0)&&Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(er=>En(er))}),{peak:Wr,skillName:kr||"Unknown Skill"}},Pt=(Pe,dt)=>{const be=cn=>{if(!Array.isArray(cn)||cn.length===0)return[];const yt=[];for(let Qt=0;Qt<cn.length;Qt+=1){const Sr=Number(cn[Qt]||0),tr=Qt>0?Number(cn[Qt-1]||0):0;yt.push(Math.max(0,Sr-tr))}return yt},On=(cn,yt)=>{if(!Array.isArray(cn)||cn.length===0||yt<=0)return 0;let Qt=0,Sr=0;for(let tr=0;tr<cn.length;tr+=1)Qt+=Number(cn[tr]||0),tr>=yt&&(Qt-=Number(cn[tr-yt]||0)),tr>=yt-1&&Qt>Sr&&(Sr=Qt);return Math.max(0,Sr)},Wr=cn=>{if(!Array.isArray(cn))return[];const yt=cn.reduce((Sr,tr)=>Math.max(Sr,Array.isArray(tr)?tr.length:0),0);if(yt<=0)return[];const Qt=new Array(yt).fill(0);return cn.forEach(Sr=>{if(Array.isArray(Sr))for(let tr=0;tr<yt;tr+=1)Qt[tr]+=Number(Sr[tr]||0)}),Qt},kr=cn=>Array.isArray(cn)?cn.map(yt=>Number(yt||0)):null,En=(cn=>{if(!Array.isArray(cn)||cn.length===0)return null;const yt=cn[0];if(!Array.isArray(yt))return null;if(Array.isArray(yt[0])&&Array.isArray(yt[0][0]))return Wr(yt);if(Array.isArray(yt[0])&&!Array.isArray(yt[0][0])){const Qt=cn.map(Sr=>kr(Array.isArray(Sr)?Sr[0]:null)).filter(Sr=>Array.isArray(Sr)&&Sr.length>0);if(Qt.length>0)return Wr(Qt)}return null})(Pe==null?void 0:Pe.targetDamage1S),_i=Array.isArray(Pe==null?void 0:Pe.damage1S)&&Array.isArray(Pe.damage1S[0])?Pe.damage1S[0]:null,Ot=En||(Array.isArray(_i)?_i.map(cn=>Number(cn||0)):[]),er=be(Ot);return On(er,dt)},on=[],Ft=new Map;e.forEach(Pe=>{const dt=Pe==null?void 0:Pe.details;if(!dt)return;const be=on.length+1,On=R(dt.fightName||Pe.fightName||`Fight ${be}`),Wr=dt.zone||dt.mapName||dt.map||dt.location||"",kr=he(On,String(Wr||"")),mr={};(Array.isArray(dt.players)?dt.players:[]).forEach(yt=>{if(yt!=null&&yt.notInSquad)return;const Qt=String((yt==null?void 0:yt.account)||(yt==null?void 0:yt.name)||"Unknown"),Sr=String((yt==null?void 0:yt.character_name)||(yt==null?void 0:yt.display_name)||(yt==null?void 0:yt.name)||""),tr=String((yt==null?void 0:yt.profession)||"Unknown"),Vc=`${Qt}|${tr}`,eh=sn(yt,dt),Wc=Number(eh.peak||0),Hc=Number(Pt(yt,1)||0),pd=Number(Pt(yt,5)||0),Ol=Number(Pt(yt,30)||0);mr[Vc]={hit:Wc,burst1s:Hc,burst5s:pd,burst30s:Ol,skillName:eh.skillName};const Nr=Ft.get(Vc)||{key:Vc,account:Qt,displayName:Qt,characterName:Sr,profession:tr,professionList:[tr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Nr.logs+=1,Nr.professionList.includes(tr)||Nr.professionList.push(tr),!Nr.characterName&&Sr&&(Nr.characterName=Sr),Wc>Nr.peakHit&&(Nr.peakHit=Wc,Nr.peakFightLabel=kr,Nr.peakSkillName=eh.skillName),Hc>Nr.peak1s&&(Nr.peak1s=Hc),pd>Nr.peak5s&&(Nr.peak5s=pd),Ol>Nr.peak30s&&(Nr.peak30s=Ol),Ft.set(Vc,Nr)});const _i=Object.values(mr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.hit)||0)),0),Ot=Object.values(mr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.burst1s)||0)),0),er=Object.values(mr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.burst5s)||0)),0),cn=Object.values(mr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.burst30s)||0)),0);on.push({id:Pe.filePath||Pe.id||`fight-${be}`,shortLabel:`F${be}`,fullLabel:kr,timestamp:Ae(dt,Pe),values:mr,maxHit:_i,max1s:Ot,max5s:er,max30s:cn})});const wr=Array.from(Ft.values()).sort((Pe,dt)=>dt.peakHit!==Pe.peakHit?dt.peakHit-Pe.peakHit:Pe.displayName.localeCompare(dt.displayName));return{fights:on,players:wr}},[e,_]),Kn=v.useMemo(()=>{const R=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=_==null?void 0:_.incomingStrikeDamage,he=Array.isArray(X==null?void 0:X.fights)?X.fights:[],Ve=Array.isArray(X==null?void 0:X.players)?X.players:[];if(he.length===0&&Ve.length===0)return{fights:[],players:[]};const Ae=he.map((me,nt)=>{const fn=me!=null&&me.values&&typeof me.values=="object"?me.values:{},gt={};return Object.entries(fn).forEach(([sn,Pt])=>{if(Pt&&typeof Pt=="object"){const on=Number(Pt.damage||0);gt[sn]={hit:Number(Pt.hit??on),burst1s:Number(Pt.burst1s||0),burst5s:Number(Pt.burst5s||0),burst30s:Number(Pt.burst30s||0),skillName:String(Pt.skillName||""),buckets5s:Array.isArray(Pt.buckets5s)?Pt.buckets5s.map(Ft=>Number(Ft||0)):void 0,downIndices5s:Array.isArray(Pt.downIndices5s)?Pt.downIndices5s.map(Ft=>Number(Ft)).filter(Ft=>Number.isFinite(Ft)&&Ft>=0):void 0,deathIndices5s:Array.isArray(Pt.deathIndices5s)?Pt.deathIndices5s.map(Ft=>Number(Ft)).filter(Ft=>Number.isFinite(Ft)&&Ft>=0):void 0,skillRows:Array.isArray(Pt.skillRows)?Pt.skillRows.map(Ft=>({skillName:String((Ft==null?void 0:Ft.skillName)||(Ft==null?void 0:Ft.name)||"Unknown Skill"),damage:Number((Ft==null?void 0:Ft.damage)||0),hits:Number((Ft==null?void 0:Ft.hits)||0),icon:typeof(Ft==null?void 0:Ft.icon)=="string"?Ft.icon:void 0})).filter(Ft=>Number.isFinite(Ft.damage)&&Ft.damage>0):void 0};return}gt[sn]={hit:Number(Pt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((me==null?void 0:me.id)||`fight-${nt+1}`),shortLabel:String((me==null?void 0:me.shortLabel)||`F${nt+1}`),fullLabel:R((me==null?void 0:me.fullLabel)||`Fight ${nt+1}`),timestamp:Number((me==null?void 0:me.timestamp)||0),values:gt,maxHit:Number((me==null?void 0:me.maxHit)??(me==null?void 0:me.maxDamage)??0),max1s:Number((me==null?void 0:me.max1s)||0),max5s:Number((me==null?void 0:me.max5s)||0),max30s:Number((me==null?void 0:me.max30s)||0)}}),Fe=Ve.map(me=>({key:String((me==null?void 0:me.key)||""),account:String((me==null?void 0:me.account)||"Unknown"),displayName:String((me==null?void 0:me.displayName)||(me==null?void 0:me.account)||"Unknown"),characterName:String((me==null?void 0:me.characterName)||(me==null?void 0:me.name)||(me==null?void 0:me.character_name)||(me==null?void 0:me.display_name)||""),profession:String((me==null?void 0:me.profession)||"Unknown"),professionList:Array.isArray(me==null?void 0:me.professionList)?me.professionList.map(nt=>String(nt)):[],logs:Number((me==null?void 0:me.logs)||0),peakHit:Number((me==null?void 0:me.peakHit)||0),peak1s:Number((me==null?void 0:me.peak1s)||0),peak5s:Number((me==null?void 0:me.peak5s)||0),peak30s:Number((me==null?void 0:me.peak30s)||0),peakFightLabel:R((me==null?void 0:me.peakFightLabel)||""),peakSkillName:String((me==null?void 0:me.peakSkillName)||"")}));return{fights:Ae,players:Fe}},[_]),Di=v.useMemo(()=>{const R=new Map;return Tn.players.forEach(X=>R.set(X.key,X)),R},[Tn.players]),Mi=v.useMemo(()=>{const R=Ae=>je==="hit"?Ae.peakHit:je==="1s"?Ae.peak1s:je==="5s"?Ae.peak5s:Ae.peak30s,X=vn.trim().toLowerCase(),he=X?Tn.players.filter(Ae=>Ae.displayName.toLowerCase().includes(X)||Ae.account.toLowerCase().includes(X)||Ae.profession.toLowerCase().includes(X)):Tn.players,Ve=new Map;return he.forEach(Ae=>{const Fe=Ae.profession||"Unknown",me=Ve.get(Fe)||[];me.push(Ae),Ve.set(Fe,me)}),Array.from(Ve.entries()).map(([Ae,Fe])=>({profession:Ae,players:[...Fe].sort((me,nt)=>R(nt)-R(me)||me.displayName.localeCompare(nt.displayName))})).sort((Ae,Fe)=>Ae.profession.localeCompare(Fe.profession))},[Tn.players,vn,je]),ts=ut&&Di.get(ut)||null,vi=v.useMemo(()=>{if(!ut)return[];const R=he=>he?Number(je==="hit"?he.hit||0:je==="1s"?he.burst1s||0:je==="5s"?he.burst5s||0:he.burst30s||0):0,X=he=>Number(je==="hit"?he.maxHit||0:je==="1s"?he.max1s||0:je==="5s"?he.max5s||0:he.max30s||0);return Tn.fights.map((he,Ve)=>{var Ae;return{index:Ve,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:R(he.values[ut]),maxDamage:X(he),skillName:String(((Ae=he.values[ut])==null?void 0:Ae.skillName)||"")}})},[Tn.fights,ut,je]),Yi=v.useMemo(()=>{const R=vi.reduce((he,Ve)=>Math.max(he,Number(Ve.damage||0)),0),X=vi.reduce((he,Ve)=>Math.max(he,Number(Ve.maxDamage||0)),0);return Math.max(1,R,X)},[vi]),Al=v.useMemo(()=>{var IN,_N,LN,$N,FN,RN,BN,zN,UN;const R=ye===null?null:vi.find(we=>we.index===ye)||null;if(!R||!ut)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=$n(Tn.fights,R),[he,Ve]=ut.split("|"),Ae=e.find(we=>String((we==null?void 0:we.filePath)||(we==null?void 0:we.id)||"")===String(R.fightId||"")),Fe=Ae==null?void 0:Ae.details,me=we=>Array.isArray(we)?we.map(ft=>Array.isArray(ft)?[Number(ft[0]),Number(ft[1])]:ft&&typeof ft=="object"?[Number(ft.time),Number(ft.value)]:null).filter(ft=>!!ft&&Number.isFinite(ft[0])&&ft[0]>=0):[],nt=we=>String(we||"").trim().toLowerCase(),fn=nt(he),gt=nt(Ve),sn=Di.get(ut),Pt=new Set([nt(sn==null?void 0:sn.displayName),nt(sn==null?void 0:sn.characterName),nt(sn==null?void 0:sn.account)].filter(Boolean)),on=Array.isArray(Fe==null?void 0:Fe.players)&&((IN=Fe.players.map(we=>{const ft=nt(we==null?void 0:we.account),Jt=nt(we==null?void 0:we.name),nr=nt(we==null?void 0:we.profession),In=!!ft&&ft===fn,Un=!!Jt&&(Jt===fn||Pt.has(Jt)),Qi=!!ft&&Pt.has(ft),Io=!gt||nr===gt;let rs=0;return In&&(rs+=100),Un&&(rs+=90),Qi&&(rs+=80),Io&&(rs+=20),{player:we,score:rs}}).filter(we=>we.score>0).sort((we,ft)=>ft.score-we.score)[0])==null?void 0:IN.player)||null,Ft=(()=>{const we=on==null?void 0:on.combatReplayData;return Array.isArray(we)?we.filter(ft=>ft&&typeof ft=="object"):we&&typeof we=="object"?[we]:[]})(),wr=Ft.flatMap(we=>me(we==null?void 0:we.down).map(([ft])=>ft)),Pe=Ft.flatMap(we=>me(we==null?void 0:we.dead).map(([ft])=>ft)),dt=Ft.map(we=>Number(we==null?void 0:we.start)).filter(we=>Number.isFinite(we)&&we>=0),be=Array.isArray(Fe==null?void 0:Fe.players)?Fe.players.flatMap(we=>{const ft=we==null?void 0:we.combatReplayData;return Array.isArray(ft)?ft.map(Jt=>Number(Jt==null?void 0:Jt.start)):[Number(ft==null?void 0:ft.start)]}).filter(we=>Number.isFinite(we)&&we>=0).reduce((we,ft)=>Math.min(we,ft),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,On=[0,Number((Fe==null?void 0:Fe.logStartOffset)||0),...dt,Number.isFinite(be)?be:0].filter(we=>Number.isFinite(we)&&we>=0),Wr=we=>{const ft=Math.max(0,Math.floor(Number(we||0)/1e3)),Jt=Math.floor(ft/5)*5;return`${Jt}s-${Jt+5}s`},kr=(we,ft)=>{if(we.length===0||ft.length===0)return[];const Jt=ft.length*5e3,nr=hr=>hr.reduce((js,qc)=>qc>=0&&qc<=Jt+2e3?js+1:js,0),In=[],Un=we.map(hr=>Number(hr||0)).filter(hr=>Number.isFinite(hr)&&hr>=0);if(Un.length===0)return[];In.push(Un);const Qi=Un.reduce((hr,js)=>Math.max(hr,js),0),Io=Un.reduce((hr,js)=>Math.min(hr,js),Number.POSITIVE_INFINITY);Qi>Jt*20&&In.push(Un.map(hr=>hr/1e3)),Qi<=Jt*2&&Io>=0&&Qi>0&&Qi<Math.max(120,ft.length*5+10)&&In.push(Un.map(hr=>hr*1e3));let rs=Un,VN=0,WN=-1;return In.forEach(hr=>{const js=new Set(On),qc=hr.reduce((Il,Dx)=>Math.min(Il,Dx),Number.POSITIVE_INFINITY);if(Number.isFinite(qc)&&Jt>0&&qc>Jt){const Il=Math.floor(qc/Jt)*Jt;js.add(Il),js.add(Math.max(0,Il-Jt))}js.forEach(Il=>{const Dx=hr.map(PR=>PR-Il),HN=nr(Dx);HN>WN&&(WN=HN,VN=Il,rs=hr)})}),rs.map(hr=>hr-VN).filter(hr=>Number.isFinite(hr)&&hr>=0)},mr=(we,ft)=>{if(we.length===0||ft.length===0)return[];const Jt=kr(ft,we),nr=new Map;we.forEach(Un=>{const Qi=/^(\d+)s-/.exec(String(Un));if(!Qi)return;const Io=Number(Qi[1]);Number.isFinite(Io)&&nr.set(Io,Un)});const In=[];return Jt.forEach(Un=>{const Qi=Math.max(0,Math.floor(Number(Un||0)/1e3)),Io=Math.floor(Qi/5)*5,rs=nr.get(Io)||Wr(Un);we.includes(rs)&&In.push(rs)}),Array.from(new Set(In))},En=(we,ft)=>{if(we<=0||ft.length===0)return[];const Jt=Array.from({length:we},(Un,Qi)=>`${Qi*5}s-${(Qi+1)*5}s`),In=kr(ft,Jt).map(Un=>Math.floor(Math.max(0,Number(Un||0))/5e3)).filter(Un=>Number.isFinite(Un)&&Un>=0&&Un<we);return Array.from(new Set(In))},_i=Array.isArray((LN=(_N=X==null?void 0:X.values)==null?void 0:_N[ut])==null?void 0:LN.buckets5s)?((FN=($N=X==null?void 0:X.values)==null?void 0:$N[ut])==null?void 0:FN.buckets5s)||[]:[],Ot=Array.isArray((BN=(RN=X==null?void 0:X.values)==null?void 0:RN[ut])==null?void 0:BN.downIndices5s)?X.values[ut].downIndices5s.map(we=>Number(we)).filter(we=>Number.isFinite(we)&&we>=0):[],er=Array.isArray((UN=(zN=X==null?void 0:X.values)==null?void 0:zN[ut])==null?void 0:UN.deathIndices5s)?X.values[ut].deathIndices5s.map(we=>Number(we)).filter(we=>Number.isFinite(we)&&we>=0):[];if(_i.length>0){const we=Math.max(0,Math.ceil(Number((Fe==null?void 0:Fe.durationMS)||0)/5e3)),ft=Math.max(_i.length,we),Jt=Array.from({length:ft},(In,Un)=>({label:`${Un*5}s-${(Un+1)*5}s`,value:Number(_i[Un]||0)})),nr=Jt.map(In=>In.label);return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:Jt,downLabels:mr(nr,wr),deathLabels:mr(nr,Pe),downIndices:Ot.length>0?Ot.filter(In=>In<Jt.length):En(Jt.length,wr),deathIndices:er.length>0?er.filter(In=>In<Jt.length):En(Jt.length,Pe)}}const cn=R.shortLabel||"Fight";if(!Fe||!Array.isArray(Fe.players))return{title:`Fight Breakdown - ${cn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const yt=Fe.players.find(we=>String((we==null?void 0:we.account)||(we==null?void 0:we.name)||"Unknown")===he&&String((we==null?void 0:we.profession)||"Unknown")===Ve);if(!yt)return{title:`Fight Breakdown - ${cn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Qt=yt,Sr=we=>{if(!Array.isArray(we)||we.length===0)return[];const ft=[];for(let Jt=0;Jt<we.length;Jt+=1){const nr=Number(we[Jt]||0),In=Jt>0?Number(we[Jt-1]||0):0;ft.push(Math.max(0,nr-In))}return ft},tr=we=>{if(!Array.isArray(we))return[];const ft=we.reduce((nr,In)=>Math.max(nr,Array.isArray(In)?In.length:0),0);if(ft<=0)return[];const Jt=new Array(ft).fill(0);return we.forEach(nr=>{if(Array.isArray(nr))for(let In=0;In<ft;In+=1)Jt[In]+=Number(nr[In]||0)}),Jt},Vc=we=>Array.isArray(we)?we.map(ft=>Number(ft||0)):null,Wc=(we=>{if(!Array.isArray(we)||we.length===0)return null;const ft=we[0];if(!Array.isArray(ft))return null;if(Array.isArray(ft[0])&&Array.isArray(ft[0][0]))return tr(ft);if(Array.isArray(ft[0])&&!Array.isArray(ft[0][0])){const Jt=we.map(nr=>Vc(Array.isArray(nr)?nr[0]:null)).filter(nr=>Array.isArray(nr)&&nr.length>0);if(Jt.length>0)return tr(Jt)}return null})(Qt==null?void 0:Qt.targetDamage1S),Hc=Array.isArray(Qt==null?void 0:Qt.damage1S)&&Array.isArray(Qt.damage1S[0])?Qt.damage1S[0]:null,pd=Wc||(Array.isArray(Hc)?Hc.map(we=>Number(we||0)):[]),Ol=Sr(pd),Nr=5,CR=Math.max(0,Math.ceil(Number((Fe==null?void 0:Fe.durationMS)||0)/(Nr*1e3))),jR=Math.max(0,Math.ceil(Ol.length/Nr)),AR=Math.max(CR,jR),gd=[];for(let we=0;we<AR;we+=1){const ft=we*Nr,Jt=Math.min(ft+Nr,Ol.length),nr=Ol.slice(ft,Jt).reduce((In,Un)=>In+Number(Un||0),0);gd.push({label:`${ft}s-${ft+Nr}s`,value:nr})}const ON=gd.map(we=>we.label);return{title:`Fight Breakdown - ${cn} (5s Damage Buckets)`,data:gd,downLabels:mr(ON,wr),deathLabels:mr(ON,Pe),downIndices:En(gd.length,wr),deathIndices:En(gd.length,Pe)}},[ye,vi,ut,e,Tn.fights,Di]),Pl=v.useMemo(()=>{const R=new Map;return Kn.players.forEach(X=>R.set(X.key,X)),R},[Kn.players]),Ia=v.useMemo(()=>{const R=Ae=>Je==="hit"?Ae.peakHit:Je==="1s"?Ae.peak1s:Je==="5s"?Ae.peak5s:Ae.peak30s,X=Ir.trim().toLowerCase(),he=X?Kn.players.filter(Ae=>Ae.displayName.toLowerCase().includes(X)||Ae.account.toLowerCase().includes(X)||Ae.profession.toLowerCase().includes(X)):Kn.players,Ve=new Map;return he.forEach(Ae=>{const Fe=Ae.profession||"Unknown",me=Ve.get(Fe)||[];me.push(Ae),Ve.set(Fe,me)}),Array.from(Ve.entries()).map(([Ae,Fe])=>({profession:Ae,players:[...Fe].sort((me,nt)=>R(nt)-R(me)||me.displayName.localeCompare(nt.displayName))})).sort((Ae,Fe)=>Ae.profession.localeCompare(Fe.profession))},[Kn.players,Ir,Je]),Mo=de&&Pl.get(de)||null,pa=v.useMemo(()=>{if(!de)return[];const R=he=>he?Number(Je==="hit"?he.hit||0:Je==="1s"?he.burst1s||0:Je==="5s"?he.burst5s||0:he.burst30s||0):0,X=he=>Number(Je==="hit"?he.maxHit||0:Je==="1s"?he.max1s||0:Je==="5s"?he.max5s||0:he.max30s||0);return Kn.fights.map((he,Ve)=>{var Ae;return{index:Ve,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:R(he.values[de]),maxDamage:X(he),skillName:String(((Ae=he.values[de])==null?void 0:Ae.skillName)||"")}})},[Kn.fights,de,Je]),Km=v.useMemo(()=>{const R=pa.reduce((he,Ve)=>Math.max(he,Number(Ve.damage||0)),0),X=pa.reduce((he,Ve)=>Math.max(he,Number(Ve.maxDamage||0)),0);return Math.max(1,R,X)},[pa]),Tl=v.useMemo(()=>{var nt,fn,gt,sn,Pt,on,Ft,wr,Pe;const R=et===null?null:pa.find(dt=>dt.index===et)||null;if(!R||!de)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=$n(Kn.fights,R),he=(nt=X==null?void 0:X.values)==null?void 0:nt[de],Ve=Array.isArray((gt=(fn=X==null?void 0:X.values)==null?void 0:fn[de])==null?void 0:gt.buckets5s)?((Pt=(sn=X==null?void 0:X.values)==null?void 0:sn[de])==null?void 0:Pt.buckets5s)||[]:[],Ae=Array.isArray((Ft=(on=X==null?void 0:X.values)==null?void 0:on[de])==null?void 0:Ft.downIndices5s)?X.values[de].downIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[],Fe=Array.isArray((Pe=(wr=X==null?void 0:X.values)==null?void 0:wr[de])==null?void 0:Pe.deathIndices5s)?X.values[de].deathIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[];if(Ve.length>0){const dt=Ve.map((be,On)=>({label:`${On*5}s-${(On+1)*5}s`,value:Number(be||0)}));return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:dt,downLabels:[],deathLabels:[],downIndices:Ae.filter(be=>be<dt.length),deathIndices:Fe.filter(be=>be<dt.length)}}const me=he?Number(Je==="hit"?he.hit||0:Je==="1s"?he.burst1s||0:Je==="5s"?he.burst5s||0:he.burst30s||0):0;return me>0?{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:me}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${R.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[et,pa,de,Kn.fights,Je]),Gm=v.useMemo(()=>{var me;if(et===null||!de)return[];const R=pa.find(nt=>nt.index===et);if(!R)return[];const X=$n(Kn.fights,R),he=(me=X==null?void 0:X.values)==null?void 0:me[de],Ae=[...(he==null?void 0:he.skillRows)||[]].filter(nt=>Number((nt==null?void 0:nt.damage)||0)>0).sort((nt,fn)=>Number(fn.damage||0)-Number(nt.damage||0)).slice(0,30);if(Ae.length>0)return Ae;const Fe=Number((he==null?void 0:he.hit)||0);return Fe<=0?Ae:[{skillName:String((he==null?void 0:he.skillName)||"Unknown Skill"),damage:Fe,hits:1,icon:void 0}]},[et,de,pa,Kn.fights]),Ym=v.useMemo(()=>{var Ve,Ae;if(ye===null||!ut)return[];const R=vi.find(Fe=>Fe.index===ye);if(!R)return[];const X=$n(Tn.fights,R);return[...((Ae=(Ve=X==null?void 0:X.values)==null?void 0:Ve[ut])==null?void 0:Ae.skillRows)||[]].filter(Fe=>Number((Fe==null?void 0:Fe.damage)||0)>0).sort((Fe,me)=>Number(me.damage||0)-Number(Fe.damage||0)).slice(0,30)},[ye,ut,vi,Tn.fights]);v.useEffect(()=>{if(es.length===0){pt!==null&&jt(null),zn!==null&&_r(null);return}if(!pt||!zc.has(pt)){const R=es[0].key;jt(R),An(null)}},[es,zc,pt,zn]),v.useEffect(()=>{if(!Ge||Ge.skills.length===0){zn!==null&&_r(null);return}const R=Ge.skills.some(X=>X.id===zn);(!zn||!R)&&_r(Ge.skills[0].id)},[Ge,zn]),v.useEffect(()=>{if(Ee.length===0){ha!==null&&Bc(null),Oa!==null&&jl(null);return}if(!ha||!tt.has(ha)){const R=Ee[0].profession;Bc(R),md(null)}},[Ee,tt,ha,Oa]),v.useEffect(()=>{if(!bt||bt.skills.length===0){Oa!==null&&jl(null);return}const R=bt.skills.some(X=>X.id===Oa);(!Oa||!R)&&jl(bt.skills[0].id)},[bt,Oa]),v.useEffect(()=>{if(Tn.players.length===0){ut!==null&&ve(null);return}(!ut||!Di.has(ut))&&ut!==null&&ve(null)},[Tn.players,Di,ut]),v.useEffect(()=>{Be(null)},[ut,je]),v.useEffect(()=>{if(ye===null)return;vi.some(X=>X.index===ye)||Be(null)},[vi,ye]),v.useEffect(()=>{if(Kn.players.length===0){de!==null&&Ue(null);return}(!de||!Pl.has(de))&&de!==null&&Ue(null)},[Kn.players,Pl,de]),v.useEffect(()=>{Le(null)},[de,Je]),v.useEffect(()=>{if(et===null)return;pa.some(X=>X.index===et)||Le(null)},[pa,et]);const Xm=v.useMemo(()=>new Set(at),[at]),{playerMapByKey:Xi,playerTotalsForSkill:Vr,skillChartData:El,skillChartMaxY:Dl,groupedSkillUsagePlayers:Ml}=t8({skillUsageData:T,selectedSkillId:qe,selectedPlayers:Xm,skillUsageView:Te==="perSecond"?"perSecond":"total"}),Oo=v.useMemo(()=>{const R=new Map,X=Fe=>{Fe.forEach(me=>{const nt=eu(me==null?void 0:me.name)||(me==null?void 0:me.name);nt&&me!=null&&me.icon&&!R.has(nt)&&R.set(nt,me.icon)})},he=Fe=>{Fe.forEach(me=>{Object.entries((me==null?void 0:me.conditions)||{}).forEach(([nt,fn])=>{const gt=eu(nt)||nt;fn!=null&&fn.icon&&!R.has(gt)&&R.set(gt,fn.icon)})})},Ve=Fe=>{const me=new Map;return Fe.forEach(nt=>{const fn=eu(nt==null?void 0:nt.name)||(nt==null?void 0:nt.name);if(!fn)return;const gt=me.get(fn)||{name:fn,icon:(nt==null?void 0:nt.icon)||R.get(fn)||yh(fn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};gt.applications+=Number((nt==null?void 0:nt.applications)||0),gt.damage+=Number((nt==null?void 0:nt.damage)||0),nt!=null&&nt.applicationsFromUptime&&(gt.applicationsFromUptime+=Number(nt.applicationsFromUptime||0)),nt!=null&&nt.applicationsFromBuffs&&(gt.applicationsFromBuffs+=Number(nt.applicationsFromBuffs||0)),nt!=null&&nt.applicationsFromBuffsActive&&(gt.applicationsFromBuffsActive+=Number(nt.applicationsFromBuffsActive||0)),!gt.icon&&(nt!=null&&nt.icon)&&(gt.icon=nt.icon),gt.icon||(gt.icon=yh(fn)),me.set(fn,gt)}),Array.from(me.values())},Ae=Fe=>Fe.map(me=>{const nt={};return Object.entries((me==null?void 0:me.conditions)||{}).forEach(([fn,gt])=>{const sn=eu(fn)||fn;if(!sn)return;const Pt=nt[sn]||{icon:(gt==null?void 0:gt.icon)||R.get(sn)||yh(sn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Pt.applications+=Number((gt==null?void 0:gt.applications)||0),Pt.damage+=Number((gt==null?void 0:gt.damage)||0),gt!=null&&gt.applicationsFromUptime&&(Pt.applicationsFromUptime+=Number(gt.applicationsFromUptime||0)),gt!=null&&gt.applicationsFromBuffs&&(Pt.applicationsFromBuffs+=Number(gt.applicationsFromBuffs||0)),gt!=null&&gt.applicationsFromBuffsActive&&(Pt.applicationsFromBuffsActive+=Number(gt.applicationsFromBuffsActive||0)),!Pt.icon&&(gt!=null&&gt.icon)&&(Pt.icon=gt.icon),Pt.icon||(Pt.icon=yh(sn)),Object.values((gt==null?void 0:gt.skills)||{}).forEach(on=>{const Ft=(on==null?void 0:on.name)||"Unknown",wr=Pt.skills[Ft]||{name:Ft,hits:0,damage:0,icon:on==null?void 0:on.icon};wr.hits+=Number((on==null?void 0:on.hits)||0),wr.damage+=Number((on==null?void 0:on.damage)||0),!wr.icon&&(on!=null&&on.icon)&&(wr.icon=on.icon),Pt.skills[Ft]=wr}),nt[sn]=Pt}),{...me,conditions:nt}});return(Fe,me)=>(X(Fe),he(me),{summary:Ve(Fe),players:Ae(me)})},[]),kN=Gi==="outgoing"?_.outgoingConditionSummary:_.incomingConditionSummary,SN=Gi==="outgoing"?_.outgoingConditionPlayers:_.incomingConditionPlayers,{summary:Qm,players:GF}=v.useMemo(()=>Oo(kN||[],SN||[]),[Oo,kN,SN]);v.useEffect(()=>{if(Y==="all"||Qm.some(X=>X.name===Y))return;const R=eu(Y);R&&Qm.some(X=>X.name===R)?ge(R):ge("all")},[Y,Qm,ge]);const YF=v.useMemo(()=>{const R={};return Vr.forEach((X,he)=>{const Ve=Xi.get(he);if(!Ve)return;const Ae=Ve.profession;(!R[Ae]||X>R[Ae])&&(R[Ae]=X)}),R},[Vr,Xi]),$t=v.useCallback(R=>d?d(R):!0,[d]),Zn=v.useCallback((R,X)=>{const he=$t(R);return d?`${X} ${he?"":"hidden"}`:`${X} transition-[opacity,transform] duration-700 ease-in-out ${he?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[$t,d]),NN=v.useMemo(()=>Gie.find(R=>$t(R))||null,[$t]),Jn=v.useCallback(R=>R===NN,[NN]),XF=v.useMemo(()=>{const R=new Map,X=new Map;return at.forEach(he=>{const Ve=Xi.get(he);if(!Ve)return;const Ae=Vr.get(he)??0,Fe=X.get(Ve.profession)||[];Fe.push({key:he,total:Ae}),X.set(Ve.profession,Fe)}),X.forEach(he=>{he.sort((Ve,Ae)=>Ae.total-Ve.total),he.forEach((Ve,Ae)=>{R.set(Ve.key,Ae)})}),R},[at,Xi,Vr]),CN=["0","12 3","8 3","6 3","4 3","2 3"],QF=R=>{const X=Xi.get(R),he=ic((X==null?void 0:X.profession)||""),Ve=Vr.get(R)??0,Ae=X!=null&&X.profession&&YF[X.profession]||1,me=.35+(Ae>0?Ve/Ae:1)*.65;return Zm(he,me)},ZF=R=>{const X=XF.get(R)??0;return CN[X%CN.length]},JF=(R,X,he)=>{if(!he)return QF(R);const Ve=Xi.get(R),Ae=ic((Ve==null?void 0:Ve.profession)||"");return X?Zm(Ae,1.2):Zm(Ae,.5)},Zm=(R,X)=>{const he=R.replace("#","");if(he.length!==6)return R;const Ve=gt=>Math.max(0,Math.min(255,gt)),Ae=gt=>Number.parseInt(he.slice(gt,gt+2),16),Fe=gt=>Ve(Math.round(gt)).toString(16).padStart(2,"0"),me=Ae(0),nt=Ae(2),fn=Ae(4);return`#${Fe(me*X)}${Fe(nt*X)}${Fe(fn*X)}`},jN=v.useMemo(()=>{const R=new Map;return T.skillOptions.forEach(X=>{R.set(X.id,{name:X.name,icon:X.icon})}),R},[T.skillOptions]),hd=v.useMemo(()=>{var gt;if(at.length===0)return[];const R=new Map,X=new Map;let he=0;at.forEach(sn=>{const Pt=Xi.get(sn);if(!Pt)return;he+=Pt.totalActiveSeconds||0,Object.entries(Pt.skillTotals||{}).forEach(([Ft,wr])=>{R.set(Ft,(R.get(Ft)||0)+Number(wr||0))});const on=Pt.profession||"Unknown";X.set(on,(X.get(on)||0)+(Pt.totalActiveSeconds||0))});const Ve=Vt.trim().toLowerCase(),Ae=Te==="perSecond",Fe=((gt=Array.from(X.entries()).sort((sn,Pt)=>Pt[1]-sn[1])[0])==null?void 0:gt[0])||"Unknown",me=ic(Fe),nt="#64748b";return Array.from(R.entries()).map(([sn,Pt])=>{const on=jN.get(sn),Ft=(on==null?void 0:on.name)||sn,wr=Ae&&he>0?Pt/he:Pt;return{skillId:sn,name:Ft,icon:on==null?void 0:on.icon,total:wr}}).filter(sn=>sn.total>0&&(!Ve||sn.name.toLowerCase().includes(Ve))).sort((sn,Pt)=>Pt.total-sn.total).map((sn,Pt)=>({...sn,color:Pt===0?me:Zm(me,.85-Math.min(Pt*.06,.4))||nt}))},[at,Xi,Vt,Te,jN]);v.useEffect(()=>{if(hd.length===0){qe!==null&&Ze(null);return}(!qe||!hd.some(R=>R.skillId===qe))&&Ze(hd[0].skillId)},[hd,qe,Ze]);const Uc=T.skillOptions.find(R=>R.id===qe),eR=(Uc==null?void 0:Uc.name)||"",tR=(Uc==null?void 0:Uc.icon)||null,nR=A&&!!qe&&at.length>0,Jm="__all__",rR=A&&Ja.length>0,Ks=v.useMemo(()=>Ja.find(R=>R.profession===mt)??null,[Ja,mt]),iR=Ct===Jm,aR=v.useMemo(()=>{var R;return((R=Ks==null?void 0:Ks.skills)==null?void 0:R.find(X=>X.id===Ct))??null},[Ks,Ct]);v.useEffect(()=>{if(Ja.length===0){mt!==null&&Dt(null),Ut!==null&&Kt(null);return}if(!mt||!Ja.some(R=>R.profession===mt)){const R=Ja[0].profession;Dt(R),Kt(null)}},[Ja,mt,Ut]),v.useEffect(()=>{if(!Ks||Ks.skills.length===0){Ct!==null&&Et(null);return}const R=Ks.skills.some(X=>X.id===Ct);(!Ct||!R&&Ct!==Jm)&&Et(Jm)},[Ks,Ct]);const sR=R=>{Mt(X=>X.includes(R)?X.filter(he=>he!==R):[...X,R])},oR=R=>{Mt(X=>X.filter(he=>he!==R))},lR=v.useMemo(()=>{const R=Oe.trim().toLowerCase(),X=_.boonTables||[];return R?X.filter(he=>he.name.toLowerCase().includes(R)):X},[_.boonTables,Oe]),cR=v.useMemo(()=>I?(_.boonTables||[]).find(R=>R.id===I)??null:null,[_.boonTables,I]),uR=v.useMemo(()=>{const R=Bn.trim().toLowerCase(),X=[..._.specialTables||[]].sort((he,Ve)=>he.name.localeCompare(Ve.name));return R?X.filter(he=>he.name.toLowerCase().includes(R)):X},[_.specialTables,Bn]),ns=v.useMemo(()=>[..._.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,he)=>X.name.localeCompare(he.name)),[_.specialTables]),dR=v.useMemo(()=>{const R=Zt.trim().toLowerCase();return R?ns.filter(X=>X.name.toLowerCase().includes(R)):ns},[ns,Zt]),fR=v.useMemo(()=>qt?(_.specialTables||[]).find(R=>R.id===qt)??null:null,[_.specialTables,qt]),mR=v.useMemo(()=>_e?ns.find(R=>R.id===_e)??null:null,[ns,_e]);v.useEffect(()=>{!_.boonTables||_.boonTables.length===0||(!I||!_.boonTables.some(R=>R.id===I))&&ne(_.boonTables[0].id)},[_.boonTables,I]),v.useEffect(()=>{!_.specialTables||_.specialTables.length===0||(!qt||!_.specialTables.some(R=>R.id===qt))&&gn(_.specialTables[0].id)},[_.specialTables,qt]),v.useEffect(()=>{if(!ns||ns.length===0){_e!==null&&kt(null);return}(!_e||!ns.some(R=>R.id===_e))&&kt(ns[0].id)},[ns,_e]),v.useEffect(()=>{const R=()=>{const he=window.getSelection();he&&he.rangeCount>0&&he.removeAllRanges()},X=he=>{var Ae;const Ve=he.target;(Ae=Ve==null?void 0:Ve.closest)!=null&&Ae.call(Ve,".recharts-wrapper")&&(he.preventDefault(),R())};return document.addEventListener("selectstart",X),document.addEventListener("mousedown",X),document.addEventListener("mousemove",X),document.addEventListener("dragstart",X),()=>{document.removeEventListener("selectstart",X),document.removeEventListener("mousedown",X),document.removeEventListener("mousemove",X),document.removeEventListener("dragstart",X)}},[]);const Oi=R=>{ce.current&&(window.clearTimeout(ce.current),ce.current=null),U(!1),nn(R)},li=()=>{an&&(ce.current&&window.clearTimeout(ce.current),U(!0),ce.current=window.setTimeout(()=>{nn(null),U(!1),ce.current=null},160))};v.useEffect(()=>{if(!an)return;const R=Ve=>{Ve.key==="Escape"&&li()},X=document.body.style.overflow,he=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),document.body.style.overflow=X,document.documentElement.style.overflow=he}},[an]);const AN=(R,X)=>{const he=((X==null?void 0:X.value)||0)-((R==null?void 0:R.value)||0);return he!==0?he:String((R==null?void 0:R.name)||"").localeCompare(String((X==null?void 0:X.name)||""))},PN=Array.isArray(_==null?void 0:_.squadClassData)?_.squadClassData:[],TN=Array.isArray(_==null?void 0:_.enemyClassData)?_.enemyClassData:[],hR=Array.isArray(_==null?void 0:_.attendanceData)?_.attendanceData:[],Ex=Array.isArray(_==null?void 0:_.squadCompByFight)?_.squadCompByFight:[],EN=Array.isArray(_==null?void 0:_.fightBreakdown)?_.fightBreakdown:[],pR=v.useMemo(()=>{const R=new Map;return EN.forEach(X=>{const he=String((X==null?void 0:X.id)||"");he&&R.set(he,X)}),Ex.map(X=>{const he=R.get(String((X==null?void 0:X.id)||""))||null;return{...X,enemyClassCounts:(he==null?void 0:he.enemyClassCounts)||{}}})},[Ex,EN]),gR=v.useMemo(()=>[...PN].sort(AN),[PN]),xR=v.useMemo(()=>[...TN].sort(AN),[TN]),vR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",yR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${an?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${an?"":"backdrop-blur-2xl"}`,bR=c&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,wR=R=>Te==="perSecond"?R.toFixed(1):Math.round(R).toLocaleString(),kR=R=>R.toFixed(1),SR=R=>Math.round(R).toLocaleString(),NR=R=>typeof R=="number"&&Number.isFinite(R)?R.toFixed(1):"0.0",Ii=die;return u.jsxs("div",{className:vR,children:[an&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${ln?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:li}),u.jsx(Wie,{embedded:c,dashboardTitle:f,totalLogs:_.total,onBack:t,devMockAvailable:Z,devMockUploadState:z,onDevMockUpload:re,uploadingWeb:L,onWebUpload:q,sharing:$,canShareDiscord:m,onShare:V}),u.jsx(Hie,{embedded:c,webUploadMessage:P,webUploadUrl:M,webUploadBuildStatus:O,webCopyStatus:W,setWebCopyStatus:J}),u.jsx(qie,{embedded:c,devMockAvailable:Z,devMockUploadState:z}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:S,className:`${yR} ${c?"":"flex-1"}`,style:bR,children:[u.jsxs(u.Fragment,{children:[$t("overview")&&u.jsx(Pie,{stats:_,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("fight-breakdown")&&u.jsx(Tie,{stats:_,fightBreakdownTab:Me,setFightBreakdownTab:Ke,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("top-players")&&u.jsx(Mie,{stats:_,showTopStats:b,showMvp:w,topStatsMode:C,expandedLeader:F,setExpandedLeader:B,formatTopStatValue:$o,formatWithCommas:va,isMvpStatEnabled:ie,renderProfessionIcon:Ii,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("top-skills-outgoing")&&u.jsx(Oie,{stats:_,topSkillsMetric:E,onTopSkillsMetricChange:te,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("squad-composition")&&u.jsx(Iie,{sortedSquadClassData:gR,sortedEnemyClassData:xR,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("attendance-ledger")&&u.jsx(Rie,{attendanceRows:hR,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("squad-comp-fight")&&u.jsx(zie,{fights:Ex,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("fight-comp")&&u.jsx(Vie,{fights:pR,getProfessionIconPath:Yl,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("timeline")&&u.jsx(_ie,{timelineData:_.timelineData,timelineFriendlyScope:ze,setTimelineFriendlyScope:Ce,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("map-distribution")&&u.jsx(Lie,{mapData:_.mapData,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("offense-detailed")&&u.jsx(gie,{stats:_,OFFENSE_METRICS:hO,roundCountStats:k,offenseSearch:Sn,setOffenseSearch:Ki,activeOffenseStat:Sl,setActiveOffenseStat:Ic,offenseViewMode:oi,setOffenseViewMode:jn,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("player-breakdown")&&u.jsx(pie,{expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts,viewMode:Rc,setViewMode:Cl,playerSkillBreakdowns:es,classSkillBreakdowns:Ee,activePlayerKey:pt,setActivePlayerKey:jt,expandedPlayerKey:mn,setExpandedPlayerKey:An,activePlayerSkillId:zn,setActivePlayerSkillId:_r,activeClassKey:ha,setActiveClassKey:Bc,expandedClassKey:qm,setExpandedClassKey:md,activeClassSkillId:Oa,setActiveClassSkillId:jl,skillSearch:Hs,setSkillSearch:qs,activePlayerBreakdown:Ge,activePlayerSkill:Xe,activeClassBreakdown:bt,activeClassSkill:Pn,renderProfessionIcon:Ii}),$t("spike-damage")&&u.jsx(JP,{expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,spikePlayerFilter:vn,setSpikePlayerFilter:Ei,groupedSpikePlayers:Mi,spikeMode:je,setSpikeMode:rt,selectedSpikePlayerKey:ut,setSelectedSpikePlayerKey:ve,selectedSpikePlayer:ts,spikeChartData:vi,spikeChartMaxY:Yi,selectedSpikeFightIndex:ye,setSelectedSpikeFightIndex:Be,spikeDrilldownTitle:Al.title,spikeDrilldownData:Al.data,spikeDrilldownDownIndices:Al.downIndices,spikeDrilldownDeathIndices:Al.deathIndices,spikeFightSkillRows:Ym,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:va,renderProfessionIcon:Ii}),$t("conditions-outgoing")&&u.jsx(xie,{conditionSummary:Qm,conditionPlayers:GF,conditionSearch:Yt,setConditionSearch:Er,activeConditionName:Y,setActiveConditionName:ge,conditionDirection:Gi,setConditionDirection:ma,conditionGridClass:tn,effectiveConditionSort:St,setConditionSort:lt,showConditionDamage:Rt,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("defense-detailed")&&u.jsx(yie,{stats:_,DEFENSE_METRICS:pO,defenseSearch:gi,setDefenseSearch:fa,activeDefenseStat:_c,setActiveDefenseStat:Lc,defenseViewMode:xi,setDefenseViewMode:Nl,roundCountStats:k,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("incoming-strike-damage")&&u.jsx(JP,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,spikePlayerFilter:Ir,setSpikePlayerFilter:Mc,groupedSpikePlayers:Ia,spikeMode:Je,setSpikeMode:Xt,selectedSpikePlayerKey:de,setSelectedSpikePlayerKey:Ue,selectedSpikePlayer:Mo,spikeChartData:pa,spikeChartMaxY:Km,selectedSpikeFightIndex:et,setSelectedSpikeFightIndex:Le,spikeDrilldownTitle:Tl.title,spikeDrilldownData:Tl.data,spikeDrilldownDownIndices:Tl.downIndices,spikeDrilldownDeathIndices:Tl.deathIndices,spikeFightSkillRows:Gm,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:va,renderProfessionIcon:Ii}),$t("defense-mitigation")&&u.jsx(bie,{stats:_,DAMAGE_MITIGATION_METRICS:a6,damageMitigationSearch:lr,setDamageMitigationSearch:xn,activeDamageMitigationStat:$c,setActiveDamageMitigationStat:Fc,damageMitigationViewMode:Tx,setDamageMitigationViewMode:D,damageMitigationScope:ct,setDamageMitigationScope:ht,roundCountStats:k,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("boon-output")&&u.jsx(vie,{stats:_,activeBoonCategory:ke,setActiveBoonCategory:R=>Re(R),activeBoonMetric:se,setActiveBoonMetric:He,activeBoonTab:I,setActiveBoonTab:ne,activeBoonTable:cR,filteredBoonTables:lR,boonSearch:Oe,setBoonSearch:wt,formatBoonMetricDisplay:L6,getBoonMetricValue:AO,renderProfessionIcon:Ii,roundCountStats:k,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("support-detailed")&&u.jsx(wie,{stats:_,SUPPORT_METRICS:gO,supportSearch:Cs,setSupportSearch:Oc,activeSupportStat:ot,setActiveSupportStat:yn,supportViewMode:H,setSupportViewMode:K,cleanseScope:De,setCleanseScope:fe,roundCountStats:k,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("healing-stats")&&u.jsx(kie,{stats:_,HEALING_METRICS:s6,activeHealingMetric:Jr,setActiveHealingMetric:We,healingCategory:_t,setHealingCategory:rn,activeResUtilitySkill:dn,setActiveResUtilitySkill:_n,skillUsageData:T,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("fight-diff-mode")&&u.jsx(Aie,{stats:_,formatWithCommas:va,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn}),$t("special-buffs")&&u.jsx(Nie,{stats:_,specialSearch:Bn,setSpecialSearch:xe,filteredSpecialTables:uR,activeSpecialTab:qt,setActiveSpecialTab:gn,activeSpecialTable:fR,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("sigil-relic-uptime")&&u.jsx(jie,{hasSigilRelicTables:ns.length>0,sigilRelicSearch:Zt,setSigilRelicSearch:Wt,filteredSigilRelicTables:dR,activeSigilRelicTab:_e,setActiveSigilRelicTab:kt,activeSigilRelicTable:mR,formatWithCommas:va,renderProfessionIcon:Ii,expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts}),$t("skill-usage")&&u.jsx(fie,{expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,selectedPlayers:at,setSelectedPlayers:Mt,removeSelectedPlayer:oR,playerMapByKey:Xi,groupedSkillUsagePlayers:Ml,expandedSkillUsageClass:Ne,setExpandedSkillUsageClass:it,togglePlayerSelection:sR,skillUsagePlayerFilter:Nt,setSkillUsagePlayerFilter:Gt,skillUsageView:Te,setSkillUsageView:oe,skillUsageData:T,skillUsageSkillFilter:Vt,setSkillUsageSkillFilter:wn,selectedSkillId:qe,setSelectedSkillId:Ze,skillBarData:hd,selectedSkillName:eR,selectedSkillIcon:tR,skillUsageReady:nR,skillUsageAvailable:A,isSkillUsagePerSecond:Ie,skillChartData:El,skillChartMaxY:Dl,playerTotalsForSkill:Vr,hoveredSkillPlayer:Ln,setHoveredSkillPlayer:Nn,getLineStrokeColor:JF,getLineDashForPlayer:ZF,formatSkillUsageValue:wR,renderProfessionIcon:Ii}),$t("apm-stats")&&u.jsx(hie,{expandedSection:an,expandedSectionClosing:ln,openExpandedSection:Oi,closeExpandedSection:li,isSectionVisible:$t,isFirstVisibleSection:Jn,sectionClass:Zn,sidebarListClass:Ts,apmSpecAvailable:rR,skillUsageAvailable:A,apmSpecTables:Ja,activeApmSpec:mt,setActiveApmSpec:Dt,expandedApmSpec:Ut,setExpandedApmSpec:Kt,activeApmSkillId:Ct,setActiveApmSkillId:Et,ALL_SKILLS_KEY:Jm,apmSkillSearch:$e,setApmSkillSearch:st,activeApmSpecTable:Ks,activeApmSkill:aR,isAllApmSkills:iR,apmView:zt,setApmView:Lt,formatApmValue:NR,formatCastRateValue:kR,formatCastCountValue:SR,renderProfessionIcon:Ii})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Xie="Arcane",Qie="CRT",cp="MatteSlate",up="KineticPaper",Hd="KineticPaperDark",dp={id:Xie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Zie={id:cp,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Jie={id:up,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},eae={id:Hd,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},tae=[dp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],nae={id:Qie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Od=[...tae,nae,Zie,Jie,eae];function rae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const iae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,sae={};function tT(e,t){return(sae.jsx?aae:iae).test(e)}const oae=/[ \t\n\f\r]/g;function lae(e){return typeof e=="object"?e.type==="text"?nT(e.value):!1:nT(e)}function nT(e){return e.replace(oae,"")===""}class Rm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Rm.prototype.normal={};Rm.prototype.property={};Rm.prototype.space=void 0;function k4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Rm(n,r,t)}function rw(e){return e.toLowerCase()}class da{constructor(t,n){this.attribute=n,this.property=t}}da.prototype.attribute="";da.prototype.booleanish=!1;da.prototype.boolean=!1;da.prototype.commaOrSpaceSeparated=!1;da.prototype.commaSeparated=!1;da.prototype.defined=!1;da.prototype.mustUseProperty=!1;da.prototype.number=!1;da.prototype.overloadedBoolean=!1;da.prototype.property="";da.prototype.spaceSeparated=!1;da.prototype.space=void 0;let cae=0;const un=Tc(),$r=Tc(),iw=Tc(),Qe=Tc(),Gn=Tc(),Eu=Tc(),xa=Tc();function Tc(){return 2**++cae}const aw=Object.freeze(Object.defineProperty({__proto__:null,boolean:un,booleanish:$r,commaOrSpaceSeparated:xa,commaSeparated:Eu,number:Qe,overloadedBoolean:iw,spaceSeparated:Gn},Symbol.toStringTag,{value:"Module"})),Ov=Object.keys(aw);class LS extends da{constructor(t,n,r,i){let a=-1;if(super(t,n),rT(this,"space",i),typeof r=="number")for(;++a<Ov.length;){const s=Ov[a];rT(this,Ov[a],(r&aw[s])===aw[s])}}}LS.prototype.defined=!0;function rT(e,t,n){n&&(e[t]=n)}function dd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new LS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[rw(r)]=r,n[rw(a.attribute)]=r}return new Rm(t,n,e.space)}const S4=dd({properties:{ariaActiveDescendant:null,ariaAtomic:$r,ariaAutoComplete:null,ariaBusy:$r,ariaChecked:$r,ariaColCount:Qe,ariaColIndex:Qe,ariaColSpan:Qe,ariaControls:Gn,ariaCurrent:null,ariaDescribedBy:Gn,ariaDetails:null,ariaDisabled:$r,ariaDropEffect:Gn,ariaErrorMessage:null,ariaExpanded:$r,ariaFlowTo:Gn,ariaGrabbed:$r,ariaHasPopup:null,ariaHidden:$r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Gn,ariaLevel:Qe,ariaLive:null,ariaModal:$r,ariaMultiLine:$r,ariaMultiSelectable:$r,ariaOrientation:null,ariaOwns:Gn,ariaPlaceholder:null,ariaPosInSet:Qe,ariaPressed:$r,ariaReadOnly:$r,ariaRelevant:null,ariaRequired:$r,ariaRoleDescription:Gn,ariaRowCount:Qe,ariaRowIndex:Qe,ariaRowSpan:Qe,ariaSelected:$r,ariaSetSize:Qe,ariaSort:null,ariaValueMax:Qe,ariaValueMin:Qe,ariaValueNow:Qe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function N4(e,t){return t in e?e[t]:t}function C4(e,t){return N4(e,t.toLowerCase())}const uae=dd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Eu,acceptCharset:Gn,accessKey:Gn,action:null,allow:null,allowFullScreen:un,allowPaymentRequest:un,allowUserMedia:un,alt:null,as:null,async:un,autoCapitalize:null,autoComplete:Gn,autoFocus:un,autoPlay:un,blocking:Gn,capture:null,charSet:null,checked:un,cite:null,className:Gn,cols:Qe,colSpan:null,content:null,contentEditable:$r,controls:un,controlsList:Gn,coords:Qe|Eu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:un,defer:un,dir:null,dirName:null,disabled:un,download:iw,draggable:$r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:un,formTarget:null,headers:Gn,height:Qe,hidden:iw,high:Qe,href:null,hrefLang:null,htmlFor:Gn,httpEquiv:Gn,id:null,imageSizes:null,imageSrcSet:null,inert:un,inputMode:null,integrity:null,is:null,isMap:un,itemId:null,itemProp:Gn,itemRef:Gn,itemScope:un,itemType:Gn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:un,low:Qe,manifest:null,max:null,maxLength:Qe,media:null,method:null,min:null,minLength:Qe,multiple:un,muted:un,name:null,nonce:null,noModule:un,noValidate:un,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:un,optimum:Qe,pattern:null,ping:Gn,placeholder:null,playsInline:un,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:un,referrerPolicy:null,rel:Gn,required:un,reversed:un,rows:Qe,rowSpan:Qe,sandbox:Gn,scope:null,scoped:un,seamless:un,selected:un,shadowRootClonable:un,shadowRootDelegatesFocus:un,shadowRootMode:null,shape:null,size:Qe,sizes:null,slot:null,span:Qe,spellCheck:$r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Qe,step:null,style:null,tabIndex:Qe,target:null,title:null,translate:null,type:null,typeMustMatch:un,useMap:null,value:$r,width:Qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Gn,axis:null,background:null,bgColor:null,border:Qe,borderColor:null,bottomMargin:Qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:un,declare:un,event:null,face:null,frame:null,frameBorder:null,hSpace:Qe,leftMargin:Qe,link:null,longDesc:null,lowSrc:null,marginHeight:Qe,marginWidth:Qe,noResize:un,noHref:un,noShade:un,noWrap:un,object:null,profile:null,prompt:null,rev:null,rightMargin:Qe,rules:null,scheme:null,scrolling:$r,standby:null,summary:null,text:null,topMargin:Qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:un,disableRemotePlayback:un,prefix:null,property:null,results:Qe,security:null,unselectable:null},space:"html",transform:C4}),dae=dd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xa,accentHeight:Qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Qe,amplitude:Qe,arabicForm:null,ascent:Qe,attributeName:null,attributeType:null,azimuth:Qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Qe,by:null,calcMode:null,capHeight:Qe,className:Gn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Qe,diffuseConstant:Qe,direction:null,display:null,dur:null,divisor:Qe,dominantBaseline:null,download:un,dx:null,dy:null,edgeMode:null,editable:null,elevation:Qe,enableBackground:null,end:null,event:null,exponent:Qe,externalResourcesRequired:null,fill:null,fillOpacity:Qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Eu,g2:Eu,glyphName:Eu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Qe,horizOriginX:Qe,horizOriginY:Qe,id:null,ideographic:Qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Qe,k:Qe,k1:Qe,k2:Qe,k3:Qe,k4:Qe,kernelMatrix:xa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Qe,overlineThickness:Qe,paintOrder:null,panose1:null,path:null,pathLength:Qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Gn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Qe,pointsAtY:Qe,pointsAtZ:Qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xa,rev:xa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xa,requiredFeatures:xa,requiredFonts:xa,requiredFormats:xa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Qe,specularExponent:Qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Qe,strikethroughThickness:Qe,string:null,stroke:null,strokeDashArray:xa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Qe,strokeOpacity:Qe,strokeWidth:null,style:null,surfaceScale:Qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xa,tabIndex:Qe,tableValues:null,target:null,targetX:Qe,targetY:Qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Qe,underlineThickness:Qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Qe,values:null,vAlphabetic:Qe,vMathematical:Qe,vectorEffect:null,vHanging:Qe,vIdeographic:Qe,version:null,vertAdvY:Qe,vertOriginX:Qe,vertOriginY:Qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:N4}),j4=dd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),A4=dd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:C4}),P4=dd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),fae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},mae=/[A-Z]/g,iT=/-[a-z]/g,hae=/^data[-\w.:]+$/i;function pae(e,t){const n=rw(t);let r=t,i=da;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&hae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(iT,xae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!iT.test(a)){let s=a.replace(mae,gae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=LS}return new i(r,t)}function gae(e){return"-"+e.toLowerCase()}function xae(e){return e.charAt(1).toUpperCase()}const vae=k4([S4,uae,j4,A4,P4],"html"),$S=k4([S4,dae,j4,A4,P4],"svg");function yae(e){return e.join(" ").trim()}var FS={},aT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,bae=/\n/g,wae=/^\s*/,kae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Sae=/^:\s*/,Nae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Cae=/^[;\s]*/,jae=/^\s+|\s+$/g,Aae=`
`,sT="/",oT="*",Hl="",Pae="comment",Tae="declaration";function Eae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(bae);g&&(n+=g.length);var y=p.lastIndexOf(Aae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(wae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(sT!=e.charAt(0)||oT!=e.charAt(1))){for(var g=2;Hl!=e.charAt(g)&&(oT!=e.charAt(g)||sT!=e.charAt(g+1));)++g;if(g+=2,Hl===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Pae,comment:y})}}function h(){var p=a(),g=l(kae);if(g){if(f(),!l(Sae))return o("property missing ':'");var y=l(Nae),x=p({type:Tae,property:lT(g[0].replace(aT,Hl)),value:y?lT(y[0].replace(aT,Hl)):Hl});return l(Cae),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function lT(e){return e?e.replace(jae,Hl):Hl}var Dae=Eae,Mae=gp&&gp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(FS,"__esModule",{value:!0});FS.default=Iae;const Oae=Mae(Dae);function Iae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Oae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.camelCase=void 0;var _ae=/^--[a-zA-Z0-9_-]+$/,Lae=/-([a-z])/g,$ae=/^[^-]+$/,Fae=/^-(webkit|moz|ms|o|khtml)-/,Rae=/^-(ms)-/,Bae=function(e){return!e||$ae.test(e)||_ae.test(e)},zae=function(e,t){return t.toUpperCase()},cT=function(e,t){return"".concat(t,"-")},Uae=function(e,t){return t===void 0&&(t={}),Bae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Rae,cT):e=e.replace(Fae,cT),e.replace(Lae,zae))};gx.camelCase=Uae;var Vae=gp&&gp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Wae=Vae(FS),Hae=gx;function sw(e,t){var n={};return!e||typeof e!="string"||(0,Wae.default)(e,function(r,i){r&&i&&(n[(0,Hae.camelCase)(r,t)]=i)}),n}sw.default=sw;var qae=sw;const Kae=ws(qae),T4=E4("end"),RS=E4("start");function E4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Gae(e){const t=RS(e),n=T4(e);if(t&&n)return{start:t,end:n}}function af(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?uT(e.position):"start"in e||"end"in e?uT(e):"line"in e||"column"in e?ow(e):""}function ow(e){return dT(e&&e.line)+":"+dT(e&&e.column)}function uT(e){return ow(e&&e.start)+"-"+ow(e&&e.end)}function dT(e){return e&&typeof e=="number"?e:1}class Ti extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=af(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ti.prototype.file="";Ti.prototype.name="";Ti.prototype.reason="";Ti.prototype.message="";Ti.prototype.stack="";Ti.prototype.column=void 0;Ti.prototype.line=void 0;Ti.prototype.ancestors=void 0;Ti.prototype.cause=void 0;Ti.prototype.fatal=void 0;Ti.prototype.place=void 0;Ti.prototype.ruleId=void 0;Ti.prototype.source=void 0;const BS={}.hasOwnProperty,Yae=new Map,Xae=/[A-Z]/g,Qae=new Set(["table","tbody","thead","tfoot","tr"]),Zae=new Set(["td","th"]),D4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Jae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=ose(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=sse(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?$S:vae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=M4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function M4(e,t,n){if(t.type==="element")return ese(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return tse(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return rse(e,t,n);if(t.type==="mdxjsEsm")return nse(e,t);if(t.type==="root")return ise(e,t,n);if(t.type==="text")return ase(e,t)}function ese(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=$S,e.schema=i),e.ancestors.push(t);const a=I4(e,t.tagName,!1),s=lse(e,t);let o=US(e,t);return Qae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!lae(l):!0})),O4(e,s,a,t),zS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function tse(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Zf(e,t.position)}function nse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Zf(e,t.position)}function rse(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=$S,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:I4(e,t.name,!0),s=cse(e,t),o=US(e,t);return O4(e,s,a,t),zS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function ise(e,t,n){const r={};return zS(r,US(e,t)),e.create(t,e.Fragment,r,n)}function ase(e,t){return t.value}function O4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function zS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function sse(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function ose(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=RS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function lse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&BS.call(t.properties,i)){const a=use(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Zae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function cse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Zf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Zf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function US(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Yae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=M4(e,a,s);o!==void 0&&n.push(o)}return n}function use(e,t,n){const r=pae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?rae(n):yae(n)),r.property==="style"){let i=typeof n=="object"?n:dse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=fse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?fae[r.property]||r.property:r.attribute,n]}}function dse(e,t){try{return Kae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ti("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=D4+"#cannot-parse-style-attribute",i}}function I4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=tT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=tT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return BS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Zf(e)}function Zf(e,t){const n=new Ti("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=D4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function fse(e){const t={};let n;for(n in e)BS.call(e,n)&&(t[mse(n)]=e[n]);return t}function mse(e){let t=e.replace(Xae,hse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function hse(e){return"-"+e.toLowerCase()}const Iv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pse={};function VS(e,t){const n=pse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _4(e,r,i)}function _4(e,t,n){if(gse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return fT(e.children,t,n)}return Array.isArray(e)?fT(e,t,n):""}function fT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=_4(e[i],t,n);return r.join("")}function gse(e){return!!(e&&typeof e=="object")}const mT=document.createElement("i");function WS(e){const t="&"+e+";";mT.innerHTML=t;const n=mT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Aa(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Va(e,t){return e.length>0?(Aa(e,e.length,0,t),e):t}const hT={}.hasOwnProperty;function L4(e){const t={};let n=-1;for(;++n<e.length;)xse(t,e[n]);return t}function xse(e,t){let n;for(n in t){const i=(hT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){hT.call(i,s)||(i[s]=[]);const o=a[s];vse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function vse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Aa(e,0,0,r)}function $4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function hs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ri=wl(/[A-Za-z]/),Ai=wl(/[\dA-Za-z]/),yse=wl(/[#-'*+\--9=?A-Z^-~]/);function Rg(e){return e!==null&&(e<32||e===127)}const lw=wl(/\d/),bse=wl(/[\dA-Fa-f]/),wse=wl(/[!-/:-@[-`{-~]/);function Bt(e){return e!==null&&e<-2}function Hn(e){return e!==null&&(e<0||e===32)}function hn(e){return e===-2||e===-1||e===32}const xx=wl(new RegExp("\\p{P}|\\p{S}","u")),Nc=wl(/\s/);function wl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function fd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Ai(e.charCodeAt(n+1))&&Ai(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function bn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return hn(l)?(e.enter(n),o(l)):t(l)}function o(l){return hn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const kse={tokenize:Sse};function Sse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),bn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Bt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const Nse={tokenize:Cse},pT={tokenize:jse};function Cse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let C=k,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}x(r);let j=k;for(;j<t.events.length;)t.events[j][1].end={...N},j++;return Aa(t.events,C+1,0,t.events.slice(k)),t.events.length=j,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(pT,d,f)(w)}function d(w){return i&&b(),x(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(pT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return Bt(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,k){const C=t.sliceStream(w);if(k&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const j=t.events.length;let E=j,L,P;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(L){P=t.events[E][1].end;break}L=!0}for(x(r),N=j;N<t.events.length;)t.events[N][1].end={...P},N++;Aa(t.events,E+1,0,t.events.slice(j)),t.events.length=N}}function x(w){let k=n.length;for(;k-- >w;){const C=n[k];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function jse(e,t,n){return bn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Yu(e){if(e===null||Hn(e)||Nc(e))return 1;if(xx(e))return 2}function vx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const cw={name:"attention",resolveAll:Ase,tokenize:Pse};function Ase(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};gT(f,-l),gT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Va(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Va(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=Va(c,vx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Va(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Va(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Aa(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Pse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Yu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Yu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function gT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Tse={name:"autolink",tokenize:Ese};function Ese(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Ri(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Ai(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ai(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Rg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):yse(m)?(e.consume(m),c):n(m)}function d(m){return Ai(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Ai(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Bm={partial:!0,tokenize:Dse};function Dse(e,t,n){return r;function r(a){return hn(a)?bn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Bt(a)?t(a):n(a)}}const F4={continuation:{tokenize:Ose},exit:Ise,name:"blockQuote",tokenize:Mse};function Mse(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return hn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Ose(e,t,n){const r=this;return i;function i(s){return hn(s)?bn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(F4,t,n)(s)}}function Ise(e){e.exit("blockQuote")}const R4={name:"characterEscape",tokenize:_se};function _se(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return wse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const B4={name:"characterReference",tokenize:Lse};function Lse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Ai,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=bse,d):(e.enter("characterReferenceValue"),a=7,s=lw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Ai&&!WS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const xT={partial:!0,tokenize:Fse},vT={concrete:!0,name:"codeFenced",tokenize:$se};function $se(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),hn(N)?bn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Bt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(xT,g,k)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Bt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):hn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||Bt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Bt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,k,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return a>0&&hn(N)?bn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||Bt(N)?e.check(xT,g,k)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Bt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function k(N){return e.exit("codeFenced"),t(N)}function C(N,j,E){let L=0;return P;function P(ae){return N.enter("lineEnding"),N.consume(ae),N.exit("lineEnding"),M}function M(ae){return N.enter("codeFencedFence"),hn(ae)?bn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):O(ae)}function O(ae){return ae===o?(N.enter("codeFencedFenceSequence"),Z(ae)):E(ae)}function Z(ae){return ae===o?(L++,N.consume(ae),Z):L>=s?(N.exit("codeFencedFenceSequence"),hn(ae)?bn(N,ee,"whitespace")(ae):ee(ae)):E(ae)}function ee(ae){return ae===null||Bt(ae)?(N.exit("codeFencedFence"),j(ae)):E(ae)}}}function Fse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const _v={name:"codeIndented",tokenize:Bse},Rse={partial:!0,tokenize:zse};function Bse(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),bn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Bt(c)?e.attempt(Rse,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Bt(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function zse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Bt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):bn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Bt(s)?i(s):n(s)}}const Use={name:"codeText",previous:Wse,resolve:Vse,tokenize:Hse};function Vse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Wse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Hse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Bt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Bt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class qse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Id(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Id(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Id(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Id(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Id(this.left,n.reverse())}}}function Id(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function z4(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new qse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Kse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Aa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Kse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+x.length-1]),e.splice(b,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Gse={resolve:Xse,tokenize:Qse},Yse={partial:!0,tokenize:Zse};function Xse(e){return z4(e),e}function Qse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Bt(o)?e.check(Yse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Zse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),bn(e,a,"linePrefix")}function a(s){if(s===null||Bt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function U4(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||Rg(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Bt(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Hn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Rg(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function V4(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Bt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Bt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!hn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function W4(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Bt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),bn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Bt(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function sf(e,t){let n;return r;function r(i){return Bt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):hn(i)?bn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Jse={name:"definition",tokenize:toe},eoe={partial:!0,tokenize:noe};function toe(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return V4.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=hs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Hn(m)?sf(e,c)(m):c(m)}function c(m){return U4(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(eoe,f,f)(m)}function f(m){return hn(m)?bn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Bt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function noe(e,t,n){return r;function r(o){return Hn(o)?sf(e,i)(o):n(o)}function i(o){return W4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return hn(o)?bn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Bt(o)?t(o):n(o)}}const roe={name:"hardBreakEscape",tokenize:ioe};function ioe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Bt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const aoe={name:"headingAtx",resolve:soe,tokenize:ooe};function soe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Aa(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function ooe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Hn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Bt(d)?(e.exit("atxHeading"),t(d)):hn(d)?bn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Hn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const loe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yT=["pre","script","style","textarea"],coe={concrete:!0,name:"htmlFlow",resolveTo:foe,tokenize:moe},uoe={partial:!0,tokenize:poe},doe={partial:!0,tokenize:hoe};function foe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function moe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(S){return d(S)}function d(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),f}function f(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),a=!0,g):S===63?(e.consume(S),i=3,r.interrupt?t:T):Ri(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function h(S){return S===45?(e.consume(S),i=2,m):S===91?(e.consume(S),i=5,o=0,p):Ri(S)?(e.consume(S),i=4,r.interrupt?t:T):n(S)}function m(S){return S===45?(e.consume(S),r.interrupt?t:T):n(S)}function p(S){const z="CDATA[";return S===z.charCodeAt(o++)?(e.consume(S),o===z.length?r.interrupt?t:O:p):n(S)}function g(S){return Ri(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function y(S){if(S===null||S===47||S===62||Hn(S)){const z=S===47,W=s.toLowerCase();return!z&&!a&&yT.includes(W)?(i=1,r.interrupt?t(S):O(S)):loe.includes(s.toLowerCase())?(i=6,z?(e.consume(S),x):r.interrupt?t(S):O(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):a?b(S):w(S))}return S===45||Ai(S)?(e.consume(S),s+=String.fromCharCode(S),y):n(S)}function x(S){return S===62?(e.consume(S),r.interrupt?t:O):n(S)}function b(S){return hn(S)?(e.consume(S),b):P(S)}function w(S){return S===47?(e.consume(S),P):S===58||S===95||Ri(S)?(e.consume(S),k):hn(S)?(e.consume(S),w):P(S)}function k(S){return S===45||S===46||S===58||S===95||Ai(S)?(e.consume(S),k):C(S)}function C(S){return S===61?(e.consume(S),N):hn(S)?(e.consume(S),C):w(S)}function N(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),l=S,j):hn(S)?(e.consume(S),N):E(S)}function j(S){return S===l?(e.consume(S),l=null,L):S===null||Bt(S)?n(S):(e.consume(S),j)}function E(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Hn(S)?C(S):(e.consume(S),E)}function L(S){return S===47||S===62||hn(S)?w(S):n(S)}function P(S){return S===62?(e.consume(S),M):n(S)}function M(S){return S===null||Bt(S)?O(S):hn(S)?(e.consume(S),M):n(S)}function O(S){return S===45&&i===2?(e.consume(S),ue):S===60&&i===1?(e.consume(S),Q):S===62&&i===4?(e.consume(S),A):S===63&&i===3?(e.consume(S),T):S===93&&i===5?(e.consume(S),_):Bt(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(uoe,te,Z)(S)):S===null||Bt(S)?(e.exit("htmlFlowData"),Z(S)):(e.consume(S),O)}function Z(S){return e.check(doe,ee,te)(S)}function ee(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),ae}function ae(S){return S===null||Bt(S)?Z(S):(e.enter("htmlFlowData"),O(S))}function ue(S){return S===45?(e.consume(S),T):O(S)}function Q(S){return S===47?(e.consume(S),s="",G):O(S)}function G(S){if(S===62){const z=s.toLowerCase();return yT.includes(z)?(e.consume(S),A):O(S)}return Ri(S)&&s.length<8?(e.consume(S),s+=String.fromCharCode(S),G):O(S)}function _(S){return S===93?(e.consume(S),T):O(S)}function T(S){return S===62?(e.consume(S),A):S===45&&i===2?(e.consume(S),T):O(S)}function A(S){return S===null||Bt(S)?(e.exit("htmlFlowData"),te(S)):(e.consume(S),A)}function te(S){return e.exit("htmlFlow"),t(S)}}function hoe(e,t,n){const r=this;return i;function i(s){return Bt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function poe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Bm,t,n)}}const goe={name:"htmlText",tokenize:xoe};function xoe(e,t,n){const r=this;let i,a,s;return o;function o(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),l}function l(T){return T===33?(e.consume(T),c):T===47?(e.consume(T),C):T===63?(e.consume(T),w):Ri(T)?(e.consume(T),E):n(T)}function c(T){return T===45?(e.consume(T),d):T===91?(e.consume(T),a=0,p):Ri(T)?(e.consume(T),b):n(T)}function d(T){return T===45?(e.consume(T),m):n(T)}function f(T){return T===null?n(T):T===45?(e.consume(T),h):Bt(T)?(s=f,Q(T)):(e.consume(T),f)}function h(T){return T===45?(e.consume(T),m):f(T)}function m(T){return T===62?ue(T):T===45?h(T):f(T)}function p(T){const A="CDATA[";return T===A.charCodeAt(a++)?(e.consume(T),a===A.length?g:p):n(T)}function g(T){return T===null?n(T):T===93?(e.consume(T),y):Bt(T)?(s=g,Q(T)):(e.consume(T),g)}function y(T){return T===93?(e.consume(T),x):g(T)}function x(T){return T===62?ue(T):T===93?(e.consume(T),x):g(T)}function b(T){return T===null||T===62?ue(T):Bt(T)?(s=b,Q(T)):(e.consume(T),b)}function w(T){return T===null?n(T):T===63?(e.consume(T),k):Bt(T)?(s=w,Q(T)):(e.consume(T),w)}function k(T){return T===62?ue(T):w(T)}function C(T){return Ri(T)?(e.consume(T),N):n(T)}function N(T){return T===45||Ai(T)?(e.consume(T),N):j(T)}function j(T){return Bt(T)?(s=j,Q(T)):hn(T)?(e.consume(T),j):ue(T)}function E(T){return T===45||Ai(T)?(e.consume(T),E):T===47||T===62||Hn(T)?L(T):n(T)}function L(T){return T===47?(e.consume(T),ue):T===58||T===95||Ri(T)?(e.consume(T),P):Bt(T)?(s=L,Q(T)):hn(T)?(e.consume(T),L):ue(T)}function P(T){return T===45||T===46||T===58||T===95||Ai(T)?(e.consume(T),P):M(T)}function M(T){return T===61?(e.consume(T),O):Bt(T)?(s=M,Q(T)):hn(T)?(e.consume(T),M):L(T)}function O(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),i=T,Z):Bt(T)?(s=O,Q(T)):hn(T)?(e.consume(T),O):(e.consume(T),ee)}function Z(T){return T===i?(e.consume(T),i=void 0,ae):T===null?n(T):Bt(T)?(s=Z,Q(T)):(e.consume(T),Z)}function ee(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||Hn(T)?L(T):(e.consume(T),ee)}function ae(T){return T===47||T===62||Hn(T)?L(T):n(T)}function ue(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function Q(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),G}function G(T){return hn(T)?bn(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):_(T)}function _(T){return e.enter("htmlTextData"),s(T)}}const HS={name:"labelEnd",resolveAll:woe,resolveTo:koe,tokenize:Soe},voe={tokenize:Noe},yoe={tokenize:Coe},boe={tokenize:joe};function woe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Aa(e,0,e.length,n),e}function koe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=Va(o,e.slice(a+1,a+r+3)),o=Va(o,[["enter",d,t]]),o=Va(o,vx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Va(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=Va(o,e.slice(s+1)),o=Va(o,[["exit",l,t]]),Aa(e,a,e.length,o),e}function Soe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(hs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(voe,d,s?d:f)(h):h===91?e.attempt(yoe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(boe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function Noe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Hn(f)?sf(e,a)(f):a(f)}function a(f){return f===41?d(f):U4(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Hn(f)?sf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?W4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Hn(f)?sf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Coe(e,t,n){const r=this;return i;function i(o){return V4.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(hs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function joe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Aoe={name:"labelStartImage",resolveAll:HS.resolveAll,tokenize:Poe};function Poe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Toe={name:"labelStartLink",resolveAll:HS.resolveAll,tokenize:Eoe};function Eoe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Lv={name:"lineEnding",tokenize:Doe};function Doe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),bn(e,t,"linePrefix")}}const fp={name:"thematicBreak",tokenize:Moe};function Moe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Bt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),hn(c)?bn(e,o,"whitespace")(c):o(c))}}const Zi={continuation:{tokenize:Loe},exit:Foe,name:"list",tokenize:_oe},Ooe={partial:!0,tokenize:Roe},Ioe={partial:!0,tokenize:$oe};function _oe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:lw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(fp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return lw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Bm,r.interrupt?n:d,e.attempt(Ooe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return hn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Loe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Bm,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!hn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ioe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,bn(e,e.attempt(Zi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function $oe(e,t,n){const r=this;return bn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Foe(e){e.exit(this.containerState.type)}function Roe(e,t,n){const r=this;return bn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!hn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const bT={name:"setextUnderline",resolveTo:Boe,tokenize:zoe};function Boe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function zoe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),hn(c)?bn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Bt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Uoe={tokenize:Voe};function Voe(e){const t=this,n=e.attempt(Bm,r,e.attempt(this.parser.constructs.flowInitial,i,bn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Gse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Woe={resolveAll:q4()},Hoe=H4("string"),qoe=H4("text");function H4(e){return{resolveAll:q4(e==="text"?Koe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function q4(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Koe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Goe={42:Zi,43:Zi,45:Zi,48:Zi,49:Zi,50:Zi,51:Zi,52:Zi,53:Zi,54:Zi,55:Zi,56:Zi,57:Zi,62:F4},Yoe={91:Jse},Xoe={[-2]:_v,[-1]:_v,32:_v},Qoe={35:aoe,42:fp,45:[bT,fp],60:coe,61:bT,95:fp,96:vT,126:vT},Zoe={38:B4,92:R4},Joe={[-5]:Lv,[-4]:Lv,[-3]:Lv,33:Aoe,38:B4,42:cw,60:[Tse,goe],91:Toe,92:[roe,R4],93:HS,95:cw,96:Use},ele={null:[cw,Woe]},tle={null:[42,95]},nle={null:[]},rle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:tle,contentInitial:Yoe,disable:nle,document:Goe,flow:Qoe,flowInitial:Xoe,insideSpan:ele,string:Zoe,text:Joe},Symbol.toStringTag,{value:"Module"}));function ile(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(C),check:j(N),consume:b,enter:w,exit:k,interrupt:j(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(M){return s=Va(s,M),y(),s[s.length-1]!==null?[]:(E(t,0),c.events=vx(a,c.events,c),c.events)}function h(M,O){return sle(m(M),O)}function m(M){return ale(s,M)}function p(){const{_bufferIndex:M,_index:O,line:Z,column:ee,offset:ae}=r;return{_bufferIndex:M,_index:O,line:Z,column:ee,offset:ae}}function g(M){i[M.line]=M.column,P()}function y(){let M;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(M){d=d(M)}function b(M){Bt(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,P()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function w(M,O){const Z=O||{};return Z.type=M,Z.start=p(),c.events.push(["enter",Z,c]),o.push(Z),Z}function k(M){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function C(M,O){E(M,O.from)}function N(M,O){O.restore()}function j(M,O){return Z;function Z(ee,ae,ue){let Q,G,_,T;return Array.isArray(ee)?te(ee):"tokenize"in ee?te([ee]):A(ee);function A(J){return q;function q(re){const $=re!==null&&J[re],V=re!==null&&J.null,le=[...Array.isArray($)?$:$?[$]:[],...Array.isArray(V)?V:V?[V]:[]];return te(le)(re)}}function te(J){return Q=J,G=0,J.length===0?ue:S(J[G])}function S(J){return q;function q(re){return T=L(),_=J,J.partial||(c.currentConstruct=J),J.name&&c.parser.constructs.disable.null.includes(J.name)?W():J.tokenize.call(O?Object.assign(Object.create(c),O):c,l,z,W)(re)}}function z(J){return M(_,T),ae}function W(J){return T.restore(),++G<Q.length?S(Q[G]):ue}}}function E(M,O){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&Aa(c.events,O,c.events.length-O,M.resolve(c.events.slice(O),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function L(){const M=p(),O=c.previous,Z=c.currentConstruct,ee=c.events.length,ae=Array.from(o);return{from:ee,restore:ue};function ue(){r=M,c.previous=O,c.currentConstruct=Z,c.events.length=ee,o=ae,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function ale(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function sle(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function ole(e){const r={constructs:L4([rle,...(e||{}).extensions||[]]),content:i(kse),defined:[],document:i(Nse),flow:i(Uoe),lazy:{},string:i(Hoe),text:i(qoe)};return r;function i(a){return s;function s(o){return ile(r,a,o)}}}function lle(e){for(;!z4(e););return e}const wT=/[\0\t\n\r]/g;function cle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(wT.lastIndex=f,c=wT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ule=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dle(e){return e.replace(ule,fle)}function fle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return $4(n.slice(a?2:1),a?16:10)}return WS(n)||e}const K4={}.hasOwnProperty;function mle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),hle(n)(lle(ole(n).document().write(cle()(e,t,!0))))}function hle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(se),autolinkProtocol:L,autolinkEmail:L,atxHeading:a(I),blockQuote:a(V),characterEscape:L,characterReference:L,codeFenced:a(le),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(le,s),codeText:a(ie,s),codeTextData:L,data:L,codeFlowValue:L,definition:a(F),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(B),hardBreakEscape:a(ne),hardBreakTrailing:a(ne),htmlFlow:a(ke,s),htmlFlowData:L,htmlText:a(ke,s),htmlTextData:L,image:a(Re),label:s,link:a(se),listItem:a(Oe),listItemValue:h,listOrdered:a(He,f),listUnordered:a(He),paragraph:a(wt),reference:S,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(I),strong:a(qt),thematicBreak:a(Bn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:$,autolinkProtocol:re,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:J,characterReference:q,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:P,codeIndented:l(x),codeText:l(ae),codeTextData:P,data:P,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(Z),htmlFlowData:P,htmlText:l(ee),htmlTextData:P,image:l(Q),label:_,labelText:G,lineEnding:M,link:l(ue),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:T,resourceTitleString:A,resource:te,setextHeading:l(E),setextHeadingLineSequence:j,setextHeadingText:N,strong:l(),thematicBreak:l()}};G4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(xe){let _e={type:"root",children:[]};const kt={stack:[_e],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Zt=[];let Wt=-1;for(;++Wt<xe.length;)if(xe[Wt][1].type==="listOrdered"||xe[Wt][1].type==="listUnordered")if(xe[Wt][0]==="enter")Zt.push(Wt);else{const Sn=Zt.pop();Wt=i(xe,Sn,Wt)}for(Wt=-1;++Wt<xe.length;){const Sn=t[xe[Wt][0]];K4.call(Sn,xe[Wt][1].type)&&Sn[xe[Wt][1].type].call(Object.assign({sliceSerialize:xe[Wt][2].sliceSerialize},kt),xe[Wt][1])}if(kt.tokenStack.length>0){const Sn=kt.tokenStack[kt.tokenStack.length-1];(Sn[1]||kT).call(kt,void 0,Sn[0])}for(_e.position={start:Lo(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Lo(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},Wt=-1;++Wt<t.transforms.length;)_e=t.transforms[Wt](_e)||_e;return _e}function i(xe,_e,kt){let Zt=_e-1,Wt=-1,Sn=!1,Ki,gi,fa,lr;for(;++Zt<=kt;){const xn=xe[Zt];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?Wt++:Wt--,lr=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(Ki&&!lr&&!Wt&&!fa&&(fa=Zt),lr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:lr=void 0}if(!Wt&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||Wt===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(Ki){let Yt=Zt;for(gi=void 0;Yt--;){const Er=xe[Yt];if(Er[1].type==="lineEnding"||Er[1].type==="lineEndingBlank"){if(Er[0]==="exit")continue;gi&&(xe[gi][1].type="lineEndingBlank",Sn=!0),Er[1].type="lineEnding",gi=Yt}else if(!(Er[1].type==="linePrefix"||Er[1].type==="blockQuotePrefix"||Er[1].type==="blockQuotePrefixWhitespace"||Er[1].type==="blockQuoteMarker"||Er[1].type==="listItemIndent"))break}fa&&(!gi||fa<gi)&&(Ki._spread=!0),Ki.end=Object.assign({},gi?xe[gi][1].start:xn[1].end),xe.splice(gi||Zt,0,["exit",Ki,xn[2]]),Zt++,kt++}if(xn[1].type==="listItemPrefix"){const Yt={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};Ki=Yt,xe.splice(Zt,0,["enter",Yt,xn[2]]),Zt++,kt++,fa=void 0,lr=!0}}}return xe[_e][1]._spread=Sn,kt}function a(xe,_e){return kt;function kt(Zt){o.call(this,xe(Zt),Zt),_e&&_e.call(this,Zt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(xe,_e,kt){this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([_e,kt||void 0]),xe.position={start:Lo(_e.start),end:void 0}}function l(xe){return _e;function _e(kt){xe&&xe.call(this,kt),c.call(this,kt)}}function c(xe,_e){const kt=this.stack.pop(),Zt=this.tokenStack.pop();if(Zt)Zt[0].type!==xe.type&&(_e?_e.call(this,xe,Zt[0]):(Zt[1]||kT).call(this,xe,Zt[0]));else throw new Error("Cannot close `"+xe.type+"` ("+af({start:xe.start,end:xe.end})+"): its not open");kt.position.end=Lo(xe.end)}function d(){return VS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(xe){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(xe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=xe}function p(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=xe}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe.replace(/(\r?\n|\r)$/g,"")}function b(xe){const _e=this.resume(),kt=this.stack[this.stack.length-1];kt.label=_e,kt.identifier=hs(this.sliceSerialize(xe)).toLowerCase()}function w(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=xe}function k(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=xe}function C(xe){const _e=this.stack[this.stack.length-1];if(!_e.depth){const kt=this.sliceSerialize(xe).length;_e.depth=kt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function j(xe){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(xe).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function L(xe){const kt=this.stack[this.stack.length-1].children;let Zt=kt[kt.length-1];(!Zt||Zt.type!=="text")&&(Zt=gn(),Zt.position={start:Lo(xe.start),end:void 0},kt.push(Zt)),this.stack.push(Zt)}function P(xe){const _e=this.stack.pop();_e.value+=this.sliceSerialize(xe),_e.position.end=Lo(xe.end)}function M(xe){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const kt=_e.children[_e.children.length-1];kt.position.end=Lo(xe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(_e.type)&&(L.call(this,xe),P.call(this,xe))}function O(){this.data.atHardBreak=!0}function Z(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function ee(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function ae(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function ue(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=_e,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function Q(){const xe=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";xe.type+="Reference",xe.referenceType=_e,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;this.data.referenceType=void 0}function G(xe){const _e=this.sliceSerialize(xe),kt=this.stack[this.stack.length-2];kt.label=dle(_e),kt.identifier=hs(_e).toLowerCase()}function _(){const xe=this.stack[this.stack.length-1],_e=this.resume(),kt=this.stack[this.stack.length-1];if(this.data.inReference=!0,kt.type==="link"){const Zt=xe.children;kt.children=Zt}else kt.alt=_e}function T(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=xe}function A(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=xe}function te(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function z(xe){const _e=this.resume(),kt=this.stack[this.stack.length-1];kt.label=_e,kt.identifier=hs(this.sliceSerialize(xe)).toLowerCase(),this.data.referenceType="full"}function W(xe){this.data.characterReferenceType=xe.type}function J(xe){const _e=this.sliceSerialize(xe),kt=this.data.characterReferenceType;let Zt;kt?(Zt=$4(_e,kt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Zt=WS(_e);const Wt=this.stack[this.stack.length-1];Wt.value+=Zt}function q(xe){const _e=this.stack.pop();_e.position.end=Lo(xe.end)}function re(xe){P.call(this,xe);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(xe)}function $(xe){P.call(this,xe);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(xe)}function V(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function F(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function I(){return{type:"heading",depth:0,children:[]}}function ne(){return{type:"break"}}function ke(){return{type:"html",value:""}}function Re(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function He(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function Oe(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function wt(){return{type:"paragraph",children:[]}}function qt(){return{type:"strong",children:[]}}function gn(){return{type:"text",value:""}}function Bn(){return{type:"thematicBreak"}}}function Lo(e){return{line:e.line,column:e.column,offset:e.offset}}function G4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?G4(e,r):ple(e,r)}}function ple(e,t){let n;for(n in t)if(K4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+af({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+af({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+af({start:t.start,end:t.end})+") is still open")}function gle(e){const t=this;t.parser=n;function n(r){return mle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function vle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function yle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function ble(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=fd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function Sle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Y4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Cle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Y4(e,t);const i={src:fd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function jle(e,t){const n={src:fd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Ale(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Ple(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Y4(e,t);const i={href:fd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Tle(e,t){const n={href:fd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ele(e,t,n){const r=e.all(t),i=n?Dle(n):X4(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Dle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=X4(n[r])}return t}function X4(e){const t=e.spread;return t??e.children.length>1}function Mle(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Ole(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ile(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function _le(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Lle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=RS(t.children[1]),l=T4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function $le(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Fle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ST=9,NT=32;function Rle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(CT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(CT(t.slice(i),i>0,!1)),a.join("")}function CT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===ST||a===NT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===ST||a===NT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ble(e,t){const n={type:"text",value:Rle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function zle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ule={blockquote:xle,break:vle,code:yle,delete:ble,emphasis:wle,footnoteReference:kle,heading:Sle,html:Nle,imageReference:Cle,image:jle,inlineCode:Ale,linkReference:Ple,link:Tle,listItem:Ele,list:Mle,paragraph:Ole,root:Ile,strong:_le,table:Lle,tableCell:Fle,tableRow:$le,text:Ble,thematicBreak:zle,toml:$h,yaml:$h,definition:$h,footnoteDefinition:$h};function $h(){}const Q4=-1,yx=0,of=1,Bg=2,qS=3,KS=4,GS=5,YS=6,Z4=7,J4=8,jT=typeof self=="object"?self:globalThis,Vle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case yx:case Q4:return n(s,i);case of:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Bg:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case qS:return n(new Date(s),i);case KS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case GS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case YS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case Z4:{const{name:o,message:l}=s;return n(new jT[o](l),i)}case J4:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new jT[a](s),i)};return r},AT=e=>Vle(new Map,e)(0),Jc="",{toString:Wle}={},{keys:Hle}=Object,_d=e=>{const t=typeof e;if(t!=="object"||!e)return[yx,t];const n=Wle.call(e).slice(8,-1);switch(n){case"Array":return[of,Jc];case"Object":return[Bg,Jc];case"Date":return[qS,Jc];case"RegExp":return[KS,Jc];case"Map":return[GS,Jc];case"Set":return[YS,Jc];case"DataView":return[of,n]}return n.includes("Array")?[of,n]:n.includes("Error")?[Z4,n]:[Bg,n]},Fh=([e,t])=>e===yx&&(t==="function"||t==="symbol"),qle=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=_d(s);switch(o){case yx:{let d=s;switch(l){case"bigint":o=J4,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([Q4],s)}return i([o,d],s)}case of:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case Bg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Hle(s))(e||!Fh(_d(s[h])))&&d.push([a(h),a(s[h])]);return f}case qS:return i([o,s.toISOString()],s);case KS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case GS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Fh(_d(h))||Fh(_d(m))))&&d.push([a(h),a(m)]);return f}case YS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Fh(_d(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},PT=(e,{json:t,lossy:n}={})=>{const r=[];return qle(!(t||n),!!t,new Map,r)(e),r},zg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?AT(PT(e,t)):structuredClone(e):(e,t)=>AT(PT(e,t));function Kle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Gle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Yle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Kle,r=e.options.footnoteBackLabel||Gle,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=fd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...zg(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const bx=function(e){if(e==null)return Jle;if(typeof e=="function")return wx(e);if(typeof e=="object")return Array.isArray(e)?Xle(e):Qle(e);if(typeof e=="string")return Zle(e);throw new Error("Expected function, string, or object as test")};function Xle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=bx(e[n]);return wx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Qle(e){const t=e;return wx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Zle(e){return wx(t);function t(n){return n&&n.type===e}}function wx(e){return t;function t(n,r,i){return!!(ece(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Jle(){return!0}function ece(e){return e!==null&&typeof e=="object"&&"type"in e}const e$=[],tce=!0,uw=!1,nce="skip";function t$(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=bx(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=e$,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=rce(n(l,d)),m[0]===uw))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==nce)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(p=o(b,g,y)(),p[0]===uw)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function rce(e){return Array.isArray(e)?e:typeof e=="number"?[tce,e]:e==null?e$:[e]}function XS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),t$(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const dw={}.hasOwnProperty,ice={};function ace(e,t){const n=t||ice,r=new Map,i=new Map,a=new Map,s={...Ule,...n.handlers},o={all:c,applyData:oce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:sce,wrap:cce};return XS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(dw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=zg(y);return x.children=o.all(d),x}return zg(d)}return(o.options.unknownHandler||lce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=TT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=TT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function sce(e,t){e.position&&(t.position=Gae(e))}function oce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,zg(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function lce(e,t){const n=t.data||{},r="value"in t&&!(dw.call(n,"hProperties")||dw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function TT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ET(e,t){const n=ace(e,t),r=n.one(e,void 0),i=Yle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function uce(e,t){return e&&"run"in e?async function(n,r){const i=ET(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ET(n,{file:r,...e||t})}}function DT(e){if(e)throw e}var mp=Object.prototype.hasOwnProperty,n$=Object.prototype.toString,MT=Object.defineProperty,OT=Object.getOwnPropertyDescriptor,IT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):n$.call(t)==="[object Array]"},_T=function(t){if(!t||n$.call(t)!=="[object Object]")return!1;var n=mp.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&mp.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||mp.call(t,i)},LT=function(t,n){MT&&n.name==="__proto__"?MT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$T=function(t,n){if(n==="__proto__")if(mp.call(t,n)){if(OT)return OT(t,n).value}else return;return t[n]},dce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=$T(o,n),i=$T(t,n),o!==i&&(d&&i&&(_T(i)||(a=IT(i)))?(a?(a=!1,s=r&&IT(r)?r:[]):s=r&&_T(r)?r:{},LT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&LT(o,{name:n,newValue:i}));return o};const $v=ws(dce);function fw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function fce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?mce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function mce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Ms={basename:hce,dirname:pce,extname:gce,join:xce,sep:"/"};function hce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');zm(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function pce(e){if(zm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function gce(e){zm(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function xce(...e){let t=-1,n;for(;++t<e.length;)zm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vce(n)}function vce(e){zm(e);const t=e.codePointAt(0)===47;let n=yce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function yce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function zm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bce={cwd:wce};function wce(){return"/"}function mw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function kce(e){if(typeof e=="string")e=new URL(e);else if(!mw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Sce(e)}function Sce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Fv=["history","path","basename","stem","extname","dirname"];class r${constructor(t){let n;t?mw(t)?n={path:t}:typeof t=="string"||Nce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":bce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fv.length;){const a=Fv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Fv.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ms.basename(this.path):void 0}set basename(t){Bv(t,"basename"),Rv(t,"basename"),this.path=Ms.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ms.dirname(this.path):void 0}set dirname(t){FT(this.basename,"dirname"),this.path=Ms.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ms.extname(this.path):void 0}set extname(t){if(Rv(t,"extname"),FT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ms.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){mw(t)&&(t=kce(t)),Bv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ms.basename(this.path,this.extname):void 0}set stem(t){Bv(t,"stem"),Rv(t,"stem"),this.path=Ms.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ti(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rv(e,t){if(e&&e.includes(Ms.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ms.sep+"`")}function Bv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function FT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Nce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Cce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},jce={}.hasOwnProperty;class QS extends Cce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fce()}copy(){const t=new QS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($v(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Vv("data",this.frozen),this.namespace[t]=n,this):jce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Vv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Rh(t),r=this.parser||this.Parser;return zv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),zv("process",this.parser||this.Parser),Uv("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Rh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Tce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),zv("processSync",this.parser||this.Parser),Uv("processSync",this.compiler||this.Compiler),this.process(t,i),BT("processSync","process",n),r;function i(a,s){n=!0,DT(a),r=s}}run(t,n,r){RT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Rh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),BT("runSync","run",r),i;function a(s,o){DT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Rh(n),i=this.compiler||this.Compiler;return Uv("stringify",i),RT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Vv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=$v(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];fw(g)&&fw(m)&&(m=$v(!0,g,m)),r[h]=[c,m,...p]}}}}const Ace=new QS().freeze();function zv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Uv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Vv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RT(e){if(!fw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function BT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Rh(e){return Pce(e)?e:new r$(e)}function Pce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Tce(e){return typeof e=="string"||Ece(e)}function Ece(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zT=[],UT={allowDangerousHtml:!0},Mce=/^(https?|ircs?|mailto|xmpp)$/i,Oce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ice(e){const t=_ce(e),n=Lce(e);return $ce(t.runSync(t.parse(n),n),e)}function _ce(e){const t=e.rehypePlugins||zT,n=e.remarkPlugins||zT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...UT}:UT;return Ace().use(gle).use(n).use(uce,r).use(t)}function Lce(e){const t=e.children||"",n=new r$;return typeof t=="string"&&(n.value=t),n}function $ce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Fce;for(const d of Oce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Dce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),XS(e,c),Jae(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Iv)if(Object.hasOwn(Iv,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Iv[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Fce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Mce.test(e.slice(0,t))?e:""}function VT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Rce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Bce(e,t,n){const i=bx((n||{}).ignore||[]),a=zce(t);let s=-1;for(;++s<a.length;)t$(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let x=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const k=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=k+1:(p!==k&&b.push({type:"text",value:c.value.slice(p,k)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=k+w[0].length,x=!0),!h.global)break;w=h.exec(c.value)}return x?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function zce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Uce(i[0]),Vce(i[1])])}return t}function Uce(e){return typeof e=="string"?new RegExp(Rce(e),"g"):e}function Vce(e){return typeof e=="function"?e:function(){return e}}const Wv="phrasing",Hv=["autolink","link","image","label"];function Wce(){return{transforms:[Qce],enter:{literalAutolink:qce,literalAutolinkEmail:qv,literalAutolinkHttp:qv,literalAutolinkWww:qv},exit:{literalAutolink:Xce,literalAutolinkEmail:Yce,literalAutolinkHttp:Kce,literalAutolinkWww:Gce}}}function Hce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wv,notInConstruct:Hv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wv,notInConstruct:Hv},{character:":",before:"[ps]",after:"\\/",inConstruct:Wv,notInConstruct:Hv}]}}function qce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function qv(e){this.config.enter.autolinkProtocol.call(this,e)}function Kce(e){this.config.exit.autolinkProtocol.call(this,e)}function Gce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Yce(e){this.config.exit.autolinkEmail.call(this,e)}function Xce(e){this.exit(e)}function Qce(e){Bce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Zce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Jce]],{ignore:["link","linkReference"]})}function Zce(e,t,n,r,i){let a="";if(!i$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!eue(n)))return!1;const s=tue(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Jce(e,t,n,r){return!i$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function eue(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function tue(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=VT(e,"(");let a=VT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function i$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Nc(n)||xx(n))&&(!t||n!==47)}a$.peek=uue;function nue(){this.buffer()}function rue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function iue(){this.buffer()}function aue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function sue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function oue(e){this.exit(e)}function lue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function cue(e){this.exit(e)}function uue(){return"["}function a$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function due(){return{enter:{gfmFootnoteCallString:nue,gfmFootnoteCall:rue,gfmFootnoteDefinitionLabelString:iue,gfmFootnoteDefinition:aue},exit:{gfmFootnoteCallString:sue,gfmFootnoteCall:oue,gfmFootnoteDefinitionLabelString:lue,gfmFootnoteDefinition:cue}}}function fue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:a$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?s$:mue))),c(),l}}function mue(e,t,n){return t===0?e:s$(e,t,n)}function s$(e,t,n){return(n?"":"    ")+e}const hue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];o$.peek=yue;function pue(){return{canContainEols:["delete"],enter:{strikethrough:xue},exit:{strikethrough:vue}}}function gue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:hue}],handlers:{delete:o$}}}function xue(e){this.enter({type:"delete",children:[]},e)}function vue(e){this.exit(e)}function o$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function yue(){return"~"}function bue(e){return e.length}function wue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||bue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const b=kue(e[d][x]);if(n.alignDelimiters!==!1){const w=i(b);y[x]=w,(l[x]===void 0||w>l[x])&&(l[x]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=WT(r[f]);else{const g=WT(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const w=y+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=y.length+b+x.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const x=[];for(;++f<c;){const b=g[f]||"";let w="",k="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),k=w):k=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(w),x.push(b),n.alignDelimiters!==!1&&x.push(k),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function kue(e){return e==null?"":String(e)}function WT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Sue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),Nue);return i(),s}function Nue(e,t,n){return">"+(n?"":" ")+e}function Cue(e,t){return HT(e,t.inConstruct,!0)&&!HT(e,t.notInConstruct,!1)}function HT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function qT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Cue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function jue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Aue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Pue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Tue(e,t,n,r){const i=Pue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Aue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Eue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(jue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Eue(e,t,n){return(n?"":"    ")+e}function ZS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Due(e,t,n,r){const i=ZS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function Mue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Jf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ug(e,t,n){const r=Yu(e),i=Yu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}l$.peek=Oue;function l$(e,t,n,r){const i=Mue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Ug(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Jf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Ug(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Jf(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Oue(e,t,n){return n.options.emphasis||"*"}function Iue(e,t){let n=!1;return XS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,uw}),!!((!e.depth||e.depth<3)&&VS(e)&&(t.options.setext||n))}function _ue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Iue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Jf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}c$.peek=Lue;function c$(e){return e.value||""}function Lue(){return"<"}u$.peek=$ue;function u$(e,t,n,r){const i=ZS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function $ue(){return"!"}d$.peek=Fue;function d$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Fue(){return"!"}f$.peek=Rue;function f$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Rue(){return"`"}function m$(e,t){const n=VS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}h$.peek=Bue;function h$(e,t,n,r){const i=ZS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(m$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Bue(e,t,n){return m$(e,n)?"<":"["}p$.peek=zue;function p$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function zue(){return"["}function JS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Uue(e){const t=JS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Vue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function g$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Wue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Vue(n):JS(n);const o=e.ordered?s==="."?")":".":Uue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),g$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Hue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function que(e,t,n,r){const i=Hue(n);let a=n.bulletCurrent||JS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Kue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Gue=bx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Yue(e,t,n,r){return(e.children.some(function(s){return Gue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Xue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}x$.peek=Que;function x$(e,t,n,r){const i=Xue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Ug(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Jf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Ug(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Jf(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Que(e,t,n){return n.options.strong||"*"}function Zue(e,t,n,r){return n.safe(e.value,r)}function Jue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ede(e,t,n){const r=(g$(n)+(n.options.ruleSpaces?" ":"")).repeat(Jue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const v$={blockquote:Sue,break:qT,code:Tue,definition:Due,emphasis:l$,hardBreak:qT,heading:_ue,html:c$,image:u$,imageReference:d$,inlineCode:f$,link:h$,linkReference:p$,list:Wue,listItem:que,paragraph:Kue,root:Yue,strong:x$,text:Zue,thematicBreak:ede};function tde(){return{enter:{table:nde,tableData:KT,tableHeader:KT,tableRow:ide},exit:{codeText:ade,table:rde,tableData:Kv,tableHeader:Kv,tableRow:Kv}}}function nde(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function rde(e){this.exit(e),this.data.inTable=void 0}function ide(e){this.enter({type:"tableRow",children:[]},e)}function Kv(e){this.exit(e)}function KT(e){this.enter({type:"tableCell",children:[]},e)}function ade(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,sde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function sde(e,t){return t==="|"?t:e}function ode(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const x=f(m,g,y),b=c([x]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const x=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),x(),w}function c(m,p){return wue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("table");for(;++x<y.length;)b[x]=f(y[x],p,g);return w(),b}function f(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("tableRow");for(;++x<y.length;)b[x]=l(y[x],m,p,g);return w(),b}function h(m,p,g){let y=v$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function lde(){return{exit:{taskListCheckValueChecked:GT,taskListCheckValueUnchecked:GT,paragraph:ude}}}function cde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:dde}}}function GT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ude(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function dde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=v$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function fde(){return[Wce(),due(),pue(),tde(),lde()]}function mde(e){return{extensions:[Hce(),fue(e),gue(),ode(e),cde()]}}const hde={tokenize:bde,partial:!0},y$={tokenize:wde,partial:!0},b$={tokenize:kde,partial:!0},w$={tokenize:Sde,partial:!0},pde={tokenize:Nde,partial:!0},k$={name:"wwwAutolink",tokenize:vde,previous:N$},S$={name:"protocolAutolink",tokenize:yde,previous:C$},Do={name:"emailAutolink",tokenize:xde,previous:j$},Ws={};function gde(){return{text:Ws}}let _l=48;for(;_l<123;)Ws[_l]=Do,_l++,_l===58?_l=65:_l===91&&(_l=97);Ws[43]=Do;Ws[45]=Do;Ws[46]=Do;Ws[95]=Do;Ws[72]=[Do,S$];Ws[104]=[Do,S$];Ws[87]=[Do,k$];Ws[119]=[Do,k$];function xde(e,t,n){const r=this;let i,a;return s;function s(f){return!hw(f)||!j$.call(r,r.previous)||eN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return hw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(pde,d,c)(f):f===45||f===95||Ai(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Ri(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function vde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!N$.call(r,r.previous)||eN(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(hde,e.attempt(y$,e.attempt(b$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function yde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&C$.call(r,r.previous)&&!eN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Ri(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Rg(f)||Hn(f)||Nc(f)||xx(f)?n(f):e.attempt(y$,e.attempt(b$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function bde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function wde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(w$,l,o)(c):c===null||Hn(c)||Nc(c)||c!==45&&xx(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function kde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(w$,t,a)(s):s===null||Hn(s)||Nc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Sde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Hn(o)||Nc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Hn(o)||Nc(o)?t(o):r(o)}function a(o){return Ri(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Ri(o)?(e.consume(o),s):n(o)}}function Nde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ai(a)?n(a):t(a)}}function N$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Hn(e)}function C$(e){return!Ri(e)}function j$(e){return!(e===47||hw(e))}function hw(e){return e===43||e===45||e===46||e===95||Ai(e)}function eN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Cde={tokenize:Ode,partial:!0};function jde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ede,continuation:{tokenize:Dde},exit:Mde}},text:{91:{name:"gfmFootnoteCall",tokenize:Tde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ade,resolveTo:Pde}}}}function Ade(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=hs(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Pde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Tde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Hn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(hs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Hn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Ede(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Hn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=hs(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Hn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),bn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Dde(e,t,n){return e.check(Bm,t,e.attempt(Cde,t,n))}function Mde(e){e.exit("gfmFootnoteDefinition")}function Ode(e,t,n){const r=this;return bn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Ide(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Aa(h,h.length,0,vx(m,s.slice(c+1,l),o)),Aa(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Aa(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Yu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=Yu(p);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,o(p)}}}class _de{constructor(){this.map=[]}add(t,n,r){Lde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Lde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function $de(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Fde(){return{flow:{null:{name:"table",tokenize:Rde,resolveAll:Bde}}}}function Rde(e,t,n){const r=this;let i=0,a=0,s;return o;function o(P){let M=r.events.length-1;for(;M>-1;){const ee=r.events[M][1].type;if(ee==="lineEnding"||ee==="linePrefix")M--;else break}const O=M>-1?r.events[M][1].type:null,Z=O==="tableHead"||O==="tableRow"?N:l;return Z===N&&r.parser.lazy[r.now().line]?n(P):Z(P)}function l(P){return e.enter("tableHead"),e.enter("tableRow"),c(P)}function c(P){return P===124||(s=!0,a+=1),d(P)}function d(P){return P===null?n(P):Bt(P)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),m):n(P):hn(P)?bn(e,d,"whitespace")(P):(a+=1,s&&(s=!1,i+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(P)))}function f(P){return P===null||P===124||Hn(P)?(e.exit("data"),d(P)):(e.consume(P),P===92?h:f)}function h(P){return P===92||P===124?(e.consume(P),f):f(P)}function m(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),s=!1,hn(P)?bn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):p(P))}function p(P){return P===45||P===58?y(P):P===124?(s=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),g):C(P)}function g(P){return hn(P)?bn(e,y,"whitespace")(P):y(P)}function y(P){return P===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),x):P===45?(a+=1,x(P)):P===null||Bt(P)?k(P):C(P)}function x(P){return P===45?(e.enter("tableDelimiterFiller"),b(P)):C(P)}function b(P){return P===45?(e.consume(P),b):P===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(P))}function w(P){return hn(P)?bn(e,k,"whitespace")(P):k(P)}function k(P){return P===124?p(P):P===null||Bt(P)?!s||i!==a?C(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):C(P)}function C(P){return n(P)}function N(P){return e.enter("tableRow"),j(P)}function j(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),j):P===null||Bt(P)?(e.exit("tableRow"),t(P)):hn(P)?bn(e,j,"whitespace")(P):(e.enter("data"),E(P))}function E(P){return P===null||P===124||Hn(P)?(e.exit("data"),j(P)):(e.consume(P),P===92?L:E)}function L(P){return P===92||P===124?(e.consume(P),E):E(P)}}function Bde(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new _de;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(YT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Bh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Bh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Bh(h,t,a,i,n,f)):s[1]!==0&&(f=Bh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&YT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=$de(t.events,n))}return e}function Bh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},nu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=nu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=nu(t.events,n[2]),d=nu(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},nu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function YT(e,t,n,r,i){const a=[],s=nu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function nu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const zde={name:"tasklistCheck",tokenize:Vde};function Ude(){return{text:{91:zde}}}function Vde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Hn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Bt(l)?t(l):hn(l)?e.check({tokenize:Wde},t,n)(l):n(l)}}function Wde(e,t,n){return bn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Hde(e){return L4([gde(),jde(),Ide(e),Fde(),Ude()])}const qde={};function Kde(e){const t=this,n=e||qde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Hde(n)),a.push(fde()),s.push(mde(n))}const Gv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',A$=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),kx=v.createContext({}),tN=v.createContext(null),Sx=typeof document<"u",Gde=Sx?v.useLayoutEffect:v.useEffect,P$=v.createContext({strict:!1}),nN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Yde="framerAppearId",T$="data-"+nN(Yde);function Xde(e,t,n,r){const{visualElement:i}=v.useContext(kx),a=v.useContext(P$),s=v.useContext(tN),o=v.useContext(A$).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,s)});const d=v.useRef(!!(n[T$]&&!window.HandoffComplete));return Gde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function xu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qde(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xu(n)&&(n.current=r))},[t])}function em(e){return typeof e=="string"||Array.isArray(e)}function Nx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iN=["initial",...rN];function Cx(e){return Nx(e.animate)||iN.some(t=>em(e[t]))}function E$(e){return!!(Cx(e)||e.variants)}function Zde(e,t){if(Cx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||em(n)?n:void 0,animate:em(r)?r:void 0}}return e.inherit!==!1?t:{}}function Jde(e){const{initial:t,animate:n}=Zde(e,v.useContext(kx));return v.useMemo(()=>({initial:t,animate:n}),[XT(t),XT(n)])}function XT(e){return Array.isArray(e)?e.join(" "):e}const QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tm={};for(const e in QT)tm[e]={isEnabled:t=>QT[e].some(n=>!!t[n])};function efe(e){for(const t in e)tm[t]={...tm[t],...e[t]}}const D$=v.createContext({}),M$=v.createContext({}),tfe=Symbol.for("motionComponentSymbol");function nfe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&efe(e);function a(o,l){let c;const d={...v.useContext(A$),...o,layoutId:rfe(o)},{isStatic:f}=d,h=Jde(o),m=r(o,f);if(!f&&Sx){h.visualElement=Xde(i,m,d,t);const p=v.useContext(M$),g=v.useContext(P$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(kx.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Qde(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[tfe]=i,s}function rfe({layoutId:e}){const t=v.useContext(D$).id;return t&&e!==void 0?t+"-"+e:e}function ife(e){function t(r,i={}){return nfe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const afe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function aN(e){return typeof e!="string"||e.includes("-")?!1:!!(afe.indexOf(e)>-1||/[A-Z]/.test(e))}const Vg={};function sfe(e){Object.assign(Vg,e)}const Um=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(Um);function O$(e,{layout:t,layoutId:n}){return Ec.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vg[e]||e==="opacity")}const oa=e=>!!(e&&e.getVelocity),ofe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lfe=Um.length;function cfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<lfe;s++){const o=Um[s];if(e[o]!==void 0){const l=ofe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const I$=e=>t=>typeof t=="string"&&t.startsWith(e),_$=I$("--"),pw=I$("var(--"),ufe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fl=(e,t,n)=>Math.min(Math.max(n,e),t),Dc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lf={...Dc,transform:e=>fl(0,1,e)},zh={...Dc,default:1},cf=e=>Math.round(e*1e5)/1e5,jx=/(-)?([\d]*\.?[\d])+/g,L$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ffe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Vm(e){return typeof e=="string"}const Wm=e=>({test:t=>Vm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fo=Wm("deg"),Rs=Wm("%"),Ht=Wm("px"),mfe=Wm("vh"),hfe=Wm("vw"),ZT={...Rs,parse:e=>Rs.parse(e)/100,transform:e=>Rs.transform(e*100)},JT={...Dc,transform:Math.round},$$={borderWidth:Ht,borderTopWidth:Ht,borderRightWidth:Ht,borderBottomWidth:Ht,borderLeftWidth:Ht,borderRadius:Ht,radius:Ht,borderTopLeftRadius:Ht,borderTopRightRadius:Ht,borderBottomRightRadius:Ht,borderBottomLeftRadius:Ht,width:Ht,maxWidth:Ht,height:Ht,maxHeight:Ht,size:Ht,top:Ht,right:Ht,bottom:Ht,left:Ht,padding:Ht,paddingTop:Ht,paddingRight:Ht,paddingBottom:Ht,paddingLeft:Ht,margin:Ht,marginTop:Ht,marginRight:Ht,marginBottom:Ht,marginLeft:Ht,rotate:Fo,rotateX:Fo,rotateY:Fo,rotateZ:Fo,scale:zh,scaleX:zh,scaleY:zh,scaleZ:zh,skew:Fo,skewX:Fo,skewY:Fo,distance:Ht,translateX:Ht,translateY:Ht,translateZ:Ht,x:Ht,y:Ht,z:Ht,perspective:Ht,transformPerspective:Ht,opacity:lf,originX:ZT,originY:ZT,originZ:Ht,zIndex:JT,fillOpacity:lf,strokeOpacity:lf,numOctaves:JT};function sN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(_$(f)){a[f]=h;continue}const m=$$[f],p=dfe(h,m);if(Ec.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=cfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const oN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F$(e,t,n){for(const r in t)!oa(t[r])&&!O$(r,n)&&(e[r]=t[r])}function pfe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=oN();return sN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function gfe(e,t,n){const r=e.style||{},i={};return F$(i,r,e),Object.assign(i,pfe(e,t,n)),e.transformValues?e.transformValues(i):i}function xfe(e,t,n){const r={},i=gfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const vfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vfe.has(e)}let R$=e=>!Wg(e);function yfe(e){e&&(R$=t=>t.startsWith("on")?!Wg(t):e(t))}try{yfe(require("@emotion/is-prop-valid").default)}catch{}function bfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(R$(i)||n===!0&&Wg(i)||!t&&!Wg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function eE(e,t,n){return typeof e=="string"?e:Ht.transform(t+n*e)}function wfe(e,t,n){const r=eE(t,e.x,e.width),i=eE(n,e.y,e.height);return`${r} ${i}`}const kfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sfe={offset:"strokeDashoffset",array:"strokeDasharray"};function Nfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?kfe:Sfe;e[a.offset]=Ht.transform(-r);const s=Ht.transform(t),o=Ht.transform(n);e[a.array]=`${s} ${o}`}function lN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(sN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=wfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Nfe(m,s,o,l,!1)}const B$=()=>({...oN(),attrs:{}}),cN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Cfe(e,t,n,r){const i=v.useMemo(()=>{const a=B$();return lN(a,t,{enableHardwareAcceleration:!1},cN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};F$(a,e.style,e),i.style={...a,...i.style}}return i}function jfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(aN(n)?Cfe:xfe)(r,a,s,n),d={...bfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>oa(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function z$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const U$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V$(e,t,n,r){z$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(U$.has(i)?i:nN(i),t.attrs[i])}function uN(e,t){const{style:n}=e,r={};for(const i in n)(oa(n[i])||t.style&&oa(t.style[i])||O$(i,e))&&(r[i]=n[i]);return r}function W$(e,t){const n=uN(e,t);for(const r in e)if(oa(e[r])||oa(t[r])){const i=Um.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function dN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Afe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hg=e=>Array.isArray(e),Pfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Tfe=e=>Hg(e)?e[e.length-1]||0:e;function hp(e){const t=oa(e)?e.get():e;return Pfe(t)?t.toValue():t}function Efe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Dfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const H$=e=>(t,n)=>{const r=v.useContext(kx),i=v.useContext(tN),a=()=>Efe(e,t,r,i);return n?a():Afe(a)};function Dfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=hp(a[h]);let{initial:s,animate:o}=e;const l=Cx(e),c=E$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!Nx(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=dN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...x}=p;for(const b in x){let w=x[b];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Or=e=>e;class tE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Mfe(e){let t=new tE,n=new tE,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Uh=["prepare","read","update","preRender","render","postRender"],Ofe=40;function Ife(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Uh.reduce((f,h)=>(f[h]=Mfe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Ofe),1),i.timestamp=f,i.isProcessing=!0,Uh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Uh.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Uh.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:or,cancel:ko,state:wi,steps:Yv}=Ife(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0),_fe={useVisualState:H$({scrapeMotionValuesFromProps:W$,createRenderState:B$,onMount:(e,t,{renderState:n,latestValues:r})=>{or.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),or.render(()=>{lN(n,r,{enableHardwareAcceleration:!1},cN(t.tagName),e.transformTemplate),V$(t,n)})}})},Lfe={useVisualState:H$({scrapeMotionValuesFromProps:uN,createRenderState:oN})};function $fe(e,{forwardMotionProps:t=!1},n,r){return{...aN(e)?_fe:Lfe,preloadedFeatures:n,useRender:jfe(t),createVisualElement:r,Component:e}}function ao(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const q$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ax(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ffe=e=>t=>q$(t)&&e(t,Ax(t));function co(e,t,n,r){return ao(e,t,Ffe(n),r)}const Rfe=(e,t)=>n=>t(e(n)),ol=(...e)=>e.reduce(Rfe);function K$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const nE=K$("dragHorizontal"),rE=K$("dragVertical");function G$(e){let t=!1;if(e==="y")t=rE();else if(e==="x")t=nE();else{const n=nE(),r=rE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Y$(){const e=G$(!0);return e?(e(),!1):!0}class kl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||Y$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&or.update(()=>o[r](a,s))};return co(e.current,n,i,{passive:!e.getProps()[r]})}class Bfe extends kl{mount(){this.unmount=ol(iE(this.node,!0),iE(this.node,!1))}unmount(){}}class zfe extends kl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(ao(this.node.current,"focus",()=>this.onFocus()),ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const X$=(e,t)=>t?e===t?!0:X$(e,t.parentElement):!1;function Xv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ax(n))}class Ufe extends kl{constructor(){super(...arguments),this.removeStartListeners=Or,this.removeEndListeners=Or,this.removeAccessibleListeners=Or,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=co(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();or.update(()=>{!f&&!X$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=co(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ol(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Xv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&or.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=ao(this.node.current,"keyup",s),Xv("down",(o,l)=>{this.startPress(o,l)})},n=ao(this.node.current,"keydown",t),r=()=>{this.isPressing&&Xv("cancel",(a,s)=>this.cancelPress(a,s))},i=ao(this.node.current,"blur",r);this.removeAccessibleListeners=ol(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&or.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Y$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&or.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=co(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ao(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ol(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gw=new WeakMap,Qv=new WeakMap,Vfe=e=>{const t=gw.get(e.target);t&&t(e)},Wfe=e=>{e.forEach(Vfe)};function Hfe({root:e,...t}){const n=e||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Wfe,{root:e,...t})),r[i]}function qfe(e,t,n){const r=Hfe(t);return gw.set(e,n),r.observe(e),()=>{gw.delete(e),r.unobserve(e)}}const Kfe={some:0,all:1};class Gfe extends kl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Kfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return qfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Yfe(t,n))&&this.startObserver()}unmount(){}}function Yfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Xfe={inView:{Feature:Gfe},tap:{Feature:Ufe},focus:{Feature:zfe},hover:{Feature:Bfe}};function Q$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Qfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Zfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Px(e,t,n){const r=e.getProps();return dN(r,t,n!==void 0?n:r.custom,Qfe(e),Zfe(e))}let fN=Or;const lc=e=>e*1e3,uo=e=>e/1e3,Jfe={current:!1},Z$=e=>Array.isArray(e)&&typeof e[0]=="number";function J$(e){return!!(!e||typeof e=="string"&&eF[e]||Z$(e)||Array.isArray(e)&&e.every(J$))}const qd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,eF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qd([0,.65,.55,1]),circOut:qd([.55,0,1,.45]),backIn:qd([.31,.01,.66,-.59]),backOut:qd([.33,1.53,.69,.99])};function tF(e){if(e)return Z$(e)?qd(e):Array.isArray(e)?e.map(tF):eF[e]}function eme(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=tF(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function tme(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const nF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nme=1e-7,rme=12;function ime(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=nF(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>nme&&++o<rme);return s}function Hm(e,t,n,r){if(e===t&&n===r)return Or;const i=a=>ime(a,0,1,e,n);return a=>a===0||a===1?a:nF(i(a),t,r)}const ame=Hm(.42,0,1,1),sme=Hm(0,0,.58,1),rF=Hm(.42,0,.58,1),ome=e=>Array.isArray(e)&&typeof e[0]!="number",iF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aF=e=>t=>1-e(1-t),mN=e=>1-Math.sin(Math.acos(e)),sF=aF(mN),lme=iF(mN),oF=Hm(.33,1.53,.69,.99),hN=aF(oF),cme=iF(hN),ume=e=>(e*=2)<1?.5*hN(e):.5*(2-Math.pow(2,-10*(e-1))),dme={linear:Or,easeIn:ame,easeInOut:rF,easeOut:sme,circIn:mN,circInOut:lme,circOut:sF,backIn:hN,backInOut:cme,backOut:oF,anticipate:ume},aE=e=>{if(Array.isArray(e)){fN(e.length===4);const[t,n,r,i]=e;return Hm(t,n,r,i)}else if(typeof e=="string")return dme[e];return e},pN=(e,t)=>n=>!!(Vm(n)&&ffe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),lF=(e,t,n)=>r=>{if(!Vm(r))return r;const[i,a,s,o]=r.match(jx);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},fme=e=>fl(0,255,e),Zv={...Dc,transform:e=>Math.round(fme(e))},ec={test:pN("rgb","red"),parse:lF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zv.transform(e)+", "+Zv.transform(t)+", "+Zv.transform(n)+", "+cf(lf.transform(r))+")"};function mme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xw={test:pN("#"),parse:mme,transform:ec.transform},vu={test:pN("hsl","hue"),parse:lF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Rs.transform(cf(t))+", "+Rs.transform(cf(n))+", "+cf(lf.transform(r))+")"},$i={test:e=>ec.test(e)||xw.test(e)||vu.test(e),parse:e=>ec.test(e)?ec.parse(e):vu.test(e)?vu.parse(e):xw.parse(e),transform:e=>Vm(e)?e:e.hasOwnProperty("red")?ec.transform(e):vu.transform(e)},gr=(e,t,n)=>-n*e+n*t+e;function Jv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Jv(l,o,e+1/3),a=Jv(l,o,e),s=Jv(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const ey=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},pme=[xw,ec,vu],gme=e=>pme.find(t=>t.test(e));function sE(e){const t=gme(e);let n=t.parse(e);return t===vu&&(n=hme(n)),n}const cF=(e,t)=>{const n=sE(e),r=sE(t),i={...n};return a=>(i.red=ey(n.red,r.red,a),i.green=ey(n.green,r.green,a),i.blue=ey(n.blue,r.blue,a),i.alpha=gr(n.alpha,r.alpha,a),ec.transform(i))};function xme(e){var t,n;return isNaN(e)&&Vm(e)&&(((t=e.match(jx))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(L$))===null||n===void 0?void 0:n.length)||0)>0}const uF={regex:ufe,countKey:"Vars",token:"${v}",parse:Or},dF={regex:L$,countKey:"Colors",token:"${c}",parse:$i.parse},fF={regex:jx,countKey:"Numbers",token:"${n}",parse:Dc.parse};function ty(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function qg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ty(n,uF),ty(n,dF),ty(n,fF),n}function mF(e){return qg(e).values}function hF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=qg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(uF.token,s[l]):l<r+n?o=o.replace(dF.token,$i.transform(s[l])):o=o.replace(fF.token,cf(s[l]));return o}}const vme=e=>typeof e=="number"?0:e;function yme(e){const t=mF(e);return hF(e)(t.map(vme))}const ml={test:xme,parse:mF,createTransformer:hF,getAnimatableNone:yme},pF=(e,t)=>n=>`${n>0?t:e}`;function gF(e,t){return typeof e=="number"?n=>gr(e,t,n):$i.test(e)?cF(e,t):e.startsWith("var(")?pF(e,t):vF(e,t)}const xF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>gF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},bme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=gF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},vF=(e,t)=>{const n=ml.createTransformer(t),r=qg(e),i=qg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ol(xF(r.values,i.values),n):pF(e,t)},nm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},oE=(e,t)=>n=>gr(e,t,n);function wme(e){return typeof e=="number"?oE:typeof e=="string"?$i.test(e)?cF:vF:Array.isArray(e)?xF:typeof e=="object"?bme:oE}function kme(e,t,n){const r=[],i=n||wme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Or:t;o=ol(l,o)}r.push(o)}return r}function yF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(fN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=kme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=nm(e[d],e[d+1],c);return s[d](f)};return n?c=>l(fl(e[0],e[a-1],c)):l}function Sme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=nm(0,t,r);e.push(gr(n,1,i))}}function Nme(e){const t=[0];return Sme(t,e.length-1),t}function Cme(e,t){return e.map(n=>n*t)}function jme(e,t){return e.map(()=>t||rF).splice(0,e.length-1)}function Kg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=ome(r)?r.map(aE):aE(r),a={done:!1,value:t[0]},s=Cme(n&&n.length===t.length?n:Nme(t),e),o=yF(s,t,{ease:Array.isArray(i)?i:jme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function bF(e,t){return t?e*(1e3/t):0}const Ame=5;function wF(e,t,n){const r=Math.max(t-Ame,0);return bF(n-e(r),t-r)}const ny=.001,Pme=.01,Tme=10,Eme=.05,Dme=1;function Mme({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=fl(Eme,Dme,s),e=fl(Pme,Tme,uo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=vw(c,s),p=Math.exp(-f);return ny-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=vw(Math.pow(c,2),s);return(-i(c)+ny>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ny+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Ime(i,a,o);if(e=lc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Ome=12;function Ime(e,t,n){let r=n;for(let i=1;i<Ome;i++)r=r-e(r)/t(r);return r}function vw(e,t){return e*Math.sqrt(1-t*t)}const _me=["duration","bounce"],Lme=["stiffness","damping","mass"];function lE(e,t){return t.some(n=>e[n]!==void 0)}function $me(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lE(e,Lme)&&lE(e,_me)){const n=Mme(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function kF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=$me({...r,velocity:-uo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=uo(Math.sqrt(o/c)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(p<1){const w=vw(y,p);b=k=>{const C=Math.exp(-p*y*k);return a-C*((m+p*y*g)/w*Math.sin(w*k)+g*Math.cos(w*k))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=k=>{const C=Math.exp(-p*y*k),N=Math.min(w*k,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const k=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=wF(b,w,k):C=0);const N=Math.abs(C)<=n,j=Math.abs(a-k)<=t;s.done=N&&j}return s.value=s.done?a:k,s}}}function cE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=E=>-g*Math.exp(-E/r),w=E=>x+b(E),k=E=>{const L=b(E),P=w(E);h.done=Math.abs(L)<=c,h.value=h.done?x:P};let C,N;const j=E=>{m(h.value)&&(C=E,N=kF({keyframes:[h.value,p(h.value)],velocity:wF(w,E,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:E=>{let L=!1;return!N&&C===void 0&&(L=!0,k(E),j(E)),C!==void 0&&E>C?N.next(E-C):(!L&&k(E),h)}}}const Fme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>or.update(t,!0),stop:()=>ko(t),now:()=>wi.isProcessing?wi.timestamp:performance.now()}},uE=2e4;function dE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uE;)t+=n,r=e.next(t);return t>=uE?1/0:t}const Rme={decay:cE,inertia:cE,tween:Kg,keyframes:Kg,spring:kF};function Gg({autoplay:e=!0,delay:t=0,driver:n=Fme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const x=()=>{y=new Promise(A=>{g=A})};x();let b;const w=Rme[i]||Kg;let k;w!==Kg&&typeof r[0]!="number"&&(k=yF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",E=null,L=null,P=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=dE(C));const{calculatedDuration:M}=C;let O=1/0,Z=1/0;M!==null&&(O=M+s,Z=O*(a+1)-s);let ee=0;const ae=A=>{if(L===null)return;m>0&&(L=Math.min(L,A)),m<0&&(L=Math.min(A-Z/m,L)),E!==null?ee=E:ee=Math.round(A-L)*m;const te=ee-t*(m>=0?1:-1),S=m>=0?te<0:te>Z;ee=Math.max(te,0),j==="finished"&&E===null&&(ee=Z);let z=ee,W=C;if(a){const $=Math.min(ee,Z)/O;let V=Math.floor($),le=$%1;!le&&$>=1&&(le=1),le===1&&V--,V=Math.min(V,a+1),!!(V%2)&&(o==="reverse"?(le=1-le,s&&(le-=s/O)):o==="mirror"&&(W=N)),z=fl(0,1,le)*O}const J=S?{done:!1,value:r[0]}:W.next(z);k&&(J.value=k(J.value));let{done:q}=J;!S&&M!==null&&(q=m>=0?ee>=Z:ee<=0);const re=E===null&&(j==="finished"||j==="running"&&q);return f&&f(J.value),re&&G(),J},ue=()=>{b&&b.stop(),b=void 0},Q=()=>{j="idle",ue(),g(),x(),L=P=null},G=()=>{j="finished",d&&d(),ue(),g()},_=()=>{if(p)return;b||(b=n(ae));const A=b.now();l&&l(),E!==null?L=A-E:(!L||j==="finished")&&(L=A),j==="finished"&&x(),P=L,E=null,j="running",b.start()};e&&_();const T={then(A,te){return y.then(A,te)},get time(){return uo(ee)},set time(A){A=lc(A),ee=A,E!==null||!b||m===0?E=A:L=b.now()-A/m},get duration(){const A=C.calculatedDuration===null?dE(C):C.calculatedDuration;return uo(A)},get speed(){return m},set speed(A){A===m||!b||(m=A,T.time=uo(ee))},get state(){return j},play:_,pause:()=>{j="paused",E=ee},stop:()=>{p=!0,j!=="idle"&&(j="idle",c&&c(),Q())},cancel:()=>{P!==null&&ae(P),Q()},complete:()=>{j="finished"},sample:A=>(L=0,ae(A))};return T}function Bme(e){let t;return()=>(t===void 0&&(t=e()),t)}const zme=Bme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ume=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Vh=10,Vme=2e4,Wme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!J$(t.ease);function Hme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(zme()&&Ume.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Wme(t,i)){const w=Gg({...i,repeat:0,delay:0});let k={done:!1,value:f[0]};const C=[];let N=0;for(;!k.done&&N<Vme;)k=w.sample(N),C.push(k.value),N+=Vh;p=void 0,f=C,h=N-Vh,m="linear"}const g=eme(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,or.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(tme(f,i)),r&&r(),x())},{then(w,k){return l.then(w,k)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Or},get time(){return uo(g.currentTime||0)},set time(w){g.currentTime=lc(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return uo(h)},play:()=>{s||(g.play(),ko(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const k=Gg({...i,autoplay:!1});e.setWithVelocity(k.sample(w-Vh).value,k.sample(w).value,Vh)}x()},complete:()=>{c||g.finish()},cancel:x}}function qme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Or,pause:Or,stop:Or,then:a=>(a(),Promise.resolve()),cancel:Or,complete:Or});return t?Gg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Kme={type:"spring",stiffness:500,damping:25,restSpeed:10},Gme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Yme={type:"keyframes",duration:.8},Xme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qme=(e,{keyframes:t})=>t.length>2?Yme:Ec.has(e)?e.startsWith("scale")?Gme(t[1]):Kme:Xme,yw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ml.test(t)||t==="0")&&!t.startsWith("url(")),Zme=new Set(["brightness","contrast","saturate","opacity"]);function Jme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jx)||[];if(!r)return e;const i=n.replace(r,"");let a=Zme.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const ehe=/([a-z-]*)\(.*?\)/g,bw={...ml,getAnimatableNone:e=>{const t=e.match(ehe);return t?t.map(Jme).join(" "):e}},the={...$$,color:$i,backgroundColor:$i,outlineColor:$i,fill:$i,stroke:$i,borderColor:$i,borderTopColor:$i,borderRightColor:$i,borderBottomColor:$i,borderLeftColor:$i,filter:bw,WebkitFilter:bw},gN=e=>the[e];function SF(e,t){let n=gN(e);return n!==bw&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const NF=e=>/^0[^.\s]+$/.test(e);function nhe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||NF(e)}function rhe(e,t,n,r){const i=yw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),nhe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=SF(t,o)}return a}function ihe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function xN(e,t){return e[t]||e.default||e}const ahe={skipAnimations:!1},vN=(e,t,n,r={})=>i=>{const a=xN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-lc(s);const l=rhe(t,e,n,a),c=l[0],d=l[l.length-1],f=yw(e,c),h=yw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(ihe(a)||(m={...m,...Qme(e,m)}),m.duration&&(m.duration=lc(m.duration)),m.repeatDelay&&(m.repeatDelay=lc(m.repeatDelay)),!f||!h||Jfe.current||a.type===!1||ahe.skipAnimations)return qme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Hme(t,e,m);if(p)return p}return Gg(m)};function Yg(e){return!!(oa(e)&&e.add)}const CF=e=>/^\-?\d*\.?\d+$/.test(e);function yN(e,t){e.indexOf(t)===-1&&e.push(t)}function bN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wN{constructor(){this.subscriptions=[]}add(t){return yN(this.subscriptions,t),()=>bN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const she=e=>!isNaN(parseFloat(e));class ohe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=wi;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,or.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>or.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=she(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wN);const r=this.events[t].add(n);return t==="change"?()=>{r(),or.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xu(e,t){return new ohe(e,t)}const jF=e=>t=>t.test(e),lhe={test:e=>e==="auto",parse:e=>e},AF=[Dc,Ht,Rs,Fo,hfe,mfe,lhe],Ld=e=>AF.find(jF(e)),che=[...AF,$i,ml],uhe=e=>che.find(jF(e));function dhe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xu(n))}function fhe(e,t){const n=Px(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Tfe(a[s]);dhe(e,s,o)}}function mhe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(CF(d)||NF(d))?d=parseFloat(d):!uhe(d)&&ml.test(c)&&(d=SF(l,c)),e.addValue(l,Xu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function hhe(e,t){return t?(t[e]||t.default||t).from:void 0}function phe(e,t,n){const r={};for(const i in e){const a=hhe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function ghe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function PF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&ghe(d,f))continue;const p={delay:n,elapsed:0,...xN(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[T$];if(x){const b=window.HandoffAppearAnimations(x,f,h,or);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!xhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(vN(f,h,m,e.shouldReduceMotion&&Ec.has(f)?{type:!1}:p));const y=h.animation;Yg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&fhe(e,s)}),c}function ww(e,t,n={}){const r=Px(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(PF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return vhe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function vhe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(yhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(ww(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function yhe(e,t){return e.sortNodePosition(t)}function bhe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>ww(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=ww(e,t,n);else{const i=typeof t=="function"?Px(e,t,n.custom):t;r=Promise.all(PF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const whe=[...rN].reverse(),khe=rN.length;function She(e){return t=>Promise.all(t.map(({animation:n,options:r})=>bhe(e,n,r)))}function Nhe(e){let t=She(e);const n=jhe();let r=!0;const i=(l,c)=>{const d=Px(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<khe;x++){const b=whe[x],w=n[b],k=d[b]!==void 0?d[b]:f[b],C=em(k),N=b===c?w.isActive:null;N===!1&&(g=x);let j=k===f[b]&&k!==d[b]&&C;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...p},!w.isActive&&N===null||!k&&!w.prevProp||Nx(k)||typeof k=="boolean")continue;let L=Che(w.prevProp,k)||b===c&&w.isActive&&!j&&C||x>g&&C,P=!1;const M=Array.isArray(k)?k:[k];let O=M.reduce(i,{});N===!1&&(O={});const{prevResolvedValues:Z={}}=w,ee={...Z,...O},ae=ue=>{L=!0,m.has(ue)&&(P=!0,m.delete(ue)),w.needsAnimating[ue]=!0};for(const ue in ee){const Q=O[ue],G=Z[ue];if(p.hasOwnProperty(ue))continue;let _=!1;Hg(Q)&&Hg(G)?_=!Q$(Q,G):_=Q!==G,_?Q!==void 0?ae(ue):m.add(ue):Q!==void 0&&m.has(ue)?ae(ue):w.protectedKeys[ue]=!0}w.prevProp=k,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(L=!1),L&&(!j||P)&&h.push(...M.map(ue=>({animation:ue,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Che(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q$(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jhe(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class Ahe extends kl{constructor(t){super(t),t.animationState||(t.animationState=Nhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Nx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Phe=0;class The extends kl{constructor(){super(...arguments),this.id=Phe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ehe={animation:{Feature:Ahe},exit:{Feature:The}},fE=(e,t)=>Math.abs(e-t);function Dhe(e,t){const n=fE(e.x,t.x),r=fE(e.y,t.y);return Math.sqrt(n**2+r**2)}class TF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=iy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Dhe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=wi;this.history.push({...p,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ry(h,this.transformPagePoint),or.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=iy(f.type==="pointercancel"?this.lastMoveEventInfo:ry(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!q$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Ax(t),o=ry(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=wi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,iy(o,this.history)),this.removeListeners=ol(co(this.contextWindow,"pointermove",this.handlePointerMove),co(this.contextWindow,"pointerup",this.handlePointerUp),co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ko(this.updatePoint)}}function ry(e,t){return t?{point:t(e.point)}:e}function mE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iy({point:e},t){return{point:e,delta:mE(e,EF(t)),offset:mE(e,Mhe(t)),velocity:Ohe(t,.1)}}function Mhe(e){return e[0]}function EF(e){return e[e.length-1]}function Ohe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=EF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lc(t)));)n--;if(!r)return{x:0,y:0};const a=uo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ea(e){return e.max-e.min}function kw(e,t=0,n=.01){return Math.abs(e-t)<=n}function hE(e,t,n,r=.5){e.origin=r,e.originPoint=gr(t.min,t.max,e.origin),e.scale=Ea(n)/Ea(t),(kw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gr(n.min,n.max,e.origin)-e.originPoint,(kw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uf(e,t,n,r){hE(e.x,t.x,n.x,r?r.originX:void 0),hE(e.y,t.y,n.y,r?r.originY:void 0)}function pE(e,t,n){e.min=n.min+t.min,e.max=e.min+Ea(t)}function Ihe(e,t,n){pE(e.x,t.x,n.x),pE(e.y,t.y,n.y)}function gE(e,t,n){e.min=t.min-n.min,e.max=e.min+Ea(t)}function df(e,t,n){gE(e.x,t.x,n.x),gE(e.y,t.y,n.y)}function _he(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gr(n,e,r.max):Math.min(e,n)),e}function xE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Lhe(e,{top:t,left:n,bottom:r,right:i}){return{x:xE(e.x,n,i),y:xE(e.y,t,r)}}function vE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function $he(e,t){return{x:vE(e.x,t.x),y:vE(e.y,t.y)}}function Fhe(e,t){let n=.5;const r=Ea(e),i=Ea(t);return i>r?n=nm(t.min,t.max-r,e.min):r>i&&(n=nm(e.min,e.max-i,t.min)),fl(0,1,n)}function Rhe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sw=.35;function Bhe(e=Sw){return e===!1?e=0:e===!0&&(e=Sw),{x:yE(e,"left","right"),y:yE(e,"top","bottom")}}function yE(e,t,n){return{min:bE(e,t),max:bE(e,n)}}function bE(e,t){return typeof e=="number"?e:e[t]||0}const wE=()=>({translate:0,scale:1,origin:0,originPoint:0}),yu=()=>({x:wE(),y:wE()}),kE=()=>({min:0,max:0}),Lr=()=>({x:kE(),y:kE()});function Ba(e){return[e("x"),e("y")]}function DF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zhe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Uhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ay(e){return e===void 0||e===1}function Nw({scale:e,scaleX:t,scaleY:n}){return!ay(e)||!ay(t)||!ay(n)}function Vl(e){return Nw(e)||MF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function MF(e){return SE(e.x)||SE(e.y)}function SE(e){return e&&e!=="0%"}function Xg(e,t,n){const r=e-n,i=t*r;return n+i}function NE(e,t,n,r,i){return i!==void 0&&(e=Xg(e,i,r)),Xg(e,n,r)+t}function Cw(e,t=0,n=1,r,i){e.min=NE(e.min,t,n,r,i),e.max=NE(e.max,t,n,r,i)}function OF(e,{x:t,y:n}){Cw(e.x,t.translate,t.scale,t.originPoint),Cw(e.y,n.translate,n.scale,n.originPoint)}function Vhe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,OF(e,s)),r&&Vl(a.latestValues)&&bu(e,a.latestValues))}t.x=CE(t.x),t.y=CE(t.y)}function CE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function jE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=gr(e.min,e.max,a);Cw(e,t[n],t[r],s,t.scale)}const Whe=["x","scaleX","originX"],Hhe=["y","scaleY","originY"];function bu(e,t){jE(e.x,t,Whe),jE(e.y,t,Hhe)}function IF(e,t){return DF(Uhe(e.getBoundingClientRect(),t))}function qhe(e,t,n){const r=IF(e,n),{scroll:i}=t;return i&&(Vo(r.x,i.offset.x),Vo(r.y,i.offset.y)),r}const _F=({current:e})=>e?e.ownerDocument.defaultView:null,Khe=new WeakMap;class Ghe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ax(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=G$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ba(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Rs.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=Ea(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&or.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Yhe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ba(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new TF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_F(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&or.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Wh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=_he(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Lhe(i.layoutBox,n):this.constraints=!1,this.elastic=Bhe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ba(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Rhe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=qhe(r,i.root,this.visualElement.getTransformPagePoint());let s=$he(i.layout.layoutBox,a);if(n){const o=n(zhe(s));this.hasMutatedConstraints=!!o,o&&(s=DF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ba(d=>{if(!Wh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vN(t,r,0,n))}stopAnimation(){Ba(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ba(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ba(n=>{const{drag:r}=this.getProps();if(!Wh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-gr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ba(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Fhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ba(s=>{if(!Wh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(gr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Khe.set(this.visualElement,this);const t=this.visualElement.current,n=co(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ao(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ba(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Sw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Wh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Yhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Xhe extends kl{constructor(t){super(t),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new Ghe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}unmount(){this.removeGroupControls(),this.removeListeners()}}const AE=e=>(t,n)=>{e&&or.update(()=>e(t,n))};class Qhe extends kl{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(t){this.session=new TF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_F(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AE(t),onStart:AE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&or.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=co(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Zhe(){const e=v.useContext(tN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $d={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ht.test(e))e=parseFloat(e);else return e;const n=PE(e,t.target.x),r=PE(e,t.target.y);return`${n}% ${r}%`}},Jhe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ml.parse(e);if(i.length>5)return r;const a=ml.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=gr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class epe extends Zg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;sfe(tpe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||or.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LF(e){const[t,n]=Zhe(),r=v.useContext(D$);return Zg.createElement(epe,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(M$),isPresent:t,safeToRemove:n})}const tpe={borderRadius:{...$d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$d,borderTopRightRadius:$d,borderBottomLeftRadius:$d,borderBottomRightRadius:$d,boxShadow:Jhe},$F=["TopLeft","TopRight","BottomLeft","BottomRight"],npe=$F.length,TE=e=>typeof e=="string"?parseFloat(e):e,EE=e=>typeof e=="number"||Ht.test(e);function rpe(e,t,n,r,i,a){i?(e.opacity=gr(0,n.opacity!==void 0?n.opacity:1,ipe(r)),e.opacityExit=gr(t.opacity!==void 0?t.opacity:1,0,ape(r))):a&&(e.opacity=gr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<npe;s++){const o=`border${$F[s]}Radius`;let l=DE(t,o),c=DE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||EE(l)===EE(c)?(e[o]=Math.max(gr(TE(l),TE(c),r),0),(Rs.test(c)||Rs.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=gr(t.rotate||0,n.rotate||0,r))}function DE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ipe=FF(0,.5,sF),ape=FF(.5,.95,Or);function FF(e,t,n){return r=>r<e?0:r>t?1:n(nm(e,t,r))}function ME(e,t){e.min=t.min,e.max=t.max}function $a(e,t){ME(e.x,t.x),ME(e.y,t.y)}function OE(e,t,n,r,i){return e-=t,e=Xg(e,1/n,r),i!==void 0&&(e=Xg(e,1/i,r)),e}function spe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Rs.test(t)&&(t=parseFloat(t),t=gr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=gr(a.min,a.max,r);e===a&&(o-=t),e.min=OE(e.min,t,n,o,i),e.max=OE(e.max,t,n,o,i)}function IE(e,t,[n,r,i],a,s){spe(e,t[n],t[r],t[i],t.scale,a,s)}const ope=["x","scaleX","originX"],lpe=["y","scaleY","originY"];function _E(e,t,n,r){IE(e.x,t,ope,n?n.x:void 0,r?r.x:void 0),IE(e.y,t,lpe,n?n.y:void 0,r?r.y:void 0)}function LE(e){return e.translate===0&&e.scale===1}function RF(e){return LE(e.x)&&LE(e.y)}function cpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function BF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function $E(e){return Ea(e.x)/Ea(e.y)}class upe{constructor(){this.members=[]}add(t){yN(this.members,t),t.scheduleRender()}remove(t){if(bN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const dpe=(e,t)=>e.depth-t.depth;class fpe{constructor(){this.children=[],this.isDirty=!1}add(t){yN(this.children,t),this.isDirty=!0}remove(t){bN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dpe),this.isDirty=!1,this.children.forEach(t)}}function mpe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ko(r),e(a-t))};return or.read(r,!0),()=>ko(r)}function hpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function ppe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function gpe(e,t,n){const r=oa(e)?e:Xu(e);return r.start(vN("",r,t,n)),r.animation}const RE=["","X","Y","Z"],xpe={visibility:"hidden"},BE=1e3;let vpe=0;const Wl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function zF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=vpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wl.totalNodes=Wl.resolvedTargetDeltas=Wl.recalculatedProjection=0,this.nodes.forEach(wpe),this.nodes.forEach(jpe),this.nodes.forEach(Ape),this.nodes.forEach(kpe),hpe(Wl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fpe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new wN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ppe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=mpe(h,250),pp.hasAnimatedSinceResize&&(pp.hasAnimatedSinceResize=!1,this.nodes.forEach(UE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Mpe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!BF(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const k={...xN(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||UE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ppe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zE);return}this.isUpdating||this.nodes.forEach(Npe),this.isUpdating=!1,this.nodes.forEach(Cpe),this.nodes.forEach(ype),this.nodes.forEach(bpe),this.clearAllSnapshots();const o=performance.now();wi.delta=fl(0,1e3/60,o-wi.timestamp),wi.timestamp=o,wi.isProcessing=!0,Yv.update.process(wi),Yv.preRender.process(wi),Yv.render.process(wi),wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Spe),this.sharedNodes.forEach(Tpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!RF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Vl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ope(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Lr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Vo(o.x,l.offset.x),Vo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Lr();$a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){$a(o,s);const{scroll:h}=this.root;h&&(Vo(o.x,-h.offset.x),Vo(o.y,-h.offset.y))}Vo(o.x,d.offset.x),Vo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Lr();$a(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&bu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Vl(d.latestValues)&&bu(l,d.latestValues)}return Vl(this.latestValues)&&bu(l,this.latestValues),l}removeTransform(s){const o=Lr();$a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Vl(c.latestValues))continue;Nw(c.latestValues)&&c.updateSnapshot();const d=Lr(),f=c.measurePageBox();$a(d,f),_E(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Vl(this.latestValues)&&_E(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=wi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),df(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),$a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lr(),this.targetWithTransforms=Lr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ihe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$a(this.target,this.layout.layoutBox),OF(this.target,this.targetDelta)):$a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),df(this.relativeTargetOrigin,this.target,m.target),$a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nw(this.parent.latestValues)||MF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;$a(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Vhe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=yu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yu(),this.projectionDeltaWithTransform=yu());const g=this.projectionTransform;uf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=FE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Wl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Lr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(Dpe));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const C=k/1e3;VE(f.x,s.x,C),VE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(df(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Epe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&cpe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Lr()),$a(w,this.relativeTarget)),g&&(this.animationValues=d,rpe(d,c,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=or.update(()=>{pp.hasAnimatedSinceResize=!0,this.currentAnimation=gpe(0,BE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&UF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Lr();const f=Ea(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ea(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}$a(o,l),bu(o,d),uf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new upe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<RE.length;d++){const f="rotate"+RE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=hp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=hp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=FE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Vg){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=Vg[g],b=c.transform==="none"?h[g]:y(h[g],f);if(x){const w=x.length;for(let k=0;k<w;k++)c[x[k]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?hp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(zE),this.root.sharedNodes.clear()}}}function ype(e){e.updateLayout()}function bpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Ba(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ea(h);h.min=r[f].min,h.max=h.min+m}):UF(a,n.layoutBox,r)&&Ba(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ea(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=yu();uf(o,r,n.layoutBox);const l=yu();s?uf(l,e.applyTransform(i,!0),n.measuredBox):uf(l,r,n.layoutBox);const c=!RF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Lr();df(p,n.layoutBox,h.layoutBox);const g=Lr();df(g,r,m.layoutBox),BF(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function wpe(e){Wl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Spe(e){e.clearSnapshot()}function zE(e){e.clearMeasurements()}function Npe(e){e.isLayoutDirty=!1}function Cpe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jpe(e){e.resolveTargetDelta()}function Ape(e){e.calcProjection()}function Ppe(e){e.resetRotation()}function Tpe(e){e.removeLeadSnapshot()}function VE(e,t,n){e.translate=gr(t.translate,0,n),e.scale=gr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WE(e,t,n,r){e.min=gr(t.min,n.min,r),e.max=gr(t.max,n.max,r)}function Epe(e,t,n,r){WE(e.x,t.x,n.x,r),WE(e.y,t.y,n.y,r)}function Dpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mpe={duration:.45,ease:[.4,0,.1,1]},HE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),qE=HE("applewebkit/")&&!HE("chrome/")?Math.round:Or;function KE(e){e.min=qE(e.min),e.max=qE(e.max)}function Ope(e){KE(e.x),KE(e.y)}function UF(e,t,n){return e==="position"||e==="preserve-aspect"&&!kw($E(t),$E(n),.2)}const Ipe=zF({attachResizeListener:(e,t)=>ao(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sy={current:void 0},VF=zF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sy.current){const e=new Ipe({});e.mount(window),e.setOptions({layoutScroll:!0}),sy.current=e}return sy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_pe={pan:{Feature:Qhe},drag:{Feature:Xhe,ProjectionNode:VF,MeasureLayout:LF}},Lpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $pe(e){const t=Lpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function jw(e,t,n=1){const[r,i]=$pe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return CF(s)?parseFloat(s):s}else return pw(i)?jw(i,t,n+1):i}function Fpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!pw(a))return;const s=jw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!pw(a))continue;const s=jw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Rpe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),WF=e=>Rpe.has(e),Bpe=e=>Object.keys(e).some(WF),GE=e=>e===Dc||e===Ht,YE=(e,t)=>parseFloat(e.split(", ")[t]),XE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return YE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?YE(a[1],e):0}},zpe=new Set(["x","y","z"]),Upe=Um.filter(e=>!zpe.has(e));function Vpe(e){const t=[];return Upe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Qu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:XE(4,13),y:XE(5,14)};Qu.translateX=Qu.x;Qu.translateY=Qu.y;const Wpe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Qu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Qu[c](l,a)}),e},Hpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(WF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Ld(d);const h=t[l];let m;if(Hg(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=Ld(d);for(let y=g;y<p&&h[y]!==null;y++)m?fN(Ld(h[y])===m):m=Ld(h[y])}else m=Ld(h);if(f!==m)if(GE(f)&&GE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Ht&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=Vpe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Wpe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Sx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function qpe(e,t,n,r){return Bpe(t)?Hpe(e,t,n,r):{target:t,transitionEnd:r}}const Kpe=(e,t,n,r)=>{const i=Fpe(e,t,r);return t=i.target,r=i.transitionEnd,qpe(e,t,n,r)},Aw={current:null},HF={current:!1};function Gpe(){if(HF.current=!0,!!Sx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Aw.current=e.matches;e.addListener(t),t()}else Aw.current=!1}function Ype(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(oa(a))e.addValue(i,a),Yg(r)&&r.add(i);else if(oa(s))e.addValue(i,Xu(a,{owner:e})),Yg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Xu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const QE=new WeakMap,qF=Object.keys(tm),Xpe=qF.length,ZE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Qpe=iN.length;class Zpe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>or.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Cx(n),this.isVariantNode=E$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&oa(h)&&(h.set(o[f],!1),Yg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,QE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),HF.current||Gpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Aw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QE.delete(this.current),this.projection&&this.projection.unmount(),ko(this.notifyUpdate),ko(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ec.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&or.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Xpe;l++){const c=qF[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=tm[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&xu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZE.length;r++){const i=ZE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Ype(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Qpe;r++){const i=iN[r],a=this.props[i];(em(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Xu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=dN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!oa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class KF extends Zpe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=phe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){mhe(this,r,s);const o=Kpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Jpe(e){return window.getComputedStyle(e)}class ege extends KF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ec.has(n)){const r=gN(n);return r&&r.default||0}else{const r=Jpe(t),i=(_$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return IF(t,n)}build(t,n,r,i){sN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return uN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;oa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){z$(t,n,r,i)}}class tge extends KF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ec.has(n)){const r=gN(n);return r&&r.default||0}return n=U$.has(n)?n:nN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Lr()}scrapeMotionValuesFromProps(t,n){return W$(t,n)}build(t,n,r,i){lN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){V$(t,n,r,i)}mount(t){this.isSVGTag=cN(t.tagName),super.mount(t)}}const nge=(e,t)=>aN(e)?new tge(t,{enableHardwareAcceleration:!1}):new ege(t,{enableHardwareAcceleration:!0}),rge={layout:{ProjectionNode:VF,MeasureLayout:LF}},ige={...Ehe,...Xfe,..._pe,...rge},Es=ife((e,t)=>$fe(e,t,ige,nge));function age({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(x)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),u.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${b}-${x.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(qi,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,b)=>{const w=x.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const $l="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",oy="arcbridge_web_theme_override",JE="__default__",sge=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},oge=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},lge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},eD=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},cge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},tD=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),uge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},dge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function fge(){var Fc;const[e,t]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(null),[h,m]=v.useState(null),[p,g]=v.useState(!1),[y,x]=v.useState(!1),[b,w]=v.useState("classic"),[k,C]=v.useState("classic"),[N,j]=v.useState(dp.id),[E,L]=v.useState(null),[P,M]=v.useState(!1),[O,Z]=v.useState(!1),[ee,ae]=v.useState(""),[ue,Q]=v.useState(""),[G,_]=v.useState([]),[T,A]=v.useState(!1),[te,S]=v.useState("overview"),[z,W]=v.useState("kdr"),[J,q]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),re=v.useRef(null),$=v.useRef(null),V=v.useRef(null),le=v.useRef(null),ie=v.useRef(null),F=v.useRef(new Map),B=v.useRef(null),I=v.useRef(null),ne=v.useMemo(()=>{let Y=window.location.pathname||"/";const ge=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Y.endsWith("/index.html")&&(Y=Y.slice(0,-11)),Y.includes("/reports/")&&(Y=Y.replace(/\/reports\/[^/]+\/?$/,"")),ge&&(Y=Y.replace(/^\/web\/web(?=\/|$)/,"/web")),Y.endsWith("/")||(Y=`${Y}/`),Y},[]),ke=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Re=v.useMemo(()=>{const ge=[ne,"./","/"],Se=[];return ge.forEach(lt=>{let It=lt||"/";It!=="./"&&!It.endsWith("/")&&(It=`${It}/`),Se.includes(It)||Se.push(It)}),Se},[ne,ke]),[se,He]=v.useState(Re[0]||"/"),Oe=Y=>{var ge;return typeof Y=="string"||typeof Y=="number"?String(Y):Array.isArray(Y)?Y.map(Oe).join(""):Y&&typeof Y=="object"&&"props"in Y?Oe((ge=Y.props)==null?void 0:ge.children):""},wt=Y=>{const ge=tD(Y||"section")||"section",Se=F.current,lt=(Se.get(ge)??0)+1;return Se.set(ge,lt),lt===1?ge:`${ge}-${lt}`},qt=v.useMemo(()=>{const Y=Gv.split(`
`),ge=new Map,Se=[],lt=It=>{const Rt=tD(It||"section")||"section",tn=(ge.get(Rt)??0)+1;return ge.set(Rt,tn),tn===1?Rt:`${Rt}-${tn}`};for(const It of Y){const Rt=/^(#{1,3})\s+(.*)\s*$/.exec(It);if(!Rt)continue;const tn=Rt[1].length,St=Rt[2].trim();St&&Se.push({level:tn,text:St,id:lt(St)})}return Se},[Gv]),gn=(Y,ge)=>{const Se=Y==="./"?"./":Y.endsWith("/")?Y:`${Y}/`,lt=String(ge||"").replace(/^\/+/,"");return`${Se}${lt}`};v.useEffect(()=>{const Y=sge(oy);if(Y)try{const ge=JSON.parse(Y),Se=typeof(ge==null?void 0:ge.themeId)=="string"?ge.themeId:null;Se&&Od.some(lt=>lt.id===Se)&&L(Se)}catch{}},[]),v.useEffect(()=>{const Y=E||N,ge=Od.find(Se=>Se.id===Y)||dp;f(ge)},[E,N]),v.useEffect(()=>{if(!E){w(k);return}if(E===cp){w("matte");return}if(E===up||E===Hd){w("kinetic");return}if(E==="CRT"){w("crt");return}w(k)},[E,k]),v.useEffect(()=>{He(Re[0]||"/");let Y=!0;return(async()=>{for(const Se of Re)try{if((await fetch(gn(Se,"ui-theme.json"),{cache:"no-store"})).ok){Y&&He(Se);return}}catch{}})(),()=>{Y=!1}},[Re]);const Bn=(Y,ge)=>{const Se=ge.trim();if(!Se)return Y;const lt=Y.toLowerCase(),It=Se.toLowerCase(),Rt=lt.indexOf(It);if(Rt===-1)return Y;const tn=Y.slice(0,Rt),St=Y.slice(Rt,Rt+Se.length),ot=Y.slice(Rt+Se.length);return u.jsxs(u.Fragment,{children:[tn,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:St}),ot]})},xe=(Y,ge)=>{const Se=$.current;if(!Se)return;let lt=Se.querySelector(`[data-search-hit="${Y}"]`);if(!lt&&ge){const It=ge.trim().replace(/\s+/g," "),Rt=Array.from(Se.querySelectorAll("h1, h2, h3, p, li, code"));lt=Rt.find(tn=>(tn.textContent||"").trim().replace(/\s+/g," ")===It)||null,lt||(lt=Rt.find(tn=>(tn.textContent||"").toLowerCase().includes(It.toLowerCase()))||null)}lt&&requestAnimationFrame(()=>{const It=Se.getBoundingClientRect(),Rt=lt.getBoundingClientRect(),tn=Math.max(0,Se.scrollTop+(Rt.top-It.top)-12);Se.scrollTop=tn,lt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>{lt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},_e=Y=>{const ge=$.current,Se=Y.trim().toLowerCase();if(!ge||Se.length<2){_([]);return}const lt=Array.from(ge.querySelectorAll("h1, h2, h3, p, li, code"));lt.forEach(tn=>tn.removeAttribute("data-search-hit"));const It=[];let Rt=0;lt.forEach((tn,St)=>{const ot=(tn.textContent||"").trim();if(ot&&ot.toLowerCase().includes(Se)){let yn="";for(let Jr=St;Jr>=0;Jr-=1){const We=lt[Jr];if(We&&["H1","H2","H3"].includes(We.tagName)){yn=(We.textContent||"").trim();break}}tn.setAttribute("data-search-hit",String(Rt)),It.push({index:St,text:ot,section:yn||"Unlabeled Section",hitId:Rt}),Rt+=1}}),_(It.slice(0,12))};v.useEffect(()=>{var ge;if(!O)return;ae(((ge=qt[0])==null?void 0:ge.id)||"");const Y=Se=>{var It;const lt=Se.target;lt&&((It=V.current)!=null&&It.contains(lt)||(A(!1),_([])))};return window.addEventListener("mousedown",Y),()=>{window.removeEventListener("mousedown",Y)}},[O,qt]),v.useEffect(()=>{if(!O){ae("");return}const Y=$.current;if(!Y)return;let ge=0;const Se=()=>{var dn;const It=Array.from(Y.querySelectorAll("[data-heading-id]"));if(It.length===0)return;const tn=Y.getBoundingClientRect().top+18,St=It.map((_n,oi)=>({index:oi,id:_n.dataset.headingId||_n.id||"",top:_n.getBoundingClientRect().top})).filter(_n=>!!_n.id);if(St.length===0)return;let ot=0,yn=!1;for(const _n of St){if(_n.top<=tn){ot=_n.index,yn=!0;continue}yn||(ot=_n.index);break}Y.scrollTop+Y.clientHeight>=Y.scrollHeight-2&&(ot=Math.max(0,St.length-1));const We=qt[ot],_t=((dn=St[ot])==null?void 0:dn.id)||"",rn=(We==null?void 0:We.id)||_t;rn&&ae(rn)};Se();const lt=()=>{ge&&cancelAnimationFrame(ge),ge=requestAnimationFrame(Se)};return Y.addEventListener("scroll",lt,{passive:!0}),window.addEventListener("resize",lt),()=>{ge&&cancelAnimationFrame(ge),Y.removeEventListener("scroll",lt),window.removeEventListener("resize",lt)}},[O,qt]);const kt=v.useMemo(()=>[{id:"overview",label:"Overview",icon:N6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yo},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:k1},{id:"squad-composition",label:"Classes",icon:Pr},{id:"timeline",label:"Squad vs Enemy Size",icon:Pr},{id:"map-distribution",label:"Map Distribution",icon:j1}]},{id:"roster",label:"Roster Intel",icon:Tf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Tf},{id:"squad-comp-fight",label:"Squad Comp",icon:Pr},{id:"fight-comp",label:"Fight Comp",icon:Yo}]},{id:"offense",label:"Offensive Stats",icon:Yo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:w4},{id:"player-breakdown",label:"Player Breakdown",icon:C1},{id:"spike-damage",label:"Spike Damage",icon:Ef},{id:"conditions-outgoing",label:"Conditions",icon:h0}]},{id:"defense",label:"Defensive Stats",icon:Fu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Fu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Ef},{id:"defense-mitigation",label:"Damage Mitigation",icon:E1},{id:"boon-output",label:"Boon Output",icon:T1},{id:"support-detailed",label:"Support Detailed",icon:A1},{id:"healing-stats",label:"Healing Stats",icon:kO}]},{id:"other",label:"Other Metrics",icon:p0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:S1},{id:"special-buffs",label:"Special Buffs",icon:zp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:D1},{id:"skill-usage",label:"Skill Usage",icon:N1},{id:"apm-stats",label:"APM Breakdown",icon:P1}]}],[]),Zt=v.useMemo(()=>{const Y=new Map;return kt.forEach(ge=>{Y.set(ge.id.toLowerCase(),ge.id),(ge.sectionIds||[]).forEach(Se=>Y.set(String(Se).toLowerCase(),ge.id)),(ge.items||[]).forEach(Se=>Y.set(String(Se.id).toLowerCase(),ge.id))}),Y.set("report-top","overview"),Y.set("overview","overview"),Y.set("kdr","overview"),Y},[kt]),Wt=v.useMemo(()=>kt.find(Y=>Y.id===te)||kt[0],[kt,te]),Sn=b==="kinetic",Ki=v.useMemo(()=>{const ge=((Wt==null?void 0:Wt.sectionIds)||((Wt==null?void 0:Wt.items)||[]).map(Se=>Se.id)).map(Se=>Se==="kdr"?"overview":Se);return new Set(ge)},[Wt]),gi=Y=>{if(Y==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ge=Y==="kdr"?"overview":Y,Se=ge==="overview"&&Y!=="kdr"?"report-top":ge,lt=document.getElementById(Se);if(!lt||!(lt.getAttribute("data-section-visible")!=="false")||!lt.offsetParent)return!1;const Rt=lt.getBoundingClientRect();if(Rt.height<=0)return!1;let tn=0;if(Se==="stats-view-top"){const ot=document.getElementById("report-top");ot&&(tn=ot.getBoundingClientRect().height+12)}const St=Rt.top+window.scrollY-12-tn;return window.scrollTo({top:Math.max(0,St),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Se}`),!0},fa=(Y,ge=0)=>{gi(Y)||ge>=12||window.setTimeout(()=>{requestAnimationFrame(()=>fa(Y,ge+1))},40)};v.useEffect(()=>{if(!e)return;const Y=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Se=>{Se.scrollHeight})});return()=>cancelAnimationFrame(Y)},[e]),v.useEffect(()=>{const Y=B.current;if(!Y)return;let ge=0;const Se=()=>{if(gi(Y)){B.current=null;return}if(ge+=1,ge>=20){B.current=null;return}window.setTimeout(()=>requestAnimationFrame(Se),40)};requestAnimationFrame(Se)},[te]),v.useEffect(()=>{const Y=()=>{var Rt,tn;const ge=(window.location.hash||"").replace(/^#/,"").trim();if(!ge)return;let Se=ge;try{Se=decodeURIComponent(ge)}catch{Se=ge}const lt=Se.toLowerCase(),It=Zt.get(lt);if(It){if(S(It),q(()=>{const St={};return kt.forEach(ot=>{St[ot.id]=ot.id===It}),St}),lt==="report-top")W("kdr");else{const St=kt.find(ot=>ot.id.toLowerCase()===lt);W(((tn=(Rt=St==null?void 0:St.items)==null?void 0:Rt[0])==null?void 0:tn.id)||lt)}B.current=lt==="report-top"?"kdr":lt}};return Y(),window.addEventListener("hashchange",Y),()=>{window.removeEventListener("hashchange",Y)}},[Zt,kt]);const lr=b==="matte",xn=d??dp,Yt=Sn&&xn.id===Hd,Er=Sn?Yt?"142, 155, 214":"90, 80, 68":xn.rgb,vn=lr?"#d8e1eb":Sn?Yt?"#f0d8a9":"#24211d":"var(--accent)",Ei={"--accent":`rgb(${Er})`,"--accent-rgb":Er,"--accent-soft":`rgba(${Er}, ${Sn?Yt?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${Er}, ${Sn?Yt?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${Er}, ${Sn?Yt?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${Er}, ${Sn?Yt?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Er}, ${Sn?Yt?"0.08":"0.04":"0.08"})`},Ir=b==="modern"||b==="matte"||b==="kinetic",Mc=xn.pattern?lr||Sn?void 0:Ir?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${xn.pattern}`:xn.pattern:void 0,Gi=Sn?{backgroundImage:"none",backgroundColor:Yt?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Yt?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:lr?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Ir?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var tn;let Y=!0;const Se=new URLSearchParams(window.location.search).get("report")||((tn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:tn[1])||null,lt=Se?`${ne}reports/${Se}/report.json`:`${ne}report.json`;Se&&o(lt);const It=St=>{var Jr,We,_t;const ot=new Set((((Jr=St==null?void 0:St.meta)==null?void 0:Jr.commanders)||[]).map(rn=>String(rn)));if(ot.size===0)return St;const yn=St.stats;return(We=yn==null?void 0:yn.leaderboards)!=null&&We.closestToTag&&(yn.leaderboards.closestToTag=yn.leaderboards.closestToTag.map(rn=>ot.has(String(rn==null?void 0:rn.account))?{...rn,value:0}:rn)),(_t=yn==null?void 0:yn.closestToTag)!=null&&_t.player&&ot.has(String(yn.closestToTag.player))&&(yn.closestToTag={...yn.closestToTag,value:0}),St},Rt=St=>{var _t,rn,dn,_n,oi;const ot=St==null?void 0:St.stats;if(!ot||typeof ot!="object")return St;const yn=Array.isArray((_t=ot==null?void 0:ot.leaderboards)==null?void 0:_t.downContrib)?ot.leaderboards.downContrib:[];if(!yn.length)return St;const We=yn.map(jn=>({...jn,value:Number((jn==null?void 0:jn.value)??0)})).filter(jn=>Number.isFinite(jn.value)).sort((jn,xi)=>xi.value-jn.value||String((jn==null?void 0:jn.account)||"").localeCompare(String((xi==null?void 0:xi.account)||"")))[0];return We&&(ot.maxDownContrib={...ot.maxDownContrib||{},value:Number(We.value||0),player:String(We.account||((rn=ot.maxDownContrib)==null?void 0:rn.player)||"-"),count:Number(We.count||((dn=ot.maxDownContrib)==null?void 0:dn.count)||0),profession:String(We.profession||((_n=ot.maxDownContrib)==null?void 0:_n.profession)||"Unknown"),professionList:Array.isArray(We.professionList)?We.professionList:((oi=ot.maxDownContrib)==null?void 0:oi.professionList)||[]}),St};return fetch(lt,{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{var Jr,We,_t,rn,dn;if(!Y)return;const ot=Rt(It(St));t(ot);const yn=(Jr=ot==null?void 0:ot.stats)==null?void 0:Jr.uiTheme;yn==="modern"||yn==="classic"||yn==="crt"||yn==="matte"||yn==="kinetic"?C(yn):((We=ot==null?void 0:ot.stats)==null?void 0:We.webThemeId)===cp?C("matte"):(((_t=ot==null?void 0:ot.stats)==null?void 0:_t.webThemeId)===up||((rn=ot==null?void 0:ot.stats)==null?void 0:rn.webThemeId)===Hd)&&C("kinetic"),typeof((dn=ot==null?void 0:ot.stats)==null?void 0:dn.webThemeId)=="string"&&ot.stats.webThemeId&&j(ot.stats.webThemeId)}).catch(()=>{if(Se){if(!Y)return;a("Report not found yet. It may still be deploying.")}fetch(`${ne}reports/index.json`,{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{Y&&r(Array.isArray(St)?St:[])}).catch(()=>{Y&&a("No report data found.")})}),()=>{Y=!1}},[ne]),v.useEffect(()=>{if(e){const Y=e.meta.dateLabel||eD(e.meta.dateStart,e.meta.dateEnd);document.title=Y?`ArcBridge  ${e.meta.title}  ${Y}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),v.useEffect(()=>{var ge;const Y=(ge=e==null?void 0:e.stats)==null?void 0:ge.webThemeId;typeof Y=="string"&&Y&&j(Y)},[e]),v.useEffect(()=>{const Y=document.body;Y.classList.add("web-report"),Y.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark"),lr?Y.classList.add("theme-matte"):b==="modern"?Y.classList.add("theme-modern"):b==="crt"?Y.classList.add("theme-crt"):b==="kinetic"?(Y.classList.add("theme-kinetic"),Yt&&Y.classList.add("theme-kinetic-dark")):Y.classList.add("theme-classic")},[b,lr,Yt]),v.useEffect(()=>{var ge;if(ke&&((ge=e==null?void 0:e.stats)!=null&&ge.webThemeId))return;let Y=!0;return fetch(gn(se,"theme.json"),{cache:"no-store"}).then(Se=>Se.ok?Se.json():Promise.reject()).then(Se=>{Y&&typeof(Se==null?void 0:Se.id)=="string"&&Se.id&&j(Se.id)}).catch(()=>{}),()=>{Y=!1}},[se,ke,e]),v.useEffect(()=>{var Rt,tn;const Y=(Rt=e==null?void 0:e.stats)==null?void 0:Rt.webThemeId,ge=(tn=e==null?void 0:e.stats)==null?void 0:tn.uiTheme;if((ge==="modern"||ge==="classic"||ge==="crt"||ge==="matte"||ge==="kinetic")&&!(Y===cp&&ge!=="matte"||(Y===up||Y===Hd)&&ge!=="kinetic"||Y==="CRT"&&ge!=="crt"))return;let It=!0;return fetch(gn(se,"ui-theme.json"),{cache:"no-store"}).then(St=>St.ok?St.json():Promise.reject()).then(St=>{if(!It)return;const ot=St==null?void 0:St.theme;(ot==="modern"||ot==="classic"||ot==="crt"||ot==="matte"||ot==="kinetic")&&C(ot)}).catch(()=>{}),()=>{It=!1}},[se,e]),v.useEffect(()=>{let Y=!0;return fetch(gn(se,"logo.json"),{cache:"no-store"}).then(ge=>ge.ok?ge.json():Promise.reject()).then(ge=>{if(!Y)return;const Se="svg/ArcBridge.svg",lt=ge!=null&&ge.path?String(ge.path):Se,It=ge!=null&&ge.updatedAt?String(ge.updatedAt):"",Rt=gn(se,lt),tn=It?`${Rt}?v=${encodeURIComponent(It)}`:Rt;m(tn),g(!(ge!=null&&ge.path)||lt===Se)}).catch(()=>{Y&&(m(null),g(!1))}),()=>{Y=!1}},[se]);const ma=v.useMemo(()=>n?[...n].sort((Y,ge)=>{const Se=new Date(Y.dateEnd||Y.dateStart).getTime();return new Date(ge.dateEnd||ge.dateStart).getTime()-Se}):[],[n]),Cs=v.useMemo(()=>{if(!ma.length)return[];const Y=l.trim().toLowerCase();return Y?ma.filter(ge=>{var It;const Se=((It=ge.commanders)==null?void 0:It.join(" "))||"";return`${ge.title} ${Se} ${ge.dateLabel}`.toLowerCase().includes(Y)}):ma},[ma,l]),Oc=Y=>{if(!Y){lge(oy);return}oge(oy,JSON.stringify({themeId:Y}))},Sl=Y=>{const ge=Y===JE?null:Y;ge&&!Od.some(Se=>Se.id===ge)||(L(ge),Oc(ge),M(!1))};v.useEffect(()=>{const Y=Se=>{le.current&&(le.current.contains(Se.target)||M(!1))},ge=Se=>{Se.key==="Escape"&&M(!1)};return window.addEventListener("mousedown",Y),window.addEventListener("keydown",ge),()=>{window.removeEventListener("mousedown",Y),window.removeEventListener("keydown",ge)}},[]),v.useEffect(()=>()=>{I.current!==null&&(cancelAnimationFrame(I.current),I.current=null)},[]);const Ic=v.useMemo(()=>{if(!E)return"Default";const Y=Od.find(ge=>ge.id===E);return(Y==null?void 0:Y.label)||"Default"},[E]),_c=u.jsxs("div",{className:"relative flex items-center gap-2",ref:le,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>M(Y=>!Y),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Ic}),u.jsx("span",{className:`transition-transform ${P?"rotate-180":""}`,children:""})]}),P&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Sl(JE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Od.map(Y=>u.jsx("button",{type:"button",onClick:()=>Sl(Y.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${E===Y.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Y.label},Y.id))]})]}),Lc=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:_c}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:Y=>{Y.preventDefault(),Z(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),$c=u.jsxs(age,{isOpen:O,onClose:()=>Z(!1),searchValue:ue,searchFocused:T,searchResults:G,onSearchChange:Y=>{Q(Y),requestAnimationFrame(()=>_e(Y))},onSearchFocus:()=>{A(!0),requestAnimationFrame(()=>_e(ue))},onSearchBlur:Y=>{var ge;Y&&((ge=V.current)!=null&&ge.contains(Y))||A(!1)},onSearchEnter:()=>{G.length>0&&xe(G[0].hitId,G[0].text)},onSearchResultMouseDown:Y=>{A(!0),xe(Y.hitId,Y.text)},renderHighlightedMatch:Bn,searchRef:V,tocItems:qt,activeTocId:ee,onTocClick:Y=>{const ge=$.current;if(!ge)return;let Se=ge.querySelector(`[data-heading-id="${Y.id}"]`);if(!Se){const lt=Y.text.trim().replace(/\s+/g," ");Se=Array.from(ge.querySelectorAll("h1, h2, h3")).find(Rt=>(Rt.textContent||"").trim().replace(/\s+/g," ")===lt)||null}Se&&(ae(Y.id),requestAnimationFrame(()=>{const lt=ge.getBoundingClientRect(),It=Se.getBoundingClientRect(),Rt=ge.scrollTop+(It.top-lt.top)-12;ge.scrollTop=Math.max(0,Rt)}))},contentRef:$,children:[(F.current=new Map,null),u.jsx(Ice,{remarkPlugins:[Kde],components:{h1:({children:Y})=>{const ge=Oe(Y),Se=wt(ge);return u.jsx("h1",{id:Se,"data-heading-id":Se,className:"text-2xl font-bold text-white scroll-mt-6",children:Y})},h2:({children:Y})=>{const ge=Oe(Y),Se=wt(ge);return u.jsx("h2",{id:Se,"data-heading-id":Se,className:"text-xl font-semibold text-white scroll-mt-6",children:Y})},h3:({children:Y})=>{const ge=Oe(Y),Se=wt(ge);return u.jsx("h3",{id:Se,"data-heading-id":Se,className:"text-lg font-semibold text-white scroll-mt-6",children:Y})},p:({children:Y})=>u.jsx("p",{className:"leading-6 text-gray-200",children:Y}),ul:({children:Y})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Y}),ol:({children:Y})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Y}),li:({children:Y})=>u.jsx("li",{className:"leading-6",children:Y}),blockquote:({children:Y})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Y}),a:({href:Y,children:ge})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Y,target:"_blank",rel:"noreferrer",children:ge}),table:({children:Y})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Y})}),th:({children:Y})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Y}),td:({children:Y})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Y}),pre:({children:Y})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Y}),code:Y=>{const{inline:ge,children:Se}=Y;return ge===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Se}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Se})}},children:Gv})]});if(e){const Y=gn(se,"svg/ArcBridge.svg"),ge=()=>{I.current!==null&&(cancelAnimationFrame(I.current),I.current=null);const We=window.scrollY||window.pageYOffset||0;if(We<=1){window.scrollTo({top:0,behavior:"auto"});return}const _t=320,rn=performance.now(),dn=_n=>{const oi=_n-rn,jn=Math.min(1,oi/_t),xi=1-Math.pow(1-jn,3),Nl=Math.max(0,Math.round(We*(1-xi)));window.scrollTo({top:Nl,behavior:"auto"}),jn<1?I.current=requestAnimationFrame(dn):(I.current=null,window.scrollTo({top:0,behavior:"auto"}))};I.current=requestAnimationFrame(dn)},Se=We=>{q(()=>{const _t={};return kt.forEach(rn=>{_t[rn.id]=rn.id===We}),_t})},lt=We=>{var rn,dn;B.current=null,S(We);const _t=kt.find(_n=>_n.id===We);W(((dn=(rn=_t==null?void 0:_t.items)==null?void 0:rn[0])==null?void 0:dn.id)||"kdr"),ge()},It=We=>{if(!!!J[We]){Se(We),lt(We);return}if(We!==te){lt(We);return}q(rn=>({...rn,[We]:!1}))},Rt=(We,_t)=>{J[We]||Se(We),W(_t);const rn=We===te;rn||(B.current=_t,S(We),requestAnimationFrame(()=>fa(_t))),rn&&requestAnimationFrame(()=>fa(_t))},tn=We=>{const _t=We.currentTarget;if(!(_t.scrollHeight>_t.clientHeight)){window.scrollBy({top:We.deltaY,behavior:"auto"}),We.preventDefault();return}const dn=_t.scrollTop<=0,_n=_t.scrollTop+_t.clientHeight>=_t.scrollHeight-1;(dn&&We.deltaY<0||_n&&We.deltaY>0)&&(window.scrollBy({top:We.deltaY,behavior:"auto"}),We.preventDefault())},St=We=>{const _t=re.current;if(!_t)return;const rn=We.target;if(!rn||!_t.contains(rn))return;let dn=rn;for(;dn&&dn!==_t;){const oi=window.getComputedStyle(dn).overflowY;if((oi==="auto"||oi==="scroll")&&dn.scrollHeight>dn.clientHeight+1){const xi=dn.scrollTop<=0,Nl=dn.scrollTop+dn.clientHeight>=dn.scrollHeight-1;(We.deltaY<0&&xi||We.deltaY>0&&Nl)&&(window.scrollBy({top:We.deltaY,behavior:"auto"}),We.preventDefault());return}dn=dn.parentElement}},ot=We=>{const _t=Math.max(0,6-We);return{accordionDuration:.5+_t*.07,itemDuration:.34+_t*.035,stagger:.05+_t*.01,delayChildren:.06+_t*.015}},yn=We=>{const _t=ot(We);return{open:{transition:{staggerChildren:_t.stagger,delayChildren:_t.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,_t.stagger*.7),staggerDirection:-1}}}},Jr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:lr?"var(--bg-base)":Sn?Yt?"#2b3048":"#d8d1c5":Ir?"#0f141c":"#0f172a",backgroundImage:lr?"none":Mc,...Ei},children:[!lr&&!Sn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>x(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:tn,children:kt.map(We=>{const _t=We.icon,rn=We.id===te,dn=!!J[We.id],_n=ot(We.items.length),oi=yn(We.items.length);return u.jsxs(Es.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>It(We.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${rn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(_t,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:We.label}),u.jsx(Es.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:dn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(tb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Es.div,{initial:!1,animate:dn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:_n.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Es.div,{variants:oi,initial:!1,animate:dn?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:We.items.map(jn=>{const xi=jn.icon;return u.jsxs(Es.button,{variants:Jr,transition:{duration:_n.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Rt(We.id,jn.id),x(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${z===jn.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),jn.label]},jn.id)})})},`${We.id}-submenu-mobile`)]},We.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:vn,maskImage:`url(${Y})`,WebkitMaskImage:`url(${Y})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:tn,children:kt.map(We=>{const _t=We.icon,rn=We.id===te,dn=!!J[We.id],_n=ot(We.items.length),oi=yn(We.items.length);return u.jsxs(Es.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>It(We.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${rn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(_t,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:We.label}),u.jsx(Es.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:dn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(tb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Es.div,{initial:!1,animate:dn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:_n.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Es.div,{variants:oi,initial:!1,animate:dn?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:We.items.map(jn=>{const xi=jn.icon;return u.jsxs(Es.button,{variants:Jr,transition:{duration:_n.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Rt(We.id,jn.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${z===jn.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),jn.label]},jn.id)})})},`${We.id}-submenu-desktop`)]},We.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${$l} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Gi,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:vn,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||eD(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>x(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(tC,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(p6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Pr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(SO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Wt==null?void 0:Wt.items)||[]).map(We=>{const _t=We.icon;return u.jsxs("button",{onClick:()=>Rt((Wt==null?void 0:Wt.id)||"overview",We.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${z===We.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(_t,{className:"w-3 h-3 text-[color:var(--accent)]"})}),We.label]},`chip-${We.id}`)})})]}),u.jsx("div",{ref:re,onWheelCapture:St,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Yie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(Fc=e.stats)==null?void 0:Fc.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:We=>Ki.has(We),dashboardTitle:`Statistics Dashboard - ${(Wt==null?void 0:Wt.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Lc})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(bO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(tC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(h6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),$c]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:lr?"var(--bg-base)":Sn?Yt?"#2b3048":"#d8d1c5":Ir?"#0f141c":"#0f172a",backgroundImage:lr?"none":Mc,...Ei},children:[!lr&&!Sn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${$l} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Gi,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:vn,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Cs.length," Reports"]})})]}),u.jsxs("div",{className:`${$l} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Gi,children:[u.jsx("input",{type:"search",value:l,onChange:Y=>c(Y.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Cs.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:ma.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Gi,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:Gi,children:"Loading reports..."}),Cs.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Cs.map(Y=>{var ge,Se,lt,It;return u.jsx("a",{href:Y.url,className:`${$l} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Gi,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Y.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:cge(Y.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Pr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:Y.commanders.length?Y.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ge=Y.summary)!=null&&ge.mapSlices&&Y.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(uge,{slices:Y.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(dge,{value:(Se=Y.summary)==null?void 0:Se.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((lt=Y.summary)==null?void 0:lt.avgSquadSize)??"--"," / ",((It=Y.summary)==null?void 0:It.avgEnemySize)??"--"]})]}),u.jsx(b6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Y.id)})}),!i&&n&&ma.length===0&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:Gi,children:"No reports uploaded yet."}),!i&&n&&ma.length>0&&Cs.length===0&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:Gi,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Lc})]}),$c]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");ly.createRoot(document.getElementById("root")).render(u.jsx(Zg.StrictMode,{children:u.jsx(fge,{})}));
